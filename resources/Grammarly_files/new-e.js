(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{"+0Hp":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("t5lx"),l=n("B8yO"),u=n("tiWp"),d=n("OwvP"),p=n("+vYo"),m=n("NDcT"),f=n("fC5a"),h=n("ySi0"),g=n("f82Z"),b=n("xk6L"),v=n("4qtA"),y=n("mgiE"),O=n("hwDs"),_=(n("iLna"),n("5KSR")),C=function(e){var t=e.reportViewModel,n=e.state;return l.createElement(d.a.Fragment,null,Object(u.pipe)(t,y.g.map((function(e){return n.pipe(b.a.map((function(t){return l.createElement(w,{key:"downloadPdfReportButton",statsLoadingState:t.type,reportViewModel:e})})))})),y.g.toNullable))},w=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.apply(this,arguments),Object(o._)(Object(r.a)(e),"context",void 0),Object(o._)(Object(r.a)(e),"_loadingState",p.a.create(e.props.statsLoadingState)),Object(o._)(Object(r.a)(e),"_buttonState",p.a.combine(e.props.reportViewModel.downloadStarted,e._loadingState,(function(t,n){return e._getButtonState(t,n)}))),e}return Object(a.a)(n,[{key:"_getButtonState",value:function(e,t){var n=this.context.performance;return e?{disabled:!0,className:_.preparingForReportLabel,children:l.createElement("span",{key:"stats-load-container",className:_.loaderContainer},n.report.preparingPdfReport,l.createElement(g.a,{size:20,variation:"gray",wrapperClassName:_.downloadPdfSpinner}),l.createElement(O.a,{reportViewModel:this.props.reportViewModel}))}:Object.assign({className:_.downloadPdfReportButton,children:l.createElement("span",{key:"download-button"},l.createElement(h.d.Download,{className:_.downloadIcon}),n.report.downloadPdfReport)},t===v.a.State.Type.READY?{disabled:!1}:{disabled:!0,title:t===v.a.State.Type.SHORT_CONTENT?n.notEnoughTextToGenerateReport:void 0})}},{key:"componentWillUnmount",value:function(){this.props.reportViewModel.tryToInterrupt()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){var t=e.statsLoadingState;this._loadingState.set(t)}},{key:"render",value:function(){return l.createElement(f.a.Caps,{name:"download-pdf-report",title:this._buttonState.view("title"),className:this._buttonState.view("className"),disabled:this._buttonState.view("disabled"),onClick:this.props.reportViewModel.beginDownload},this._buttonState.view("children"))}}]),n}(l.Component);Object(o._)(w,"contextType",m.a.Context)},"+8xi":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Wy1Y"),i=n("4mQT"),a=n("t5lx"),o=n("M5RY"),s=n("RRF2"),c=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,i){Object(r.a)(this,n);var a=t.call(this,e,i);if(e.root.setAttribute("spellcheck","false"),i.classes){var o=e.container.className,c=e.root.className;i.classes.subscribe((function(t){e.root.className=s.c.classes(t.editor,c),e.container.className=s.c.classes(t.containerClass,o)}))}return a}return n}(o.import("core/theme"))},"+JBM":function(e){e.exports=JSON.parse('{"proofitIconBig":"_03fdb9e1-proofit_promo-proofitIconBig","getStartedBtn":"_b6d6869e-proofit_promo-getStartedBtn","closeBtn":"_06064faa-proofit_promo-closeBtn"}')},"+Zdc":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r={};n.r(r),n.d(r,"FloatingContainer",(function(){return v})),n.d(r,"CardBase",(function(){return y})),n.d(r,"fromNode",(function(){return O})),n.d(r,"cardTransition",(function(){return I}));var i={};n.r(i),n.d(i,"create",(function(){return F}));var a=n("8O/t"),o=n("X76w"),s=n("B8yO"),c=n("OwvP"),l=n("4GyQ"),u=n("mgiE"),d=n("111I"),p=n("2swC"),m=n("nWMp"),f=n("PltQ"),h=n("NbNH"),g=n("xk6L"),b=n("PYgo");const v=d.b.Grid.make(({view:e,notify:t,slots:n})=>s.createElement(c.a.div,Object(o._)(Object(a._)({tabIndex:-1,"data-name":"inline-card",mount:e=>t({type:b.b.Type.mounted,element:u.g.fromNullable(e)})(),style:e("position")},Object(l.c)(A.container,e("direction").pipe(g.a.map(e=>e===b.a.Direction.Up&&A.directionUp)))),{onMouseEnter:t({type:b.b.Type.hovered}),onMouseLeave:t({type:b.b.Type.unhovered})}),n.body)),y=d.b.Grid.make(({slots:e})=>s.createElement("div",{tabIndex:-1,"data-name":"inline-card",className:A.card},e.card)),O=e=>d.b.Animated.make(I,d.b.Union.asOption(d.b.Knot.make(v,{body:d.b.Composite.make(y,e)}))),_=m.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),C=m.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),w={position:"absolute",zIndex:h.l,minWidth:"fit-content",outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},S={marginTop:m.a.rem(.5),transformOrigin:"bottom"},k={$nest:{"& > div[data-name=inline-card]":{animation:`${C} ${m.a.seconds(.1)} linear forwards`,pointerEvents:"none"}}},E={$nest:{"& > div[data-name=inline-card]":{animation:`${_} ${m.a.seconds(.1)} linear forwards`}}},j={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:m.a.rem(-1),paddingBottom:m.a.rem(.5),minWidth:m.a.rem(12),maxWidth:m.a.rem(20),width:"fit-content",outline:"none",borderRadius:m.a.rem(h.s),background:p.a.CoreNeutral0,boxShadow:p.b.Z300,color:f.k,fontSize:m.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:m.a.px(-2),width:m.a.percent(100),height:m.a.px(2),border:"1px solid transparent",content:"''"}}},x={$nest:{"& .itemInsert, .itemRemove":{paddingBottom:m.a.rem(.3),whiteSpace:"normal",lineHeight:m.a.rem(1.5)}}},A=m.a.prefixedStylesheet("inline-card",{container:[w],directionUp:[S],invisible:[k],visible:[E],card:[j],maxWidthReached:[x]}),I=d.b.Transition.make({visible:A.visible},{invisible:A.invisible});var T=n("DTwm"),M=n("tiWp"),P=n("+vYo"),N=n("SXX6"),B=n("M3t0"),L=n("Hj2R");function F(e,t,n,r,i=(()=>"left")){return d.a.animatingFlow(function(e,t,n,r,i){const a=P.a.create(u.g.none);return d.a.fromSideEffect(e=>{Object(M.pipe)(e.action.action.action,u.g.fromPredicate(b.b.isMountAction),u.g.tap(e=>a.set(e.element))),t.next(e.action.action.action)},e.pipe(g.a.map(u.g.chain(e=>L.a.State.isBulkApplied(e.alert.state)?u.g.some(e):u.g.none)),g.a.withLatestFrom(n,a),g.a.switchMap(function(e,t){return([n,r,i])=>Object(M.pipe)(n,u.l.fromOption(()=>new Error("Entry is none")),u.l.chain(e=>Object(M.pipe)(e.getMarkRect,u.l.map(t=>({alert:e.alert,rect:Object(M.pipe)(t,N.b.relativeAndAbs,u.g.fromNullable)})))),u.l.map(({alert:n,rect:a})=>Object(M.pipe)(a,u.g.map(({abs:a,relative:o})=>{const s=Object(M.pipe)(i,u.g.fold(()=>0,e=>e.offsetHeight)),c=a.height+a.top+s>r.height+r.top&&o.height<r.height?b.a.Direction.Up:b.a.Direction.Down,l=c===b.a.Direction.Up?o.top-s-8:o.top+o.height;return{root:{position:"right"===t(a,r)?{top:l,right:0}:{top:l,left:o.left},direction:c},body:{alert:n,replacementLabels:R(e,n)}}}))),u.l.getOrElse(e=>()=>Promise.resolve(u.g.none)),e=>e())}(r,i)),g.a.startWith(u.g.none)))}(e,t,n,r,i),(e,t)=>Object(M.pipe)(t,u.g.chain(()=>Object(M.pipe)(e,u.g.map(()=>u.m.both("invisible","visible")),u.g.alt(()=>u.g.some(u.m.right("visible"))))),u.g.alt(()=>Object(M.pipe)(e,u.g.map(()=>u.m.left("invisible"))))))}function R(e,t){return Object(M.pipe)(t.getTransform(),u.g.chain(Object(T.flow)(e,u.b.fold(e=>(B.d.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",e.error,{alertId:t.id}),u.g.none),u.g.some))))}var D,H;(H=D||(D={})).UI=r,H.Flow=i},"+bR4":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("+vYo"),l=n("xk6L"),u=n("yIk2"),d=n("TKPA"),p=n("2swC"),m=n("nWMp"),f=n("Frap"),h=n("e1WO"),g=n("uxqH");function b({value:e,initValue:t=g.a.MIN,wrapperClass:n,progressClass:i,borderClass:c,isLoading:d=l.a.of(!1)}){const p=v(e,t);return a.createElement(o.a.div,Object(r._)({role:"progressbar","aria-label":"Progress","aria-valuenow":u.b.toObservable(e).pipe(l.a.map(g.a.iso.unwrap))},Object(s.c)(x.wrapper,n)),a.createElement(y,{width:p,progressClass:i,borderClass:c,isLoading:d}))}function v(e,t=g.a.MIN){const n=c.a.create(!1);return requestAnimationFrame(()=>requestAnimationFrame(()=>n.set(!0))),l.a.combineLatestStatic(u.b.toObservable(e),n,(e,n)=>n?e:t)}function y({width:e,progressClass:t,isLoading:n,borderClass:c}){const u=e.pipe(l.a.map(e=>e+"%")),p=e.pipe(l.a.map(g.a.prism.reverseGet),l.a.map(e=>e>0?e+.75+"%":0),l.a.startWith(0)),m=n.pipe(l.a.switchMap(e=>e?u:"0")),f=e.pipe(l.a.map(g.a.isMin),l.a.shareReplay({bufferSize:1,refCount:!0}));return a.createElement(a.Fragment,null,a.createElement(o.a.div,Object(i._)(Object(r._)({},Object(s.c)(x.borderContainer,f.pipe(l.a.map(Object(d.c)(x.borderContainerZeroWidth,x.borderContainerWithMinWidth))),c)),{style:{width:p}})),a.createElement(o.a.div,Object(i._)(Object(r._)({},Object(s.c)(Boolean(t)?t:x.defaultProgress,x.progressBar,f.pipe(l.a.map(Object(d.c)(x.progressBarZeroWidth,x.progressBarWithMinWidth))))),{style:{width:u}})),a.createElement(o.a.div,{className:x.loading,style:{width:m}}))}const O=m.a.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),_={position:"relative",width:m.a.percent(100),height:m.a.rem(.25),borderRadius:m.a.rem(h.radius1),backgroundColor:f.ui300},C={position:"relative",top:0,height:m.a.percent(100),borderRadius:m.a.rem(h.radius1),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},w={minWidth:m.a.px(4)},S={position:"absolute",backgroundColor:p.a.CoreNeutral0},k={minWidth:m.a.px(6)},E={position:"absolute",minWidth:0,backgroundImage:f.progressLoadingGradient,backgroundSize:"20px 20px",transition:"none",animation:O+" 1s linear infinite"},j={backgroundImage:f.rightProgressGradient},x=m.a.stylesheet({wrapper:[_,_],progressBar:[C],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[w],borderContainer:[C,S],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[k],loading:[C,E],defaultProgress:[j]})},"+lox":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("lKCo");!function(e){let t,n;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),e.isPending=function(e){return"pending"===e.kind},e.isReceived=function(e){return"received"===e.kind},function(e){e.empty=function(e){return{id:e,kind:"pending",availableActions:[],specialView:i.none,userPromptAction:i.none,intent:i.none,documentOverview:i.none,selection:i.none,isBoundary:!1,textRevision:i.none}}}(n=e.Pending||(e.Pending={}))}(r||(r={}))},"+ndJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("B8yO"),i=n("XGPX");function a(e){let[t,n]=(0,i.b)(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const a=(0,r.useCallback)(()=>{n(!0)},[n]),o=(0,r.useCallback)(()=>{n(!1)},[n]),s=(0,r.useCallback)(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:a,close:o,toggle:s}}},"+tAI":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("tiWp"),s=n("xk6L"),c=n("mgiE"),l=n("M3t0"),u=n("Qlyw"),d=function(){function e(t,n,i,d){var p=this;Object(r.a)(this,e),Object(a._)(this,"_model",void 0),Object(a._)(this,"_modalOperations",void 0),Object(a._)(this,"_notificationsManager",void 0),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"changePlan",void 0),Object(a._)(this,"_handleChangePlanError",void 0),Object(a._)(this,"close",void 0),this._model=t,this._modalOperations=n,this._notificationsManager=i,this._telemetry=d,this._log=l.d.Logging.getLogger("view.model.change.plan"),this.changePlan=function(){return p._telemetry.gnarSpec.changePlanConfirmationSwitchPlanButtonClick(p._model.daysToRenewal,p._model.currentPlanType,p._telemetry.pageId),s.a.from(Object(o.pipe)(p._model.changePlan,c.l.mapLeft(p._handleChangePlanError),c.l.toPromise)).pipe(s.a.tap(p.close),s.a.switchMap((function(){return p._telemetry.gnarSpec.changePlanFormSuccess(p._model.daysToRenewal,p._model.currentPlanType,p._telemetry.pageId),p._notificationsManager.enqueue("changePlanSuccess",{planName:p.offer.title})}))).toPromise()},this._handleChangePlanError=function(e){p._log.error("Cannot change plan reason: ".concat(e.reason),e.originalError);var t=u.a.isErrorLike(e.originalError)&&e.originalError.message;p._telemetry.gnarSpec.changePlanFormFail(p._telemetry.pageId,"reason: ".concat(e.reason,", error: ").concat(t)),p._notificationsManager.enqueue("error").toPromise()},this.close=function(){p._modalOperations.onClose(),p._telemetry.gnarSpec.changePlanConfirmationCloseButtonClick(p._model.daysToRenewal,p._model.currentPlanType,p._telemetry.pageId)}}return Object(i.a)(e,[{key:"currentPlan",get:function(){return this._model.currentPlan}},{key:"offer",get:function(){return this._model.offer}},{key:"savedPrice",get:function(){return this._model.savedPrice}},{key:"nextPaymentDate",get:function(){return this._model.nextPaymentDate}}]),e}()},"+ySe":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var r={};n.r(r),n.d(r,"getNormalizedPosition",(function(){return h})),n.d(r,"getPositionInViewport",(function(){return g})),n.d(r,"isAboveViewportTop",(function(){return b})),n.d(r,"willFitViewport",(function(){return v})),n.d(r,"getCardPadding",(function(){return y})),n.d(r,"ContentOffset",(function(){return O})),n.d(r,"InfinityScrollGetter",(function(){return _})),n.d(r,"Mover",(function(){return w}));var i={};n.r(i),n.d(i,"CARDS_BEYOND_VIEWPORT",(function(){return x})),n.d(i,"CARDS_AROUND_ACTIVE",(function(){return A})),n.d(i,"CARD_VISIBILITY_DEFAULT_SETTING",(function(){return I})),n.d(i,"manageCardsVisibility",(function(){return T})),n.d(i,"freezeActiveCardOnCardsListUpdate",(function(){return M})),n.d(i,"manageCardsInert",(function(){return P})),n.d(i,"moveNearestItemIntoViewport",(function(){return N}));var a={};n.r(a),n.d(a,"getScrollObserver",(function(){return L})),n.d(a,"getPlaceholderState",(function(){return F})),n.d(a,"getAssistantHeight",(function(){return R})),n.d(a,"getCardsViewportState",(function(){return D})),n.d(a,"getCardsRect",(function(){return H}));var o=n("DTwm"),s=n("tiWp"),c=n("mgiE"),l=n("0kuo"),u=n("xk6L"),d=n("d3CI"),p=n("YqdJ"),m=n("0LHr"),f=n("gFSV");const h=(e,t)=>n=>{const r=p.a.FromViewportTop.ISO.unwrap(e),i=p.a.FromViewportTop.ISO.unwrap(n),a=r-i;return p.a.FromViewportTop.ISO.wrap(a<-t.top?r+t.top:a>t.bottom?r-t.bottom:i)},g=(e,t,n)=>r=>{const i=Object(f.b)({cardTop:r,cardHeight:e.positionState.height,viewportHeight:n.height,padding:t});return p.a.FromViewportTop.ISO.modify(p.a.concatC(-i))(r)},b=e=>t=>p.b.FromWindowTop.ISO.modify(p.a.concatC(e.scrollTop.get()+e.paddingTop.get()))(t)<e.viewport.get().top,v=(e,t)=>(n,r)=>{const i=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.currentLens.items,e=>Object(s.pipe)(e.get(n),c.g.map(({value:e})=>0===Object(f.b)({cardTop:i.converters.windowToViewport(r),cardHeight:e.positionState.height,viewportHeight:i.viewport.height,padding:{before:0,after:0}}))),c.g.unsafeGet)},y=(e,t)=>Object(s.pipe)(t.get(e),c.g.map(({index:e})=>({before:Object(s.pipe)(t.getAt(e-1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0)),after:Object(s.pipe)(t.getAt(e+1),c.g.map(e=>e.positionState.height),c.g.getOrElse(()=>0))})),c.g.getOrElse(()=>({before:0,after:0})));var O,_,C,w;!function(e){var t=e.CARD_CONTENT_OFFSET_REM=3.4,n=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=t+1;e.contentOffsetGetter=(e=t,r=n)=>(t,n)=>Math.round((t?r:e)*n)}(O||(O={})),(C=_||(_={})).cardPositionGetter=(e,t)=>(n,r)=>{const i=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),c.b.map(({value:e})=>Object(s.pipe)(r,c.g.fold(()=>Object(o.flow)(p.a.AbsTop.ISO.wrap,i.converters.absTopToViewportTop,i.converters.viewportToWindow)(e.positionState.absTop),o.identity))))))},C.cardPositionInViewportGetter=(e,t)=>(n,r)=>{const i=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),c.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),c.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),c.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),c.b.chain(({value:t})=>Object(s.pipe)(r,c.g.map(i.converters.windowToViewport),c.g.alt(()=>c.g.some(Object(o.flow)(p.a.AbsTop.ISO.wrap,i.converters.absTopToViewportTop)(t.positionState.absTop))),c.g.map(g(t,y(n,e),i.viewport)),c.g.map(i.converters.viewportToWindow),c.b.fromOption(()=>({kind:"error",reason:"Cannot get card position in viewport"})))))))},function(e){const t=(e,t,n,r)=>{const i=r.viewport.get(),a=r.scrollTop.get(),o=p.a.converters(a,p.b.FromWindowTop.ISO.unwrap(i.top),r.paddingTop.get());return c.b.tryCatchError(()=>Object(s.pipe)(d.e.getLens(n),c.g.chain(t=>t.items.get(e)),c.g.map(e=>p.a.AbsTop.ISO.wrap(e.value.positionState.absTop)),c.g.map(e=>o.absTopToViewportTop(e)),c.g.fold(()=>{throw new l.b("Cannot get offset for unknown card")},e=>{const n=o.windowToViewport(t);return p.a.FromViewportTop.ISO.unwrap(e)-p.a.FromViewportTop.ISO.unwrap(n)})))};e.moveCardToPositionSyncGetter=(e,n)=>r=>Object(s.pipe)(t(r.id,r.position,e.get(),n),c.b.chain(e=>n.moveCardsBy(e,"moveCardToPositionAnimated"))),e.moveCardToPositionAnimatedGetter=(e,n)=>r=>Object(s.pipe)(t(r.id,r.position,e.get(),n),c.b.fold(e=>u.a.throwError(e),e=>n.moveCardsByAnimated(e,"moveCardToPositionAnimated")))}(w||(w={}));var S=n("D2TP"),k=n("yIk2"),E=n("itj6"),j=n("mDV6");const x=5,A=100,I={cardsBeyondViewport:x,cardsAroundActive:A},T=(e,t,n,r,i=I,a=k.b.Scheduler.rafScheduler)=>{const o=e=>!e.positionState.visible&&j.a.isAnimatable(e)&&e.visualState.incomplete?(r.next({type:E.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),n.completeTransition(e.visualState.transitionId)(e)):e,s=e.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),l=Object(f.h)(n)(s,t.viewport,t.scrollTop,t.paddingTop,a).pipe(u.a.map(({viewport:e,scrollTop:t,paddingTop:n})=>({viewport:e,scrollTop:t,paddingTop:n,completeTransition:o})),u.a.map(Object(f.g)({cardsBeyondViewport:i.cardsBeyondViewport,cardsAroundActive:i.cardsAroundActive,changePosition:n})));return{id:"manageCardsVisibility",when:S.a.isWithAlertsId,what:d.e.Effect.Applicator.create(l)}},M=(e,t,n)=>{const r=Object(s.pipe)(e,u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t}))),Object(f.a)(n),u.a.switchMap(k.b.Scheduler.rafScheduler),u.a.filter(e=>0!==e),u.a.tap(e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate")));return{id:"freezeActiveCardOnCardsListUpdate",when:S.a.isWithAlertsId,what:d.e.Effect.Applicator.create(u.a.mergeStatic(u.a.mergeStatic(r).pipe(u.a.switchMapTo(u.a.NEVER))))}},P=(e,t,n,r=k.b.Scheduler.rafScheduler)=>{const i=e.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),a=Object(f.h)(n)(i,t.viewport,t.scrollTop,t.paddingTop,r).pipe(u.a.map(Object(f.c)(n)));return{id:"manageCardsInert",when:S.a.isWithAlertsId,what:d.e.Effect.Applicator.create(a)}},N=(e,t,n,r,i,a=k.b.Scheduler.rafScheduler)=>{const o=t.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))),l=Object(f.h)(i)(o,r.viewport,r.scrollTop,r.paddingTop,a).pipe(u.a.switchMap(t=>e.pipe(u.a.withLatestFrom(o),u.a.switchMap(([,e])=>Object(s.pipe)(e,c.g.map(Object(f.e)(n,t)),c.g.getOrElse(()=>u.a.EMPTY))))));return{id:"moveNearestItemIntoViewport",when:S.a.isWithAlertsId,what:d.e.Effect.Applicator.create(l.pipe(u.a.switchMapTo(u.a.NEVER)))}};var B=n("TKPA");const L=e=>k.b.toBooleanWithDebounce(e.scrollTop.pipe(u.a.skip(1)),100,!0).pipe(u.a.startWith(!1),u.a.shareReplay({bufferSize:1,refCount:!0})),F=(e,t)=>{const n=L(t),r=e.view(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})));return u.a.combineLatestStatic(u.a.combineLatestStatic(n,r.pipe(u.a.map(c.g.forAll(({currentLens:e})=>Object(s.pipe)(d.k.getActiveItem(e),c.g.forAll(e=>!j.a.isAnimatable(e)||!e.visualState.incomplete&&!e.positionState.animationInProgress))))),B.a).pipe(u.a.distinctUntilChanged()),r.pipe(u.a.filter(c.g.forAll(e=>e.currentLens.isCardsHeightValid)),u.a.map(c.g.map(({currentLens:e})=>{const t=e.cardsHeight;return Object(s.pipe)(d.k.getActiveItem(e),c.g.map(({positionState:e})=>[{top:0,height:e.absTop},{top:e.absTop+e.height,height:t-(e.absTop+e.height)}]),c.g.getOrElse(()=>[{top:0,height:t},{top:0,height:0}]))})),u.a.distinctUntilChanged(c.g.getEq(m.c.eqDimensionsTuple).equals)),(e,t)=>e?t:c.g.none).pipe(u.a.startWith(c.g.none),u.a.shareReplay({bufferSize:1,refCount:!0}))},R=(e,t,n)=>Object(f.f)(n)(e.view(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(u.b.compact,u.a.map(({currentLens:e})=>e.cardsHeight),u.a.startWith(0),u.a.combineLatest(t.paddingTop,t.viewport,(e,t,n)=>e+t+p.b.FromWindowTop.ISO.unwrap(n.top))),D=(e,t,n)=>Object(f.f)(n)(e.view(d.e.mapper(({currentLens:e,alertSource:t})=>c.g.some({currentLens:e,alertSource:t})))).pipe(u.a.switchMap(c.g.fold(()=>u.a.of(m.a.hidden),e=>e.currentLens.items.size>0?u.a.combineLatestStatic(t.scrollTop,t.viewport,t.paddingTop).pipe(u.a.map(([t,n,r])=>{const i=p.a.converters(t,p.b.FromWindowTop.ISO.unwrap(n.top),r),a=e.currentLens.items,l=Object(s.pipe)(a.getAt(0),c.g.map(e=>Object(s.pipe)(e.positionState.absTop,Object(o.flow)(p.a.AbsTop.ISO.wrap,i.absTopToViewportTop))),c.g.unsafeGet),u=c.g.unsafeGet(a.getAt(a.size-1)),d=p.a.AbsTop.ISO.wrap(u.positionState.absTop),f=u.positionState.height,h=i.absTopToViewportTop(d);return p.a.FromViewportTop.ISO.unwrap(h)+f<0?m.a.above:p.a.FromViewportTop.ISO.unwrap(l)>n.height?m.a.below:m.a.hidden})):u.a.of(m.a.hidden))),u.a.distinctUntilChanged(),u.a.debounce(e=>e===m.a.hidden?u.a.EMPTY:u.a.timer(300)),u.a.shareReplay({bufferSize:1,refCount:!0})),H=(e,t)=>{const n=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),c.g.chain(({items:e,cardsHeight:t})=>Object(s.pipe)(e.getAt(0),c.g.map(e=>{const r=Object(o.flow)(p.a.AbsTop.ISO.wrap,n.converters.absTopToViewportTop,n.converters.viewportToWindow)(e.positionState.absTop);return{top:r,bottom:p.b.FromWindowTop.ISO.modify(p.a.concatC(t))(r)}}))))}},"/3X1":function(e){e.exports=JSON.parse('{"invisibleScrollbar":"_74937657-document-view-invisibleScrollbar","scrollDetector":"_074f1316-document-view-scrollDetector","preventOverscroll":"_260b91aa-document-view-preventOverscroll"}')},"/56L":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("B8yO"),a=n("OwvP"),o=n("111I"),s=n("xk6L"),c=n("JcQk"),l=n("LqiM"),u=n("N5Ay"),d=n("hldE"),p=n("btoL");!function(e){e.Card=e=>o.b.Node.make(({view:t})=>{const n=t("view");return i.createElement(a.a.Fragment,null,n.pipe(s.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),s.a.map(r=>i.createElement(u.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},a=>i.createElement(l.a.Card,{mount:a,miniCard:i.createElement(p.a.Mini,{card:n,actions:e}),fullCard:i.createElement(p.a.Full,{card:n,actions:e}),successCard:i.createElement(c.a.Success,{cardData:r,isLastCard:t("isLastCard"),actions:e}),feedbackForm:i.createElement(c.a.FeedbackForm,{cardData:r,actions:e}),mutedCard:i.createElement(c.a.MutedAlert,{cardData:r,actions:e}),actions:e,card:r,transitionClassMapper:d.b})))))})}(r||(r={}))},"/5dq":function(e){e.exports=JSON.parse('{"header1":"_ef6a5bce-left-header1","header2":"_0c582db2-left-header2","header3":"_f03dfbaf-left-header3","header3legacy":"_6c542af9-left-header3legacy","button":"_c757806b-left-button","header4":"_36c75ac5-left-header4","paper":"_b28a2379-left-paper","base":"_96c39aa6-left-base","small":"_33d190c8-left-small","smallLight":"_43a86f8b-left-smallLight","score":"_66a55e6d-left-score","lawyer":"_84780de1-left-lawyer","title":"_74d8ac67-left-title","p1":"_1e26b46f-left-p1","header5":"_b993c96e-left-header5","stepWrapper":"_7e885823-left-stepWrapper","stepTitle":"_947ef538-left-stepTitle","description":"_dadbbd97-left-description","step1Illustration":"_20938e5f-left-step1Illustration","step2Path":"_055c4b43-left-step2Path","step2PathLi":"_be605ed9-left-step2PathLi","step2PathLi1":"_7f477ef7-left-step2PathLi1","step2PathLi2":"_9366a7fb-left-step2PathLi2","step2PathLi3":"_7245e371-left-step2PathLi3","step2LiDescription":"_dad19443-left-step2LiDescription","left":"_4f20674f-left-left","right":"_3fc431f3-left-right","dots":"_005abe14-left-dots","dotIndex":"_e4c84840-left-dotIndex","pathFrom1To2":"_22e3980a-left-pathFrom1To2","pathFrom2To3":"_33c22502-left-pathFrom2To3","moreInformation":"_6cb7a849-left-moreInformation","moreInformationIcon":"_643fd868-left-moreInformationIcon","nav":"_30908097-left-nav","navButton":"_cfe7aceb-left-navButton _96c39aa6-left-base","delimiter":"_48c1a0b1-left-delimiter","backButton":"_723680a7-left-backButton _cfe7aceb-left-navButton _96c39aa6-left-base","fadeIn":"_64fd95a5-left-fadeIn","backButtonText":"_2f101e66-left-backButtonText","terms":"_d0d07473-left-terms","termsTitle":"_332eb453-left-termsTitle","termsSubTitle":"_e89a24f8-left-termsSubTitle","termsList":"_30bf9256-left-termsList","termListItem":"_38d99dfc-left-termListItem","newBadge":"_2f5c0886-left-newBadge"}')},"/7y/":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l}));var r,i,a=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("+vYo");!function(e){let t;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={}));e.adminSatisfactionReasons=["CreatingStrongCompanyBrand","SavingTimeWritingAndEditing","CentrallyManagingGrammarlyAccount","EnablingTeamToCommunicateWithCustomersEffectively","Other"],e.teamMemberSatisfactionReasons=["SavingTimeWritingAndEditing","SoundingFluentInEnglish","SoundingMoreProfessionalAndPolished","ImprovingOverallWritingSkills","FeelingConfidentWhenCommunicating","CommunicatingWithCustomersEffectively","Other"],e.dissatisfactionReasons=["DoesntIntegrateWithAnAppIUse","LowQualitySuggestions","FeaturesAreMissing","TechnicalDifficulties","NotSureWhatGrammarlyBusinessDoes","DidntFindItValuable","Other"]}(r||(r={})),function(e){e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e),e.isThirdQuestion=e=>"answer1"in e&&"answer2"in e&&!("answer3"in e),e.isCompleted=e=>"answer1"in e&&"answer2"in e&&"answer3"in e;const t=[r.Experience.Neutral,r.Experience.SomewhatDissatisfied,r.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.getSecondQuestionAnswer=e=>e.answer2}(i||(i={}));class l{answer(e){const t=this.state.view(i.isFirstQuestion).get(),n=this.state.view(i.isSecondQuestion).get(),r=t?"answer1":n?"answer2":"answer3";this.state.modify(t=>Object(s._)(Object(o._)({},t),{[r]:e})),t?this._tracking.onFirstAnswer(e):n?this._tracking.onSecondAnswer(e):Boolean(e.trim())&&this._tracking.onThirdAnswer(e)}constructor(e,t){Object(a._)(this,"_tracking",void 0),Object(a._)(this,"isAdmin",void 0),Object(a._)(this,"state",void 0),this._tracking=e,this.isAdmin=t,this.state=c.a.create({})}}},"/9H4":function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return je}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("8O/t"),c=n("hcme"),l=n("B8yO"),u=n("000W"),d=n("tiWp"),p=n("+vYo"),m=n("rOJn"),f=n("5OZM"),h=n("111I"),g=n("WLOZ"),b=n("efqv"),v=n("7IMz"),y=n("xk6L");!function(e){e.Modal=h.b.Node.make(({state:e,view:n,notify:r})=>{v.a.useSubscriptionTo(n("source").pipe(y.a.first(),y.a.tap(e=>r({kind:t.open,source:e})())));const i=e.pipe(y.a.map(e=>r({kind:t.close,source:e.source,context:e.context,showOnLoad:e.showOnLoad})));return l.createElement(g.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:i},l.createElement(b.a,{blocks:n("blocks"),features:n("features"),close:i,upgrade:r({kind:t.upgrade}),reset:r({kind:t.reset}),showOnLoad:n("showOnLoad"),showOnLoadChanged:e=>r({kind:t.showOnLoadChanged,value:e})()}))});let t;!function(e){e.open="open",e.close="close",e.upgrade="upgrade",e.reset="reset",e.showOnLoadChanged="showOnLoadChanged"}(t=e.ActionsKind||(e.ActionsKind={}))}(r||(r={}));var O=n("WpWO"),_=n("0kuo"),C=n("mgiE"),w=n("+tAI"),S=n("skc2"),k=n("xAs4"),E=function(){function e(t,n,r,a){var s=this;Object(i.a)(this,e),Object(o._)(this,"_userAccount",void 0),Object(o._)(this,"_config",void 0),Object(o._)(this,"_environment",void 0),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"dismiss",void 0),Object(o._)(this,"updatePayment",void 0),this._userAccount=t,this._config=n,this._environment=r,this._telemetry=a,this.dismiss=function(){s._userAccount.settings.incrementDunningDismissCount()},this.updatePayment=function(){s._telemetry.gnarSpec.inProductDunningNoticationUpdatePaymentInformationButtonClick(s._telemetry.pageId),s._environment.actions.openPopup(new S.a(s._config.account.subscription))}}return Object(a.a)(e,[{key:"isBusinessAdmin",get:function(){return k.e.isBusinessAdmin(this._userAccount.features.denaliUserType)}}]),e}(),j=n("X76w"),x=n("4tRT"),A=n("0Qjk"),I=n("mUkt"),T=n("ZDrO"),M=n("jSIJ"),P=I.a.Category.Id.create(A.a.MutedAlerts.SpecialCategory.InQuotes),N=function e(t,n,r,a){var c=this;Object(i.a)(this,e),Object(o._)(this,"_denaliSettings",void 0),Object(o._)(this,"_categoriesModel",void 0),Object(o._)(this,"_features",void 0),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"_preferencesModel",void 0),Object(o._)(this,"_newPreferences",void 0),Object(o._)(this,"trackOpened",void 0),Object(o._)(this,"trackSuggestionManagementClicked",void 0),Object(o._)(this,"update",void 0),Object(o._)(this,"autoScrollToNextAlert",void 0),Object(o._)(this,"fontSize",void 0),Object(o._)(this,"suggestionsVisualMode",void 0),Object(o._)(this,"muteQuotedAlerts",void 0),this._denaliSettings=t,this._categoriesModel=n,this._features=r,this._telemetry=a,this._preferencesModel=this._denaliSettings.editorPreferences,this._newPreferences=p.a.create(this._denaliSettings.editorPreferences.get()),this.trackOpened=function(){c._telemetry.gnarSpec.preferencesPopupShow(c._telemetry.pageId)},this.trackSuggestionManagementClicked=function(){c._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(c._telemetry.pageId,"editorSettings",c._telemetry.pageSessionId)},this.update=function(){var e=c._newPreferences.get(),t=c._categoriesModel.getMutedSpecialCategories().has(P),n=c.muteQuotedAlerts.get(),r=t!==n,i=!M.d.eq.equals(c._preferencesModel.get(),e)||r;e.suggestionsVisualMode!==c._preferencesModel.get().suggestionsVisualMode&&c._telemetry.gnarSpec.suggestionsVisualModeFeatureToggled(c._telemetry.pageId,e.suggestionsVisualMode,c._telemetry.pageSessionId),i&&(c._denaliSettings.updateEditorPreferences(e),c._telemetry.gnarSpec.preferencesFormSuccess(c.autoScrollToNextAlert.get(),e.fontSize,n,c._telemetry.pageId,e.suggestionsVisualMode)),r&&(t?(c._categoriesModel.unmuteCategories([P]),c._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(c._telemetry.pageId,"unmuted",c._telemetry.pageSessionId)):(c._categoriesModel.muteCategories([P]),c._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(c._telemetry.pageId,"muted",c._telemetry.pageSessionId)))},this.autoScrollToNextAlert=this._newPreferences.lens("autoScrollToNextAlert").lens(T.b.O.unwrap(!this._features.autoJumpSettings.isDisabledByDefault)),this.fontSize=this._newPreferences.lens(x.a.create((function(e){return e.fontSize===M.e.Large}),(function(e,t){return Object(j._)(Object(s._)({},t),{fontSize:e?M.e.Large:M.e.Normal})}))),this.suggestionsVisualMode=this._newPreferences.lens(x.a.create((function(e){return e.suggestionsVisualMode===M.o.Accessible}),(function(e,t){return Object(j._)(Object(s._)({},t),{suggestionsVisualMode:e?M.o.Accessible:M.o.Default})}))),this.muteQuotedAlerts=p.a.create(this._categoriesModel.getMutedSpecialCategories().has(P))},B=n("eYZj"),L=n("yIk2"),F=n("4qtA"),R=n("M3t0"),D=function e(t,n,r,a){var s=this;Object(i.a)(this,e),Object(o._)(this,"reportViewModel",void 0),Object(o._)(this,"_documentModel",void 0),Object(o._)(this,"_notificationsManager",void 0),Object(o._)(this,"_modalOperations",void 0),Object(o._)(this,"state",void 0),Object(o._)(this,"onModalClose",void 0),this.reportViewModel=t,this._documentModel=n,this._notificationsManager=r,this._modalOperations=a,this.state=y.a.defer((function(){return L.b.promiseToStream((function(){return s._documentModel.calculateStats()}))})).pipe(y.a.combineLatest(this._documentModel.checkingState,(function(e,t){return Object(d.pipe)(e,C.g.filter((function(){return"idle"===t})))})),y.a.switchMap(C.g.fold((function(){return y.a.of({type:F.a.State.Type.LOADING}).pipe(y.a.delay(150))}),C.b.fold((function(e){return R.d.Logging.getLogger("editor.toolbar").error("Error on requesting document stats",e),s._notificationsManager.enqueue("statisticsError").pipe(y.a.mapTo({type:F.a.State.Type.ERROR}),y.a.finalize((function(){return s.onModalClose()})))}),(function(e){return p.a.combine(s._documentModel.score,s._documentModel.counters,s._documentModel.documentLength.view("trimmed"),(function(t,n,r){return Object(d.pipe)(t,C.g.fold((function(){return{type:F.a.State.Type.SHORT_CONTENT}}),(function(t){return{type:F.a.State.Type.READY,documentIsEmpty:0===r,score:t,counters:n,stats:e}})))}))})))),y.a.startWith({type:F.a.State.Type.EMPTY}),y.a.publishReplay(1),y.a.refCount()),this.onModalClose=function(){s._modalOperations.onClose()}},H=n("DTwm"),V=n("kbuH");var U=n("RRF2"),W=n("iU0Q");function z(e,t,n,i,a,o,c){return Object(d.pipe)(function(e,t,n,i,a,o,c,l){const u=Object(d.pipe)(e.defaultContext.get(),C.g.fold(()=>(R.d.Logging.getLogger("createSetGoalsFlow").warn("Default context not yet set, using fallback",a),a),H.identity)),f=V.a.create(e.context.get(),u,o,l),g=p.a.combine(f.showSetGoalsLoader,f.localContext,(e,t)=>({blocks:f.blocks,context:t,showOnLoad:e,features:o,source:i}));return h.a.fromSideEffect(i=>{switch(i.kind){case r.ActionsKind.open:t.goalsPopupShow(i.source);break;case r.ActionsKind.upgrade:t.getPremiumButtonClick(),c();break;case r.ActionsKind.close:n.onClose();const a=(()=>C.g.contains("academic")(i.context.domain)&&o.isStudentsOFE)()&&C.g.isNone(i.context.outcomeContext)?Object(j._)(Object(s._)({},i.context),{outcomeContext:C.g.some(m.a.OutcomeContext.defaultAcademic)}):i.context;e.updateContext(a)&&t.goalsFormSuccess(a,u);break;case r.ActionsKind.reset:f.localContext.set(m.a.unset);break;case r.ActionsKind.showOnLoadChanged:f.showSetGoalsLoader.set(i.value);break;default:Object(_.c)(i)}},g)}(t,function(e,t,n){return{goalsPopupShow:function(t){return e.gnarSpec.goalsPopupShow(e.pageId,t)},getPremiumButtonClick:function(){return e.gnarSpec.getPremiumButtonClick(e.pageId,"goPremium","setGoalsPopup")},goalsFormSuccess:function(r,i){var a=function(){return C.g.contains("academic")(r.domain)&&t.features.denali.isStudentsOFE};return e.gnarSpec.goalsFormSuccess(Object(d.pipe)(r.domain,C.g.getOrElse((function(){return i.domain}))),Object(d.pipe)(r.goals,C.g.map((function(e){return a()?[]:e})),C.g.getOrElse((function(){return i.goals})),(function(e){return Array.from(e)})),e.pageId,n,Object(d.pipe)(r.outcomeContext,C.g.filter(a),C.g.map(U.e.pick("type")),C.g.toUndefined),Object(d.pipe)(r.audience,C.g.filter(Object(H.not)(a)),C.g.toUndefined),Object(d.pipe)(r.outcomeContext,C.g.filter(a),C.g.map(U.e.pick("citation")),C.g.toUndefined),Object(d.pipe)(r.style,C.g.filter(Object(H.not)(a)),C.g.toUndefined))}}}(i,e,o),a,o,c,{demoMode:e.features.demoMode,isFree:e.features.isFree.get(),isStudentsOFE:e.features.denali.isStudentsOFE,isEligibleForFreeTrial:e.features.isEligibleForFreeTrial},(function(){return n.openUpgradeUrl(W.a.Place.DenaliDocument.editorDenaliGoals)}),e.settings.enableSetGoalsLoader.get()),h.a.extendActions(y.a.pipe(y.a.tap((function(t){switch(t.kind){case r.ActionsKind.close:e.settings.enableSetGoalsLoader.get()!==t.showOnLoad&&(e.settings.updateSetGoalsLoader(t.showOnLoad),i.gnarSpec.showGoalsNewDocumentFormSuccess(t.showOnLoad,i.pageId,o))}})))))}var G,q=n("TKPA");!function(e){!function(e){e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE"}(e.Type||(e.Type={})),function(e){e[e.SHOW_ALL=0]="SHOW_ALL",e[e.HIDE_PREV=1]="HIDE_PREV",e[e.HIDE_NEXT=2]="HIDE_NEXT",e[e.HIDE_BOTH=3]="HIDE_BOTH"}(e.NavigationControlDisplay||(e.NavigationControlDisplay={}))}(G||(G={}));var K=function(){function e(t,n,r,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q.e,c=this;Object(i.a)(this,e),Object(o._)(this,"type",void 0),Object(o._)(this,"_stepMap",void 0),Object(o._)(this,"_settings",void 0),Object(o._)(this,"_modalOperations",void 0),Object(o._)(this,"_onStart",void 0),Object(o._)(this,"_steps",void 0),Object(o._)(this,"_currentStepIndex",void 0),Object(o._)(this,"_abort",void 0),Object(o._)(this,"_getStepForIndex",void 0),Object(o._)(this,"descriptionMeta",void 0),Object(o._)(this,"currentStep",void 0),Object(o._)(this,"goToNext",void 0),Object(o._)(this,"goToPrev",void 0),this.type=t,this._stepMap=n,this._settings=r,this._modalOperations=a,this._onStart=s,this._steps=this.type===k.d.TourType.migration?e._migrationTour:e._welcomeTour,this._currentStepIndex=p.a.create(C.g.none),this._abort=function(){c._settings.denaliWelcomeTourSeen(),c._modalOperations.onClose(),c._currentStepIndex.set(C.g.none)},this._getStepForIndex=function(e){var t=c._steps[e],n=c._stepMap[t.stepId];switch(n.type){case G.Type.LARGE:var r;return{stepId:t.stepId,type:n.type,index:e,content:n.renderContent(),description:n.renderDescription.bind(n),navigationControl:null!==(r=t.navigationControl)&&void 0!==r?r:G.NavigationControlDisplay.SHOW_ALL};case G.Type.SMALL:return{stepId:t.stepId,type:n.type,index:e,content:n.renderContent({type:c.type,abort:c._abort,goToNext:c.goToNext,goToPrev:c.goToPrev}),navigationControl:Boolean(t.navigationControl)?t.navigationControl:G.NavigationControlDisplay.HIDE_BOTH};default:return Object(_.c)(n)}},this.descriptionMeta=this._currentStepIndex.view(C.g.map((function(e){return{index:e,steps:c._steps.length}}))).view(C.g.map((function(e){var t=e.index,n=e.steps;return{index:t<1||t>=n-1?t:t-1,totalSteps:n-2}}))),this.currentStep=this._currentStepIndex.view(C.g.map(this._getStepForIndex)),this.goToNext=function(){return c._currentStepIndex.modify(C.g.chain((function(e){var t=e+1;return Boolean(c._steps[t])?C.g.some(t):(c._settings.denaliWelcomeTourSeen(),c._modalOperations.onClose(),C.g.none)})))},this.goToPrev=function(){return c._currentStepIndex.modify(C.g.map((function(e){var t=e-1;return Boolean(c._steps[t])?t:0})))}}return Object(a.a)(e,[{key:"start",value:function(){this._currentStepIndex.set(C.g.some(0)),this._onStart()}}]),e}();Object(o._)(K,"_migrationTour",[{stepId:"welcomeOldUser"},{stepId:"fastApply",navigationControl:G.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalOldUser",navigationControl:G.NavigationControlDisplay.HIDE_NEXT}]),Object(o._)(K,"_welcomeTour",[{stepId:"welcomeNewUser"},{stepId:"fastApply",navigationControl:G.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalNewUser",navigationControl:G.NavigationControlDisplay.HIDE_NEXT}]);var $,Z,Y,X=function(){function e(t,n,r){var a=this;Object(i.a)(this,e),Object(o._)(this,"_settings",void 0),Object(o._)(this,"_features",void 0),Object(o._)(this,"_modalOperations",void 0),Object(o._)(this,"close",void 0),this._settings=t,this._features=n,this._modalOperations=r,this.close=function(){a._settings.denaliWelcomeTourSeen(),a._modalOperations.onClose()}}return Object(a.a)(e,[{key:"showOnboardingTourA11yUpdates",get:function(){return this._features.showOnboardingTourA11yUpdates}}]),e}(),Q=n("WFUb"),J=function(e){var t=e.changePlanViewModel;return l.createElement(g.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:t.close},l.createElement(Q.a,{changePlanViewModel:t}))},ee=n("+0Hp"),te=n("fC5a"),ne=n("Butu"),re=n("wuWi"),ie=n("6Fzp"),ae=n("a7bV"),oe=(n("cmlw"),n("5bvJ")),se=function(){var e=l.useContext(g.a.TitleIdContext);return l.createElement(re.c,{id:e},"Send Product Feedback")},ce=function(e){var t=e.feedbackViewModel,n=e.modalOperations,r=l.useContext(ie.a.Context),i=p.a.create(!0);return l.useEffect((function(){t.modalShown.next();var e=i.pipe(y.a.first((function(e){return!1===e}))).subscribe(n.onClose);return function(){return e.unsubscribe()}}),[t.modalShown,i,n.onClose]),l.createElement(g.b,{positionType:"fixed",visible:i,preventClose:!0,animate:!0},l.createElement(g.a,{className:oe.wrapper},l.createElement(g.a.Header,null,l.createElement(se,null)),l.createElement(g.a.Body,{className:oe.feedbackPopupBody,name:"feedbackBody"},l.createElement(re.i,{className:oe.description},"Tell us what you think. We promise to act on your feedback to make Grammarly even more awesome."),l.createElement(ne.a,{autofocus:!0,value:t.currentText.lens("brief"),placeholder:"Brief description",className:oe.briefDescriptionInput}),l.createElement(ne.d,{placeholder:"Type your feedback",className:oe.feedbackInput,value:t.currentText.lens("detailed")}),l.createElement(re.a,null,"If you have a support or billing-related request, please go to"," ",l.createElement(ae.a,{href:r.support.mainPage,target:"_blank",className:oe.helpdesk},"Grammarly Helpdesk"))),l.createElement(g.a.Footer,{className:oe.feedbackPopupFooter},l.createElement(te.a.Ghost,{name:"cancel",onClick:function(){return i.set(!1)}},"Cancel"),l.createElement(te.a.Primary,{name:"send",disabled:t.currentText.view((function(e){return""===e.brief||""===e.detailed})),onClick:function(){return i.set(!1),t.sendFeedback()}},"Send"))))},le=n("4GyQ"),ue=n("NDcT"),de=n("ySi0"),pe=n("nWMp"),me=n("2swC"),fe=n("VX36"),he=function(e){return l.createElement(g.c,{positionType:"fixed",animate:!0,onClose:e.modalOperations.onClose},l.createElement(be,{preferencesViewModel:e.preferencesViewModel,close:e.modalOperations.onClose,isSDUIEnabled:e.isSDUIEnabled,isOggyEnabled:e.isOggyEnabled}))},ge=function(){var e=l.useContext(ue.a.Context),t=l.useContext(g.a.TitleIdContext);return l.createElement(re.c,{id:t},e.editorSettingsModalHeader)},be=function(e){var t=e.preferencesViewModel,n=e.isSDUIEnabled,r=e.isOggyEnabled,i=e.close,a=l.useContext(ue.a.Context);return v.a.useEffectOnDidMount(t.trackOpened),v.a.useEffectOnWillUnmount(t.update),l.createElement(g.a,{className:Ee.popupWrapper},l.createElement(g.a.Header,{className:Ee.popupHeader},l.createElement(ge,null)),l.createElement(g.a.Body,{name:"preferencesBody",className:Ee.popupBody},!r&&l.createElement(Ce,{value:t.autoScrollToNextAlert,id:"autoScrollSwitcher",title:a.preferences.autoJumpToNextAlert,description:a.preferences.autoJumpToNextAlertDescription}),l.createElement(Ce,{value:t.muteQuotedAlerts,id:"muteCitedAlerts",title:a.preferences.muteQuotedAlerts}),l.createElement(Ce,{value:t.fontSize,id:"fontSizeIncreasedSwitcher",title:a.preferences.increaseFontSize}),l.createElement(Ce,{value:t.suggestionsVisualMode,id:"suggestionsVisualModeSwitcher",title:a.preferences.suggestionsVisualMode.title,description:n?a.preferences.suggestionsVisualMode.descritionSDUI:a.preferences.suggestionsVisualMode.description}),l.createElement(_e,{onClick:t.trackSuggestionManagementClicked})),l.createElement(g.a.Footer,null,l.createElement(te.a.Primary,{name:"pref-done-btn",className:Ee.doneButton,onClick:i},a.done)))},ve=function(e){var t=e.children;return l.createElement(re.l,{className:Ee.description},t)},ye=function(e){var t=e.children,n=e.className;return l.createElement("section",Object(le.c)(Ee.bodySection,n),t)},Oe=function(e){var t=l.useContext(ie.a.Context),n=l.useContext(ue.a.Context).preferences;return l.createElement(te.a,{name:"manage-suggestions",href:t.account.suggestions,target:"_blank",onClick:e.onClick,className:Ee.manageSuggestions},n.suggestionManagementLink,l.createElement(de.d.OuterLink,{className:Ee.manageSuggestionsIcon}))},_e=function(e){var t=l.useContext(ue.a.Context).preferences;return l.createElement(ye,null,l.createElement(Oe,{onClick:e.onClick}),l.createElement(ve,null,t.suggestionManagementDescription))},Ce=function(e){var t=e.value,n=e.id,r=e.title,i=e.description,a=e.className;return l.createElement(ye,{className:U.c.classes(Ee.setting,a)},l.createElement("label",{id:n},l.createElement(re.a,null,r),Boolean(i)?l.createElement(ve,null,i):null),l.createElement(fe.a,{checked:t,className:Ee.toggle,name:n,ariaLabelledBy:n}))},we=pe.a.rem(2),Se=pe.a.rem(1),ke=me.a.CoreBlue50,Ee=pe.a.prefixedStylesheet("preferencePopup",{popupWrapper:[{display:"flex",flexDirection:"column",width:pe.a.rem(27),userSelect:"none"}],popupHeader:[{padding:"".concat(pe.a.rem(3)," ").concat(we," ").concat(Se),backgroundColor:me.a.CoreNeutral0}],popupBody:[{padding:"0 ".concat(we)}],doneButton:[{padding:pe.a.important("0 ".concat(Se))}],bodySection:[{padding:"".concat(Se," 0"),borderTop:"1px solid ".concat(me.a.CoreNeutral20)}],description:[{color:me.a.CoreNeutral50,marginTop:pe.a.rem(.5),whiteSpace:"pre-line"}],selectableLabel:[{userSelect:"text",cursor:"text"}],setting:[{display:"flex",cursor:"pointer",justifyContent:"space-between"}],toggle:[{marginLeft:pe.a.rem(1.75),marginTop:pe.a.rem(.125)}],manageSuggestions:[{display:"flex",alignItems:"center",color:ke,fontSize:pe.a.rem(me.h.BodySize),fontWeight:me.h.BodyWeight,lineHeight:pe.a.rem(2),marginTop:pe.a.rem(-.3125)}],manageSuggestionsIcon:[{stroke:"currentColor"}]});!function(e){e.Tour="Tour",e.WhatsNew="WhatsNew",e.Proofit="Proofit",e.Preferences="Preferences",e.Feedback="Feedback",e.ChangePlan="ChangePlan",e.Dunning="Dunning",e.SignOut="SignOut",e.DeDeprecation="DeDeprecation"}($||($={})),(Y=Z||(Z={})).tour={type:$.Tour},Y.news={type:$.WhatsNew},Y.feedback={type:$.Feedback},Y.dunning={type:$.Dunning},Y.preferences={type:$.Preferences},Y.changePlan=function(e){return{type:$.ChangePlan,model:e}},Y.setGoals=f.c.setGoals,Y.performance=f.c.performance,Y.signOut={type:$.SignOut},Y.deDeprecation={type:$.DeDeprecation};var je=function(){function e(t,n,r,a,s,c,l,u,d,p,m,f,h,g,b){Object(i.a)(this,e),Object(o._)(this,"_userAccount",void 0),Object(o._)(this,"_textResources",void 0),Object(o._)(this,"_documentContext",void 0),Object(o._)(this,"_upgradeViewModel",void 0),Object(o._)(this,"_config",void 0),Object(o._)(this,"_environment",void 0),Object(o._)(this,"_feedbackViewModel",void 0),Object(o._)(this,"_notificationsManager",void 0),Object(o._)(this,"_documentModel",void 0),Object(o._)(this,"_reportViewModel",void 0),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"_categoriesModel",void 0),Object(o._)(this,"_bannersModel",void 0),Object(o._)(this,"_bannersFeatures",void 0),Object(o._)(this,"_logout",void 0),this._userAccount=t,this._textResources=n,this._documentContext=r,this._upgradeViewModel=a,this._config=s,this._environment=c,this._feedbackViewModel=l,this._notificationsManager=u,this._documentModel=d,this._reportViewModel=p,this._telemetry=m,this._categoriesModel=f,this._bannersModel=h,this._bannersFeatures=g,this._logout=b}return Object(a.a)(e,[{key:"load",value:function(e){switch(e.type){case $.ChangePlan:return this._loadChangePlanModal(e.model);case $.Tour:return this._loadTour();case $.WhatsNew:return this._loadWhatsNew();case $.Preferences:return this._loadPreferences();case $.Feedback:return this._loadFeedback();case $.Dunning:return this._loadDunning();case f.d.SetGoals:return this._loadSetGoals(e.source);case f.d.Performance:return this._loadPerformance();case $.Proofit:throw new Error("Failed to load ".concat(e," modal"));case $.SignOut:return this._loadSignOut();case $.DeDeprecation:return this._loadDeDeprecation();default:return Object(_.c)(e)}}},{key:"_loadTour",value:function(){var e=this;return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"+8ne")).then((function(t){var n=t.WelcomeModal;return function(t){var r=new X(e._userAccount.settings,e._userAccount.features.denali,t);return{instance:{type:$.Tour},component:l.createElement(n,{welcomeModalViewModel:r})}}}))}},{key:"_loadWhatsNew",value:function(){var e=this;return Promise.all([n.e(20).then(n.bind(null,"eyGe")).then((function(t){var n=t.newsMedia,r=t.initStaticNewsData,i=t.ordNews,a=Object.values(r(e._textResources.base)).map((function(e){return{id:e.id,date:e.date,content:Object(s._)({title:e.title,body:e.body},n[e.id])}})),o=u.Xb(i)(Object.values(a).filter((function(t){return e._userAccount.features.denali.newsConfig[t.id].visible()})));return o.forEach((function(e){(new Image).src=B.a.Content.isVideo(e.content)?e.content.poster:e.content.image})),o})),Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"m/9m"))]).then((function(t){var n=Object(c._)(t,2),r=n[0],i=n[1].WhatsNewPopup;return function(t){return{instance:{type:$.WhatsNew},component:l.createElement(i,{newsVM:new B.b(e._userAccount.settings),content:r,modalOperations:t})}}}))}},{key:"_loadSetGoals",value:function(e){var t=this;return Promise.resolve((function(n){var i=z(t._userAccount,t._documentContext,t._upgradeViewModel,t._telemetry,n,e,m.a.defaultContextFallback);return{instance:{type:f.d.SetGoals,source:e},component:h.b.mount(r.Modal,i)}}))}},{key:"_loadPreferences",value:function(){var e=this,t=new N(this._userAccount.settings,this._categoriesModel,this._userAccount.features.denali,this._telemetry);return Promise.resolve((function(n){return{instance:{type:$.Preferences},component:l.createElement(he,{preferencesViewModel:t,modalOperations:n,isSDUIEnabled:e._userAccount.features.denali.sdui,isOggyEnabled:e._userAccount.features.denali.oggy})}}))}},{key:"_loadFeedback",value:function(){var e=this;return Promise.resolve((function(t){return{instance:{type:$.Feedback},component:l.createElement(ce,{feedbackViewModel:e._feedbackViewModel,modalOperations:t})}}))}},{key:"_loadSignOut",value:function(){var e=this;return n.e(142).then(n.bind(null,"gRfh")).then((function(t){var n=t.SignOutPopup;return function(t){var r=n.Flow(t,e._telemetry,e._userAccount.settings,e._userAccount.features,e._logout);return{instance:{type:$.SignOut},component:h.b.mount(n.View,r)}}}))}},{key:"_loadDeDeprecation",value:function(){var e=this;return n.e(29).then(n.bind(null,"8qCA")).then((function(t){var n=t.DeDeprecationPopupView;return function(t){return{instance:{type:$.DeDeprecation},component:l.createElement(n,{type:"de-deprecation-popup",actions:e._bannersModel,onClose:t.onClose,daysRemaining:Object(d.pipe)(e._bannersFeatures,C.g.chain((function(e){return e.deDeprecation})),C.g.map((function(e){return e.daysLeft})),C.g.getOrElse((function(){return p.a.create(30)})))})}}}))}},{key:"_loadDunning",value:function(){var e=this;return n.e(141).then(n.bind(null,"tbHZ")).then((function(t){var n=t.DunningPopup;return function(t){var r=new E(e._userAccount,e._config,e._environment,e._telemetry);return{instance:{type:$.Dunning},component:l.createElement(n,{dunningViewModel:r,modalOperations:t})}}}))}},{key:"_loadPerformance",value:function(){var e=this;return Promise.resolve((function(t){var n=new D(e._reportViewModel,e._documentModel,e._notificationsManager,t),r=h.b.Knot.make(O.a.ModalView,{downloadButton:h.b.Node.make((function(){return l.createElement(ee.b,{reportViewModel:n.reportViewModel,state:n.state})}))}),i=h.a.fromSideEffect((function(e){switch(e.action.kind){case O.a.ActionsKind.close:t.onClose();break;default:Object(_.c)(e.action.kind)}}),n.state.pipe(y.a.map((function(e){return{root:e}}))));return{instance:{type:f.d.Performance},component:h.b.mount(r,i)}}))}},{key:"_loadChangePlanModal",value:function(e){var t=this;return Promise.resolve((function(n){var r=new w.a(e,n,t._notificationsManager,t._telemetry);return{instance:{type:$.ChangePlan,model:e},component:l.createElement(J,{changePlanViewModel:r})}}))}}]),e}()},"/Q61":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return M}));var r,i=n("8O/t"),a=n("B8yO"),o=n("tiWp"),s=n("4GyQ"),c=n("mgiE"),l=n("NDcT"),u=n("fC5a"),d=n("t39C"),p=n("ySi0"),m=n("D6wy"),f=n("wuWi"),h=n("D2TP"),g=n("Hj2R"),b=n("hzat"),v=n("KH+i"),y=n("7Cqk"),O=n("4Yir");!function(e){e.none="none",e.persistent="persistent",e.new="new"}(r||(r={}));const _=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:r}}=a.useContext(l.a.Context);return a.createElement("div",Object(s.c)(e,O.a.voxTitle,n?O.a.minimalTitle:void 0),a.createElement("span",null,t.companyName," ",r))},C=({logoUrl:e,className:t})=>a.createElement("img",Object(i._)({alt:"company logo","aria-hidden":!0,src:e},Object(s.c)(t,O.a.voxLogo))),w=({title:e,layoutDensity:t})=>a.createElement(f.a,{className:Object(o.pipe)(t,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>O.a.minimalTitle,()=>O.a.toneTitle))},a.createElement(d.b,{emojiClassName:O.a.toneLogo},e));function S(e){return h.a.outcomeTypeMatch({correctness:y.a.dotCorrectness,clarity:y.a.dotClarity,premium:y.a.dotAdvanced,engagement:y.a.dotEngagement,delivery:y.a.dotDelivery,vox:y.a.dotVox,knowledgeHub:y.a.knowledgeHub})(e.lensType)}function k(e){return h.a.outcomeTypeMatch({correctness:a.createElement(p.d.Correctness,{className:O.a.cardLogo}),clarity:a.createElement(p.d.ClarityOutcome,{className:O.a.cardLogo}),premium:a.createElement(p.d.Star,{className:O.a.cardLogo}),engagement:a.createElement(p.d.EngagementOutcome,{className:O.a.cardLogo}),delivery:a.createElement(p.d.DeliveryOutcome,{className:O.a.cardLogo}),vox:null,knowledgeHub:null})(e.lensType)}function E(e,t,n,r,l,u){const{extraProperties:m}=e;return b.a.isTakeaway(e)?function(e,t,n){return{style:"",description:a.createElement("div",{className:Object(o.pipe)(t,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>O.a.minimalTitle,()=>{}))},c.g.contains(g.n.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?a.createElement(p.d.ValidationOk,Object(i._)({width:16},Object(s.c)(O.a.cardLogo,O.a.takeawayIcon))):a.createElement(p.d.Megaphone,Object(i._)({width:16},Object(s.c)(O.a.cardLogo,O.a.takeawayIcon))),t===v.a.Density.minimal?n:e.lensName)}}(e,n,u):b.a.isShortenIt(e)?j(e,n,l,u):b.a.isToneAI(e)?function(e){return{style:S(e),description:a.createElement(f.a,{className:O.a.minimalTitle},e.title)}}(e):b.a.isEthicalAI(e)?function(e){return{style:"",description:a.createElement("div",null,void 0!==e.emojiID?a.createElement(d.c,{id:e.emojiID,className:O.a.toneLogo}):a.createElement(p.d.EthicalAI.Heart,Object(s.c)(O.a.cardLogo)),a.createElement(f.l,{className:O.a.ethicalAILabel},e.miniCardTitle))}}(e):b.a.isSuggestedSnippet(e)?function(e){return{style:S(e),description:a.createElement(f.a,{className:O.a.minimalTitle},e.title)}}(e):b.a.isKnowledgeHubSuggestedTerm(e)?function(e){return{style:S(e),description:a.createElement(f.a,{className:O.a.minimalTitle},e.miniCardTitle)}}(e):c.g.isSome(m.tone)?function(e,t){return{style:S(e),description:a.createElement(w,{title:e.title,layoutDensity:t})}}(e,n):t?c.g.isSome(m.vox)?function(e,t){return{style:y.a.dotVox,description:a.createElement(a.Fragment,null,Object(o.pipe)(e.logoUrl,c.g.fold(()=>null,e=>a.createElement(C,{logoUrl:e,className:O.a.cardLogo}))),a.createElement(_,{vox:e,isMinimalCard:t===v.a.Density.minimal}))}}(m.vox.value,n):b.a.isFree(e)?j(e,n,l,u):function(e,t,n,r){return{style:Object(o.pipe)(r,v.a.CardVisualMode.match({onRegular:()=>S(e),onContrast:()=>""})),description:a.createElement(a.Fragment,null,Object(o.pipe)(r,v.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>k(e)})),a.createElement("div",Object(s.c)(O.a.dualItemLabel,Object(o.pipe)(n,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>O.a.minimalTitle,()=>{}))),a.createElement("span",{className:O.a.dualItemLabel},e.lensName,a.createElement(I,{highlightStyle:t}))))}}(e,r,n,l):null}function j(e,t,n,r){return Object(o.pipe)(t,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>function(e,t,n){return{style:Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>S(e),onContrast:()=>""})),description:Boolean(n)?n:a.createElement(a.Fragment,null,Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>k(e)})),a.createElement(f.a,{className:O.a.minimalTitle},e.miniCardTitle))}}(e,n,r),()=>function(e,t){return{style:Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>S(e),onContrast:()=>""})),description:a.createElement(a.Fragment,null,Object(o.pipe)(t,v.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>k(e)})),e.lensName)}}(e,n)))}const x=({label:e})=>a.createElement("span",{className:O.a.fluencyLabel},e,a.createElement(u.b,{iconWidth:10,buttonClass:O.a.fluencyInfo,iconClass:O.a.fluencyInfo,title:a.useContext(l.a.Context).card.fluency.tooltip})),A=({style:e,description:t})=>a.createElement("span",Object(s.c)(O.a.lens,O.a.dot,e),t),I=({highlightStyle:e})=>{const t=a.useContext(l.a.Context);if(e===r.none)return null;const n=e===r.new?a.createElement("div",{className:O.a.newPremiumLabel},t.premiumAlertLabel.new,a.createElement(p.d.Paid,{className:O.a.newPremiumLabelIcon,width:12})):a.createElement(p.d.Paid,{className:O.a.premiumPersistentTooltipIcon,width:10});return a.createElement(m.a,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},T=({style:e,description:t,extraStyle:n})=>a.createElement("span",Object(s.c)(n,O.a.lensMinimal,O.a.lens,O.a.dot,e),t),M=e=>Object(o.pipe)(E(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),c.g.fromNullable,c.g.map(t=>a.createElement("div",{className:e.className},Object(o.pipe)(e.activeAlert.extraProperties.fluencyMessage,c.g.fold(()=>Object(o.pipe)(e.layoutDensity,v.a.Density.matchOrDefault(v.a.Density.minimal)(()=>a.createElement(T,t),()=>a.createElement(A,t))),n=>Object(o.pipe)(e.layoutDensity,v.a.Density.match(a.createElement(a.Fragment,null,a.createElement(A,t),a.createElement(x,{label:n})),a.createElement(A,t),a.createElement(T,{style:t.style,extraStyle:O.a.minimalTitle,description:e.activeAlert.miniCardTitle}))))))),c.g.fold(()=>a.createElement("div",{"data-purpose":"label-placeholder"}),t=>a.createElement(P,null,t,e.badge))),P=({children:e})=>a.createElement("div",{role:"definition",className:O.a.labelContainer},e)},"/VNA":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i=n("Wy1Y"),a=n("a5gI"),o=n("mMt2"),s=n("fr9z"),c=n("ShUL"),l=n("nWMp"),u={backgroundColor:n("2swC").a.CoreBlue20,backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{display:"none !important"}}},d=l.a.keyframes({"0%":{backgroundColor:"rgba(153, 194, 255, 1)"},"50%":{backgroundColor:"rgba(153, 194, 255, 0)"},"100%":{backgroundColor:"rgba(153, 194, 255, 1)"}}),p={animation:"".concat(d," 300ms 2 ease-out forwards !important"),animationIterationCount:"2 !important"},m=l.a.stylesheet({mark:[u],attention:[p]});!function(e){var t="selectionContextRange";e.create=function(e,n){return s.b.create(e,n,{type:t})};e.is=function(e){return e.meta.type===t}}(r||(r={}));var f=function e(t,n){var s=this;Object(i.a)(this,e),Object(a._)(this,"_ded",void 0),Object(a._)(this,"_rangeManager",void 0),Object(a._)(this,"_ranges",void 0),Object(a._)(this,"setContextHighlight",void 0),this._ded=t,this._rangeManager=n,this._ranges=new Set,this.setContextHighlight=function(e,t){var n="selection-context-".concat(e.start,"|").concat(e.end),i=s._ranges.has(n),a=r.create(e.start,e.end),l={range:function(){return a},order:0,classes:[m.mark].concat(Object(o.a)("attention"===t?[m.attention]:[]))};"hidden"===t?(i&&(s._ded.changeMarks([c.a.Change.getRemoveAction({range:function(){return a}})(n)]),s._rangeManager.deregisterRange(n)),s._ranges.delete(n)):i?s._ded.changeMarks([c.a.Change.getUpdateAction(l)(n)]):(s._rangeManager.registerRange(n,a),s._ded.changeMarks([c.a.Change.getCreateAction(l)(n)]),s._ranges.add(n))}}},"/XMJ":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("x+Pc"),i=n("tiWp"),a=n("pHLr"),o=n("UK5+"),s=n("fB2g"),c=n("XGsl");function l(e,t,n){return Object(i.pipe)(e,p,m(t),f(n,t.length+1),g,(function(e){return e.innerHTML}))}var u,d=function(){return s.a.getStyles()+"\n.".concat(a.a.markBulkApplied&&a.a.markBulkApplied.split(/\s/)[0]," { border-bottom-style: hidden !important }")+"\n.".concat(a.a.markSelected&&a.a.markSelected.split(/\s/)[0]," { background-color: transparent !important }")},p=function(e){var t=document.createElement("div");return t.innerHTML=e,t},m=function(e){return function(t){return e.reduce(function(e){return function(t,n,r){return n.getHighlightRanges().filter(o.b.isMainView).forEach((function(n){var i=e.querySelectorAll("[".concat(u.MARK_ID,'="').concat(n.meta.id,'"]'));if(i.length>0){var a=i[i.length-1],o=function(e,t){var n=document.createElement("span");return n.className=c.a.superscriptContainer,n.innerHTML='<span class="'.concat(e," ").concat(c.a.superscript,'" data-superscript>').concat(t+1,"</span>"),n}(a.classList.value,r);a.appendChild(o),t.push(o)}})),t}}(t),[]).forEach(v),Array.from(t.querySelectorAll("span."+c.b)).forEach(b),t}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return e.forEach((function(e,r){return e.getHighlightRanges().filter(o.b.isMainView).forEach((function(e){var i=n.querySelectorAll("[".concat(u.MARK_ID,'="').concat(e.meta.id,'"]')),a=(t+r).toString();i.forEach((function(e){return e.setAttribute(u.VERTICAL_UNDERLINE,a)})),Boolean(i[0])&&(i[0].setAttribute(u.VERTICAL_START,""),h(i[0],a),i[i.length-1].setAttribute(u.VERTICAL_END,""))}))})),n}},h=function(e,t){return e.insertAdjacentHTML("afterbegin","<span ".concat(u.VERTICAL_INDEX,">").concat(t,"</span><span ").concat(u.VERTICAL_BODY,"><br /></span>"))},g=function(e){return e.querySelectorAll("[".concat(u.VERTICAL_INDEX,"]")).forEach((function(t){var n=t.textContent;e.querySelectorAll("[".concat(u.VERTICAL_UNDERLINE,'="').concat(n,'"] [').concat(u.VERTICAL_END,"]")).forEach((function(e){e.removeAttribute(u.VERTICAL_END)}))})),e};function b(e,t,n){var r,i;n.length>t+1&&(r=e,i=n[t+1],r.textContent.length-function(e,t){var n=document.createRange();return n.setStartAfter(e),n.setEndBefore(t),n.toString().length}(r,i)>=0)&&function(e){e.style.width="auto",e.parentElement.insertAdjacentElement("afterend",e)}(e)}function v(e){if(e.children.length>0&&e.previousSibling){var t=Array.from(e.children);e.innerHTML="",function e(t){var n=[];if(!Object(r.a)(t,Element))return n;t.matches("[".concat(u.MARK_ID,"]"))&&t.lastElementChild&&t.lastElementChild.classList.contains(c.b)&&(n=Array.from(t.lastElementChild.children),t.lastElementChild.remove());return t.lastElementChild?n.concat(e(t.lastElementChild)):n}(e.previousSibling).concat(t).sort((function(e,t){return Number(e.textContent)-Number(t.textContent)})).forEach((function(t){return e.appendChild(t)}))}}!function(e){e.MARK_ID="data-mark-id",e.VERTICAL_UNDERLINE="data-vertical-underline",e.VERTICAL_START="data-vertical-underline-start",e.VERTICAL_BODY="data-vertical-underline-body",e.VERTICAL_END="data-vertical-underline-end",e.VERTICAL_INDEX="data-vertical-underline-index"}(u||(u={}))},"/jTu":function(e){e.exports=JSON.parse('{"issuesWrapper":"_1a1e3949-new_toggler-issuesWrapper","criticalCounter":"_008efcf3-new_toggler-criticalCounter","advancedCounter":"_27733a69-new_toggler-advancedCounter","criticalCounterWrapper":"_c866ffce-new_toggler-criticalCounterWrapper","criticalCounterContent":"_7ff7d450-new_toggler-criticalCounterContent","advancedCounterWrapper":"_f5d3206f-new_toggler-advancedCounterWrapper","advancedCounterContent":"_91c5f753-new_toggler-advancedCounterContent"}')},"/pMd":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return x}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("4GyQ"),u=n("OwvP"),d=n("+vYo"),p=n("NDcT"),m=n("fC5a"),f=n("L8Yl"),h=n("hSa3"),g=n("ySi0"),b=n("sX1a"),v=n("D2TP"),y=n("uxqH"),O=n("KH+i"),_=n("0kuo"),C=n("mgiE"),w=n("Lsxp"),S=function(e){var t=e.title,n=e.tooltip,s=e.tooltipAlignment,c=e.isActive,u=e.isDisabled,d=e.className,p=e.children,h=Object(a._)(e,["title","tooltip","tooltipAlignment","isActive","isDisabled","className","children"]);return o.createElement(m.a,Object(r._)(Object(i._)(Object(r._)({},h),{styleType:b.Typography.Type.Base,active:c,tag:f.b.div,title:"string"==typeof n?o.createElement("div",{className:w.a.tooltip},n):n,titleAlign:s,disabled:u}),Object(l.c)(w.a.outcomeBtn,w.a.outcomeBtnBorders,d)),t,p)};var k=function(e){var t=e.progress,n=e.label;return o.createElement("div",{className:w.a.progressBarBg},o.createElement(u.a.div,{className:w.a.progressBar,"aria-label":n,role:"progressbar","aria-valuenow":t.view(y.a.iso.unwrap),style:t.view((function(e){return Boolean(e)?{transform:"translateX(".concat(e,"%)")}:{}}))}))},E=function(e){var t=e.lens,n=e.activeLensId,i=e.tooltipAlignment,a=e.isDisabled,s=e.cardVisualMode,p=e.onClick;return o.createElement(m.a,Object(r._)({id:t.id,name:"lens-".concat(t.id),styleType:b.Typography.Type.Base,tag:f.b.div,active:n.view((function(e){return e===t.id})),title:t.description&&o.createElement("div",{className:w.a.tooltip},t.description),"aria-label":"".concat(t.title,": ").concat(t.description),titleAlign:i,disabled:a,onClick:p},Object(l.c)(n.view((function(e){return e!==t.id&&!v.a.isMainLens(e)&&e!==v.a.SpecialId.Premium})).view((function(e){return e&&w.a.inactive})),function(e){switch(e){case v.a.SpecialId.Correctness:return w.a.correctness;case v.a.SpecialId.Clarity:return w.a.clarity;case v.a.SpecialId.Engagement:return w.a.engagement;case v.a.SpecialId.Delivery:return w.a.delivery;case v.a.SpecialId.Vox:return w.a.vox;case v.a.SpecialId.KnowledgeHub:return w.a.knowledgeHub;case v.a.SpecialId.Plagiarism:return w.a.plagiarism;default:return Object(_.c)(e)}}(t.id),w.a.outcomeBtnBorders)),t.title,Boolean(t.status)?o.createElement(b.Typography.Small,{className:w.a.outcomeStatus},t.status):null,o.createElement(k,{label:t.title,progress:t.progress}),Object(c.pipe)(t.logo,C.g.map((function(e){return o.createElement(j,{className:w.a.voxLogo,key:"logo",src:e})})),C.g.getOrElse((function(){return o.createElement(u.a.Fragment,null,d.a.combine(t.progress.view(y.a.isMax),t.isUnavailable,s,(function(e,n,r){return e?o.createElement(g.d.CheckmarkOutcomes,{key:"checkmark",className:w.a.checkmarkIcon}):n?o.createElement(g.d.Info,{key:"info",width:11,className:w.a.infoIcon}):r===O.a.CardVisualMode.ContrastLightMode?(i=t.type,a=w.a.checkmarkIcon,[v.a.Type.Critical,v.a.Type.Plagiarism,v.a.Type.Other].includes(i)?null:v.a.outcomeTypeMatch({correctness:o.createElement(g.d.Correctness,{className:a}),clarity:o.createElement(g.d.ClarityOutcome,{className:a}),premium:o.createElement(g.d.Star,{className:a}),engagement:o.createElement(g.d.EngagementOutcome,{className:a}),delivery:o.createElement(g.d.DeliveryOutcome,{className:a}),vox:null,knowledgeHub:null})(i)):null;var i,a})))}))))},j=function(e){var t=e.src,n=e.className;return o.createElement("img",{"aria-hidden":!0,className:n,src:t,alt:""})},x=function(e){var t=e.id,n=e.data,r=e.name,i=e.activeLensId,a=e.onClick,c=o.useContext(p.a.Context);return o.createElement(u.a.Fragment,null,n.view(Object(s.flow)(C.g.map((function(e){return o.createElement(S,{id:t,key:e.id,name:r,title:e.title,isActive:i.view((function(e){return e===t})),onClick:a,className:w.a.premium},o.createElement(u.a.Fragment,null,e.alerts.view((function(e){return o.createElement(h.a.OutcomeCounter,{theme:w.a,count:e})}))),o.createElement(b.Typography.Small,{className:w.a.outcomeStatus},c.sidebar.advancedAlerts))})),C.g.toNullable)))}},"/taW":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r,i,a,o,s=n("U9Go"),c=n("MHMU"),l=n("tiWp"),u=n("+vYo"),d=n("rOJn"),p=n("mgiE");!function(e){e.group=p.d.getStructGroup({critical:p.d.groupSum,advanced:p.d.groupSum,free:p.d.groupSum,freePremium:p.d.groupSum,paid:p.d.groupSum,unread:p.d.groupSum,muted:p.d.groupSum}),e.eq=s.l({critical:s.g,advanced:s.g,free:s.g,freePremium:s.g,paid:s.g,unread:s.g,muted:s.g}),e.show=c.a({critical:c.d,advanced:c.d,free:c.d,paid:c.d,unread:c.d,muted:c.d});e.isValid=function(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0},e.isEmpty=function(e){return r.eq.equals(e,r.group.empty)}}(r||(r={})),function(e){var t=e.MIN_GOALS=3;e.TOTAL_GOALS=t+1;e.calculateCompleteness=function(e){const t=Object(l.pipe)(e.goals,p.g.exists(e=>e.size>0));return d.a.eq.equals(e,d.a.unset)||Object(l.pipe)(e.domain,p.g.forAll(e=>"general"===e))&&!(p.g.isSome(e.audience)||p.g.isSome(e.style)||t)?0:Number(t||0)+i.MIN_GOALS}}(i||(i={})),function(e){e.zero={full:0,trimmed:0}}(a||(a={})),function(e){let t;!function(e){e[e.Document=0]="Document",e[e.Plagiarism=1]="Plagiarism"}(t=e.CheckingKind||(e.CheckingKind={}));e.Mock={getCheckingForState:()=>u.a.create({kind:o.CheckingKind.Document,type:"idle"})}}(o||(o={}))},"/u+j":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return j}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("mMt2"),c=n("tiWp"),l=n("+vYo"),u=n("D2TP"),d=n("Hj2R"),p=n("XPG3");!function(e){e.group=function(e){return Object.values(e.reduce((e,{lensName:t,isFree:n,cost:r})=>(void 0===e[t]&&(e[t]={lensName:t,free:0,premium:0}),e[t][n?"free":"premium"]+=r,e),{})).sort((e,t)=>t.premium-e.premium)}}(r||(r={}));var m,f=n("mEGS"),h=n("UUXv"),g=n("IrSI"),b=n("TDJj"),v=n("xk6L"),y=n("La5+"),O=n("mgiE"),_=n("TKPA"),C=n("0kuo"),w=n("skc2"),S=n("M3t0"),k=n("s1NC"),E=n("xAs4");(m||(m={})).Mock=function e(){Object(i.a)(this,e),Object(o._)(this,"events",new v.a.Subject),Object(o._)(this,"advancedAlerts",l.a.create(O.g.none)),Object(o._)(this,"openUpgradeUrl",_.e),Object(o._)(this,"fromGbVoxUpHookLens",_.e),Object(o._)(this,"fromGrammarlyGO",_.e),Object(o._)(this,"enableGBVoxHookLens",_.e),Object(o._)(this,"displayValue",(function(){return""})),Object(o._)(this,"isEligibleForFreeTrial",void 0)};var j=function(){function e(t,n,r,a,s,l,p,m,f,h,g,b){var C=this;Object(i.a)(this,e),Object(o._)(this,"_checkingDomain",void 0),Object(o._)(this,"_lensState",void 0),Object(o._)(this,"_lensPreviewVM",void 0),Object(o._)(this,"_docId",void 0),Object(o._)(this,"_environment",void 0),Object(o._)(this,"_upgradeHook",void 0),Object(o._)(this,"_config",void 0),Object(o._)(this,"_uphookFormat",void 0),Object(o._)(this,"_uphookDestination",void 0),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"_navigateToDocuments",void 0),Object(o._)(this,"_checkEligibleForFreeTrial",void 0),Object(o._)(this,"_log",void 0),Object(o._)(this,"_subs",void 0),Object(o._)(this,"events",void 0),Object(o._)(this,"advancedAlerts",void 0),Object(o._)(this,"_createUpgradeUrl",void 0),this._checkingDomain=t,this._lensState=n,this._lensPreviewVM=r,this._docId=a,this._environment=s,this._upgradeHook=l,this._config=p,this._uphookFormat=m,this._uphookDestination=f,this._telemetry=h,this._navigateToDocuments=g,this._checkEligibleForFreeTrial=b,this._log=S.d.Logging.getLogger("UpgradeViewModel"),this._subs=new y.a.Keeper,this.events=new v.a.Subject,this.advancedAlerts=this._lensPreviewVM.getLens(u.a.SpecialId.Premium).view((function(e){var t=e.count;return t>0?Object(c.pipe)(O.g.some({count:t,alerts:function(){return C._formatLiteAlerts(C._getGroupedLiteAlerts((function(e){return d.a.isPremium(e)})))}}),O.g.filter((function(e){var t=e.alerts;return Object(_.n)(t())}))):O.g.none})),this._createUpgradeUrl=function(e){var t=C._upgradeHook.fromDenaliDocumentToPlans(e,C._docId,C._getGroupedLiteAlerts(Object(_.m)(d.a.isPlagiarism)),C._getGroupedLensAlerts(Object(_.m)(d.a.isPlagiarism)));return O.g.isNone(C._uphookDestination)?t:C._uphookDestination.value===E.m.plansPage?t.addParams({redirectUphookToUpgradePageExp:"1"}):C.isEligibleForFreeTrial?C._upgradeHook.fromDenaliDocumentToUpgradeTry(e,C._docId):C._upgradeHook.fromDenaliDocumentToUpgrade(e,C._docId)},this._subs.push(this._listenHookEvents())}return Object(a.a)(e,[{key:"_listenHookEvents",value:function(){var e=this;return this.events.pipe(v.a.tap((function(t){var n=e._lensState.get().currentLens.id;switch(t.kind){case g.a.ActionsKind.onMiniShow:[u.a.SpecialId.FreePremiumAlerts].includes(n)&&e._telemetry.gnarSpec.miniAdvancedIssuesCardShow(n,e._telemetry.pageId);break;case h.a.ActionsKind.onFullShow:[u.a.SpecialId.Premium,u.a.SpecialId.FreePremiumAlerts].includes(n)&&e._telemetry.gnarSpec.expandedAdvancedIssuesCardShow(n,e._telemetry.pageId);break;case b.a.ActionsKind.onUpgradeButtonMount:break;case b.a.ActionsKind.onUpgrade:case h.a.ActionsKind.onUpgrade:e._telemetry.gnarSpec.getPremiumButtonClick(e._telemetry.pageId,"goPremium","advancedIssuesCard"),e.openUpgradeUrl(k.i.Place.DenaliDocument.editorDenaliUpgradeInline);break;case h.a.ActionsKind.onContinueWithFreePlan:e._telemetry.gnarSpec.continueFreeButtonClick(e._telemetry.pageId),e._navigateToDocuments();break;default:Object(C.c)(t)}}))).subscribe()}},{key:"_formatLiteAlerts",value:function(e){var t=e.slice(0,5),n=e.slice(5).map((function(e){return e.count})).reduce(_.t,0);return n>0?Object(s.a)(t).concat([{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:O.g.some("more...")}]):t}},{key:"openUpgradeUrl",value:function(e){var t=this;Object(c.pipe)(O.b.tryCatchError((function(){return t._createUpgradeUrl(e)})),O.b.chain(this._environment.actions.openUrl),O.b.getOrElse((function(e){return t._log.fatal("unexpected error on open upgrade page",e)})))}},{key:"fromGbVoxUpHookLens",value:function(){var e=this;Object(c.pipe)(O.b.tryCatchError((function(){return e._upgradeHook.fromGbVoxUpHookLens()})),O.b.chain(this._environment.actions.openPopup),O.b.getOrElse((function(t){return e._log.fatal("unexpected error on open upgrade page",t)})))}},{key:"fromGrammarlyGO",value:function(){var e=this;Object(c.pipe)(O.b.tryCatchError((function(){return e._upgradeHook.fromGrammarlyGO()})),O.b.chain(this._environment.actions.openPopup),O.b.getOrElse((function(t){return e._log.fatal("unexpected error on open upgrade pag for GrammarlyGO",t)})))}},{key:"enableGBVoxHookLens",value:function(){var e=this;Object(c.pipe)(O.b.tryCatchError((function(){return new w.a(e._config.account.styleGuide)})),O.b.chain(this._environment.actions.openPopup),O.b.getOrElse((function(t){return e._log.fatal("unexpected error on open admin style guide page",t)})))}},{key:"displayValue",value:function(e){return Object(c.pipe)(this._uphookFormat,O.g.map((function(t){return t===E.n.layoutGroup?e.lensName:Object(c.pipe)(e.bundleInfo,O.g.getOrElse((function(){return e.categoryHuman})))})),O.g.getOrElse((function(){return e.categoryHuman})))}},{key:"_noRemovedFilter",value:function(e){return function(t){return!d.a.isRemoved(t)&&e(t)}}},{key:"_getGroupedLiteAlerts",value:function(e){var t=this;return Object(c.pipe)(this._checkingDomain.state.get(),f.a.reduce([],(function(n,r){return t._noRemovedFilter(e)(r.alert)&&n.push(r.alert.toLiteAlert()),n})),Object(c.pipe)(this._uphookFormat,O.g.map((function(e){return e===E.n.layoutGroup?p.a.groupByGroup:p.a.groupByBundleInfo})),O.g.getOrElse((function(){return p.a.group}))))}},{key:"_getGroupedLensAlerts",value:function(e){var t=this;return Object(c.pipe)(this._checkingDomain.state.get(),f.a.reduce([],(function(n,r){return t._noRemovedFilter(e)(r.alert)&&n.push(r.alert.toLensAlert()),n})),r.group)}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"isEligibleForFreeTrial",get:function(){return this._checkEligibleForFreeTrial()}}]),e}()},"020W":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("B8yO"),a=n("ySi0");!function(e){e.GrammarlyGO=function(e){var t=e.className,n=e.width,r=void 0===n?23:n;return i.createElement(a.e,{className:t,width:r,viewBox:"0 0 23 23"},i.createElement("path",{fill:"var(--path-fill-1, #2551DA)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"}),i.createElement("mask",{id:"a",width:"16",height:"18",x:"3",y:"3",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},i.createElement("path",{fill:"var(--path-fill-2, #018374)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"})),i.createElement("g",{filter:"url(#b)",mask:"url(#a)",opacity:".9"},i.createElement("mask",{id:"c",fill:"#fff"},i.createElement("path",{stroke:"none",fillRule:"evenodd",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"})),i.createElement("path",{fill:"var(--path-fill-3, #34BCFF)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"}),i.createElement("path",{fill:"var(--path-fill-4, #2551DA)",stroke:"none",d:"m16.1 15-.7-.8.7.8ZM15 17v1h.8l.1-.8-1-.2Zm-9-2-.7.7.7-.7ZM7 17l-1 .2.2.8h.8v-1Zm7.6 1.5h1l.1-1h-1v1Zm-7.4 0v-1H6.2l.1 1h1Zm7.4.7-1-.1h1Zm-7.4 0h-1 1Zm8.1-5c-.6.7-1.3 1.5-1.5 2.6l2 .4c0-.5.4-1 1-1.5l-1.5-1.5Zm1.8-4.2c0 1.7-.6 3.2-1.8 4.2l1.4 1.5a7.9 7.9 0 0 0 2.4-5.7h-2ZM11 4c3.5 0 6.3 2.7 6.3 6h2c0-4.5-3.8-8-8.3-8v2Zm-6.3 6c0-3.3 2.8-6 6.3-6V2a8.1 8.1 0 0 0-8.3 8h2Zm1.9 4.2A5.9 5.9 0 0 1 4.8 10h-2c0 2.2.9 4.2 2.4 5.7l1.4-1.5ZM8 16.8c-.2-1-.9-2-1.5-2.6l-1.4 1.5c.5.5.8 1 1 1.5l2-.4ZM15 16H7v2H15v-2Zm-.2 1.5H7.3v2h7.4v-2Zm1 1.7v-.6l-2-.2v.7l2 .1Zm-3 2.8a3 3 0 0 0 3-2.8l-2-.1c0 .5-.5.9-1 .9v2Zm-3.4 0h3.4v-2H9.3v2Zm-3-2.8a3 3 0 0 0 3 2.8v-2a1 1 0 0 1-1-1l-2 .2Zm0-.6v.6l2-.1v-.7l-2 .2Z",mask:"url(#c)"})),i.createElement("g",{filter:"url(#d)"},i.createElement("path",{fill:"#fff",stroke:"none",d:"M14.5 10.6a3.8 3.8 0 0 0-2.8 2.8v.1c-.2.7-1.2.7-1.3 0a3.8 3.8 0 0 0-2.9-2.9c-.7-.1-.7-1 0-1.2a3.8 3.8 0 0 0 2.9-2.9c.1-.7 1-.7 1.2 0a3.8 3.8 0 0 0 2.9 2.9c.7.1.7 1 0 1.2Z"})),i.createElement("defs",null,i.createElement("filter",{id:"b",width:"26.5",height:"30",x:"-2.3",y:"-3",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_5277_13171",stdDeviation:"3"})),i.createElement("filter",{id:"d",width:"20",height:"20",x:"1",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.createElement("feOffset",null),i.createElement("feGaussianBlur",{stdDeviation:"3"}),i.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0.00392157 0 0 0 0 0.513726 0 0 0 0 0.454902 0 0 0 1 0"}),i.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5277_13171"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5277_13171",result:"shape"}))))},e.Rewrite=function(e){var t=e.className,n=e.width,r=void 0===n?24:n;return i.createElement(a.e,{className:t,width:r,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.866 4.5C12.3877 4.22386 11.7761 4.38773 11.5 4.86603L10.2469 7.03649L14.577 9.53649L15.8301 7.36603C16.1063 6.88773 15.9424 6.27614 15.4641 6L12.866 4.5ZM13.8256 10.8379L9.49549 8.33793L6.2476 13.9634C6.07792 14.2573 5.98582 14.5896 5.97995 14.9289L5.91538 18.6643C5.90859 19.0569 6.33617 19.3038 6.67275 19.1016L9.87546 17.178C10.1664 17.0032 10.408 16.7573 10.5777 16.4634L13.8256 10.8379Z",fill:"#018374"}),i.createElement("mask",{id:"mask0_5345_15767",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"4",width:"11",height:"16"},i.createElement("path",{d:"M12.8667 4.50011C12.3885 4.22397 11.7769 4.38784 11.5007 4.86613L10.2476 7.0366L14.5777 9.5366L15.8308 7.36613C16.107 6.88784 15.9431 6.27625 15.4648 6.00011L12.8667 4.50011Z",fill:"#018374"}),i.createElement("path",{d:"M13.8263 10.838L9.49621 8.33804L6.24832 13.9636C6.07864 14.2574 5.98653 14.5897 5.98067 14.929L5.9161 18.6644C5.90931 19.057 6.33689 19.3039 6.67347 19.1017L9.87618 17.1781C10.1671 17.0033 10.4088 16.7574 10.5784 16.4636L13.8263 10.838Z",fill:"#018374"})),i.createElement("g",{mask:"url(#mask0_5345_15767)"},i.createElement("g",{opacity:"0.9",filter:"url(#filter0_f_5345_15767)"},i.createElement("path",{d:"M12.9435 2.36572L17.2737 4.86572L10.676 16.2933L4.49997 22L6.34584 13.7933L12.9435 2.36572Z",fill:"#00FFCE"}),i.createElement("path",{d:"M13.1266 3.04874L16.5907 5.04874L10.2809 15.9775L5.34021 20.5429L6.81694 13.9773L13.1266 3.04874Z",stroke:"#018374"}))),i.createElement("path",{d:"M8.69157 4.88121C7.81024 5.08868 7.12071 5.77187 6.90771 6.64867L6.89649 6.69484C6.79751 7.10228 6.2155 7.1015 6.11762 6.69381L6.10975 6.66104C5.8991 5.78369 5.21143 5.09867 4.3307 4.88884L4.30738 4.88329C3.89754 4.78565 3.89754 4.20481 4.30738 4.10717L4.3307 4.10161C5.21144 3.89178 5.89911 3.20676 6.10975 2.32942L6.11532 2.30619C6.21334 1.89794 6.79643 1.89794 6.89445 2.30619L6.90002 2.32942C7.11067 3.20677 7.79833 3.89179 8.67907 4.10161L8.69262 4.10484C9.10303 4.20262 9.10224 4.78454 8.69157 4.88121Z",fill:"#018374"}),i.createElement("path",{d:"M17.6916 17.8812C16.8102 18.0887 16.1207 18.7719 15.9077 19.6487L15.8965 19.6948C15.7975 20.1023 15.2155 20.1015 15.1176 19.6938L15.1097 19.661C14.8991 18.7837 14.2114 18.0987 13.3307 17.8888L13.3074 17.8833C12.8975 17.7856 12.8975 17.2048 13.3074 17.1072L13.3307 17.1016C14.2114 16.8918 14.8991 16.2068 15.1097 15.3294L15.1153 15.3062C15.2133 14.8979 15.7964 14.8979 15.8944 15.3062L15.9 15.3294C16.1107 16.2068 16.7983 16.8918 17.6791 17.1016L17.6926 17.1048C18.103 17.2026 18.1022 17.7845 17.6916 17.8812Z",fill:"#018374"}),i.createElement("defs",null,i.createElement("filter",{id:"filter0_f_5345_15767",x:"-1.5",y:"-3.63428",width:"24.7737",height:"31.6343",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_5345_15767"}))))}}(r||(r={}))},"0IPU":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r,i,a=n("DTwm"),o=n("+vYo"),s=n("xk6L"),c=n("mgiE");!function(e){e.mock=()=>({isStepEnabled:a.constFalse,subscribeForStep:()=>{throw new Error("Not implemented")},getStepCompletionCallback:Object(a.constant)(a.constVoid),changeState:a.constVoid,relaunchAllSteps:a.constVoid,getFirstTargetRect:()=>s.a.of(c.g.none),isLastStep:a.constFalse,completionTrigger:o.a.create(!1)})}(r||(r={})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Popover="popover",e.Passed="passed"}(i||(i={}))},"0LHr":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r,i,a,o=n("a5gI"),s=n("U9Go"),c=n("YqdJ");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(r||(r={})),function(e){e.Impl=class{constructor(e,t,n){Object(o._)(this,"scrollTop",void 0),Object(o._)(this,"viewport",void 0),Object(o._)(this,"converters",void 0),this.scrollTop=e,this.viewport=t,this.converters=c.a.converters(e,c.b.FromWindowTop.ISO.unwrap(t.top),n)}}}(i||(i={})),function(e){const t=Object(s.l)({top:s.g,height:s.g});e.eqDimensionsTuple=Object(s.m)(t,t)}(a||(a={}))},"0dDw":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i=n("B8yO"),a=n("OwvP"),o=n("111I"),s=n("2swC"),c=n("NDcT"),l=n("fC5a"),u=n("ySi0"),d=n("wuWi"),p=n("nWMp"),m=n("xk6L"),f=n("ZDrO"),h=n("DTwm"),g=n("mgiE"),b=n("RRF2"),v=n("cZ4c");(r||(r={})).getReplacementLabelText=e=>Object(h.pipe)(e,g.g.filter(v.j.isRegular),g.g.map(b.e.pick("labels")),g.g.chain(Object(h.flow)(g.a.head,g.g.chain(g.a.head),g.g.map(b.e.pick("text")))),g.g.getOrElse(Object(h.constant)("")));var y,O,_,C=n("JRBS"),w=n("F0/G"),S=n("PYgo"),k=n("+Zdc");O=y||(y={}),_=O.Component=o.b.Node.make(({notify:e,state:t})=>{const n=i.useContext(c.a.Context);return i.createElement("div",{className:T.container},i.createElement("div",{className:T.header},i.createElement(u.d.Sparkles,{width:20})," ",i.createElement(d.a,null,n.undoCard.title)),i.createElement(a.a.div,{className:T.buttonsContainer},t.pipe(m.a.map(({alert:t,replacementLabels:a})=>[i.createElement(l.a.Primary,{key:0,name:"inline-undo-confirm",className:T.confirmButton,onClick:f.d.callOnce(e({type:S.b.Type.confirmed,alertId:t.id}))},n.undoCard.confirm),i.createElement(l.a.Primary,{key:1,name:"inline-undo-revert",className:T.undoButton,onClick:f.d.callOnce(e({type:S.b.Type.undone,alertHighlight:{alert:t,highlightIndex:0}}))},n.undoCard.revert(i.createElement("span",{className:T.replacement},i.createElement(C.a,{newText:t.highlightTexts[0],oldText:r.getReplacementLabelText(a),theme:w.b}))))]))))}),O.View=k.a.UI.fromNode(_);const E={padding:p.a.rem(.25)},j={display:"flex",padding:`${p.a.rem(.25)} ${p.a.rem(.75)}`},x={color:s.a.CoreRed50,fontStyle:"italic"},A={marginRight:p.a.rem(.5),textTransform:"none",letterSpacing:s.h.BodyLetterSpacing,fontWeight:s.h.ButtonWeight,fontSize:p.a.rem(s.h.BodySize),$nest:{"&[data-textpos='left']":{padding:"0 "+p.a.rem(.5)},"&[data-textpos='right']":{padding:"0 "+p.a.rem(.5)},"&[data-textpos='everywhere']":{padding:"0 "+p.a.rem(.5)}}},I={marginRight:0,background:s.a.CoreNeutral10,color:s.a.CoreNeutral90,fontWeight:s.h.BodyWeight,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:s.a.CoreNeutral10}}},T=p.a.stylesheet({container:[E],header:[{display:"flex",alignItems:"center"}],buttonsContainer:[j],replacement:[x],confirmButton:[A],undoButton:[A,I]})},"0hKP":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("mgiE"),c=n("RRF2"),l=n("2swC"),u=n("AVzG"),d=n("nWMp"),p=n("e1WO"),m=n("wj1X");const f=()=>a.createElement(m.a,null,Object(o.flow)(s.g.map(e=>a.createElement(u.a.ByAbsoluteRect,Object(i._)(Object(r._)({rect:c.c.Rect.fromEl(e.target),className:b.container},u.a.Alignment.toSelector(e.alignment)),{withPin:!0}),a.createElement("div",{className:b.content},e.content))),s.g.toNullable)),h={position:"fixed",zIndex:p.level5,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},g={padding:`${d.a.rem(.25)} ${d.a.rem(1)}`,borderRadius:d.a.rem(p.radius2),background:l.a.BackgroundTooltip,color:l.a.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:d.a.px(.25),fontSize:d.a.rem(.75),lineHeight:d.a.rem(1)},b=d.a.stylesheet({container:[h],content:[g]})},"0jky":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("t5lx"),l=n("B8yO"),u=n("NDcT"),d=n("ykgB"),p=n("Eve8"),m=n("txgs"),f=n("s1NC"),h=(n("+QUQ"),n("xsvI")),g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.apply(this,arguments),Object(o._)(Object(r.a)(e),"_inputElement",void 0),Object(o._)(Object(r.a)(e),"_onMount",(function(t){var n,r;null===(n=(r=e.props).mount)||void 0===n||n.call(r,t),null!=t&&(e._inputElement=t,e._inputElement.onchange=function(t){return e._onChange()(t)})})),Object(o._)(Object(r.a)(e),"_onChange",(function(){return function(t){Boolean(t.persist)&&t.persist();var n="dataTransfer"in t?t.dataTransfer.files:t.target.files;if(Boolean(n)&&n.length&&!d.a.isInProgress(e.props.documentUpload.state.get())){var r=e.props.documentUpload.upload({files:n,notify:1===n.length,allowMultiple:e.props.multiple,isDragNDrop:!1}).then((function(){e._inputElement.value=""}));void 0!==e.props.onUpload&&e.props.onUpload(r)}}})),e}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){this.props.documentUpload.navigated()}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideTooltip,r=t.ariaHidden;return l.createElement(m.b.Context.Consumer,null,(function(t){return l.createElement(u.a.Context.Consumer,null,(function(i){return l.createElement("input",{ref:e._onMount,id:"upload","data-name":"upload-element",type:"file",tabIndex:-1,accept:(a=t.info.browser,"safari"===a?f.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):f.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")),title:i.tooltipUploadElementInput,multiple:e.props.multiple,className:Boolean(n)?h.upload:h.uploadContainer,onChange:e._onChange(),"aria-label":i.tooltipUploadElementInput,"aria-hidden":r});var a}))}))}}]),n}(p.b)},"0nEn":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("000W"),o=n("DTwm"),s=n("tiWp"),c=n("0Qjk"),l=n("mgiE"),u=n("0kuo"),d=n("cZ4c");function p(e,{text:t,ops:n}){n.reduce((t,n,r)=>c.a.AlternativeOperation.isInsertString(n)?(e.insertString(n.insert,n,r),t):c.a.AlternativeOperation.isInsertGap(n)?(e.insertGap("",n,r),t):c.a.AlternativeOperation.isInsert(n)?t:c.a.AlternativeOperation.isDelete(n)?(e.remove(t.slice(0,n.delete),n,r),t.slice(n.delete)):c.a.AlternativeOperation.isRetain(n)?(e.retain(t.slice(0,n.retain),n,r),t.slice(n.retain)):Object(u.c)(n),t)}function m(e){return 0===e.replace(/ /g,"").length}function f(e,t){Object(s.pipe)(e,a.vb,l.g.fold(()=>{m(t.text)||e.push(t)},n=>{n.type===t.type?n.text+=t.text:e.push(t)}))}function h(e){return!0===e.italic?!0===e.bold?"boldItalic":"italic":!0===e.bold?"bold":void 0}function g(e){const{substitutions:t,longestSubstitution:n,inserts:i}=e.reduce((e,[t,n])=>{const r=t.map(e=>e.text).join("");return e.substitutions.push(r),e.inserts.push(n),r.length>e.longestSubstitution.length&&(e.longestSubstitution=r),e},{substitutions:[],inserts:[],longestSubstitution:""}),o=Object(s.pipe)(t,l.f.map(e=>n.split(e).join("")));return Object(s.pipe)(a.tc(i,o,(e,t)=>(t&&e.push({type:d.k.Text,text:t}),e)),l.f.fromArray,l.b.fromOption(()=>new Error("Substitution processing error")),l.b.map(e=>({type:r.Type.Substitution,remove:[{type:d.k.Delete,text:n}],inserts:e})))}function b(e){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(t=>{const n=[[],[]];return p({insertString(e){f(n[1],{type:d.k.Insert,text:"\n"===e?"¶ ":e})},insertGap(){throw new C("Substitution transform contains gap insert",e)},remove(e){f(n[0],{type:d.k.Delete,text:e})},retain(e,{type:t,attributes:r}){if(!c.a.AlternativeOperation.isOptionalType(t)||0!==n[0].length){const t={type:d.k.Text,text:e,style:h(r)};n[0].push(t),n[1].push(t)}}},t),Object(u.f)(n[0].length>0,"Substituted part is empty"),Object(u.f)(n[1].length>0,"Inserts are empty"),n}))),l.b.chain(g),l.b.mapLeft(C.fromError(e)))}function v(e){if(!("list"in e))return l.g.none;switch(e.list){case"bullet":case"dashed":case"ordered":return l.g.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return l.g.none}}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI",e[e.Citation=9]="Citation"}(t=e.Type||(e.Type={})),(t=e.Type||(e.Type={})).parse=function(e,n){const r=e[0];if(r.isFullSentence)return t.FullSentence;if(l.g.isSome(n.drilldown))return t.Drilldown;if(r.isCitation)return t.Citation;if(r.isShortenIt)return t.ShortenIt;if(r.isToneAI)return t.ToneAI;switch(r.type){case c.a.Alternative.Type.Insert:return t.Insert;case c.a.Alternative.Type.Remove:return e.length>1?t.RemoveOr:t.Remove;case c.a.Alternative.Type.Substitution:return r.ops.find(c.a.AlternativeOperation.isInsertGap)?t.OneGap:t.Substitution;default:return Object(u.c)(r.type)}},e.create=function(e){return t=>{const n=r.Type.parse(t,e);switch(n){case r.Type.Remove:return function(e,t){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(n=>{const r=[];return p({insertString(t,{type:n}){if(n===c.a.AlternativeOperation.Type.Main)throw new C("Remove transform contains main insert",e)},insertGap(){throw new C("Remove transform contains gap insert",e)},retain(e,{type:t,attributes:n}){c.a.AlternativeOperation.isOptionalType(t)||f(r,{type:d.k.Text,text:e,style:h(n)})},remove(e,{type:n}){f(r,{type:n!==c.a.AlternativeOperation.Type.Main||m(e)&&t?d.k.Text:d.k.Delete,text:e})}},n),r}),a.eb)),l.b.chain(Object(o.flow)(l.b.fromPredicate(e=>e.length>0,()=>new C("Remove transform contains no data",e)),l.b.map(e=>({type:r.Type.Remove,remove:e})))))}(t,e.ignoreWhitespaceRemoves);case r.Type.RemoveOr:return function(e,t){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(n=>{const r=[];return p({insertString(t,{type:n}){if(n===c.a.AlternativeOperation.Type.Main)throw new C("Multi-remove transform contains main insert",e)},insertGap(){throw new C("Multi-remove transform contains gap insert",e)},retain(e,{type:t,attributes:n}){c.a.AlternativeOperation.isOptionalType(t)||f(r,{type:d.k.Text,text:e,style:h(n)})},remove(e,{type:n}){f(r,{type:n!==c.a.AlternativeOperation.Type.Main||m(e)&&t?d.k.Text:d.k.Delete,text:e})}},n),r}))),l.b.chain(Object(o.flow)(l.b.fromPredicate(e=>e.length>=2&&e.every(e=>e.length>=2),()=>new C("Incomplete multi-remove",e)),l.b.map(e=>({type:r.Type.RemoveOr,removes:e})))))}(t,e.ignoreWhitespaceRemoves);case r.Type.Insert:return function(e){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(t=>{const n=[];return p({insertString(e,{type:t}){f(n,{type:c.a.AlternativeOperation.isOptionalType(t)?d.k.Text:d.k.Insert,text:e})},insertGap(){throw new C("Insert transform contains gap insert",e)},retain(e,{type:t,attributes:r}){(!c.a.AlternativeOperation.isOptionalType(t)||n.length>0)&&f(n,{type:d.k.Text,text:e,style:h(r)})},remove(t,{type:n}){if(n===c.a.AlternativeOperation.Type.Main)throw new C("Insert transform contains main delete",e)}},t),n}))),l.b.chain(Object(o.flow)(l.f.fromArray,l.b.fromOption(()=>new C("Incomplete insert",e)),l.b.map(e=>({type:r.Type.Insert,inserts:e})))))}(t);case r.Type.Substitution:return b(t);case r.Type.Drilldown:return function(e,t){return Object(s.pipe)(b(e),l.b.chain(n=>Object(s.pipe)(l.b.tryCatchError(()=>{Object(u.f)(t.length>0,"Drilldown transform - empty drilldown tree");return{inserts:Object(s.pipe)(t,l.f.map((function e([t,r]){return Object(u.f)(void 0!==n.inserts[t],"Drilldown transform - alternative insert not found"),{alternativeId:t,label:n.inserts[t],subLabels:r.map(e)}}))),remove:n.remove,type:r.Type.Drilldown}}),l.b.mapLeft(C.fromError(e)))))}(t,Object(s.pipe)(e.drilldown,l.g.getOrElse(()=>c.a.Drilldown.empty)));case r.Type.FullSentence:return function(e){return Object(s.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new C("Expected full-sentence transform to have 1 alternative",e)),l.b.map(Object(o.flow)(l.f.head,t=>{let n={blockStart:0,ops:[],kind:d.f.PlainText};return p({insertString(e,t){const r=e.split("\n");if(1===r.length)n.ops.push({type:d.k.Insert,text:e,shouldBeCollapsed:!1});else{const e=Object(s.pipe)(t.attributes,v,l.g.fold(()=>o.constVoid,({kind:e,indent:t})=>()=>{n.ops.splice(n.blockStart,1,{type:d.k.List,kind:e,indent:t}),n={kind:d.f.WithFormatting,ops:n.ops,blockStart:n.blockStart}}));for(let t=0,i=r.length-1;t<=i;t++){const a=r[t];a&&n.ops.push({type:d.k.Insert,text:a}),t<i&&(e(),n.blockStart=n.ops.length,n.ops.push({type:d.k.Insert,text:"\n"}))}}},insertGap(){throw new C("Full sentence transform contains gap insert",e)},retain(e,t){n.ops.push({type:d.k.Text,text:e,shouldBeCollapsed:y(t.type,e)})},remove(e,t){n.ops.push({type:d.k.Delete,text:e,shouldBeCollapsed:y(t.type,e)})}},t),n})),l.b.chain(Object(o.flow)(l.g.fromPredicate(e=>e.ops.length>0),l.b.fromOption(()=>new C("Got empty full sentence transform",e)),l.b.map(({ops:e,kind:t})=>({type:r.Type.FullSentence,ops:e,kind:t})))))}(t);case r.Type.OneGap:return function(e){return Object(s.pipe)(l.b.tryCatchError(()=>(Object(u.f)(1===e.length,"One gap transform does not contain exactly one alternative"),Object(s.pipe)(e,l.f.head,e=>{const t=[],n=[];let r=!1;return p({insertString(e,{type:i}){f(r?n:t,{type:c.a.AlternativeOperation.isOptionalType(i)?d.k.Text:d.k.Insert,text:e})},insertGap(){Object(u.f)(!r,"One gap transform does not contain exactly one gap insert"),r=!0},retain(e,{type:i}){const a=r?n:t;(!c.a.AlternativeOperation.isOptionalType(i)||a.length>0)&&f(a,{type:d.k.Text,text:e})},remove:o.constVoid},e),Object(u.f)(r,"One gap transform does not contain exactly one gap insert"),Object(u.f)(t.length>0||n.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:n}}))),l.b.bimap(C.fromError(e),({left:e,right:t})=>({type:r.Type.OneGap,left:e,right:t})))}(t);case r.Type.ShortenIt:return function(e){return Object(s.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new C("Expected shorten-it transform to have 1 alternative",e)),l.b.chain(l.f.traverse(l.b.either)(O)),l.b.map(l.f.head),l.b.map(e=>({type:r.Type.ShortenIt,ops:e})))}(t);case r.Type.ToneAI:return function(e){return Object(s.pipe)(l.b.tryCatchError(()=>Object(s.pipe)(e,l.f.map(t=>{const n=[];return p({insertString(e){f(n,{type:d.k.Insert,text:e})},insertGap(){throw new C("ToneAI transform should not include gap insert",e)},retain(e){f(n,{type:d.k.Text,text:e})},remove(e){f(n,{type:d.k.Delete,text:e})}},t),n}))),l.b.chain(Object(o.flow)(l.f.fromArray,l.b.fromOption(()=>new C("Incomplete ToneAI transform",e)),l.b.map(e=>({type:r.Type.ToneAI,transformParts:e})))))}(t);case r.Type.Citation:return function(e){return Object(s.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new C("Expected citation transform to have 1 alternative",e)),l.b.map(l.f.head),l.b.chain(l.b.fromPredicate(e=>e.isCitation,()=>new C("Expected citation to have isCitation set to true",e))),l.b.chain(_),l.b.map(e=>({ops:e,type:r.Type.Citation})))}(t);default:return Object(u.c)(n)}}}}(r||(r={}));const y=(e,t)=>e===c.a.AlternativeOperation.Type.Optional&&t.length>3;function O(e){const t=[];return p({insertString(e,{group:n}){t.push({type:d.k.Insert,text:e,group:n})},insertGap(){throw new C("ShortenIt transform contains gap insert",[e])},retain(e,{group:n}){t.push({type:d.k.Text,text:e,group:n})},remove(e,{group:n}){t.push({type:d.k.Delete,text:e,shouldBeCollapsed:!0,group:n})}},e),Object(s.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new C("Got empty ShortenIt transform",[e])))}function _(e){const t=[];return p({insertString(e){t.push({type:d.k.Insert,text:e})},insertGap(){throw new C("Citation transform contains gap insert",[e])},retain(e,{attributes:n}){t.push({type:d.k.Text,text:e,style:h(n)})},remove(e){t.push({type:d.k.Delete,text:e})}},e),Object(s.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new C("Got empty Citation transform",[e])))}class C extends u.a{static fromError(e){return t=>{const n=new C(t.message,e);return n.stack=t.stack,n}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map(e=>e.ops.map(c.a.AlternativeOperation.anonymize))}`}constructor(e,t){super(e),Object(i._)(this,"alternatives",void 0),this.alternatives=t}}},"0sTm":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var r=n("a5gI"),i=n("8O/t"),a=n("B8yO"),o=n("+vYo"),s=n("4GyQ"),c=n("OwvP"),l=n("mgiE"),u=n("2swC"),d=n("koeM"),p=n("nWMp"),m=n("PltQ"),f=n("NbNH"),h=n("xk6L"),g=n("yIk2");class b extends a.Component{componentDidMount(){this._subs.push(h.a.combineLatestStatic(this.context,g.a.windowResize.pipe(h.a.startWith(g.b.voidValue)),e=>e).pipe(h.a.switchMap(e=>o.a.combine(this._wrapper,this._title,(t,n)=>({wrapper:t,title:n,remSize:e}))),h.a.filter(({wrapper:e,title:t})=>l.g.isSome(e)&&l.g.isSome(t)),h.a.switchMap(g.b.Scheduler.rafScheduler),h.a.switchMap(g.b.Scheduler.rafScheduler)).subscribe(({wrapper:e,title:t,remSize:n})=>{const r=Math.floor((l.g.unsafeGet(e).offsetHeight-l.g.unsafeGet(t).offsetHeight)/n);this._linesHeight.set(r)}))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{wrapperClass:e}=this.props;return a.createElement("div",Object(i._)({ref:e=>this._wrapper.set(l.g.fromNullable(e))},Object(s.c)(F.wrapper,e)),a.createElement("div",{className:F.loaderInitial}),a.createElement("div",{className:F.loader1}),a.createElement("div",{className:F.loader2}),a.createElement("div",{className:F.titleWrap,ref:e=>this._title.set(l.g.fromNullable(e))},this.props.children),a.createElement(c.a.div,Object(i._)({style:this._linesHeight.view(e=>({height:e+"rem"}))},Object(s.c)(F.lines,this.props.linesClass))),a.createElement("div",{className:F.empty}))}constructor(...e){super(...e),Object(r._)(this,"context",void 0),Object(r._)(this,"_linesCount",Boolean(this.props.defaultLinesCount)?this.props.defaultLinesCount:40),Object(r._)(this,"_wrapper",o.a.create(l.g.none)),Object(r._)(this,"_title",o.a.create(l.g.none)),Object(r._)(this,"_linesHeight",o.a.create(this._linesCount)),Object(r._)(this,"_subs",[])}}Object(r._)(b,"contextType",d.a.Context);const v=()=>a.createElement(b,{linesClass:F.documentLines},a.createElement("div",{className:F.documentTitleWrap},a.createElement("div",{className:F.documentTitle}))),y=()=>a.createElement(b,{linesClass:F.lensviewLines,wrapperClass:F.lensviewWrapper},a.createElement(a.Fragment,null,a.createElement("div",{className:F.lensviewTitle}),a.createElement("div",{className:F.lensviewOpenCard}))),O=`calc(${p.a.rem(2)} + 5px)`,_=p.a.keyframes({from:{transform:"translateY(-50%)"},to:{transform:"translateY(100%)"}}),C=p.a.keyframes({from:{transform:"translateY(-100%)"},to:{transform:"translateY(100%)"}}),w={position:"relative",overflow:"hidden",width:p.a.percent(100),height:p.a.percent(100),background:u.a.CoreNeutral0},S={position:"absolute",top:0,width:p.a.percent(100),height:p.a.percent(100),backgroundImage:`linear-gradient(-179deg, ${u.a.CoreNeutral0} 0%, ${m.h} 30%, ${u.a.CoreNeutral0} 60%)`,backgroundSize:p.a.percent(100),backgroundRepeat:"no-repeat",opacity:.45,animation:`${C} ${p.a.seconds(3)} linear forwards infinite`,willChange:"transform"},k={animation:`${_} ${p.a.seconds(2.25)} linear forwards`},E={transform:"translateY(-100%)",animationDelay:p.a.seconds(.75)},j={transform:"translateY(-100%)",animationDelay:p.a.seconds(2.25)},x={position:"relative",zIndex:1,width:p.a.percent(100),backgroundColor:"transparent",backgroundImage:`repeating-linear-gradient(180deg, ${m.e}, ${m.e} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(2)})`,backgroundPosition:"0 0"},A={position:"relative",height:p.a.percent(100),backgroundColor:u.a.CoreNeutral0},I={position:"relative",$nest:{"&:before":{display:"block",width:p.a.percent(100),height:p.a.rem(1.2),background:u.a.CoreNeutral0,content:"''"}}},T={position:"relative",zIndex:1,marginTop:O,width:p.a.percent(100),height:p.a.rem(1.5),borderRadius:p.a.rem(f.u),backgroundColor:u.a.CoreNeutral0},M={backgroundImage:`repeating-linear-gradient(180deg, ${m.e}, ${m.e} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(2)})`},P={top:p.a.rem(1.6)},N={marginTop:p.a.rem(1.5),height:p.a.rem(1.8),backgroundColor:u.a.CoreNeutral0},B={marginTop:p.a.rem(10.5),height:p.a.rem(2.7),backgroundColor:u.a.CoreNeutral0},L={backgroundImage:`repeating-linear-gradient(180deg, ${m.e}, ${m.e} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(1)}, ${u.a.CoreNeutral0} ${p.a.rem(3)})`},F=p.a.stylesheet({wrapper:[w],loader:[S],loaderInitial:[S,k],loader1:[S,E],loader2:[S,j],lines:[x],empty:[A],titleWrap:[{position:"relative"}],documentTitleWrap:[I],documentTitle:[T],documentLines:[M],lensviewWrapper:[P],lensviewTitle:[N],lensviewOpenCard:[B],lensviewLines:[L]})},"0zLI":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("OwvP"),s=n("+vYo"),c=n("xk6L");const l=n("nWMp").a.stylesheet({visible:[{opacity:1}],hidden:[{opacity:0}],visibleTransition:[{opacity:1,transition:"opacity 150ms linear"}],hiddenTransition:[{opacity:0,transition:"opacity 150ms linear"}]}),u={enter:l.hidden,enterActive:l.visibleTransition,enterDone:l.visible,exit:l.visible,exitActive:l.hiddenTransition,exitDone:l.hidden};var d;!function(e){e.enter="enter",e.enterActive="enterActive",e.enterDone="enterDone",e.exit="exit",e.exitActive="exitActive",e.exitDone="exitDone"}(d||(d={})),function(e){const t={enter:d.enterActive,enterActive:d.enterDone,enterDone:d.exit,exit:d.exitActive,exitActive:d.exitDone,exitDone:d.enter};e.next=e=>t[e],e.shouldSwitchState=e=>t=>t===d.enterDone&&!e||t===d.exitDone&&e||t===d.enter||t===d.exit}(d||(d={}));const p=e=>a.createElement(m,Object(i._)(Object(r._)({},e),{classNames:u})),m=e=>{const t=a.useRef(function(e){const t=s.a.create(e?d.enterDone:d.exitDone);return{state:t,next:()=>t.modify(d.next)}}(e.in));return a.useEffect(()=>{const n=t.current.state.pipe(c.a.filter(d.shouldSwitchState(e.in)),c.a.delay(0),c.a.tap(t.current.next)).subscribe();return()=>n.unsubscribe()},[e.in,t]),a.createElement(o.a.Fragment,null,t.current.state.view(n=>n===d.exitDone?null:e.children(u[n],t.current.next,n)))}},"1C8y":function(e,t,n){"use strict";function r(e){return function e(t,n,r){return function(i){var a=r.concat([i]);return 0===n?t.apply(this,a):e(t,n-1,a)}}(e,e.length-1,[])}Object.defineProperty(t,"curry",{enumerable:!0,get:function(){return r}})},"1CxT":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r,i,a,o,s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("DTwm"),d=n("tiWp"),p=n("5KcF"),m=n("SXX6"),f=n("0kuo"),h=n("mgiE"),g=n("TKPA"),b=n("RRF2"),v=n("M3t0"),y=n("Hj2R"),O=n("D2TP"),_=n("xk6L"),C=n("yIk2"),w=n("KZgA"),S=n("itj6"),k=n("YqdJ"),E=n("+ySe"),j=n("gFSV"),x=n("KH+i"),A=n("d3CI");class I extends f.a{}!function(e){var t=e.cardSuggestedPositionGetter=(e,t)=>(n,r,i,a)=>{const o="cardTop"===a?0:t(r);return Object(d.pipe)(e(n,Object(d.pipe)(i,h.g.map(k.b.FromWindowTop.ISO.modify(k.a.concatC(-o))))),h.b.map(e=>({top:e,contentOffset:o})))};e.getSuperScrollMapper=(e,n,r)=>{const i=E.a.Mover.moveCardToPositionAnimatedGetter(e,n),a=E.a.Mover.moveCardToPositionSyncGetter(e,n),o=E.a.ContentOffset.contentOffsetGetter();return{setCardPosition:(e,t,n,s)=>{const c={top:s,contentOffset:o(t,r.get())};return(n?i({id:e,position:s}):_.a.of(a({id:e,position:s})).pipe(_.a.map(h.b.unsafeGet))).pipe(_.a.mapTo(c),_.a.startWith(c),_.a.distinctUntilChanged())},getCardSuggestedPosition:t(E.a.InfinityScrollGetter.cardPositionGetter(e,n),e=>o(e,r.get())),getCardSuggestedPositionInViewport:t(E.a.InfinityScrollGetter.cardPositionInViewportGetter(e,n),e=>o(e,r.get())),willFitViewport:(t,r)=>Object(d.pipe)(e.get(),e=>!!A.e.hasItems(e)&&E.a.willFitViewport(e,n)(t,r)),isAboveViewportTop:E.a.isAboveViewportTop(n)}}}(r||(r={})),function(e){e.getMapper=(e,t,n)=>({moveAlertHighlightInViewport:(t,n,r)=>e.ensureAlertHighlightInViewport(t,k.b.FromWindowTop.ISO.unwrap(n),r),getMarkAlertPosition:r=>Object(d.pipe)(e.getMarkByAlert(r),h.b.fromOption(()=>new I("getMarkByAlert returned O.none")),h.b.chain(i=>Object(d.pipe)(i.getRect(),h.b.map(m.b.relativeToViewport),h.b.map(e=>e.top),h.b.orElse(()=>(n.debug("Cached alert is missing, falling back to flush"),(n=>(t.flushChanges(),Object(d.pipe)(e.getMarkByAlert(n),h.b.fromOption(()=>new Error("getMarkByAlert returned O.none")),h.b.chain(e=>Object(d.pipe)(e.getRect(),h.b.map(m.b.relativeToViewport),h.b.map(e=>e.top))))))(r))),h.b.map(k.b.FromWindowTop.ISO.wrap))),h.b.mapLeft(e=>(e instanceof I||n.warn("Cannot getMarkAlertPosition",e),e)),h.g.fromEither,e=>_.a.of(e))})}(i||(i={}));class T{alignCardTo(e,t,n){const r=n!==w.a.Animation.NO_ANIMATION;return _.a.defer(()=>_.a.of(h.b.unsafeGet(this._cardPositions.getCardSuggestedPosition(e.id,e.renderOptions.features.has(x.a.Features.showLabel),h.g.some(t),"cardTop")))).pipe(_.a.switchMap(t=>this._cardPositions.setCardPosition(e.id,e.renderOptions.features.has(x.a.Features.showLabel),r,t.top)),_.a.mapTo(C.b.voidValue),_.a.catchError(e=>(this._log.error("Cannot align card to required top",e),_.a.EMPTY)),_.a.share())}constructor(e,t,n){Object(s._)(this,"_cardPositions",void 0),Object(s._)(this,"_alignMarkToItem",void 0),Object(s._)(this,"_alignItemToMark",void 0),Object(s._)(this,"_log",void 0),Object(s._)(this,"alignMarkToCard",void 0),Object(s._)(this,"alignCardToMark",void 0),this._cardPositions=e,this._alignMarkToItem=t,this._alignItemToMark=n,this._log=v.d.Logging.root.getLogger("AlignmentViewModel"),this.alignMarkToCard=(e,t,n)=>Object(d.pipe)(e,this._alignMarkToItem({animation:t,suggestedPosition:n})),this.alignCardToMark=(e,t,n)=>Object(d.pipe)(e,this._alignItemToMark({animation:t,fitCardIntoViewport:n}))}}!function(e){e.Mock=class{constructor(){Object(s._)(this,"alignCardToMark",()=>_.a.EMPTY),Object(s._)(this,"alignCardTo",()=>_.a.EMPTY),Object(s._)(this,"alignMarkTo",()=>_.a.EMPTY),Object(s._)(this,"alignMarkToCard",()=>_.a.EMPTY)}}}(a||(a={})),function(e){let t;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={}));e.getRelativePosition=(e,n,r)=>n.top+r>e.bottom?t.below:e.top>n.bottom?t.above:t.intersects}(t||(t={}));e.createAlignmentOnTypingEffect=(e,t,n,r,i,a=j.d)=>{const o=e.view(A.e.mapper(({currentLens:e})=>Object(d.pipe)(h.g.some(e),h.g.filter(a(i))))).pipe(_.a.map(h.g.chain(r),h.g.filter(i.isValidToAlign)),_.b.compactMap(e=>n.pipe(_.a.switchMap(C.b.Scheduler.rafScheduler),_.a.switchMap(()=>t.alignCardToMark(e,w.a.Animation.NO_ANIMATION,!1)))));return{id:"alignmentOnTyping",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(o.pipe(_.a.switchMapTo(_.a.NEVER)))}},e.createAlignOnDisjointedAreasEffect=(e,n,r,i)=>{const a=e.view(Object(u.flow)(A.e.getLens,h.g.filter(e=>h.g.isNone(A.k.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0))),o=a.pipe(_.a.map(h.g.isSome),_.a.distinctUntilChanged(),_.a.switchMap(C.b.orEmpty(r.changes.pipe(_.a.startWith(C.b.voidValue),_.a.switchMap(C.b.Scheduler.rafScheduler),_.a.map(()=>h.g.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(r))),_.a.map(h.g.filter(e=>e.top-e.bottom!=0))))),_.a.withLatestFrom(a.pipe(_.a.map(h.g.map(({items:e})=>e))),h.g.map2((r,a)=>Object(d.pipe)(E.c.getCardsRect(e,i),h.g.map(e=>({top:k.b.FromWindowTop.ISO.unwrap(e.top),bottom:k.b.FromWindowTop.ISO.unwrap(e.bottom)})),h.g.chain(e=>Object(d.pipe)(((e,n,r)=>{const i=Object(d.pipe)(e.getAt(0),h.g.map(e=>e.positionState.height),h.g.getOrElse(()=>0)),a=t.getRelativePosition(n,r,i);switch(a){case t.RelativePosition.above:return Object(d.pipe)(e.getAt(0),h.g.map(e=>({card:e,top:n.top})));case t.RelativePosition.below:return Object(d.pipe)(e.getAt(0),h.g.map(e=>({card:e,top:n.bottom-e.positionState.height})));case t.RelativePosition.intersects:return h.g.none;default:return Object(f.c)(a)}})(a,r,e),h.g.map(({card:e,top:t})=>n.alignCardTo(e,k.b.FromWindowTop.ISO.wrap(t),w.a.Animation.NO_ANIMATION)))),h.g.getOrElse(()=>_.a.EMPTY)))),_.a.switchMap(h.g.fold(()=>_.a.EMPTY,p.a)));return{id:"alignOnDisjointedAreas",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(o.pipe(_.a.switchMapTo(_.a.NEVER)))}},e.createAlignOnResizeSideEffect=(e,t,n,r,i,a=C.b.Scheduler.rafScheduler,o=j.d)=>{const s=e.view(A.e.mapper(({currentLens:e,alertSource:t})=>h.g.some({currentLens:e,alertSource:t}))).view(h.g.filter(({currentLens:e})=>o(i)(e))).view(h.g.chain(({currentLens:e,alertSource:t})=>Object(d.pipe)(r(e),h.g.filter(i.isValidToAlign),h.g.map(n=>({item:n,source:t,lensId:e.id}))))),c=C.a.windowResize.pipe(_.a.throttleTime(100),_.a.merge(n),_.a.withLatestFrom(s,(e,t)=>t),_.a.switchMap(a),_.a.switchMap(h.g.fold(()=>_.a.EMPTY,({item:e})=>t.alignCardToMark(e,w.a.Animation.NO_ANIMATION,!1))));return{id:"alignOnResizeSideEffect",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(c.pipe(_.a.switchMapTo(_.a.NEVER)))}};let n;!function(e){e.skip="skip"}(n=e.SkipAlertActionSource||(e.SkipAlertActionSource={}));e.createAlignmentSideEffect=(e,t,n=((e,t)=>t),i,a,o,s,c=C.b.Scheduler.rafScheduler)=>{const l=r(e,t,n,i,a,o,s,c);return{id:"alignmentSideEffect",when:O.a.isWithAlertsId,what:A.e.Effect.Applicator.create(l.pipe(_.a.switchMapTo(_.a.EMPTY)))}};var r=e._createAlignmentSource=(e,t,r=((e,t)=>t),i,a,o,s,m=C.b.Scheduler.rafScheduler,f=j.d)=>{const v=Object(g.p)(S.b.isAlertMinicardButtonClick,S.b.isSwitchToClosestByViewport,S.b.isAlertCardShow,S.a.isCardExpand,S.b.isBulkAcceptItemShow,S.b.isBulkHighlight),O=_.a.mergeStatic(e.pipe(_.a.map(A.e.mapper(({currentLens:e,alertSource:t})=>h.g.some({currentLens:e,alertSource:t}))),_.a.startWith(h.g.none),_.a.map(h.g.map(e=>e.currentLens.id)),_.a.pairwise(),_.a.filter(([e,t])=>Object(d.pipe)(h.g.map2((e,t)=>e!==t)(e,t),h.g.exists(p.a))),_.a.mapTo(h.g.none)),e.pipe(_.a.map(A.e.mapper(({currentLens:e,alertSource:t})=>h.g.some({currentLens:e,alertSource:t}))),_.a.filter(h.g.exists(({currentLens:e})=>f(a)(e))),_.a.map(h.g.chain(({currentLens:e,alertSource:t})=>Object(d.pipe)(i(e),h.g.filter(a.isValidToAlign),h.g.map(n=>({item:n,source:t,lensId:e.id}))))))).pipe(_.a.distinctUntilChanged(Object(u.flow)(h.g.map2((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex),h.g.exists(p.a)))),E=t.pipe(_.a.filter(v),_.a.map(h.g.some),_.a.startWith(h.g.none),_.a.pairwise(),_.a.filter(Object(u.flow)(Object(u.tupled)(h.g.map2((e,t)=>!S.b.isAlertCardShow(t)||!S.b.isAlertMinicardButtonClick(e))),h.g.getOrElse(u.constFalse))),_.a.map(([,e])=>Object(d.pipe)(e,h.g.filter(S.b.hasClickPoint))),_.a.startWith(h.g.none)).pipe(_.a.switchMap(e=>O.pipe(_.a.filter(h.g.exists(e=>e.source===y.b.sidebar)),_.a.map(h.g.chain(t=>h.g.some(Object(l._)(Object(c._)({},t),{clickPoint:Object(d.pipe)(e,h.g.map(b.e.pick("clickPoint")))}))))))),x=O.pipe(_.a.filter(h.g.exists(e=>e.source!==y.b.sidebar)),_.a.map(e=>Object(d.pipe)(e,h.g.chain(e=>h.g.some(Object(l._)(Object(c._)({},e),{clickPoint:h.g.none}))))));return _.a.mergeStatic(E,x).pipe(_.a.startWith(h.g.none),_.a.pairwise(),_.a.map(([e,t])=>Object(d.pipe)(t,h.g.map(n=>({lensId:n.lensId,card:n.item,source:n.source,animate:Object(d.pipe)(e,h.g.forAll(({lensId:e})=>e===n.lensId)),clickPoint:Object(d.pipe)(t,h.g.chain(b.e.pick("clickPoint")),h.g.map(Object(u.flow)(b.e.pick("y"),k.b.FromWindowTop.ISO.wrap)))})))),_.a.switchMap(h.g.fold(()=>_.a.EMPTY,m)),_.a.withLatestFrom(e),_.a.switchMap(([{card:e,source:t,animate:i,clickPoint:a,lensId:c},l])=>Object(d.pipe)(r(e,t),t=>A.e.hasItems(l)&&l.currentLens.items.has(e.id)&&c===l.currentLens.id&&t!==n.skip?((e,t,n,r)=>{if(n===y.b.text)return Object(d.pipe)(e,s({animation:t?w.a.Animation.ANIMATE_ALL:w.a.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(n===A.c.forceText)return Object(d.pipe)(e,s({animation:w.a.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const i=n===y.b.sidebar?t?w.a.Animation.ANIMATE_ALL:w.a.Animation.ANIMATE_MARK:w.a.Animation.NO_ANIMATION;return Object(d.pipe)(e,o({animation:i,suggestedPosition:r}))}})(e,i,t,a):_.a.NEVER)))}}(o||(o={}))},"1klt":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n("zCOz");function i(e){let{id:t,label:n,"aria-labelledby":i,"aria-label":a,labelElementType:o="label"}=e;t=(0,r.v)(t);let s=(0,r.v)(),c={};return n?(i=i?`${s} ${i}`:s,c={id:s,htmlFor:"label"===o?t:void 0}):i||a||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:c,fieldProps:(0,r.w)({id:t,"aria-label":a,"aria-labelledby":i})}}function a(e){let{description:t,errorMessage:n,validationState:a}=e,{labelProps:o,fieldProps:s}=i(e),c=(0,r.z)([Boolean(t),Boolean(n),a]),l=(0,r.z)([Boolean(t),Boolean(n),a]);return s=(0,r.l)(s,{"aria-describedby":[c,l,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:s,descriptionProps:{id:c},errorMessageProps:{id:l}}}},"1vTd":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r,i,a=n("B8yO"),o=n("MHMU"),s=n("DTwm"),c=n("fuW0"),l=n("xk6L"),u=n("mgiE"),d=n("RRF2"),p=n("yNCY");!function(e){var t;!function(e){e.editor="editor",e.checksFeed="checksFeed",e.navigation="navigation",e.menu="menu",e.title="title",e.support="support",e.formatting="formatting"}(t=e.Id||(e.Id={}));e.eq=u.c.getStructEq({id:u.c.eqString,order:u.c.eqNumber}),e.ord=Object(s.pipe)(u.h.ordNumber,u.h.contramap(d.e.pick("order"))),e.show=o.a({id:o.e,order:o.d}),e.create=function(e){return{id:e,order:Object.values(t).findIndex((function(t){return t===e}))}};var n=e.Context=a.createContext(p.a.invariantContent("Focus"));e.createComponent=c.a.create(n),e.initTracking=function(e,t){return e.state.pipe(l.b.compact,l.a.skip(1),l.a.tap((function(e){return t.gnarSpec.focusSectionSwitched(t.pageId,e.id)}))).subscribe()}}(r||(r={})),(i||(i={})).create=function(e){return{inFocus:e.isEditorFocused.pipe(l.a.skip(1),l.a.distinctUntilChanged()),updateFocus:function(t){return t&&requestAnimationFrame((function(){return e.restoreFocus()}))}}}},"2Jx5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("000W"),s=n("OhII"),c=n("lKCo"),l=n("cZKX"),u=n("DTwm");!function(e){var t=e.make=function(e,t,n){return{lefts:e.slice(),focus:t,rights:n.slice()}},n=e.fromReadonlyArray=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l.nb(e)||l.pb(n,e)?c.none:c.some(t(Object(u.pipe)(e.slice(),o.cc(n)),e[n],Object(u.pipe)(e.slice(),o.M(n+1))))},r=e.fromArray=n,d=e.fromReadonlyNonEmptyArray=function(e){return t([],e[0],e.slice(1))},p=(e.fromNonEmptyArray=d,e.isOutOfBound=function(e,t){return e<0||e>=m(t)}),m=e.length=function(e){return e.lefts.length+1+e.rights.length},f=e.toNonEmptyArray=function(e){return Object(u.pipe)(s.ab(e.focus),(function(t){return s.w(e.lefts,t)}),(function(t){return s.w(t,e.rights)}))},h=(e.toReadonlyNonEmptyArray=f,e.toArray=f,e.update=function(e){return function(n){return t(n.lefts,e,n.rights)}}),g=(e.modify=function(e){return function(t){return Object(u.pipe)(t,h(e(t.focus)))}},e.move=function(e,t){var n=e(t.lefts.length);return p(n,t)?c.none:r(f(t),n)}),b=e.findIndex=function(e){return function(t){return Object(u.pipe)(t.lefts,l.U(e),c.alt((function(){return e(t.focus)?c.some(t.lefts.length):c.none})),c.alt((function(){return Object(u.pipe)(t.rights,l.U(e),c.map((function(e){return t.lefts.length+1+e})))})))}},v=(e.moveByFindFirst=function(e){return function(t){return Object(u.pipe)(t,b(e),c.chain((function(e){return e===t.lefts.length?c.some(t):g((function(){return e}),t)})))}},e.up=function(e){return g(u.decrement,e)},e.down=function(e){return g(u.increment,e)},e.start=function(e){return o.sb(e.lefts)?e:t([],e.lefts[0],o.Vb(Object(u.pipe)(e.lefts,o.M(1)),e.focus).concat(e.rights))},e.end=function(e){var n=e.rights.length;return 0===n?e:t(o.Vb(e.lefts,e.focus).concat(Object(u.pipe)(e.rights,o.cc(n-1))),e.rights[n-1],[])},e.insertLeft=function(e){return function(n){return t(n.lefts,e,o.I(n.focus,n.rights))}},e.insertRight=function(e){return function(n){return t(o.Vb(n.lefts,n.focus),e,n.rights)}},e.deleteLeft=function(e){var t=e.lefts.length;return r(e.lefts.concat(e.rights),t>0?t-1:0)},e.deleteRight=function(e){var t=e.lefts.length,n=e.rights.length;return r(e.lefts.concat(e.rights),n>0?t:t-1)},function(e,n){return t(e.lefts.map(n),n(e.focus),e.rights.map(n))}),y=function(e,n){var r=e.lefts.length;return t(e.lefts.map((function(e,t){return n(t,e)})),n(r,e.focus),e.rights.map((function(e,t){return n(r+1+t,e)})))},O=function(e,n){return t(o.y.ap(e.lefts,n.lefts),e.focus(n.focus),o.y.ap(e.rights,n.rights))},_=function(e,n){var r=e.lefts.map((function(r,i){return n(t(Object(u.pipe)(e.lefts,o.cc(i)),r,o.Vb(Object(u.pipe)(e.lefts,o.M(i+1)),e.focus).concat(e.rights)))})),i=e.rights.map((function(r,i){return n(t(o.Vb(e.lefts,e.focus).concat(Object(u.pipe)(e.rights,o.cc(i))),r,Object(u.pipe)(e.rights,o.M(i+1))))}));return t(r,n(e),i)},C=function(e,t,n){return e.rights.reduce(n,n(e.lefts.reduce(n,t),e.focus))},w=function(e,t,n){var r=e.rights.reduceRight((function(e,t){return n(t,e)}),t),i=n(e.focus,r);return e.lefts.reduceRight((function(e,t){return n(t,e)}),i)},S=function(e){return function(t,n){var r=t.lefts.reduce((function(t,r){return e.concat(t,n(r))}),e.empty),i=t.rights.reduce((function(t,r){return e.concat(t,n(r))}),e.empty);return e.concat(e.concat(r,n(t.focus)),i)}},k=function(e){var n=o.y.traverse(e);return function(r,i){return e.ap(e.ap(e.map(n(r.lefts,i),(function(e){return function(n){return function(r){return t(e,n,r)}}})),i(r.focus)),n(r.rights,i))}},E=e.map=function(e){return function(t){return v(t,e)}},j=(e.mapWithIndex=function(e){return function(t){return y(t,e)}},e.ap=function(e){return function(t){return O(t,e)}}),x=(e.apFirst=function(e){return function(t){return Object(u.pipe)(t,E((function(e){return function(t){return e}})),j(e))}},e.apSecond=function(e){return function(t){return Object(u.pipe)(t,E((function(){return function(e){return e}})),j(e))}},e.of=function(e){return t([],e,[])}),A=e.extend=function(e){return function(t){return _(t,e)}},I=(e.duplicate=A(u.identity),e.foldMap=function(e){return function(t){return function(n){return S(e)(n,t)}}},e.reduce=function(e,t){return function(n){return C(n,e,t)}},e.reduceRight=function(e,t){return function(n){return w(n,e,t)}},e.sequence=function(e){var n=o.y.sequence(e);return function(r){return e.ap(e.ap(e.map(n(r.lefts),(function(e){return function(n){return function(r){return t(e,n,r)}}})),r.focus),n(r.rights))}}),T=e.extract=function(e){return e.focus},M=e.URI="Zipper",P=(e.getShow=function(e){var t=o.mb(e);return{show:function(n){return"Zipper(".concat(t.show(n.lefts),", ").concat(e.show(n.focus),", ").concat(t.show(n.rights),")")}}},e.getSemigroup=function(e){return{concat:function(n,r){return t(n.lefts.concat(r.lefts),e.concat(n.focus,r.focus),n.rights.concat(r.rights))}}});e.getMonoid=function(e){return Object(a._)(Object(i._)({},P(e)),{empty:t([],e.empty,[])})},e.Functor={URI:M,map:v},e.FunctorWithIndex={URI:M,map:v,mapWithIndex:y},e.Applicative={URI:M,map:v,ap:O,of:x},e.Apply={URI:M,map:v,ap:O},e.Foldable={URI:M,foldMap:S,reduce:C,reduceRight:w},e.Traversable={URI:M,map:v,foldMap:S,reduce:C,reduceRight:w,traverse:k,sequence:I},e.Comonad={URI:M,map:v,extend:_,extract:T},e.zipper={URI:M,map:v,of:x,ap:O,extend:_,extract:T,reduce:C,reduceRight:w,foldMap:S,traverse:k,sequence:I,mapWithIndex:y}}(r||(r={}))},"2N2M":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return E}));var r=n("B8yO"),i=n("4GyQ"),a=n("N4IK"),o=n("Qlyw"),s=n("ySi0"),c=n("nWMp");const l=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H17v2.5a.5.5 0 0 1-1 0V7h-2.5a.5.5 0 0 1 0-1H16V3.5a.5.5 0 0 1 .5-.5ZM6 8.5A2.5 2.5 0 0 1 8.5 6h2a.5.5 0 0 1 0 1h-2A1.5 1.5 0 0 0 7 8.5v7a2.49 2.49 0 0 1 1.5-.5H16v-2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5h-8a1.5 1.5 0 0 0 0 3h8a.5.5 0 0 1 0 1h-8A2.5 2.5 0 0 1 6 17.5v-9Zm2 9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Z",fill:"#646B81"}));l.__brand="color";const u=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.139 7.684a.5.5 0 0 1 .387-.184h6.948a.5.5 0 0 1 .387.184l2.527 3.104a.5.5 0 0 1-.038.672l-6 5.897a.5.5 0 0 1-.7 0l-6-5.897a.5.5 0 0 1-.038-.672L8.14 7.684Zm.625.816-1.712 2.103h2.115l1.07-2.103H8.764Zm2.595 0-1.07 2.103h3.178L12.611 8.5H11.36Zm2.332 0 .856 2.103h2.401L15.236 8.5h-1.545Zm3.087 3.103h-2.22l-1.296 3.456 3.516-3.456Zm-4.809 4.055 1.52-4.055h-3.257l1.737 4.055Zm-2.825-4.055 1.398 3.263-3.32-3.263h1.922Z",fill:"#646B81"}));u.__brand="color";const d=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5a1 1 0 0 0-1 1v1h4V6a1 1 0 0 0-1-1h-2Zm4 2V6a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v1H5a.5.5 0 0 0 0 1h1.54l.809 9.708A2.5 2.5 0 0 0 9.84 20h4.32a2.5 2.5 0 0 0 2.491-2.292L17.461 8H19a.5.5 0 0 0 0-1h-4Zm1.457 1H7.543l.802 9.625A1.5 1.5 0 0 0 9.84 19h4.32a1.5 1.5 0 0 0 1.495-1.375L16.457 8ZM10.5 10a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Zm3 0a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Z",fill:"#646B81"}));d.__brand="color";const p=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM6.5 12a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0ZM12 9a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 12 9Z",fill:"#646B81"}));p.__brand="color";var m=n("rPY6");const f=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.276 3c-.034.001-.1.02-.173.096l-.643.66 1.165 1.195.665-.682a.207.207 0 0 0 .004-.295l-.382-.392-.505-.517.357-.347-.357.347c-.06-.062-.104-.067-.13-.066Zm-.349 2.667L9.762 4.472l-5.208 5.34v1.21h1.152l5.221-5.355ZM11.224 2c.334-.018.653.112.9.366l.502.515.384.393a1.207 1.207 0 0 1-.004 1.692L6.274 11.87l-.147.151H3.554V9.406l.142-.146 6.69-6.862c.22-.226.513-.38.838-.397ZM2 13.498a.5.5 0 0 1 .5-.5h11.002a.5.5 0 1 1 0 1H2.499a.5.5 0 0 1-.5-.5Z",fill:"#646B81"}));f.__brand="color";const h=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"m3.714 12 2.11-.88a2.143 2.143 0 0 0 1.319-1.977M12.286 12l-2.11-.88a2.143 2.143 0 0 1-1.319-1.977M6 6.286v1.143a2 2 0 1 0 4 0V6.286a2 2 0 1 0-4 0ZM14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0Z",stroke:"#646B81"}));h.__brand="color";const g=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M9.75 11.25a1.5 1.5 0 0 1 1.5-1.5h5.25a1.5 1.5 0 0 1 1.5 1.5v5.25a1.5 1.5 0 0 1-1.5 1.5h-5.25a1.5 1.5 0 0 1-1.5-1.5v-5.25Z",fill:"#5CDAE6"}),r.createElement("path",{d:"M6 7.5A1.5 1.5 0 0 1 7.5 6h5.25a1.5 1.5 0 0 1 1.5 1.5v5.25a1.5 1.5 0 0 1-1.5 1.5H7.5a1.5 1.5 0 0 1-1.5-1.5V7.5Z",fill:"#99F7FF"}),r.createElement("g",{filter:"url(#outcome_plagiarism_a)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.25 9.75v3a1.5 1.5 0 0 1-1.5 1.5h-3v-3a1.5 1.5 0 0 1 1.5-1.5h3Z",fill:"#79E8F2"})),r.createElement("defs",null,r.createElement("filter",{id:"outcome_plagiarism_a",x:4.75,y:4.75,width:14.5,height:14.5,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2.5}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.07 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5231_1828"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5231_1828",result:"shape"}))));function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}g.__brand="nocolor";var O={close:function(e){return r.createElement(s.d.Close,{className:k(e)})},"arrow-right":function(e){return r.createElement(s.d.Arrow,{direction:s.a.right,className:k(e)})},"arrow-left":function(e){return r.createElement(s.d.Arrow,{direction:s.a.left,className:k(e)})},gear:function(e){return r.createElement(s.d.Gear,{enforceStroke:!0,width:13,className:k(e)})},dictionary:function(e){return r.createElement(l,{className:k(e)})},clarity:function(e){return r.createElement(s.d.ClarityOutcome,{className:k(e)})},correctness:function(e){return r.createElement(s.d.Correctness,{className:k(e)})},engagement:function(e){return r.createElement(s.d.EngagementOutcome,{className:k(e)})},delivery:function(e){return r.createElement(s.d.DeliveryOutcome,{className:k(e)})},diamond:function(e){return r.createElement(s.d.Paid,{width:20,className:k(e)})},diamondSmall:function(e){return r.createElement(u,Object(i.c)(k(e),S.premium))},feedback:function(e){return r.createElement(s.d.AssistantFeedback,{className:k(e)})},sensitivity:function(e){return r.createElement(s.d.Sensitivity,{className:k(e)})},"external-link":function(e){return r.createElement(s.d.ExternalLink,{className:k(e)})},sparkles:function(e){return r.createElement(s.d.Sparkles,{className:k(e)})},ignore:function(e){return r.createElement(d,{className:k(e)})},info:function(e){return r.createElement(s.d.Info,{className:k(e)})},report:function(e){return r.createElement(s.d.Report,{width:12,className:k(e)})},proofreader:function(e){return r.createElement(s.d.Proofread,{width:16,className:k(e)})},mute:function(e){return r.createElement(s.d.Mute,{width:16,className:k(e)})},more:function(e){return r.createElement(s.e,y(v({},Object(i.c)(k(e))),{width:14,viewBox:"0 0 14 4"}),r.createElement("path",{d:"M6.99951 0.5C7.82794 0.5 8.49951 1.17157 8.49951 2C8.49951 2.82843 7.82794 3.5 6.99951 3.5C6.17108 3.5 5.49951 2.82843 5.49951 2C5.49951 1.17157 6.17108 0.5 6.99951 0.5Z",fill:"#6D758D"}),r.createElement("path",{d:"M11.9995 0.5C12.8279 0.5 13.4995 1.17157 13.4995 2C13.4995 2.82843 12.8279 3.5 11.9995 3.5C11.1711 3.5 10.4995 2.82843 10.4995 2C10.4995 1.17157 11.1711 0.5 11.9995 0.5Z",fill:"#6D758D"}),r.createElement("path",{d:"M1.99951 0.5C2.82794 0.5 3.49951 1.17157 3.49951 2C3.49951 2.82843 2.82794 3.5 1.99951 3.5C1.17108 3.5 0.499512 2.82843 0.499512 2C0.499512 1.17157 1.17108 0.5 1.99951 0.5Z",fill:"#6D758D"}))},controls:function(e){return r.createElement(s.e,{className:k(e),width:24,height:24,viewBox:"0 0 24 24",fill:"none"},r.createElement("path",{d:"M12 5.5H21M3 5.5H7M7 5.5C7 6.32843 7.67157 7 8.5 7C9.32843 7 10 6.32843 10 5.5C10 4.67157 9.32843 4 8.5 4C7.67157 4 7 4.67157 7 5.5ZM3 11.5H12M17 11.5H21M17 11.5C17 12.3284 16.3284 13 15.5 13C14.6716 13 14 12.3284 14 11.5C14 10.6716 14.6716 10 15.5 10C16.3284 10 17 10.6716 17 11.5ZM14 17.5H21M3 17.5H9M9 17.5C9 18.3284 9.67157 19 10.5 19C11.3284 19 12 18.3284 12 17.5C12 16.6716 11.3284 16 10.5 16C9.67157 16 9 16.6716 9 17.5Z",stroke:"#6D758D","stroke-linecap":"round"}))},performance:function(e){return r.createElement(s.d.Performance,{className:k(e)})},"bullet-list":function(e){return r.createElement(s.d.Formatting.BulletList,{className:k(e)})},accept:function(e){return r.createElement(s.d.Yes,{className:k(e)})},copy:function(e){return r.createElement(s.d.Copy,{className:k(e)})},newSmall:function(e){return r.createElement(p,{className:k(e)})},gButtonSmall:function(e){return r.createElement(m.a,{className:k(e)})},edit:function(e){return r.createElement(f,{className:k(e)})},user:function(e){return r.createElement(h,{className:k(e)})},plagiarism:function(e){return r.createElement(g,{className:k(e)})},questionMark:function(e){return r.createElement(s.d.QuestionMark,{width:12,className:k(e)})},newFeature:function(e){return r.createElement(s.e,y(v({},Object(i.c)(k(e),S.newFeature)),{width:66,height:38,viewBox:"0 0 66 38",fill:"none"}),r.createElement("g",{filter:"url(#filter0_d_162_10246)"},r.createElement("rect",{x:"10.8281",y:"8.33301",width:"45.7239",height:"21.033",rx:"10.5165",fill:"url(#paint0_linear_162_10246)"}),r.createElement("path",{d:"M26.5115 14.5216V22.333H25.2529L21.5722 17.0122H21.5073V22.333H20.0923V14.5216H21.3586L25.0355 19.8462H25.1041V14.5216H26.5115ZM29.7719 22.333V14.5216H34.8524V15.7078H31.187V17.8285H34.5893V19.0147H31.187V21.1468H34.8829V22.333H29.7719ZM39.6585 22.333L37.4539 14.5216H38.9758L40.3832 20.2619H40.4557L41.9585 14.5216H43.343L44.8496 20.2657H44.9183L46.3257 14.5216H47.8476L45.643 22.333H44.247L42.6832 16.852H42.6222L41.0545 22.333H39.6585Z",fill:"#0E101A",stroke:"none"})),r.createElement("path",{d:"M62.6293 10.667L63.4395 12.8567L65.6293 13.667L63.4395 14.4773L62.6293 16.667L61.819 14.4773L59.6293 13.667L61.819 12.8567L62.6293 10.667Z",fill:"white",stroke:"none"}),r.createElement("path",{d:"M57.9672 0L59.3176 3.64955L62.9672 5L59.3176 6.35045L57.9672 10L56.6167 6.35045L52.9672 5L56.6167 3.64955L57.9672 0Z",fill:"white",stroke:"none"}),r.createElement("path",{d:"M4.70349 20.333L5.78385 23.2526L8.70349 24.333L5.78385 25.4134L4.70349 28.333L3.62313 25.4134L0.703491 24.333L3.62313 23.2526L4.70349 20.333Z",fill:"white",stroke:"none"}),r.createElement("defs",null,r.createElement("filter",{id:"filter0_d_162_10246",x:"7.17021",y:"8.33301",width:"49.3818",height:"24.6909",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},r.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feMorphology",{radius:"9.14479",operator:"erode",in:"SourceAlpha",result:"effect1_dropShadow_162_10246"}),r.createElement("feOffset",{dx:"-3.65792",dy:"3.65792"}),r.createElement("feGaussianBlur",{stdDeviation:"4.57239"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_162_10246"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_162_10246",result:"shape"})),r.createElement("linearGradient",{id:"paint0_linear_162_10246",x1:"10.8281",y1:"18.8495",x2:"56.5521",y2:"18.8495",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{"stop-color":"#FBEFB7"}),r.createElement("stop",{offset:"1","stop-color":"#F9C7C7"}))))},assistant:function(e){return r.createElement(s.e,{className:k(e),width:20,height:20,viewBox:"0 0 20 20",fill:"none"},r.createElement("path",{d:"M12 15H14C15.1046 15 16 14.1046 16 13V6.00004C16 4.89547 15.1046 4.00004 14 4.00004L7.00001 4.00001C5.89544 4 5 4.89544 5 6.00001V10",stroke:"#646B81","stroke-linecap":"round"}),r.createElement("path",{d:"M4 13C4 12.4477 4.44772 12 5.00001 12L9.00001 12C9.55229 12 10 12.4478 10 13V15C10 15.5523 9.55228 16 9 16H5C4.44772 16 4 15.5523 4 15V13Z",stroke:"#646B81","stroke-linecap":"round"}))}},_={width:c.a.rem(1.5),height:c.a.rem(1.5),minWidth:c.a.rem(1.5),minHeight:c.a.rem(1.5),borderRadius:c.a.rem(1.5)},C={$nest:{"& path":{fill:a.b.CoreYellow80}}},w={width:c.a.rem(4.125),height:c.a.rem(2.375)},S=c.a.stylesheet({main:[_],premium:[C],newFeature:[w]});function k(e){return void 0===e.backgroundColor?S.main:c.a.joinClasses([S.main,E(e.backgroundColor)])}function E(e){var t=j.get(e);if(void 0!==t)return t;var n=c.a.style({backgroundColor:a.b[e]});return j.put(e,n),n}var j=new o.c(100)},"2YEY":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return L}));var r=n("8O/t"),i=n("X76w"),a=n("09dI"),o=n("2swC"),s=n("nWMp"),c=n("PltQ"),l=n("NbNH");const u=o.a.BackgroundTooltip,d=o.a.CoreNeutral90,p=o.a.CoreNeutral40,m=s.a.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${s.a.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),f={width:s.a.rem(1),height:s.a.rem(1),borderRadius:s.a.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:m+" 2s infinite",$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},h=s.a.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),g={width:s.a.rem(1),height:s.a.rem(1),borderRadius:s.a.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:s.a.rem(1),height:s.a.rem(1),borderRadius:s.a.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:h+" 2s infinite",willChange:"transform"},"&:hover:before":{animation:"none"}}},b={margin:`${s.a.rem(-1.5)} 0 0 ${s.a.rem(-1.5)}`,padding:s.a.rem(1),borderRadius:s.a.percent(50),cursor:"pointer",pointerEvents:"all"},v={margin:"0 0 "+s.a.rem(.5),color:o.a.CoreNeutral0,fontWeight:"bold"},y={color:o.a.CoreNeutral0,lineHeight:s.a.rem(1.25)},O={display:"flex",padding:`${s.a.rem(1)} ${s.a.rem(1.5)} ${s.a.rem(1.25)} ${s.a.rem(2)}`,width:s.a.rem(20),borderRadius:s.a.rem(l.t),background:u,color:o.a.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},_={display:"inline-block",marginRight:s.a.rem(a.o.Space.Space2)},C={marginRight:s.a.rem(2),width:s.a.rem(2),flexShrink:0,alignSelf:"center"},w={position:"absolute",top:0,right:0},S={stroke:c.i,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:o.a.CoreNeutral0,fill:o.a.CoreNeutral0}}},k={position:"absolute",top:s.a.percent(50),left:s.a.percent(50),zIndex:l.k},E={position:"relative",zIndex:l.i},j={zIndex:l.q},x={position:"absolute",zIndex:l.q},A=s.a.prefixedStylesheet("onboarding",{pulse:[f],pulseWrapper:[b],header:[v],description:[y],stepWrapper:[O],content:[_],alertIcon:[C],closeIconWrapper:[w],closeIcon:[S],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[k],containerDiv:[{}],editor:[E],onboardingPopup:[j],notificationContainer:[x],pulseOptimized:[g]}),I={display:"flex",flexDirection:"column",width:s.a.percent(100)},T=Object(i._)(Object(r._)({},w),{top:s.a.rem(.5),right:s.a.rem(.5)}),M=Object(i._)(Object(r._)({},S),{$nest:Object(i._)(Object(r._)({},S.$nest),{svg:{height:s.a.rem(1),width:s.a.rem(1)}})}),P=Object(i._)(Object(r._)({},O),{background:d,color:o.a.CoreNeutral0,borderRadius:s.a.rem(a.o.Radius.Radius2),padding:s.a.rem(1)}),N={width:s.a.percent(100),backgroundColor:"#2DC9B6",color:d,fontWeight:"bold",borderRadius:s.a.rem(a.o.Radius.Radius1),marginTop:s.a.rem(1),padding:s.a.rem(.5)},B=Object(i._)(Object(r._)({},y),{color:p}),L=s.a.prefixedStylesheet("a11y-onboarding",{contentWrapper:[I],closeIconWrapper:[T],closeIcon:[M],stepWrapper:[P],completeButton:[N],description:[B]})},"2qi0":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("4GyQ"),c=n("0kuo"),l=n("RRF2"),u=n("2swC"),d=n("ksEe"),p=n("ySi0"),m=n("nWMp"),f=n("Frap");const h=2*Math.PI*32,g=(e,t,n)=>e<t?t:e>n?n:e,b=e=>{switch(e){case v.IconSize.pdf:return 110;case v.IconSize.normal:return 52;case v.IconSize.outcome:return 32;case v.IconSize.small:return 24;case v.IconSize.extraSmall:return 16;default:return Object(c.c)(e)}};class v extends o.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=v.ColorType.logan,fontSize:r=v.FontSize.normal,iconSize:u=v.IconSize.normal,description:m,theme:f=C}=this.props,y=[o.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],O=(e=>{switch(e){case v.FontSize.normal:return 32;case v.FontSize.small:return 24;default:return Object(c.c)(e)}})(r),_=(e=>{switch(e){case v.IconSize.pdf:case v.IconSize.normal:case v.IconSize.outcome:return 5;case v.IconSize.small:return 3;case v.IconSize.extraSmall:return 10;default:return Object(c.c)(e)}})(u),w=g(e,0,100),S=g(t,w,100),k=w*h/100,E=S*h/100,j=360*_/h,x=w?h-k-2*_:h;let A,I,T,M,P;const N=(e=>{switch(e){case v.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case v.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case v.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case v.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case v.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case v.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case v.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case v.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case v.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case v.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(c.c)(e)}})(n);if("plain"===N.type)A=N.value,I=A,T=N.outline,M=N.background,P=void 0===N.backgroundOpacity?1:N.backgroundOpacity;else{const e=N.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:"pb-gradient-"+v._nextGradientId++,y.push(o.createElement("linearGradient",Object(i._)({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),o.createElement("stop",{stopColor:e.start,offset:"0%"}),o.createElement("stop",{stopColor:e.end,offset:"100%"}))),A=`url(#${this._gradientId})`,I="#2b2d38",T=N.outline,M=N.background,P=void 0===N.backgroundOpacity?1:N.backgroundOpacity}return o.createElement(d.a.Context.Consumer,null,e=>o.createElement(p.e,Object(a._)(Object(i._)({},Object(s.c)(C.iconWrapper,f.radialProgressBar)),{width:b(u),viewBox:"0 0 72 72"}),o.createElement("defs",null,y),o.createElement("g",null,o.createElement("use",{className:C.valueCircle,stroke:w>=94&&Boolean(T)?T:M,strokeOpacity:P,strokeWidth:_,strokeDasharray:h,strokeDashoffset:h-E,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(T)?o.createElement("use",{className:C.valueCircle,stroke:T,strokeWidth:_,strokeDasharray:h,strokeDashoffset:x,transform:`rotate(${-90-j} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}):null,o.createElement("use",{className:C.valueCircle,stroke:A,strokeDasharray:h,strokeDashoffset:h-k,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:_,xlinkHref:"#circle"}),o.createElement("text",Object(i._)({className:f.radialProgressText,y:"38",x:"36",fill:I,fontSize:O,fontStyle:"normal",textAnchor:"middle"},l.c.svgVerticalAlignment(e.has(d.a.Flag.supportsSVGDominantBaseline))),w),Boolean(m)?o.createElement("text",{className:f.radialProgressDescription,fill:I,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},m):null)))}constructor(...e){super(...e),Object(r._)(this,"_gradientId",void 0)}}Object(r._)(v,"_nextGradientId",0),function(e){let t,n,r;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(r=e.IconSize||(e.IconSize={}))}(v||(v={}));const y={width:m.a.percent(100),height:m.a.percent(100),fontWeight:"bold",fill:u.a.CoreNeutral90},O={fontSize:m.a.rem(2),fill:u.a.CoreNeutral90},_={fontWeight:"normal",fontSize:m.a.px(11),fill:f.ui600},C=m.a.stylesheet({radialProgressBar:[y],radialProgressText:[O],radialProgressDescription:[_],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},"2xUq":function(e){e.exports=JSON.parse('{"whiteReferenceLink":"_40c4132b-plagiarism-whiteReferenceLink","content":"_2266bd35-plagiarism-content","fakeTop":"_5fa2fc7b-plagiarism-fakeTop","scrollWrapper":"_8019ac5b-plagiarism-scrollWrapper"}')},"354Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("000W"),s=n("U9Go"),c=n("DTwm"),l=n("tiWp"),u=n("mgiE"),d=n("TKPA"),p=n("D2TP"),m=n("ZDrO"),f=n("SOPW"),h=n("d3CI"),g=n("rtUA");!function(e){let t;function n(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=c.constTrue){return n=>0===n.meta.count&&(0===n.items.filter(t).size||u.g.isNone(n.items.filter(t).find(t=>!e.isScheduledToDispose(t))))},function(e){function t(e){return t=>h.e.hasSuccess(t)&&h.e.hasItems(t)&&r.isInSuccess(e)(t.currentLens)}e.isInSuccess=t;e.isInGlobalSuccess=e=>n=>h.e.is(p.a.SpecialId.AllAlerts)(n)&&t(e)(n)}(t=e.State||(e.State={})),e.getCardId=n,e.create=function(e,t,n,r){const i=m.a.Sorted.empty(f.a.getId,r.compare),a=u.g.none;return{id:e,type:h.i.lensview,kind:h.f.persistent,meta:t,cardIndex:a,items:i,itemsOrd:r,animation:h.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return g.a.lensHash.hashCode(this)},equals(e){return g.a.getEq(n).equals(this,e)}}};var b=e.add=(e,t,r)=>o=>c=>{const l=o.map(i=>{const a=t.createAdded(c.id)(n(c.meta,i),i);return e(c,i)?a:g.a.Items.hideItem(a,r)}),d=c.items.add(l),p=h.k.getActiveItemIndex(d)(c),m=u.g.getEq(s.g).equals(p,c.cardIndex)?h.b.force:h.b.skip;return Object(a._)(Object(i._)({},c),{cardIndex:p,items:d,animation:m})},v=e.remove=e=>t=>n=>{const r=new Set(t.map(e=>e.id)),o=n.items.map(e.remove(Object(c.flow)(e.hasActiveAlert,u.g.map(e=>e.alert),u.g.fold(c.constFalse,e=>r.has(e.id))),e=>Object(l.pipe)(h.k.getActiveItem(n),u.g.map(t=>n.itemsOrd.compare(e,t)>0),u.g.getOrElse(c.constTrue)))),s=Object(l.pipe)(n.cardIndex,u.g.chain(t=>Object(l.pipe)(o.findRightFrom(t=>e.isScheduledToDispose(t),t),u.g.map(e=>e.index))),u.g.isSome)?h.b.skip:h.b.force,d=Object(l.pipe)(n,h.k.getActiveItemIndex(o));return Object(a._)(Object(i._)({},n),{cardIndex:d,items:o,animation:s})},y=e.update=(e,t,n)=>r=>i=>O(t,e,n)(r.filter(Object(d.m)(t.shouldAnimateAlertApply)))(i),O=e.updateWithAlerts=(e,t,r)=>s=>d=>{if(0===s.length)return d;const p=Object(l.pipe)(s,g.a.filterAlertInLens(d,r),o.zb(e=>[n(d.meta,e),e]),o.Jb(d.items,(n,[i,a])=>Object(l.pipe)(n.update(i,r.updateWithAlerts([a])),u.b.fold(()=>{const o=e.createAdded(d.id)(i,a);return n.add(t(d,a)?o:g.a.Items.hideItem(o,r))},c.identity)))),m=h.k.getActiveItemIndex(p)(d);return Object(a._)(Object(i._)({},d),{cardIndex:m,items:p,animation:h.b.proceed})};e.getAlertHandler=function(e,t,n=c.constTrue){return(r,i)=>{const a=g.a.ApplyDiff.applyWithFilter(i,g.a.ApplyDiff.apply);return i=>Object(l.pipe)(i,a(r,b(n,e,t),y(n,e,t),v(t)))}}}(r||(r={}))},"3I9b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l}));var r,i,a=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("+vYo");!function(e){let t,n,r;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),function(e){e.PlagiarismChecker="PlagiarismChecker",e.ClaritySuggestions="ClaritySuggestions",e.EngagementSuggestions="EngagementSuggestions",e.ToneSuggestions="ToneSuggestions",e.UsingMultipleDevices="UsingMultipleDevices"}(n=e.SatisfactionReason||(e.SatisfactionReason={})),function(e){e.LowQualitySuggestions="LowQualitySuggestions",e.PoorPlagiarismSuggestions="PoorPlagiarismSuggestions",e.NoSupportForDesirableApp="NoSupportForDesirableApp",e.AggressivePremiumPromotion="AggressivePremiumPromotion",e.NoPremiumSuggestions="NoPremiumSuggestions",e.PremiumAndFreeAreIdentical="PremiumAndFreeAreIdentical"}(r=e.DissatisfactionReason||(e.DissatisfactionReason={}))}(r||(r={})),function(e){var t=e.isCompleted=e=>"answer1"in e&&"answer2"in e;e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e);const n=[r.Experience.Neutral,r.Experience.SomewhatDissatisfied,r.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&n.includes(e.answer1),e.isSecondAnswerAboutDissatisfaction=e=>t(e)&&Object.keys(r.DissatisfactionReason).includes(e.answer2)}(i||(i={}));class l{answer(e){const t=this.state.view(i.isFirstQuestion).get(),n=t?"answer1":"answer2";this.state.modify(t=>Object(s._)(Object(o._)({},t),{[n]:e})),t?this._tracking.onFirstAnswer(e):this._tracking.onSecondAnswer(e)}constructor(e){Object(a._)(this,"_tracking",void 0),Object(a._)(this,"state",void 0),this._tracking=e,this.state=c.a.create({})}}},"3PdT":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("8O/t"),s=n("hcme"),c=n("000W"),l=n("DTwm"),u=n("tiWp"),d=n("+vYo"),p=n("ShUL"),m=n("gg7t"),f=n("fr9z"),h=n("UK5+"),g=n("xk6L"),b=n("yIk2"),v=n("jH4R"),y=n("mgiE"),O=n("TKPA"),_=n("0kuo"),C=n("M3t0"),w=n("Gouu"),S=n("CcDN"),k=function(){function e(t,n,i,o,c,f,h,v,_,k,E){var j=this;Object(r.a)(this,e),Object(a._)(this,"_inlineManager",void 0),Object(a._)(this,"_positionManager",void 0),Object(a._)(this,"_synonymsModel",void 0),Object(a._)(this,"_networkState",void 0),Object(a._)(this,"_ded",void 0),Object(a._)(this,"_notificationsManager",void 0),Object(a._)(this,"_activeAlertChanges",void 0),Object(a._)(this,"_trackUndoCloseButton",void 0),Object(a._)(this,"_trackSynonymPopupOpen",void 0),Object(a._)(this,"_trackSynonymPopupDismiss",void 0),Object(a._)(this,"_trackSynonymAccept",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"style",void 0),Object(a._)(this,"viewState",void 0),Object(a._)(this,"popupShown",void 0),Object(a._)(this,"_defaultClassName",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"disposeFirstSynonym",void 0),Object(a._)(this,"query",void 0),Object(a._)(this,"close",void 0),Object(a._)(this,"_withRegisteredWord",void 0),Object(a._)(this,"_listenQuery",void 0),Object(a._)(this,"_createSynonymsState",void 0),Object(a._)(this,"_removeMark",void 0),Object(a._)(this,"_createMark",void 0),Object(a._)(this,"_emitCloseWhen",void 0),Object(a._)(this,"_isOnline",void 0),this._inlineManager=t,this._positionManager=n,this._synonymsModel=i,this._networkState=o,this._ded=c,this._notificationsManager=f,this._activeAlertChanges=h,this._trackUndoCloseButton=v,this._trackSynonymPopupOpen=_,this._trackSynonymPopupDismiss=k,this._trackSynonymAccept=E,this._log=C.d.Logging.getLogger("LegacySynonymsViewModel"),this.viewState=d.a.create(y.g.none),this.popupShown=this.viewState.view(y.g.fold((function(){return!1}),(function(e){return e.popupVisible}))),this._defaultClassName="defaultSynonymClass",this._subs=[],this.disposeFirstSynonym=function(e){j._ded.changeMarks([p.a.Change.getRemoveAction({range:function(){return y.b.getOrElse((function(e){return e}))(e.range())}},p.a.Change.RemoveType.full)(e.id)]),j._deregisterRange(e.id)},this.query=function(e){return j._ded.flushChanges(),j._synonymsModel.query(e)},this.close=function(e){"closedByUser"===e&&Object(u.pipe)(j.viewState.get(),y.g.map((function(e){return e.synonymsState})),y.g.filter(Object(O.p)(w.a.isReady,w.a.isEmpty)),y.g.tap((function(e){j._synonymsModel.ignore(e.synonyms.id),j._trackSynonymPopupDismiss(e.pname,e.stats,w.c.getTimeToClose(e.readyAt))}))),j._inlineManager.closeSynonyms.next()},this._withRegisteredWord=function(e,t){return g.a.Observable.create((function(n){var r=j._synonymsModel.positionManager.registerRange(m.a.SynonymMark.generateActiveWordRandomId(),e),i=t(r).subscribe(n);return function(){i.unsubscribe(),j._deregisterRange(r.meta.id)}}))},this._listenQuery=function(e){return g.a.Observable.create((function(t){return j._request(e).then((function(n){var r;null!==(r=t.closed)&&void 0!==r&&r||Object(u.pipe)(n,y.g.fold((function(){return j.close("error")}),(function(n){return t.next([e,n])})))})),function(){j._synonymsModel.abortQuery()}}))},this._createSynonymsState=function(e){var t=Object(s._)(e,2),n=t[0],r=t[1];return g.a.Observable.create((function(e){var t=j._canShowPopup(r);return Object(u.pipe)(j._createMark(n,t),(function(i){return Object(u.pipe)(i.range(),y.b.fold((function(e){j._log.error("Error creating Synonym state",e)}),(function(a){var o=j._synonymsModel.positionManager.registerRange(i.id,a),s={synonymsState:r,activeWord:n,activeMark:o,popupVisible:t};return e.next(s),function(){j._deregisterRange(s.activeMark.meta.id),setTimeout((function(){return j._removeMark(s)}),10)}})))}))}))},this._removeMark=function(e){try{j._ded.flushChanges(),Object(u.pipe)(j._ded.getMarkById(e.activeMark.meta.id),y.b.map((function(t){j._ded.changeMarks([p.a.Change.getRemoveAction({range:function(){return Object(u.pipe)(t.range(),y.b.getOrElse((function(e){return e})))}},p.a.Change.RemoveType.full)(e.activeMark.meta.id)])})))}catch(e){j._log.error("Cannot remove synonym",e)}},this._createMark=function(e,t){return Object(u.pipe)(j._ded.changeMarks([p.a.Change.getCreateAction({range:function(){return e},classes:t?[j._defaultClassName,j.style.synonym,j.style.markSelected]:[j._defaultClassName,j.style.markHidden],order:0})(m.a.SynonymMark.id)]),(function(e){return e.created.get(m.a.SynonymMark.id)}),y.b.fold((function(){return null}),l.identity))},this._emitCloseWhen=g.b.listenWhenSome((function(){return g.a.mergeStatic(j._ded.contentUpdated,j._activeAlertChanges.pipe(g.a.skip(1)),g.a.fromEvent(document,"keydown")).pipe(g.a.mapTo(b.b.voidValue),g.a.tap((function(){return j.close("closedByUser")})))})),this._isOnline=function(){return"offline"!==j._networkState.getOnlineStatus()},this.style=Object(S.a)(),this._handleState()}return Object(i.a)(e,[{key:"getFirstSynonymRect",value:function(){return this.getFirstSynonym().pipe(g.a.map(y.g.chain((function(e){return y.g.fromEither(e.getRect())}))))}},{key:"getSynonymMarkRect",value:function(e){return y.l.fromEither(this._ded.getMarkRect(e))}},{key:"scrollToMark",value:function(e,t,n){return this._ded.scrollToMark(e,{animate:n,paddingTop:t})}},{key:"onPopupOpen",value:function(){var e=this;Object(u.pipe)(this.viewState.get(),y.g.map((function(e){return e.synonymsState})),y.g.filter(Object(O.p)(w.a.isReady,w.a.isEmpty)),y.g.map((function(e){return{stats:e.stats,pname:e.pname}})),y.g.getOrElse((function(){return{stats:w.c.emptySynonymsStats,pname:"unknown"}})),(function(t){var n=t.pname,r=t.stats;e._trackSynonymPopupOpen(n,r)}))}},{key:"getFirstSynonym",value:function(){var e=this;return g.a.Observable.create((function(t){var n=y.g.none,r=E(e._ded.getText()),i=r.length?y.g.some(f.b.create(r[0].start,r[r.length-1].end)):y.g.none,a=Object(u.pipe)(i,y.g.fold((function(){return[]}),(function(t){return e._positionManager.findRanges((function(e){return h.b.isVisible(e)&&f.b.isOverlap(e,t)}))}))),o=g.a.from(Promise.all(j(r,a).map(e.query))).pipe(g.a.map(Object(l.flow)(Object(c.Y)(w.a.isReady),y.g.chain((function(t){var n=m.a.SynonymMark.generateSynonymOnboardingId(t.synonyms.id),r=f.b.create(t.query.start,t.query.start+t.query.word.length),i=e._synonymsModel.positionManager.registerRange(n,r);return Object(u.pipe)(e._ded.changeMarks([p.a.Change.getCreateAction({range:function(){return i},order:0,classes:[]})(n)]),(function(e){return e.created.get(n)}),y.g.fromEither)})))),g.a.first()).subscribe((function(e){n=e,t.next(e)}));return function(){y.g.map(e.disposeFirstSynonym)(n),o.unsubscribe()}}))}},{key:"apply",value:function(e){var t=this,n=this.viewState.get();Object(u.pipe)(n,y.g.map((function(n){var r=n.synonymsState,i=n.activeWord;if(!w.a.isReady(r))throw new _.b("Synonym should exist.");t._trackSynonymAccept(r.pname,Object(o._)({},r.stats,w.c.getSynonymStats(e,r.synonyms.synonymsOrGroups)),w.c.getTimeToClose(r.readyAt));var a=t._synonymsModel.applySynonym({id:r.synonyms.id,dispose:O.e,range:i},e);Object(v.d)((function(){return t._notificationsManager.enqueue("alertUndo",{params:Object(v.e)([a])})}),t._trackUndoCloseButton,(function(){return t._ded.flushChanges(),t._ded.contentUpdated})).subscribe((function(e){return"commit"===e?a.commit():a.undo()}))}))),this.close("apply")}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_request",value:function(e){var t=this;return this.query({start:e.start,word:e.meta.value}).then(y.g.some).catch((function(e){return t._log.error("Error querying synonyms",e),y.g.none}))}},{key:"_canShowPopup",value:function(e){return w.a.isReady(e)||w.a.isEmpty(e)}},{key:"_deregisterRange",value:function(e){var t=this;Object(u.pipe)(this._synonymsModel.positionManager.findById(e),y.g.fold(O.e,(function(n){t._ded.flushChanges(),t._synonymsModel.positionManager.deregisterRange(e)})))}},{key:"_handleState",value:function(){var e=this;this._subs.push(this._inlineManager.doubleClickedWord.pipe(g.a.switchMap(this._emitCloseWhen),g.a.map(y.g.filter(this._isOnline)),g.b.chain((function(t){return e._ded.flushChanges(),e._withRegisteredWord(t,Object(l.flow)(e._listenQuery,g.a.switchMap(e._createSynonymsState),g.a.map(y.g.some)))}))).subscribe(b.b.toAtom(this.viewState),(function(t){return e._log.error("can not change syns state",t)})))}}]),e}(),E=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=/( |^)[a-z]{3,}\b/gim,i=[],a=0;(t=r.exec(e))&&a<n;a++){var o=t[0].replace(" ",""),s=r.lastIndex-o.length,c=s+o.length;i.push({start:s,word:o,end:c})}return i},j=function(e,t){return 0===t.length||0===e.length?e:(n=e[e.length-1].end,r=t.findIndex((function(e){return e.start>n})),i=r>=0?t.slice(0,r):t,e.filter((function(e){return i.every((function(t){return!(e.start<=t.end&&t.start<=e.end)}))})));var n,r,i}},"3ewz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("B8yO"),i=n("To5e"),a=(n("B4nd"),n("jVAy")),o=function(e){var t=e.activeWord,n=r.useContext(i.a.Context);return r.createElement("div",{className:a.emptyResultWrapper},n.synonyms.empty(r.createElement("span",{className:a.activeWord},t)))},s=function(e){var t=e.activeWord,n=r.useContext(i.a.Context);return r.createElement("div",{className:a.emptyResultWrapper},n.synonyms.symfony.empty(r.createElement("span",{className:a.activeWord},t)))}},"3fSS":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return r}));var r,i=n("LzOy"),a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("0Uv3"),l=n("pFSi"),u=n("DTwm"),d=n("tiWp"),p=n("+vYo"),m=n("5AnK"),f=n("rOJn"),h=n("B/Ki"),g=n("QRPm"),b=n("0Qjk"),v=n("lXop"),y=n("D2TP"),O=n("/taW"),_=n("xk6L"),C=n("La5+"),w=n("yIk2"),S=n("mgiE"),k=n("fKHc"),E=n("QPnx"),j=n("VzV2"),x=function(){function e(t){Object(a.a)(this,e),Object(s._)(this,"_changes",void 0),Object(s._)(this,"changes",void 0),this._changes=p.a.create(t),this.changes=this._changes.pipe(_.a.skip(1))}return Object(o.a)(e,[{key:"_updateValue",value:function(e,t){this._changes.modify((function(n){return Object.assign({},n,Object(s._)({},e,t))}))}},{key:"template",get:function(){return this._changes.get().template},set:function(e){this._updateValue("template",e)}},{key:"outcomes",get:function(){return this._changes.get().outcomes},set:function(e){this._updateValue("outcomes",e)}},{key:"checkedPlagiarism",get:function(){return this._changes.view("checkedPlagiarism").get()},set:function(e){this._updateValue("checkedPlagiarism",e)}}]),e}(),A=function(){function e(t,n,r,i,o,c,l,g){var b=this;Object(a.a)(this,e),Object(s._)(this,"id",void 0),Object(s._)(this,"_doxInit",void 0),Object(s._)(this,"_ded",void 0),Object(s._)(this,"_getStats",void 0),Object(s._)(this,"_doxApi",void 0),Object(s._)(this,"_enableTrackingOnDownload",void 0),Object(s._)(this,"rtfMode",void 0),Object(s._)(this,"saved",void 0),Object(s._)(this,"checkingState",void 0),Object(s._)(this,"asyncChecksState",void 0),Object(s._)(this,"counters",void 0),Object(s._)(this,"title",void 0),Object(s._)(this,"context",void 0),Object(s._)(this,"defaultContext",void 0),Object(s._)(this,"contextCompleteness",void 0),Object(s._)(this,"score",void 0),Object(s._)(this,"scoreStatus",void 0),Object(s._)(this,"textInfo",void 0),Object(s._)(this,"proofit",void 0),Object(s._)(this,"recentDocumentStats",void 0),Object(s._)(this,"documentLength",void 0),Object(s._)(this,"extraSettings",void 0),Object(s._)(this,"_subs",void 0),Object(s._)(this,"originalFilename",void 0),Object(s._)(this,"flush",void 0),Object(s._)(this,"updateContext",void 0),Object(s._)(this,"updateDefaultContext",void 0),Object(s._)(this,"getCheckingForState",void 0),this.id=t,this._doxInit=n,this._ded=r,this._getStats=i,this._doxApi=o,this._enableTrackingOnDownload=c,this.rtfMode=l,this.saved=new _.a.Subject,this.checkingState=p.a.create("full"),this.asyncChecksState=p.a.create({plagiarism:"full"}),this.counters=p.a.create(O.b.group.empty),this.defaultContext=p.a.create(S.g.none),this.score=p.a.create(S.g.none),this.scoreStatus=p.a.create(S.g.none),this.textInfo=p.a.create(S.g.none),this.recentDocumentStats=p.a.create(S.g.none),this.extraSettings=new x(Object(d.pipe)(this._doxInit.meta.settings.extraSettings,S.g.getOrElse((function(){return m.a.Extra.empty})))),this._subs=new C.a.Keeper,this.flush=function(){return b._ded.flushChanges(),b._doxInit.remoteDocument.flush()},this.updateContext=function(e){var t=!f.a.eq.equals(b.context.get(),e);return b.context.set(e),t},this.updateDefaultContext=function(e){var t=!Object(d.pipe)(Object(u.tuple)(b.defaultContext.get(),e),Object(u.tupled)(S.g.map2(f.a.Default.eq.equals)),S.g.getOrElse(u.constFalse));return b.defaultContext.set(e),t},this.getCheckingForState=function(e){return e!==y.a.SpecialId.Plagiarism?b.checkingState.view((function(e){return{kind:O.c.CheckingKind.Document,type:e}})):p.a.combine(b.checkingState,b.asyncChecksState.view("plagiarism"),(function(e,t){return"full"===e?{kind:O.c.CheckingKind.Document,type:e}:"idle"!==t?{kind:O.c.CheckingKind.Plagiarism,type:t}:{kind:O.c.CheckingKind.Document,type:e}}))},this.title=p.a.create(n.meta.title),this.proofit=g(this.title),this.context=p.a.create(Object(d.pipe)(n.meta.settings.context,S.g.getOrElse((function(){return f.a.unset}))));var k=n.initialDelta.length-1;this.documentLength=p.a.create({full:k,trimmed:h.a.isInsertString(n.initialDelta.delta)?h.a.getTrimmedInsertLength(n.initialDelta.delta):k}),this.contextCompleteness=this.context.view(O.a.calculateCompleteness),this._subs.push(r.contentUpdated.pipe(_.a.filter(v.b.isTextMaybeWithFormatting),_.a.debounceTime(200),_.a.map((function(){return r.getText()})),_.a.map((function(e){return{full:e.length-1,trimmed:e.trim().length}}))).subscribe(w.b.toAtom(this.documentLength)))}return Object(o.a)(e,[{key:"template",get:function(){return k.a.decodeTemplate(this.extraSettings.template)}},{key:"updateTemplate",value:function(e){this.extraSettings.template=k.a.serializeTemplate(e)}},{key:"isInitialRevision",get:function(){return this._doxInit.remoteDocument.isInitialRevision}},{key:"isDemoDocument",get:function(){return this._doxInit.meta.isDemoDocument}},{key:"documentText",get:function(){return this._ded.getText()}},{key:"downloadOriginal",value:function(e){var t=this;return Object(d.pipe)(this.flush,l.map((function(){return e})),l.chain(S.g.fold((function(){return function(){return t._doxApi.downloadOriginal(t.id,t._enableTrackingOnDownload)}}),(function(e){return function(){return t._doxApi.downloadInFormat(t.id,e,t._enableTrackingOnDownload)}}))),l.map(g.a.saveToFS))()}},{key:"downloadProofread",value:function(){var e=this;return Object(i.a)((function(){return Object(c.c)(this,(function(t){switch(t.label){case 0:return[4,e._doxApi.downloadProofread(e.id).then(g.a.saveToFS)];case 1:return t.sent(),[2]}}))}))()}},{key:"generateReport",value:function(e,t){var n=this;return Object(i.a)((function(){return Object(c.c)(this,(function(r){switch(r.label){case 0:return[4,n._doxApi.generateReport(n.id,e,t).then(g.a.saveToFS)];case 1:return r.sent(),[2]}}))}))()}},{key:"calculateStats",value:function(){var e=this;return S.l.toPromise(this._getStats).then((function(t){return e.recentDocumentStats.set(S.g.some(t)),t}))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){var t=function(){function e(){var t;Object(a.a)(this,e),Object(s._)(this,"template",S.g.none),Object(s._)(this,"id",void 0),Object(s._)(this,"rtfMode",E.DocumentFeatures.FormattingMode.on),Object(s._)(this,"originalFilename",void 0),Object(s._)(this,"isInitialRevision",void 0),Object(s._)(this,"score",p.a.create(S.g.none)),Object(s._)(this,"scoreStatus",p.a.create(S.g.none)),Object(s._)(this,"textInfo",p.a.create(S.g.none)),Object(s._)(this,"title",p.a.create("")),Object(s._)(this,"downloadOriginal",(t=Object(i.a)((function(e){return Object(c.c)(this,(function(e){return[2,Promise.resolve()]}))})),function(e){return t.apply(this,arguments)})),Object(s._)(this,"downloadProofread",Object(i.a)((function(){return Object(c.c)(this,(function(e){return[2,Promise.resolve()]}))}))),Object(s._)(this,"documentText",""),Object(s._)(this,"documentLength",p.a.create({full:0,trimmed:0})),Object(s._)(this,"counters",p.a.create(O.b.group.empty)),Object(s._)(this,"saved",p.a.create(!0)),Object(s._)(this,"checkingState",p.a.create("idle")),Object(s._)(this,"asyncChecksState",p.a.create({plagiarism:"idle"})),Object(s._)(this,"isDemoDocument",!1),Object(s._)(this,"calculateStats",(function(){return Promise.resolve(b.a.DocumentStatistics.generateStats(210,1601))})),Object(s._)(this,"flush",(function(){return Promise.resolve()})),Object(s._)(this,"context",p.a.create(f.a.fromDomain("general"))),Object(s._)(this,"defaultContext",p.a.create(S.g.some(f.a.defaultContextFallback))),Object(s._)(this,"contextCompleteness",p.a.create(0)),Object(s._)(this,"updateContext",(function(){return!0})),Object(s._)(this,"updateDefaultContext",(function(){return!0})),Object(s._)(this,"proofit",new j.a.Mock),Object(s._)(this,"extraSettings",new x(m.a.Extra.empty)),Object(s._)(this,"recentDocumentStats",p.a.create(S.g.none)),Object(s._)(this,"generateReport",(function(){return Promise.resolve()}))}return Object(o.a)(e,[{key:"updateTemplate",value:function(e){}},{key:"getCheckingForState",value:function(){return p.a.create({type:"idle",kind:O.c.CheckingKind.Document})}}]),e}();e.Mock=t}(r||(r={}))},"3jKF":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("000W"),s=n("DTwm"),c=n("tiWp"),l=n("5KcF"),u=n("6ar+"),d=n("gg7t"),p=n("fr9z"),m=n("0kuo"),f=n("mgiE"),h=n("RRF2"),g=n("+3dY"),b=n("TKPA"),v=n("M3t0"),y=n("UK5+"),O=n("Hj2R"),_=n("phaH"),C=n("hzat"),w=n("Hby5");class S{get state(){return{current:this._currentState,scheduled:this._scheduledState}}get alert(){return this._alert()}scheduleApply(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),Object(m.f)(e!==w.c.initial,`Cannot schedule change ${this.id} from ${this._currentState.visualState} to initial state`),this._currentState.visualState!==w.c.initial||e!==w.c.disposed&&!w.c.isApplied(e)?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=w.b.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=w.b.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=w.b.from(w.c.disposed),this._dispose()),this}scheduleUpdate(){this._throwWhenInFinaleState(),this._scheduledState=w.b.updateRanges(this._scheduledState||this._currentState,!0)}scheduleForceUpdate(){this._throwWhenInFinaleState(),this._scheduledState=w.b.forceUpdate(this._scheduledState||this._currentState,!0)}apply(){if(!w.a.isPending(this))return;this._throwWhenInFinaleState();const e=this._getTransition();Object(c.pipe)(this.change(),f.g.filter(e=>e.rawMark.length>0),f.g.map(t=>{this._handleBasicEvent(t.rawMark),t.commit(),this._onTransitionEnd(e,this)}))}applyWith(e){const t=[this,...e];this._handleMultipleHighlights(t,e=>e.change())}markByIndex(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return f.g.none}}get enclosingMark(){const e=Array.from(this._marksMap.values()).findIndex(Object(s.flow)(f.g.chain(e=>f.g.fromEither(e.range())),f.g.filter(y.b.isEnclosingView),f.g.isSome));return e>-1?this.markByIndex(e):f.g.none}get mark(){return this.markByIndex(0)}_iterateOverMarkAlerts(e,t){e.forEach(({change:e,ma:n})=>{e.rawMark.forEach(e=>{"create"===e.action?n._setMarkAndCheckFinaleState(e.id,Object(c.pipe)(t.created.get(e.id)||f.b.left(new Error("Cannot get unknown mark")),f.g.fromEither)):"remove"===e.action&&n._removeMark(e.id)}),e.commit(),n._disposeIfEmpty()})}_handleMultipleHighlights(e,t){const n=e.map(e=>[e,t(e)]).filter(([e,t])=>Object(c.pipe)(t,f.g.filter(t=>0!==t.rawMark.length||(k("markAlert").warn("rawAction must have rawMark array",{rawAction:t.action,state:Object(a._)(Object(i._)({},e.toJSON()),{alert:void 0})}),!1)),f.g.isSome)).map(([e,t])=>({ma:e,change:f.g.unsafeGet(t)}));if(0===n.length)return;const r=h.a.flatMap(n.map(e=>e.change.rawMark)),o=this._changeMarksInDEd(r);this._iterateOverMarkAlerts(n,o)}get _mark(){return this._markbyIndex(0)}_markbyIndex(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:f.g.none}_setMarkAndCheckFinaleState(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)}_setMark(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)}_removeMark(e){this._marksMap.delete(e)}change(){Object(m.f)(w.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id}));const e=this._commitTransition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate||e.to.updateRanges?f.g.some(this._getRawActionForApply(e)):f.g.none}_handleBasicEvent(e){const t=this._changeMarksInDEd(e);e.forEach(e=>{if(e.action===d.a.Change.ActionType.remove)this._removeMark(e.id);else{const n=Object(c.pipe)(f.g.fromNullable(this._marksMap.get(e.id)),f.g.chain(l.a),f.g.alt(()=>Object(c.pipe)((e.action===d.a.Change.ActionType.create?t.created.get(e.id):t.updated.get(e.id))||f.b.left(new Error("Cannot get unknown mark")),f.g.fromEither)));this._setMark(e.id,n)}}),this._disposeIfEmpty()}_getTransition(){return Object(m.f)(w.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id})),{from:this._currentState,to:this._scheduledState}}_commitTransition(){const e=this._getTransition();return this._currentState=Object(a._)(Object(i._)({},e.to),{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e}_getRawActionForApply(e){switch(e.from.visualState){case w.c.initial:return Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(e=>e.commit())),{action:"create",commit:u.a,rawMark:this._getHighlightRanges(t=>this._create(()=>t,e)(t.meta.id))};default:switch(e.to.visualState){case w.c.disposed:const t=w.c.isApplied(e.from.visualState)||O.a.State.isRemoved(this.alert.state)&&C.a.isApplicableAlert(this.alert)&&this._getAppliedRanges(s.constVoid).length>0?this._getAppliedRanges((e,t)=>({id:t().meta.id,range:t})):this._getHighlightRanges(e=>({id:e.meta.id,range:()=>e}));return{action:"remove",commit:Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(({commit:e})=>e),f.g.getOrElse(()=>s.constVoid)),rawMark:t.map(e=>this._remove(e.range)(e.id))};case w.c.applied:const n=this._getHighlightRanges(e=>this._remove(()=>e)(e.meta.id));return{action:"replace",commit:Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(({commit:e})=>e),f.g.getOrElse(()=>s.constVoid)),rawMark:[...n,...this._getAppliedRanges((t,n)=>this._create(n,e)(n().meta.id))]};default:const r=()=>O.a.State.isBulkApplied(this._alert("_getRawActionForApply").state)?this._getAppliedRanges((e,t)=>t()):this._getHighlightRanges(l.a);return Object(c.pipe)(this._tryToUpdateRangesInAlert(e),f.g.map(({commit:t,ranges:n})=>this._getReplaceAction(e,r(),n.removed,t)),f.g.getOrElse(()=>({action:"update",commit:u.a,rawMark:r().map(t=>this._update(()=>t,e)(t.meta.id))})))}}}_getReplaceAction(e,t,n,r){return{action:"replace",commit:r,rawMark:[...n.map(e=>this._remove(()=>e)(e.meta.id)),...t.map(t=>this._create(()=>t,e)(t.meta.id))]}}_getAppliedRanges(e){return Object(c.pipe)(this._alertRangeService.getAppliedRanges(this.id),f.b.fold(e=>(k("markAlert").error("cannot get applied ranges",{error:e.message,alert:C.a.snapshot(this._alert("_getAppliedRanges"))}),[]),o.Ab(e)))}_getHighlightRanges(e){return Object(c.pipe)(this._alertRangeService.getHighlightRanges(this.id),f.b.fold(t=>(k("markAlert").warn("cannot get highlight ranges via range service",{error:t,alert:this._alert("_getHighlightRanges")}),Object(c.pipe)(this._alert("_getHighlightRanges_Fallback").getHighlightRanges(),o.zb(e))),o.zb(e)))}_throwWhenNotAllowedState(e){const t=this._alert("_throwWhenNotAllowedState");Object(m.f)(!!C.a.isApplicableAlert(t)||(!Boolean(e)||O.a.State.isBulkApplied(t.state)||!w.c.isApplied(e)),"Applied state isn't allowed for "+this.id)}_throwWhenInFinaleState(e){Object(m.f)(Boolean(e)&&w.a.isOneOf(w.c.applied)(this)?e===w.c.disposed||O.a.State.isBulkApplied(this._alert("_throwWhenInFinaleState").state):w.a.notAnyOf(w.c.disposed)(this),`'${this._currentState.visualState}' MarkAlert '${this.id}' cannot be changed${Boolean(e)?` to '${e}' `:""}`)}toJSON(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:Object(c.pipe)(this._mark,f.g.map(e=>e.id),f.g.toUndefined),range:Object(c.pipe)(this._mark,f.g.map(e=>e.range),f.g.toUndefined)},alert:this._alert("toJSON")}}equals(e){return w.a.eq.equals(this,e)}hashCode(){return Object(_.b)(this.id)}constructor(e,t,n,i,a,o,u,d){Object(r._)(this,"_alert",void 0),Object(r._)(this,"_alertsService",void 0),Object(r._)(this,"_alertRangeService",void 0),Object(r._)(this,"_changeMarksInDEd",void 0),Object(r._)(this,"_create",void 0),Object(r._)(this,"_update",void 0),Object(r._)(this,"_remove",void 0),Object(r._)(this,"_onTransitionEnd",void 0),Object(r._)(this,"_currentState",void 0),Object(r._)(this,"_scheduledState",void 0),Object(r._)(this,"id",void 0),Object(r._)(this,"_marksMap",void 0),Object(r._)(this,"_alertRef",void 0),Object(r._)(this,"_shouldInitMark",void 0),Object(r._)(this,"_tryToUpdateRangesInAlert",void 0),Object(r._)(this,"_dispose",void 0),Object(r._)(this,"_disposeIfEmpty",void 0),this._alert=e,this._alertsService=t,this._alertRangeService=n,this._changeMarksInDEd=i,this._create=a,this._update=o,this._remove=u,this._onTransitionEnd=d,this._currentState=w.b.from(w.c.initial),this._scheduledState=w.b.from(w.c.visible),this.id=this._alert("id").id,this._marksMap=new Map,this._alertRef=this._alertsService.takeReference(this._alert("_alertRef"),"mark"),this._shouldInitMark=!0,this._tryToUpdateRangesInAlert=e=>{if(!e.to.updateRanges||!Object(c.pipe)(this._alertRangeService.hasNewRangesForUpdate(this.id),f.b.fold(s.constFalse,l.a)))return f.g.none;const t=Object(c.pipe)(this._alertRangeService.applyPendingRangesUpdate(this.id),f.b.mapLeft(e=>k("markAlert").error("cannot apply pending ranges",e)),f.g.fromEither,f.g.chain(l.a),f.g.filter(({addedHighlightedRanges:e,removedHighlightedRanges:t})=>e.length>0||t.length>0));return Object(c.pipe)(t,f.g.map(e=>({commit:()=>e.removedHighlightedRanges[1](),ranges:{added:e.addedHighlightedRanges,removed:e.removedHighlightedRanges[0]}})))},this._dispose=()=>{this._marksMap.clear(),f.b.either.map(this._alertRef,e=>e.dispose())},this._disposeIfEmpty=()=>{0===this._marksMap.size&&this._dispose()},f.b.either.mapLeft(this._alertRef,e=>k("markAlert").warn("can not take alertRef",e))}}!function(e){e.compareTo=e=>{const t=Object(g.a)(p.b.distanceFrom)(e);return(e,n)=>Object(b.d)(Math.min(...e.alert.getHighlightRanges().map(t)),Math.min(...n.alert.getHighlightRanges().map(t)))}}(S||(S={}));const k=Object(b.l)(v.d.Logging.getLogger)},"3n8C":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("09dI");!function(e){var t=function(e){return"@media ".concat(e)},n=(e.screenXS=t("only screen"),e.screenS=t("only screen and (min-width: 600px)"),e.screenM=t("only screen and (min-width: 800px)"),e.screenL=t("only screen and (min-width: 1270px)"),e.screenXL=t("only screen and (min-width: 1360px)"),e.screenHD=t("only screen and (min-width: 1430px)"),e.threeColumnsMax=t("only screen and (max-width: 1100px)"),e.fourColumnsMax=t("only screen and (max-width: 1250px)"),e.xss=t("(max-width: 700px)"),e.xssUpper=t("(max-width: 780px)"),e.xsLower=t("(max-width: 960px)"),e.xs=t("(max-width: 1024px)"),e.tiny=t("(max-width: 1279px)"),e.small=t("(max-width: 1359px)"),e.normal=t("(min-width: 1360px) and (max-width: 1599px)"),e.big=t("(min-width: 1600px)"),e.bigUpper=t("(min-width: 1920px)"),e.retina=t("(min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)"),e.smallHeight=t("(max-height: 760px)"),e.xssHeight=t("(max-height: 520px)"),e.print=t("print"),e.collapsedSidebarQuery="((min-width: 1600px) and (max-height: 750px)), ((min-width: 1360px) and (max-width: 1599px) and (max-height: 680px)), ((max-width: 1359px) and (max-height: 590px))"),r=e.compactSidebarQuery="((min-width: 1600px) and (max-height: 900px)), ((min-width: 1360px) and (max-width: 1599px) and (max-height: 800px)), ((max-width: 1359px) and (max-height: 710px))";e.compactSidebar=t(r),e.collapsedSidebar=t(n),e.normalLower=t("(min-width: 1360px) and (max-width: 1471px)"),e.bigHigher=t("(min-width: 1600px) and (max-width: 1647px)"),e.maxWidth=function(e){return t("(max-width: ".concat(e,"px)"))},e.minWidth=function(e){return t("(min-width: ".concat(e,"px)"))},e.maxHeight=function(e){return t("(max-height: ".concat(e,"px)"))},e.minHeight=function(e){return t("(min-height: ".concat(e,"px)"))}}(r||(r={}));var c=function(){return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",n="./img/".concat(e,".").concat(t),s={backgroundImage:"url(".concat(n,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat"};if("png"!==t)return s;var c="./img/".concat(e,"@2x.").concat(t);return Object(o._)(Object(a._)({},s),{$nest:Object(i._)({},r.retina,{backgroundImage:"url(".concat(c,")")})})},u={boxShadow:"0 0 0 1px ".concat(s.o.Color.White,", 0 0 0 3px ").concat(s.o.Color.Blue40),zIndex:1,outline:"none"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{$nest:{"&:focus":Object(a._)({},u,e),"&:focus:not(:focus-visible)":{boxShadow:"none",$unique:!0},"&:focus-visible":Object(o._)(Object(a._)({},u,e),{$unique:!0})}}},p={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}},"4JHS":function(e,t,n){e.exports=n.p+"files/28aa0d261b04149285b4ec9850b7ae97/inter-medium.woff2"},"4MM/":function(e,t,n){"use strict";n.r(t);var r=n("nWMp"),i=n("x4IX"),a=n.n(i),o=n("ygWn"),s=n.n(o),c=n("uzqA"),l=n.n(c);r.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:700,src:`url('${a.a}') format('woff2')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:400,src:`url('${l.a}') format('woff2')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:500,src:`url('${s.a}') format('woff2')`,fontDisplay:"swap"})},"4N81":function(e,t,n){e.exports=n.p+"files/de9b0866cf73188ae7ca0292a439d6a4/inter-mediumitalic.woff"},"4UH3":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,i,a=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("hcme"),l=n("DTwm"),u=n("tiWp"),d=n("+vYo"),p=n("0Qjk"),m=n("uxqH"),f=n("xk6L"),h=n("yIk2"),g=n("0kuo"),b=n("mgiE"),v=n("RRF2");!function(e){!function(e){e.Like="Like",e.Dislike="Dislike"}(e.FeedbackType||(e.FeedbackType={}))}(r||(r={})),function(e){var t=function(e){switch(e){case r.FeedbackType.Like:return p.a.EmotionFeedbackType.EMOTION_LIKE;case r.FeedbackType.Dislike:return p.a.EmotionFeedbackType.EMOTION_DISLIKE;default:return Object(g.c)(e)}},n=function(e){return Object(u.pipe)(m.b.fromNumber(e.confidence),b.b.map((function(t){return{emoji:e.emoji,name:e.name,confidence:t,feedback:b.g.none}})))},i=function(e){return e.reduce((function(e,t){return e[t.name]=t,e}),{})};e.toCapiFeedback=t,e.create=function(e,r,g){var y=d.a.create({}),O=[e.pipe(f.a.filter(p.a.CAPIEvent.is("emotions")),f.a.map((function(e){return Object(u.pipe)((t=e.emotions,r=Object(c._)(v.a.partition(t.map(n),b.b.isRight),2),a=r[0],o=r[1],a.length===t.length?b.b.right(a.map(b.b.unsafeGet)):b.b.left(Object(u.pipe)(o.map(b.b.swap).map(b.b.unsafeGet).join(";")))),b.b.map(i),b.b.fold((function(e){return g.error("Failed to parse emotions from capi",{rejectionReason:e}),{}}),l.identity));var t,r,a,o}))).subscribe(h.b.toAtom(y))];return{emotions:y.view((function(e){return Object.values(e).sort((function(e,t){return m.b.ord.compare(t.confidence,e.confidence)}))})),sendEmotionFeedback:function(e,n){return Object(u.pipe)(function(e,t){return void 0===e[t]?b.b.left(new Error("Tried to send feedback for non-existing emotion")):Object(u.pipe)(e[t].feedback,b.g.fold((function(){return b.b.right(void 0)}),(function(){return b.b.left(new Error("Tried to send feedback for an emotion which already has one"))})))}(y.get(),e),b.b.map((function(){r.sendFeedback({emotionName:e,kind:t(n)})(),y.modify((function(t){return Object(s._)(Object(o._)({},t),Object(a._)({},e,Object(s._)(Object(o._)({},t[e]),{feedback:b.g.some(n)})))}))})))},dispose:function(){return O.forEach((function(e){return e.unsubscribe()}))}}}}(i||(i={}))},"4Yir":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("2swC"),i=n("nWMp"),a=n("NbNH");const o={$nest:{"&:before":{position:"absolute",width:i.a.px(10),height:i.a.px(10),borderRadius:i.a.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},c={color:r.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:r.h.SubheadingLetterSpacing,fontSize:i.a.rem(r.h.SubheadingSize),lineHeight:i.a.rem(r.h.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:i.a.rem(.25)}}},l={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:i.a.px(2),left:i.a.rem(-1.1),margin:"auto 0"}}},u={$nest:{"&:before":{top:0,bottom:0,left:i.a.rem(-1.1),margin:i.a.rem(.25)+" 0 auto 0"}}},d={margin:`0 ${i.a.rem(.4)} 0 ${i.a.rem(.2)}`,width:i.a.rem(.85),height:i.a.rem(.85),objectFit:"contain"},p={position:"absolute",top:0,bottom:0,left:i.a.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${i.a.rem(.3)} ${i.a.rem(.25)}`,cursor:"pointer",borderRadius:i.a.percent(100),marginLeft:i.a.rem(.5),$nest:{"&:hover":{background:r.a.CoreNeutral10}}},f={display:"flex",alignItems:"center",padding:"0 "+i.a.rem(.25),borderRadius:i.a.rem(a.t),cursor:"pointer",background:r.a.CoreYellow20,color:r.a.CoreYellow80,marginLeft:i.a.rem(.5),$nest:{"&:hover":{background:r.a.CoreYellow10}}},h={minWidth:"initial",minHeight:"initial",fill:r.a.CoreYellow80,marginLeft:i.a.rem(.3)},g={display:"flex",alignItems:"flex-start",top:i.a.rem(.125),minWidth:"initial",minHeight:"initial",background:r.a.CoreNeutral0},b={color:r.a.CoreNeutral90,textTransform:"none",letterSpacing:r.h.SmallLetterSpacing,fontWeight:r.h.SmallWeight,fontSize:i.a.rem(r.h.SmallSize),lineHeight:i.a.rem(r.h.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},v={color:r.a.CoreNeutral50,textTransform:"none"},y={width:i.a.rem(1),height:i.a.rem(1)},O={display:"inline-flex",padding:"0 "+i.a.rem(.25),borderRadius:i.a.rem(a.t),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},_={display:"inline-flex",marginLeft:i.a.rem(.1),minWidth:0,minHeight:0},C=i.a.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[c],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[c,l],lensMinimal:[u],voxLogo:[d],cardLogo:[p],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[f],newPremiumLabelIcon:[h],takeawayIcon:[g],minimalTitle:[b],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[v],toneLogo:[p,y],fluencyLabel:[c,O],fluencyInfo:[_],dot:[o],ethicalAILabel:[{textTransform:"none"}]})},"4kcV":function(e,t,n){e.exports=n.p+"files/da83100fc42a3c359ae8e3038a4a5e90/inter-regular.woff"},"4nE6":function(e,t,n){e.exports=n.p+"files/c85c7276ae2b89bc5aadf1b1cb256291/inter-mediumitalic.woff2"},"4qtA":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("mgiE"),o=n("TKPA"),s=n("xk6L"),c=n("lXTq");!function(e){let t,n;!function(e){let t;!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(t=e.Type||(e.Type={}))}(t=e.State||(e.State={})),function(e){e.Mock=class{constructor(e={type:t.Type.EMPTY},n=a.g.some(new c.a.ViewModel.Mock)){Object(i._)(this,"statisticsState",void 0),Object(i._)(this,"reportViewModel",void 0),Object(i._)(this,"state",void 0),Object(i._)(this,"onModalClose",void 0),this.statisticsState=e,this.reportViewModel=n,this.state=s.a.of(this.statisticsState),this.onModalClose=o.e}}}(n=e.ViewModel||(e.ViewModel={}))}(r||(r={}))},"4wwO":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("DTwm"),s=n("tiWp"),c=n("mgiE"),l=n("0kuo"),u=n("Hj2R"),d=n("hzat"),p=n("SOPW"),m=n("8XoQ"),f=n("/1wo"),h=n("eAYH"),g=n("mDV6");!function(e){e.Kind="AlertsBundle";e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title};e.ord=Object(s.pipe)(c.h.ordNumber,c.h.contramap(Object(o.flow)(e=>e.activeAlert.bundleInfo,c.g.fold(()=>Number.MAX_SAFE_INTEGER,e=>e.rank))));var t=e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return Object(l.c)(e.visualState.transition.type)}},n=(e.getAlertOutcomeBundle=e=>Object(s.pipe)(e.bundleInfo,c.g.fold(()=>({id:"other",title:"Other"}),e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title}))),e.eq={equals:(e,t)=>h.b.eq.equals(e,t)&&c.g.getEq(c.c.eqString).equals(e.lensId,t.lensId)});let b;!function(e){const t=e=>(t,a)=>Object(i._)({id:t,kind:r.Kind,bundleInfo:e,activeAlert:h.b.getAlertByIndex(a.activeAlertIndex,a.alerts),transform:Object(s.pipe)(a.cachedTransform,c.g.map(e=>e.labels)),equals(e){return n.equals(this,e)},hashCode(){return h.b.hashCode(this)}},a);e.create=function(e,n,i,a){const o=E.getAnimatable(e).changeVisualState,p=e=>f.a.getCreate(t(e),n,o,a,i),m=v(i);return{create:e=>(t,n,r,a,o,s,l)=>p(o)(t,n,r,a,f.a.getApplicableCardMeta(n[r],s,i),e,c.g.some(s),l),createAdded:e=>(t,n,r,a)=>{const o=g.a.VisualState.initial({type:"added",clockwise:!0},!0);return p(n)(t,r,0,0,f.a.getApplicableCardMeta(r[0],o,i),e,c.g.some(o),a)},createFocused:e=>(t,n,r,a,o)=>{const s=g.a.VisualState.initial({type:"focused",clockwise:!0},!0);return p(n)(t,r,a,0,f.a.getApplicableCardMeta(r[a],s,i),e,c.g.some(s),o)},createRendered:e=>(t,n,r,a)=>{const o=g.a.VisualState.initial({type:"rendered",clockwise:!0},!1);return p(n)(t,r,0,0,f.a.getApplicableCardMeta(r[0],o,i),e,c.g.some(o),a)},updateWith:(t,n)=>i=>{Object(l.f)(t.every(e=>u.a.isRegistered(e)),"cannot add non registered alerts");const a=new Set(t.map(e=>e.id)),o=new Set(i.removedAlertsIds);a.forEach(e=>{o.delete(e)});const c=i.alerts.filter(e=>!a.has(e.id)).concat(t.map(d.a.fromModel)).sort(n.compare);return Object(s.pipe)(i,m(c,o,h.b.getIndexByAlert(i.activeAlert.id,c)),r.getCardHydrator(e))}}}}(b=e.ItemFactory||(e.ItemFactory={}));const v=e=>(t,n,r)=>o=>{const s=h.b.getAlertByIndex(r,t),c=d.a.isApplicableAlert(s)?f.a.getApplicableCardMeta(s,o.visualState,e):m.a.empty(void 0);return Object(a._)(Object(i._)({},o),{alerts:t,activeAlert:s,meta:c,removedAlertsIds:n,activeAlertIndex:r})};var y=e.changePosition=e=>t=>Object(a._)(Object(i._)({},t),{positionState:e}),O=e.updateVisualState=e=>t=>Object(a._)(Object(i._)({},t),{visualState:e}),_=e.getCardHydrator=e=>f.a.getCardHydrator(e=>e.cachedTransform,p.a.canHydrate,w,e),C=e.changeUserInput=e=>t=>Object(a._)(Object(i._)({},t),{userInput:e});const w=e=>t=>Object(a._)(Object(i._)({},t),{cachedTransform:e,transform:Object(s.pipe)(e,c.g.map(e=>e.labels))}),S=e=>t=>Object(a._)(Object(i._)({},t),{meta:e});e.unselect=f.a.getUnselectItem(O,y);var k=e.getSelectByAlert=(e,t,n)=>f.a.getSelectByAlert(v(t),C,O,y,S,n,e,t);e.getSelect=(e,t,n)=>f.a.getSelectFirstAlert(k(e,t,n));let E;!function(e){function n(e){const t=f.a.getChangeVisualState(O,_(e));return{completeTransition:e=>n=>t(g.a.VisualState.complete(n.visualState,e))(n),transitionTo:f.a.getTransitionTo(t,y),changeVisualState:t}}e.getAnimatable=n;var r=e.getRemove=(e,t)=>f.a.getRemove(v(e),n(t).transitionTo);e.getUpdatableWithAlertsCapability=(e,r)=>i=>Object(o.flow)(e.updateWith(i,u.d.ord),e=>t(e)?e:n(r).transitionTo({type:"added",clockwise:!0})(e)),e.getRemoveAlertsCapability=(e,t,n,i)=>(a,l)=>{const u=k(e,t,_(n)),d=f.a.getSelectNextAlert(f.a.getCardSelections(e),u);return e=>{const u=new Set(a.map(e=>e.id));if(!h.b.hasAnyOfAlerts(u)(e))return e;const p=r(t,n)(a,Object(s.pipe)(l,c.g.map(t=>i.compare(e,t)>0),c.g.getOrElse(o.constTrue)))(e);return Object(s.pipe)(l,c.g.exists(t=>t.id===e.id))?d(i)(p):p}}}(E=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},"4yB1":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("D2TP"),s=n("La5+"),c=n("xk6L"),l=n("d3CI"),u=n("0kuo"),d=n("RRF2"),p=n("M3t0"),m=n("MKsy"),f=p.d.Logging.getLogger("pageTelemetry"),h=function(){function e(t,n){Object(r.a)(this,e),Object(a._)(this,"_state",void 0),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_subs",void 0),this._state=t,this._telemetry=n,this._subs=new s.a.Keeper,this._subs.push(c.a.mergeStatic(this._trackLensChange(),this._trackAdvancedLensOpen(),this._trackSidebarState()).pipe(c.a.catchError((function(e){return f.warn("Page telemetry error",e),c.a.EMPTY}))).subscribe())}return Object(i.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"_trackLensChange",value:function(){var e=this;return this._state.pipe(c.a.skip(1),c.a.filter((function(e){if(m.a.isInGlobalSuccess(e))return!1;switch(e.currentLens.type){case l.i.lensview:case l.i.advanced:case l.i.plagiarism:case l.i.draftAI:case l.i.cheetah:return!0;case l.i.closed:return!1;default:return Object(u.c)(e.currentLens)}})),c.a.map((function(e){return d.f.camelize(e.currentLens.meta.title)})),c.a.distinctUntilChanged(),c.a.switchMap((function(t){return c.a.from(e._telemetry.gnarSpec.lensSidebarShow(t,e._telemetry.pageId))})))}},{key:"_trackAdvancedLensOpen",value:function(){var e=this;return this._state.pipe(c.a.distinctUntilChanged((function(e,t){return e.currentLens.id===t.currentLens.id})),c.a.filter(l.e.is(o.a.SpecialId.Premium)),c.a.switchMap((function(t){return c.a.from(e._telemetry.gnarSpec.advancedIssuesSidebarShow(t.currentLens.meta.count,e._telemetry.pageId))})))}},{key:"_trackSidebarState",value:function(){var e=this;return this._state.view(l.e.isSidebarOpened).pipe(c.a.skip(1),c.a.switchMap((function(t){return t?c.a.from(e._telemetry.gnarSpec.assistantSidebarShow(e._telemetry.pageId)):c.a.from(e._telemetry.gnarSpec.assistantSidebarClose(e._telemetry.pageId))})))}}]),e}()},"55o/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("Wy1Y"),a=n("a5gI"),o=n("+vYo"),s=n("xk6L"),c=n("TKPA"),l=function e(t,n){var r=this;Object(i.a)(this,e),Object(a._)(this,"_notificationsManager",void 0),Object(a._)(this,"_sendFeedback",void 0),Object(a._)(this,"currentText",void 0),Object(a._)(this,"modalShown",void 0),Object(a._)(this,"sendFeedback",void 0),this._notificationsManager=t,this._sendFeedback=n,this.currentText=o.a.create({brief:"",detailed:""}),this.modalShown=new s.a.Subject,this.sendFeedback=function(){return r.currentText.pipe(s.a.first(),s.a.switchMap(r._sendFeedback),s.a.switchMap((function(){return r._notificationsManager.enqueue("feedbackSend").pipe(s.a.filter((function(e){return"shown"===e})),s.a.tap((function(){return r.currentText.set({brief:"",detailed:""})})),s.a.takeUntil(r.modalShown))})),s.a.catchError((function(){return r._notificationsManager.enqueue("error")}))).toPromise()}};!function(e){e.Mock=function e(){Object(i.a)(this,e),Object(a._)(this,"modalShown",new s.a.Subject),Object(a._)(this,"currentText",o.a.create({brief:"",detailed:""})),Object(a._)(this,"sendFeedback",(function(){return new Promise(c.e)}))}}(r||(r={}))},"5Dsw":function(e,t,n){e.exports=n.p+"files/d5e790be1041e248afed3159b60a25a8/inter-bolditalic.woff2"},"5KSR":function(e){e.exports=JSON.parse('{"downloadPdfReportButton":"_16595d1f-performance-downloadPdfReportButton","preparingForReportLabel":"_5f117457-performance-preparingForReportLabel","downloadPdfSpinner":"_6fe9ef4b-performance-downloadPdfSpinner","loaderContainer":"_31b5a8f7-performance-loaderContainer","downloadIcon":"_6fac0ad7-performance-downloadIcon","performanceText":"_58973c79-performance-performanceText"}')},"5QQ2":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("B8yO"),i=n("OwvP"),a=n("+vYo"),o=n("Hj2R"),s=n("LzNK"),c=n("s7eP"),l=n("NDcT"),u=n("fC5a"),d=n("hSa3"),p=n("sX1a"),m=n("0kuo"),f=n("xAs4"),h=(n("dzVI"),n("Wn5C")),g=(n("/cuZ"),n("/jTu")),b=function(e){var t=e.switchToCritical,n=e.switchToAdvanced,a=e.counters,o=e.features,c=r.useContext(l.a.Context),b=r.useContext(s.a.Context),v=b.pageId,y=b.gnarSpec,O=o.denali.alertGroupNames===f.a.CRITICAL_ADVANCED?{critical:c.sidebar.critical,advanced:c.sidebar.advanced,criticalLabel:c.sidebar.criticalLabel,advancedLabel:c.sidebar.advancedLabel}:{critical:c.sidebar.free,advanced:c.sidebar.premium,criticalLabel:c.sidebar.freeLabel,advancedLabel:c.sidebar.premiumLabel},_=a.view(function(e){switch(e){case f.a.CRITICAL_ADVANCED:return"critical";case f.a.FREE_PREMIUM:return"free";default:return Object(m.c)(e)}}(o.denali.alertGroupNames)),C=a.view(function(e){switch(e){case f.a.CRITICAL_ADVANCED:return"advanced";case f.a.FREE_PREMIUM:return"paid";default:return Object(m.c)(e)}}(o.denali.alertGroupNames));return r.createElement(i.a.div,{className:h.counters},_.view((function(e){return e>0?r.createElement(u.a,{key:"critical-issues",name:"critical-issues","aria-label":O.criticalLabel(e),styleType:p.Typography.Type.H3Legacy,className:g.issuesWrapper,onClick:function(){t(),y.assistantOpenButtonClick(v,"critical")}},r.createElement(d.a.OutcomeCounter,{theme:{counterWrapper:g.criticalCounterWrapper,counterContent:g.criticalCounterContent},count:e}),r.createElement("span",null," ",O.critical(e))):null})),C.view((function(e){return e>0?r.createElement(u.a,{key:"advanced-issues",name:"advanced-issues","aria-label":O.advancedLabel(e),styleType:p.Typography.Type.H3Legacy,className:g.issuesWrapper,onClick:function(){n(),y.assistantOpenButtonClick(v,"advanced")}},r.createElement(d.a.OutcomeCounter,{theme:{counterWrapper:g.advancedCounterWrapper,counterContent:g.advancedCounterContent},count:e}),r.createElement("span",null," ",O.advanced(e))):null})))};var v=function(e){var t=e.features,n=e.documentModel,l=e.navigationViewModel,u=r.useContext(s.a.Context),d=u.gnarSpec,p=u.pageId;return r.createElement(i.a.section,{className:h.wrapper},r.createElement(b,{features:t,switchToCritical:function(){return l.events.next({type:"switchToCritical",actionSource:o.b.sidebar})},switchToAdvanced:function(){return l.events.next({type:"switchToAdvanced",actionSource:o.b.sidebar})},counters:n.counters}),r.createElement(c.a,{checking:n.checkingState.view((function(e){return"idle"!==e})),hasErrors:a.a.combine(n.counters.view("critical"),n.counters.view("advanced"),(function(e,t){return e>0||t>0})),onClick:function(){l.events.next({type:"toggleSidebar",actionSource:o.b.sidebar}),d.assistantOpenButtonClick(p,"default")}}))}},"5bvJ":function(e){e.exports=JSON.parse('{"wrapper":"_8d820c72-feedback-popup-wrapper","description":"_5a633a50-feedback-popup-description","inputField":"_1f7f6c02-feedback-popup-inputField","briefDescriptionInput":"_dde4098c-feedback-popup-briefDescriptionInput","feedbackInput":"_8af6c552-feedback-popup-feedbackInput","helpdesk":"_83d6ee84-feedback-popup-helpdesk","buttons":"_1c9a94d2-feedback-popup-buttons","feedbackPopupBody":"_52a56165-feedback-popup-feedbackPopupBody","feedbackPopupFooter":"_001a2b32-feedback-popup-feedbackPopupFooter"}')},"5d0x":function(e){e.exports=JSON.parse('{"z100":"_917f3060-denali-editor-page-z100","z200":"_03fb1575-denali-editor-page-z200","z300":"_72c43d77-denali-editor-page-z300"}')},"5eEL":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("tiWp"),s=n("4GyQ"),c=n("OwvP"),l=n("xk6L"),u=n("mgiE"),d=n("NDcT"),p=n("jY3z"),m=n("wuWi"),f=n("D2TP"),h=n("4wwO"),g=n("KH+i"),b=n("LqiM"),v=n("7Cqk"),y=n("KYWP"),O=n("+vYo"),_=n("t39C"),C=n("ySi0"),w=n("SOPW"),S=n("eAYH"),k=n("/Q61");const E=({text:e,className:t})=>a.createElement("div",{className:t},e),j=(e,t,n)=>{const c=w.a.miniTitle(e,t),l=Object(o.pipe)(e.activeAlert.extraProperties.vox,u.g.map(e=>(({vox:e,theme:t={}})=>({icon:Object(o.pipe)(e.logoUrl,u.g.map(e=>a.createElement(k.d,Object(i._)(Object(r._)({},Object(s.c)(t.logo)),{logoUrl:e})))),action:a.createElement(k.c,Object(i._)(Object(r._)({vox:e},Object(s.c)(t.label)),{isMinimalCard:!1}))}))({vox:e,theme:{logo:n.voxLogo,label:n.voxLabel}}))),d=Object(o.pipe)(((e,t)=>Object(o.pipe)(e.activeAlert.extraProperties.tone,u.g.map(({emojiId:e})=>({action:t.replace(_.a,""),emojiId:e}))))(e,c),u.g.map(({action:e,emojiId:t})=>({icon:u.g.some(a.createElement(_.c,{id:t,className:Object(s.c)(n.emojiLogo).className})),action:a.createElement(E,{text:e,className:n.wrapper})}))),p=({className:e})=>a.createElement(C.d.PaidLink,{width:14,className:e});return Object(o.pipe)(l,u.g.orElse(d),u.g.getOrElse(()=>{return{icon:(t=e.activeAlert,Object(o.pipe)(t.freePremium,u.g.exists(e=>"unlocked"===e))?u.g.some(a.createElement(p,{className:Object(s.c)(n.freePremiumIcon).className})):S.b.isTakeawayItem(e)?u.g.some(a.createElement(C.d.Megaphone,{width:16,className:n.takeawayLogo})):u.g.none),action:a.createElement(E,{text:c,className:n.wrapper})};var t}))},x=(e,t,n)=>{const{action:r,icon:i}=j(e,t,n);return{actionComponent:r,iconComponent:Object(o.pipe)(i,u.g.fold(()=>e.renderOptions.cardVisualMode.view(g.a.CardVisualMode.match({onRegular:()=>u.g.none,onContrast:()=>{return u.g.fromNullable((t=e.activeAlert.lensType,r=n.lensLogo,f.a.outcomeTypeMatch({correctness:a.createElement(C.d.Correctness,{className:r}),clarity:a.createElement(C.d.ClarityOutcome,{className:r}),premium:a.createElement(C.d.Star,{className:r}),engagement:a.createElement(C.d.EngagementOutcome,{className:r}),delivery:a.createElement(C.d.DeliveryOutcome,{className:r}),vox:null,knowledgeHub:null})(t)));var t,r}})),e=>O.a.create(u.g.some(e))))}},A=e=>e?b.a.MiniContrast:b.a.Mini,I=e=>[f.a.outcomeTypeMatch({correctness:v.a.dotCorrectness,clarity:v.a.dotClarity,premium:v.a.dotAdvanced,engagement:v.a.dotEngagement,delivery:v.a.dotDelivery,vox:v.a.dotVox,knowledgeHub:v.a.knowledgeHub})(e.lensType),y.a.cta],T=()=>{const e=a.useContext(d.a.Context);return a.createElement(p.a.Regular,{className:y.a.newLabel},e.new)},M=e=>e.hasOwnProperty("features")&&e.features.has(g.a.Features.a11yContrast),P=e=>e.hasOwnProperty("features")&&e.features.has(g.a.Features.sduiContainerStyle);var N,B;(B=N||(N={})).Bundle=({card:e,actions:t})=>{const[n]=I(e.activeAlert),l=Object(o.pipe)(e.renderOptions,M,A);return a.createElement(l,Object(i._)(Object(r._)({},Object(s.c)(y.b.wrapper,y.b.bundleContainer,y.b.dot,n)),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:a.createElement(m.m,{className:y.b.alertsCounter},e.alerts.length),sduiStyle:P(e.renderOptions)}),a.createElement(c.a.div,Object(s.c)(y.b.miniContainer),a.createElement("div",{className:y.b.highlightedText},h.a.bundleTitle(e))))},B.Standard=({card:e,actions:t})=>{const n=a.useContext(d.a.Context),[p,m]=I(e.activeAlert),f=Object(o.pipe)(e.renderOptions,M,A),{actionComponent:h,iconComponent:g}=x(e,n,{wrapper:Object(s.c)(m,y.a.ctaText).className,voxLogo:Object(s.c)(y.a.cardLogo,y.b.cardLogo).className,voxLabel:y.a.cta,emojiLogo:Object(s.c)(y.a.cardLogo,y.b.cardLogo).className,lensLogo:Object(s.c)(y.a.cardLogo,y.b.cardLogo,y.a.lensIcon).className,takeawayLogo:y.c.takeawayIconStandard,freePremiumIcon:Object(s.c)(y.a.diamondIcon,y.a.cardLogo,y.b.cardLogo).className});return a.createElement(f,Object(i._)(Object(r._)({},Object(s.c)(y.b.wrapper,g.view(e=>u.g.isSome(e)?y.b.invisibleDot:y.b.dot),p)),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,sduiStyle:P(e.renderOptions)}),a.createElement(c.a.div,Object(s.c)(y.b.miniContainer),Object(o.pipe)(g.view(u.g.toNullable)),a.createElement("div",{className:y.b.highlightedText},e.activeAlert.highlightTexts[0]),a.createElement("div",{className:y.b.middleDot},"·"),h,Object(o.pipe)(e.renderOptions.isNew,l.a.map(e=>u.g.isSome(e)?a.createElement(T,{key:"new-label"}):null))))},B.TwoLined=({card:e,actions:t})=>{const n=a.useContext(d.a.Context),[l,p]=I(e.activeAlert),m=Object(o.pipe)(e.renderOptions,M,A),{actionComponent:f,iconComponent:h}=x(e,n,{wrapper:Object(s.c)(p,y.a.ctaText,y.c.ctaText,y.c.subTitle).className,voxLogo:Object(s.c)(y.a.cardLogo,y.c.cardLogo).className,voxLabel:Object(s.c)(y.a.cta,y.c.subTitle).className,emojiLogo:Object(s.c)(y.a.cardLogo,y.c.cardLogo).className,lensLogo:Object(s.c)(y.a.cardLogo,y.c.lensIcon,y.a.lensIcon).className,takeawayLogo:y.c.takeawayIconMini,freePremiumIcon:Object(s.c)(y.a.diamondIcon,y.a.cardLogo,y.c.cardLogo).className});return a.createElement(m,Object(i._)(Object(r._)({},Object(s.c)(y.c.wrapper,h.view(e=>u.g.isSome(e)?y.c.invisibleDot:y.c.dot),l)),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,sduiStyle:P(e.renderOptions)}),a.createElement(c.a.div,Object(s.c)(y.c.miniContainer),f,Object(o.pipe)(h.view(u.g.toNullable)),a.createElement("div",{className:y.d},e.activeAlert.highlightTexts[0])))}},"5lyU":function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var r=n("B8yO"),i=n("KqOJ");function a(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof a(e).Element||e instanceof Element}function s(e){return e instanceof a(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof a(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,u=Math.min,d=Math.round;function p(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function m(){return!/^((?!chrome|android).)*safari/i.test(p())}function f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,c=1;t&&s(e)&&(i=e.offsetWidth>0&&d(r.width)/e.offsetWidth||1,c=e.offsetHeight>0&&d(r.height)/e.offsetHeight||1);var l=(o(e)?a(e):window).visualViewport,u=!m()&&n,p=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/c,h=r.width/i,g=r.height/c;return{width:h,height:g,top:f,right:p+h,bottom:f+g,left:p,x:p,y:f}}function h(e){var t=a(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function g(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function v(e){return f(b(e)).left+h(e).scrollLeft}function y(e){return a(e).getComputedStyle(e)}function O(e){var t=y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function _(e,t,n){void 0===n&&(n=!1);var r,i,o=s(t),c=s(t)&&function(e){var t=e.getBoundingClientRect(),n=d(t.width)/e.offsetWidth||1,r=d(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),l=b(t),u=f(e,c,n),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!n)&&(("body"!==g(t)||O(l))&&(p=(r=t)!==a(r)&&s(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:h(r)),s(t)?((m=f(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):l&&(m.x=v(l))),{x:u.left+p.scrollLeft-m.x,y:u.top+p.scrollTop-m.y,width:u.width,height:u.height}}function C(e){var t=f(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function w(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||b(e)}function S(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(g(t))>=0?t.ownerDocument.body:s(t)&&O(t)?t:e(w(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=a(r),c=i?[o].concat(o.visualViewport||[],O(r)?r:[]):r,l=t.concat(c);return i?l:l.concat(S(w(c)))}function k(e){return["table","td","th"].indexOf(g(e))>=0}function E(e){return s(e)&&"fixed"!==y(e).position?e.offsetParent:null}function j(e){for(var t=a(e),n=E(e);n&&k(n)&&"static"===y(n).position;)n=E(n);return n&&("html"===g(n)||"body"===g(n)&&"static"===y(n).position)?t:n||function(e){var t=/firefox/i.test(p());if(/Trident/i.test(p())&&s(e)&&"fixed"===y(e).position)return null;var n=w(e);for(c(n)&&(n=n.host);s(n)&&["html","body"].indexOf(g(n))<0;){var r=y(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var x="top",A="bottom",I="right",T="left",M=[x,A,I,T],P=M.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),N=[].concat(M,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function L(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}})),r.push(i)}(e)})),r}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function D(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?F:i;return function(e,t,n){void 0===n&&(n=a);var i,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(n){var i="function"==typeof n?n(c.options):n;p(),c.options=Object.assign({},a,c.options,i),c.scrollParents={reference:o(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var s=function(e){var t=L(e);return B.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,c.options.modifiers)));return c.orderedModifiers=s.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var a=i({state:c,name:t,instance:d,options:r});l.push(a||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(R(t,n)){c.rects={reference:_(t,j(n),"fixed"===c.options.strategy),popper:C(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],a=i.fn,o=i.options,s=void 0===o?{}:o,l=i.name;"function"==typeof a&&(c=a({state:c,options:s,name:l,instance:d})||c)}else c.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){p(),u=!0}};if(!R(e,t))return d;function p(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var H={passive:!0};function V(e){return e.split("-")[0]}function U(e){return e.split("-")[1]}function W(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function z(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?V(i):null,o=i?U(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(a){case x:t={x:s,y:n.y-r.height};break;case A:t={x:s,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:c};break;case T:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=a?W(a):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case"start":t[l]=t[l]-(n[u]/2-r[u]/2);break;case"end":t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,c=e.position,l=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,m=e.isFixed,f=s.x,h=void 0===f?0:f,g=s.y,v=void 0===g?0:g,O="function"==typeof p?p({x:h,y:v}):{x:h,y:v};h=O.x,v=O.y;var _=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),w=T,S=x,k=window;if(u){var E=j(n),M="clientHeight",P="clientWidth";if(E===a(n)&&"static"!==y(E=b(n)).position&&"absolute"===c&&(M="scrollHeight",P="scrollWidth"),E=E,i===x||(i===T||i===I)&&"end"===o)S=A,v-=(m&&E===k&&k.visualViewport?k.visualViewport.height:E[M])-r.height,v*=l?1:-1;if(i===T||(i===x||i===A)&&"end"===o)w=I,h-=(m&&E===k&&k.visualViewport?k.visualViewport.width:E[P])-r.width,h*=l?1:-1}var N,B=Object.assign({position:c},u&&G),L=!0===p?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:d(t*r)/r||0,y:d(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=L.x,v=L.y,l?Object.assign({},B,((N={})[S]=C?"0":"",N[w]=_?"0":"",N.transform=(k.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N)):Object.assign({},B,((t={})[S]=C?v+"px":"",t[w]=_?h+"px":"",t.transform="",t))}var K={left:"right",right:"left",bottom:"top",top:"bottom"};function $(e){return e.replace(/left|right|bottom|top/g,(function(e){return K[e]}))}var Z={start:"end",end:"start"};function Y(e){return e.replace(/start|end/g,(function(e){return Z[e]}))}function X(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&c(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Q(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function J(e,t,n){return"viewport"===t?Q(function(e,t){var n=a(e),r=b(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,c=0,l=0;if(i){o=i.width,s=i.height;var u=m();(u||!u&&"fixed"===t)&&(c=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:c+v(e),y:l}}(e,n)):o(t)?function(e,t){var n=f(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Q(function(e){var t,n=b(e),r=h(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=l(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=l(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+v(e),c=-r.scrollTop;return"rtl"===y(i||n).direction&&(s+=l(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:c}}(b(e)))}function ee(e,t,n,r){var i="clippingParents"===t?function(e){var t=S(w(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&s(e)?j(e):e;return o(n)?t.filter((function(e){return o(e)&&X(e,n)&&"body"!==g(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),c=a[0],d=a.reduce((function(t,n){var i=J(e,n,r);return t.top=l(i.top,t.top),t.right=u(i.right,t.right),t.bottom=u(i.bottom,t.bottom),t.left=l(i.left,t.left),t}),J(e,c,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function te(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ne(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function re(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,s=void 0===a?e.strategy:a,c=n.boundary,l=void 0===c?"clippingParents":c,u=n.rootBoundary,d=void 0===u?"viewport":u,p=n.elementContext,m=void 0===p?"popper":p,h=n.altBoundary,g=void 0!==h&&h,v=n.padding,y=void 0===v?0:v,O=te("number"!=typeof y?y:ne(y,M)),_="popper"===m?"reference":"popper",C=e.rects.popper,w=e.elements[g?_:m],S=ee(o(w)?w:w.contextElement||b(e.elements.popper),l,d,s),k=f(e.elements.reference),E=z({reference:k,element:C,strategy:"absolute",placement:i}),j=Q(Object.assign({},C,E)),T="popper"===m?j:k,P={top:S.top-T.top+O.top,bottom:T.bottom-S.bottom+O.bottom,left:S.left-T.left+O.left,right:T.right-S.right+O.right},N=e.modifiersData.offset;if("popper"===m&&N){var B=N[i];Object.keys(P).forEach((function(e){var t=[I,A].indexOf(e)>=0?1:-1,n=[x,A].indexOf(e)>=0?"y":"x";P[e]+=B[n]*t}))}return P}function ie(e,t,n){return l(e,u(t,n))}function ae(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oe(e){return[x,I,A,T].some((function(t){return e[t]>=0}))}var se=D({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,c=void 0===s||s,l=a(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,H)})),c&&l.addEventListener("resize",n.update,H),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,H)})),c&&l.removeEventListener("resize",n.update,H)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=z({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,c=void 0===s||s,l={placement:V(t.placement),variation:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,q(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,q(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];s(i)&&g(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});s(r)&&g(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=N.reduce((function(e,n){return e[n]=function(e,t,n){var r=V(e),i=[T,x].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[T,I].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,f=void 0===m||m,h=n.allowedAutoPlacements,g=t.options.placement,b=V(g),v=c||(b===g||!f?[$(g)]:function(e){if("auto"===V(e))return[];var t=$(e);return[Y(e),t,Y(t)]}(g)),y=[g].concat(v).reduce((function(e,n){return e.concat("auto"===V(n)?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?N:c,u=U(r),d=u?s?P:P.filter((function(e){return U(e)===u})):M,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var m=p.reduce((function(t,n){return t[n]=re(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[V(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:h}):n)}),[]),O=t.rects.reference,_=t.rects.popper,C=new Map,w=!0,S=y[0],k=0;k<y.length;k++){var E=y[k],j=V(E),B="start"===U(E),L=[x,A].indexOf(j)>=0,F=L?"width":"height",R=re(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:p,padding:l}),D=L?B?I:T:B?A:x;O[F]>_[F]&&(D=$(D));var H=$(D),W=[];if(a&&W.push(R[j]<=0),s&&W.push(R[D]<=0,R[H]<=0),W.every((function(e){return e}))){S=E,w=!1;break}C.set(E,W)}if(w)for(var z=function(e){var t=y.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},G=f?3:1;G>0;G--){if("break"===z(G))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,m=n.padding,f=n.tether,h=void 0===f||f,g=n.tetherOffset,b=void 0===g?0:g,v=re(t,{boundary:c,rootBoundary:d,padding:m,altBoundary:p}),y=V(t.placement),O=U(t.placement),_=!O,w=W(y),S="x"===w?"y":"x",k=t.modifiersData.popperOffsets,E=t.rects.reference,M=t.rects.popper,P="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,N="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(k){if(a){var F,R="y"===w?x:T,D="y"===w?A:I,H="y"===w?"height":"width",z=k[w],G=z+v[R],q=z-v[D],K=h?-M[H]/2:0,$="start"===O?E[H]:M[H],Z="start"===O?-M[H]:-E[H],Y=t.elements.arrow,X=h&&Y?C(Y):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Q[R],ee=Q[D],te=ie(0,E[H],X[H]),ne=_?E[H]/2-K-te-J-N.mainAxis:$-te-J-N.mainAxis,ae=_?-E[H]/2+K+te+ee+N.mainAxis:Z+te+ee+N.mainAxis,oe=t.elements.arrow&&j(t.elements.arrow),se=oe?"y"===w?oe.clientTop||0:oe.clientLeft||0:0,ce=null!=(F=null==B?void 0:B[w])?F:0,le=z+ae-ce,ue=ie(h?u(G,z+ne-ce-se):G,z,h?l(q,le):q);k[w]=ue,L[w]=ue-z}if(s){var de,pe="x"===w?x:T,me="x"===w?A:I,fe=k[S],he="y"===S?"height":"width",ge=fe+v[pe],be=fe-v[me],ve=-1!==[x,T].indexOf(y),ye=null!=(de=null==B?void 0:B[S])?de:0,Oe=ve?ge:fe-E[he]-M[he]-ye+N.altAxis,_e=ve?fe+E[he]+M[he]-ye-N.altAxis:be,Ce=h&&ve?function(e,t,n){var r=ie(e,t,n);return r>n?n:r}(Oe,fe,_e):ie(h?Oe:ge,fe,h?_e:be);k[S]=Ce,L[S]=Ce-fe}t.modifiersData[r]=L}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=V(n.placement),c=W(s),l=[T,I].indexOf(s)>=0?"height":"width";if(a&&o){var u=function(e,t){return te("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ne(e,M))}(i.padding,n),d=C(a),p="y"===c?x:T,m="y"===c?A:I,f=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],h=o[c]-n.rects.reference[c],g=j(a),b=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=f/2-h/2,y=u[p],O=b-d[l]-u[m],_=b/2-d[l]/2+v,w=ie(y,_,O),S=c;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&X(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=re(t,{elementContext:"reference"}),s=re(t,{altBoundary:!0}),c=ae(o,r),l=ae(s,i,a),u=oe(c),d=oe(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),ce=n("WyFC"),le=n.n(ce),ue=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},de="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,pe=[],me=function(e,t,n){void 0===n&&(n={});var a=r.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||pe},s=r.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=s[0],l=s[1],u=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);i.flushSync((function(){l({styles:ue(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ue(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=r.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return le()(a.current,e)?a.current||e:(a.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),p=r.useRef();return de((function(){p.current&&p.current.setOptions(d)}),[d]),de((function(){if(null!=e&&null!=t){var r=(n.createPopper||se)(e,t,d);return p.current=r,function(){r.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:c.styles,attributes:c.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}},"6+Mz":function(e){e.exports=JSON.parse('{"wrapper":"_fc36500a-vbars-wrapper","description":"_c2ea3f61-vbars-description","inputField":"_45ccffb4-vbars-inputField","briefDescriptionInput":"_1dd3b374-vbars-briefDescriptionInput","feedbackInput":"_2386cde3-vbars-feedbackInput","helpdesk":"_102a6954-vbars-helpdesk","buttons":"_b774a096-vbars-buttons","feedbackPopupBody":"_6ff7ea12-vbars-feedbackPopupBody","feedbackPopupFooter":"_ff8c6c8f-vbars-feedbackPopupFooter"}')},"6+at":function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return D}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("vGXj"),s=n("B8yO"),c=n("DTwm"),l=n("tiWp"),u=n("5KcF"),d=n("OwvP"),p=n("4GyQ"),m=n("+vYo"),f=n("mgiE"),h=n("0kuo"),g=n("RRF2"),b=n("koeM"),v=n("XQlQ"),y=n("xk6L"),O=n("yIk2"),_=n("6c0D"),C=n("0IPU"),w=n("2YEY"),S=n("2swC"),k=n("fC5a"),E=n("ySi0"),j=n("AVzG"),x=n("wuWi"),A=n("sX1a");const I=e=>s.createElement(k.a,{className:w.a.completeButton,onClick:e.onClick},e.text),T=({alignment:e,rect:t,onClose:n,className:r,children:o,icon:c,pinTargetRect:u,hideCloseButton:m,onMount:h})=>s.createElement(j.a.ByRelativeRect,Object(a._)(Object(i._)({rect:t,className:w.b.notificationContainer},j.a.Alignment.toSelector(e)),{pinTargetRect:u,withPin:!0}),s.createElement(d.a.div,Object(a._)(Object(i._)({},Object(p.c)(w.b.stepWrapper,r)),{mount:h}),Object(l.pipe)(c,f.g.fold(()=>s.createElement(E.d.Grammarly,{className:w.b.alertIcon}),e=>s.createElement(e,{className:w.b.alertIcon}))),o,!(null!=m&&m)&&s.createElement(k.a,{name:"onboard-close",className:w.b.closeIconWrapper,onClick:()=>n&&n()},s.createElement(E.d.Close,{className:w.b.closeIcon,width:12})))),M=({alignment:e,rect:t,onClose:n,className:r,children:o,pinTargetRect:c,hideCloseButton:l,onMount:u})=>s.createElement(j.a.ByRelativeRect,Object(a._)(Object(i._)({rect:t,className:w.b.notificationContainer},j.a.Alignment.toSelector(e)),{pinTargetRect:c,withPin:!0}),s.createElement(d.a.div,Object(a._)(Object(i._)({},Object(p.c)(w.a.stepWrapper,r)),{mount:u}),o,!(null!=l&&l)&&s.createElement(k.a,{name:"onboard-close",className:w.a.closeIconWrapper,onClick:()=>{var e;return null===(e=n)||void 0===e?void 0:e()}},s.createElement(E.d.Close,{className:w.a.closeIcon,width:12,color:S.a.CoreNeutral40})))),P=e=>{var{title:t,description:n}=e,r=Object(o._)(e,["title","description"]);return s.createElement(T,r,s.createElement("span",{className:w.b.content},Boolean(t)?s.createElement(x.i,{className:w.b.header},t):null,s.createElement(x.a,{className:w.b.description},n)))},N=e=>{var{title:t,description:n,isLastStep:r,onComplete:i}=e,a=Object(o._)(e,["title","description","isLastStep","onComplete"]);return s.createElement(M,a,s.createElement("div",{className:w.a.contentWrapper},s.createElement("div",{className:w.b.content},Boolean(t)?s.createElement(A.Typography.Base,{className:w.b.header},t):null,s.createElement(A.Typography.Base,{className:w.a.description},n)),s.createElement(I,{text:r?"Done":"Next",onClick:i})))},B=({className:e,onClick:t,customStyle:n})=>s.createElement(d.a.div,Object(a._)(Object(i._)({},Object(p.c)(w.b.pulseWrapper,e)),{style:n,onClick:()=>t&&t()}),s.createElement("div",{className:w.b.pulseOptimized}));var L;function F(e){const t=s.useContext(F.Context),{stepId:n,onboardingViewModel:r}=e,c=Object(o._)(e,["stepId","onboardingViewModel"]),u=r||t,d=R(n,u),p=s.useContext(v.a.Context).pipe(y.a.map(e=>e.rect));return Object(l.pipe)(d,f.g.fold(()=>s.Children.only(e.children),e=>{var t,r;return s.createElement(D,Object(a._)(Object(i._)({},c),{onboardingStep:e,viewportRect:p,isLastStep:null===(t=(r=u).isLastStep)||void 0===t?void 0:t.call(r,n)}))}))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(L||(L={}));const R=(e,t)=>(Object(h.f)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?f.g.some(t.subscribeForStep(e)):f.g.none);class D extends s.Component{componentWillUnmount(){const e=this.props.onboardingStep;"popup"!==e.state.get()&&"popover"!==e.state.get()||e.popupIgnored(),this._subs.forEach(e=>e.unsubscribe())}componentDidMount(){const e=this.props.dotPosition;var t;e?this._subs.push(y.a.mergeStatic(this.context,this.props.onboardingStep.state.pipe(y.a.filter(e=>"dot"===e||"popup"===e||"popover"===e))).pipe(y.a.delay(500),y.a.withLatestFrom(this._wrapperElement,this._containerElement),y.a.switchMap(([t,n,r])=>Object(l.pipe)(Object(c.tuple)(n,r),Object(c.tupled)(f.g.map2((t,n)=>{switch(e.kind){case"findFirstButton":return O.b.toObservable(e.buttonOrder).pipe(y.a.switchMap(r=>y.a.of(void 0).pipe(y.a.delay(500),y.a.map(()=>{const[i,a]=U(t,n,e.position,r,e.selector);return this._exactTargetRect.set(a),i}),y.b.compact)));case"dotAtPosition":return y.a.of(H(e.position));default:return Object(h.c)(e)}})),f.g.fold(()=>y.a.EMPTY,u.a)))).subscribe(e=>{this._spotStyle.set(e),this._visibilityState.set(!0)}),y.a.combineLatestStatic([null!==(t=this.props.dismissalTrigger)&&void 0!==t?t:y.a.EMPTY,this.props.onboardingStep.state]).pipe(y.a.filter(([e,t])=>e&&("dot"===t||"popup"===t||"popover"===t)),y.a.take(1)).subscribe(()=>{this.props.onboardingStep.actionTaken()})):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return s.createElement(d.a.div,Object(a._)(Object(i._)({key:"onboarding-wrapper"},Object(p.c)(w.b.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName)),{mount:e=>this._wrapperElement.set(f.g.fromNullable(e))}),s.createElement("div",Object(a._)(Object(i._)({key:"container",ref:e=>this._containerElement.set(f.g.fromNullable(e))},Object(p.c)(w.b.containerDiv,this.props.themes&&this.props.themes.containerClassName)),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),m.a.combine(e.state,this._visibilityState,(t,n)=>{if(!n)return null;switch(t){case C.a.Dot:const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),s.createElement(B,Object(a._)(Object(i._)({customStyle:this._spotStyle,key:"spot"},Object(p.c)(w.b.onboardingSpot,t)),{onClick:()=>e.dotClicked()}));case C.a.Popup:return s.createElement(P,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(f.g.fold(()=>g.c.Rect.empty,g.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:f.g.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(f.g.orUndefined)});case C.a.Popover:return s.createElement(N,{key:"step",title:this.props.title,isLastStep:Boolean(this.props.isLastStep),alignment:this.props.alignment,rect:this._containerElement.view(f.g.fold(()=>g.c.Rect.empty,g.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,onClose:()=>e.popupClosed(),onComplete:()=>e.actionTaken(),pinTargetRect:this._exactTargetRect.view(f.g.orUndefined)});default:return null}}))}constructor(...e){super(...e),Object(r._)(this,"context",void 0),Object(r._)(this,"_subs",[]),Object(r._)(this,"_wrapperElement",m.a.create(f.g.none)),Object(r._)(this,"_containerElement",m.a.create(f.g.none)),Object(r._)(this,"_exactTargetRect",m.a.create(f.g.none)),Object(r._)(this,"_visibilityState",m.a.create(!1)),Object(r._)(this,"_spotStyle",m.a.create({})),Object(r._)(this,"_onEventActionTaken",(e,t=!0)=>n=>{const r=e.state.get();if("popup"===r||"popover"===r||t&&"dot"===r){var i;const r=n.target;if(g.c.isDisabled(r))return;const a=t||g.c.hasParentWithClassName(r,w.b.containerDiv);if("findFirstButton"===(null===(i=this.props.dotPosition)||void 0===i?void 0:i.kind)&&!g.c.hasParentWithAttribute(r,"role","button"))return;a&&e.actionTaken()}else"dot"===r&&(n.preventDefault(),n.stopPropagation())})}}Object(r._)(D,"contextType",b.a.Context),Object(r._)(D,"defaultProps",{alignment:"left"});const H=e=>{switch(e){case L.leftTop:return{top:0,left:0};case L.leftCenter:return{top:"50%",left:0};case L.leftBottom:return{top:"100%",left:0};case L.rightTop:return{top:0,left:"100%"};case L.rightCenter:return{top:"50%",left:"100%"};case L.rightBottom:return{top:"100%",left:"100%"};case L.center:return{top:"50%",left:"50%"};default:return Object(h.c)(e)}},V=(e,t,n)=>{switch(n){case L.rightTop:return{top:e.top-t.top,left:e.left-t.left+e.width};case L.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return Object(h.c)(n)}},U=(e,t,n,r,i)=>{const a=t.querySelectorAll(null!=i?i:'[role="button"], [role="insertion"], [role="deletion"]'),o=a.length>0&&(void 0===r?a[a.length-1]:a[r]);if(Boolean(o)){const t=g.c.Rect.fromEl(Object(c.unsafeCoerce)(o)),r=g.c.Rect.fromEl(e);return[f.g.some(V(t,r,n)),f.g.some(t)]}return Boolean(i)?[f.g.none,f.g.none]:[f.g.some({top:"50%",left:"50%"}),f.g.none]};var W,z;W=F||(F={}),z=W.Context=s.createContext(null),W.ContextMock=({children:e})=>s.createElement(z.Provider,{value:new _.a,children:e})},"6EPH":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("B8yO"),i=n("NDcT"),a=n("RRF2"),o=function(e){var t=e.value,n=e.currency,i="USD"===n?"$":"".concat(n," ");return r.createElement(r.Fragment,null,i,a.f.formatPrice(t))},s=function(e){var t=e.value,n=e.currency,a=e.periodInMonths,s=t/Math.max(1,a),c=r.useContext(i.a.Context).changePlan;return r.createElement(r.Fragment,null,r.createElement(o,{currency:n,value:s}),"/",c.perMonth)},c=function(e){var t=e.value,n=e.currency,a=e.periodInMonths,s=12*(t/Math.max(1,a)),c=r.useContext(i.a.Context).changePlan;return r.createElement(r.Fragment,null,r.createElement(o,{currency:n,value:s}),"/",c.perYear)}},"6K6r":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("+ndJ"),i=n("B8yO");function a(e){let t=(0,r.a)(e),[n,a]=(0,i.useState)(null);return{focusStrategy:n,...t,open(e=null){a(e),t.open()},toggle(e=null){a(e),t.toggle()}}}},"6M1r":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Lg}));var r={};n.r(r),n.d(r,"ActionNotifyUserAction",(function(){return ir})),n.d(r,"ActionInteractPopoverInteraction",(function(){return ar})),n.d(r,"ActionOpenGrammarlyGoEntryPoint",(function(){return or})),n.d(r,"AnimationName",(function(){return sr})),n.d(r,"ButtonKind",(function(){return cr})),n.d(r,"ButtonShape",(function(){return lr})),n.d(r,"ButtonState",(function(){return ur})),n.d(r,"Color",(function(){return dr})),n.d(r,"ComponentKnownName",(function(){return pr})),n.d(r,"ContentAssistantFeedOrderingDirection",(function(){return mr})),n.d(r,"ContentAssistantFeedFilteringCondition",(function(){return fr})),n.d(r,"ContentProgressBarState",(function(){return hr})),n.d(r,"HorizontalAlign",(function(){return gr})),n.d(r,"IconKnownName",(function(){return br})),n.d(r,"LensKind",(function(){return vr})),n.d(r,"Position",(function(){return yr})),n.d(r,"Radius",(function(){return Or})),n.d(r,"Space",(function(){return _r})),n.d(r,"TextFormat",(function(){return Cr})),n.d(r,"TextSize",(function(){return wr})),n.d(r,"TimeCurve",(function(){return Sr})),n.d(r,"TooltipAlignment",(function(){return kr})),n.d(r,"VerticalAlign",(function(){return Er}));var i={};n.r(i),n.d(i,"interpreter",(function(){return Tr.a})),n.d(i,"Root",(function(){return Pr})),n.d(i,"Action",(function(){return Nr})),n.d(i,"ActionNotifyUserAction",(function(){return Br})),n.d(i,"ActionNotify",(function(){return Lr})),n.d(i,"ActionOpenSettings",(function(){return Fr})),n.d(i,"ActionOpenLearnMore",(function(){return Rr})),n.d(i,"ActionOpenPerformanceScore",(function(){return Dr})),n.d(i,"ActionOpenToneDetector",(function(){return Hr})),n.d(i,"ActionUpgradeToPremium",(function(){return Vr})),n.d(i,"ActionShowHighlights",(function(){return Ur})),n.d(i,"ActionHideHighlights",(function(){return Wr})),n.d(i,"ActionOpenFeedback",(function(){return zr})),n.d(i,"ActionOpenCreateSnippetModal",(function(){return Gr})),n.d(i,"ActionCloseCard",(function(){return qr})),n.d(i,"ActionNextCard",(function(){return Kr})),n.d(i,"ActionPrevCard",(function(){return $r})),n.d(i,"ActionRemoveRoot",(function(){return Zr})),n.d(i,"ActionRemoveAlerts",(function(){return Yr})),n.d(i,"ActionApplyAlerts",(function(){return Xr})),n.d(i,"ActionSelectAlternative",(function(){return Qr})),n.d(i,"ActionTransition",(function(){return Jr})),n.d(i,"ActionOpenLink",(function(){return ei})),n.d(i,"ActionCopyToClipboard",(function(){return ti})),n.d(i,"ActionNativeOpenAssistant",(function(){return ni})),n.d(i,"ActionPushAssistantFeed",(function(){return ri})),n.d(i,"ActionPopAssistantFeed",(function(){return ii})),n.d(i,"ActionFocusAssistantCard",(function(){return ai})),n.d(i,"ActionSwitchView",(function(){return oi})),n.d(i,"ActionNewRevision",(function(){return si})),n.d(i,"ActionHighlightAlert",(function(){return ci})),n.d(i,"ActionStopApplyingAlerts",(function(){return li})),n.d(i,"ActionClosePopover",(function(){return ui})),n.d(i,"ActionInteractPopoverInteraction",(function(){return di})),n.d(i,"ActionInteractPopover",(function(){return pi})),n.d(i,"ActionOpenGrammarlyGoEntryPoint",(function(){return mi})),n.d(i,"ActionOpenGrammarlyGo",(function(){return fi})),n.d(i,"ActionEnablePlagiarismCheck",(function(){return hi})),n.d(i,"ActionDisablePlagiarismCheck",(function(){return gi})),n.d(i,"ActionNativeOpenUserSatisfactionFeedback",(function(){return bi})),n.d(i,"Actions",(function(){return vi})),n.d(i,"AnimationName",(function(){return yi})),n.d(i,"Behavior",(function(){return Oi})),n.d(i,"BehaviorStrongAlertRef",(function(){return Ci})),n.d(i,"BehaviorAnimationFadeIn",(function(){return wi})),n.d(i,"BehaviorAnimationFadeOut",(function(){return Si})),n.d(i,"BehaviorPopoverAnchor",(function(){return ki})),n.d(i,"BehaviorLifecycle",(function(){return ji})),n.d(i,"Behaviors",(function(){return xi})),n.d(i,"BorderRadius",(function(){return Ai})),n.d(i,"ButtonKind",(function(){return Ii})),n.d(i,"ButtonShape",(function(){return Ti})),n.d(i,"ButtonState",(function(){return Mi})),n.d(i,"Color",(function(){return Pi})),n.d(i,"ComponentKnownName",(function(){return Ni})),n.d(i,"ComponentMeta",(function(){return Bi})),n.d(i,"ComponentName",(function(){return Li})),n.d(i,"ComponentNameUnknown",(function(){return Fi})),n.d(i,"ComponentNameKnown",(function(){return Ri})),n.d(i,"Content",(function(){return Di})),n.d(i,"ContentText",(function(){return Vi})),n.d(i,"ContentAssistantFeedOrderingDirection",(function(){return Ui})),n.d(i,"ContentAssistantFeedOrdering",(function(){return Wi})),n.d(i,"ContentAssistantFeedFilteringCondition",(function(){return zi})),n.d(i,"ContentAssistantFeedFiltering",(function(){return Gi})),n.d(i,"ContentAssistantFeed",(function(){return qi})),n.d(i,"ContentAssistantCard",(function(){return $i})),n.d(i,"ContentPopoverStack",(function(){return Yi})),n.d(i,"ContentInlineCard",(function(){return Qi})),n.d(i,"ContentGButtonDefault",(function(){return ea})),n.d(i,"ContentGButtonTone",(function(){return ta})),n.d(i,"ContentGButtonProofit",(function(){return na})),n.d(i,"ContentGButtonGetStarted",(function(){return ra})),n.d(i,"ContentGButtonPlagiarism",(function(){return ia})),n.d(i,"ContentGButton",(function(){return aa})),n.d(i,"ContentProofitButton",(function(){return oa})),n.d(i,"ContentLensesSwitchPanelLensSwitchButton",(function(){return sa})),n.d(i,"ContentLensesSwitchPanel",(function(){return ca})),n.d(i,"ContentStrongAlertRef",(function(){return la})),n.d(i,"ContentColumn",(function(){return da})),n.d(i,"ContentRow",(function(){return ma})),n.d(i,"ContentBlockInnerSpacing",(function(){return ha})),n.d(i,"ContentBlock",(function(){return ga})),n.d(i,"ContentBox",(function(){return va})),n.d(i,"ContentScroll",(function(){return Oa})),n.d(i,"ContentListItemSecondaryButtonLabel",(function(){return Ca})),n.d(i,"ContentListItemSecondaryButtonLabelText",(function(){return wa})),n.d(i,"ContentListItemSecondaryButtonLabelIcon",(function(){return Sa})),n.d(i,"ContentListItemSecondaryButton",(function(){return ka})),n.d(i,"ContentListItem",(function(){return Ea})),n.d(i,"ContentList",(function(){return xa})),n.d(i,"ContentSelectableDropDownMenu",(function(){return Ia})),n.d(i,"ContentDropDownMenuButton",(function(){return Ta})),n.d(i,"ContentIconSource",(function(){return Ma})),n.d(i,"ContentIconSourceKnown",(function(){return Pa})),n.d(i,"ContentIconSourceUrl",(function(){return Na})),n.d(i,"ContentIcon",(function(){return Ba})),n.d(i,"ContentImage",(function(){return La})),n.d(i,"ContentButton",(function(){return Fa})),n.d(i,"ContentTooltip",(function(){return Da})),n.d(i,"ContentClickableText",(function(){return Va})),n.d(i,"ContentCount",(function(){return Ua})),n.d(i,"ContentAlertsCount",(function(){return Wa})),n.d(i,"ContentAlternativeChoiceAlterna",(function(){return za})),n.d(i,"ContentAlternativeChoice",(function(){return qa})),n.d(i,"ContentSliderChoiceIcon",(function(){return $a})),n.d(i,"ContentSliderChoiceIconIconSource",(function(){return Za})),n.d(i,"ContentSliderChoiceIconIcon",(function(){return Ya})),n.d(i,"ContentSliderChoice",(function(){return Xa})),n.d(i,"ContentSlider",(function(){return Qa})),n.d(i,"ContentAlternativeSliderChoiceIcon",(function(){return Ja})),n.d(i,"ContentAlternativeSliderChoice",(function(){return eo})),n.d(i,"ContentAlternativeSlider",(function(){return no})),n.d(i,"ContentNativeSkillsModal",(function(){return io})),n.d(i,"ContentNativeSkillsList",(function(){return ao})),n.d(i,"ContentNativeSkillsView",(function(){return oo})),n.d(i,"ContentNativeToneInsightsModal",(function(){return so})),n.d(i,"ContentNativeLearnMoreModal",(function(){return co})),n.d(i,"ContentNativeSettingsModal",(function(){return lo})),n.d(i,"ContentNativeFeedbackModal",(function(){return uo})),n.d(i,"ContentNativeGetStartedChecklistModal",(function(){return po})),n.d(i,"ContentNativeProofitModal",(function(){return mo})),n.d(i,"ContentNativeKeyTakeawaysAssistantCard",(function(){return fo})),n.d(i,"ContentNativeInlineCardContent",(function(){return ho})),n.d(i,"ContentNativePerformanceScoreButton",(function(){return go})),n.d(i,"ContentViewStack",(function(){return bo})),n.d(i,"ContentNativeExperimentalGbconsistencyUpsellFooter",(function(){return yo})),n.d(i,"ContentRadioButtonsGroupOption",(function(){return Oo})),n.d(i,"ContentRadioButtonsGroup",(function(){return _o})),n.d(i,"ContentNativeExperimentalGbtoneInsightsUpsellFooter",(function(){return Co})),n.d(i,"ContentCollapsedCard",(function(){return wo})),n.d(i,"ContentShortFormCard",(function(){return ko})),n.d(i,"ContentLongFormCard",(function(){return jo})),n.d(i,"ContentProgressBarState",(function(){return Ao})),n.d(i,"ContentProgressBar",(function(){return Io})),n.d(i,"ContentHorizontalRule",(function(){return To})),n.d(i,"ContentGlobalPart",(function(){return Mo})),n.d(i,"FeedProperties",(function(){return No})),n.d(i,"FeedReference",(function(){return Bo})),n.d(i,"HorizontalAlign",(function(){return Lo})),n.d(i,"IconContent",(function(){return Fo})),n.d(i,"IconKnownName",(function(){return Ro})),n.d(i,"Id",(function(){return Do})),n.d(i,"LensKind",(function(){return Ho})),n.d(i,"MenuSectionItem",(function(){return Vo})),n.d(i,"MenuSection",(function(){return Uo})),n.d(i,"Menu",(function(){return Wo})),n.d(i,"Percentage",(function(){return zo})),n.d(i,"PopoverViewAnchor",(function(){return Go})),n.d(i,"PopoverViewAnchorComponent",(function(){return qo})),n.d(i,"PopoverViewAnchorGButton",(function(){return Ko})),n.d(i,"PopoverViewAnchorNativeComponent",(function(){return $o})),n.d(i,"PopoverView",(function(){return Zo})),n.d(i,"Position",(function(){return Xo})),n.d(i,"Radius",(function(){return Qo})),n.d(i,"RemSize",(function(){return Jo})),n.d(i,"SelectItem",(function(){return es})),n.d(i,"Select",(function(){return ts})),n.d(i,"SelectedView",(function(){return ns})),n.d(i,"Space",(function(){return rs})),n.d(i,"Spacing",(function(){return is})),n.d(i,"TextFormat",(function(){return as})),n.d(i,"TextSize",(function(){return os})),n.d(i,"TimeCurve",(function(){return ss})),n.d(i,"TooltipAlignment",(function(){return cs})),n.d(i,"VerticalAlign",(function(){return ls}));var a={};n.r(a),n.d(a,"version",(function(){return Ws})),n.d(a,"unsupportedComponents",(function(){return zs}));var o,s=n("Vv+i"),c=n("Wy1Y"),l=n("uKMM"),u=n("a5gI"),d=n("4mQT"),p=n("8O/t"),m=n("X76w"),f=n("hcme"),h=n("t5lx"),g=n("B8yO"),b=n("DTwm"),v=n("OwvP"),y=n("+vYo"),O=n("mgiE"),_=n("aQxY"),C=n("FAyr"),w=n("koeM"),S=n("Va3c"),k=n("0hKP"),E=n("nWMp"),j=n("7IMz"),x=n("xk6L"),A=n("yIk2"),I=n("gV67"),T=n("M3t0"),M=n("Eve8"),P=n("LzNK"),N=n("s1NC"),B=n("fKHc"),L=n("ElpI"),F=n("mybP"),R=n("TTev"),D=n("M5RY"),H=n("B/Ki"),V=n("lXop"),U=n("wuWi"),W=n("IjjT"),z=n("TKPA"),G=n("RRF2"),q=n("O2Mh"),K=n("kPsJ"),$=n("14g4"),Z=n("PDPC"),Y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,null,[{key:"create",value:function(e){var t=Object($.a)(Object(Z.a)(n),"create",this).call(this,e);return t.setAttribute("data-type",e),t}},{key:"formats",value:function(e){if(G.c.Guardians.isOL(e))return"ordered";if(G.c.Guardians.isUL(e))switch(e.getAttribute("data-type")){case"dashed":return"dashed";default:return"bullet"}}}]),n}(D.import("formats/list")),X=n("ivjH"),Q=n("cdwJ"),J=n("Djdf"),ee=n("+8xi"),te=n("txgs"),ne=n("jSIJ"),re=n("KIX2"),ie=n("fn2K"),ae=n("TncE"),oe=n("N1AT"),se=n("yiiS"),ce=n("tiWp"),le=n("NDcT"),ue=n("d3CI"),de=n("111I"),pe=n("Z8fX"),me=n("QPnx"),fe=n("1vTd"),he=n("4GyQ"),ge=n("D6wy"),be=n("sX1a"),ve=n("fuW0"),ye=n("6+at"),Oe=n("IzGB");!function(e){e.HEADER_TITLE_INPUT_NAME="header-title-input",e.TOOLTIP_DURATION=2e3,e.TITLE_MAX_LENGTH=5e3,e.TITLE_WIDTH_BUFFER=10,e.TITLE_WIDTH_BUFFER_DELAY=500;var t=e.TITLE_VISIBILITY_OFFSET=3.45;e.create=function(e,n,r,i,a){var o=new x.a.BehaviorSubject(0),s=new x.a.BehaviorSubject(!1),c=x.a.combineLatestStatic([n.scrollPosition,n.viewport.pipe(x.a.map((function(e){return e.text}))),r]).pipe(x.a.map((function(e){var t=Object(f._)(e,3),n=t[0],r=t[1],i=t[2];return{textTop:r.top-n,remSize:i}})),x.a.auditTime(100),x.a.skip(1),x.a.map((function(e){return e.textTop<e.remSize*t})),x.a.startWith(!1),x.a.distinctUntilChanged(),x.a.tap((function(e){return e||s.next(!1)}))),l=function(t){return e.title.set(t)};return{title:e.title,isSidebarOpened:i,isFocused:s,isVisible:c,isSaved:e.saved,inputWidth:o,setInputWidth:function(e){return o.next(e)},setFocus:function(e){return s.next(e)},trackTitleClick:function(){return a.gnarSpec.newTitleButtonClick(a.pageId)},setTitle:l,setPastedTitle:function(e){var t,n=G.f.sanitize(e,{allowedTags:[]}),r=window.getSelection();null!=(null===(t=r)||void 0===t?void 0:t.rangeCount)&&(r.deleteFromDocument(),r.getRangeAt(0).insertNode(document.createTextNode(n)));var i=Object(b.pipe)(r,O.g.fromNullable,O.g.chain((function(e){return O.g.fromNullable(e.focusNode)})),O.g.map((function(e){return e.textContent})),O.g.getOrElse(Object(b.constant)(n)));l(i)}}}}(o||(o={}));var _e,Ce,we,Se,ke=n("PltQ"),Ee=E.a.keyframes({"5%":{opacity:1},"95%":{opacity:1},"100%":{opacity:0}}),je={display:"inline-block",marginTop:E.a.rem(1),color:ke.i,verticalAlign:"top",fontSize:E.a.rem(.6875),lineHeight:E.a.rem(2),opacity:0,pointerEvents:"none",flexShrink:0},xe={animation:"".concat(Ee," 2s linear")},Ae=E.a.stylesheet({notSaved:[je],saved:[je,xe]}),Ie=function(e){var t=e.isSaved,n=e.className;return g.createElement(U.l,Object(p._)({key:"saved-wrapper","data-name":"save-status"},Object(he.c)(t.pipe(x.a.audit((function(e){return x.a.timer(e?1e3:0)})),x.a.startWith(!1),x.a.map((function(e){return e?Ae.saved:Ae.notSaved}))),n)),g.createElement(v.a.span,{"data-saved":t.pipe(x.a.startWith(!0))}),"Saved")},Te=n("2swC"),Me=n("3n8C"),Pe={position:"absolute",top:0,right:E.a.rem(1),left:0,zIndex:E.d.level4,marginLeft:E.a.rem(-3),paddingLeft:E.a.rem(3),height:E.a.rem(E.d.toolbarHeight+.5),background:E.c.toolbarGradient,textAlign:"center",lineHeight:E.a.rem(E.d.toolbarHeight),pointerEvents:"all",$nest:{"@media print":{display:"none"}}},Ne={position:"relative",display:"inline-block",marginTop:E.a.rem(1),marginRight:E.a.rem(.5),maxWidth:"calc(100% - ".concat(E.a.rem(3),")")},Be={$nest:{"&:before":{position:"absolute",top:0,left:E.a.rem(-.375),zIndex:-1,width:E.a.percent(100),height:E.a.rem(2),borderRadius:E.a.rem(E.d.radius2),background:Te.a.CoreNeutral10,content:'""',opacity:0,transition:"all .2s"},"&:hover:before":{opacity:1}}},Le={$nest:(_e={},Object(u._)(_e,Me.a.normal,{maxWidth:"calc(100% - 5rem)"}),Object(u._)(_e,Me.a.small,{maxWidth:"calc(100% -10rem)"}),Object(u._)(_e,Me.a.tiny,{maxWidth:"calc(100% - 12rem)"}),Object(u._)(_e,Me.a.xs,{maxWidth:"calc(100% - 15rem)"}),Object(u._)(_e,Me.a.xsLower,{maxWidth:"calc(100% - 21rem)"}),Object(u._)(_e,Me.a.xssUpper,{marginRight:E.a.rem(.5),maxWidth:"calc(100% - 24rem)"}),_e)},Fe={display:"inline-block",overflow:"hidden",padding:".25rem 0",maxWidth:"calc(100% - .5rem)",outline:"none",border:"none",background:"transparent",verticalAlign:"top",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"bold",cursor:"pointer",transition:"all .2s",pointerEvents:"all",$nest:{"&[placeholder]:empty:before":{color:Te.a.CoreNeutral50,opacity:1,content:"attr(placeholder)"},"&:focus":{textOverflow:"unset"}}},Re={opacity:1,transition:"opacity .2s",pointerEvents:"none"},De={opacity:0},He={position:"absolute",left:0,opacity:1},Ve={fontSize:E.a.rem(.75)},Ue={position:"relative",padding:0,letterSpacing:E.a.rem(.05),minWidth:E.a.px(250),maxWidth:E.a.rem(46),width:E.a.percent(100),$nest:Object(u._)({},Me.a.xs,{padding:0})},We={position:"relative",width:E.a.percent(100),height:E.a.vh(100),pointerEvents:"none"},ze={position:"relative",zIndex:E.d.level5,display:"flex",width:E.a.percent(100),justifyContent:"center"},Ge={width:E.a.percent(100)},qe={position:"absolute",top:0,zIndex:E.d.level4,width:E.a.percent(100),height:E.a.percent(100)},Ke={position:"relative",height:E.a.percent(100)},$e={marginLeft:E.a.rem(-.75),$nest:Object(u._)({},Me.a.xs,{marginLeft:E.a.rem(-1.5)})},Ze={marginRight:E.a.rem(2.25),padding:"0 ".concat(E.a.rem(.125)," 0 0"),background:Te.a.CoreNeutral0,$nest:(Ce={},Object(u._)(Ce,Me.a.xs,{marginRight:E.a.rem(1.75)}),Object(u._)(Ce,Me.a.xsLower,{marginRight:E.a.rem(1.75)}),Ce)},Ye={left:E.a.important(0)},Xe={right:E.a.important(0)},Qe=E.a.prefixedStylesheet("toolbar",{toolbarTitleContainer:[Pe],titleWrapper:[{position:"relative"}],headerTitleContainer:[Ne],headerTitleHighlight:[Be],headerTitleContainerFull:[Ne,Le],headerTitleContainerFocused:[Be,{$nest:{"&:before":{opacity:1}}}],savedContainer:[Re],savedContainerHidden:[Re,De],savedContainerAbsolute:[Re,He],savedContainerAbsoluteHidden:[De,He],savedIndicator:[Ve],headerContainer:[Ue],toolbarWrapperTier:[We],headerWrapper:[ze],headerWrapperSqueezed:[ze,{paddingLeft:0}],headerOnboardingWrapper:[Ge],absoluteWrapper:[qe],toolbarContainer:[Ke],formattingShiftedLeft:[$e],wordCounter:[Ze],footerEmotions:[{position:"absolute",right:0}],flex:[{display:"flex"}],dropdownContainer:[{lineHeight:"normal"}],dropdownListRight:[Ye],dropdownListLeft:[Xe]}),Je=E.a.style({position:"absolute",visibility:"hidden",paddingLeft:E.a.important(E.a.rem(1)),maxWidth:E.a.important("calc(100% - ".concat(E.a.rem(3),")")),width:"auto",height:0,whiteSpace:E.a.important("pre")}),et=E.a.style(Fe),tt=E.a.style({opacity:0,pointerEvents:"none"}),nt=E.a.joinClasses([be.Typography.style.base,et,Je]),rt=E.a.joinClasses([be.Typography.style.base,et]),it=E.a.joinClasses([rt,tt]),at=Object(m._)(Object(p._)({},Qe),{shadow:nt,headerTitle:rt,headerTitleHidden:it}),ot=n("bOc0"),st=(n("XeeO"),n("ekGJ")),ct=function(e){var t=e.position,n=e.children,r=e.className,i="top"===t;return g.createElement("div",Object(he.c)(st.container,r),g.createElement("div",{className:st.scrollWrap},g.createElement("div",{className:i?st.editorTopContentWrap:st.editorContentWrap},g.createElement("div",{className:i?st.editorTopContent:st.editorContent},n))))},lt=function(e){var t=e.children,n=e.selectionEffect,r=(0,g.useContext(pe.a.Context).withSelectionEffect)(ot.b,n);return g.createElement(r,{theme:{editorContent:st.editorContentFullWidth,editorContentWrap:st.editorContentWrapFullWidth}},t)},ut=function(e){return Object(b.flow)(O.g.fromNullable,O.g.tap((function(t){return e({kind:"mount",element:t})()})))},dt=de.b.Grid.make((function(e){var t=e.slots,n=e.state,r=e.view,i=e.notify,a=g.useContext(le.a.Context),s=g.useContext(pe.a.Context).withSelectionEffect,c=fe.b.createComponent({component:v.a.div,section:fe.b.create(fe.b.Id.title),behavior:ve.a.FocusBehavior.captureTab}),l=s(pe.a.Effect.PlainContainer,pe.a.Effect.collapse),u=A.b.chooseWhen(r("isOpened")),d=A.b.chooseWhen(r("isFocused"));return g.createElement(v.a.Fragment,null,g.createElement(l,Object(m._)(Object(p._)({},Object(he.c)(at.toolbarTitleContainer)),{onMount:ut(i)})),g.createElement("div",{className:at.absoluteWrapper},g.createElement(lt,{selectionEffect:pe.a.Effect.prevent},g.createElement(v.a.div,Object(he.c)(u(at.headerWrapperSqueezed,at.headerWrapper)),g.createElement("div",{className:at.headerContainer},g.createElement(v.a.div,{className:at.titleWrapper},g.createElement(c,Object(he.c)(at.headerTitleHighlight,u(at.headerTitleContainer,at.headerTitleContainerFull),d(at.headerTitleContainerFocused,void 0)),g.createElement(v.a.Fragment,null,n.pipe(x.a.map((function(e){var n=e.showOnboardingTourA11yUpdates;return g.createElement(ye.b,{alignment:"bottom",eventType:"onclick",themes:{containerWrapperClassName:at.headerOnboardingWrapper},stepId:Oe.b.StepId.DocumentTitle,title:n?a.toolbar.title.detailedOnboarding.title:void 0,message:n?a.toolbar.title.detailedOnboarding.message:a.toolbar.title.onboarding.message},g.createElement(ge.a,{title:a.toolbar.title.rename,align:"bottomCenter",duration:o.TOOLTIP_DURATION},t.input))}))))),t.savedIndicator))))),t.measurer)})),pt=de.b.Node.make((function(e){var t=e.view;return g.createElement(v.a.span,{"data-name":"saved-container",className:at.savedContainer},g.createElement(Ie,{className:at.savedIndicator,isSaved:t("saved")}))})),mt=de.b.Node.make((function(e){var t=e.view,n=e.notify,r=g.useContext(le.a.Context);return g.createElement("span",{ref:ut(n),className:at.shadow},g.createElement(v.a.Fragment,null,t("title").pipe(x.a.map((function(e){return Boolean(e)?e:r.toolbar.title.untitledDocument})))))})),ft=de.b.Node.make((function(e){var t=e.state,n=e.view,r=e.notify,i=g.useContext(le.a.Context);return g.createElement(v.a.Fragment,null,n("key").pipe(x.a.map((function(e){return g.createElement(be.Typography.H1,{key:e,style:n("inputWidth").pipe(x.a.map((function(e){return{width:e}}))),"data-name":o.HEADER_TITLE_INPUT_NAME,mount:ut(r),contentEditable:!0,spellCheck:!1,maxLength:o.TITLE_MAX_LENGTH,onClick:r({kind:"click"}),onFocus:r({kind:"focus"}),onBlur:r({kind:"blur"}),onKeyDown:function(e){return e.persist(),r({kind:"keydown",event:e})()},onPaste:function(e){e.preventDefault(),r({kind:"paste",value:e.clipboardData.getData("text")})()},onDrop:function(e){return e.preventDefault()},placeholder:i.toolbar.title.untitledDocument,className:at.headerTitle,"aria-label":t.pipe(x.a.map((function(e){var t=e.title;return Boolean(t)?i.toolbar.title.renameLabel(t):i.toolbar.title.untitledDocumentLabel}))),onInput:function(e){return r({kind:"input",element:e.currentTarget})()}})}))))})),ht=de.b.Knot.make(dt,{input:ft,measurer:mt,savedIndicator:pt}),gt=n("5ioF"),bt=n("0kuo"),vt=function(e,t,n){return de.a.fromSideEffect((function(e){return t(e.element)}),x.a.combineLatestStatic([e.isSidebarOpened,e.isFocused]).pipe(x.a.map((function(e){var t=Object(f._)(e,2);return{isOpened:t[0],isFocused:t[1],showOnboardingTourA11yUpdates:n.denali.showOnboardingTourA11yUpdates}}))))},yt=function(e){return Object(b.flow)(x.a.switchMap((function(t){var n=t.element;return e.title.pipe(x.a.scan((function(e,t){return[e[1],Boolean(t)?t.length:0]}),[0,0]),x.a.switchMap((function(e){var t=Object(f._)(e,2),r=t[0],i=t[1];return x.a.timer(0,o.TITLE_WIDTH_BUFFER_DELAY).pipe(x.a.map((function(e){return n.offsetWidth+(Boolean(e)||!Boolean(i)||r>i?0:o.TITLE_WIDTH_BUFFER)})),x.a.take(2))})),x.a.startWith(0),x.a.distinctUntilChanged(),x.a.tap(e.setInputWidth))})),x.a.switchMapTo(e.title),x.a.startWith(e.title.get()),x.a.distinctUntilChanged(),x.a.map((function(e){return{title:e}})))},Ot=function(e){return de.a.fromSideEffect(b.constVoid,e.isSaved.pipe(x.a.startWith(!0),x.a.map((function(e){return{saved:e}}))))},_t=function(e){var t=new x.a.BehaviorSubject(G.f.alphanumeric(5));return de.a.fromSideEffect((function(n){switch(n.kind){case"mount":var r;return n.element.textContent=null!==(r=e.title.get())&&void 0!==r?r:"";case"input":var i=Boolean(n.element.textContent)?G.f.sanitize(n.element.textContent,{allowedTags:[]}):"";return Boolean(i)||(n.element.innerHTML=""),i!==n.element.textContent&&(n.element.textContent=i,function(e){var t,n,r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var i=window.getSelection();null===(t=i)||void 0===t||t.removeAllRanges(),null===(n=i)||void 0===n||n.addRange(r)}(n.element)),e.setTitle(i);case"click":return e.trackTitleClick();case"focus":return e.setFocus(!0);case"blur":return t.next(G.f.alphanumeric(5)),e.setFocus(!1);case"keydown":return void(n.event.keyCode===gt.a.ENTER_CODE&&n.event.preventDefault());case"paste":return e.setPastedTitle(n.value);default:return Object(bt.c)(n)}}),x.a.combineLatestStatic([e.title,e.inputWidth,t]).pipe(x.a.map((function(e){var t=Object(f._)(e,3),n=t[0];return{inputWidth:t[1],title:n,key:t[2]}}))))},Ct=function(e,t,n){return de.a.composeKnot({root:vt(e,t,n),input:_t(e),measurer:yt(e),savedIndicator:Ot(e)})};(Se=we||(we={})).UI=ht,Se.Flow=Ct;var wt=n("vGXj"),St=n("mMt2"),kt=n("RYaW"),Et=n("ySi0"),jt=(n("TQGS"),n("kgER")),xt=function(e,t){var n=t.footer;switch(e[0]){case ne.b.wordsCount:return"".concat(e[1].toLocaleString()," ").concat(G.f.pluralize(e[1],n.word,n.words));case ne.b.charsCount:return"".concat(e[1].toLocaleString()," ").concat(G.f.pluralize(e[1],n.character,n.characters));case ne.b.readingTime:return"".concat(G.d.convertTimeToShortString(e[1])," ").concat(n.readingTime);case ne.b.speakingTime:return"".concat(G.d.convertTimeToShortString(e[1])," ").concat(n.speakingTime);case ne.b.readabilityScore:return Object(ce.pipe)(e[1],O.g.fold((function(){return n.disabledReadabilityScore}),(function(e){return"".concat(e," ").concat(n.readabilityScore)})));default:return Object(bt.c)(e[1])}},At=function(e,t){return t===ne.b.readabilityScore&&O.g.isNone(e[t])},It=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.state,n=e.className,r=e.children,i=e.mount;return g.createElement(le.a.Context.Consumer,null,(function(e){return g.createElement(v.a.aside,Object(m._)(Object(p._)({},Object(he.c)(t.view(ue.e.isSidebarOpened).view(Object(z.c)(jt.footerSqueezed,jt.footerWrapper)),n)),{"aria-label":e.toolbar.label,mount:i}),g.createElement(lt,{selectionEffect:pe.a.Effect.collapse},r))}))}}]),n}(g.Component);!function(e){e.Container=function(e){var t=e.children,n=e.mount;return g.createElement(v.a.div,Object(m._)(Object(p._)({},Object(he.c)(jt.footerContainer,jt.fContainer)),{mount:n}),t)},e.Item=function(e){var t=e.children,n=e.order,r=e.className,i=e.ariaLabel,a=e.responsive,o=void 0!==a&&a;return g.createElement("section",Object(p._)({style:{zIndex:n},"aria-label":i},Object(he.c)(r,jt.fItem,o&&jt.fItemResponsive)),t)},e.IconCounters=function(e){var t=e.counterTuple;return g.createElement(v.a.div,null,t.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Et.d.WordCounter,{key:e[0],className:jt.footerWordCounter})})),O.g.toNullable)))},e.Counters=function(e){var t=e.counterTuple,n=g.useContext(le.a.Context);return g.createElement(v.a.div,{className:jt.footerLabelContainer},t.view(Object(b.flow)(O.g.map((function(e){return g.createElement("div",{key:e[0],className:jt.counterContainer},g.createElement("div",{className:jt.footerLabel},xt(e,n)),g.createElement(Et.d.TriangleArrow,{className:jt.footerArrow}))})),O.g.toNullable)))};var t=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"context",void 0),Object(u._)(Object(s.a)(e),"_subs",[]),Object(u._)(Object(s.a)(e),"_counters",y.a.create(O.g.none)),Object(u._)(Object(s.a)(e),"_currentCounter",e.props.settingsModel.footerCounterType),Object(u._)(Object(s.a)(e),"_setCounter",(function(t){return e.props.settingsModel.updateFooterCounterType(t)})),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._subs.push(this.props.documentModel.checkingState.pipe(x.a.filter((function(e){return"idle"===e})),x.a.first(),x.a.switchMapTo(this.props.documentModel.score),x.a.combineLatest(this.props.documentModel.textInfo)).subscribe((function(t){var n=Object(f._)(t,2),r=n[0],i=n[1];return e._counters.set(Object(ce.pipe)(i,O.g.map((function(e){return{wordsCount:e.wordsCount,charsCount:e.charsCount,readingTime:e.readingTime,speakingTime:e.speakingTime,readabilityScore:Object(ce.pipe)(r,O.g.map((function(){return e.readabilityScore})))}}))))})))}},{key:"componentWillUnmount",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderLabel,r=t.id,i=t.theme,a=this.context.footer,o=y.a.combine(this._counters,this._currentCounter,(function(e,t){return Object(ce.pipe)(e,O.g.map((function(e){return[t,e[t]]})))}));return g.createElement(kt.a.DropdownLifted,{id:r,name:"footer-stats",placement:"top end",onAction:this._setCounter,selectionMode:"single",selectedKeys:Object(ce.pipe)(this._currentCounter,x.a.map((function(e){return new Set([e])}))),theme:i,"aria-label":o.view(Object(b.flow)(O.g.map((function(e){return xt(e,{footer:a})})),O.g.getOrElse((function(){return"Statistics unavailable"})))),label:n(o),items:y.a.combine(this._counters,this._currentCounter,(function(t,n){return Object(ce.pipe)(t,O.g.fold((function(){return[]}),(function(t){return Object.keys(t).map((function(r){return{type:r,key:r,isDisabled:At(t,r),currentCounter:n,label:xt([r,t[r]],e.context)}}))})))}))},(function(e){return g.createElement(kt.a.Item,{key:e.key,textValue:e.type},e.label)}))}}]),n}(g.Component);Object(u._)(t,"contextType",le.a.Context),e.WordCounter=t;e.ResponsiveWordCounter=function(e){var n=e.alignToEnd,r=e.renderLabel,i=e.renderCompactLabel,a=Object(wt._)(e,["alignToEnd","renderLabel","renderCompactLabel"]),o=j.a.useRectWatcher(),s=o.rect,c=o.onMount,l=j.a.useRectWatcher(),u=l.rect,d=l.onMount,h=x.a.combineLatestStatic([s.pipe(x.b.compact),u.pipe(x.b.compact)]).pipe(x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return n.width<r.width})),x.a.startWith(!1));return g.createElement(v.a.div,Object(p._)({mount:c},Object(he.c)(n?jt.counterWrapperEnd:jt.counterWrapperStart)),g.createElement(t,Object(m._)(Object(p._)({},a),{renderLabel:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.createElement(g.Fragment,null,g.createElement(v.a.div,Object(p._)({mount:d},Object(he.c)(jt.counterLabelContainerFull,h.pipe(x.a.map(Object(z.c)(jt.counterLabelShadow,null))))),r.apply(void 0,Object(St.a)(t))),g.createElement(v.a.div,Object(he.c)(h.pipe(x.a.map(Object(z.c)(null,jt.counterLabelShadow)))),i.apply(void 0,Object(St.a)(t))))}})))}}(It||(It={}));var Tt,Mt=n("fC5a"),Pt=n("zK/v"),Nt=n("CRC+"),Bt=n("t39C"),Lt=n("AvMM"),Ft=(n("rxvB"),n("IPPO")),Rt=function(e){var t=e.view,n=g.useContext(le.a.Context).emogenie.popup,r=n.title,i=n.subtitle,a=g.useContext(P.a.Context),o=a.gnarSpec,s=a.pageId;return g.useEffect((function(){var e=t.subscribe((function(e){if(Lt.a.View.isReport(e)){var t=e.primaryItem.name;o.emotionsPopupShow(t,s)}}));return function(){return e.unsubscribe()}}),[t,o,s]),g.createElement(v.a.Fragment,null,t.view((function(e){return Lt.a.View.isReport(e)?g.createElement(Nt.a,{key:"emogenie-dropdown",name:"emotions",align:"right",appearanceBehavior:"mouseHover",dontCloseOnClickInside:!0,theme:{dropdownList:Ft.wrapper},onVisibilityChange:function(t){if(t){var n=e.primaryItem.name;o.emotionsPopupClick(n,s)}},label:g.createElement(v.a.Fragment,null,t.view((function(e){return e})).view((function(e){var t=e.primaryItem;return g.createElement("div",{className:Ft.primaryItemWrapper},g.createElement(Bt.b,{className:Ft.primaryItem},t.emoji))})))},g.createElement(g.Fragment,null,g.createElement(U.e,null,r),g.createElement(U.a,null,i),g.createElement(v.a.div,{className:Ft.report},t.view((function(e){return e})).view((function(e){var t=e.primaryItem,n=e.secondaryItems;return g.createElement(g.Fragment,null,g.createElement(Dt,{item:t}),n.map((function(e){return g.createElement(Dt,{item:e,key:e.name})})))}))))):g.createElement(Mt.a.Ghost,{name:"emogenie-zero",disabled:!0,title:Object(ce.pipe)(e.tooltipText,O.g.map((function(e){return g.createElement("div",{className:Ft.zeroStateTooltip},e)})),O.g.orUndefined)},g.createElement(Et.d.NoTone,{className:Ft.primaryItemIcon}))})))},Dt=function(e){var t=e.item;return g.createElement("div",{className:Ft.reportItem},g.createElement(Bt.b,{className:Ft.reportItemEmoji},t.emoji),g.createElement(U.a,{className:Ft.reportItemName},t.name),g.createElement(Ht,{className:Ft.reportItemIntensity,intensity:t.intensity,caption:t.intensityCaption}),g.createElement("div",{className:Ft.reportItemActions},g.createElement(Mt.a.Ghost,{className:Ft.button,animationMode:Pt.a.None,title:t.actions.like.tooltip,name:t.actions.like.name,onClick:t.actions.like.handler,disabled:t.actions.like.disabled,active:t.actions.like.active},g.createElement(Et.d.VotedUp,null)),g.createElement(Mt.a.Ghost,{className:Ft.button,animationMode:Pt.a.None,disabled:t.actions.dislike.disabled,title:t.actions.dislike.tooltip,name:t.actions.dislike.name,onClick:t.actions.dislike.handler,active:t.actions.dislike.active},g.createElement(Et.d.VotedDown,null))))},Ht=function(e){var t=e.intensity,n=e.caption,r=e.className;return g.createElement("span",{className:r},g.createElement(ge.a,{title:n,align:"topCenter"},g.createElement("span",null,Lt.a.intensitiesOrder.map((function(e){return g.createElement("span",Object(p._)({key:e},Object(he.c)(Ft.intensityItem,e<=t?Ft.intensityColor:Ft.intensityNoColor)))})))))},Vt=(n("IDuB"),n("Tqii")),Ut=function(){var e=g.useContext(le.a.Context).footer.rtfCompatibilityInfo,t=g.useContext(P.a.Context),n=t.gnarSpec,r=t.pageId;return g.useEffect((function(){n.rtfCompatibilityViewBlockShow(r)})),g.createElement(U.l,{className:Vt.rtfDisabledMessage},g.createElement(Bt.b,null,e.message.plainText),g.createElement(ge.a,{align:"topCenter",title:g.createElement("div",{className:Vt.rtfTooltip},e.tooltip)},g.createElement("span",{className:Vt.rtfDisabled},e.message.textWithTooltip)),".")},Wt=n("Y5pM");!function(e){e.isTitleInput=function(e){return Boolean(e)&&e.dataset.name===o.HEADER_TITLE_INPUT_NAME};e.Component=function(e){var t=e.denaliEditor,r=e.documentModel,i=e.state,a=e.settingsModel,s=e.formattingViewModel,c=e.emotionsViewModel,l=e.viewportPadding,u=e.features,d=g.useContext(w.a.Context),p=g.useContext(P.a.Context),m=j.a.useElWatcher(),h=m.ref,b=m.onMount,_=y.a.create(O.g.none);return j.a.useSubscriptionTo(x.a.combineLatestStatic([_,h.pipe(x.b.compact),d]).pipe(x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return l.set({top:r.offsetHeight,bottom:Object(ce.pipe)(n,O.g.fold((function(){return 0}),(function(e){return e.offsetHeight})))})})))),g.createElement(v.a.div,{className:at.toolbarWrapperTier},de.b.mount(we.UI,we.Flow(o.create(r,t,d,i.view(ue.e.isSidebarOpened),p),b,u)),g.createElement(v.a.div,{className:at.toolbarContainer},g.createElement(n,{footerEl:_,state:i,formattingViewModel:s,documentModel:r,settingsModel:a,emotionsViewModel:c})))};var t=fe.b.createComponent({component:It.Container,section:fe.b.create(fe.b.Id.formatting)}),n=function(e){var n=e.footerEl,i=e.state,a=e.formattingViewModel,o=e.documentModel,s=e.settingsModel,c=e.emotionsViewModel;return g.createElement(It,{className:st.overlayClickableEl,mount:function(e){return n.set(O.g.fromNullable(e))},state:i},g.createElement(t,null,g.createElement(r,{rtfMode:o.rtfMode,toolbarViewModel:Object(ce.pipe)(a,O.g.map((function(e){return e.toolbarViewModel})))}),g.createElement(It.Item,{className:at.wordCounter,order:2,responsive:!0},g.createElement(It.ResponsiveWordCounter,{id:"big-word-counter",alignToEnd:o.rtfMode!==me.DocumentFeatures.FormattingMode.off,theme:{button:at.dropdownContainer,list:o.rtfMode!==me.DocumentFeatures.FormattingMode.off?at.dropdownListLeft:at.dropdownListRight},documentModel:o,settingsModel:s,renderLabel:function(e){return g.createElement(It.Counters,{counterTuple:e})},renderCompactLabel:function(e){return g.createElement(It.IconCounters,{counterTuple:e})}})),g.createElement(v.a.Fragment,null,Object(ce.pipe)(c,O.g.map((function(e){return g.createElement(It.Item,{className:at.footerEmotions,order:2},g.createElement(Rt,{view:e.visualState}))})),O.g.orNull))))},r=function(e){var t=e.rtfMode,n=e.toolbarViewModel,r=g.useContext(pe.a.Context).withSelectionEffect,i=g.useContext(le.a.Context),a=r(pe.a.Effect.PlainContainer,pe.a.Effect.resetAsap),o=t===me.DocumentFeatures.FormattingMode.compatibility;return g.createElement(g.Fragment,null,o?g.createElement(It.Item,{order:0},g.createElement(Ut,null)):Object(ce.pipe)(n,O.g.fold(b.constNull,(function(e){return g.createElement(It.Item,{className:at.formattingShiftedLeft,order:0,ariaLabel:i.toolbar.formatting.head},g.createElement(a,null,g.createElement(Wt.b,{viewModel:e})))}))))}}(Tt||(Tt={}));var zt=n("eGLn"),Gt=n("/taW"),qt=function(){function e(t,n,r,i){var a=this;Object(c.a)(this,e),Object(u._)(this,"_docModel",void 0),Object(u._)(this,"_doxInit",void 0),Object(u._)(this,"_doxEvents",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"_subs",void 0),Object(u._)(this,"_settingsHolder",void 0),Object(u._)(this,"_title",void 0),this._docModel=t,this._doxInit=n,this._doxEvents=r,this._log=T.d.Logging.getLogger("DoxSyncManager"),this._log.debug("Got initial text, len: "+n.initialDelta.length),this._settingsHolder=n.meta.settings,this._title=n.meta.title;var o=Object(ce.pipe)(r.dox,x.a.filter((function(e){return"metadata_change"===e.kind})),x.a.map((function(e){return e})));this._subs=[i.subscribe((function(){return a._docModel.saved.next(!1)})),this._docModel.title.pipe(x.a.filter((function(e){return e!==a._title})),x.a.tap((function(e){return a._docModel.saved.next(!1)})),x.a.debounceTime(1e3)).subscribe((function(e){a._updateTitle(Boolean(e)?e:"")})),this._docModel.context.pipe(x.a.skip(1)).subscribe((function(e){var t=a._settingsHolder.changeContext(e);a._updateSettings(t)})),this._docModel.extraSettings.changes.subscribe((function(e){var t=a._settingsHolder.changeExtra(e);a._updateSettings(t)})),this._docModel.checkingState.pipe(x.a.combineLatest(this._docModel.counters),x.a.filter((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return"idle"===n&&Gt.b.isValid(r)})),x.a.map((function(e){var t=Object(f._)(e,2);t[0];return t[1]})),x.a.skip(1),x.a.debounceTime(1e3),x.a.distinctUntilChanged()).subscribe((function(e){a._updateMetadata({errors:e.advanced+e.critical})})),o.subscribe((function(e){var t=e.documentMetadata;a._settingsHolder=t.settings,Object(ce.pipe)(t.proofit,O.g.fold(z.e,(function(e){return a._docModel.proofit.updateState(e)}))),a._title=t.title,a._docModel.title.set(t.title)})),this._doxEvents.acceptedMessage.subscribe((function(){a._docModel.saved.next(a._doxInit.remoteDocument.inSync)})),this._doxEvents.droppedMessages.subscribe((function(e){var t=e.messages,n=e.reason,r=a._groupMessages(t);Boolean(r.change)&&a._log.warn("got dropped messages",{counts:r,reason:n}),a._docModel.saved.next(a._doxInit.remoteDocument.inSync)}))]}return Object(l.a)(e,[{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}},{key:"_updateSettings",value:function(e){this._docModel.saved.next(!1),this._settingsHolder=e,this._updateMetadata({settings:e})}},{key:"_updateTitle",value:function(e){this._docModel.saved.next(!1),this._title=e,this._updateMetadata({title:e})}},{key:"_updateMetadata",value:function(e){var t=this;O.l.toPromise(this._doxInit.remoteDocument.updateMetadata(e)).catch((function(e){return zt.b.isNotConnectedError(e)?t._log.warn("Could not update document metadata",e):t._log.error("Error on update document metadata",e)}))}},{key:"_groupMessages",value:function(e){return e.reduce((function(e,t){return void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++,e}),{})}}],[{key:"createDoxEventsCollector",value:function(){return{dox:new x.a.Subject,acceptedMessage:new x.a.Subject,droppedMessages:new x.a.Subject}}}]),e}(),Kt=n("LzOy"),$t=n("0Uv3");function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yt(this,"_capiSDUIClient",void 0),Yt(this,"_log",void 0),this._capiSDUIClient=t,this._log=T.d.Logging.getLogger("SDUIFeedbackServiceImpl")}var t,n,r;return t=e,(n=[{key:"sendUserAction",value:function(e,t){var n=this;this._log.debug("Sending user action",{componentId:e,userAction:t}),Object(b.pipe)(this._capiSDUIClient.sendUserAction(e,t),O.l.toPromise,(function(e){return e.catch((function(e){zt.a.isDroppedError(e)?n._log.debug("Stopped listening for sendUserAction message acknowledge",e):zt.b.isNotConnectedError(e)?n._log.warn("Failed to sendUserAction as CAPI was not connected",e):n._log.error("Failed to sendUserAction",e)}))}))}}])&&Zt(t.prototype,n),r&&Zt(t,r),e}(),Qt=n("MK74"),Jt=n("0Qjk"),en=n("Hj2R"),tn=n("AHUV"),nn=n("mEGS"),rn=n("La5+"),an=n("K40b"),on=n("K9f1"),sn=n("Fv8Q"),cn=n("HBEw"),ln=n("LPyu"),un=n("v8A7");function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}var vn=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new un.a,a=this;pn(this,e),fn(this,"_getByRawAlertId",void 0),fn(this,"popoverManager",void 0),fn(this,"state",void 0),fn(this,"_sduiManager",void 0),fn(this,"_subs",void 0),fn(this,"_log",void 0),fn(this,"alertIdResolver",void 0),fn(this,"findFirstCardWithContent",void 0),fn(this,"onSessionStarted",void 0),fn(this,"onFirstCheckingFinished",void 0),fn(this,"notifyAlertsChanged",void 0),fn(this,"loadItems",void 0),fn(this,"_toRemovedAlertIdsByClient",void 0),this._getByRawAlertId=r,this.popoverManager=i,this._subs=new rn.a.Keeper,this._log=T.d.Logging.getLogger("SDUIManager",T.a.LogLevel.TRACE,T.a.LogColor.Manager.getColor()),this.findFirstCardWithContent=function(e){return a._sduiManager.findFirstCardWithContent(e)},this.onSessionStarted=function(){return a._sduiManager.onSessionStarted()},this.onFirstCheckingFinished=function(){return a._sduiManager.onFirstCheckingFinished()},this.notifyAlertsChanged=function(){return a._sduiManager.notifyAlertsChanged()},this.loadItems=function(e){return a._sduiManager.loadItems(e)},this._toRemovedAlertIdsByClient=function(e){var t=function(e,t,n){return Object(z.p)(en.a.isRemovedByTextChange,en.a.isDuplicated)(t.alert)?Object(b.pipe)(n,O.g.fromNullable,O.g.chain((function(e){return e.alert.rawId})),O.g.alt((function(){return t.alert.rawId})),O.g.fold((function(){return e}),(function(n){var r,i=en.a.isRemovedByTextChange(t.alert)?sn.c.TextChange:sn.c.RemoveDuplicate;return a._log.debug("[Optimistic update] alert ".concat(en.a.State.Type.REMOVED," by ").concat(i," ").concat(tn.a.show.show(t))),e.set(i,gn(null!==(r=e.get(i))&&void 0!==r?r:[]).concat([cn.a.AlertId.from(n)]))}))):e};return e.pipe(x.a.pairwise(),x.a.map(Object(b.tupled)(nn.a.diff)),x.a.map((function(e){return an.a.reduce(new Map,(function(e,n){return t(e,n)}),(function(e,n,r){return t(e,r,n)}),b.identity)(e)})),x.a.filter((function(e){return Object(b.pipe)(Array.from(e.values()),O.a.flatten,Object(z.m)(O.a.isEmpty))})))};var o=n.pipe(x.a.filter(ln.a.isSduiEvent),x.a.map(sn.a.fromSource(sn.c.CAPI))),s=Object(b.flow)(Qt.A.Id.create,this._getByRawAlertId,O.g.map((function(e){return cn.a.AlertId.from(e.id)})));this._sduiManager=new on.b(o,s,i),this.alertIdResolver=s,this.state=this._sduiManager.state,this._subs.push(t.subscribe((function(e){return a._sduiManager.notifyAlertsChanged()})),this._toRemovedAlertIdsByClient(t).subscribe((function(e){return e.forEach((function(e,t){return a.pushRemovedAlerts([e,t])}))})),n.pipe(x.a.filter(Jt.a.CAPIEvent.is("session_started")),x.a.filter((function(e){return e.isNewSession}))).subscribe((function(e){return a._sduiManager.onSessionStarted()})),n.pipe(x.a.filter(Jt.a.CAPIEvent.is("finish")),x.a.filter((function(e){return 0===e.revision}))).subscribe((function(e){return a._sduiManager.onFirstCheckingFinished()})))}var t,n,r;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._sduiManager.onAlertsRefEmpty}},{key:"pushRemovedRoot",value:function(e){this._sduiManager.pushRemovedRoot(e)}},{key:"pushRemovedAlerts",value:function(e){var t=hn(e,2),n=t[0],r=t[1];this._sduiManager.pushRemovedAlerts([n,r])}},{key:"pushRemovedDenaliAlerts",value:function(e){var t=hn(e,2),n=t[0],r=t[1];this._sduiManager.pushRemovedAlerts([n.map(cn.a.AlertId.from),r])}},{key:"pushSwitchView",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"resolveStrongAlertRefAlerts",value:function(e){return this._sduiManager.resolveStrongAlertRefAlerts(e)}},{key:"flush",value:function(){this._sduiManager.flush()}},{key:"dispose",value:function(){this._subs.dispose(),this._sduiManager.dispose()}}])&&mn(t.prototype,n),r&&mn(t,r),e}(),yn=n("yQCL"),On=n("wqt/"),_n=n("Yqho"),Cn=n("ez9D"),wn=n("g6gm"),Sn=n("l5lb"),kn=n("ENBj");function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xn(e,t,n[t])}))}return e}function In(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xn(this,"onFeedRemove",new x.a.Subject),xn(this,"onFeedEmpty",new x.a.Subject),xn(this,"_header",new x.a.ReplaySubject(1)),xn(this,"_footer",new x.a.ReplaySubject(1)),xn(this,"_feeds",new Map),xn(this,"_currentCards",y.a.create(wn.a.empty)),xn(this,"_feed",new x.a.BehaviorSubject(void 0)),xn(this,"_feedStack",new x.a.BehaviorSubject([])),xn(this,"_cardIdToFocus",new x.a.Subject),xn(this,"_subs",new rn.a.Keeper),xn(this,"_log",T.d.Logging.getLogger("SDUIFeedManager",T.a.LogLevel.TRACE,T.a.LogColor.Manager.getColor())),xn(this,"_forceFeedInternalInfo",new x.a.Subject),xn(this,"_getFeedContent",Object(b.flow)(this._getFeed,O.b.map((function(e){return e.content})),O.b.unsafeGet)),xn(this,"_changeFeed",(function(e){n._feed.next(e),Object(b.pipe)(e.cards,wn.a.applyDiff,O.j.map(On.a.recover((function(e){return n._log.error("conflicts on diff apply",e)}))),(function(t){var r=n._currentCards.get(),i=t(r);if(r.entries.size>0&&0===i.entries.size){var a=n._feeds.get(e.feedId);void 0!==a&&n.onFeedEmpty.next(a)}n._currentCards.modify(t)}))}));var r=x.a.mergeStatic(this._feedStack.pipe(x.a.map((function(e){return O.g.fromNullable(e[e.length-1])})),x.b.compact,x.a.map((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),i=x.a.mergeStatic(this._feedStack.pipe(x.a.distinctUntilKeyChanged("length"),x.a.map((function(e){return O.g.fromNullable(e[e.length-1])})),x.b.compact,x.a.map((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),a=this._cardIdToFocus.pipe(x.a.withLatestFrom(this._feedStack.pipe(x.a.map((function(e){var t;return null===(t=e[e.length-1])||void 0===t?void 0:t.focusedCardId})))),x.a.filter((function(e){var t=Tn(e,2);return t[0]!==t[1]})),x.a.map((function(e){return Tn(e,1)[0]})),x.a.withLatestFrom(this.feed),x.a.map((function(e){var t=Tn(e,2),r=t[0],i=t[1];return n._getFeedInternalInfo(i.feedId,cn.a.Item.Id.from(r))}))),o=t.pipe(x.a.startWith(Cn.a.empty),x.a.pairwise(),x.a.map((function(e){var t=Tn(e,2),n=t[0],r=t[1];return Cn.a.diff(n,r)})),x.a.map((function(e){return n._processSDUIItems(e)})),x.a.withLatestFrom(r),x.a.map((function(e){var t=Tn(e,2),n=t[0],r=t[1],i=r.feedOrd,a=r.feedFilter;return{feedId:r.feedId,cards:Object(b.pipe)(n,an.a.filter(a,(function(e,t){return a(t)}),a)),feedOrd:i,itemIdToSelect:O.g.none}}))),s=x.a.mergeStatic(i,a).pipe(x.a.withLatestFrom(t,this._currentCards),x.a.map((function(e){var t=Tn(e,3),n=t[0],r=n.feedOrd,i=n.feedFilter,a=n.feedId,o=n.itemIdToSelect,s=t[1],c=t[2],l=Object(b.pipe)(s,wn.a.iso.unwrap,(function(e){return Object(b.pipe)(e.entries,_n.g(i))}));return{feedId:a,cards:wn.a.diffFromEntries(c.entries,l),feedOrd:r,itemIdToSelect:o}})));this._subs.push(x.a.mergeStatic(o,s).subscribe(this._changeFeed)),this._subs.push(i.pipe(x.a.pluck("header")).subscribe((function(e){return n._header.next(e)}))),this._subs.push(i.pipe(x.a.pluck("footer")).subscribe((function(e){return n._footer.next(e)})))}var t,n,r;return t=e,(n=[{key:"header",get:function(){return this._header.asObservable()}},{key:"footer",get:function(){return this._footer.asObservable()}},{key:"feed",get:function(){return this._feed.pipe(x.a.filter(z.i))}},{key:"currentFeed",get:function(){return O.g.fromNullable(this._feed.getValue())}},{key:"_getFeed",value:function(e){var t=this._feeds.get(e);return void 0===t?O.b.left("Cannot switch to feed. Feed with id '".concat(e,"' not found.")):O.b.right(t)}},{key:"_getFeedInternalInfo",value:function(e,t){var n=this._getFeedContent(e);return{feedId:e,feedFilter:function(e){var t=Pn(e.content);return!O.g.isNone(t)&&n.filtering.reduce((function(e,n){return!1===e?e:Object(b.pipe)(t,O.g.chain((function(e){return O.g.fromNullable(e[n.property])})),O.g.fold((function(){return n.condition===Sn.a.ContentAssistantFeedFilteringCondition.NotEqualTo}),(function(e){return n.condition===Sn.a.ContentAssistantFeedFilteringCondition.EqualTo?e===n.value:e!==n.value})))}),!0)},feedOrd:Object(yn.fold)(O.h.getMonoid())(n.ordering.map((function(e){return Object(b.pipe)(O.h.ordNumber,O.h.contramap(Object(b.flow)(Pn,O.g.chain((function(t){return O.g.fromNullable(t[e.orderBy])})),O.g.fold((function(){return Number.MAX_VALUE}),(function(t){return e.direction===Sn.a.ContentAssistantFeedOrderingDirection.Asc?t:-1*t})))))}))),itemIdToSelect:O.g.some(t),header:n.header,footer:O.g.fromNullable(n.footer)}}},{key:"pushFeed",value:function(e,t){var n=this;return Object(b.pipe)(this._getFeed(e),O.b.map((function(){var r=n._feedStack.getValue();return r=r.concat({feedId:e,focusedCardId:t?cn.a.Item.Id.from(t):void 0}),n._feedStack.next(r),null})))}},{key:"popFeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.g.none,t=this,n=this._feedStack.getValue();if(n.length>1)return n=n.slice(0,n.length-1),void this._feedStack.next(n);Object(b.pipe)(e,O.g.fold((function(){return t._log.warn("Invoked `popFeed()` when there are less than 2 feeds in the feed stack, this is a no-op. No fallback feed provided.")}),(function(e){t.pushFeed(cn.a.Item.Id.from(e.feedId),e.cardId),t._log.debug("Invoked 'popFeed()' when there are less than 2 feeds in the feed stack. Switching to the provided fallback feed. ".concat(JSON.stringify(e)))})))}},{key:"focusCard",value:function(e){var t=this;return Object(b.pipe)(this.currentFeed,O.b.fromOption((function(){return"Cannot focus card when there is no active feed."})),O.b.map((function(){return t._cardIdToFocus.next(e),null})))}},{key:"notifyCardFocused",value:function(e){var t=this._feedStack.getValue(),n=t[t.length-1];Object(bt.f)(void 0!==n,"notifyCardFocused: Feed stack cannot be empty."),t=t.slice(0,t.length-1).concat(In(An({},n),{focusedCardId:e})),this._feedStack.next(t)}},{key:"_processSDUIItems",value:function(e){var t=this;return an.a.fromMutation((function(n){Object(b.pipe)(e,an.a.forEach((function(e){void 0!==t._feeds.get(e.id)?(t._feeds.delete(e.id),Object(b.pipe)(t.currentFeed,O.g.filter((function(t){return t.feedId.toString()===e.id.toString()})),O.g.tap((function(){return t.onFeedRemove.next(e)})))):n.set(e.id,O.m.left(e))}),(function(e,r){if("assistantFeed"===r.content.type){var i=r.content;void 0!==t._feeds.get(e.id)?(t._feeds.set(e.id,In(An({},r),{content:i})),Object(b.pipe)(t.currentFeed,O.g.filter((function(t){return t.feedId===e.id})),O.g.map((function(e){t._header.next(i.header),t._footer.next(O.g.fromNullable(i.footer))})))):t._log.warn("Feed with id '".concat(e.id,"' not found for update"))}else n.set(e.id,O.m.both(e,r))}),(function(e){if("assistantFeed"===e.content.type){var r=e.content;t._feeds.set(e.id,In(An({},e),{content:r}))}else n.set(e.id,O.m.right(e))})))}))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&jn(t.prototype,n),r&&jn(t,r),e}();function Pn(e){var t=!0,n=!1,r=void 0;try{for(var i,a=kn.a.traverse(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if("longFormCard"===o.type)return O.g.some(o.feedProperties);if("assistantCard"===o.type&&o.properties)return O.g.some(o.properties)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return O.g.none}var Nn=n("CulD"),Bn=n("JSRc"),Ln=n("BXBv"),Fn=n("2pro"),Rn=n("Vqae"),Dn=n("zOHC"),Hn=n("lA0O"),Vn=n("rOJn"),Un=n("qcZB"),Wn=n("cj5G"),zn=n("F0Vm"),Gn=n("/edk");class qn{pushChanges(e){return()=>Gn.a.isReset(e)&&!this._capiConnection.wasStarted?(this._log.debug("Got new Reset, triggering connection"),this._initialDelta=e,this._capiConnection.connect(this.connectFromResetSource,!1).then(([e,t])=>O.b.right(void 0!==t?O.g.some(t):O.g.none)).catch(e=>(this._log.warn("failed to connect to CAPI",e),O.b.left(e)))):this._capiConnection.wasStarted?this._isReady?this._capi.pushChanges(e)():(this._log.debug("Skipped sending change to CAPI as it is not ready yet"),this._initialDelta&&Gn.a.isDelta(e)&&(this._log.debug("Got change while establishing new CAPI connection, appending to initial Delta"),Object(ce.pipe)(this._initialDelta.compose(e),O.b.fold(()=>{this._log.error("Got invalid change while establishing new CAPI connection, skiping")},e=>{this._initialDelta=e}))),this._capiConnection.isIdle?(this._log.debug("received new change while CAPI is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>O.b.right(O.g.none))):(this._log.debug("capi is not idle, skip capi reconnect"),Promise.resolve(O.b.right(O.g.none)))):(this._log.debug("Skipped sending change to CAPI as it is not started yet, triggering new connection"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>O.b.right(O.g.none)))}registerExternalMessageHandler(e){this._capi.registerExternalMessageHandler(e)}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_checkConnected(){this._capiConnection.isIdle?(this._log.debug("received new command while CAPI connection is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e))):this._log.trace("already connected or cannot connect, skipping")}dispose(){this._subs.forEach(e=>e.unsubscribe())}constructor(e,t,n,r){Object(u._)(this,"_events",void 0),Object(u._)(this,"_capi",void 0),Object(u._)(this,"_ded",void 0),Object(u._)(this,"_capiConnection",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"_subs",void 0),Object(u._)(this,"_initialDelta",void 0),Object(u._)(this,"_isReady",void 0),Object(u._)(this,"connectFromIdleSource",void 0),Object(u._)(this,"connectFromResetSource",void 0),Object(u._)(this,"setSessionOption",void 0),Object(u._)(this,"sendFeedback",void 0),Object(u._)(this,"requestDocStats",void 0),Object(u._)(this,"requestSynonyms",void 0),Object(u._)(this,"requestSnippets",void 0),Object(u._)(this,"requestWritingExpert",void 0),Object(u._)(this,"shortenItSubmit",void 0),Object(u._)(this,"enablePlagiarismSearch",void 0),Object(u._)(this,"disablePlagiarismSearch",void 0),Object(u._)(this,"realtimeProofitSubmit",void 0),Object(u._)(this,"realtimeProofitCancel",void 0),Object(u._)(this,"submitRecipients",void 0),Object(u._)(this,"submitScoreSurveyResult",void 0),Object(u._)(this,"submitSurvey",void 0),Object(u._)(this,"sendUserAction",void 0),Object(u._)(this,"sendDebugReport",void 0),Object(u._)(this,"ping",void 0),Object(u._)(this,"getText",void 0),Object(u._)(this,"close",void 0),Object(u._)(this,"isClosed",void 0),Object(u._)(this,"resetReconnectInfo",void 0),Object(u._)(this,"updateContextInfo",void 0),Object(u._)(this,"setContext",void 0),Object(u._)(this,"published",void 0),Object(u._)(this,"enqueueExternalCommand",void 0),this._events=e,this._capi=t,this._ded=n,this._capiConnection=r,this._log=T.d.Logging.getLogger("CapiSyncManager"),this._subs=[],this._isReady=!1,this.connectFromIdleSource=()=>{this._ded.flushChanges();const e=this._ded.getContents();return this._log.debug("sending ded current delta",H.a.anonymizeTextAndStringAttrs(e.delta)),e},this.connectFromResetSource=()=>{const e=this._initialDelta?this._initialDelta:this._ded.getContents();return this._initialDelta=void 0,e},this.setSessionOption=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.setSessionOption(e))),this.sendFeedback=e=>Object(ce.pipe)(this._capi.sendFeedback(e),O.l.fold(e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.fold(bt.c,()=>O.l.left(e))),()=>O.l.right(void 0))),this.requestDocStats=Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestDocStats)),this.requestSynonyms=(e,t)=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestSynonyms(e,t))),this.requestSnippets=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestSnippets(e))),this.requestWritingExpert=()=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.requestWritingExpert())),this.shortenItSubmit=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.shortenItSubmit(e))),this.enablePlagiarismSearch=Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.enablePlagiarismSearch)),this.disablePlagiarismSearch=Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.disablePlagiarismSearch)),this.realtimeProofitSubmit=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.realtimeProofitSubmit(e))),this.realtimeProofitCancel=Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.realtimeProofitCancel)),this.submitRecipients=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.submitRecipients(e))),this.submitScoreSurveyResult=(e,t)=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.submitScoreSurveyResult(e,t))),this.submitSurvey=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.submitSurvey(e))),this.sendUserAction=(e,t)=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.sendUserAction(e,t))),this.sendDebugReport=(e,t)=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.sendDebugReport(e,t))),this.ping=Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.ping)),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.updateContextInfo=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.updateContextInfo(e))),this.setContext=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.setContext(e))),this.published=()=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.published())),this.enqueueExternalCommand=e=>Object(ce.pipe)(O.l.rightIO(()=>this._checkConnected()),O.l.chain(()=>this._capi.enqueueExternalCommand(e))),this._subs.push(this._events.pipe(x.a.filter(Jt.a.CAPIEvent.is("ready")),x.a.switchMapTo(this._events.pipe(x.a.filter(Jt.a.CAPIEvent.is("disconnect")),x.a.take(1),x.a.mapTo(!1),x.a.startWith(!0))),x.a.startWith(!1)).subscribe(e=>{this._isReady=e}))}}class Kn{dispose(){this._subs.dispose()}constructor(e,t=new Set){Object(u._)(this,"_events",void 0),Object(u._)(this,"_debugTools",void 0),Object(u._)(this,"_subs",void 0),Object(u._)(this,"_allMessages",void 0),this._events=e,this._debugTools=t,this._subs=new rn.a.Keeper,this._allMessages=[],this._debugTools.has("captureCapiMessages")&&(this._subs.push(this._events.subscribe(e=>{Jt.a.CAPIEvent.is("message_sent")(e)&&this._allMessages.push({direction:"SENT",data:e.message}),Jt.a.CAPIEvent.is("message_received")(e)&&this._allMessages.push({direction:"RECEIVED",data:e.message})})),Object(z.r)("popAllMessages",()=>JSON.stringify(this._allMessages.splice(0,this._allMessages.length))))}}class $n{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}_updateAsyncChecksState(){this._sessionChecksState.asyncChecksState.set(this._capi.asyncChecksState)}constructor(e,t,n,r,i,a=0){Object(u._)(this,"_capi",void 0),Object(u._)(this,"events",void 0),Object(u._)(this,"_sessionChecksState",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"_subs",void 0),Object(u._)(this,"_checkingStateInt",void 0),Object(u._)(this,"pushChanges",void 0),Object(u._)(this,"setSessionOption",void 0),Object(u._)(this,"resetReconnectInfo",void 0),Object(u._)(this,"sendFeedback",void 0),Object(u._)(this,"requestDocStats",void 0),Object(u._)(this,"requestSynonyms",void 0),Object(u._)(this,"requestSnippets",void 0),Object(u._)(this,"requestWritingExpert",void 0),Object(u._)(this,"shortenItSubmit",void 0),Object(u._)(this,"enablePlagiarismSearch",void 0),Object(u._)(this,"disablePlagiarismSearch",void 0),Object(u._)(this,"realtimeProofitSubmit",void 0),Object(u._)(this,"realtimeProofitCancel",void 0),Object(u._)(this,"submitRecipients",void 0),Object(u._)(this,"submitScoreSurveyResult",void 0),Object(u._)(this,"submitSurvey",void 0),Object(u._)(this,"sendUserAction",void 0),Object(u._)(this,"sendDebugReport",void 0),Object(u._)(this,"ping",void 0),Object(u._)(this,"getText",void 0),Object(u._)(this,"close",void 0),Object(u._)(this,"isClosed",void 0),Object(u._)(this,"updateContextInfo",void 0),Object(u._)(this,"setContext",void 0),Object(u._)(this,"published",void 0),Object(u._)(this,"enqueueExternalCommand",void 0),Object(u._)(this,"registerExternalMessageHandler",void 0),this._capi=e,this.events=t,this._sessionChecksState=n,this._log=T.d.Logging.getLogger("CheckingStateCAPIClient"),this._subs=[],this._checkingStateInt=new x.a.Subject,this.pushChanges=e=>Object(ce.pipe)(this._capi.pushChanges(e),O.l.map(e=>(this._checkingStateInt.next(this._capi.checkingState),this._updateAsyncChecksState(),e))),this.setSessionOption=e=>Object(ce.pipe)(O.l.fromIOEither(()=>(e.kind===Jt.a.CAPISessionOptionType.Context&&(this._sessionChecksState.score.set(O.g.none),this._sessionChecksState.scoreStatus.set(O.g.none),this._checkingStateInt.next(this._capi.checkingState)),O.b.right(null))),O.l.chain(()=>this._capi.setSessionOption(e))),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>this._capi.sendFeedback(e),this.requestDocStats=()=>this._capi.requestDocStats(),this.requestSynonyms=(e,t)=>this._capi.requestSynonyms(e,t),this.requestSnippets=e=>this._capi.requestSnippets(e),this.requestWritingExpert=()=>this._capi.requestWritingExpert(),this.shortenItSubmit=e=>this._capi.shortenItSubmit(e),this.enablePlagiarismSearch=()=>this._capi.enablePlagiarismSearch(),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>this._capi.submitRecipients(e),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.submitSurvey=e=>this._capi.submitSurvey(e),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._log.debug("Constructing client with _hasAlertsCache = "+r);const o=Jt.a.CAPIEvent.is("session_started"),s=Jt.a.CAPIEvent.is("session_started","queue_msgs_dropped");this._subs.push(this.events.subscribe(e=>{"finish"===e.kind&&this._checkingStateInt.next(this._capi.checkingState)}),this.events.pipe(x.a.filter(s),x.a.map(o),x.a.switchMap(A.b.orEmptyRight(x.a.of(void 0).pipe(x.a.delay(1e3)))),x.a.map(()=>this._capi.checkingState)).subscribe(this._checkingStateInt));const c=t.pipe(x.a.filter(o),x.a.skip(1),x.a.switchMapTo(t.pipe(x.a.filter(Jt.a.CAPIEvent.is("finish")),x.a.first(),x.a.mapTo(!1),x.a.startWith(!0))),x.a.startWith(!1)),l=this._checkingStateInt.pipe(x.a.withLatestFrom(c,(e,t)=>t&&"full"===e?"checking":e),x.a.share()),d=l.pipe(x.a.takeWhile(e=>"full"!==e)),f=l.pipe(x.a.filter(e=>"full"===e),x.a.switchMap(()=>d.pipe(x.a.combineLatest(x.a.timer(a),e=>e),x.a.startWith("full"))));this._subs.push(t.subscribe(e=>{"text_info"===e.kind?n.textInfo.set(O.g.some(e.data)):"finish"===e.kind?(n.score.set(e.score),n.scoreStatus.set(e.scoreStatus)):"feedback_ack"===e.kind?(Object(ce.pipe)(e,O.g.fromPredicate(Jt.a.CAPIEvent.isUserFeedbackWithGeneralScore),O.g.map(e=>e.outcomeScores.GeneralScore),O.g.map(e=>Math.trunc(100*e)),O.g.tap(e=>n.score.modify(Object(b.flow)(O.g.map(t=>Object(m._)(Object(p._)({},t),{rank:e})),O.g.orElse(O.g.some({errorRateScore:0,rank:e})))))),Object(ce.pipe)(e,O.g.fromPredicate(Jt.a.CAPIEvent.isUserFeedbackWithScoreStatus),O.g.map(e=>e.scoreStatus),O.g.tap(e=>n.scoreStatus.set(O.g.some(e))))):"async_check_finished"===e.kind&&this._updateAsyncChecksState()})),this._subs.push(x.a.mergeStatic(d,f).pipe(x.a.skipWhile(e=>r&&"idle"!==e),x.a.startWith(i>1?r?"checking":"full":"idle"),x.a.distinctUntilChanged()).subscribe(e=>{this._log.debug("Switching checking state to "+e),n.checkingState.set(e),"full"===e&&O.l.toPromise(this.sendFeedback({kind:Jt.a.SystemFeedbackType.RECHECK_SHOWN})).catch(e=>{zt.b.isNotConnectedError(e)?this._log.error("tried to send RECHECK_SHOWN event to Capi when not connected and failed to wait for new connection",e):this._log.error("Failed to send RECHECK_SHOWN event on Capi",e)})}))}}var Zn=n("r7ur"),Yn=n("Jqlq");class Xn{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_untilWaitingForOT(e){return this._untilEvent(e,"wait_for_ot")}_untilFinished(e){return this._untilEvent(e,"finish")}_untilEvent(e,t){return zt.b.isNotConnectedError(e)?Object(ce.pipe)(this._events,x.a.filter(e=>e.kind===t),x.a.take(1),x.a.map(z.e),A.b.toTask,O.g.some):O.g.none}constructor(e,t){Object(u._)(this,"_events",void 0),Object(u._)(this,"_capi",void 0),Object(u._)(this,"retryCommandWhen",void 0),Object(u._)(this,"pushChanges",void 0),Object(u._)(this,"setSessionOption",void 0),Object(u._)(this,"resetReconnectInfo",void 0),Object(u._)(this,"sendFeedback",void 0),Object(u._)(this,"requestSynonyms",void 0),Object(u._)(this,"requestSnippets",void 0),Object(u._)(this,"requestWritingExpert",void 0),Object(u._)(this,"shortenItSubmit",void 0),Object(u._)(this,"requestDocStats",void 0),Object(u._)(this,"enablePlagiarismSearch",void 0),Object(u._)(this,"disablePlagiarismSearch",void 0),Object(u._)(this,"realtimeProofitSubmit",void 0),Object(u._)(this,"realtimeProofitCancel",void 0),Object(u._)(this,"submitRecipients",void 0),Object(u._)(this,"submitScoreSurveyResult",void 0),Object(u._)(this,"submitSurvey",void 0),Object(u._)(this,"sendUserAction",void 0),Object(u._)(this,"sendDebugReport",void 0),Object(u._)(this,"ping",void 0),Object(u._)(this,"getText",void 0),Object(u._)(this,"close",void 0),Object(u._)(this,"isClosed",void 0),Object(u._)(this,"updateContextInfo",void 0),Object(u._)(this,"setContext",void 0),Object(u._)(this,"published",void 0),Object(u._)(this,"enqueueExternalCommand",void 0),Object(u._)(this,"registerExternalMessageHandler",void 0),this._events=e,this._capi=t,this.retryCommandWhen=Object(z.p)(zt.a.isDroppedError,zt.d.isTimeoutError),this.pushChanges=e=>this._capi.pushChanges(e),this.setSessionOption=e=>this._capi.setSessionOption(e),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>{switch(e.kind){case Jt.a.MutedFeedbackType.MUTE:case Jt.a.MutedFeedbackType.UNMUTE:return Object(ce.pipe)(O.l.tryDelay(this._capi.sendFeedback(e),e=>this._untilWaitingForOT(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen));case Jt.a.SystemFeedbackType.RECHECK_SHOWN:return Object(ce.pipe)(this._capi.sendFeedback(e),O.l.orElse(()=>O.l.right(Object(z.e)())));default:return this._capi.sendFeedback(e)}},this.requestSynonyms=(e,t)=>Object(ce.pipe)(O.l.tryDelay(this._capi.requestSynonyms(e,t),e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.requestSnippets=e=>Object(ce.pipe)(O.l.tryDelay(this._capi.requestSnippets(e),e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.requestWritingExpert=()=>Object(ce.pipe)(O.l.tryDelay(this._capi.requestWritingExpert(),e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.shortenItSubmit=e=>Object(ce.pipe)(O.l.tryDelay(this._capi.shortenItSubmit(e),e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.requestDocStats=Object(ce.pipe)(O.l.tryDelay(this._capi.requestDocStats,e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.enablePlagiarismSearch=Object(ce.pipe)(O.l.tryDelay(this._capi.enablePlagiarismSearch,e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>Object(ce.pipe)(O.l.tryDelay(this._capi.submitRecipients(e),e=>this._untilFinished(e),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],this.retryCommandWhen)),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.submitSurvey=e=>this._capi.submitSurvey(e),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e)}}var Qn,Jn;!function(e){e.noopSync={pushChanges:z.e};e.ignoreResult=function(e){return{pushChanges:t=>{e.pushChanges(t)}}},e.ignoreTEResult=function(e){return{pushChanges:Object(b.flow)(e.pushChanges,O.l.map(z.e))}},e.pushDeleteThenInsert=function(e){return{pushChanges:t=>{(Gn.a.isDelta(t)?Gn.a.fromArrayOfDeltas(H.a.splitToDeleteThenInsert(t.delta).filter(H.a.nonEmpty),t.prevLen):[t]).forEach(t=>e.pushChanges(t))}}}}(Qn||(Qn={})),(Jn||(Jn={})).merge=function(e){return{changes:x.a.mergeStatic(...e.map(e=>e.changes))}};class er{static init(e,t,n,r,i,a){const o=new x.a.Subject;return new er(e,t,n,r,i,a,o),o}constructor(e,t,n,r,i,a,o){const s=er.NamedChangesSink.factory(o),c={pm:s(er.Receiver.PM,r),dm:s(er.Receiver.PM,i),capi:s(er.Receiver.CAPI,n),userTextEcho:s(er.Receiver.UserText,e)};er.Producer.create(er.Producer.UserText,{changes:e.changes})(c.dm,c.pm,c.capi),er.Producer.create(er.Producer.ALERT_APPLY,a)(c.userTextEcho),t.subscribe(t=>{"before_alert"===t.kind&&e.flushChanges()})}}!function(e){let t,n,r,i;!function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.ALERT_APPLY="alert_synonyms_manager"}(t=e.Producer||(e.Producer={})),function(e){e.create=function(e,t){return(...n)=>t.changes.subscribe(t=>{n.forEach(n=>n.pushChanges(e,t))})}}(t=e.Producer||(e.Producer={})),function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.CAPI="checking_service",e.PM="position_manager"}(n=e.Receiver||(e.Receiver={})),function(e){function t(e,t,n){return{pushChanges:(r,i)=>{try{let a=t.pushChanges(i);"function"==typeof a&&(a=O.l.toPromise(a)),void 0!==a&&a.catch(t=>n.next({exception:t,details:{from:r,to:e}}))}catch(t){n.next({exception:t,details:{from:r,to:e}})}}}}e.factory=function(e){return(n,r)=>t(n,r,e)},e.create=t}(r=e.NamedChangesSink||(e.NamedChangesSink={})),function(e){e.create=e=>({changes:e.changes,pushChanges(t){e.pushChanges(t,"user")},getContents:()=>e.getContents(),flushChanges:()=>e.flushChanges()})}(i=e.UserTextChangesSync||(e.UserTextChangesSync={}))}(er||(er={}));var tr=n("mUkt"),nr=n("F0rY");const rr={disabledFeedbacks:Object.keys(Jt.a.AlertFeedbackType).map(e=>Jt.a.AlertFeedbackType[e]).filter(e=>e!==Jt.a.AlertFeedbackType.RENDERED&&e!==Jt.a.AlertFeedbackType.CLOSED&&e!==Jt.a.AlertFeedbackType.LOOKED&&e!==Jt.a.AlertFeedbackType.IGNORE)};var ir,ar,or,sr,cr,lr,ur,dr,pr,mr,fr,hr,gr,br,vr,yr,Or,_r,Cr,wr,Sr,kr,Er,jr=n("ZDrO"),xr=n("cZKX"),Ar=n("WBKC"),Ir=n("9raK"),Tr=n("w8H4"),Mr=n("IMGo");!function(e){e.Click="click",e.SelectSliderChoice="selectSliderChoice",e.Focus="focus",e.CloseAssistant="closeAssistant"}(ir||(ir={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(ar||(ar={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite",e.PushRewrite="pushRewrite"}(or||(or={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(sr||(sr={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow",e.Outlined="outlined",e.Link="link",e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.GgoPrimary="ggoPrimary"}(cr||(cr={})),function(e){e.Round="round",e.Square="square"}(lr||(lr={})),function(e){e.Enabled="enabled",e.Disabled="disabled",e.Deselected="deselected",e.Selected="selected",e.Hidden="hidden"}(ur||(ur={})),function(e){e.CoreNeutral90="CoreNeutral90",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral0="CoreNeutral0",e.CoreGreen70="CoreGreen70",e.CoreGreen60="CoreGreen60",e.CoreGreen50="CoreGreen50",e.CoreGreen40="CoreGreen40",e.CoreGreen30="CoreGreen30",e.CoreGreen20="CoreGreen20",e.CoreGreen10="CoreGreen10",e.CoreGreen1="CoreGreen1",e.CoreBlue70="CoreBlue70",e.CoreBlue60="CoreBlue60",e.CoreBlue50="CoreBlue50",e.CoreBlue40="CoreBlue40",e.CoreBlue30="CoreBlue30",e.CoreBlue20="CoreBlue20",e.CoreBlue10="CoreBlue10",e.CoreBlue1="CoreBlue1",e.CoreRed70="CoreRed70",e.CoreRed60="CoreRed60",e.CoreRed50="CoreRed50",e.CoreRed40="CoreRed40",e.CoreRed30="CoreRed30",e.CoreRed20="CoreRed20",e.CoreRed10="CoreRed10",e.CoreRed1="CoreRed1",e.CoreYellow80="CoreYellow80",e.CoreYellow70="CoreYellow70",e.CoreYellow60="CoreYellow60",e.CoreYellow50="CoreYellow50",e.CoreYellow40="CoreYellow40",e.CoreYellow30="CoreYellow30",e.CoreYellow20="CoreYellow20",e.CoreYellow10="CoreYellow10",e.CoreYellow1="CoreYellow1",e.CorePurple60="CorePurple60",e.CorePurple50="CorePurple50",e.CorePurple40="CorePurple40",e.CorePurple30="CorePurple30",e.CorePurple20="CorePurple20",e.CorePurple10="CorePurple10",e.CorePurple1="CorePurple1",e.CoreCyan60="CoreCyan60",e.CoreCyan50="CoreCyan50",e.CoreCyan40="CoreCyan40",e.CoreCyan30="CoreCyan30",e.CoreCyan20="CoreCyan20",e.CoreCyan10="CoreCyan10",e.CoreCyan1="CoreCyan1",e.CoreSky70="CoreSky70",e.CoreSky60="CoreSky60",e.CoreSky50="CoreSky50",e.CoreSky40="CoreSky40",e.CoreSky30="CoreSky30",e.CoreSky20="CoreSky20",e.CoreSky10="CoreSky10",e.CoreSky1="CoreSky1",e.CoreIndigo70="CoreIndigo70",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo1="CoreIndigo1",e.CoreMagenta70="CoreMagenta70",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta1="CoreMagenta1",e.CoreCoral60="CoreCoral60",e.CoreCoral50="CoreCoral50",e.CoreCoral40="CoreCoral40",e.CoreCoral30="CoreCoral30",e.CoreCoral10="CoreCoral10",e.CoreCoral1="CoreCoral1",e.CoreYellowBrand50="CoreYellowBrand50",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreLime50="CoreLime50",e.CoreLime40="CoreLime40",e.CoreLime30="CoreLime30",e.CoreLime20="CoreLime20",e.CoreLime10="CoreLime10",e.CoreLime1="CoreLime1"}(dr||(dr={})),function(e){e.ButtonPrev="button:prev",e.ButtonNext="button:next",e.ButtonAccept="button:accept",e.ButtonDismiss="button:dismiss",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook",e.StrongAlertRefConsolidatedLockedCard="strongAlertRef:ConsolidatedLockedCard",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.AssistantCardToneInsights="assistantCard:toneInsights",e.AssistantCardPerformanceScore="assistantCard:performanceScore",e.AssistantFeedPerformanceScore="assistantFeed:performanceScore",e.ButtonPerformanceScore="button:performanceScore",e.GlobalPartPlagiarismWinFooter="globalPart:plagiarismWinFooter",e.GlobalPartPlagiarismWinHeader="globalPart:plagiarismWinHeader",e.GlobalPartPerformanceScoreCard="globalPart:performanceScoreCard",e.GlobalPartPerformanceScoreButton="globalPart:performanceScoreButton"}(pr||(pr={})),function(e){e.Asc="asc",e.Desc="desc"}(mr||(mr={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(fr||(fr={})),function(e){e.Default="default",e.Loading="loading"}(hr||(hr={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(gr||(gr={})),function(e){e.Close="close",e.ArrowRight="arrow-right",e.ArrowLeft="arrow-left",e.Dictionary="dictionary",e.Gear="gear",e.Clarity="clarity",e.Correctness="correctness",e.Engagement="engagement",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Feedback="feedback",e.Sensitivity="sensitivity",e.ExternalLink="external-link",e.Sparkles="sparkles",e.Ignore="ignore",e.Info="info",e.Proofreader="proofreader",e.More="more",e.Mute="mute",e.Report="report",e.Controls="controls",e.Performance="performance",e.BulletList="bullet-list",e.Accept="accept",e.Copy="copy",e.GButtonSmall="gButtonSmall",e.NewSmall="newSmall",e.Edit="edit",e.User="user",e.Plagiarism="plagiarism",e.QuestionMark="questionMark",e.NewFeature="newFeature",e.Assistant="assistant"}(br||(br={})),function(e){e.AllSuggestions="allSuggestions",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.StyleGuide="styleGuide",e.SmartGuidelines="smartGuidelines"}(vr||(vr={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(yr||(yr={})),function(e){e.Radius0="Radius0",e.RadiusHalf="RadiusHalf",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3"}(Or||(Or={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(_r||(_r={})),function(e){e.Italic="italic",e.Bold="bold",e.StrikeoutHorizontal="strikeoutHorizontal",e.StrikeoutDiagonal="strikeoutDiagonal",e.Outline="outline"}(Cr||(Cr={})),function(e){e.Small="small",e.Regular="regular",e.Medium="medium",e.HeadingLevel1="headingLevel1",e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4"}(wr||(wr={})),function(e){e.Linear="linear",e.EaseIn="easeIn",e.EaseOut="easeOut",e.EaseInOut="easeInOut"}(Sr||(Sr={})),function(e){e.Auto="auto",e.Center="center",e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.TopCenter="topCenter",e.TopLeft="topLeft",e.TopRight="topRight",e.BottomCenter="bottomCenter",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(kr||(kr={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(Er||(Er={}));var Pr=Object(Tr.b)((function(e){return Di(e)})),Nr=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={}).notify=Lr(e),t.openSettings=Fr(e),t.openLearnMore=Rr(e),t.openPerformanceScore=Dr(e),t.openToneDetector=Hr(e),t.upgradeToPremium=Vr(e),t.showHighlights=Ur(e),t.hideHighlights=Wr(e),t.openFeedback=zr(e),t.openCreateSnippetModal=Gr(e),t.closeCard=qr(e),t.nextCard=Kr(e),t.prevCard=$r(e),t.removeRoot=Zr(e),t.removeAlerts=Yr(e),t.applyAlerts=Xr(e),t.selectAlternative=Qr(e),t.transition=Jr(e),t.openLink=ei(e),t.copyToClipboard=ti(e),t.nativeOpenAssistant=ni(e),t.pushAssistantFeed=ri(e),t.popAssistantFeed=ii(e),t.focusAssistantCard=ai(e),t.switchView=oi(e),t.newRevision=si(e),t.highlightAlert=ci(e),t.stopApplyingAlerts=li(e),t.closePopover=ui(e),t.interactPopover=pi(e),t.openGrammarlyGo=fi(e),t.enablePlagiarismCheck=hi(e),t.disablePlagiarismCheck=gi(e),t.nativeOpenUserSatisfactionFeedback=bi(e),t))})),Br=us(ir),Lr=Object(Tr.b)((function(e){return e.intersect(e.partial({sourceId:Do(e)}))(e.struct({type:e.literal("notify"),userAction:Br(e)}))})),Fr=Object(Tr.b)((function(e){return e.struct({type:e.literal("openSettings")})})),Rr=Object(Tr.b)((function(e){return e.struct({type:e.literal("openLearnMore")})})),Dr=Object(Tr.b)((function(e){return e.struct({type:e.literal("openPerformanceScore")})})),Hr=Object(Tr.b)((function(e){return e.struct({type:e.literal("openToneDetector")})})),Vr=Object(Tr.b)((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),Ur=Object(Tr.b)((function(e){return e.struct({type:e.literal("showHighlights")})})),Wr=Object(Tr.b)((function(e){return e.struct({type:e.literal("hideHighlights")})})),zr=Object(Tr.b)((function(e){return e.struct({type:e.literal("openFeedback")})})),Gr=Object(Tr.b)((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),qr=Object(Tr.b)((function(e){return e.struct({type:e.literal("closeCard")})})),Kr=Object(Tr.b)((function(e){return e.struct({type:e.literal("nextCard")})})),$r=Object(Tr.b)((function(e){return e.struct({type:e.literal("prevCard")})})),Zr=Object(Tr.b)((function(e){return e.struct({type:e.literal("removeRoot")})})),Yr=Object(Tr.b)((function(e){return e.struct({type:e.literal("removeAlerts")})})),Xr=Object(Tr.b)((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),Qr=Object(Tr.b)((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),Jr=Object(Tr.b)((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:yi(e),animateTo:yi(e)})})),ei=Object(Tr.b)((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),ti=Object(Tr.b)((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),ni=Object(Tr.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),ri=Object(Tr.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),ii=Object(Tr.b)((function(e){return e.intersect(e.partial({fallbackFeed:Bo(e)}))(e.struct({type:e.literal("popAssistantFeed")}))})),ai=Object(Tr.b)((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),oi=Object(Tr.b)((function(e){return e.struct({type:e.literal("switchView"),where:Do(e),selected:ns(e)})})),si=Object(Tr.b)((function(e){return e.struct({type:e.literal("newRevision")})})),ci=Object(Tr.b)((function(e){return e.struct({type:e.literal("highlightAlert"),highlightIndex:e.number})})),li=Object(Tr.b)((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),ui=Object(Tr.b)((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:Do(e)})})),di=us(ar),pi=Object(Tr.b)((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:Do(e),popoverViewId:Do(e),interaction:di(e)})})),mi=us(or),fi=Object(Tr.b)((function(e){return e.intersect(e.partial({alertId:e.number}))(e.struct({type:e.literal("openGrammarlyGo"),entryPoint:mi(e)}))})),hi=Object(Tr.b)((function(e){return e.struct({type:e.literal("enablePlagiarismCheck")})})),gi=Object(Tr.b)((function(e){return e.struct({type:e.literal("disablePlagiarismCheck")})})),bi=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeOpenUserSatisfactionFeedback")})})),vi=Object(Tr.b)((function(e){return e.readonly(e.array(Nr(e)))})),yi=us(sr),Oi=Object(Tr.b)((function(e){return e.lazy("Behavior",(function(){return _i(e)}))})),_i=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=Ci(e),t["behavior:animation:fadeIn"]=wi(e),t["behavior:animation:fadeOut"]=Si(e),t["behavior:popoverAnchor"]=ki(e),t["behavior:lifecycle"]=ji(e),t))})),Ci=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:Do(e),alertIds:e.readonly(e.array(e.string)),onEmpty:vi(e)}))})),wi=Object(Tr.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:Do(e),timeCurve:ss(e)})})),Si=Object(Tr.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:Do(e),timeCurve:ss(e)})})),ki=Object(Tr.b)((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return Ei(e)}))})),Ei=Object(Tr.b)((function(e){return e.intersect(e.partial({view:Zo(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:Do(e),positionHint:Xo(e)}))})),ji=Object(Tr.b)((function(e){return e.struct({type:e.literal("behavior:lifecycle"),onMount:vi(e),onUnmount:vi(e)})})),xi=Object(Tr.b)((function(e){return e.readonly(e.array(Oi(e)))})),Ai=Object(Tr.b)((function(e){return e.struct({topLeft:Qo(e),topRight:Qo(e),bottomRight:Qo(e),bottomLeft:Qo(e)})})),Ii=us(cr),Ti=us(lr),Mi=us(ur),Pi=us(dr),Ni=us(pr),Bi=Object(Tr.b)((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),Li=Object(Tr.b)((function(e){var t;return e.sum("kind")(((t={}).unknown=Fi(e),t.known=Ri(e),t))})),Fi=Object(Tr.b)((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),Ri=Object(Tr.b)((function(e){return e.struct({kind:e.literal("known"),value:Ni(e)})})),Di=Object(Tr.b)((function(e){return e.lazy("Content",(function(){return Hi(e)}))})),Hi=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={}).text=Vi(e),t.assistantFeed=qi(e),t.assistantCard=$i(e),t.popoverStack=Yi(e),t.inlineCard=Qi(e),t["gButton:default"]=ea(e),t["gButton:tone"]=ta(e),t["gButton:proofit"]=na(e),t["gButton:get-started"]=ra(e),t["gButton:plagiarism"]=ia(e),t.gButton=aa(e),t.proofitButton=oa(e),t.lensesSwitchPanel=ca(e),t.strongAlertRef=la(e),t.column=da(e),t.row=ma(e),t.block=ga(e),t.box=va(e),t.scroll=Oa(e),t.list=xa(e),t.selectableDropDownMenu=Ia(e),t.dropDownMenuButton=Ta(e),t.icon=Ba(e),t.image=La(e),t.button=Fa(e),t.tooltip=Da(e),t.clickableText=Va(e),t.count=Ua(e),t.alertsCount=Wa(e),t.alternativeChoice=qa(e),t.slider=Qa(e),t.alternativeSlider=no(e),t.nativeSkillsModal=io(e),t.nativeSkillsList=ao(e),t.nativeSkillsView=oo(e),t.nativeToneInsightsModal=so(e),t.nativeLearnMoreModal=co(e),t.nativeSettingsModal=lo(e),t.nativeFeedbackModal=uo(e),t.nativeGetStartedChecklistModal=po(e),t.nativeProofitModal=mo(e),t.nativeKeyTakeawaysAssistantCard=fo(e),t.nativeInlineCardContent=ho(e),t.nativePerformanceScoreButton=go(e),t.viewStack=bo(e),t.nativeExperimentalGBConsistencyUpsellFooter=yo(e),t.radioButtonsGroup=_o(e),t.nativeExperimentalGBToneInsightsUpsellFooter=Co(e),t.collapsedCard=wo(e),t.shortFormCard=ko(e),t.longFormCard=jo(e),t.progressBar=Io(e),t.horizontalRule=To(e),t.globalPart=Mo(e),t))})),Vi=Object(Tr.b)((function(e){return e.intersect(e.partial({backgroundColor:Pi(e)}))(e.intersect(e.partial({outlineColor:Pi(e)}))(e.struct({type:e.literal("text"),id:Do(e),meta:Bi(e),size:os(e),text:e.string,textColor:Pi(e),format:e.readonly(e.array(as(e)))})))})),Ui=us(mr),Wi=Object(Tr.b)((function(e){return e.struct({orderBy:e.string,direction:Ui(e)})})),zi=us(fr),Gi=Object(Tr.b)((function(e){return e.struct({property:e.string,condition:zi(e),value:e.number})})),qi=Object(Tr.b)((function(e){return e.lazy("ContentAssistantFeed",(function(){return Ki(e)}))})),Ki=Object(Tr.b)((function(e){return e.intersect(e.partial({footer:Di(e)}))(e.intersect(e.partial({onEmpty:vi(e)}))(e.intersect(e.partial({onAssistantClose:vi(e)}))(e.intersect(e.partial({name:Li(e)}))(e.struct({type:e.literal("assistantFeed"),id:Do(e),header:Di(e),ordering:e.readonly(e.array(Wi(e))),filtering:e.readonly(e.array(Gi(e))),onRemove:vi(e)})))))})),$i=Object(Tr.b)((function(e){return e.lazy("ContentAssistantCard",(function(){return Zi(e)}))})),Zi=Object(Tr.b)((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:Di(e)}))(e.intersect(e.partial({name:Li(e)}))(e.struct({type:e.literal("assistantCard"),id:Do(e),meta:Bi(e),child:Di(e),onFocus:vi(e),onBlur:vi(e)}))))})),Yi=Object(Tr.b)((function(e){return e.lazy("ContentPopoverStack",(function(){return Xi(e)}))})),Xi=Object(Tr.b)((function(e){return e.struct({type:e.literal("popoverStack"),id:Do(e),views:e.readonly(e.record(Zo(e))),selected:ns(e)})})),Qi=Object(Tr.b)((function(e){return e.lazy("ContentInlineCard",(function(){return Ji(e)}))})),Ji=Object(Tr.b)((function(e){return e.intersect(e.partial({minWidth:Jo(e)}))(e.intersect(e.partial({maxWidth:Jo(e)}))(e.intersect(e.partial({behaviors:xi(e)}))(e.struct({type:e.literal("inlineCard"),id:Do(e),meta:Bi(e),child:Di(e),onFocus:vi(e)}))))})),ea=Object(Tr.b)((function(e){return e.struct({type:e.literal("gButton:default"),id:Do(e),meta:Bi(e),actions:vi(e)})})),ta=Object(Tr.b)((function(e){return e.struct({type:e.literal("gButton:tone"),id:Do(e),meta:Bi(e),actions:vi(e)})})),na=Object(Tr.b)((function(e){return e.struct({type:e.literal("gButton:proofit"),id:Do(e),meta:Bi(e),actions:vi(e)})})),ra=Object(Tr.b)((function(e){return e.struct({type:e.literal("gButton:get-started"),id:Do(e),meta:Bi(e),actions:vi(e)})})),ia=Object(Tr.b)((function(e){return e.struct({type:e.literal("gButton:plagiarism"),id:Do(e),meta:Bi(e),actions:vi(e)})})),aa=Object(Tr.b)((function(e){return e.struct({type:e.literal("gButton"),id:Do(e),meta:Bi(e),actions:vi(e)})})),oa=Object(Tr.b)((function(e){return e.struct({type:e.literal("proofitButton"),id:Do(e),meta:Bi(e),actions:vi(e)})})),sa=Object(Tr.b)((function(e){return e.struct({id:Do(e),meta:Bi(e),kind:Ho(e),label:e.string,onClickActions:vi(e)})})),ca=Object(Tr.b)((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:Do(e),meta:Bi(e),lensSwitchButtons:e.readonly(e.array(sa(e)))})})),la=Object(Tr.b)((function(e){return e.lazy("ContentStrongAlertRef",(function(){return ua(e)}))})),ua=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.struct({type:e.literal("strongAlertRef"),id:Do(e),alertIds:e.readonly(e.array(e.string)),onEmpty:vi(e),child:Di(e)}))})),da=Object(Tr.b)((function(e){return e.lazy("ContentColumn",(function(){return pa(e)}))})),pa=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.intersect(e.partial({behaviors:xi(e)}))(e.struct({type:e.literal("column"),id:Do(e),children:e.readonly(e.array(Di(e)))})))})),ma=Object(Tr.b)((function(e){return e.lazy("ContentRow",(function(){return fa(e)}))})),fa=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.intersect(e.partial({spacing:is(e)}))(e.intersect(e.partial({behaviors:xi(e)}))(e.struct({type:e.literal("row"),id:Do(e),left:e.readonly(e.array(Di(e))),right:e.readonly(e.array(Di(e))),verticalAlign:ls(e)}))))})),ha=Object(Tr.b)((function(e){return e.struct({vertical:rs(e),horizontal:rs(e)})})),ga=Object(Tr.b)((function(e){return e.lazy("ContentBlock",(function(){return ba(e)}))})),ba=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:is(e)}))(e.intersect(e.partial({innerSpacing:ha(e)}))(e.intersect(e.partial({horizontalAlign:Lo(e)}))(e.intersect(e.partial({verticalAlign:ls(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:Do(e),parts:e.readonly(e.array(Di(e)))}))))))))})),va=Object(Tr.b)((function(e){return e.lazy("ContentBox",(function(){return ya(e)}))})),ya=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.intersect(e.partial({padding:is(e)}))(e.intersect(e.partial({borderRadius:Ai(e)}))(e.intersect(e.partial({backgroundColor:Pi(e)}))(e.intersect(e.partial({minWidth:Jo(e)}))(e.intersect(e.partial({behaviors:xi(e)}))(e.struct({type:e.literal("box"),id:Do(e),child:Di(e)})))))))})),Oa=Object(Tr.b)((function(e){return e.lazy("ContentScroll",(function(){return _a(e)}))})),_a=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.struct({type:e.literal("scroll"),id:Do(e),child:Di(e),maxHeight:Jo(e)}))})),Ca=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={}).text=wa(e),t.icon=Sa(e),t))})),wa=Object(Tr.b)((function(e){return e.struct({type:e.literal("text"),text:e.string})})),Sa=Object(Tr.b)((function(e){return e.struct({type:e.literal("icon"),icon:Fo(e)})})),ka=Object(Tr.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Do(e),meta:Bi(e),label:Ca(e),onClickActions:vi(e)}))})),Ea=Object(Tr.b)((function(e){return e.lazy("ContentListItem",(function(){return ja(e)}))})),ja=Object(Tr.b)((function(e){return e.intersect(e.partial({behaviors:xi(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Do(e),meta:Bi(e),label:Di(e),actions:vi(e),secondaryButtons:e.readonly(e.array(ka(e)))})))})),xa=Object(Tr.b)((function(e){return e.lazy("ContentList",(function(){return Aa(e)}))})),Aa=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.intersect(e.partial({itemFocusedColor:Pi(e)}))(e.intersect(e.partial({itemHoveredColor:Pi(e)}))(e.struct({type:e.literal("list"),id:Do(e),meta:Bi(e),items:e.readonly(e.array(Ea(e)))}))))})),Ia=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.intersect(e.partial({selectedItem:Do(e)}))(e.intersect(e.partial({placeholder:e.string}))(e.struct({type:e.literal("selectableDropDownMenu"),id:Do(e),meta:Bi(e),onSelectActions:vi(e),select:ts(e)}))))})),Ta=Object(Tr.b)((function(e){return e.intersect(e.partial({name:Li(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:Do(e),meta:Bi(e),icon:Fo(e),onClickActions:vi(e),menu:Wo(e)}))})),Ma=Object(Tr.b)((function(e){var t;return e.sum("kind")(((t={}).known=Pa(e),t.url=Na(e),t))})),Pa=Object(Tr.b)((function(e){return e.struct({kind:e.literal("known"),name:Ro(e)})})),Na=Object(Tr.b)((function(e){return e.intersect(e.partial({size:rs(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),Ba=Object(Tr.b)((function(e){return e.intersect(e.partial({backgroundColor:Pi(e)}))(e.struct({type:e.literal("icon"),id:Do(e),meta:Bi(e),source:Ma(e)}))})),La=Object(Tr.b)((function(e){return e.intersect(e.partial({backgroundColor:Pi(e)}))(e.intersect(e.partial({borderRadius:Jo(e)}))(e.struct({type:e.literal("image"),id:Do(e),meta:Bi(e),name:Li(e),url:e.string,width:Jo(e),height:Jo(e)})))})),Fa=Object(Tr.b)((function(e){return e.lazy("ContentButton",(function(){return Ra(e)}))})),Ra=Object(Tr.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:Lo(e)}))(e.intersect(e.partial({behaviors:xi(e)}))(e.struct({type:e.literal("button"),id:Do(e),meta:Bi(e),name:Li(e),kind:Ii(e),state:Mi(e),label:Di(e),actions:vi(e),shape:Ti(e)}))))})),Da=Object(Tr.b)((function(e){return e.lazy("ContentTooltip",(function(){return Ha(e)}))})),Ha=Object(Tr.b)((function(e){return e.struct({type:e.literal("tooltip"),id:Do(e),meta:Bi(e),name:Li(e),text:e.string,child:Di(e),alignment:cs(e)})})),Va=Object(Tr.b)((function(e){return e.struct({type:e.literal("clickableText"),id:Do(e),meta:Bi(e),name:Li(e),onClickActions:vi(e),text:e.string,size:os(e),textColor:Pi(e),format:e.readonly(e.array(as(e)))})})),Ua=Object(Tr.b)((function(e){return e.struct({type:e.literal("count"),id:Do(e),meta:Bi(e),value:e.string,backgroundColor:Pi(e)})})),Wa=Object(Tr.b)((function(e){return e.intersect(e.partial({backgroundColor:Pi(e)}))(e.intersect(e.partial({outlineColor:Pi(e)}))(e.struct({type:e.literal("alertsCount"),id:Do(e),meta:Bi(e),size:os(e),textColor:Pi(e),format:e.readonly(e.array(as(e)))})))})),za=Object(Tr.b)((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return Ga(e)}))})),Ga=Object(Tr.b)((function(e){return e.struct({label:Di(e),preview:Di(e)})})),qa=Object(Tr.b)((function(e){return e.lazy("ContentAlternativeChoice",(function(){return Ka(e)}))})),Ka=Object(Tr.b)((function(e){return e.struct({type:e.literal("alternativeChoice"),id:Do(e),meta:Bi(e),alternatives:e.readonly(e.array(za(e)))})})),$a=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={}).icon=Ya(e),t))})),Za=Object(Tr.b)((function(e){var t;return e.sum("kind")(((t={}).known=Pa(e),t.url=Na(e),t))})),Ya=Object(Tr.b)((function(e){return e.intersect(e.partial({backgroundColor:Pi(e)}))(e.struct({type:e.literal("icon"),id:Do(e),source:Za(e)}))})),Xa=Object(Tr.b)((function(e){return e.struct({id:Do(e),icon:$a(e),label:e.string,actions:vi(e)})})),Qa=Object(Tr.b)((function(e){return e.struct({type:e.literal("slider"),id:Do(e),meta:Bi(e),segmentSize:Jo(e),fillColor:Pi(e),choices:e.readonly(e.array(Xa(e)))})})),Ja=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={}).icon=Ya(e),t))})),eo=Object(Tr.b)((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return to(e)}))})),to=Object(Tr.b)((function(e){return e.struct({id:Do(e),icon:Ja(e),label:e.string,actions:vi(e),preview:Di(e)})})),no=Object(Tr.b)((function(e){return e.lazy("ContentAlternativeSlider",(function(){return ro(e)}))})),ro=Object(Tr.b)((function(e){return e.struct({type:e.literal("alternativeSlider"),id:Do(e),meta:Bi(e),segmentSize:Jo(e),fillColor:Pi(e),choices:e.readonly(e.array(eo(e)))})})),io=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:Do(e)})})),ao=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:Do(e),onSelect:vi(e)})})),oo=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:Do(e)})})),so=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:Do(e)})})),co=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:Do(e)})})),lo=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:Do(e)})})),uo=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:Do(e)})})),po=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:Do(e),onComplete:vi(e)})})),mo=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:Do(e)})})),fo=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:Do(e)})})),ho=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:Do(e),onDetailsClick:vi(e)})})),go=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:Do(e)})})),bo=Object(Tr.b)((function(e){return e.lazy("ContentViewStack",(function(){return vo(e)}))})),vo=Object(Tr.b)((function(e){return e.struct({type:e.literal("viewStack"),id:Do(e),views:e.readonly(e.record(Di(e))),selected:ns(e)})})),yo=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:Do(e)})})),Oo=Object(Tr.b)((function(e){return e.struct({id:Do(e),meta:Bi(e),label:e.string,onSelect:vi(e)})})),_o=Object(Tr.b)((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:Do(e),meta:Bi(e),options:e.readonly(e.array(Oo(e)))})})),Co=Object(Tr.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:Do(e)})})),wo=Object(Tr.b)((function(e){return e.lazy("ContentCollapsedCard",(function(){return So(e)}))})),So=Object(Tr.b)((function(e){return e.intersect(e.partial({quickActions:Di(e)}))(e.struct({type:e.literal("collapsedCard"),id:Do(e),meta:Bi(e),child:Di(e)}))})),ko=Object(Tr.b)((function(e){return e.lazy("ContentShortFormCard",(function(){return Eo(e)}))})),Eo=Object(Tr.b)((function(e){return e.struct({type:e.literal("shortFormCard"),id:Do(e),child:Di(e)})})),jo=Object(Tr.b)((function(e){return e.lazy("ContentLongFormCard",(function(){return xo(e)}))})),xo=Object(Tr.b)((function(e){return e.struct({type:e.literal("longFormCard"),id:Do(e),collapsedContent:Di(e),fullContent:Di(e),behaviors:xi(e),feedProperties:No(e)})})),Ao=us(hr),Io=Object(Tr.b)((function(e){return e.intersect(e.partial({pinPointValue:zo(e)}))(e.intersect(e.partial({borderColor:Pi(e)}))(e.intersect(e.partial({height:Jo(e)}))(e.struct({type:e.literal("progressBar"),id:Do(e),meta:Bi(e),backgroundColor:Pi(e),fillColor:Pi(e),value:zo(e),state:Ao(e)}))))})),To=Object(Tr.b)((function(e){return e.struct({type:e.literal("horizontalRule"),id:Do(e),meta:Bi(e)})})),Mo=Object(Tr.b)((function(e){return e.lazy("ContentGlobalPart",(function(){return Po(e)}))})),Po=Object(Tr.b)((function(e){return e.struct({type:e.literal("globalPart"),id:Do(e),content:Di(e),name:Li(e)})})),No=Object(Tr.b)((function(e){return e.readonly(e.record(e.nullable(e.number)))})),Bo=Object(Tr.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({feedId:e.string}))})),Lo=us(gr),Fo=Object(Tr.b)((function(e){var t;return e.sum("type")(((t={}).icon=Ba(e),t))})),Ro=us(br),Do=Object(Tr.b)((function(e){return e.string})),Ho=us(vr),Vo=Object(Tr.b)((function(e){return e.intersect(e.partial({icon:Fo(e)}))(e.struct({id:Do(e),meta:Bi(e),text:e.string,onClickActions:vi(e)}))})),Uo=Object(Tr.b)((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(Vo(e)))}))})),Wo=Object(Tr.b)((function(e){return e.struct({meta:Bi(e),label:e.string,sections:e.readonly(e.array(Uo(e)))})})),zo=Object(Tr.b)((function(e){return e.number})),Go=Object(Tr.b)((function(e){var t;return e.sum("kind")(((t={}).component=qo(e),t.gButton=Ko(e),t.nativeComponent=$o(e),t))})),qo=Object(Tr.b)((function(e){return e.struct({kind:e.literal("component"),id:Do(e)})})),Ko=Object(Tr.b)((function(e){return e.struct({kind:e.literal("gButton")})})),$o=Object(Tr.b)((function(e){return e.struct({kind:e.literal("nativeComponent"),knownName:Ni(e)})})),Zo=Object(Tr.b)((function(e){return e.lazy("PopoverView",(function(){return Yo(e)}))})),Yo=Object(Tr.b)((function(e){return e.intersect(e.partial({onShow:vi(e)}))(e.intersect(e.partial({onDismiss:vi(e)}))(e.intersect(e.partial({onFulfill:vi(e)}))(e.struct({id:Do(e),rootPopoverId:Do(e),anchor:Go(e),child:Di(e)}))))})),Xo=us(yr),Qo=us(Or),Jo=Object(Tr.b)((function(e){return e.number})),es=Object(Tr.b)((function(e){return e.struct({id:Do(e),meta:Bi(e),label:e.string,onClickActions:vi(e)})})),ts=Object(Tr.b)((function(e){return e.struct({meta:Bi(e),label:e.string,items:e.readonly(e.array(es(e)))})})),ns=Object(Tr.b)((function(e){return e.string})),rs=us(_r),is=Object(Tr.b)((function(e){return e.struct({top:rs(e),right:rs(e),bottom:rs(e),left:rs(e)})})),as=us(Cr),os=us(wr),ss=us(Sr),cs=us(kr),ls=us(Er);function us(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],r=t.slice(1);return Object(Tr.b)((function(e){return e.literal.apply(e,Object($t.d)([n],r,!1))}))}var ds,ps,ms,fs,hs,gs,bs,vs,ys,Os,_s,Cs,ws,Ss,ks,Es,js,xs,As,Is,Ts,Ms,Ps,Ns,Bs,Ls,Fs,Rs,Ds,Hs,Vs,Us,Ws="4.41.7",zs=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","gButton:plagiarism","nativePerformanceScoreButton","globalPart"];function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qs(e){if(Array.isArray(e))return e}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Zs(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ks(e,t,n[t])}))}return e}function Xs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Qs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Js(e,t){return qs(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||tc(e,t)||Zs()}function ec(e){return function(e){if(Array.isArray(e))return Gs(e)}(e)||$s(e)||tc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(e,t){if(e){if("string"==typeof e)return Gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(e,t):void 0}}function nc(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function rc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(e){return a.unsupportedComponents.includes(e.type)}!function(e){e.isStrongAlertRefComponent=function(e){return"child"in e},e.isStrongAlertRefBehavior=function(e){return!("child"in e)}}(ds||(ds={})),function(e){e.isStrongAlertRef=function(e){return"strongAlertRef"===e.type},e.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:Rs.from("strongAlertRef")}}}(ps||(ps={})),function(e){e.isLongFormCard=function(e){return"longFormCard"===e.type},e.create=function(e,t,n){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:Rs.from("longFormCard"),behaviors:[fs.StrongAlertRef.create(n,[])],feedProperties:{}}}}(ms||(ms={})),(bs=fs||(fs={})).isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},(gs=bs.StrongAlertRef||(bs.StrongAlertRef={})).create=function(e,t){return{id:Rs.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}},gs.eq=Tr.a(Ir.a)(i.BehaviorStrongAlertRef),bs.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},(hs=bs.PopoverAnchor||(bs.PopoverAnchor={})).create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}},hs.nonEmpty=function(e){return!!e.view},(ys=vs||(vs={})).create=function(e,t,n,i,a){return{type:"row",left:e,right:t,spacing:n,verticalAlign:i,id:Rs.from("row"),behaviors:a?[fs.PopoverAnchor.create(a,r.Position.Top)]:void 0}},ys.isRow=function(e){return"row"===e.type},function(e){e.create=function(e){return{type:"column",children:e,id:Rs.from("column")}}}(Os||(Os={})),function(e){var t=e.Type="block";e.create=function(e,n,r){for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return{type:t,name:Ds.unknown(e),parts:a,spacing:n,innerSpacing:r,id:Rs.from(e)}},e.isBlock=function(e){return e.type===t},e.hasOnlyTextParts=function(e){return e.parts.every(Cs.isText)}}(_s||(_s={})),function(e){var t=e.Type="text";e.create=function(e,n,r,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return{type:t,text:e,size:n,format:r,textColor:i,backgroundColor:a,outlineColor:o,id:Rs.from(t),meta:s}},e.isText=function(e){return e.type===t}}(Cs||(Cs={})),function(e){e.create=function(e,t){return{label:e,preview:t}}}(ws||(ws={})),function(e){e.create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:"alternativeChoice",alternatives:n,id:Rs.from("alternativeChoice"),meta:e}}}(Ss||(Ss={})),function(e){e.create=function(e,t){return{type:"viewStack",id:Rs.from("ViewStack"),views:t,selected:e}}}(ks||(ks={})),xs=Es||(Es={}),As=xs.Type="button",(js=xs.Action||(xs.Action={})).isTransitionAction=function(e){return"transition"===e.type},js.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},js.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}},xs.isButton=function(e){return"button"===e.type},xs.create=function(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r.ButtonShape.Square,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=Rs.from(e);return{type:As,id:l,name:Ds.unknown(e),tooltip:a,kind:i,state:r.ButtonState.Enabled,label:{type:_s.Type,name:Ds.unknown(""),parts:[Cs.create(t,r.TextSize.Regular,[],r.Color.CoreNeutral0,void 0,void 0)],spacing:o,id:Rs.from("label-button-"+l)},actions:n,shape:s,meta:c}},xs.createIcon=function(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r.ButtonShape.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=Rs.from(e),l="icon-button-"+e;return{type:As,id:c,name:Ds.unknown(e),tooltip:a,kind:i,state:r.ButtonState.Enabled,label:{type:_s.Type,name:Ds.unknown(l),spacing:Ts.create("0","0.25","0","0.25"),parts:[Is.create(t,void 0)],id:Rs.from(l)},actions:n,shape:o,meta:s}},function(e){var t=e.Type="icon";!function(e){e.createKnown=function(e){return{kind:"known",name:e}},e.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}}}(e.Source||(e.Source={})),e.create=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:t,source:e,backgroundColor:n,id:Rs.from(t),meta:r}}}(Is||(Is={})),function(e){e.create=function(e,t,n,r){return{top:e,bottom:n,left:r,right:t}}}(Ts||(Ts={})),function(e){e.create=function(e,t){return{vertical:t,horizontal:e}}}(Ms||(Ms={})),function(e){var t=e.Type="count";e.create=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"count",backgroundColor:n,value:e,id:Rs.from(t),meta:r}}}(Ps||(Ps={})),function(e){!function(e){e.create=function(e,t,n){return{type:"sliderChoice",id:Rs.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:Rs.from("slider"),meta:r}}}(Ns||(Ns={})),function(e){!function(e){e.create=function(e,t,n,r){return{id:Rs.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:r}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:Rs.from("alternativeSlider"),meta:r}}}(Bs||(Bs={})),(Fs=Ls||(Ls={})).create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:Rs.from("list"),meta:t}},(Fs.Item||(Fs.Item={})).create=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:Rs.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:r,meta:i}},(Rs||(Rs={})).from=function(e){return e+"#"+G.f.alphanumeric(6)},function(e){e.unknown=function(e){return{kind:"unknown",value:e}}}(Ds||(Ds={})),(Vs=Hs||(Hs={})).create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},Vs.createView=function(e,t,n,r){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:r||G.f.alphanumeric(3)}}},function(e){var t,n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=ec(i).concat([e.id]);switch(r){case t.PreOrder:return n(e,a),x(e,n,r,a);case t.PostOrder:return x(e,n,r,a),n(e,a);default:Object(bt.c)(r)}},a=function(e){var n,r=arguments;return nc(this,(function(i){switch(i.label){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:t.PreOrder,[5,rc(d(e,n,[]))];case 1:return i.sent(),[2]}}))},o=function(e,t,n,r){var i=r;return Us.forEach(e,(function(e,n){return i=t(i,e,n)}),n),i},s=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return Object(b.pipe)(n(e),(function(e){return C(e,n,r)}));case t.PostOrder:return Object(b.pipe)(C(e,n,r),O.g.map(n));default:Object(bt.c)(r)}},c=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return Object(b.pipe)(e,O.g.fromPredicate(n),O.g.chain((function(e){return Object(b.pipe)(w(e,n,r),O.g.map((function(t){return Ys({},e,t)})))})));case t.PostOrder:return Object(b.pipe)(w(e,n,r),O.g.chain((function(t){return O.g.fromPredicate(n)(Ys({},e,t))})));default:Object(bt.c)(r)}},l=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return Object(b.pipe)(n(e),O.g.chain((function(e){return Object(b.pipe)(S(e,n,r),O.g.map((function(t){return Ys({},e,t)})))})));case t.PostOrder:return Object(b.pipe)(S(e,n,r),O.g.chain((function(t){return n(Ys({},e,t))})));default:Object(bt.c)(r)}},u=function(e){return c(e,Object(z.m)(_),t.PostOrder)},d=function(e){var n,r,i,a=arguments;return nc(this,(function(o){switch(o.label){case 0:switch(n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,r=a.length>2&&void 0!==a[2]?a[2]:[],i=ec(r).concat([e.id]),n){case t.PreOrder:return[3,1];case t.PostOrder:return[3,4]}return[3,7];case 1:return[4,e];case 2:return o.sent(),[5,rc(m(e,n,i))];case 3:return o.sent(),[3,8];case 4:return[5,rc(m(e,n,i))];case 5:return o.sent(),[4,e];case 6:return o.sent(),[3,8];case 7:Object(bt.c)(n),o.label=8;case 8:return[2]}}))},p=function(e){var n,r,i,a=arguments;return nc(this,(function(o){switch(o.label){case 0:n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,r=a.length>2?a[2]:void 0,i=0,o.label=1;case 1:return i<e.length?[5,rc(d(e[i],n,r))]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},m=function(e){var n,r,i,a,o,s,c,l,u=arguments;return nc(this,(function(m){switch(m.label){case 0:switch(n=u.length>1&&void 0!==u[1]?u[1]:t.PreOrder,r=u.length>2?u[2]:void 0,e.type){case"column":return[3,1];case"assistantCard":return[3,3];case"popoverStack":return[3,8];case"strongAlertRef":return[3,10];case"row":return[3,12];case"block":return[3,15];case"box":case"scroll":case"inlineCard":case"shortFormCard":return[3,17];case"list":return[3,19];case"button":return[3,21];case"alternativeChoice":return[3,23];case"alternativeSlider":return[3,28];case"assistantFeed":return[3,33];case"viewStack":return[3,38];case"collapsedCard":return[3,40];case"longFormCard":return[3,45];case"tooltip":return[3,48];case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return[3,50]}return[3,51];case 1:return[5,rc(p(e.children,n,r))];case 2:return m.sent(),[3,52];case 3:return null==e.footer?[3,5]:[5,rc(d(e.footer,n,r))];case 4:return m.sent(),[3,6];case 5:null,m.label=6;case 6:return[5,rc(d(e.child,n,r))];case 7:return m.sent(),[3,52];case 8:return[5,rc(p(Object.values(e.views).map((function(e){return e.child})),n,r))];case 9:return m.sent(),[3,52];case 10:return[5,rc(d(e.child,n,r))];case 11:return m.sent(),[3,52];case 12:return[5,rc(p(e.left,n,r))];case 13:return m.sent(),[5,rc(p(e.right,n,r))];case 14:return m.sent(),[3,52];case 15:return[5,rc(p(e.parts,n,r))];case 16:return m.sent(),[3,52];case 17:return[5,rc(d(e.child,n,r))];case 18:return m.sent(),[3,52];case 19:return[5,rc(p(e.items.map((function(e){return e.label})),n,r))];case 20:return m.sent(),[3,52];case 21:return[5,rc(d(e.label,n,r))];case 22:return m.sent(),[3,52];case 23:i=0,m.label=24;case 24:return i<e.alternatives.length?(a=e.alternatives[i],o=a.label,s=a.preview,[5,rc(p([o,s],n,r))]):[3,27];case 25:m.sent(),m.label=26;case 26:return i++,[3,24];case 27:return[3,52];case 28:c=0,m.label=29;case 29:return c<e.choices.length?(l=e.choices[c].preview,[5,rc(d(l,n,r))]):[3,32];case 30:m.sent(),m.label=31;case 31:return c++,[3,29];case 32:return[3,52];case 33:return null==e.footer?[3,35]:[5,rc(d(e.footer,n,r))];case 34:return m.sent(),[3,36];case 35:null,m.label=36;case 36:return[5,rc(d(e.header,n,r))];case 37:return m.sent(),[3,52];case 38:return[5,rc(p(Object.values(e.views),n,r))];case 39:return m.sent(),[3,52];case 40:return null==e.quickActions?[3,42]:[5,rc(d(e.quickActions,n,r))];case 41:return m.sent(),[3,43];case 42:null,m.label=43;case 43:return[5,rc(d(e.child,n,r))];case 44:return m.sent(),[3,52];case 45:return[5,rc(d(e.collapsedContent,n,r))];case 46:return m.sent(),[5,rc(d(e.fullContent,n,r))];case 47:return m.sent(),[3,52];case 48:return[5,rc(d(e.child,n,r))];case 49:return m.sent(),[3,52];case 50:return[2];case 51:if(ic(e))return[2];Object(bt.c)(e),m.label=52;case 52:return[2]}}))};!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.traverse=a,e.reduce=o,e.findFirst=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Us.TreeTraversal.PreOrder,r=!0,i=!1,o=void 0;try{for(var s,c=a(e,n)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;if(l.type===t)return O.g.some(l)}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return O.g.none},e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Us.TreeTraversal.PreOrder,r=!0,i=!1,o=void 0;try{for(var s,c=a(e,n)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;if(t(l))return O.g.some(l)}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return O.g.none};var f=e.over=function(e,n,r){var i,a=qs(i=n)||$s(i)||tc(i)||Zs(),o=a[0],s=a.slice(1);return O.a.isEmpty(s)&&o===e.id?r(e):E(e,b.constVoid,t.PreOrder,(function(t){return e.id===o&&t.id===s[0]?f(t,s,r):O.g.some(t)}))};e.map=s,e.filter=c,e.filterMap=l,e.compact=u;var h=e.getAlertRefs=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return O.g.none;case"shortFormCard":return h(e.child);case"longFormCard":return Object(b.pipe)(e.behaviors,xr.O(fs.isStrongAlertRef),Mr.E);case"strongAlertRef":return O.g.some([e]);case"inlineCard":return Object(b.pipe)(Object(b.pipe)(e.behaviors,O.g.fromNullable,O.g.chain(Object(b.flow)(xr.O(fs.isStrongAlertRef),Mr.E))));case"list":return Object(b.pipe)(e.items,xr.ub((function(e){return Object(b.pipe)(e.behaviors,O.g.fromNullable,O.g.chain(Object(b.flow)(O.a.filter(fs.isStrongAlertRef),Mr.E)))})),O.g.sequenceArray,O.g.map(Mr.A));default:if(ic(e))return O.g.none;Object(bt.c)(e)}},g=(e.getAlertIds=Object(b.flow)(h,O.g.chain(Object(b.flow)(xr.w(G.e.pick("alertIds")),Mr.F))),e.getAllAlertIds=function(e){return o(e,(function(e,t){return Object(b.pipe)(Us.getAlertIds(t),O.g.map((function(t){return e.concat(t)})),O.g.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return O.g.fromNullable(e.id)},e.setPopoverView=function(e,t){return s(e,(function(e){switch(e.type){case"box":case"row":case"button":return Object(b.pipe)(O.g.fromNullable(e.behaviors),O.g.chain(xr.S(fs.isPopoverAnchor)),O.g.fold(Object(b.constant)(e),(function(n){var r=n.view,i=Qs(n,["view"]);return Object(b.pipe)(O.g.fromNullable(r),O.g.fold((function(){return Object(b.pipe)(t,O.g.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===i.id})),O.g.fold(Object(b.constant)(e),(function(t){return Xs(Ys({},e),{behaviors:[Xs(Ys({},i),{view:t})]})})))}),(function(n){return Object(b.pipe)(t,O.g.filter((function(e){return G.e.isEqual(e.anchor,n.anchor)})),O.g.fold((function(){return Xs(Ys({},e),{behaviors:[i]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:Xs(Ys({},e),{behaviors:[Xs(Ys({},i),{view:t})]})})))})))})));default:return e}}))},e.removeStrongAlertRef=function(e){return function(t){var n=Object(b.pipe)(t,xr.ub((function(e){return e.alertIds})),xr.Y,(function(e){return new Set(e)})),r=Object(b.pipe)(t,Mr.y(ds.isStrongAlertRefComponent)),i=Object(b.pipe)(t,Mr.y(ds.isStrongAlertRefBehavior));return Object(b.pipe)(l(e,v(n,r,i)),O.g.chain(u))}},function(e,t){var n;return Xs(Ys({},e),{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?Xs(Ys({},e),{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})}),v=function(e,t,n){return function(r){switch(r.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return O.g.some(r);case"shortFormCard":return v(e,t,n)(r.child);case"longFormCard":return O.g.some(Xs(Ys({},r),{behaviors:r.behaviors.map((function(t){return fs.isStrongAlertRef(t)?Xs(Ys({},t),{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return Object(b.pipe)(t,O.g.exists((function(e){return e.some((function(e){return y.equals(r,e)}))})))?O.g.none:O.g.some(Xs(Ys({},r),{alertIds:r.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return r.behaviors&&r.behaviors.some((function(e){return fs.isStrongAlertRef(e)&&Object(b.pipe)(n,O.g.exists((function(t){return t.some((function(t){return fs.StrongAlertRef.eq.equals(e,t)}))})))}))?O.g.none:O.g.some(g(r,e));case"list":var i=r.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return fs.isStrongAlertRef(e)&&Object(b.pipe)(n,O.g.exists((function(t){return t.some((function(t){return fs.StrongAlertRef.eq.equals(e,t)}))})))}))}));return 0===i.length?O.g.none:O.g.some(Xs(Ys({},r),{items:i.map((function(t){return g(t,e)}))}));default:if(ic(r))return O.g.some(r);Object(bt.c)(r)}}},y=(e.switchViewStack=function(e,t,n){return Object(b.pipe)(f(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?O.g.some(e):O.g.some(Xs(Ys({},e),{selected:n}))})),O.g.fold((function(){return e}),b.identity))},e.toContentMap=function(e){return Us.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=Tr.a(Ir.a)(i.Content)),_=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return xr.nb(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":case"shortFormCard":return null==e.child;case"row":return xr.nb(e.left)&&xr.nb(e.right);case"block":return xr.nb(e.parts);case"list":return xr.nb(e.items);case"button":return null==e.label;case"alternativeChoice":return xr.nb(e.alternatives);case"alternativeSlider":return xr.nb(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"viewStack":return G.e.isEmptyObject(e.views);case"longFormCard":return null==e.fullContent;case"tooltip":return null==e.child;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(ic(e))return!1;Object(bt.c)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type};e.bulkSwitchView=function(e,t,n){var r=null!=n?n:Us.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,i=t.where;return Object(b.pipe)(r[i],O.g.fromNullable,O.g.map(G.e.pick("path")),O.g.fold((function(){return e}),(function(t){return Us.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((function(e){return e.condition===r.ContentAssistantFeedFilteringCondition.EqualTo})).reduce((function(e,t){return Xs(Ys({},e),Ks({},t.property,t.value))}),{})};var C=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return E(e,n,r,s)},w=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return E(e,n,r,c)},S=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return E(e,n,r,l)},k=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;return Object(b.pipe)(e,xr.Fb(new Array,(function(e,t){return Object(b.pipe)(i(t,n,r),O.g.fold(b.constVoid,(function(t){return e.push(t)}))),e})))},E=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Object(b.pipe)(k(e.children,n,r,i),(function(t){return Xs(Ys({},e),{children:t})}),O.g.some);case"assistantCard":var a=Object(b.pipe)(O.g.fromNullable(e.footer),O.g.chain((function(e){return i(e,n,r)})),O.g.getOrElse((function(){})));return Object(b.pipe)(i(e.child,n,r),O.g.map((function(t){return Xs(Ys({},e),{child:t,footer:a})})));case"strongAlertRef":case"scroll":case"inlineCard":case"shortFormCard":case"box":return Object(b.pipe)(i(e.child,n,r),O.g.map((function(t){return Xs(Ys({},e),{child:t})})));case"row":var o=k(e.right,n,r,i),s=k(e.left,n,r,i);return O.g.some(Xs(Ys({},e),{left:s,right:o}));case"block":return Object(b.pipe)(k(e.parts,n,r,i),(function(t){return Xs(Ys({},e),{parts:t})}),O.g.some);case"list":return Object(b.pipe)(e.items,xr.ub((function(e){return Object(b.pipe)(i(e.label,n,r),O.g.map((function(t){return Xs(Ys({},e),{label:t})})))})),xr.O(O.g.isSome),xr.ub(O.g.unsafeGet),(function(t){return Xs(Ys({},e),{items:t})}),O.g.some);case"button":return Object(b.pipe)(i(e.label,n,r),O.g.map((function(t){return Xs(Ys({},e),{label:t})})));case"alternativeChoice":return Object(b.pipe)(e.alternatives,xr.ub((function(e){return Object(b.pipe)([i(e.label,n,r),i(e.preview,n,r)],O.g.sequenceArray,O.g.map((function(e){return e})),O.g.map((function(t){var n=Js(t,2),r=n[0],i=n[1];return Xs(Ys({},e),{label:r,preview:i})})))})),xr.O(O.g.isSome),xr.ub(O.g.unsafeGet),(function(t){return Xs(Ys({},e),{alternatives:t})}),O.g.some);case"alternativeSlider":return Object(b.pipe)(e.choices,xr.ub((function(e){return Object(b.pipe)(i(e.preview,n,r),O.g.map((function(t){return Xs(Ys({},e),{preview:t})})))})),xr.O(O.g.isSome),xr.ub(O.g.unsafeGet),(function(t){return Xs(Ys({},e),{choices:t})}),O.g.some);case"assistantFeed":return Object(b.pipe)(O.g.fromNullable(e.footer),O.g.chain((function(e){return i(e,n,r)})),O.g.map((function(t){return Xs(Ys({},e),{footer:t})})),O.g.alt((function(){return O.g.some(e)})),O.g.chain((function(e){return Object(b.pipe)(i(e.header,n,r),O.g.map((function(t){return Xs(Ys({},e),{header:t})})))})));case"popoverStack":return Object(b.pipe)(Object.keys(e.views),xr.Fb({},(function(t,a){return Object(b.pipe)(i(e.views[a].child,n,r),O.g.fold((function(){return delete t[a],t}),(function(n){return t[a]=Xs(Ys({},e.views[a]),{child:n}),t})))})),(function(t){return Xs(Ys({},e),{views:t})}),O.g.some);case"viewStack":return Object(b.pipe)(Object.keys(e.views),xr.Fb({},(function(t,a){return Object(b.pipe)(i(e.views[a],n,r),O.g.fold((function(){return delete t[a],t}),(function(e){return t[a]=e,t})))})),(function(t){return Xs(Ys({},e),{views:t})}),O.g.some);case"collapsedCard":var c=Object(b.pipe)(O.g.fromNullable(e.quickActions),O.g.chain((function(e){return i(e,n,r)})),O.g.getOrElse((function(){})));return Object(b.pipe)(i(e.child,n,r),O.g.map((function(t){return Xs(Ys({},e),{child:t,quickActions:c})})));case"longFormCard":return Object(b.pipe)(i(e.fullContent,n,r),O.g.chain((function(t){return Object(b.pipe)(i(e.collapsedContent,n,r),O.g.map((function(n){return Xs(Ys({},e),{fullContent:t,collapsedContent:n})})))})));case"tooltip":return Object(b.pipe)(i(e.child,n,r),O.g.map((function(t){return Xs(Ys({},e),{child:t})})));case"globalPart":return Object(b.pipe)(i(e.content,n,r),O.g.map((function(t){return Xs(Ys({},e),{content:t})})));case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return O.g.some(e);default:if(ic(e))return O.g.some(e);Object(bt.c)(e)}},j=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,a=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,r,i,a)}))},x=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,a=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return j(e.children,r,i,a);case"assistantCard":return null!=e.footer&&n(e.footer,r,i,a),n(e.child,r,i,a);case"popoverStack":return j(Object.values(e.views).map((function(e){return e.child})),r,i,a);case"strongAlertRef":return n(e.child,r,i,a);case"row":return j(e.left,r,i,a),j(e.right,r,i,a);case"block":return j(e.parts,r,i,a);case"box":case"scroll":case"inlineCard":case"shortFormCard":return n(e.child,r,i,a);case"list":return j(e.items.map((function(e){return e.label})),r,i,a);case"button":return n(e.label,r,i,a);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return j([t,n],r,i,a)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,r,i,a)}));case"assistantFeed":return null!=e.footer&&n(e.footer,r,i,a),n(e.header,r,i,a);case"viewStack":return j(Object.values(e.views),r,i,a);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,r,i,a),n(e.child,r,i,a);case"longFormCard":return n(e.collapsedContent,r,i,a),n(e.fullContent,r,i,a);case"tooltip":return n(e.child,r,i,a);case"globalPart":return n(e.content,r,i,a);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(ic(e))return;Object(bt.c)(e)}},A=(e.Functor={map:function(e,n){return s(e,n,t.PreOrder)}},Tr.a(Ar.Schemable)(i.Content));e.dslRootParser=Object(b.flow)(A.decode,O.b.mapLeft((function(e){return new Error(Ar.draw(e))})))}(Us||(Us={}));var ac,oc,sc,cc=n("HOlR"),lc=n("lKCo"),uc=n("gIH0"),dc=n("yRey"),pc=n("GMJx"),mc=n("ezee"),fc=n("8Z+1"),hc={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b((([-a-zA-Z0-9()@%_\\+~#&//=\\[\\]])|([.:?](?!$|\\s)))*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"},caSSN:{regex:"[0-9]{3}[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{3}",prefixes:[],priority:5,description:"CA SIN"},ukSSN:{regex:"[A-Z]{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?[A-Z]",prefixes:[],priority:6,description:"UK NI NO"},iban:{regex:"[A-Z]{2}(-?|\\ )\\d{2}-?(?:\\ ?[A-Z]{4}-?)?(?:\\d{13,}|(?:\\ \\d{4}){3,5}\\ \\d{1,4})",prefixes:[],priority:7,description:"IBAN number"},variousID:{regex:"[A-Z]{0,2}(?:\\d{3,8}[\\ -])(?:\\d{2,8}[\\ -]){1,4}\\d{2,4}|\\d{7}[A-Z]?|\\d{5,18}",prefixes:[],priority:8,description:"Various ID number"}}},gc=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this;Object(c.a)(this,e),Object(u._)(this,"_externalMessagesSchemas",void 0),Object(u._)(this,"_sanitizationSeed",void 0),Object(u._)(this,"_sensitiveToSanitizedMap",void 0),Object(u._)(this,"_sanitizedToSensitiveMap",void 0),Object(u._)(this,"_dlpRegexConfiguration",void 0),Object(u._)(this,"sanitizeMessage",void 0),Object(u._)(this,"sanitizeStaticMessage",void 0),Object(u._)(this,"sanitizeChange",void 0),Object(u._)(this,"sanitizeDelta",void 0),Object(u._)(this,"sanitizeSdui",void 0),Object(u._)(this,"sanitizeText",void 0),Object(u._)(this,"unsanitizeMessage",void 0),Object(u._)(this,"unsanitizeChange",void 0),Object(u._)(this,"unsanitizeDelta",void 0),Object(u._)(this,"unsanitizeSdui",void 0),Object(u._)(this,"unsanitizeText",void 0),Object(u._)(this,"matchInText",void 0),Object(u._)(this,"clear",void 0),Object(u._)(this,"_sanitizeDlpMatch",void 0),Object(u._)(this,"_unsanitizeDlpMatch",void 0),Object(u._)(this,"sanitizingEncoder",void 0),Object(u._)(this,"unsanitizingEncoder",void 0),Object(u._)(this,"sensitiveGuard",void 0),Object(u._)(this,"_externalMessagesHandlers",void 0),this._externalMessagesSchemas=n,this._sanitizationSeed=-1,this._sensitiveToSanitizedMap=new Map,this._sanitizedToSensitiveMap=new Map,this.sanitizeMessage=function(e){var t=r._externalMessagesHandlers.find((function(t){return t.is(e)}));return t?t.sanitizer.encode(e):sc.replaceInRequest(e,r.sanitizeText,r.matchInText)},this.sanitizeStaticMessage=function(e){return sc.replaceInStaticRequest(e,r.sanitizeText,r.matchInText)},this.sanitizeChange=function(e){return sc.replaceInChangeWithAttributes(e,r.sanitizeText,r.matchInText)},this.sanitizeDelta=function(e){return sc.replaceInDeltaWithAttributes(e,r.sanitizeText,r.matchInText)},this.sanitizeSdui=function(e){return sc.replaceInSdui(e,r.sanitizeText)},this.sanitizeText=function(e){return ac.replaceInText(r._dlpRegexConfiguration,e,r._sanitizeDlpMatch)},this.unsanitizeMessage=function(e){var t=r._externalMessagesHandlers.find((function(t){return t.is(e)}));return t?t.unsanitizer.encode(e):sc.replaceInResponse(e,r.unsanitizeText)},this.unsanitizeChange=function(e){return sc.replaceInChange(e,r.unsanitizeText)},this.unsanitizeDelta=function(e){return sc.replaceInDelta(e,r.unsanitizeText)},this.unsanitizeSdui=function(e){return sc.replaceInSdui(e,r.unsanitizeText)},this.unsanitizeText=function(e){return ac.replaceInText(r._dlpRegexConfiguration,e,r._unsanitizeDlpMatch)},this.matchInText=function(e){return ac.matchInText(r._dlpRegexConfiguration,e)},this.clear=function(){r._sanitizationSeed=-1,r._sensitiveToSanitizedMap.clear(),r._sanitizedToSensitiveMap.clear()},this._sanitizeDlpMatch=function(e){var t=e.text;if(!r._sensitiveToSanitizedMap.has(t)){var n=oc.sanitizeDlpMatch(e,++r._sanitizationSeed);r._sensitiveToSanitizedMap.set(t,n),r._sanitizedToSensitiveMap.set(n,t)}return r._sensitiveToSanitizedMap.get(t)},this._unsanitizeDlpMatch=function(e){var t=e.text;return r._sanitizedToSensitiveMap.has(t)?r._sanitizedToSensitiveMap.get(t):t},this.sanitizingEncoder=fc.a.extend(fc.b)({any:uc.id(),sensitiveString:{encode:this.sanitizeText},sensitiveDelta:{encode:this.sanitizeDelta}}),this.unsanitizingEncoder=fc.a.extend(fc.b)({any:uc.id(),sensitiveString:{encode:this.unsanitizeText},sensitiveDelta:{encode:this.unsanitizeDelta}}),this.sensitiveGuard=fc.a.extend(dc.Schemable)({any:dc.id(),sensitiveString:dc.string,sensitiveDelta:dc.id()}),this._externalMessagesHandlers=this._externalMessagesSchemas.map((function(e){return Object(m._)(Object(p._)({},fc.a.interpreter(r.sensitiveGuard)(e)),{sanitizer:fc.a.interpreter(r.sanitizingEncoder)(e),unsanitizer:fc.a.interpreter(r.unsanitizingEncoder)(e)})})),this._dlpRegexConfiguration=ac.getRegexConfiguration(t)};!function(e){e.getRegexConfiguration=function(e){return{dlpConfiguration:e,dlpRegex:t(e)}},e.replaceInText=function(e,t,r){var i=e.dlpConfiguration,a=e.dlpRegex;return t.replace(a,(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(n(i,{groups:t[t.length-1],index:t[t.length-3]}))}))},e.matchInText=function(e,t){var i=e.dlpConfiguration,a=e.dlpRegex;return r(a,t).map((function(e){return n(i,e)}))};var t=function(e){var t=e.patterns;return new RegExp(Object.entries(t).sort((function(e,t){return Object(f._)(e,2)[1].priority-Object(f._)(t,2)[1].priority})).map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1],i=r.regex,a=r.prefixes;return i=a.length?"(".concat(a.join("|"),")").concat(i):i,"(?<".concat(n,">").concat(i,")")})).join("|"),"g")},n=function(e,t){var n=t.groups,r=t.index,i=Object(f._)(Object.entries(n).find((function(e){return void 0!==Object(f._)(e,2)[1]})),2),a=i[0],o=i[1],s=e.patterns[a];return Object(m._)(Object(p._)({id:a},s),{text:o,start:r,end:r+o.length})},r=function(e,t){var n=[];for(e.lastIndex=0;;){var r=e.exec(t);if(!r)break;n.push(r)}return e.lastIndex=0,n}}(ac||(ac={})),function(e){e.sanitizeDlpMatch=function(e,t){var n=e.prefixes,r=e.text,i=n.find((function(e){return 0===r.indexOf(e)}));return void 0!==i?"".concat(i).concat(u(r.slice(i.length),t)):u(r,t)};var t="a".charCodeAt(0),n="z".charCodeAt(0),r="A".charCodeAt(0),i="Z".charCodeAt(0),a="0".charCodeAt(0),o="9".charCodeAt(0),s=function(e){return e>=t&&e<=n},c=function(e){return e>=r&&e<=i},l=function(e){return e>=a&&e<=o},u=function(e,n){for(var i,o=new Array(e.length),u=n,d=e.length-1;d>=0;d--){var p=e.charCodeAt(d);s(p)?(o[d]=t+(d+u)%26,u/=26):c(p)?(o[d]=r+(d+u)%26,u/=26):l(p)?(o[d]=a+(d+1+u)%10,u/=10):o[d]=p}return(i=String).fromCharCode.apply(i,Object(St.a)(o))}}(oc||(oc={})),function(e){e.replaceInRequest=function(e,t,n){switch(e.action){case"submit_ot":return s(e,t,n);default:return e}},e.replaceInStaticRequest=function(e,n,r){switch(e.action){case"update_context_info":return t(e,n,r);default:return e}},e.replaceInResponse=function(e,t){switch(e.action){case"alert":return d(e,t);case"alert_changes":return f(e,t);case"sdui:add":return h(e,t);case"sdui:update":return g(e,t);default:return e}};var t=e.replaceInUpdateContextInfoMessage=function(e,t,r){return"docContext"in e?Object(m._)(Object(p._)({},e),{docContext:n(e.docContext,t,r)}):e},n=function(e,t,i){var a,o,s;return Object(m._)(Object(p._)({},e),{delta:void 0!==e.delta?r(e.delta,t,i):void 0,siblings:null===(a=e.siblings)||void 0===a?void 0:a.map((function(e){return n(e,t,i)})),children:null===(o=e.children)||void 0===o?void 0:o.map((function(e){return n(e,t,i)})),parents:null===(s=e.parents)||void 0===s?void 0:s.map((function(e){return n(e,t,i)})),audience:void 0,authors:void 0})},r=(e.replaceInChangeWithAttributes=function(e,t,n){return Gn.a.isDelta(e)?c(e,t,n):Gn.a.isReset(e)?u(e,t):e},e.replaceInChange=function(e,t){return Gn.a.isDelta(e)?l(e,t):Gn.a.isReset(e)?u(e,t):e},e.replaceInDeltaWithAttributes=function(e,t,n){var r=o(e),i=r.text,a=r.ranges,s=t(i);return{ops:e.ops.map((function(e,t){return H.a.match((function(e){if(H.a.isInsertString(e)){var r=a[t],i=r.start,o=r.end,c=s.slice(i,o),l=Object(m._)(Object(p._)({},e),{insert:c}),u=n(c);if(u.length>0){var d=Object.values(u).map((function(e){return{type:e.id,start:e.start,end:e.end}}));l=void 0!==l.attributes&&null!==l.attributes?Object(m._)(Object(p._)({},l),{attributes:mc.a.compose(l.attributes,{sanitized:{matches:d}},!1)}):Object(m._)(Object(p._)({},l),{attributes:{sanitized:{matches:d}}})}return l}return e}),b.identity,b.identity)(e)}))}}),i=e.replaceInDelta=function(e,t){var n=o(e),r=n.text,i=n.ranges,a=t(r);return{ops:e.ops.map((function(e,t){return H.a.match((function(e){if(H.a.isInsertString(e)){var n=i[t],r=n.start,o=n.end,s=a.slice(r,o);return Object(m._)(Object(p._)({},e),{insert:s})}return e}),b.identity,b.identity)(e)}))}},a=e.replaceInSdui=function(e,t){return Object(b.pipe)(e,Us.dslRootParser,cc.map((function(e){return y(e,t)})),cc.getOrElse(Object(b.constant)(e)))},o=function(e){return e.ops.reduce((function(e,t){var n=e.text,r=e.ranges,i=H.a.match((function(e){return H.a.isInsertString(e)?e.insert:"\n"}),Object(b.constant)(""),Object(b.constant)("\n"))(t),a=0!==r.length?r[r.length-1].end:0;return{text:n+i,ranges:Object(St.a)(r).concat([{start:a,end:a+i.length}])}}),{text:"",ranges:[]})},s=function(e,t,n){if("deltas"in e){var i=e.deltas.map((function(e){return r(e,t,n)}));return Object(m._)(Object(p._)({},e),{deltas:i,deltasString:JSON.stringify(i)})}return e},c=function(e,t,n){return Gn.a.delta(new pc.a(r(e.delta,t,n).ops),e.prevLen)},l=function(e,t){return Gn.a.delta(new pc.a(i(e.delta,t).ops),e.prevLen)},u=function(e,t){return Gn.a.unsafeRes(new pc.a(i(e.delta,t).ops))},d=function(e,t){var n=Object(m._)(Object(p._)({},e),{replacements:e.replacements.map(t)});return void 0!==e.text&&(n.text=t(e.text)),void 0!==e.highlightText&&(n.highlightText=t(e.highlightText)),void 0!==e.transforms&&(n.transforms=e.transforms.map(t)),e.transformJson&&(n.transformJson=v(e.transformJson,t)),e.subalerts&&(n.subalerts=e.subalerts.map((function(e){return Object(m._)(Object(p._)({},e),{highlightText:t(e.highlightText),transformJson:v(e.transformJson,t)})}))),n},f=function(e,t){return e.transformJson?Object(m._)(Object(p._)({},e),{transformJson:v(e.transformJson,t)}):e},h=function(e,t){return Object(m._)(Object(p._)({},e),{sdui:a(e.sdui,t)})},g=function(e,t){return Object(m._)(Object(p._)({},e),{sdui:a(e.sdui,t)})},v=function(e,t){return e.alternatives?Object(m._)(Object(p._)({},e),{alternatives:e.alternatives.map((function(e){return i(e,t)}))}):e},y=function(e,t){return Object(b.pipe)(Us.map(e,(function(e){return O(e,t)})),lc.getOrElse(Object(b.constant)(e)))},O=function(e,t){switch(e.type){case"text":return Object(m._)(Object(p._)({},e),{text:t(e.text)});default:return e}}}(sc||(sc={}));var bc=function e(t,n){var r=this;Object(c.a)(this,e),Object(u._)(this,"_innerWSHandler",void 0),Object(u._)(this,"_dlpDataSanitizer",void 0),Object(u._)(this,"onConnecting",void 0),Object(u._)(this,"onConnect",void 0),Object(u._)(this,"onDisconnect",void 0),Object(u._)(this,"onMessage",void 0),Object(u._)(this,"connect",void 0),Object(u._)(this,"isDisconnected",void 0),this._innerWSHandler=t,this._dlpDataSanitizer=n,this.onConnecting=function(e){return r._innerWSHandler.onConnecting(e),r},this.onConnect=function(e){return r._innerWSHandler.onConnect(e),r},this.onDisconnect=function(e){return r._innerWSHandler.onDisconnect((function(t){return r._dlpDataSanitizer.clear(),e(t)})),r},this.onMessage=function(e){return r._innerWSHandler.onMessage((function(t,n){e(t,r._dlpDataSanitizer.unsanitizeMessage(n))})),r},this.connect=function(e){return r._innerWSHandler.connect(e)},this.isDisconnected=function(){return r._innerWSHandler.isDisconnected()}},vc=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,n=arguments.length>1?arguments[1]:void 0,r=this;Object(c.a)(this,e),Object(u._)(this,"_dlpDataSanitizer",void 0),Object(u._)(this,"sanitizeWS",(function(e,t){return e.writer((function(e){return t(r._dlpDataSanitizer.sanitizeMessage(e))}))})),Object(u._)(this,"sanitizeStaticWS",(function(e,t){return e.writer((function(e){return t(r._dlpDataSanitizer.sanitizeStaticMessage(e))}))})),Object(u._)(this,"sanitizeWSHandler",(function(e){return new bc(e,r._dlpDataSanitizer)})),this._dlpDataSanitizer=new gc(t,n)},yc=n("ZbAF"),Oc=n("iHcv"),_c=n("G9KH"),Cc=n("VzV2"),wc=n("000W"),Sc=n("nJ/j"),kc=n("D2TP"),Ec=function(){function e(t,n,r,i,a,o,s,l,d,p){var m=this;Object(c.a)(this,e),Object(u._)(this,"_documentId",void 0),Object(u._)(this,"_checkingDomain",void 0),Object(u._)(this,"_mutedCategoriesModel",void 0),Object(u._)(this,"_context",void 0),Object(u._)(this,"_isFree",void 0),Object(u._)(this,"_alertCache",void 0),Object(u._)(this,"_scoresCache",void 0),Object(u._)(this,"_mutedCategoriesCache",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"_subs",void 0),Object(u._)(this,"saveScores",void 0),Object(u._)(this,"_saveMutedCategories",void 0),this._documentId=t,this._checkingDomain=r,this._mutedCategoriesModel=i,this._context=o,this._isFree=s,this._alertCache=l,this._scoresCache=d,this._mutedCategoriesCache=p,this._log=T.d.Logging.getLogger("CacheManager"),this.saveScores=function(e){return m._scoresCache.save(m._documentId,m._context.get(),m._isFree,e)},this._saveMutedCategories=function(e){m._mutedCategoriesCache.save("mutedCategoriesDocumentId","mutedCategoriesContextId",m._isFree,Array.from(e.values()))},this._subs=[n.view((function(e){return"idle"===e})).pipe(x.a.switchMap((function(e,t){return e?x.a.mergeStatic(x.a.of("update"),a.pipe(x.a.skip(1),x.a.mapTo("update"),x.a.auditTime(1500))):0===t?x.a.EMPTY:x.a.of("clear")}))).subscribe((function(e){switch(e){case"clear":return m._alertCache.remove(m._documentId);case"update":return m.saveAlerts(m._getCacheableAlerts());default:return Object(bt.c)(e)}})),this._checkingDomain.lensesScores.pipe(x.a.auditTime(3e3),x.a.map(Object(b.flow)(Sc.H(kc.a.Id.ord),wc.V(Object(b.flow)(O.g.fromPredicate((function(e){return Object(f._)(e,1)[0]!==kc.a.SpecialId.Plagiarism})),O.g.map((function(e){var t=Object(f._)(e,2);return{lensId:t[0],score:t[1]}}))))))).subscribe(this.saveScores),this._mutedCategoriesModel.events.pipe(x.a.filter(tr.a.CategoriesModel.Events.isChangedEvent),x.a.tap((function(){m._saveMutedCategories(m._mutedCategoriesModel.mutedCategories.get())}))).subscribe()]}return Object(l.a)(e,[{key:"getCorrectAlerts",value:function(e,t){var n=this;return Object(ce.pipe)(this._alertCache.load(this._documentId,this._context.get(),this._isFree),O.g.fromNullable,O.g.tap((function(e){return n._log.isEnabled(T.a.LogLevel.TRACE)&&n._log.trace("loaded alerts from cache: ",e)})),O.g.map((function(t){return t.filter((function(t){return Wn.a.isHighlightValid(t,e)}))})),O.g.map((function(e){return[e,e.map(jc(t))]})),O.g.tap((function(e){var t=Object(f._)(e,2),r=t[0],i=t[1];n._logChangedOfMutedState(r,i),n._logDuplicates(r,"save")})),O.g.map(Nn.d))}},{key:"getScores",value:function(){return Object(ce.pipe)(O.g.fromNullable(this._scoresCache.load(this._documentId,this._context.get(),this._isFree)),O.g.filter(wc.tb),O.g.map((function(e){return new Map(e.map((function(e){return[e.lensId,e.score]})))})))}},{key:"getMutedCategories",value:function(){var e=this._mutedCategoriesCache.load("mutedCategoriesDocumentId","mutedCategoriesContextId",this._isFree);return Object(ce.pipe)(O.g.fromNullable(e),O.g.map((function(e){return new Map(e.map((function(e){return[e.id,e]})))})))}},{key:"saveAlerts",value:function(e){this._logDuplicates(e,"save"),this._alertCache.save(this._documentId,this._context.get(),this._isFree,e)}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_logDuplicates",value:function(e,t){var n=new Map,r=e.reduce((function(e,t){if(!Qt.A.hasPosition(t))return e;var r=function(e){return"".concat(e.pname,"_").concat(e.begin,"_").concat(e.end)}(t);if(n.has(r)){var i=n.get(r);e.push({existing:{begin:i.begin,end:i.end,pname:i.pname},duplicate:{begin:t.begin,end:t.end,pname:t.pname}})}return n.set(r,t),e}),[]);r.length&&this._log.info("Found duplicates in cache on ".concat(t),r)}},{key:"_logChangedOfMutedState",value:function(e,t){var n=[];e.length!==t.length&&T.d.Logging.getLogger("CacheManager").warn("Cannot calculate change of mute state"),e.forEach((function(e,r){var i=t[r];i.muted!==e.muted&&n.push({range:Qt.A.hasPosition(e)?{begin:e.begin,end:e.end,pname:e.pname}:{pname:e.pname},was:e.muted,now:i.muted})})),n.length&&T.d.Logging.getLogger("CacheManager").info("Muted state was changed on load from cache",n)}},{key:"_getCacheableAlerts",value:function(){return Object(ce.pipe)(this._checkingDomain.state.get(),nn.a.reduce([],(function(e,t){return en.a.isCacheable(t.alert)&&e.push(t.alert.toLocalRawAlert()),e})))}}]),e}(),jc=function(e){return function(t){return Object(ce.pipe)(O.g.fromNullable(t.cardLayout.userMuteCategory),O.g.alt((function(){return Object(ce.pipe)(Array.from(e.keys()),wc.U(tr.a.Category.isSpecial),wc.Y(Qt.A.belongsToSpecialCategory(t)))})),O.g.fold((function(){return t}),(function(n){var r=t.muted,i=Object(wt._)(t,["muted"]);return e.has(n)?Object(m._)(Object(p._)({},i),{muted:Jt.a.MutedAlerts.MutedByType.MUTED_BY_USER}):Object(m._)(Object(p._)({},i),{muted:void 0===r?void 0:Jt.a.MutedAlerts.MutedByType.NOT_MUTED})})))}};function xc(e,t){var n=function(e){const t=t=>{e.next(t)};return{onSessionStarted:t,onWaitForOT:t,onReady:t,onSessionInbound:t,beforeAlert:t,onAlert:t,onRemove:t,onChange:t,onSynonyms:t,onPlagiarism:t,onTextInfo:t,onEmotions:t,onBeforeAsyncCheckFinish:t,onAsyncCheckFinish:t,onError:t,onBeforeFinish:t,onFinish:t,onConnect:t,onDisconnect:t,onQueueMsgDropped:t,onAck:t,onPong:t,onMessageReceived:t,onMessageSent:t,onAutoComplete:t,onAttentionHeatmap:t,onAttentionInfo:t,onProofitAvailability:t,onProofitCancelled:t,onProofitCompleted:t,onProofitProgress:t,onProofitProgressProblem:t,onProofitSubmit:t,onShortenItFinished:t,onSDUI:t,onGbRuleCreated:t,onReconnectInfo:t,onShowSurvey:t}}(e),r=new x.a.Subject;return r.pipe(x.a.debounceTime(1e3),x.a.distinctUntilChanged()).subscribe((function(e){return t.setState({type:"wsCapi",state:{type:e}})})),Object(m._)(Object(p._)({},n),{onFinish:function(e){r.next("online"),n.onFinish&&n.onFinish(e)},onDisconnect:function(e){e.reason.code===_.a.WsCodes.UNAUTHORIZED?r.next("unauthorized"):(e.reconnectCounter>1||O.b.isLeft(e.reconnectResult))&&r.next("offline"),n.onDisconnect&&n.onDisconnect(e)}})}var Ac=n("pFSi"),Ic=n("5FCM"),Tc=n("uXag"),Mc=n("K+fu"),Pc=function(){function e(t,n,r,i,a){Object(c.a)(this,e),Object(u._)(this,"_storage",void 0),Object(u._)(this,"_sendStorageMessage",void 0),Object(u._)(this,"_canSaveEntryToStorage",void 0),Object(u._)(this,"getCAPIWSMessageSizeLimit",void 0),Object(u._)(this,"_monitoringHandler",void 0),Object(u._)(this,"_guardStorageServerMessage",void 0),this._storage=t,this._sendStorageMessage=n,this._canSaveEntryToStorage=r,this.getCAPIWSMessageSizeLimit=i,this._monitoringHandler=a,this._guardStorageServerMessage=Tr.a(dc.Schemable)(Fn.d.ServerMessageImplementations)}return Object(l.a)(e,[{key:"handleMessage",value:function(e){return this._guardStorageServerMessage.is(e)?(this._handleStorageMessage(e),!0):!!Fn.a.is(e)}},{key:"_handleStorageMessage",value:function(e){var t=this;switch(e.action){case"storage:get":return Object(b.pipe)(this._storage.get(Object(m._)(Object(p._)({},e),{maxResponseSize:Object(b.pipe)(this.getCAPIWSMessageSizeLimit(),lc.map((function(e){return e-1e3})),lc.toUndefined)})),Ic.B((function(n){return Object(b.pipe)(t._sendStorageMessage({id:e.id,action:"storage:entries",data:n.entries}),Ic.p((function(e){return new Tc.a("Error sending storage:entries",e)}),(function(){return{data:n}})))})),Ac.map(cc.fold((function(n){return t._monitoringHandler.onStorageGetError({request:e,error:n})}),(function(n){var r=n.data;t._monitoringHandler.onStorageGetSuccess({request:e,entriesCount:r.entries.length,entriesDropped:r.entriesDropped})}))))().catch((function(n){return t._monitoringHandler.onStorageGetError({request:e,error:new Tc.a("Promise rejection",n)})}));case"storage:clear":return Object(b.pipe)(this._storage.clear(e),Ac.map(cc.fold((function(n){return t._monitoringHandler.onStorageClearError({request:e,error:n})}),(function(){return t._monitoringHandler.onStorageClearSuccess({request:e})}))))().catch((function(n){return t._monitoringHandler.onStorageClearError({request:e,error:new Tc.a("Promise rejection",n)})}));case"storage:save":return this._canSaveEntryToStorage.catch((function(){return!1})).then((function(n){return n?Object(b.pipe)(t._storage.save(e),Ac.map(cc.fold((function(n){return t._monitoringHandler.onStorageSaveError({request:e,error:n})}),(function(){return t._monitoringHandler.onStorageSaveSuccess({request:e,bytesCount:Object(Mc.a)(e.data)})}))))().catch((function(n){return t._monitoringHandler.onStorageSaveError({request:e,error:new Tc.a("Promise rejection",n)})})):t._monitoringHandler.onCannotSaveEntry({request:e})}));default:return Object(b.absurd)(e)}}}]),e}();function Nc(e,t,n){return Object(b.pipe)(O.l.tryDelay(e.enqueueExternalCommand(n),(function(e){return!0===Jt.a.NotConnectedError.isNotConnectedError(e)?lc.some(function(e){return Object(b.pipe)(e,x.a.filter(Jt.a.CAPIEvent.is("session_started")),x.a.take(1),x.a.map(b.constVoid),A.b.toTask)}(t)):lc.none}),1e4),Object(zt.h)([Yn.limitRetries(2),Yn.exponentialBackoff(200)],Object(z.p)(Jt.a.DroppedError.isDroppedError,Jt.a.TimeoutError.isTimeoutError)))}var Bc=n("3fSS");var Lc,Fc=n("4UH3"),Rc=n("fr9z");(Lc||(Lc={})).create=function(e){var t=new x.a.Subject;function n(e){t.next(Gn.a.flush()),t.next(e)}return{changes:t,insertLink:function(t,r){return O.b.tryCatchError((function(){n(Gn.a.delta((new pc.a).retain(t.start).retain(Rc.b.size(t),Object(u._)({},V.e.Type.link,r)),e.getTextLength()))}))},insertLinkWithCaption:function(t,r,i){return Object(ce.pipe)(O.b.tryCatchError((function(){n(Gn.a.delta((new pc.a).retain(t).insert(i,Object(u._)({},V.e.Type.link,r)),e.getTextLength()))})))},removeLink:function(t){return O.b.tryCatchError((function(){n(Gn.a.delta((new pc.a).retain(t.start).retain(Rc.b.size(t),Object(u._)({},V.e.Type.link,null)),e.getTextLength()))}))},pushChanges:t.next.bind(t)}};var Dc,Hc=n("xTTF"),Vc={supportedComponents:(Dc={},Object(u._)(Dc,"text",!0),Object(u._)(Dc,"clickableText",!0),Object(u._)(Dc,"button",!0),Object(u._)(Dc,"alternativeChoice",!0),Object(u._)(Dc,"count",!0),Object(u._)(Dc,"icon",!0),Object(u._)(Dc,"block",!0),Object(u._)(Dc,"box",!0),Object(u._)(Dc,"row",!0),Object(u._)(Dc,"column",!0),Object(u._)(Dc,"slider",!0),Object(u._)(Dc,"alternativeSlider",!0),Object(u._)(Dc,"transition",!0),Object(u._)(Dc,"openSettings",!0),Object(u._)(Dc,"openToneDetector",!0),Object(u._)(Dc,"openFeedback",!0),Object(u._)(Dc,"openLearnMore",!1),Object(u._)(Dc,"notify",!0),Object(u._)(Dc,"closeCard",!0),Object(u._)(Dc,"nextCard",!0),Object(u._)(Dc,"prevCard",!0),Object(u._)(Dc,"selectAlternative",!0),Object(u._)(Dc,"upgradeToPremium",!0),Object(u._)(Dc,"strongAlertRef",!0),Object(u._)(Dc,"openLink",!0),Object(u._)(Dc,"scroll",!0),Object(u._)(Dc,"list",!0),Object(u._)(Dc,"image",!0),Object(u._)(Dc,"assistantFeed",!0),Object(u._)(Dc,"assistantCard",!0),Object(u._)(Dc,"gButton",!0),Object(u._)(Dc,"gButton:default",!1),Object(u._)(Dc,"gButton:tone",!1),Object(u._)(Dc,"gButton:proofit",!1),Object(u._)(Dc,"gButton:get-started",!1),Object(u._)(Dc,"nativePerformanceScoreButton",!1),Object(u._)(Dc,"stopApplyingAlerts",!1),Object(u._)(Dc,"alertsCount",!0),Object(u._)(Dc,"applyAlerts",!0),Object(u._)(Dc,"removeAlerts",!0),Object(u._)(Dc,"removeRoot",!0),Object(u._)(Dc,"nativeToneInsightsModal",!1),Object(u._)(Dc,"nativeLearnMoreModal",!1),Object(u._)(Dc,"nativeSettingsModal",!1),Object(u._)(Dc,"nativeFeedbackModal",!1),Object(u._)(Dc,"viewStack",!0),Object(u._)(Dc,"switchView",!0),Object(u._)(Dc,"dropDownMenuButton",!0),Object(u._)(Dc,"radioButtonsGroup",!0),Object(u._)(Dc,"proofitButton",!1),Object(u._)(Dc,"nativeProofitModal",!1),Object(u._)(Dc,"nativeKeyTakeawaysAssistantCard",!1),Object(u._)(Dc,"nativeExperimentalGBConsistencyUpsellFooter",!1),Object(u._)(Dc,"nativeExperimentalGBToneInsightsUpsellFooter",!1),Object(u._)(Dc,"nativeSkillsModal",!1),Object(u._)(Dc,"openCreateSnippetModal",!1),Object(u._)(Dc,"showHighlights",!1),Object(u._)(Dc,"hideHighlights",!1),Object(u._)(Dc,"pushAssistantFeed",!0),Object(u._)(Dc,"popAssistantFeed",!0),Object(u._)(Dc,"focusAssistantCard",!0),Object(u._)(Dc,"lensesSwitchPanel",!0),Object(u._)(Dc,"newRevision",!1),Object(u._)(Dc,"longFormCard",!0),Object(u._)(Dc,"collapsedCard",!0),Object(u._)(Dc,"inlineCard",!1),Object(u._)(Dc,"nativeSkillsList",!1),Object(u._)(Dc,"nativeSkillsView",!1),Object(u._)(Dc,"nativeGetStartedChecklistModal",!1),Object(u._)(Dc,"nativeInlineCardContent",!1),Object(u._)(Dc,"nativeOpenAssistant",!1),Object(u._)(Dc,"behavior:strongAlertRef",!0),Object(u._)(Dc,"behavior:animation:fadeIn",!0),Object(u._)(Dc,"behavior:animation:fadeOut",!0),Object(u._)(Dc,"behavior:popoverAnchor",!1),Object(u._)(Dc,"behavior:lifecycle",!0),Object(u._)(Dc,"progressBar",!0),Object(u._)(Dc,"highlightAlert",!0),Object(u._)(Dc,"horizontalRule",!0),Object(u._)(Dc,"copyToClipboard",!1),Object(u._)(Dc,"popoverStack",!1),Object(u._)(Dc,"closePopover",!1),Object(u._)(Dc,"interactPopover",!1),Object(u._)(Dc,"openGrammarlyGo",!1),Object(u._)(Dc,"tooltip",!0),Object(u._)(Dc,"gButton:plagiarism",!1),Object(u._)(Dc,"enablePlagiarismCheck",!1),Object(u._)(Dc,"disablePlagiarismCheck",!1),Object(u._)(Dc,"selectableDropDownMenu",!0),Object(u._)(Dc,"globalPart",!1),Object(u._)(Dc,"openPerformanceScore",!1),Object(u._)(Dc,"shortFormCard",!1),Object(u._)(Dc,"nativeOpenUserSatisfactionFeedback",!1),Dc),dslParser:kn.a.dslRootParser,dslSchemaVersion:Sn.c.version},Uc=n("Gouu"),Wc=function(){function e(t,n,r,i,a,o,s,l,d,p,m,h,g,v,_,C,w,S,k,E,j,x,A,I,M,P,N){var B=this;Object(c.a)(this,e),Object(u._)(this,"obsCapiClient",void 0),Object(u._)(this,"latestCAPIMessageByActionName",void 0),Object(u._)(this,"_remoteDocument",void 0),Object(u._)(this,"sessionModel",void 0),Object(u._)(this,"positionManager",void 0),Object(u._)(this,"alternativeManager",void 0),Object(u._)(this,"checkingDomain",void 0),Object(u._)(this,"alertsService",void 0),Object(u._)(this,"alertsReader",void 0),Object(u._)(this,"alertsRepository",void 0),Object(u._)(this,"synonymsModel",void 0),Object(u._)(this,"plagiarismModel",void 0),Object(u._)(this,"formattingModel",void 0),Object(u._)(this,"emotionsModel",void 0),Object(u._)(this,"sduiService",void 0),Object(u._)(this,"mutedAlertsModel",void 0),Object(u._)(this,"mutingAlertsReader",void 0),Object(u._)(this,"hasAlertsCache",void 0),Object(u._)(this,"_sduiFactory",void 0),Object(u._)(this,"_sduiFeedFactory",void 0),Object(u._)(this,"rangeChanged",void 0),Object(u._)(this,"_onShutdown",void 0),Object(u._)(this,"_capiConnection",void 0),Object(u._)(this,"_doxConnection",void 0),Object(u._)(this,"_capiWatcher",void 0),Object(u._)(this,"_doxSyncManager",void 0),Object(u._)(this,"_capiConManager",void 0),Object(u._)(this,"sduiFeedManager",void 0),Object(u._)(this,"sduiManager",void 0),Object(u._)(this,"resetSDUI",void 0),this.obsCapiClient=t,this.latestCAPIMessageByActionName=n,this._remoteDocument=r,this.sessionModel=i,this.positionManager=a,this.alternativeManager=o,this.checkingDomain=s,this.alertsService=l,this.alertsReader=d,this.alertsRepository=p,this.synonymsModel=m,this.plagiarismModel=h,this.formattingModel=g,this.emotionsModel=v,this.sduiService=_,this.mutedAlertsModel=C,this.mutingAlertsReader=w,this.hasAlertsCache=S,this._sduiFactory=k,this._sduiFeedFactory=E,this.rangeChanged=j,this._onShutdown=x,this._capiConnection=A,this._doxConnection=I,this._capiWatcher=M,this._doxSyncManager=P,this._capiConManager=N,this.sduiFeedManager=O.g.none,this.sduiManager=O.g.none,this.resetSDUI=function(e,t){return function(){T.d.Logging.getLogger("StEngine").debug("resetting SDUI managers, reason: ".concat(t)),Object(b.pipe)(O.g.sequenceT(B.sduiFeedManager,B.sduiManager),O.g.tapLeft((function(){var e=B._sduiFactory();B.sduiManager=Object(b.pipe)(e,O.g.map((function(e){return y.a.create(e)}))),Object(b.pipe)(B._sduiFeedFactory(e),O.g.tap((function(e){B.sduiFeedManager=O.g.some(y.a.create(e))})))})),O.g.tap((function(t){var n=Object(f._)(t,2),r=n[0],i=n[1];r.get().dispose(),"full"===e&&(i.get().dispose(),Object(b.pipe)(B._sduiFactory(),O.g.map((function(e){return i.set(e)})))),Object(b.pipe)(B._sduiFeedFactory(Object(b.pipe)(B.sduiManager,O.g.map((function(e){return e.get()})))),O.g.tap((function(e){r.set(e)})))})))}},this.resetSDUI("full","engine init")()}return Object(l.a)(e,[{key:"shutdown",value:function(){var e=this;return Object(Kt.a)((function(){return Object($t.c)(this,(function(t){switch(t.label){case 0:return T.d.Logging.getLogger("StEngine").debug("shutdown"),e._onShutdown(),[4,e._capiConnection.close(void 0,"StEngine shutdown")];case 1:return t.sent(),[4,e._doxConnection.close(void 0,"StEngine shutdown")];case 2:return t.sent(),e._doxSyncManager&&e._doxSyncManager.dispose(),null!=e._capiConManager&&e._capiConManager.dispose(),e.plagiarismModel.dispose(),e.checkingDomain.dispose(),e._capiWatcher.dispose(),e.sessionModel.dispose(),Object(b.pipe)(e.sduiManager,O.g.map((function(e){return e.get().dispose()}))),Object(b.pipe)(e.sduiFeedManager,O.g.map((function(e){return e.get().dispose()}))),Object(b.pipe)(e.emotionsModel,O.g.map((function(e){return e.dispose()}))),[2]}}))}))()}}],[{key:"create",value:function(t,n,r,i,a,o,s,c,l,d,h,g,v,_){var C=new rn.a.Keeper;o.setState({type:"wsDox",state:{type:"online"}});var w=l.features.denali.supportUkraineCardAppearanceLimit,S="Style/Sensitivity/SupportUkraine/WarLanguage",k=function(e){return"alert_received"===e.kind&&e.alert.pname===S||"message_received"===e.kind&&"alert"===e.message.action&&e.message.pname===S},E=new x.a.Subject,j=E.pipe(x.a.withLatestFrom(l.settings.supportUkraineCardAppearanceCount),x.a.filter((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return!k(n)||r<w})),x.a.map(Nn.b),x.a.tap((function(e){"alert_received"===e.kind&&k(e)&&l.settings.supportUkraineCardSeen()})),x.a.share()),A=x.a.raceStatic(j.pipe(x.a.skipWhile((function(e){return"session_inbound"!==e.kind})),x.a.scan((function(e,t){return"alert_received"===t.kind?e+1:e}),0),x.a.skipUntil(x.a.timer(12e4).pipe(x.a.take(1)))),j.pipe(x.a.filter((function(e){return"finish"===e.kind})))).pipe(x.a.switchMap((function(e){return"number"==typeof e?x.a.of(e):x.a.EMPTY})),x.a.take(1));C.push(E.pipe(x.a.filter((function(e){return"session_inbound"===e.kind})),x.a.take(1)).subscribe((function(){return Object(yc.a)("capiSessionInbound")})),A.subscribe((function(e){return Ae.warn("CAPI finish didn't happen within timeout",{suggestionsReceived:e,timeout:12e4})})));var I,M,P=Object(b.pipe)(l.settings.dialect.get(),O.g.getOrElse((function(){return"undefined"}))),B=me.DocumentFeatures.getFormattingMode(t.meta.originalFilename,t.meta.createdAt,l.features.denali),L=new Dn.a(Jt.a.MAX_SAFE_ID,0,!1),F=new Jt.a.AccessTokenWSHandler(l.features.denali.dlp?(I=new vc(O.g.toUndefined(Oc.b.getDLPConfig(l)),[Ln.a.Message])).sanitizeWSHandler(new Jt.a.LatencyMeasuringWSHandler(I.sanitizeWS(Hn.b.create(v),Jt.a.optimizedOTSerializer),L,10)):new Jt.a.LatencyMeasuringWSHandler(Hn.b.create(v).writer(Jt.a.optimizedOTSerializer),L,10),g),R=l.features.denali.sdui,D=l.features.denali.oggy,H=R?{sduiConfig:Vc,shouldSendFeedback:function(e){return!0!==rr.disabledFeedbacks.some((function(t){return t===e.kind}))||"subtype"in e&&e.subtype===Jt.a.FeedbackSubtype.Vbar}}:{shouldSendFeedback:b.constTrue},V=new Jt.a.CAPIConnection(Object(p._)({client:d.names.capi,clientVersion:d.buildVersion.toString(),context:Object(b.pipe)(t.meta.settings.context,O.g.getOrElse((function(){return Vn.a.unset}))),handler:xc(E,o),docid:c,dialect:P,clientSupports:(M=[Rn.a.textInfo,Rn.a.freeAdvancedChecks,Rn.a.readability,Rn.a.sentenceVariety,Rn.a.fillerWords,Rn.a.alertsUpdate,Rn.a.alertsChanges,Rn.a.freeClarityChecks,Rn.a.superAlerts,Rn.a.consistency,Rn.a.setGoalsLink,Rn.a.voxCheck,Rn.a.toneCards,Rn.a.plagiarismAlertsUpdate,Rn.a.alternativeDeletesCard,Rn.a.fullSentenceRewrite,Rn.a.listCard,Rn.a.muteQuotedAlerts,Rn.a.userMutes,Rn.a.supportsButtonTransformCards,Rn.a.gapTransformCard,Rn.a.enclosingHighlight,Rn.a.drilldownCard,Rn.a.ideasGalleryLink,Rn.a.freeOccasionalPremiumAlerts,Rn.a.ethicalAI,Rn.a.citations,Rn.a.citation_detection_card,Rn.a.citation_gap,Rn.a.toneAI],l.features.denali.toneDetector&&M.push(Rn.a.emogenieCheck),B===me.DocumentFeatures.FormattingMode.on&&M.push(Rn.a.supportsFormatting),l.features.denali.cheetah&&M.push(Bn.b),l.features.denali.backendManagedStorageEnabled&&void 0!==_&&M.push(Fn.b),l.features.denali.writingExpertVbarsEnabled&&M.push(Rn.a.vbarAlerts),M),isDemoDoc:t.meta.isDemoDocument,idGenerator:L},H),(function(e){return e.connect(r.api.capiWsUrl)}),F),U=new qn(j,V.client,s,V),W=new Xn(j,U);if(Object(z.r)("capi",V.client),l.features.denali.backendManagedStorageEnabled&&void 0!==_){var G=_.getStorageInstanceForUser(l.email),q=G.instance,K=G.setupErrors,$=G.canSaveToStorage;C.push(K.subscribe((function(e){return T.d.Logging.getLogger("BackendManagedStorage.Setup").warn(String(e),e)}))),C.push(q),C.push(function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.d.Logging.getLogger("BackendManagedStorage.CAPIMessageHandler"),o=function(){var e=s.filter((function(e){return"storage:get"===e.request.action})),t=s.filter((function(e){return"storage:save"===e.request.action}));e.length>0&&a.info("storage:get success aggregate",{eventsCount:e.length,averageEntryCount:e.reduce((function(e,t){return e+t.entriesCount}),0)/e.length,averageEntriesDropped:e.reduce((function(e,t){return e+t.entriesDropped}),0)/e.length}),t.length>0&&a.info("storage:save success aggregate",{eventsCount:t.length,averageBytesCount:t.reduce((function(e,t){return e+t.bytesCount}),0)/t.length}),s.splice(0,s.length)},s=[],c={onCannotSaveEntry:function(e){return a.warn("storage:save not allowed",{key:e.request.key})},onStorageGetError:function(e){return a.warn("storage:get error "+String(e.error),e.error,{keyPrefixes:e.request.keyPrefixes})},onStorageSaveError:function(e){return a.warn("storage:save error "+String(e.error),e.error,{key:e.request.key})},onStorageClearError:function(e){return a.warn("storage:clear error "+String(e.error),e.error,{keyPrefixes:e.request.keyPrefixes})},onStorageGetSuccess:function(e){s.push(e),e.entriesDropped>0&&a.warn("storage:get data dropped",{entriesDropped:e.entriesDropped,keyPrefixes:e.request.keyPrefixes})},onStorageSaveSuccess:function(e){return s.push(e)},onStorageClearSuccess:function(e){return a.info("storage:clear success",{keyPrefixes:e.request.keyPrefixes})}},l=new Pc(n,(function(n){return Object(b.pipe)(Nc(t,e,(function(){return n})),O.l.map((function(){})))}),r,i,c);return t.registerExternalMessageHandler((function(e){return l.handleMessage(e)?Jt.a.ExternalHandler.Result.STOP_HANDLING:Jt.a.ExternalHandler.Result.CONTINUE_HANDLING})),{dispose:function(){return o()}}}(j,W,q,$,(function(){return V.maxWsMessageSize})))}var Z,Y=e._getDocumentModel(c,t,s,W.requestDocStats,a,l.features,B),X=new qt(Y,t,n,h.outgoingChanges),Q=Y.context.view((function(e){return(Boolean(e.domain)?e.domain:"_default_")+"."+P})),J=new _c.a((function(e){return e.filter((function(e){return Qt.A.isRawAlert(e)}))}),(function(e){return e}),"DN-"+r.alertCache.prefix,r.alertCache.version,jr.c.DenaliStorage.fromLocalStorage(jr.c.ls),12096e5),ee=new _c.a((function(e){return e}),(function(e){return e}),r.outcomeScoreCache.prefix,r.outcomeScoreCache.version,jr.c.DenaliStorage.fromLocalStorage(jr.c.ls),12096e5),te=new _c.a(b.identity,b.identity,r.mutedCategoriesCache.prefix,r.mutedCategoriesCache.version,jr.c.DenaliStorage.fromLocalStorage(jr.c.ls),12096e5),ne=Q.get(),re=l.features.isFree.get(),ie=!R&&J.hasCache(c,ne,re)&&ee.hasCache(c,ne,re),ae=new $n(W,j,Y,ie,t.initialDelta.length),oe=new Kn(j,(Z=new Set,"off"!==l.features.denali.recordCapiMessages&&Z.add("captureCapiMessages"),Z)),se=new Zn.b(ae,j,Y,l.settings,i),ce=y.a.create({});se.registerExternalMessageHandler((function(e){return ce.modify((function(t){return Object(m._)(Object(p._)({},t),Object(u._)({},e.action,e))})),Jt.a.ExternalHandler.Result.CONTINUE_HANDLING}));var le=l.features.denali.useTransformJson?Wn.a.Transform.identity:Wn.a.Transform.forcePositionOverTransformJson,ue=O.g.none,de=function(){return Object(b.pipe)(ue,O.g.fold((function(){return t.initialDelta.delta}),(function(e){return e()})))},pe=Object(zn.a)(de,le,se,j,Y.counters),fe=pe.alertManager,he=pe.alertsService,ge=pe.alertsReader,be=pe.alertsRepository,ve=pe.positionManager,ye=pe.altManager;Object(z.r)("alertManager",fe);var Oe=new Uc.b(ve,de,se,s),_e=Object(b.pipe)(O.g.fromNullable(Y.rtfMode===N.d.DocumentFeatures.FormattingMode.on),O.g.filter(Boolean),O.g.map((function(){return Lc.create(s)}))),Ce=new Hc.b(Y,j,se),we=l.features.denali.toneDetector?O.g.some(Fc.b.create(j,se,T.d.Logging.getLogger("EmotionsModel"))):O.g.none,Se=er.UserTextChangesSync.create(s),ke=Object(b.pipe)(_e,O.g.fold((function(){return[fe,Oe]}),(function(e){return[fe,Oe,e]})));C.push(er.init(Se,j,Qn.ignoreTEResult(se),Qn.ignoreResult(Qn.pushDeleteThenInsert(ve)),ye,Jn.merge(ke)).subscribe(e._getChangesDispatcherFailHandler()));var Ee=tr.a.CategoriesModel.create(j,se,fe.state,he,l.features.demoMode?Jt.a.MutedAlerts.ScopeType.DOCUMENT:Jt.a.MutedAlerts.ScopeType.GLOBAL),je=Object(b.pipe)(l.features.denali.mutedAlerts,O.g.fromPredicate(b.identity),O.g.map((function(){return nr.a.create(ge)}))),xe=new Ec(c,Y.checkingState,fe,Ee,Y.counters.view("unread"),Q,re,J,ee,te),Ae=T.d.Logging.getLogger("StEngine");try{Object(b.pipe)(xe.getMutedCategories(),O.g.tap((function(e){Ae.debug("Loading muted alerts categories from cache..."),Ee.loadCachedMutedCategories(e)}))),R||Object(b.pipe)(xe.getCorrectAlerts(O.b.unsafeGet(t.initialDelta.text),Ee.mutedCategories.get()),O.g.tap((function(e){Ae.debug("Loading alerts from cache..."),fe.loadAlerts(e),Ae.debug("".concat(e.length," cached alert(s) where loaded")),fe.flushAlerts(),Object(b.pipe)(xe.getScores(),O.g.tap((function(e){return fe.loadScores(e)})))})))}catch(e){Ae.warn("Cannot read alerts OR muted categories cache",e)}ue=O.g.some((function(){return s.getContents().delta}));var Ie=O.g.none,Te=Object(b.constant)(O.g.none),Me=Object(b.constant)(O.g.none);R&&!D&&(Ie=O.g.some(new Xt(se)),Te=function(){var e=new vn(fe.state,E,be.getByRawAlertId.bind(be));return Object(z.r)("sduiManager",e),O.g.some(e)},Me=function(e){return Object(b.pipe)(e,O.g.map((function(e){var t=new Mn(e.state);return Object(z.r)("sduiFeedManager",t),t})))});var Pe=new x.a.Subject,Ne=new e(se,ce,t.remoteDocument,Y,ve,ye,fe,he,ge,be,Oe,Ce,_e,we,Ie,Ee,je,ie,Te,Me,Pe,(function(){return C.dispose()}),V,t.remoteConnection,oe,X,U);return D||C.push(E.pipe(x.a.filter(Jt.a.CAPIEvent.is("connect")),x.a.skip(1),x.a.tap(Ne.resetSDUI("full","CAPI reconnect"))).subscribe()),Object(z.r)("engine",Ne),Object(z.r)("text",(function(){ae.getText().then((function(e){var t=s.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)})).catch((function(e){throw e}))})),Ne}},{key:"_getDocumentModel",value:function(e,t,n,r,i,a,o){return new Bc.b(e,t,n,r,i,a.enableTrackingOnDownload.get(),o,(function(e){return Object(b.pipe)(a.proofitTest,O.g.fold((function(){return new Cc.b(t.remoteDocument,e)}),(function(e){return new Cc.a.Mock(e,a.proofitLastJob)})))}))}},{key:"_getChangesDispatcherFailHandler",value:function(){var e=T.d.Logging.getLogger("ChangesDispatcher");return function(t){"UnsubscriptionError"===t.exception.name?e.warn("shutdown error",t):t.details.to===er.Receiver.CAPI&&Boolean(zt.b.isNotConnectedError(t.exception))?e.warn("tried to send change to not connected CAPI",t):t.details.to===er.Receiver.CAPI&&Boolean(zt.c.isNotReadyError(t.exception))?e.warn("tried to send delta change to CAPI that expected a reset",t):t.details.to===er.Receiver.CAPI?e.warn("failed pushing changes to CAPI",t):e.error("can not dispatch changes",t.exception,t.details)}}}]),e}();Object(u._)(Wc,"getDoxInit",(function(e,t,n,r,i){var a=Un.a.Queue.create({acceptedMsgHandler:function(e){return r.acceptedMessage.next(e)},droppedMsgsHandler:function(e){return r.droppedMessages.next(e)}});return t.openDocumentById(e,function(e,t,n){var r,i=T.d.Logging.getLogger("DoxConnectivity");return{changeHandler:function(t,n){return e.dox.next({kind:"change",doc:t,change:n})},connectHandler:function(){i.debug("WS DOX connectivity online"),t.setState({type:"wsDox",state:{type:"online"}})},disconnectHandler:(r=Object(Kt.a)((function(e,n,r){var a;return Object($t.c)(this,(function(o){switch(i.debug("Disconnected from dox",{reason:e,reconnectStatus:n,reconnectResult:r}),a=function(e){O.b.isLeft(r)?i.debug("WS DOX connectivity error: ".concat(e)):i.debug("WS DOX connectivity error, reconnecting: ".concat(e)),t.setState({type:"wsDox",state:{type:e}})},e.code){case _.a.WsCodes.NOT_FOUND:a("documentNotFoundError");break;case _.a.WsCodes.UNAUTHORIZED:a("unauthorized");break;case _.a.WsCodes.BLOCKED_BY_CLIENT:a("blockedByClient");break;case _.a.WsCodes.CLIENT_MALFUNCTION:case _.a.WsCodes.PRECONDITION_FAILED:a("unknownConnectionError");break;default:n.iterNumber>=2?[0,_.a.WsCodes.UNKNOWN_WS_ERROR,_.a.WsCodes.CLOSED_ABNORMALLY].indexOf(e.code)>=0?a("unknownConnectionError"):a("serverError"):O.b.isLeft(r)&&a("serverError")}return[2]}))})),function(e,t,n){return r.apply(this,arguments)}),metadataChangeHandler:function(t,n){return e.dox.next({kind:"metadata_change",doc:t,documentMetadata:n})},updateTokenHandler:Object(b.pipe)(n,O.g.fromNullable,O.g.map((function(e){return Object(b.pipe)("function"==typeof e?e:Ac.of(e),O.l.fromTask,O.l.map(O.g.fromNullable))})),O.g.getOrElse((function(){return O.l.right(O.g.none)})))}}(r,n,i),a,5e3)}));var zc,Gc,qc=n("6o9b"),Kc=n("CA3N"),$c=n("Xnm7"),Zc=n("mTue"),Yc=n("5OZM"),Xc=n("JLFM"),Qc=n("osAs"),Jc=n("p81r"),el=n("TFiY"),tl=n("4Pfx"),nl=n("VOhR"),rl=n("LFoX"),il=n("s4G0"),al=n("KH+i"),ol=n("wdnv"),sl=n("4Fvf"),cl=n("aaNd"),ll=n("Gwvb"),ul=n("0IPU"),dl=n("B8sb"),pl=n("QYPR"),ml=n("/VNA"),fl=n("iUFV"),hl=n("8SdM"),gl=n("ftPv"),bl=n("fjQv"),vl=n("8h56"),yl=n("t/lG"),Ol=n("hzat"),_l=function(e,t,n,r,i,a){var o=a.getLogger("AlertService"),s=function(e){return Object(b.pipe)(n.getByRawAlertId(e.alertId),O.g.map((function(t){return[t,Object(m._)(Object(p._)({},e),{source:ue.c.forceSidebar})]})))},c=function(e){return Object(b.pipe)(s(e),O.g.map((function(e){var t=Object(f._)(e,1)[0];return{highlightIndex:0,source:ue.c.forceSidebar,alert:Ol.a.fromModel(t)}})))},l=function(e){return en.a.isRemovedByTextChange(e)?"textChange":"other"},u=function(e){return Object(b.pipe)(e,O.a.findFirst((function(e){return"emphasized"===e.visibility})),O.g.chain(c),O.g.filter((function(e){return Object(b.pipe)(r.get().selectedAlertHighlight,O.g.forAll((function(t){return!Ol.a.eq.equals(t.alert,e.alert)})))})),O.g.alt((function(){return r.get().selectedAlertHighlight})))};return{selectedAlertId:r.pipe(x.a.map((function(e){return e.selectedAlertHighlight})),x.a.filter(O.g.exists((function(e){return e.source===ue.c.forceText}))),x.a.skipBy(O.g.getEq(rl.a.eq)),x.a.map(Object(b.flow)(O.g.chain(i),O.g.toNullable))),alertCollectionChanges:e.state.pipe(x.a.pairwise(),x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return nn.a.diff(r,n)})),x.a.map(nn.a.Diff.toRegistered),x.a.map(an.a.reduce([],(function(e,t){return Object(b.pipe)(t.alert.rawId,O.g.tap((function(t){return e.push(Object(yl.a)(t))}))),e}),(function(e,t,n){return Object(b.pipe)(t.alert.rawId,O.g.tap((function(n){return e.push(Object(yl.b)(n,l(t)))}))),Object(b.pipe)(n.alert.rawId,O.g.tap((function(t){return e.push(Object(yl.a)(t))}))),e}),(function(e,t){return Object(b.pipe)(t.alert.rawId,O.g.tap((function(n){return e.push(Object(yl.b)(n,l(t)))}))),e}))),x.a.filter((function(e){return e.length>0}))),applyAlerts:Object(b.flow)(O.a.filterMap((function(e){return Object(b.pipe)(n.getByRawAlertId(e.alertId),O.g.map((function(t){return[t.id,{alternativeIndex:e.alternativeIndex,source:en.b.sidebar,feedbackSubtype:Jt.a.FeedbackSubtype.Sidebar}]})))})),O.l.traverseArray((function(e){var n=Object(f._)(e,2),r=n[0],i=n[1];return Object(b.pipe)(t.apply(r,i),O.l.fromEither)})),O.l.map(b.constVoid),O.l.toPromise),removeAlerts:Object(b.flow)(O.a.filterMap((function(e){return Object(b.pipe)(n.getByRawAlertId(e.alertId),O.g.map((function(t){return{alert:t,reason:e.removalReason}})))})),O.l.traverseArray((function(e){var r=e.alert;switch(e.reason){case"alertApplied":return Object(b.pipe)(vl.i(n.remove(r)),O.l.fromIO);case"other":default:return Object(b.pipe)(t.dismissBatch([r.id],Jt.a.FeedbackSubtype.Sidebar),O.l.fromEither)}})),O.l.map(b.constVoid),O.l.toPromise),setAlertsVisibility:function(e){var t=u(e);return o.debug("setAlertsVisibility",{alertsVisibilityInfo:e,selectedAlertHighlight:t}),r.modify((function(n){o.debug("setAlertsVisibility —> changeAlertsVisibility",{current:n.selectedAlertHighlight,next:t});var r=new Map(Object(b.pipe)(e,O.a.filterMap(s),O.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return[n.id,r]}))));return{selectedAlertHighlight:t,alertsVisibilityCollection:r}})),Promise.resolve()},updateAlertsVisibility:function(e){var t=u(e);return o.debug("updateAlertsVisibility",{alertsVisibilityInfo:e,selectedAlertHighlight:t}),r.modify((function(n){o.debug("updateAlertsVisibility —> changeAlertsVisibility",{current:n.selectedAlertHighlight,next:t});var r=Object(b.pipe)(e,O.a.filterMap(s),O.a.reduce(new Map(n.alertsVisibilityCollection),(function(e,t){var n=Object(f._)(t,2),r=n[0],i=n[1];return e.set(r.id,i)})));return{selectedAlertHighlight:t,alertsVisibilityCollection:r}})),Promise.resolve()}}},Cl=n("tTcu"),wl=function(){function e(){var t=this;Object(c.a)(this,e),Object(u._)(this,"_sduiCapiEvents",new x.a.Subject),Object(u._)(this,"_sduiSessionStartFinishEvents",new x.a.Subject),Object(u._)(this,"_sduiBufferedEvents",y.a.create([])),Object(u._)(this,"_log",T.d.Logging.getLogger("SduiBufferService")),Object(u._)(this,"traceEvent",(function(e){return JSON.stringify({kind:e.kind,rev:"sdui_remove"===e.kind?"unknown":e.rev,sduiRootId:e.sduiRootId})})),this._sduiCapiEvents.pipe(x.a.tap((function(e){return t._log.trace("sduiCapiEvent IN ".concat(t.traceEvent(e)))})),x.a.scan(Sl,zc.empty()),x.a.map((function(e){return Array.from(e.values())})),x.a.tap((function(e){return t._log.trace("sduiBuffer OUT:\n ".concat(e.map(t.traceEvent).join("\n")))}))).subscribe((function(e){return t._sduiBufferedEvents.set(e)}))}return Object(l.a)(e,[{key:"sduiBufferedEvents",get:function(){return this._sduiBufferedEvents}},{key:"capiEvents",get:function(){var e=x.a.concatStatic(x.a.from(this._sduiBufferedEvents.get()),this._sduiCapiEvents.pipe(Object(Cl.a)()));return x.a.mergeStatic(e,this._sduiSessionStartFinishEvents)}},{key:"pushCapiSduiEvent",value:function(e){this._sduiCapiEvents.next(e)}},{key:"pushStartFinishEvent",value:function(e){this._sduiSessionStartFinishEvents.next(e)}}]),e}();function Sl(e,t){return"sdui_remove"===t.kind?(e.delete(t.sduiRootId),e):(e.set(t.sduiRootId,Object(m._)(Object(p._)({},t),{kind:"sdui_add"})),e)}!function(e){e.empty=function(){return new Map}}(zc||(zc={})),function(e){e.empty=function(){return{bulk_accept:[],bulk_dismiss:[]}}}(Gc||(Gc={}));var kl,El,jl=n("EHAR");!function(e){var t;!function(e){e.empty=function(){return{selectedAlertHighlight:O.g.none,alertsVisibilityCollection:new Map}}}(t=e.AlertsVisibilityState||(e.AlertsVisibilityState={}));e.create=function(e,n,r,i,a,o,s,c){var l=c.getLogger("Manager"),u=function(e){return Object(b.pipe)(n.getByAlertId(e.alert.id),O.g.chain((function(e){return e.rawId})))},d=function(e,t){return function(n){return Object(b.pipe)(e,u,O.g.fold((function(){return l.warn("cannot set visibility to ".concat(t," for an unknown alert"),{alertHighlight:e})}),(function(r){return n.alertsVisibilityCollection.set(e.alert.id,{alertId:r,visibility:t})})))}},h=new rn.a.Keeper,g=y.a.create(t.empty()),v=new wl;h.push(s.pipe(x.a.filter(Object(z.p)(Jt.a.CAPIEvent.is("sdui_add"),Jt.a.CAPIEvent.is("sdui_update"),Jt.a.CAPIEvent.is("sdui_remove")))).subscribe((function(e){return v.pushCapiSduiEvent(e)})));var _,C=g.view("alertsVisibilityCollection").view((function(e){return function(t){return Object(b.pipe)(e.get(t.id),O.g.fromNullable,O.g.map((function(e){return"hidden"!==e.visibility})),O.g.getOrElse(b.constFalse))}})),w=bl.a.getInstance(),S=Object(gl.a)({capiService:i,lifecycleService:a,textEditorService:o,sduiService:{sduiItemCollectionChanges:(_=x.a.of(O.g.some(v)),x.a.mergeStatic(_.pipe(x.a.pairwise(),x.a.map((function(e){var t=Object(f._)(e,2),n=t[0];return t[1],lc.isSome(n)?lc.some(Object(jl.b)()):lc.none})),x.b.compact),_.pipe(x.a.switchMap(lc.fold((function(){return x.a.EMPTY}),(function(e){return e.capiEvents.pipe(x.a.filter(Object(z.p)(Jt.a.CAPIEvent.is("sdui_add"),Jt.a.CAPIEvent.is("sdui_update"),Jt.a.CAPIEvent.is("sdui_remove"))),x.a.map((function(e){switch(e.kind){case"sdui_add":return Object(jl.a)(e.sduiRootId,e.sdui);case"sdui_update":return Object(jl.d)(e.sduiRootId,e.sdui);case"sdui_remove":return Object(jl.c)(e.sduiRootId);default:return Object(b.absurd)(e)}})))}))))).pipe((function(e){return e.pipe(x.a.buffer(e.pipe(x.a.debounceTime(0))))}),x.a.filter((function(e){return e.length>0})))),supportedForms:["longForm"]},alertService:_l(e,r,n,g,u,l),monitoringService:{notify:w.notify.bind(w)}}),k=S.revisionEngine,E=S.dispose;return Object(z.r)("oggy",{get filter(){return C.get()},get selectedAlertHighlight(){return g.view("selectedAlertHighlight").get()},get visibilityCollection(){return g.view("alertsVisibilityCollection").get()}}),l.isEnabled(T.a.LogLevel.DEBUG)&&h.push(g.view("alertsVisibilityCollection").subscribe((function(e){l.debug("alertsVisibilityCollection change",e)})),g.view("selectedAlertHighlight").subscribe((function(e){l.debug("selectedAlertHighlight change",e)}))),{alertVisibilityFilter:C,revisionEngine:k,focusAlertHighlight:function(e){var t=g.get();g.modify((function(n){return d(e,"emphasized")(n),Object(b.pipe)(t.selectedAlertHighlight,O.g.tap((function(e){return d(e,"visible")(n)}))),l.debug("focusAlertHighlight",e),{selectedAlertHighlight:O.g.some(Object(m._)(Object(p._)({},e),{source:ue.c.forceText})),alertsVisibilityCollection:new Map(n.alertsVisibilityCollection)}}))},alertHighlightChanges:g.view("selectedAlertHighlight"),dispose:function(){E(),h.dispose()}}},e.mock=function(){return{alertHighlightChanges:y.a.create(O.g.none),alertVisibilityFilter:x.a.of(b.constTrue),revisionEngine:{singleCardFeedViewModel:{state:y.a.create({kind:"successState"}),processActions:b.constVoid,onMountItem:b.constVoid,dispose:b.constVoid}},focusAlertHighlight:b.constVoid,dispose:b.constVoid}}}(kl||(kl={})),(El||(El={})).create=function(e,t){var n=function(e){return function(t){return e.alertClicked.pipe(x.a.skip(1),x.b.compact,x.a.filter((function(e){return en.a.State.isRegistered(e.alert.state)})),x.a.tap((function(e){return t.focusAlertHighlight(e)})))}}(e),r=function(e){return function(t){return t.alertHighlightChanges.pipe(x.b.compact,x.a.filter((function(e){return"forceSidebar"===e.source})),x.a.withLatestFrom(x.a.fromEvent(document,"click").pipe(x.a.map((function(e){return e.clientY})))),x.a.switchMap((function(t){var n=Object(f._)(t,2),r=n[0],i=n[1];return e.ensureAlertHighlightInViewport(r,i,V.a.initial)})))}}(t);return function(e){var t=new rn.a.Keeper;return t.push(e.pipe(x.b.compact,x.a.switchMap((function(e){return x.a.mergeStatic(n(e),r(e))}))).subscribe()),t}};var xl=n("3PdT"),Al=n("/9H4"),Il=n("LqyO"),Tl=n("wxju"),Ml=n("Jr5U"),Pl=n("6x3U"),Nl=n("m1oj"),Bl=n("OMUe"),Ll=n("55o/"),Fl=n("YyPR"),Rl=n("L4BC"),Dl=n("zQvz"),Hl=n("jnnb"),Vl=n("how3"),Ul=n("gEtV"),Wl=n("x1PS"),zl=n("NMQX"),Gl=n("4yB1"),ql=n("/u+j"),Kl=function(){function e(t,n,r,i,a,o,s,l,d,h,g,v,_,C,w,S,k,E,j,I,P){var B=this;Object(c.a)(this,e),Object(u._)(this,"_engine",void 0),Object(u._)(this,"_denaliEditorModel",void 0),Object(u._)(this,"_userAccount",void 0),Object(u._)(this,"_upgradeHook",void 0),Object(u._)(this,"_subscription",void 0),Object(u._)(this,"_environment",void 0),Object(u._)(this,"_platformEnvironment",void 0),Object(u._)(this,"_telemetry",void 0),Object(u._)(this,"_remSizeObs",void 0),Object(u._)(this,"_networkState",void 0),Object(u._)(this,"_docId",void 0),Object(u._)(this,"_uploadViewModel",void 0),Object(u._)(this,"_notificationsManager",void 0),Object(u._)(this,"_dialectSettings",void 0),Object(u._)(this,"_documentLoader",void 0),Object(u._)(this,"_textResources",void 0),Object(u._)(this,"_config",void 0),Object(u._)(this,"_router",void 0),Object(u._)(this,"_telemetryContainerId",void 0),Object(u._)(this,"_bannersFeatures",void 0),Object(u._)(this,"bannersModel",void 0),Object(u._)(this,"capabilities",void 0),Object(u._)(this,"cardsViewModel",void 0),Object(u._)(this,"inlineCardViewModel",void 0),Object(u._)(this,"inlineUpgradeHookViewModel",void 0),Object(u._)(this,"feedUpgradeViewModel",void 0),Object(u._)(this,"cardsListScrollManager",void 0),Object(u._)(this,"lensState",void 0),Object(u._)(this,"lensStateProvider",void 0),Object(u._)(this,"lensPreviewViewModel",void 0),Object(u._)(this,"alignmentViewModel",void 0),Object(u._)(this,"marksViewModel",void 0),Object(u._)(this,"alertUserEvents",void 0),Object(u._)(this,"synonymsViewModel",void 0),Object(u._)(this,"proofitViewModel",void 0),Object(u._)(this,"successLensViewModel",void 0),Object(u._)(this,"onboardingViewModel",void 0),Object(u._)(this,"upgradeViewModel",void 0),Object(u._)(this,"searchViewModel",void 0),Object(u._)(this,"downloadViewModel",void 0),Object(u._)(this,"surveyManager",void 0),Object(u._)(this,"feedbackViewModel",void 0),Object(u._)(this,"navigationViewModel",void 0),Object(u._)(this,"obtainGradesNotificationManager",void 0),Object(u._)(this,"modalManager",void 0),Object(u._)(this,"hotkeyManager",void 0),Object(u._)(this,"formattingViewModel",void 0),Object(u._)(this,"emotionsViewModel",void 0),Object(u._)(this,"documentSettingsViewModel",void 0),Object(u._)(this,"autofocusListener",void 0),Object(u._)(this,"documentPlaceholderViewModel",void 0),Object(u._)(this,"showConfetti",void 0),Object(u._)(this,"focus",void 0),Object(u._)(this,"cheetahViewModel",void 0),Object(u._)(this,"cheetahAvailabilityService",void 0),Object(u._)(this,"capiSession",void 0),Object(u._)(this,"notificationsManager",void 0),Object(u._)(this,"_getAlertClosestToCursor",void 0),Object(u._)(this,"_oggyManager",void 0),Object(u._)(this,"_oggyIntegration",void 0),Object(u._)(this,"_cheetahInlineAvailabilityProvider",void 0),Object(u._)(this,"_cheetahViewModel",void 0),Object(u._)(this,"_inlineManager",void 0),Object(u._)(this,"_reportViewModel",void 0),Object(u._)(this,"_pageTelemetry",void 0),Object(u._)(this,"_gbRuleCreatedViewModel",void 0),Object(u._)(this,"_openInlineAlert",void 0),Object(u._)(this,"_inlineAlertHovered",void 0),Object(u._)(this,"_inlineUpgradeHookClicked",void 0),Object(u._)(this,"vbarsViewModel",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"_hydrateTransforms",void 0),Object(u._)(this,"_subs",void 0),Object(u._)(this,"_editorWrapperViewport",void 0),Object(u._)(this,"_remSize",void 0),this._engine=t,this._denaliEditorModel=n,this._userAccount=r,this._upgradeHook=i,this._subscription=a,this._environment=o,this._platformEnvironment=s,this._telemetry=l,this._remSizeObs=d,this._networkState=h,this._docId=g,this._uploadViewModel=v,this._notificationsManager=_,this._dialectSettings=C,this._documentLoader=w,this._textResources=S,this._config=k,this._router=E,this._telemetryContainerId=j,this._bannersFeatures=I,this.bannersModel=P,this.obtainGradesNotificationManager=O.g.none,this.formattingViewModel=O.g.none,this.emotionsViewModel=O.g.none,this._oggyManager=y.a.create(O.g.none),this._cheetahViewModel=y.a.create(O.g.none),this._reportViewModel=O.g.none,this._openInlineAlert=new x.a.Subject,this._inlineAlertHovered=new x.a.Subject,this._inlineUpgradeHookClicked=new x.a.Subject,this._log=T.d.Logging.getLogger("Oggy.ViewModels"),this._hydrateTransforms=Object(nl.b)(this._denaliEditorModel.getContents),this._subs=new rn.a.Keeper,this._editorWrapperViewport=y.a.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=y.a.create(16),this.notificationsManager=_,this.lensState=y.a.create(ue.e.create({currentLens:ol.a.Cheetah.create(),alertSource:en.b.api,switchOrder:"lensOrder"}));var L=new Jc.a.Impl(this._engine.checkingDomain.state,this._engine.positionManager,this._engine.alertsReader,Object(z.b)(en.a.isRegistered,Object(z.m)(en.a.isMuted)));this._getAlertClosestToCursor=Object(il.d)((function(e){switch(e){case"cursor":return Object(Oe.d)(B._denaliEditorModel)();case"middleOfTheViewport":return Object(ce.pipe)(B._denaliEditorModel.getPossibleCursorPosition(O.b.left(V.c.X.middle),O.b.left(V.c.Y.middle)),O.b.getOrElse(Object(Oe.d)(B._denaliEditorModel)));default:return Object(bt.c)(e)}}),L);var F=Object(ce.pipe)(this._userAccount.features.denali.mutedAlerts,O.g.fromPredicate(b.identity),O.g.map((function(){return B._engine.mutedAlertsModel}))),R=new dl.a(this._denaliEditorModel),D=new ml.a(this._denaliEditorModel,this._engine.positionManager),H=y.a.create(O.g.none),U=y.a.create(!1),W=Object(Ml.a)(this._engine.obsCapiClient,this._engine.latestCAPIMessageByActionName,!0),G=W.capiService,q=W.capiMessages,K=y.a.create({enabled:!1});this._subs.push(q.pipe(x.a.filter((function(e){return"start"===e.action})),x.a.filter((function(e){var t;return null===(t=e.allowedFeatures)||void 0===t?void 0:t.includes(Bn.a)})),x.a.map(Object(b.flow)((function(e){return O.g.fromNullable(e.cheetahState)}),O.g.fold((function(){return{enabled:!1}}),(function(e){return{enabled:!0,userState:e}})))),x.a.take(1)).subscribe(A.b.toAtom(K))),this.cheetahAvailabilityService=new $c.a(G,K);var $=this.cheetahAvailabilityService.availability.view(Zc.a.isVisible);this.lensPreviewViewModel=new sl.a.Mock,this.navigationViewModel=new hl.a(this._telemetry,this.modalManager,this.lensState,this._userAccount.features,this._getAlertClosestToCursor,this._engine.sessionModel,F,Object(b.constant)(Object(b.unsafeCoerce)({})),y.a.create(al.a.CardVisualMode.ContrastLightMode),$,this.capabilities,(function(e){return B._engine.sessionModel.counters.view(e).view((function(e){return{title:"Premium",count:e}}))}));var Z=new pl.a(this.navigationViewModel,this._denaliEditorModel),Y=Object(Ml.d)(this._telemetryContainerId,this._environment,Z,{heightBehavior:{kind:"fitContainer"},widthBehavior:{kind:"fitContainer"}}),X=Object(Ml.e)(this._denaliEditorModel,R,D,(function(){U.set(!0)}),H),Q=this._log.getLogger("Oggy"),J=y.a.create(O.g.none),ee=this._oggyManager.pipe(x.b.compact,x.a.switchMap((function(e){return e.alertVisibilityFilter})));this._subs.push(x.a.from(Y).pipe(x.a.map((function(e){return O.g.some(kl.create(B._engine.checkingDomain,B._engine.alertsRepository,B._engine.alertsService,G,e,X,B._engine.obsCapiClient.events,Q))})),x.a.tap(A.b.toAtom(this._oggyManager))).subscribe(),this._oggyManager.pipe(x.b.compact,x.a.switchMap((function(e){return e.alertHighlightChanges.pipe(x.a.tap(A.b.toAtom(J)))}))).subscribe()),this.focus=el.a.create({contentFocusChanges:fe.a.create(this._denaliEditorModel),eq:fe.b.eq,ord:fe.b.ord,show:fe.b.show,contentSection:O.g.some(fe.b.create(fe.b.Id.editor))}),this.vbarsViewModel=O.g.none,this._subs.push(this._denaliEditorModel.viewport.pipe(x.a.distinctUntilChanged(),x.a.map((function(e){return e.wrapper}))).subscribe(A.b.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(A.b.toAtom(this._remSize)),fe.b.initTracking(this.focus,this._telemetry),this._denaliEditorModel.dontFreezeWhen(this.focus.state.pipe(x.a.map(O.g.exists((function(e){return e.id!==fe.b.Id.editor})))),"focus-manager"));var ne=Qc.a.create(Qc.a.defaultLensFilters,Qc.a.defaultTextFilters);this.searchViewModel=new ie.c(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport);var ae=this._engine.sessionModel.rtfMode===N.d.DocumentFeatures.FormattingMode.on?O.g.some(Object(zl.c)(this._denaliEditorModel.getCursor.bind(this._denaliEditorModel),(function(e){B._denaliEditorModel.setFormatting(Object(m._)(Object(p._)({},e),{meta:Object(m._)(Object(p._)({},e.meta),{formatting:Object(p._)({},e.meta.formatting)})}))}),this._denaliEditorModel.selectedFormatting,this._denaliEditorModel.isEditorFocused,this._textResources.denali,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment)):O.g.none;this.upgradeViewModel=new ql.b(this._engine.checkingDomain,this.lensState,this.lensPreviewViewModel,this._docId,this._platformEnvironment,this._upgradeHook,this._config,this._userAccount.features.denali.uphookFormat,this._userAccount.features.denali.uphookDestination,this._telemetry,(function(){B._router.navigate(M.a.routes.documents.href())}),(function(){return B._userAccount.features.isEligibleForFreeTrial})),this.feedbackViewModel=new Ll.a(this._notificationsManager,(function(e){return T.d.Logging.getLogger("userFeedback").info("Submit form feedback",{briefDescription:e.brief,detailedFeedback:e.detailed}),B._telemetry.gnarSpec.feedbackFormSubmit(e.brief,e.detailed,B._telemetry.pageId)})),this.modalManager=new Yc.b(new Al.c(this._userAccount,this._textResources,this._engine.sessionModel,this.upgradeViewModel,this._config,this._platformEnvironment,this.feedbackViewModel,this._notificationsManager,this._engine.sessionModel,this._reportViewModel,this._telemetry,this._engine.mutedAlertsModel,this.bannersModel,this._bannersFeatures,this._userAccount.logout));var oe,se=ee.pipe(x.a.map((function(e){return{filter:e,lensId:kc.a.SpecialId.AllAlerts}})));this.marksViewModel=new Vl.a(this._denaliEditorModel,this._engine.checkingDomain,this._engine.alertsReader,this._engine.alertsService,this._engine.alertsService,this._environment.has(te.b.Flag.highHighlights),new cl.a(J),ne,se,this._userAccount.settings.editorPreferences.view("suggestionsVisualMode"),J),this._subs.push(ll.a.getHighlightSubscription(J.pipe(x.a.switchMap(A.b.Scheduler.rafScheduler),x.a.skipBy(O.g.getEq(rl.a.getEq())),x.a.map(O.g.filter((function(e){return O.g.isSome(B._engine.alertsReader.getRegistered(e.alert.id))}))),x.a.map(O.g.map((function(e){return e.alert})))),this.marksViewModel,Q.getLogger("HighlightMarkFromText")).subscribe(),(oe=Q.getLogger("HightlightMarkFromSidebar"),J.pipe(x.a.switchMap(A.b.Scheduler.rafScheduler),x.a.skipBy(O.g.getEq(rl.a.getEq())),x.a.map(O.g.filter((function(e){return O.g.isSome(B._engine.alertsReader.getRegistered(e.alert.id))}))),x.a.switchMap(O.g.fold((function(){return oe.debug("Nothing to focus"),x.a.EMPTY}),(function(e){return x.a.Observable.create((function(){return oe.debug("Focus mark: ".concat(e.alert.id," | ").concat(e.highlightIndex)),e.source===ue.c.forceSidebar&&B.marksViewModel.moveCursorToHighlight(e,"start"),Object(ce.pipe)(B.marksViewModel.focusAlertHighlight(e),O.b.fold((function(t){return oe.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),z.e}),(function(t){return function(){oe.debug("Unfocus mark: ".concat(e.alert.id," | ").concat(e.highlightIndex,"'")),t.dispose()}})))}))})))).subscribe())),this.capiSession=new Il.a(q),this.alertUserEvents=new Xc.a(this._denaliEditorModel,this.marksViewModel,this._engine.alertsReader,J,ee),this._oggyIntegration=El.create(this.alertUserEvents,this.marksViewModel)(this._oggyManager),this._gbRuleCreatedViewModel=new Fl.a(this._config,this._engine.obsCapiClient,this._notificationsManager,this._telemetry),this.downloadViewModel=new Bl.a(this._engine.sessionModel,this._notificationsManager),this.documentSettingsViewModel=Object(Ul.b)(this._denaliEditorModel,this._router,this._textResources.denali,this._userAccount,this._dialectSettings,this.downloadViewModel,this.upgradeViewModel,this.modalManager,this._uploadViewModel,this._environment,this._notificationsManager,this.searchViewModel,this._telemetry,this._docId,this._engine.sessionModel);var le=fl.a.create();this._subs.push(this._denaliEditorModel.clickedWord.pipe(x.a.map(O.g.filter((function(e){return 2===e.meta.clicks}))),x.a.withLatestFrom(this.alertUserEvents.alertClicked.pipe(x.a.startWith(O.g.none)),(function(e,t){return O.g.isNone(t)?e:O.g.none})),x.b.compact).subscribe(le.doubleClickedWord)),this._cheetahInlineAvailabilityProvider=Tl.a.create(this.navigationViewModel,this.documentSettingsViewModel.viewModel.visualState,this.cheetahAvailabilityService.availability,this._userAccount.features.denali),this._inlineManager=Object(Rl.a)(this._denaliEditorModel,this.alertUserEvents,this._engine.alertsReader,ae,le,this._cheetahInlineAvailabilityProvider);var de=re.a.ViewModel.getInlineHighlightFilter(this.lensState),pe=Object(b.flow)(this.marksViewModel.getMarkByAlert,O.b.fromOption((function(){return new Error("mark not found")})),O.b.chain((function(e){return e.getRect()})),O.l.fromEither);this.inlineCardViewModel=new re.b(this._inlineManager,pe,x.a.mergeStatic(this._denaliEditorModel.contentUpdated.pipe(x.a.mapTo(A.b.voidValue))),this._engine.checkingDomain,this._engine.alertsReader,this._engine.alertsService,this._telemetry,this._openInlineAlert,this._inlineAlertHovered,this._hydrateTransforms,de),this.inlineUpgradeHookViewModel=new Dl.b(this._inlineManager,pe,this._denaliEditorModel.contentUpdated.pipe(x.a.mapTo(A.b.voidValue)),this._engine.checkingDomain,this._inlineUpgradeHookClicked,this._userAccount.settings,this.upgradeViewModel),this._pageTelemetry=new Gl.a(this.lensState,this._telemetry),this.synonymsViewModel=new xl.a(this._inlineManager,this._engine.positionManager,this._engine.synonymsModel,this._networkState,this._denaliEditorModel,this._notificationsManager,J,(function(){return B._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",B._telemetry.pageId)}),(function(e,t){B._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,B._telemetry.pageId,e)}),(function(e,t,n){B._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,B._telemetry.pageId,e)}),(function(e,t,n){B._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,B._telemetry.pageId,e)})),this.surveyManager=O.g.none,this.formattingViewModel=Object(ce.pipe)(O.g.sequenceT(ae,this._engine.formattingModel),O.g.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1],i=Wl.a.createManager(B._denaliEditorModel,r,B._inlineManager);return B._subs.push(n,i),{toolbarViewModel:n.viewModel,linksManager:i}}))),this.documentPlaceholderViewModel=new Nl.a(this._uploadViewModel,this._denaliEditorModel,this._userAccount,this._environment),this.emotionsViewModel=Object(ce.pipe)(this._engine.emotionsModel,O.g.map((function(e){return Lt.a.ViewModel.create(e,B._engine.sessionModel,B._textResources.denali)})));var me=Object(ce.pipe)(ae,O.g.map((function(e){return[e.viewModel,B.searchViewModel,B.documentSettingsViewModel.viewModel]})),O.g.getOrElse((function(){return[B.searchViewModel,B.documentSettingsViewModel.viewModel]})));this.hotkeyManager=new tl.a(O.a.UniqueArray.from(me),this._environment.has(te.b.Flag.isAppleSystem),this._environment.platform===te.b.Platform.IPAD),this.showConfetti=y.a.create(!1),this._subs.push($.pipe(x.a.switchMap((function(e){return e?x.a.from(Pl.a.create({capi:B._engine.obsCapiClient,sessionModel:B._engine.sessionModel,denaliEditorModel:B._denaliEditorModel,capiService:G,userAccount:B._userAccount,navigation:Z,dialect:B._dialectSettings,isDemoDocument:B._engine.sessionModel.isDemoDocument,availabilityService:B.cheetahAvailabilityService,telemetry:B._telemetry,inlineManager:B._inlineManager,platformEnvironment:B._platformEnvironment,config:B._config,upgradeVM:B.upgradeViewModel,lifecycleService:Y,revisionEngine:B._oggyManager.pipe(x.b.compact,x.a.map((function(e){return e.revisionEngine}))),modalManager:B.modalManager,selectionRange:H,textEditorService:X,usedDuringSession:U})).pipe(x.a.take(1),x.a.map(O.g.some)):x.a.of(O.g.none)})),x.a.map(O.g.tap((function(e){return B._subs.push(x.a.fromEvent(window,"beforeunload").subscribe((function(){return e.dispose()})))})))).subscribe(A.b.toAtom(this._cheetahViewModel))),this.cheetahViewModel=this._cheetahViewModel.view(),this.onboardingViewModel=ul.b.mock()}return Object(l.a)(e,[{key:"dispose",value:function(){this._oggyIntegration.dispose(),Object(ce.pipe)(this._oggyManager.get(),O.g.tap((function(e){return e.dispose()}))),this._engine.shutdown(),this.searchViewModel.dispose(),this.marksViewModel.dispose(),this.synonymsViewModel.dispose(),O.g.option.map(this._reportViewModel,(function(e){return e.dispose()})),this.downloadViewModel.dispose(),Object(ce.pipe)(this.surveyManager,O.g.map((function(e){return e.dispose()}))),this.documentSettingsViewModel.dispose(),Object(ce.pipe)(this.obtainGradesNotificationManager,O.g.map((function(e){return e.dispose()}))),this._pageTelemetry.dispose(),this._gbRuleCreatedViewModel.dispose(),this.inlineCardViewModel.dispose(),this.hotkeyManager.dispose(),this.cheetahAvailabilityService.dispose(),Object(ce.pipe)(this.cheetahViewModel.get(),O.g.tap((function(e){return e.dispose()}))),this._subs.dispose()}},{key:"createLoaderViewModel",value:function(e){return new Hl.b(this._documentLoader.state,this.lensState,this._engine.sessionModel,e,this._denaliEditorModel,this._userAccount.features)}}]),e}(),$l=n("uLrj"),Zl=n("ksEe"),Yl=n("VrFq"),Xl=n("Zg2C"),Ql=n("WLOZ"),Jl=n("Wq6W"),eu=n("6Fzp"),tu=n("Y8fD"),nu=n("ykgB"),ru=n("skc2"),iu=n("xAs4"),au=n("dLmm"),ou=n("ycnv"),su=function(){function e(t,n,r,i,a,o,s,l,d,p,m,f){var h=this;Object(c.a)(this,e),Object(u._)(this,"_modalManager",void 0),Object(u._)(this,"_userAccount",void 0),Object(u._)(this,"_documentModel",void 0),Object(u._)(this,"_loaderViewModel",void 0),Object(u._)(this,"_documentLoaderState",void 0),Object(u._)(this,"_appRouter",void 0),Object(u._)(this,"_notificationsManager",void 0),Object(u._)(this,"_config",void 0),Object(u._)(this,"_telemetry",void 0),Object(u._)(this,"_environment",void 0),Object(u._)(this,"_cheetahUsedDuringSession",void 0),Object(u._)(this,"_bannersModel",void 0),Object(u._)(this,"_showGBBillingMigrationNotification",void 0),this._modalManager=t,this._userAccount=n,this._documentModel=r,this._loaderViewModel=i,this._documentLoaderState=a,this._appRouter=o,this._notificationsManager=s,this._config=l,this._telemetry=d,this._environment=p,this._cheetahUsedDuringSession=m,this._bannersModel=f,this._showGBBillingMigrationNotification=function(e){var t=e.expiryDate;return h._notificationsManager.enqueue("gbBillingMigration",{expiryDate:t}).pipe(x.a.takeWhile(Object(z.m)((function(e){return tu.a.isCloseAction(e)||"cta"===e})),!0),x.a.switchMap((function(e){return h._handleGBBillingMigrationNotificationAction(e)})))}}return Object(l.a)(e,[{key:"init",value:function(){var e,t=this;this._initBanners();var n=this._documentLoaderState.view("text").pipe(x.a.filter(O.g.isNone),x.a.first(),x.a.filter((function(){return Object(ce.pipe)(t._appRouter.locationState,O.g.exists((function(t){return!(null===(e=t.showDocumentUploadedNotification)||void 0===e||!e)})))})),x.a.switchMap((function(){return t._showUploadNotification(t._documentModel.rtfMode)}))),r=this._userAccount.features.denali.gbBillingMigrationNotification.pipe(x.b.compactMap(this._showGBBillingMigrationNotification)),i=this._userAccount.settings.dunningSettings.pipe(x.a.combineLatest(this._userAccount.settings.dunningStatus,this._userAccount.subscription.state.pipe(x.a.filter(nu.a.isOk))),x.a.first(),x.a.filter((function(e){var n=Object(f._)(e,3),r=n[0],i=n[1],a=n[2];return t._shouldShowDunningModal(r,i,a.value)})),x.a.switchMap((function(){return t._showDunningModal()}))),a=this._bannersModel.state.pipe(x.a.filter((function(e){return e.active===ne.q.deDeprecationPopup})),x.a.switchMap((function(){return t._modalManager.show(Al.a.deDeprecation)})));return this._loadModal().pipe(x.a.tap((function(){return t._loaderViewModel.init()})),x.a.switchMap(O.g.fold((function(){return x.a.EMPTY}),(function(e){return t._modalManager.showPreloaded(e)}))),x.a.merge(x.a.concatStatic(n,this._showChangePlanNotification()),this._showPremiumUngatingRenewalNotification(),r,this._showSafariExtActivationNotification(),i,a))}},{key:"_loadModal",value:function(){var e=this;return this._shouldShowTour()?this._modalManager.preload(Al.a.tour).pipe(x.a.map(O.g.some)):this._shouldShowWhatsNew()?this._modalManager.preload(Al.a.news).pipe(x.a.map(O.g.some)):this._shouldShowSetGoals()?this._modalManager.preload(Yc.c.setGoals("setGoalsLoader")).pipe(x.a.map(O.g.some),x.a.tap((function(){return e._loaderViewModel.init()})),x.a.switchMap((function(t){return e._loaderViewModel.loaderState.pipe(x.a.first(Object(z.p)(O.g.contains(Hl.a.Checking),O.g.contains(Hl.a.CheckingIn))),x.a.mapTo(t))})),x.a.delay(50),x.a.map((function(t){return e._cheetahUsedDuringSession.get()?O.g.none:t}))):x.a.of(O.g.none)}},{key:"_shouldShowTour",value:function(){return O.g.isSome(this._userAccount.features.denali.tour)}},{key:"_shouldShowWhatsNew",value:function(){return this._userAccount.features.denali.showcaseNewFeaturesOnStartup}},{key:"_shouldShowSetGoals",value:function(){var e=this._userAccount.features.denali.removeWelcomeTour&&this._documentModel.isDemoDocument;return this._documentModel.isInitialRevision&&this._userAccount.settings.enableSetGoalsLoader.get()&&!e}},{key:"_shouldShowDunningModal",value:function(e,t,n){var r=Object(ce.pipe)(t,O.g.map((function(e){return"IN_PROGRESS"===e})),O.g.getOrElse((function(){return Boolean(n.isDunning)})));return iu.e.isPremium(this._userAccount.features.denaliUserType)&&Object(au.a)(e)&&!this._shouldShowTour()&&r}},{key:"_showDunningModal",value:function(){return this._telemetry.gnarSpec.inProductDunningNotificationShow(this._telemetry.pageId),this._modalManager.show(Al.a.dunning)}},{key:"_showUploadNotification",value:function(e){var t=this,n=e===me.DocumentFeatures.FormattingMode.compatibility?"denaliFormattingCompatibility":"denaliDocumentUploaded";return this._notificationsManager.enqueue(n).pipe(x.a.filter((function(e){return"navigateToDocuments"===e})),x.a.tap((function(){return t._appRouter.navigate(M.a.routes.documents.href())})))}},{key:"_handleGBBillingMigrationNotificationAction",value:function(e){switch(e){case"shown":return this._telemetry.gnarSpec.gbBillingMigrationNotificationShow(this._telemetry.pageId);case"closedByUser":return this._telemetry.gnarSpec.gbBillingMigrationCloseButtonClick(this._telemetry.pageId),this._userAccount.settings.dismissGBBillingMigrationNotification();case"cta":return this._telemetry.gnarSpec.gbBillingMigrationUpdateBillingButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new ru.a(this._config.account.adminSubscription,new URLSearchParams({popup:"add_billing_info"}))),Promise.resolve();default:return Object(bt.c)(e)}}},{key:"_showChangePlanNotification",value:function(){var e=this;return this._userAccount.features.denali.changePlanHook.pipe(x.b.compactMap((function(){return e._userAccount.subscription.state})),x.a.filter(nu.a.isOk),x.a.first(),x.a.map((function(t){var n=t.value;return ou.a.create(n,e._userAccount.subscription)})),x.a.switchMap(O.b.fold((function(e){return T.d.Logging.getLogger("change.plan.hook").warn(e),x.a.EMPTY}),(function(t){return t.shouldShowOffer?e._notificationsManager.enqueue("changePlanCta",{model:t}).pipe(x.a.takeWhile(Object(z.m)((function(e){return tu.a.isCloseAction(e)||"changePlan"===e})),!0),x.a.switchMap((function(n){return e._handleChangePlanNotificationAction(n,t)}))):x.a.EMPTY}))))}},{key:"_handleChangePlanNotificationAction",value:function(e,t){var n=this;switch(e){case"shown":return this._telemetry.gnarSpec.changePlanNotificationShow(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.changePlanHookSeen();case"closedByUser":return this._telemetry.gnarSpec.changePlanNotificationCloseButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.dismissChangePlanHook();case"changePlan":return this._telemetry.gnarSpec.changePlanNotificationSwitchPlanButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._modalManager.show(Al.a.changePlan(t)).pipe(x.a.filter((function(e){return"closed"===e})),x.a.first(),x.a.switchMap((function(){return n._userAccount.settings.dismissChangePlanHook()}))).toPromise().catch((function(e){return T.d.Logging.getLogger("change.plan.modal").error(e)}));default:return Promise.resolve()}}},{key:"_showSafariExtActivationNotification",value:function(){var e=this;return this._userAccount.features.denali.safariExtActivationWeb||this._userAccount.features.denali.safariExtActivationNative?this._notificationsManager.enqueue("safariExtActivation",{}).pipe(x.a.tap((function(t){switch(t){case"shown":return e._telemetry.gnarSpec.safariExtensionActivationNotificationShow(e._telemetry.pageId),void e._userAccount.settings.markSafariExtNotificationSeen();case"activate":return e._telemetry.gnarSpec.safariExtensionActivationCtaButtonClick(e._telemetry.pageId),void e._environment.actions.openUrl(new ru.a("grammarly.extension://enable"));case"closedByUser":return void e._telemetry.gnarSpec.safariExtensionActivationCloseButtonClick(e._telemetry.pageId);case"timeout":case"closedByMaxNotificationOnScreen":case"closedByNotificationWithMorePriority":return;default:Object(bt.c)(t)}}))):x.a.EMPTY}},{key:"_showPremiumUngatingRenewalNotification",value:function(){var e=this;return this._userAccount.features.denali.premiumUngatingRenewalNotification.pipe(x.b.compactMap((function(t){return e._telemetry.gnarSpec.premiumUngatingRenewalNotificationShow(e._telemetry.pageId),e._userAccount.settings.ungatedRenewalNotificationSeen(),e._notificationsManager.enqueue("premiumUngatingRenewal",{trialEndDate:t}).pipe(x.a.first((function(t){return tu.a.isCloseAction(t)?(e._telemetry.gnarSpec.premiumUngatingRenewalDismissButtonClick(e._telemetry.pageId),e._userAccount.settings.ungatedRenewalNotificationDismissed(),!0):"ctaManageSubscription"===t&&(e._telemetry.gnarSpec.premiumUngatingRenewalCtaButtonClick(e._telemetry.pageId),e._userAccount.settings.ungatedRenewalNotificationDismissed(),e._environment.actions.openPopup(new ru.a(e._config.account.adminSubscription)),!0)})))})))}},{key:"_initBanners",value:function(){var e=this;Object(ce.pipe)(this._userAccount.features.banners,O.g.chain((function(e){return e.mockedBannersState})),O.g.fold((function(){e._bannersModel.initialize(e._userAccount.settings.banners.get())}),(function(t){return e._bannersModel.initialize(t)})))}}]),e}(),cu=n("imRW");function lu(e,t){var n=t.has(te.b.Flag.useSetDataOnCopy);return function(t,r){return x.a.from(cu.a.copy(t,n)).pipe(x.a.switchMap((function(){return e.enqueue("copySuccess",{copyType:r})})),x.a.catchError((function(t){return cu.a.copyApiAvailable.next(!1),T.d.Logging.getLogger("clipboard").warn("Copy to clipboard failed",t),e.enqueue("copyToClipboardFailed")}))).toPromise()}}var uu=n("hPn0"),du=n("NbNH"),pu=E.a.keyframes({from:{transform:"scale(0)"},to:{transform:"scale(6)"}}),mu={margin:"".concat(E.a.rem(1.7)," 0 ").concat(E.a.rem(1.15)),$nest:{"@media print":{marginTop:0}}},fu=Object(m._)(Object(p._)({},Object(Me.b)()),{padding:E.a.rem(0),width:E.a.percent(95),outline:"none",border:"none",background:"transparent",lineHeight:"normal",$nest:{"@media print":{display:"none"},"&::placeholder":{color:ke.i}}}),hu={position:"relative",zIndex:du.i,paddingTop:E.a.rem(4)},gu={color:ke.i},bu={display:"block",minHeight:E.a.px(100)},vu={position:"absolute",top:0,left:0,zIndex:du.o,overflow:"hidden",width:E.a.percent(100),height:E.a.percent(100),background:Te.a.CoreNeutral0},yu={position:"absolute",top:E.a.percent(32),left:E.a.percent(38),margin:"0 auto",width:E.a.px(300),height:E.a.px(300),border:"20px solid ".concat(Te.a.CoreNeutral1),borderRadius:E.a.percent(50),pointerEvents:"none"},Ou={animation:"".concat(pu," 4s infinite linear")},_u={animation:"".concat(pu," 3s infinite linear")},Cu={animation:"".concat(pu," 2s infinite linear")},wu=E.a.stylesheet({textWrapper:[hu],text:[gu],titleWrap:[gu,mu],title:[gu,fu],content:[gu,bu],animation:[vu],circle:[yu],one:[yu,Ou],two:[yu,_u],three:[yu,Cu]}),Su=function(e){var t=g.useContext(le.a.Context);return g.createElement(uu.b,{documentUpload:e.documentUpload,multiple:!1,canDrop:function(){return!0},render:function(n,r){return g.createElement(v.a.Fragment,null,y.a.combine(n,r,(function(n,r){return(n||r)&&g.createElement(te.c,{className:wu.animation,onMount:function(){return e.modalManager.hideAll()}},g.createElement("div",{className:wu.one}),g.createElement("div",{className:wu.two}),g.createElement("div",{className:wu.three}),g.createElement(ct,{position:"center",className:wu.textWrapper},g.createElement("div",{className:wu.titleWrap},g.createElement(U.c,{className:wu.title},t.uploadDropZone)),g.createElement(U.j,{className:wu.content},t.uploadDropZoneTypes)))})))}})},ku=n("XQlQ"),Eu=n("CcwN"),ju=n("Jqms"),xu=n("h+d6"),Au=n("SXX6"),Iu=n("2YEY");function Tu({stepId:e,onboardingViewModel:t,denaliEditorModel:n,getFirstTargetRect:r,overlay:i,completionTrigger:a},o){const s=g.useContext(w.a.Context),c=y.a.create({display:"none",pointerEvents:"none"}),l=y.a.create(!1),u=t.subscribeForStep(e),d=y.a.create(O.g.none);return j.a.useSubscriptionTo(x.a.mergeStatic(u.state.pipe(x.a.tap(e=>{"popup"!==e&&"popover"!==e||!i||l.set(!0),c.modify(t=>Object(m._)(Object(p._)({},t),{pointerEvents:"dot"===e?"all":"none"}))}),x.a.merge(n.changes,o),x.a.combineLatest(s,d.pipe(x.a.skip(1))),x.a.tap(([e,t,r])=>((e,t)=>requestAnimationFrame(()=>{n.flushChanges(),Object(ce.pipe)(t,O.g.map(Au.b.relativeToRoot),O.g.fold(()=>{c.set({display:"none"})},({top:t,left:n,width:r,height:i})=>{c.modify(a=>Object(m._)(Object(p._)({},a),{position:"absolute",left:n/e+"rem",top:t/e+"rem",width:r/e+"rem",height:i/e+"rem",display:"block"}))}))}))(t,r))),u.state.view(e=>"dot"===e||"popup"===e||"popover"===e).pipe(x.a.switchMap(e=>e?r():x.a.EMPTY),x.a.tap(A.b.toAtom(d))),x.a.mergeStatic(A.b.orEmpty(l.pipe(x.a.skip(1),x.a.filter(e=>!e)))(!!i),a).pipe(x.a.tap(t.getStepCompletionCallback(e))),l.pipe(x.a.switchMap(A.b.orEmpty(x.a.fromEvent(document,"click",{capture:!0,passive:!0}))),x.a.tap(()=>l.set(!1))))),{visibilityOverlay:l,customStyles:c,onboardingStep:u}}const Mu=e=>{const t=g.useContext(ku.a.Context).pipe(x.a.map(e=>e.rect)),{visibilityOverlay:n,customStyles:r,onboardingStep:i}=Tu(e,t);return g.createElement(g.Fragment,null,e.overlay&&e.overlay(n),g.createElement("div",{className:Iu.b.editor},g.createElement(v.a.div,{style:r,className:Iu.b.onboardingPopup},g.createElement(ye.c,Object(m._)(Object(p._)({},e),{onboardingStep:i,viewportRect:t,eventType:"none"}),g.createElement(v.a.div,{style:r.view(({width:e,height:t})=>({width:e,height:t}))})))))},Pu=e=>e.onboardingViewModel.isStepEnabled(e.stepId)?g.createElement(Mu,e):null;var Nu=n("OUbY"),Bu=function e(t,n){var r=this;Object(c.a)(this,e),Object(u._)(this,"_ded",void 0),Object(u._)(this,"_env",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"state",void 0),this._ded=t,this._env=n,this._log=T.d.Logging.root.getLogger("GraySelection"),this.state=this._ded.isEditorFocused.pipe(x.a.switchMap(Object(z.c)(x.a.of(!1),x.a.mergeStatic(this._ded.contentUpdated.pipe(x.a.auditTime(50)),A.a.windowResize.pipe(x.a.auditTime(50))).pipe(x.a.startWith(A.b.toVoid()),x.a.mapTo(!0)))),x.a.switchMap((function(e){return e?x.a.of(Object(ce.pipe)(r._ded.getSelectionRect(),O.b.chain((t=r._env.has(Nu.a.Flag.supportsMixBlendMode),function(e){return Object(ce.pipe)(e.getRect(),O.b.map((function(e){var t=e.clientRects,n=e.rootClientRect;return t.map((function(e){return G.c.absToRelative(e,n)}))})),O.b.map((function(e){return e.map((function(e){return{top:e.top,left:e.left,width:Math.max(e.width,2),height:e.height,zIndex:t?"inherit":"-1",mixBlendMode:t?"darken":"inherit"}}))})))})),O.g.fromEither)):x.a.of(O.g.none);var t})),x.a.tap((function(e){O.g.isSome(e)&&!document.hasFocus()&&Object(ce.pipe)(jr.e.collapseSelection(),O.b.mapLeft((function(e){r._log.info("Cannot collapse selection",e)})))})),x.a.share())},Lu=(n("ATMU"),n("n8j0")),Fu=function(e){var t=e.ded,n=g.useContext(Nu.a.Context);return g.createElement(v.a.Fragment,null,new Bu(t,n).state.pipe(x.a.map((function(e){return g.createElement(g.Fragment,null,Object(ce.pipe)(e,O.g.fold((function(){return null}),(function(e){return e.map((function(e,t){return g.createElement("div",{"data-name":"gray-selection",key:"gray-selection-".concat(t),style:e,className:Lu.graySelection})}))}))))})),x.a.startWith(null)))},Ru=n("Bl9I"),Du=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return A.a.getIntersectionObservable(t,n).pipe(x.a.filter(z.n),x.a.map((function(e){return 1!==e[0].intersectionRatio})),x.a.startWith(t.offsetHeight>e.offsetHeight))},Hu=function e(){var t=this;Object(c.a)(this,e),Object(u._)(this,"_log",T.d.Logging.getLogger("DocumentView")),Object(u._)(this,"_nativeScrollbarState",Object(ce.pipe)(G.c.Scrollbar.getState(),O.b.getOrElse((function(e){return t._log.error("Cannot get scrollbar width",e),G.c.Scrollbar.UNKNOWN_SCROLLBAR})))),Object(u._)(this,"detector",y.a.create(O.g.none)),Object(u._)(this,"target",y.a.create(O.g.none)),Object(u._)(this,"_xssWindowSize",A.a.getResizeObservable(document.body).pipe(x.a.map((function(e){return e.width<=Ru.a.navigationHideWidthThreshold})),x.a.distinctUntilChanged(),x.a.startWith(!1))),Object(u._)(this,"_visible","visible"===this._nativeScrollbarState.type?y.a.combine(this.target,this.detector,O.g.map2(Du)).pipe(x.a.switchMap(O.g.fold((function(){return x.a.EMPTY}),b.identity)),x.a.onErrorResumeNext(x.a.of(!0))):y.a.create(!0)),Object(u._)(this,"width",x.a.combineLatestStatic([this._visible,this._xssWindowSize]).pipe(x.a.map((function(e){var n=Object(f._)(e,2),r=n[0];return!n[1]&&r?t._nativeScrollbarState.width:0})),x.a.startWith(0),x.a.shareReplay({bufferSize:1,refCount:!0}))),Object(u._)(this,"scrollTop",this.target.pipe(x.b.compact,x.a.switchMap((function(e){return x.a.fromEvent(e,"scroll").pipe(x.a.debounceTime(50),x.a.map((function(e){return e.target.scrollTop})))})),x.a.startWith(0))),Object(u._)(this,"fakeWidth",this._xssWindowSize.pipe(x.a.map((function(e){return e||"hidden"!==t._nativeScrollbarState.type?0:t._nativeScrollbarState.width}))))},Vu=n("XGM8"),Uu=n("gfa6"),Wu=n("09dI"),zu=function(e){return E.a.color(Wu.o.Color.BlueGray40).toRGBA().fade(e).toString()},Gu={boxShadow:"0px 0px 0px 0.5px ".concat(Wu.o.Color.BlueGray40,", 0px 0px 2px 0.5px ").concat(zu(.5),", 0px 1px 8px 0.5px ").concat(zu(.1),", 0px 2px 12px 0.5px ").concat(zu(.1),", 0px 4px 20px 0.5px ").concat(zu(.25)),borderRadius:E.a.rem(Wu.o.Radius.Radius2),marginRight:E.a.rem(2),marginBottom:E.a.rem(2),$nest:{"& input[type='radio']":{display:"unset"},iframe:{boxSizing:"content-box"}}},qu=E.a.prefixedStylesheet("cheetah_lens",{assistantContainer:[Gu]}),Ku=n("xZAf"),$u=function(e){var t=e.cheetahViewModel,n=j.a.useElWatcher(),r=n.ref,i=n.onMount;return j.a.useSubscription(Object(b.pipe)(r.pipe(x.b.compact,x.a.switchMap((function(e){return A.a.getMutationObservable(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["aria-expanded"]}).pipe(x.a.map(O.a.filter((function(e){return"aria-expanded"===e.attributeName}))),x.a.filter(O.a.isNonEmpty),x.a.map((function(e){return e.some((function(e){return"true"===e.target.getAttribute("aria-expanded")}))})))})),x.a.startWith(!1)),t.acquireFocusWhen)),g.createElement(v.a.div,Object(m._)(Object(p._)({"data-name":"cheetah-view"},Object(he.c)(t.isOggy?Ku.b.oggyWrapper:qu.assistantContainer)),{mount:i}),t.assistantUI.pipe(x.b.compact).pipe(x.a.startWith(null)))},Zu=function(e){var t=e.onTransitionEnd,n=e.transition,r=e.cheetahViewModel;return g.createElement(v.a.div,Object(p._)({key:kc.a.SpecialId.Cheetah},Object(he.c)(n.pipe(x.a.map((function(e){return e.base}))))),g.createElement(Eu.a.Bottom,{className:Uu.a.fixedLensContent,"aria-label":"Grammarly GO",role:"region",onTransitionEnd:t},g.createElement(Vu.c.Consumer,null,(function(){return g.createElement($u,{cheetahViewModel:r})}))))},Yu={color:Te.a.CoreNeutral50},Xu={borderBottom:"1px solid ".concat(Te.a.CoreNeutral30),cursor:"pointer",pointerEvents:"auto"},Qu=E.a.stylesheet({placeholder:[Yu],hiddenPlaceholder:[{display:"none"}],label:[Xu],input:[{display:"none"}]}),Ju=function(e){var t=e.viewModel,n=e.strings,r=e.className;return g.createElement(v.a.div,Object(he.c)(r,U.o.paper,t.visible.pipe(x.a.map(Object(z.c)(Qu.placeholder,Qu.hiddenPlaceholder))),t.size.view(ne.e.match("",ae.a.bigSize))),n.typeOrPasteText,g.createElement("label",{className:Qu.label},n.upload,g.createElement("input",{className:Qu.input,onChange:function(e){var n=e.target;return n.files&&t.upload(n.files)},type:"file",accept:t.uploadInputAccept})),n.ending)},ed=n("5aph"),td=n("PYgo"),nd=n("+Zdc"),rd=n("0dDw"),id=n("yDh2"),ad=n("Pkcy"),od=function(e){var t=e.viewModel,n=g.useContext(P.a.Context),r=n.gnarSpec,i=n.pageId,a=g.useContext(le.a.Context);return g.createElement("div",Object(he.c)(ad.a.card,ad.a.cardUphook),g.createElement(U.l,{className:ad.a.title},a.inlineUpgradeHook.suggestionIsPartOfPremium),g.createElement(Mt.a.Group,{align:"vertical"},g.createElement(Mt.a.Ghost,{className:ad.a.upgradeButton,name:"upgrade",onClick:function(){r.getPremiumButtonClick(i,"upgradeToPremium","inlinePremiumCard"),t.upgrade()}},g.createElement(Et.d.PaidSmall,{width:15,className:ad.a.upgradeIcon}),g.createElement(U.l,{className:ad.a.upgradeButtonText},a.inlineUpgradeHook.upgradeToPremium))))},sd=function(e,t){return e.right+300>t.width?"right":"left"},cd=function(e,t){return G.c.classes(function(e){switch(e){case"invisible":return ad.a.invisible;case"visible":return ad.a.visible;default:return Object(bt.c)(e)}}(e),"up"===t&&ad.a.directionUp)};function ld(e,t){var n=g.useRef(null),r=Object(f._)(g.useState((function(){return y.a.create({visibility:"visible",position:{top:0,left:0},direction:"down"})})),1)[0],i=g.useContext(ku.a.Context),a=function(e){var i=n.current;i&&function(e,t,n,r){Object(ce.pipe)(e,O.g.map((function(e){var i=e.abs,a=e.relative,o=t.offsetHeight,s=i.height+i.top+o>n.height+n.top&&a.height<n.height?"up":"down";r.modify((function(e){return Object(m._)(Object(p._)({},e),{direction:s,position:{top:"up"===s?a.top-o-8:a.top+a.height,left:a.left}})}))})))}(t,i,e,r)},o=Object(f._)(g.useState((function(){return x.a.combineLatestStatic(i.pipe(x.a.map((function(e){return e.rect}))),r.pipe(x.a.filter((function(e){return"visible"===e.visibility}))),(function(e){return e})).pipe(x.a.tap(a))})),1)[0];return j.a.useSubscriptionTo(o),g.useEffect((function(){switch(e){case"removed":r.modify((function(e){return Object(m._)(Object(p._)({},e),{visibility:"invisible"})}));break;case"added":requestAnimationFrame((function(){return r.modify((function(e){return Object(m._)(Object(p._)({},e),{visibility:"visible"})}))}));break;default:Object(bt.c)(e)}}),[e,r]),{_el:n,_state:r}}var ud=function(e){var t=e.card,n=e.position,r=e.mode,i=e.name,a=e.onMouseEnter,o=void 0===a?z.e:a,s=e.onMouseLeave,c=void 0===s?z.e:s;g.useEffect((function(){"added"===r&&c()}),[r]);var l={onMouseEnter:o,onMouseLeave:c,"data-name":i},u=ld(r,n),d=u._el,m=u._state;return g.createElement(v.a.div,Object(p._)({tabIndex:-1,mount:function(e){return d.current=e},style:m.view("position")},Object(he.c)(ad.a.container,m.view((function(e){var t=e.visibility,n=e.direction;return cd(t,n)}))),l),t)};var dd=function(e,t,n){var r=t(e),i=r.key,a=r.card,o=r.onMouseEnter,s=r.onMouseLeave,c=r.name,l=r.isHidden,u=function(e,t){return"added"===t?Object(ce.pipe)(e.rect,Au.b.relativeAndAbs,O.g.fromNullable):O.g.some({abs:G.c.Rect.empty,relative:G.c.Rect.empty})}(n,e);return!(null!=l&&l)&&g.createElement(ud,{key:i,position:u,mode:e,card:a,name:c,onMouseEnter:o,onMouseLeave:s})},pd=function(e){var t=e.viewModel,n=e.entry,r=e.index;return function(e){var i=en.a.State.isBulkApplied(n.alert.state),a="added"===e?r+1:r,o="added"===e?t.events:A.b.noopObserver(),s=re.a.DATA_NAME;return{key:a,card:g.createElement(id.a,{alert:n.alert,hydrate:t.hydrate,events:o,highlightIndex:n.highlightIndex}),onMouseEnter:function(){return t.events.next({type:td.b.Type.hovered})},onMouseLeave:function(){return t.events.next({type:td.b.Type.unhovered})},name:s,isHidden:i}}},md=function(e){var t=e.viewModel,n=e.index;return function(e){return{key:"added"===e?n+1:n,card:g.createElement(od,{viewModel:t})}}};function fd(e,t,n){return Object(ce.pipe)(t.state,x.b.chain((function(e){return Object(ce.pipe)(x.a.from(e.getMarkRect()),x.a.tap(O.b.mapLeft((function(t){return console.error("Could not get mark rect",{error:t,entry:e})}))),x.a.map(O.g.fromEither),x.a.map(O.g.map((function(t){return Object(m._)(Object(p._)({},e),{rect:t})}))))})),x.a.startWith(O.g.none),x.a.pairwise(),x.a.tap((function(e){var t=Object(f._)(e,2),r=(t[0],t[1]);return O.g.isNone(r)&&n&&n()})),x.a.map((function(n,r){var i=Object(f._)(n,2),a=i[0],o=i[1];return[Object(ce.pipe)(a,O.g.map((function(n){return dd("removed",e({viewModel:t,entry:n,index:r}),n)})),O.g.toNullable),Object(ce.pipe)(o,O.g.map((function(n){return dd("added",e({viewModel:t,entry:n,index:r}),n)})),O.g.toNullable)]})),x.a.startWith(null))}var hd,gd=g.memo((function(e){var t=e.className,n=e.inlineCardVM,r=e.inlineUpgradeHookVM,i=g.useContext(ku.a.Context).pipe(x.a.map((function(e){return e.rect}))),a=g.useMemo((function(){return ed.a.emptyWithName("inline-card")}),[]);return g.createElement(ed.a.Context.Provider,{value:a},g.createElement(v.a.Fragment,null,g.createElement("div",{className:t},de.b.mount(rd.a.View,nd.a.Flow.create(n.state,n.events,i,n.hydrate,sd))),g.createElement(v.a.div,{className:t},fd(pd,n,(function(){return n.events.next({type:td.b.Type.closed})}))),g.createElement(v.a.div,{className:t},fd(md,r))))})),bd=n("fXTi"),vd=n("ldOx"),yd=n("phaH"),Od=n("itj6"),_d=n("e71X"),Cd=n("6uQI"),wd=n("To5e"),Sd=n("MKsy"),kd=n("Sqy8"),Ed=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"_subs",[]),Object(u._)(Object(s.a)(e),"_el",void 0),Object(u._)(Object(s.a)(e),"_classes",y.a.create("")),Object(u._)(Object(s.a)(e),"_state",y.a.create(O.g.none)),Object(u._)(Object(s.a)(e),"_content",y.a.create(null)),Object(u._)(Object(s.a)(e),"_onTransitionEnd",(function(){var t=e._state.get();Object(b.pipe)(t,O.g.contains(Kc.a.Type.checkingOut))&&e._state.set(O.g.none),O.g.isNone(t)&&e._content.set(null)})),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.theme,r=t.state;this._subs.push(this._state.pipe(x.a.pairwise(),x.a.map((function(e){var t=Object(f._)(e,2),r=t[0],i=t[1];return Object(b.pipe)(i,O.g.fold((function(){return Object(b.pipe)(r,O.g.fold((function(){throw new bt.b("Cannot animate sidebar loader from None to None")}),(function(e){switch(e){case Kc.a.Type.checkingOut:return[n.checkingOutEnd+" "+n.hideEnd];case Kc.a.Type.checkingIn:return[n.checkingInEnd+" "+n.hideEnd];case Kc.a.Type.checking:return[n.hideStart,n.hideEnd];default:return Object(bt.c)(e)}})))}),(function(e){switch(e){case Kc.a.Type.checkingOut:return Object(b.pipe)(r,O.g.contains(Kc.a.Type.checkingIn))?[n.checkingOutEnd]:O.g.isNone(r)?[n.hideEnd]:[n.checkingOutStart,n.checkingOutEnd];case Kc.a.Type.checkingIn:return Object(b.pipe)(r,O.g.contains(Kc.a.Type.checkingOut))?[n.checkingInEnd]:Object(b.pipe)(r,O.g.contains(Kc.a.Type.checking))?[]:[n.checkingInStart,n.checkingInEnd];case Kc.a.Type.checking:return[n.checkingStart,n.checkingEnd];default:return Object(bt.c)(e)}})))})),x.a.switchMap((function(e){return kd.a.rafSequence(e,!0)}))).subscribe(A.b.toAtom(this._classes)),r.subscribe((function(t){e._state.set(t),null===e._content.get()&&O.g.isSome(t)&&e._content.set(e.props.children)})),r.pipe(x.a.switchMap((function(){return x.a.timer(500)}))).subscribe(this._onTransitionEnd))}},{key:"componentWillUnmount",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"render",value:function(){var e=this;return g.createElement(v.a.div,{"data-role":"loader-content",key:"content",className:this._classes,mount:function(t){return t&&(e._el=t)},onTransitionEnd:function(t){return t.target===e._el&&e._onTransitionEnd()}},this._content)}}]),n}(g.Component),jd=n("hSa3"),xd=n("uxqH"),Ad=n("A8UT"),Id=n("/pMd"),Td=(n("pTR/"),n("izp7")),Md=function(e){var t=e.plagiarismModel,n=e.lensPreviewVM,r=e.navigationViewModel,i=e.state,a=e.proofitViewModel,o=e.features,s=g.useContext(P.a.Context),c=s.gnarSpec,l=s.pageId,u=g.useContext(le.a.Context),d=i.view(ue.e.isSidebarOpened),p=function(){return d.get()?"wiritingAssistant":"writingMode"},m=i.view("currentLens","type").view((function(e){return e===ue.i.plagiarism})),f=function(e){return"disabled"===e.kind&&(e.reason===Ad.e.EmptyDocument||e.reason===Ad.e.DemoDoc)},h=function(e){return"disabled"===e.kind&&e.reason===Ad.d.EmptyDocument},b=g.createElement(Id.a,{name:"proofread",isDisabled:r.documentActions.view((function(e){return e.proofit})).view(f),tooltipAlignment:"left",tooltip:r.documentActions.view((function(e){return e.proofit})).view((function(e){return f(e)?u.documentActions.proofit.tooltip.disabled(e.reason):u.documentActions.proofit.tooltip.available})),title:g.createElement(v.a.div,{className:d.view(Object(z.c)("",Td.hidden))},u.sidebar.sendToProofreaders),"aria-label":u.sidebar.sendToProofreadersLabel,onClick:function(){o.proofit.get()===iu.l.enabled?a.showOrderModal():r.popover.set(O.g.some(Ad.b.ProofitHook)),c.professionalProofreadingButtonClick(l,p())},className:d.view(Object(z.c)(E.a.joinClasses([Td.proofitBtn,Td.outcomeBtnLeft]),Td.proofitBtnTeaser))},g.createElement(Et.d.ProofreadOutcomes,{className:d.view(Object(z.c)(E.a.joinClasses([Td.actionIconTeaser,Td.actionIconTeaserLeft]),Td.actionIcon))})),_=g.createElement(Id.a,{onClick:function(){r.events.next({type:"switchToLens",id:kc.a.SpecialId.Plagiarism,focusFirst:!0,actionSource:en.b.sidebar}),c.plagiarismButtonClick(l,p())},name:"plagiarism",isActive:m,isDisabled:r.documentActions.view((function(e){return e.plagiarism})).view(h),tooltipAlignment:"left",tooltip:r.documentActions.view((function(e){return e.plagiarism})).view((function(e){return Object(z.c)(u.documentActions.plagiarism.tooltip.emptyDocument,u.documentActions.plagiarism.tooltip.available)(h(e))})),title:d.view(Object(z.c)(u.plagiarism.title,"")),"aria-label":u.plagiarism.title,className:d.view(Object(z.c)(E.a.joinClasses([Td.plagiarismBtn,Td.outcomeBtnLeft]),Td.plagiarismBtnTeaser))},g.createElement(v.a.Fragment,null,y.a.combine(m,t.checkingState,(function(e,r){return e&&"full"!==r?g.createElement(jd.a.PlagiarismOutcomesMeter,{key:"plagiarism-counter",className:E.a.joinClasses([Td.plagiarismScore,Td.actionIconTeaserLeft]),isChecking:t.checkingState.view((function(e){return"checking"===e})),count:n.getLens(kc.a.SpecialId.Plagiarism).view("percentile").view(xd.a.fromRatio)}):g.createElement(Et.d.PlagiarismOutcomes,{className:d.view(Object(z.c)(E.a.joinClasses([Td.actionIconTeaser,Td.actionIconTeaserLeft]),Td.actionIcon)),key:"plagiarism-icon"})}))));return g.createElement(v.a.Fragment,null,r.documentActions.view((function(e){return g.createElement(v.a.div,{className:d.view(Object(z.c)(Td.outcomeDocumentActionsFull,Td.outcomeDocumentActionsTeaser))},o.premiumLensButtonInFooter?g.createElement(v.a.Fragment,null,g.createElement(Pd,{navigationViewModel:r,isSidebarOpen:d}),d.view((function(e){return e&&g.createElement("div",{className:Td.buttonsDelimiter})}))):null,("available"===(t=e.proofit).kind||t.reason!==Ad.e.NotAvailable)&&b,d.view((function(e){return e&&g.createElement("div",{className:Td.buttonsDelimiter})})),function(e){return"available"===e.kind||e.reason===Ad.d.EmptyDocument}(e.plagiarism)&&_);var t})))},Pd=function(e){var t=e.isSidebarOpen,n=e.navigationViewModel,r=function(e){return function(){n.events.next({type:"switchToLens",id:e,focusFirst:!0,actionSource:en.b.sidebar})}},i=t.view(Object(z.c)(Id.b,Bd));return g.createElement(v.a.Fragment,null,i.view((function(e){return g.createElement(v.a.Fragment,null,n.premiumButtonData.view(O.g.fold((function(){return g.createElement(e,{id:kc.a.SpecialId.FreePremiumAlerts,name:"lens-free-premium",activeLensId:n.activeLensId,data:n.freePremiumButtonData,onClick:r(kc.a.SpecialId.FreePremiumAlerts)})}),(function(){return g.createElement(e,{id:kc.a.SpecialId.Premium,name:"lens-premium",activeLensId:n.activeLensId,data:n.premiumButtonData,onClick:r(kc.a.SpecialId.Premium)})}))))})))},Nd={counterWrapper:Td.premiumCounterWrapper,counterContent:Td.premiumCounterContent},Bd=function(e){var t=e.id,n=e.data,r=e.name,i=e.onClick;return g.createElement(v.a.Fragment,null,n.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Id.a,{className:Td.premiumButton,id:t,key:e.id,name:r,onClick:i},g.createElement(v.a.Fragment,null,e.alerts.view((function(e){return g.createElement(jd.a.OutcomeCounter,{theme:Nd,count:e})}))))})),O.g.toNullable)))},Ld=n("mxxk"),Fd=n("KpDw"),Rd={opacity:1},Dd=E.a.stylesheet({baseNavigationLoader:[Rd],checkingInStart:[Fd.d,Rd],checkingInEnd:[Fd.c,Rd],checkingOutStart:[Fd.f,Rd],checkingOutEnd:[Fd.e,Rd],checkingStart:[{opacity:.99}],checkingEnd:[{opacity:1,transition:"opacity .01s"}],hideStart:[{pointerEvents:"none"}],hideEnd:[{opacity:0,transition:"opacity .01s",pointerEvents:"none"}]}),Hd=n("H2Tl"),Vd=n("Vs1e"),Ud=n("PKYJ"),Wd={overflowY:"hidden"},zd={marginLeft:E.a.rem(-4),paddingLeft:E.a.rem(4)},Gd={zIndex:E.d.level2},qd={marginTop:E.a.rem(E.d.sidebarHeaderHeight),paddingTop:0,$nest:{"&:before":{position:"absolute",top:E.a.rem(-4),width:"100%",height:E.a.rem(4),boxShadow:Ud.a.z100,content:"",pointerEvents:"none"}}},Kd={background:Te.a.CoreNeutral0,color:Te.a.CoreNeutral90},$d={width:E.a.rem(E.d.navigationWidth),boxShadow:Ud.a.z100,$nest:Object(u._)({},Me.a.xs,{width:E.a.rem(E.d.navigationWidthXs)})},Zd={marginTop:E.a.rem(-4),paddingTop:E.a.rem(4),height:"calc(100% + ".concat(E.a.rem(4),")"),boxShadow:"none"},Yd={zIndex:E.d.level2},Xd={position:"relative",zIndex:E.d.level2,height:"100%"},Qd={marginTop:E.a.rem(-.4)},Jd=E.a.stylesheet({fullHeightLoaderNavigation:[Wd],fullHeightLoader:[Wd,zd],navigationWrapper:[Gd],navigationWrapperHidden:[{width:0,pointerEvents:"none"}],navigationLoaderWrapper:[Gd,{position:"absolute",right:0}],navigationLoaderWithToolbar:[qd],baseWrapper:[Kd],wrapper:[Kd,$d],loaderWrapper:[Kd,$d,Zd],loaderWrapperNoShadow:[Kd,$d,Zd,{boxShadow:"none"}],narrowWrapper:[Kd,$d,Yd],lensesAnimationWrapper:[Xd],onboardingNotification:[Qd],ensureClickable:[{pointerEvents:"auto"}]}),ep=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(vd.a);function tp(e,t){return!e||ue.e.isForceSidebar(t)?{prev:{start:{},end:{}},next:{start:{},end:{}}}:ue.e.isSidebarOpened(e)?{prev:{start:{base:Fd.a.navigationLeaveRightStart},end:{base:Fd.a.navigationLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:Fd.a.navigationEnterLeftStart},end:{base:Fd.a.navigationEnterLeft}}}}function np(e){var t=e.state,n=e.checkingState,r=e.children,i=Jd.wrapper,a=j.a.useElWatcher(),o=a.ref,s=a.onMount;return j.a.useSubscriptionTo(Object(b.pipe)(o,x.b.compact,x.a.switchMap((function(e){return t.view(ue.e.isSidebarOpened).pipe(x.a.tap((function(t){return t?e.removeAttribute("inert"):e.setAttribute("inert","true")})))})))),g.createElement(ep,{state:t.pipe(x.a.distinctUntilChanged((function(e,t){return ue.e.isSidebarOpened(e)===ue.e.isSidebarOpened(t)}))),stateToClassMapper:tp,onMount:s,className:A.b.chooseWhen(t.view(ue.e.isSidebarOpened))(Jd.navigationWrapper,Jd.navigationWrapperHidden)},(function(e){var a=e.state,o=e.view;return ue.e.isSidebarOpened(a)?g.createElement(v.a.div,Object(p._)({key:"sidebar"},Object(he.c)(o.pipe(x.a.map((function(e){return e.base}))),t.view(ue.e.isSidebarOpened).view((function(e){return e?i:Jd.narrowWrapper})))),n.view((function(e){return"full"===e?null:r}))):null}))}(hd=np||(np={})).Loader=function(e){var t=e.baseLoaderClass,n=e.state,r=e.showToolbar;return g.createElement(Ed,{state:n.view("navigation"),theme:Dd},g.createElement(v.a.div,Object(he.c)(Jd.navigationLoaderWrapper,t,r.view((function(e){return e&&E.a.joinClasses([Jd.navigationLoaderWithToolbar])}))),g.createElement(v.a.div,{className:n.view("lens").view(O.g.fold((function(){return Jd.fullHeightLoader}),(function(e){return e===Kc.a.Type.checkingOut?Jd.fullHeightLoaderNavigation:Jd.fullHeightLoader})))},g.createElement(v.a.div,{className:n.view("lens").view(O.g.fold((function(){return Jd.loaderWrapperNoShadow}),(function(e){return e===Kc.a.Type.checkingOut?Jd.loaderWrapperNoShadow:Jd.loaderWrapper})))},g.createElement(Hd.a,null)))))},hd.Content=function(e){var t=e.denaliViewModels,n=t.lensPreviewViewModel,r=t.cheetahViewModel,i=t.navigationViewModel,a=t.proofitViewModel,o=t.lensState,s=e.documentModel,c=e.plagiarismModel,l=e.modalManager,u=e.features;return g.createElement(Ld.b,null,g.createElement(Vd.a,{documentModel:s,modalManager:l,navigationViewModel:i,cheetahViewModel:r,features:u}),g.createElement(Ld.a,{navigationViewModel:i,features:u,renderLensButtons:Ld.c}),o.view(ue.e.isSidebarOpened).view(Object(z.c)(g.createElement(Md,{state:o,plagiarismModel:c,proofitViewModel:a,lensPreviewVM:n,features:u,navigationViewModel:i}),null)))};var rp,ip,ap=n("PR1L"),op=n("WRJe"),sp=n("jY3z"),cp=n("S6rj"),lp=(n("Rqkq"),n("Kz57")),up=function(e){var t=e.desc,n=g.useContext(le.a.Context);return g.createElement(Et.d.CheckmarkOutcomes,{role:"figure",title:n.proofitOrderModal.promo.step3.header.editingOptions.checkedLabel,desc:t,className:lp.optionCheckedIcon,width:16})},dp=function(e){var t=e.option,n=t.title,r=t.description,i=t.availableInCorrectness,a=t.availableInClarity,o=t.isNew,s=g.useContext(le.a.Context).proofitOrderModal.promo;return g.createElement("tr",{className:lp.option},g.createElement("th",{className:lp.optionCell},g.createElement(be.Typography.Base,{className:lp.optionTitle},g.createElement("span",{className:lp.optionTitleTextWithBadge},n,o&&g.createElement(sp.a.New,null)),Object(ce.pipe)(r,O.g.mapOrDefault((function(e){return g.createElement(ge.a,{title:e,align:"right"},g.createElement(Et.d.QuestionMark,{className:lp.questionMarkIcon}))}),null)))),g.createElement("td",{className:lp.optionChecked},i?g.createElement(up,{desc:s.step3.header.editingOptions.featureIsAvailable(n,s.step3.header.correctness.h1)}):g.createElement(cp.a,null,s.step3.header.editingOptions.unavailable)),g.createElement("td",{className:lp.optionChecked},a?g.createElement(up,{desc:s.step3.header.editingOptions.featureIsAvailable(n,s.step3.header.correctnessClarity.h1)}):g.createElement(cp.a,null,s.step3.header.editingOptions.unavailable)))},pp=function(e){var t=e.title,n=e.description,r=e.className;return g.createElement("th",{className:r},g.createElement(be.Typography.Base,{className:lp.columnTitle},t),g.createElement(be.Typography.Small,{className:lp.columnDescription},n))},mp=function(){var e=g.useContext(le.a.Context).proofitOrderModal.promo.step3,t=[{title:e.spelling.h1,description:O.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.grammar.h1,description:O.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.punctuation.h1,description:O.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.conciseness.h1,description:O.g.some(e.conciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.preciseness.h1,description:O.g.some(e.preciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.focus.h1,description:O.g.some(e.focus.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0},{title:e.flow.h1,description:O.g.some(e.flow.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0}];return g.createElement("table",{className:lp.optionsTable},g.createElement("thead",null,g.createElement("tr",null,g.createElement("th",{className:lp.optionsTableColumn1},g.createElement(cp.a,null,e.header.features)),g.createElement(pp,{title:e.header.correctness.h1,description:e.header.correctness.h2,className:lp.optionsTableColumn2}),g.createElement(pp,{title:e.header.correctnessClarity.h1,description:e.header.correctnessClarity.h2,className:lp.optionsTableColumn3}))),g.createElement("tbody",null,t.map((function(e){return g.createElement(dp,{option:e,key:"proofit-option-".concat(e.title)})}))))};(ip=rp||(rp={})).Dots=function(){return g.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},g.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(16 16)"},g.createElement("circle",{cx:"10",cy:"10",r:"26",fill:"#EFF4FF"}),g.createElement("circle",{cx:"10",cy:"10",r:"18",fill:"#DCE7FF"}),g.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#9DBBFF"})))},ip.PathFrom1To2=function(){return g.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 99"},g.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M1 0v58c0 8.837 7.163 16 16 16h280c8.837 0 16 7.163 16 16V89"}))},ip.PathFrom2To3=function(){return g.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},g.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M313 0v8.5c0 8.837-7.163 16-16 16H17c-8.837 0-16 7.163-16 16v8.054"}))},ip.Illustration=function(){return g.createElement("svg",{viewBox:"0 0 432 296",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},g.createElement("defs",null,g.createElement("path",{d:"M562,3 C562,83 430.204272,225.039762 318.380193,227 C251.656819,228.169638 194.76078,245.646649 156.426437,283 C122.849899,315.7173 28.718061,288.818016 12.9452193,301.609489 C-20.6124065,328.824083 12.9452193,419 94.3182261,362.425988 C175.691233,305.851977 173.663757,404.669157 238.24,392.399927 C269.889017,386.386739 323.865886,388.63911 362.242863,396.392987 C511.421672,426.533823 511.844211,635.1185 548,615.5 C605.82398,584.124119 562,-42.6094389 562,3 Z",id:"path-1"}),g.createElement("path",{d:"M19.3089215,7.937541 C17.6497662,9.75781021 11.3030739,19.3772256 10.9573251,21.58956 C10.6111662,23.8014846 9.82369558,40.4892442 10.9573251,40.6740835 C12.0905445,40.8589229 15.6173464,40.6740835 15.6173464,40.6740835 C15.6173464,40.6740835 17.6217051,25.3197123 18.1934416,23.656568 C18.7647679,21.9934237 27.4076677,15.0137914 31.660419,10.9481454 C35.9135805,6.88290921 34.064255,2.91029763 34.064255,2.91029763 L20.0579422,0.319267969 C20.0579422,0.319267969 7.57079144,7.18291455 1.97728943,15.2236312 C-0.695188878,19.0655028 0.323601194,33.676828 0.323601194,33.676828 C0.323601194,33.676828 3.2155049,34.1965094 4.57799307,33.1940326 C4.94794019,29.6824948 5.23339828,24.3360883 6.50155404,20.4544619 C6.66437999,19.9565022 6.94286568,19.5048549 7.32921843,19.1507502",id:"path-3"}),g.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-5"},g.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),g.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"})),g.createElement("path",{d:"M0.260606478,48.0753261 L12.1340822,48.0753261 C17.114047,57.187615 26.7976771,63.3697253 37.9276223,63.3697253 C54.1444201,63.3697253 67.2907322,50.2452817 67.2907322,34.0554601 C67.2907322,25.5804005 63.6882211,17.9453528 57.9285812,12.593295 L57.9285812,0.815669031 C68.6856756,7.78180737 75.8017785,19.8765665 75.8017785,33.6306157 C75.8017785,55.2170445 58.2733624,72.7163027 36.6509653,72.7163027 C20.1393555,72.7163027 6.01510052,62.5118246 0.260610064,48.0753266 Z",id:"path-6"}),g.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-8"},g.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),g.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"}))),g.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},g.createElement("g",{id:"Initial---Proofread-02-08",transform:"translate(-288 -265)"},g.createElement("g",{id:"Popup",transform:"translate(288 60)"},g.createElement("g",{id:"Left",transform:"translate(0 68)"},g.createElement("g",{transform:"translate(-28 -27)",id:"Illustration"},g.createElement("g",{id:"Group-3"},g.createElement("mask",{id:"mask-2",fill:"#fff"},g.createElement("use",{xlinkHref:"#path-1"})),g.createElement("use",{id:"Oval-5",fill:"#F5F5FF",xlinkHref:"#path-1"}),g.createElement("path",{d:"M146.788506,257.081856 L280.453567,257.081856 C287.080984,257.081856 292.453567,262.454439 292.453567,269.081856 L292.453567,390.02113 L134.788506,372.12887 L134.788506,269.081856 C134.788506,262.454439 140.161089,257.081856 146.788506,257.081856 Z",id:"Rectangle",fill:"#E4E6F2",mask:"url(#mask-2)"})),g.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"130.315",cy:"408.986",rx:"43.706",ry:"5.763"}),g.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"329.556",cy:"436.032",rx:"75.885",ry:"12.968"}),g.createElement("g",{id:"Paper",transform:"translate(131.678 263.563)"},g.createElement("path",{d:"M8,0 L144.952351,-3.01980663e-14 C149.370629,-3.10096908e-14 152.952351,3.581722 152.952351,8 L152.952351,126.001947 C152.952351,130.386158 149.423632,133.953611 145.039682,134.001471 L70.9944988,134.809829 L0,112.933059 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z",id:"Rectangle",fill:"#FFF"}),g.createElement("path",{d:"M25.1170739,54.1515434 C24.314287,54.1515434 23.6634997,53.5038202 23.6634997,52.7048131 C23.6634997,51.905806 24.314287,51.2580827 25.1170739,51.2580827 L128.391903,51.2580827 C129.19469,51.2580827 129.845477,51.905806 129.845477,52.7048131 C129.845477,53.5038202 129.19469,54.1515434 128.391903,54.1515434 L25.1170739,54.1515434 Z M25.1170739,65.002021 C24.314287,65.002021 23.6634997,64.3542978 23.6634997,63.5552907 C23.6634997,62.7562835 24.314287,62.1085603 25.1170739,62.1085603 L76.1646321,62.1085603 C76.967419,62.1085603 77.6182064,62.7562835 77.6182064,63.5552907 C77.6182064,64.3542978 76.967419,65.002021 76.1646321,65.002021 L25.1170739,65.002021 Z M71.0771224,42.9393832 C70.2743355,42.9393832 69.6235482,42.29166 69.6235482,41.4926529 C69.6235482,40.6936458 70.2743355,40.0459225 71.0771224,40.0459225 L128.391903,40.0459225 C129.19469,40.0459225 129.845477,40.6936458 129.845477,41.4926529 C129.845477,42.29166 129.19469,42.9393832 128.391903,42.9393832 L71.0771224,42.9393832 Z M25.1170739,75.8524986 C24.314287,75.8524986 23.6634997,75.2047754 23.6634997,74.4057682 C23.6634997,73.6067611 24.314287,72.9590379 25.1170739,72.9590379 L128.391903,72.9590379 C129.19469,72.9590379 129.845477,73.6067611 129.845477,74.4057682 C129.845477,75.2047754 129.19469,75.8524986 128.391903,75.8524986 L25.1170739,75.8524986 Z M25.1170739,30.3457684 C24.314287,30.3457684 23.6634997,29.6980452 23.6634997,28.8990381 C23.6634997,28.100031 24.314287,27.4523077 25.1170739,27.4523077 L128.391903,27.4523077 C129.19469,27.4523077 129.845477,28.100031 129.845477,28.8990381 C129.845477,29.6980452 129.19469,30.3457684 128.391903,30.3457684 L25.1170739,30.3457684 Z M25.1170739,86.7029762 C24.314287,86.7029762 23.6634997,86.0552529 23.6634997,85.2562458 C23.6634997,84.4572387 24.314287,83.8095155 25.1170739,83.8095155 L58.7217415,83.8095155 C59.5245284,83.8095155 60.1753157,84.4572387 60.1753157,85.2562458 C60.1753157,86.0552529 59.5245284,86.7029762 58.7217415,86.7029762 L25.1170739,86.7029762 Z",id:"Combined-Shape",fill:"#E4E6F2",fillRule:"nonzero"}),g.createElement("path",{d:"M64.5360384,86.7029762 C63.7332515,86.7029762 63.0824642,86.0552529 63.0824642,85.2562458 C63.0824642,84.4572387 63.7332515,83.8095155 64.5360384,83.8095155 L87.7932259,83.8095155 C88.5960128,83.8095155 89.2468001,84.4572387 89.2468001,85.2562458 C89.2468001,86.0552529 88.5960128,86.7029762 87.7932259,86.7029762 L64.5360384,86.7029762 Z M25.1170739,42.9393832 C24.314287,42.9393832 23.6634997,42.29166 23.6634997,41.4926529 C23.6634997,40.6936458 24.314287,40.0459225 25.1170739,40.0459225 L64.5360384,40.0459225 C65.3388253,40.0459225 65.9896126,40.6936458 65.9896126,41.4926529 C65.9896126,42.29166 65.3388253,42.9393832 64.5360384,42.9393832 L25.1170739,42.9393832 Z M81.978929,65.002021 C81.1761421,65.002021 80.5253548,64.3542978 80.5253548,63.5552907 C80.5253548,62.7562835 81.1761421,62.1085603 81.978929,62.1085603 L128.391903,62.1085603 C129.19469,62.1085603 129.845477,62.7562835 129.845477,63.5552907 C129.845477,64.3542978 129.19469,65.002021 128.391903,65.002021 L81.978929,65.002021 Z",id:"Combined-Shape",fill:"#EC5050",fillRule:"nonzero"})),g.createElement("g",{id:"Man-w-Pencil",transform:"translate(85.83 290.871)"},g.createElement("g",{id:"Pencil",transform:"rotate(-20 53.447 9.198)"},g.createElement("polygon",{id:"Fill-7",fill:"#6089F3",points:"42.7306681 76.025911 38.0871006 78.5584871 5.7923657 19.3303867 10.4363805 16.7978106"}),g.createElement("polygon",{id:"Fill-9",fill:"#7CA1FF",points:"47.3737436 73.4936929 42.7306234 76.0258215 10.4363358 16.7981685 15.0799033 14.2651451"}),g.createElement("polygon",{id:"Fill-14",fill:"#A2BCFF",points:"52.0172216 70.9610721 47.3736541 73.4936481 15.0798138 14.2655477 19.7233813 11.7329717"}),g.createElement("path",{d:"M52.6528102,81.32316 L53.0585241,87.968432 C53.0938619,88.6260697 52.3455054,89.0345208 51.8190167,88.6444119 L46.4534843,84.7044018 L52.6528102,81.32316 Z",id:"Fill-16",fill:"#EC5050"}),g.createElement("polygon",{id:"Fill-19",fill:"#FFF",points:"19.7232471 11.7331059 5.79254463 19.3299393 3.91695668 15.889197 17.8467646 8.29191616"}),g.createElement("path",{d:"M17.8466304,8.29178195 L3.91682248,15.8890627 L0.608487518,9.82269085 C-0.349659249,8.06406932 0.298051544,5.86165421 2.05644321,4.90293482 L9.61962974,0.777712456 C11.3780214,-0.181006937 13.5801486,0.4672359 14.5387427,2.22496268 L17.8466304,8.29178195 Z",id:"Fill-21",fill:"#FFC2C2"})),g.createElement("g",{id:"Foots",transform:"translate(20.342 66.04)"},g.createElement("path",{d:"M22.9728849,46.0241608 C22.9728849,46.0241608 21.9372998,46.5011779 20.2725812,46.4607201 L20.3172716,49.3228228 C20.3172716,49.3228228 21.4903955,49.511626 22.2682401,49.3659778 L22.5687447,48.62926 L23.2051981,49.4106741 C23.2051981,49.4106741 26.9314554,49.9512678 28.8535292,49.7882806 C28.8535292,49.7882806 29.0738993,48.9529226 28.1581307,48.5676099 C27.2419769,48.1826825 25.1542403,47.6494098 24.5624773,47.2259511 C23.9703291,46.8024925 22.9728849,46.0241608 22.9728849,46.0241608",id:"Fill-23",fill:"#3B3E4D"}),g.createElement("path",{d:"M4.13320993,43.43983 C4.13320993,43.43983 3.0267365,43.166258 1.7511329,42.095474 L-0.000269683636,44.3588008 C-0.000269683636,44.3588008 0.79837914,45.238855 1.49685976,45.6110671 L2.19148775,45.2226718 L2.20073405,46.2302646 C2.20073405,46.2302646 4.77428646,48.9794707 6.37736304,50.0517959 C6.37736304,50.0517959 7.07160577,49.5370181 6.59657731,48.6646702 C6.12116358,47.7915516 4.82321477,46.071901 4.62480467,45.3714026 C4.42677983,44.6705188 4.13320993,43.43983 4.13320993,43.43983",id:"Fill-27",fill:"#3B3E4D"}),g.createElement("path",{d:"M7.77756387,2.8459536 C4.72919113,8.61268399 11.8341253,20.6008102 14.5745244,24.8489352 L14.5745244,24.8489352 C15.2562232,25.9060036 15.7062805,27.095158 15.8990002,28.3419567 L15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 L23.2079906,24.1999585 C22.5497205,20.0438355 21.233558,6.05724289 21.233558,6.05724289 L21.233558,6.05724289 C21.233558,6.05724289 15.8555438,0.360372931 11.5612947,0.360372931 L11.5612947,0.360372931 C10.0841546,0.360372931 8.73511643,1.03454517 7.77756387,2.8459536",id:"Fill-33",fill:"#C6CBDE"}),g.createElement("path",{d:"M6.76242072,28.533 C6.07445196,30.0274634 1.70046824,40.3121095 1.70046824,40.3121095 L6.66086342,43.2651117 C6.66086342,43.2651117 14.3506694,30.8491914 15.3564142,27.5225733 C18.010205,20.3519742 22.5283497,6.65570873 20.917261,3.88569821 C20.917261,3.88569821 17.7020601,3.3933421 14.1358546,3.3933421 C9.65376155,3.39372025 4.61801741,4.17120425 4.71817068,7.68047057 C4.89882098,13.9816456 7.45038948,27.0389147 6.76242072,28.533 Z",id:"Clip-37",fill:"#E4E6F2"}),g.createElement("path",{d:"M15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 C22.9678434,22.6837403 22.6401371,19.8591813 22.3207189,16.8826816",id:"Fill-33",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4.38018352,7.17986789 C4.43184215,9.38630245 4.71940381,12.415885 5.04863335,15.492005 C5.66561059,21.2566637 6.42892078,27.1847565 6.06024614,28.1651834 C5.49484045,29.6691633 1.90009107,40.0193007 1.90009107,40.0193007 L5.97678149,42.9911073 C5.97678149,42.9911073 13.5016783,30.5767367 14.3282476,27.2289352 C15.8990002,24.0434641 17.0905734,21.1594864 17.9675545,17.6725218",id:"Clip-37",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),g.createElement("g",{id:"Group-53",transform:"translate(23.743 31.196)"},g.createElement("path",{d:"M5.88330653,16.7886512 C7.71829147,14.4054718 11.7570817,13.3014505 14.1361803,16.3023169 C17.4145376,20.4378064 18.8620539,42.1072252 18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",fill:"#FFF"}),g.createElement("path",{d:"M18.6917335,39.5094009 L18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14.9421691,6.41326474 C14.9962749,6.53196769 15.0809118,6.73057424 15.1705729,6.94454687 C15.3603297,7.397462 15.7529832,7.70132618 16.1916267,7.92567091 C16.2426408,7.95140909 16.278969,7.98713522 16.2901766,8.03592251 C16.3160701,8.14771073 16.1672791,8.35745768 15.9995511,8.5499178 C15.7522103,8.83572684 15.6629357,9.22256784 15.7553021,9.58828048 C15.9381024,10.3108703 16.1576174,11.4456551 15.8101808,11.6784512 C15.2923109,12.0257245 13.5605386,12.6253857 13.5605386,12.6253857 L13.0909775,15.5234279 C13.0909775,15.5234279 12.4730119,16.4661367 9.75651385,15.8707012 C8.83671512,15.6694056 8.451018,15.2871744 8.451018,15.2871744 L8.80541104,12.4456026 C8.80541104,12.4456026 6.16929879,9.67471467 7.54088102,6.97796808 C8.91284972,4.28045319 13.6583155,3.58244913 14.9421691,6.41326474",id:"Fill-41",fill:"#FFF"}),g.createElement("path",{d:"M8.86995889,8.11469929 C9.21616083,7.20911238 11.7652159,6.145276 13.841969,5.96876698 C15.917805,5.79225796 18.9854752,3.72675465 18.028032,2.76073731 C17.0701302,1.79471997 14.8594818,1.50474087 14.2207277,1.6855974 C13.5815151,1.86688868 14.5687638,0.307870601 13.5310751,0.190053005 C12.4929278,0.0722354085 6.21910668,1.50126286 5.62162174,4.7505939 C4.94022295,8.45510954 6.59144572,11.67053 8.8589538,12.9252222 L8.79521596,11.3579438 C8.79521596,11.3579438 6.91151056,10.5271341 7.1793012,9.5476395 C7.34942162,8.92507567 8.18168192,9.13940805 8.56502606,9.52590193 C8.56502606,9.52590193 8.74064903,8.45337053 8.86995889,8.11469929",id:"Fill-45",fill:"#3B3E4D"}),g.createElement("path",{d:"M22.1015227,32.9159145 C22.9821402,33.1976128 26.5951289,32.8827012 26.9494449,32.731806 C27.555489,32.4738901 27.4128144,32.2475474 27.4128144,32.2475474 C28.0925666,32.0560582 28.0214448,31.655448 28.0214448,31.655448 C28.7339561,31.2376161 27.8498903,31.0022524 27.8498903,31.0022524 C28.4878315,30.2088228 26.7028892,30.2289148 26.1843465,30.300262 C25.9033075,30.3388059 24.6748396,30.3215841 24.6748396,30.3215841 C24.6748396,30.3215841 24.7382027,30.0296348 25.053725,29.811903 C25.3024359,29.6405058 25.8597723,29.5023219 26.0317578,29.034875 C26.1472769,28.7220136 24.1950906,29.3026319 23.5226661,29.7134931 C22.9812781,30.0443963 22.1105746,31.1535576 22.1105746,31.1535576 L16.7876448,30.0800699 L15.6165055,32.6235552 L22.1015227,32.9159145 Z",id:"Fill-47",fill:"#FFF"}),g.createElement("path",{d:"M13.9235043,20.3536067 C13.7079836,22.6699292 14.0597134,26.8658803 14.566618,27.8548996 M17.4433881,33.6118774 C17.4433881,33.6118774 12.4351185,32.5711929 11.3368251,31.4837638 C9.57731428,29.7410889 6.91261659,24.0698097 7.28288112,20.0723185 C7.53719552,17.3283231 10.6174171,15.5606357 12.440291,16.8022403",id:"Fill-49",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17.2332067,35.5617231 C17.2332067,35.5617231 18.6601238,35.9953446 19.5185243,35.786864 C19.5185243,35.786864 20.0910119,31.1840821 19.2306259,30.0664823",id:"Fill-51",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),g.createElement("g",{id:"Man-on-the-ladder",transform:"translate(324.404 272.184)"},g.createElement("g",{id:"Ladder",transform:"translate(0 53.704)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"},g.createElement("path",{d:"M42.2873305,0.458915597 L63.6754936,103.759193",id:"Path-3",stroke:"#8189A9"}),g.createElement("path",{d:"M32.9242085,34.1090085 L44.562667,103.759193",id:"Path-3",stroke:"#8189A9"}),g.createElement("path",{d:"M32.9242085,8.08373708 L16.0882387,103.759193",id:"Path-3",stroke:"#C6CBDE"}),g.createElement("path",{d:"M18.1687635,14.8540285 L0.61595046,103.759193",id:"Path-3",stroke:"#C6CBDE"}),g.createElement("path",{d:"M0.910134603,95.109066 L14.1070863,95.109066",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M48.237134,95.109066 L61.4340857,95.109066",id:"Path-4",stroke:"#8189A9"}),g.createElement("path",{d:"M33.6749803,22.2982978 L46.8719321,22.2982978",id:"Path-4",stroke:"#8189A9"}),g.createElement("path",{d:"M4.55067302,79.6367778 L17.7476248,79.6367778",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M10.0114806,65.0746241 L23.2084324,65.0746241",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M10.0114806,50.5124705 L23.2084324,50.5124705",id:"Path-4",stroke:"#C6CBDE"}),g.createElement("path",{d:"M12.7418844,35.0401822 L25.9388362,35.0401822",id:"Path-4",stroke:"#C6CBDE"})),g.createElement("g",{id:"Group-26",transform:"translate(6.502 20.418)"},g.createElement("path",{d:"M9.75957787,4.94046636 C9.70096056,4.96496089 7.92645459,4.90005037 7.38004284,5.42586642 C7.07670849,5.72388328 4.6406057,5.16132543 4.27578465,5.44342084 C4.03885593,5.62141447 3.76708474,5.80675646 3.48383604,5.97291107 C3.21083512,5.87901535 1.43263995,5.25317994 1.09241358,2.89803026 C1.66956868,2.83434446 0.252505354,2.4861138 0.252505354,2.4861138 C1.04814317,2.24198492 1.29572958,1.88477293 0.612817377,1.15810168 C0.471807893,1.00827677 0.353753442,0.462865091 0.428357297,0.257519227 C0.530425208,-0.0449882986 0.861633529,0.0272705839 1.0313368,0.27425716 C1.86878556,1.45407733 2.9193882,1.53613403 3.80889569,2.4175291 C3.86259407,2.46366048 8.4716366,3.5589745 8.61141635,3.48385792 C9.60053229,2.9090528 10.7417253,4.47180423 9.75957787,4.94046636",id:"Fill-16",fill:"#E4E6F2"}),g.createElement("path",{d:"M19.1178936,61.1367709 C18.9617174,59.9696062 18.3821028,57.9504399 18.3821028,57.9504399 L16.5395516,58.1945688 C16.5395516,58.1945688 16.1427574,58.8383669 14.7556176,59.2437515 C13.3705274,59.6536267 11.7304723,59.3119279 10.9135191,59.6287239 C10.4413013,59.8095752 10.2392151,60.6517791 10.1478049,61.330686 C10.128539,61.4809191 10.1150119,61.6229874 10.1059939,61.7487261 C10.0863182,62.0144918 10.2998819,62.2398415 10.5683738,62.2382085 C12.3908394,62.2275942 18.7665996,62.1712568 19.0773124,61.9287609 C19.1724118,61.8569103 19.171592,61.5486873 19.1178936,61.1367709",id:"Fill-18",fill:"#3B3E4D"}),g.createElement("path",{d:"M16.024744,55.4544875 L16.2956954,58.3966896 C16.343655,58.9176067 16.7711924,59.3229913 17.2962888,59.3446281 C17.8845115,59.3695309 18.3780447,58.9061759 18.3882925,58.3195318 L18.4374818,55.4508133 L16.024744,55.4544875 Z",id:"Fill-20",fill:"#FBD4C1"}),g.createElement("path",{d:"M9.41693303,53.5304825 C9.00251271,52.4274118 7.98470298,50.5886886 7.98470298,50.5886886 L6.24339983,51.2365691 C6.24339983,51.2365691 6.00073235,51.9526261 4.74025513,52.6564358 C3.48182748,53.3643279 1.80652004,53.3957625 1.08138697,53.8864697 C0.662047722,54.1681569 0.653439585,55.0336305 0.716565924,55.7158034 C0.732142553,55.8664448 0.750588561,56.0081048 0.769854391,56.133027 C0.81084552,56.3963432 1.06990945,56.5682132 1.33020312,56.5069769 C3.10429918,56.0905698 9.30625698,54.6172234 9.55466322,54.3110417 C9.63090672,54.2200037 9.56163171,53.9199456 9.41693303,53.5304825",id:"Fill-22",fill:"#3B3E4D"}),g.createElement("path",{d:"M5.12647355,48.6801968 L6.05123342,51.4880872 C6.21478802,51.984918 6.72266811,52.2845679 7.23833651,52.1890392 C7.81795107,52.0820797 8.19506946,51.5207466 8.07291589,50.9467579 L7.47731479,48.1396841 L5.12647355,48.6801968 Z",id:"Fill-24",fill:"#FFF"})),g.createElement("g",{id:"Pants",transform:"translate(11.147 37.124)"},g.createElement("path",{d:"M1.97728943,15.6736851 C-0.695188878,19.5155567 0.323601194,35.5397524 0.323601194,35.5397524 C0.323601194,35.5397524 3.2155049,36.0594337 4.57799307,35.0569569 C4.94794019,31.5454191 5.23339828,26.1990126 6.50155404,22.3173862 C6.66437999,21.8194265 7.28479942,19.3389047 7.67115217,18.9848 L14.5536139,14.3084832 C13.4338227,16.1287524 11.2610683,19.7492958 10.9573251,23.3763675 C10.6111662,25.5882921 9.82369558,42.3521685 10.9573251,42.5370079 C12.0905445,42.7218472 15.6173464,42.5370079 15.6173464,42.5370079 C15.6173464,42.5370079 17.6217051,27.1826366 18.1934416,25.5194923 C18.7647679,23.856348 27.4076677,16.8767157 31.660419,12.8110697 C35.9135805,8.74583353 34.4643543,3.84193529 34.4643543,3.84193529 L20.0579422,2.18219229 C19.5823752,2.04419469 18.4615527,1.58713727 17.2986473,2.18219229 C13.2916383,4.23256619 7.237262,7.62135444 2.90194591,13.8534159 L1.97728943,15.6736851 Z",id:"pants",fill:"#E4E6F2"}),g.createElement("mask",{id:"mask-4",fill:"#fff"},g.createElement("use",{xlinkHref:"#path-3"})),g.createElement("use",{id:"pants",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})),g.createElement("g",{id:"Group-45",transform:"translate(11.963)"},g.createElement("path",{d:"M18.3145525,16.5980195 C20.3469798,14.9770238 24.6738011,16.4716869 22.9237479,20.3879993 C21.1741111,24.3043117 12.6000165,27.8383448 10.7108586,28.4741098 C8.82211722,29.1094646 1.8906237,27.745236 0.367552635,27.2009391 L0.483750837,23.8670694 L9.55720621,25.077484 C9.55720621,25.077484 16.1151163,18.3527309 18.3145525,16.5980195",id:"Fill-30",fill:"#F37878"}),g.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586 C17.2645622,39.0967586 16.8559943,23.8289646 17.8151501,17.3466225 C18.2353794,14.5037276 23.3314411,13.1776448 23.3314411,13.1776448",id:"Fill-32",fill:"#FFC2C2"}),g.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586",id:"Fill-32",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M16.8292146,4.5304204 C16.8292146,4.5304204 16.469375,6.32860994 16.4069028,7.1386976 C16.3448472,7.94960561 15.5389564,8.19037597 15.482315,8.44550232 C15.4331702,8.66371327 15.9741791,9.19570502 15.9741791,9.19570502 C15.9741791,9.19570502 16.1045376,11.5911035 16.8429585,12.2646042 C17.5817958,12.938105 18.9174504,12.6948736 18.9174504,12.6948736 L19.1964927,15.1887131 C19.1964927,15.1887131 18.926613,16.6181589 23.8806546,14.0094715 L23.609109,12.2412245 C23.609109,12.2412245 26.2462668,7.07471093 24.0755678,4.54723741 C21.9052852,2.01935372 16.8292146,4.5304204 16.8292146,4.5304204",id:"Fill-34",fill:"#FFF"}),g.createElement("path",{d:"M18.841276,5.5197938 C18.0924432,5.64776714 17.338196,5.76958792 16.5835324,5.68222151 C15.4211339,5.5480956 14.5515216,5.2810743 14.0629894,3.99231711 C13.1754683,1.64942052 14.3828468,0.250737514 14.3828468,0.250737514 C14.3828468,0.250737514 15.0071518,1.06574723 17.5989132,0.495609584 C19.1199018,0.160910072 22.0481798,0.417266928 24.183478,2.66664453 C27.2362838,5.88361545 25.0293509,11.2273229 23.6091507,12.2412655 L23.2538924,10.1046849 C23.2538924,10.1046849 23.8490437,9.87129763 24.0222998,9.33233297 C24.1918076,8.8048531 23.5679191,7.34505462 22.6566586,8.1563728 C21.7766342,8.94020952 22.3372177,11.4779373 21.2364583,12.3872864 C20.135699,13.2962252 17.0999689,13.2921235 16.4006973,12.1510279 C15.6485326,10.9237963 16.0433566,9.90780284 16.0433566,9.90780284 C16.0433566,9.90780284 17.8346414,9.51814042 19.3189797,10.2543973 C20.7670842,10.9721965 21.6625184,8.96071807 21.3784784,7.77163243 C21.1277568,6.72282526 20.1032135,5.30404387 18.841276,5.5197938",id:"Fill-36",fill:"#3B3E4D"}),g.createElement("path",{d:"M20.961183,18.9681961 C22.6955209,16.6950306 27.7604342,17.1340365 26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219 L2.02895649,31.9626816 L15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961",id:"Fill-43",fill:"#F37878"}),g.createElement("path",{d:"M15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961 M26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219",id:"Fill-43",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),g.createElement("g",{id:"Microscope",transform:"translate(235.569 289.818)"},g.createElement("path",{d:"M18.7214141,98.1589757 L27.5103085,98.1589757 C32.7568134,105.752299 41.5416826,110.73039 51.4934723,110.73039 C67.5630006,110.73039 80.5899271,97.7506293 80.5899271,81.7392826 C80.5899271,74.4458025 77.8868661,67.7813704 73.4244562,62.6862814 L73.4244562,51.5460728 C85.3038994,58.0661856 93.3524515,70.661726 93.3524515,85.1303003 C93.3524515,106.291867 76.1352753,123.446706 54.8968121,123.446706 C38.2493548,123.446706 24.0725672,112.906811 18.7214141,98.1589757 Z",id:"Combined-Shape",fill:"#FFF"}),g.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"48.756",y:"115.255",width:"11.832",height:"20.933"}),g.createElement("g",{id:"Combined-Shape-2",transform:"translate(13 48)"},g.createElement("mask",{id:"mask-7",fill:"#fff"},g.createElement("use",{xlinkHref:"#path-6"})),g.createElement("use",{id:"Combined-Shape",fill:"url(#linearGradient-5)",xlinkHref:"#path-6"}),g.createElement("circle",{id:"Oval",fill:"#8FABF4",mask:"url(#mask-7)",cx:"59",cy:"7",r:"14"})),g.createElement("path",{d:"M68.9407352,60.0450769 L68.9407352,48.815669 C80.7802671,55.3357818 88.8017785,67.9313222 88.8017785,82.3998965 C88.8017785,103.561463 71.6424468,120.716303 50.4753383,120.716303 M15.0808757,97.1240807 L15.0808757,97.1240807 M25.4898376,97.1240807 C30.5355849,105.663304 39.8363985,111.391004 50.4753383,111.391004 C66.4908779,111.391004 79.474038,98.4112431 79.474038,82.3998965",id:"Combined-Shape",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M0.518722035,89.7717262 L35.103837,89.7717262",id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M0.518722035,93.4122646 L35.103837,93.4122646",id:"Rectangle",stroke:"#E4E6F2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("polyline",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",points:"35.9670574 138.00886 68.1689333 138.00886 77.7675693 138.00886 83.3409709 138.00886 83.3409709 144.379802 74.3616017 144.379802 47.7331274 144.379802 30.0840224 144.379802 23.2720871 144.379802"}),g.createElement("g",{id:"Group-2",transform:"rotate(-45 94.818 5.34)"},g.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",y:"5.922",width:"96.041",height:"7.106"}),g.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"87.741",y:"2.369",width:"8.3",height:"14.212"}),g.createElement("path",{d:"M53.3483652,22.3447006 C53.1368783,27.7177952 48.7090794,32.0089156 43.2778645,32.0089156 C37.8466496,32.0089156 33.4188507,27.7177952 33.2073637,22.3447006 L15.0426441,22.3447006 C13.9380746,22.3447006 13.0426441,21.4492701 13.0426441,20.3447006 L13.0426441,2 C13.0426441,0.8954305 13.9380746,-1.84720821e-12 15.0426441,-1.84741111e-12 L70.1467549,-1.84741111e-12 C71.2513244,-1.8436898e-12 72.1467549,0.8954305 72.1467549,2 L72.1467549,20.3447006 C72.1467549,21.4492701 71.2513244,22.3447006 70.1467549,22.3447006 L53.3483652,22.3447006 Z",id:"Combined-Shape",fill:"#FFF"}),g.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"10.312",width:"64.565",height:"18.704",rx:"2"}),g.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"url(#linearGradient-8)",strokeLinecap:"round",strokeLinejoin:"round",x:"13.043",width:"59.285",height:"18.949"}),g.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"15.592",y:"2.547",width:"54.185",height:"4.517",rx:"1"}),g.createElement("ellipse",{id:"Oval",fill:"#FFF",cx:"43.278",cy:"19.541",rx:"10.078",ry:"10.067"}),g.createElement("path",{d:"M52.6436093,23.2665564 C53.1034261,22.1142813 53.3562713,20.8571999 53.3562713,19.5411324 C53.3562713,13.9814784 48.8440149,9.47448842 43.2778645,9.47448842 C37.7117141,9.47448842 33.1994577,13.9814784 33.1994577,19.5411324 C33.1994577,25.1007863 37.7117141,29.6077763 43.2778645,29.6077763 L43.2778645,29.6077763",id:"Oval",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(-110 43.278 19.541)"})),g.createElement("path",{d:"M56.4920001,122.536572 L56.4920001,134.368322",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M48.3007887,120.812477 L48.3007887,134.758379",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}))))))))};n("Js1K");var fp,hp=n("/5dq"),gp=function(){var e=g.useContext(le.a.Context).proofitOrderModal.promo.step2;return g.createElement(g.Fragment,null,g.createElement(be.Typography,{nodeType:"h3",styleType:be.Typography.Type.H1,className:hp.stepTitle},e.title),g.createElement("ul",{className:hp.step2Path},g.createElement("li",Object(he.c)(hp.step2PathLi,hp.step2PathLi1),g.createElement(bp,{index:1}),g.createElement(be.Typography.Base,{className:hp.step2LiDescription},e.li1),g.createElement("div",{className:hp.pathFrom1To2},g.createElement(rp.PathFrom1To2,null))),g.createElement("li",Object(he.c)(hp.step2PathLi,hp.step2PathLi2),g.createElement(bp,{index:2,position:hp.right}),g.createElement(be.Typography.Base,{className:hp.step2LiDescription},e.li2),g.createElement("div",{className:hp.pathFrom2To3},g.createElement(rp.PathFrom2To3,null))),g.createElement("li",Object(he.c)(hp.step2PathLi,hp.step2PathLi3),g.createElement(bp,{index:3}),g.createElement(be.Typography.Base,{className:hp.step2LiDescription},e.li3)),g.createElement("li",Object(he.c)(hp.step2PathLi,hp.moreInformation),g.createElement(be.Typography.Base,{className:hp.step2LiDescription},e.moreInformation(),g.createElement(Et.d.OuterLink,{className:hp.moreInformationIcon})))))},bp=function(e){var t=e.index,n=e.position;return g.createElement("div",Object(he.c)(hp.dots,Boolean(n)?n:hp.left),g.createElement(be.Typography.Base,{className:hp.dotIndex},t),g.createElement(rp.Dots,null))},vp=function(){var e=g.useContext(le.a.Context).proofitOrderModal.promo.step1,t=g.useContext(Ql.a.TitleIdContext);return g.createElement(g.Fragment,null,g.createElement(be.Typography,{nodeType:"h2",styleType:be.Typography.Type.H1,id:t,className:hp.stepTitle},e.title),g.createElement(be.Typography.Base,{className:hp.description},e.description),g.createElement("div",{className:hp.step1Illustration},g.createElement(rp.Illustration,null)))},yp=n("wZNN"),Op=function(){var e=g.useContext(le.a.Context).proofitOrderModal.promo.step5,t=g.useContext(eu.a.Context);return g.createElement("section",{className:hp.terms},g.createElement(be.Typography.H4,{className:hp.termsTitle},e.title),g.createElement(be.Typography.Small,null,g.createElement("p",{className:hp.termsSubTitle},e.credits,g.createElement(yp.a,{href:t.termsOfService},e.termsOfService),e.andFollowingTerms)),g.createElement(be.Typography.SmallLight,null,g.createElement("ul",{className:hp.termsList},g.createElement("li",{className:hp.termListItem},e.term1),g.createElement("li",{className:hp.termListItem},e.term2),g.createElement("li",{className:hp.termListItem},e.term3),g.createElement("li",{className:hp.termListItem},e.term4))))},_p=n("8Cs3"),Cp=n("oIsx"),wp=n("L8Yl"),Sp=n("Butu"),kp=n("f82Z"),Ep=(n("d9yF"),n("rwYK")),jp=function(){return g.createElement("span",{"aria-hidden":!0,className:Ep.iconArrow},"▼")},xp=function(){return g.useContext(le.a.Context).proofitOrderModal.promo.step4},Ap=function(e){var t=e.title,n=e.id,r=e.tooltip;return g.createElement(be.Typography,{id:n,nodeType:"label",styleType:be.Typography.Type.Base,className:Ep.userInputTitle},t,Boolean(r)&&g.createElement(ge.a,{title:g.createElement("p",{className:Ep.tooltip},r),align:"topCenter"},g.createElement("span",{"aria-describedby":r},g.createElement(Et.d.QuestionMark,null))))},Ip=function(e,t,n){return Object(ce.pipe)(t,O.g.fold((function(){return{labelTitle:e.choose,active:!1,iconSelected:function(e){}}}),(function(e){return{labelTitle:n(e),active:!0,iconSelected:function(t){return t===e?g.createElement(Et.d.DocumentSettings.Selected,null):void 0}}})))},Tp=function(e){var t=e.name,n=e.selected,r=e.items,i=e.ariaDescribedBy,a=e.onSelect,o=e.selectedLabel,s=void 0===o?b.identity:o,c=xp(),l=Ip(c,n,s),u=l.labelTitle,d=l.active,p=l.iconSelected;return g.createElement(Nt.a,{name:"proofit-user-inputs-dropdown-".concat(t),id:t,showDelay:0,label:g.createElement(Mp,{ariaDescribedBy:i,active:d,name:t},u),theme:{dropdownList:Ep.dropdownList},activeDescendantId:O.g.toUndefined(n)},g.createElement(Lp,{name:t,items:r,iconSelected:p,onSelect:Object(b.flow)(O.g.some,a)}))},Mp=function(e){var t=e.name,n=e.children,r=e.active,i=e.ariaDescribedBy;return g.createElement(Mt.a.White,{active:r,name:"proofit-user-inputs-dropdown-button-".concat(t),className:Ep.dropdown,"aria-describedby":i,tag:wp.b.div},g.createElement("span",{className:Ep.dropdownButton},n),g.createElement(jp,null))},Pp=function(e){var t=e.name,n=e.selected,r=e.items,i=e.ariaDescribedBy,a=e.onSelect,o=e.selectedLabel,s=void 0===o?b.identity:o,c=e.extra,l=g.useRef(new x.a.Subject),u=xp(),d=Ip(u,n,s),p=d.labelTitle,m=d.active,f=d.iconSelected;return g.createElement(Nt.a,{name:"proofit-user-inputs-dropdown-".concat(t),id:t,showDelay:0,dontCloseOnClickInside:!0,forceHide:l.current,label:g.createElement(Mp,{ariaDescribedBy:i,active:m,name:t},p),theme:{dropdownList:Ep.dropdownList},activeDescendantId:O.g.toUndefined(n)},g.createElement(Np,{name:t,items:r,extra:c,iconSelected:f,onSelect:function(e){return l.current.next(),a(O.g.some(e))}}))},Np=function(e){var t=y.a.create(""),n=g.useContext(wd.a.Context);return g.createElement(g.Fragment,null,g.createElement(Bp,{value:t,placeholder:n.search}),g.createElement(Nt.a.Delimiter,null),g.createElement(v.a.div,{className:Ep.dropdownOptionsContainer},t.view((function(t){return Object(ce.pipe)(e.items,O.a.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())})),O.f.fromArray,O.g.fold((function(){return g.createElement(be.Typography.Base,{key:"empty",className:Ep.dropdownSearchNoMatches},n.noMatches)}),(function(t){return g.createElement(g.Fragment,{key:"items"},t.map((function(t){var n=t.value,r=t.content;return g.createElement(Fp,Object(m._)(Object(p._)({},e),{key:n,value:n,content:r}))})))})))})),e.extra&&g.createElement(g.Fragment,null,g.createElement(Nt.a.Delimiter,null),g.createElement(Fp,Object(p._)({},e,e.extra)))))},Bp=function(e){return g.createElement("div",{className:Ep.dropdownSearchContainer},g.createElement(Et.d.SearchQuestion,{className:Ep.dropdownSearchIcon}),g.createElement(Sp.a,{className:Ep.dropdownSearch,value:e.value,placeholder:e.placeholder,autofocus:!0}),g.createElement(Mt.a.Tertiary,{name:"clearSearch",className:Ep.dropdownSearchClear,onClick:function(){return e.value.set("")}},g.createElement(Et.d.Close,null)))},Lp=function(e){return g.createElement("div",{className:Ep.dropdownOptionsContainer},e.items.map((function(t){var n=t.value,r=t.content;return g.createElement(Fp,Object(m._)(Object(p._)({},e),{key:n,value:n,content:r}))})))},Fp=function(e){var t=e.name,n=e.value,r=e.content,i=e.iconSelected,a=e.onSelect;return g.createElement(Mt.a.Flat,{id:n,name:"proofit-user-inputs-dropdown-".concat(t,"-item-").concat(G.f.camelize(n)),className:Ep.dropdownOption,tag:wp.b.div,onClick:function(){return a(n)}},g.createElement(be.Typography.Base,null,r),i(n))},Rp=function(e){var t=e.selected,n=e.onSelect,r=e.showNoteToEditor,i=void 0!==r&&r,a=xp(),o=Object.values(_p.c.PrimaryLanguage).filter((function(e){return e!==_p.c.PrimaryLanguage.Other})).map((function(e){return{value:e,content:g.createElement(Dp,null,e)}}));return g.createElement("div",{className:i?Ep.userInputWrapper:Ep.userInputWrapperSparse},g.createElement("div",{className:Ep.userInputContainer},g.createElement(Ap,{id:"native-language-title",title:a.primaryLanguage}),g.createElement(Pp,{name:"language",ariaDescribedBy:"native-language-title",selected:t,items:o,extra:{value:_p.c.PrimaryLanguage.Other,content:g.createElement(Dp,null,g.useContext(wd.a.Context).primaryLanguageNotListed)},onSelect:n})))},Dp=function(e){return g.createElement("span",{className:Ep.languageDropdownOption},e.children)},Hp=function(e){var t=e.selected,n=e.onSelect,r=e.showNoteToEditor,i=void 0!==r&&r,a=xp(),o=function(e){return g.createElement("span",null,function(e){switch(e){case Cp.a.Dialect.American:return g.createElement(Et.d.DocumentSettings.USFlag,null);case Cp.a.Dialect.British:return g.createElement(Et.d.DocumentSettings.GBFlag,null);case Cp.a.Dialect.Canadian:return g.createElement(Et.d.DocumentSettings.CanadianFlag,null);case Cp.a.Dialect.Australian:return g.createElement(Et.d.DocumentSettings.AustralianFlag,null);default:return g.createElement(Et.d.DocumentSettings.USFlag,null)}}(e),e," English")};return g.createElement("div",{className:i?Ep.userInputWrapper:Ep.userInputWrapperSparse},g.createElement("div",{className:Ep.userInputContainer},g.createElement(Ap,{id:"dialect-title",title:a.dialect}),g.createElement("div",{className:Ep.dialectDropdown},g.createElement(Tp,{name:"dialect",ariaDescribedBy:"dialect-title",selected:t,selectedLabel:o,items:Object.keys(Cp.a.Dialect).map((function(e){return{value:e,content:o(e)}})),onSelect:n}))))},Vp=function(e){var t=e.ariaDescribedBy,n=e.left,r=e.right,i=e.selected,a=e.onSelect,o=function(e,t,n){return O.g.fold((function(){return{leftSelected:!1,rightSelected:!1}}),(function(n){return{leftSelected:e===n,rightSelected:t===n}}))(n)}(n.value,r.value,i),s=o.leftSelected,c=o.rightSelected;return g.createElement(Mt.a.Group,{sticky:!0,className:Ep.splitButton},g.createElement(Mt.a.White,{name:"proofit-user-inputs-split-button-".concat(n.value),key:n.value,active:s,className:Ep.splitButtonOption,"aria-describedby":t,onClick:function(){return a(s?O.g.none:O.g.some(n.value))}},n.title),g.createElement(Mt.a.White,{name:"proofit-user-inputs-split-button-".concat(r.value),key:r.value,active:c,className:Ep.splitButtonOption,"aria-describedby":t,onClick:function(){return a(c?O.g.none:O.g.some(r.value))}},r.title))},Up=function(e){var t=e.selected,n=e.onSelect,r=e.showNoteToEditor,i=void 0!==r&&r,a=xp();return g.createElement("div",{className:i?Ep.userInputWrapper:Ep.userInputWrapperSparse},g.createElement("div",{className:Ep.userInputContainer},g.createElement(Ap,{id:"quotation-type-title",title:a.quotationType,tooltip:a.quotationTypeTooltip}),g.createElement(Vp,{ariaDescribedBy:"quotation-type-title",left:{title:a.quotationTypeSingle,value:Cp.a.QuotationType.Single},right:{title:a.quotationTypeDouble,value:Cp.a.QuotationType.Double},selected:t,onSelect:n})))},Wp=function(e){var t=e.selected,n=e.onSelect,r=e.showNoteToEditor,i=void 0!==r&&r,a=xp();return g.createElement("div",{className:i?Ep.userInputWrapper:Ep.userInputWrapperSparse},g.createElement("div",{className:Ep.userInputContainer},g.createElement(Ap,{id:"space-type-title",title:a.spaceType,tooltip:a.spaceTypeTooltip}),g.createElement(Vp,{ariaDescribedBy:"space-type-title",left:{title:a.spaceTypeSingle,value:Cp.a.SpaceType.Single},right:{title:a.spaceTypeDouble,value:Cp.a.SpaceType.Double},selected:t,onSelect:n})))},zp=function(e){var t=e.note,n=e.onChange,r=xp(),i=Object(ce.pipe)(t,O.g.getOrElse((function(){return""})));return g.createElement("div",{className:Ep.userInputWrapper},g.createElement("span",null,g.createElement(sp.a.New,{className:Ep.newBadge}),g.createElement(Ap,{id:"note-to-editor",title:r.noteToEditor})),g.createElement("div",{className:Ep.noteContainer},g.createElement("textarea",{placeholder:r.notePlaceholder,maxLength:200,value:i,onChange:n,className:Ep.noteTextarea}),g.createElement("span",{className:Ep.noteCounter},i.length,"/",200," characters")))},Gp=function(e){var t=e.proofit;j.a.useSubscriptionTo(t.requestPlans);var n=xp(),r=t.noteToEditor;return g.createElement(g.Fragment,null,g.createElement(be.Typography.H2,{className:Ep.title},n.title),g.createElement(be.Typography.H4,{className:Ep.subtitle},n.subtitle),g.createElement(v.a.div,{className:Ep.userInputsWrapper},t.viewState.pipe(x.a.map(O.g.fold((function(){return g.createElement(kp.a,{variation:"blue",className:Ep.loader})}),(function(e){var n=e.userInputs,i=n.nativeLanguage,a=n.dialect,o=n.quotationType,s=n.spaceType,c=n.noteToEditor;return g.createElement(g.Fragment,null,g.createElement(Rp,{selected:i,onSelect:function(e){return t.selectUserInput("nativeLanguage",e)},showNoteToEditor:r}),g.createElement(Hp,{selected:a,onSelect:function(e){return t.selectUserInput("dialect",e)},showNoteToEditor:r}),g.createElement(Up,{selected:o,onSelect:function(e){return t.selectUserInput("quotationType",e)},showNoteToEditor:r}),g.createElement(Wp,{selected:s,onSelect:function(e){return t.selectUserInput("spaceType",e)},showNoteToEditor:r}),r&&g.createElement(zp,{note:c,onChange:function(e){return t.selectUserInput("noteToEditor",O.g.of(e.target.value))}}))}))))))},qp={position:"absolute",width:E.a.percent(100),background:Te.a.CoreNeutral0,transition:"transform ".concat(E.a.seconds(.5)),willChange:"transform"},Kp={},$p={pointerEvents:"none"},Zp={pointerEvents:"none"},Yp={position:"relative"},Xp={},Qp=E.a.stylesheet({animation:[qp],stepShow:[qp,Kp],step1Hide:[qp,$p,{transform:"translateX(-100%)"}],step2Hide:[qp,Zp,{transform:"translateX(100%)"}],step1:[qp,Yp],step2:[qp,Xp]}),Jp=E.a.stylesheet({animation:[qp],stepShow:[qp,Kp],step1Hide:[qp,$p,{transform:"translateY(-100%)"}],step2Hide:[qp,Zp,{transform:"translateY(100%)"}],step1:[qp,Yp],step2:[qp,Xp]});!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal"}(fp||(fp={}));var em,tm,nm=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(vd.a),rm=function(e){var t=j.a.useElWatcher(),n=t.ref,r=t.onMount;j.a.useSubscriptionTo(n.pipe(x.b.compact,x.a.pairwise(),x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];n.setAttribute("inert","true"),r.removeAttribute("inert")}))));return g.createElement(nm,{state:e.state,stateToClassMapper:function(t){return function(t,n){return void 0===t?{prev:{start:n.step1Hide,end:n.stepShow},next:{start:"",end:n.stepShow}}:t<e.state.get()?{prev:{start:n.stepShow,end:n.step1Hide},next:{start:n.step2Hide,end:n.stepShow}}:{prev:{start:n.stepShow,end:n.step2Hide},next:{start:n.step1Hide,end:n.stepShow}}}(t,e.direction===fp.Vertical?Jp:Qp)}},(function(t){return Boolean(e.steps[t.state])?g.createElement(v.a.div,{key:"step"+(t.state+1),"data-step":t.state,mount:r,className:t.view,onTransitionEnd:function(e){"prev"===t.type&&"top"===e.propertyName&&t.done()}},e.steps[t.state]):Object(bt.c)(t.state)}))},im=function(e){var t=e.proofit,n=g.useContext(le.a.Context),r=g.useContext(P.a.Context),i=r.gnarSpec,a=r.pageId,o=r.docId;return g.createElement(g.Fragment,null,g.createElement("div",{className:hp.stepWrapper},g.createElement(v.a.Fragment,null,t.leftStep.view((function(e){return e>0&&g.createElement(Mt.a,{name:"proofit-order-promo-to-step-1",className:hp.backButton,onClick:function(){return t.changeLeftStep(ap.c.Step1)}},"←",g.createElement("span",{className:hp.backButtonText},n.back))}))),g.createElement(rm,{state:t.leftStep,direction:fp.Horizontal,steps:[g.createElement(vp,{key:"PromoStep1"}),g.createElement(gp,{key:"PromoStep2"}),g.createElement(mp,{key:"PromoStep3"}),g.createElement(Gp,{key:"PromoStep4",proofit:t}),g.createElement(Op,{key:"PromoStep5"})]})),g.createElement("div",{className:hp.nav},g.createElement(Mt.a,{name:"proofit-order-promo-to-step-2",className:hp.navButton,disabled:t.leftStep.view((function(e){return e===ap.c.Step2})),onClick:function(){i.professionalProofreadingLearningButtonClick(o,a),t.changeLeftStep(ap.c.Step2)}},n.proofitOrderModal.promo.stepsNavigation.howItWorks),g.createElement("div",{className:hp.delimiter}),g.createElement(Mt.a,{name:"proofit-order-promo-to-step-3",className:hp.navButton,disabled:t.leftStep.view((function(e){return e===ap.c.Step3})),onClick:function(){i.professionalProofreadingCompareOptionsButtonClick(o,a),t.changeLeftStep(ap.c.Step3)}},g.createElement(sp.a.New,{className:hp.newBadge}),n.proofitOrderModal.promo.stepsNavigation.compareOptions),g.createElement("div",{className:hp.delimiter}),g.createElement(Mt.a,{name:"proofit-order-promo-to-step-4",className:hp.navButton,disabled:t.leftStep.view((function(e){return e===ap.c.Step4})),onClick:function(){i.professionalProofreadingProvideDetailsButtonClick(o,a),t.changeLeftStep(ap.c.Step4)}},n.proofitOrderModal.promo.stepsNavigation.provideDetails)))},am=(n("7oRm"),n("J9kq")),om=n("4lxU"),sm=n("k4jz");(tm=em||(em={})).SlowPlane=function(){return g.createElement("svg",{"aria-hidden":!0,width:"48",height:"46",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M2.99 37.27l31.972 8.01a3 3 0 0 0 3.63-2.144l8.463-32.043a3 3 0 0 0-4.433-3.345L2.187 31.78a3 3 0 0 0 .803 5.49z",fill:"#C5F7EB"}),g.createElement("path",{d:"M3.314 26.08l9.196 2.235a1 1 0 0 1 .634.479l4.621 8.153a1 1 0 0 0 1.83-.21l1.56-5.308a1 1 0 0 1 1.21-.686l11.6 3.007a1 1 0 0 0 1.218-.712l8.12-30.675a1 1 0 0 0-1.477-1.116l-38.786 23a1 1 0 0 0 .274 1.833z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),g.createElement("path",{d:"M12.929 28.5L42.25 1.803a.5.5 0 0 1 .733.675L21.429 30.5l-1.838 6.247a1 1 0 0 1-1.827.214L12.929 28.5z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"})))},tm.MiddlePlane=function(){return g.createElement("svg",{"aria-hidden":!0,width:"59",height:"34",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M6.865 15.93a13.498 13.498 0 0 1-.19-2.153c0-7.49 6.153-13.563 13.74-13.563 5.966 0 11.028 3.762 12.928 9.005 1.41-.773 3.01-1.255 4.74-1.255 4.822 0 8.813 3.444 9.638 7.97 3.473.802 6.065 3.86 6.065 7.53 0 4.28-3.516 7.75-7.852 7.75H8.638c-4.337 0-7.852-3.47-7.852-7.75 0-3.674 2.599-6.737 6.079-7.534z",fill:"#CDDBFF",fillRule:"nonzero"}),g.createElement("path",{d:"M45.341 21.214l1.34 8.994a1 1 0 0 1-.518 1.03l-3.053 1.626a1 1 0 0 1-1.181-.18l-8.143-8.239",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M40.616 10.086A20.928 20.928 0 0 1 52.99 8.548l3.235.584c1.036.187 1.72 1.158 1.528 2.168-.06.314-.2.607-.41.852l-1.49 1.745a18.883 18.883 0 0 1-8.918 5.794l-22.534 6.786a38.953 38.953 0 0 1-9.334 1.607l-2.64.129c-.686.033-1.271-.483-1.306-1.153a1.19 1.19 0 0 1 .13-.604l.707-1.378a.91.91 0 0 0-.06-.932l-3.952-4.6a.916.916 0 0 1 .265-1.29l1.607-1.045a.975.975 0 0 1 .956-.058l7.632 2.79c.26.128-2.172 1.516-1.908 1.396l24.118-11.253z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M29.343 18.964L15.347 10.47a1 1 0 0 1 .077-1.752l2.732-1.342a1 1 0 0 1 .68-.074l22.776 5.595a1 1 0 0 1 .107 1.91l-11.511 4.242a1 1 0 0 1-.865-.084z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M52.786 9.214a17.195 17.195 0 0 1-3.796 1.927l-.204.073",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))},tm.QuickPlane=function(){return g.createElement("svg",{"aria-hidden":!0,width:"42",height:"55",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M21 29c6.684 4.124 8.984 13.275 5.136 20.439a14.624 14.624 0 0 1-4.209 4.88L21 55l-.927-.681c-6.362-4.673-7.986-13.989-3.626-20.808A14.392 14.392 0 0 1 21 29zM35 27c4.785 3.027 6.422 9.726 3.654 14.961a10.64 10.64 0 0 1-2.989 3.538L35 46l-.665-.5c-4.553-3.43-5.704-10.248-2.569-15.23A10.421 10.421 0 0 1 35 27zM7 27c4.785 3.027 6.422 9.726 3.654 14.961A10.64 10.64 0 0 1 7.665 45.5L7 46l-.665-.5C1.782 42.07.631 35.251 3.766 30.27A10.421 10.421 0 0 1 7 27z",fill:"#FFC2C2"}),g.createElement("path",{d:"M2.337 27.657l16-14.28a4 4 0 0 1 5.326 0l16 14.28A4 4 0 0 1 41 30.641V35H1v-4.359a4 4 0 0 1 1.337-2.984z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}),g.createElement("path",{d:"M15.963 4.877L18 2.5a3.951 3.951 0 0 1 6 0l2.037 2.377A4 4 0 0 1 27 7.48V39H15V7.48a4 4 0 0 1 .963-2.603z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 7.414l.249-.366 1.02-1.5c.975-1.435 2.487-1.435 3.462 0l1.027 1.51.242.356",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 21v15",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round"})))};n("Syxj");var cm,lm,um,dm=n("zjpx"),pm=function(e){var t=e.proofit;j.a.useSubscriptionTo(t.requestPlans);var n=g.useContext(le.a.Context),r=g.useContext(eu.a.Context),i=g.useContext(P.a.Context),a=i.gnarSpec,o=i.pageId,s=i.docId,c=t.isInternalUser;return g.createElement("div",{className:dm.content},g.createElement(v.a.div,{className:dm.proofitDetailsWrapper},t.viewStateAndSubscription.pipe(x.a.map((function(e){var i=Object(f._)(e,2),l=i[0],u=i[1];return Object(b.pipe)(l,O.g.fold((function(){return g.createElement(kp.a,{variation:"blue",className:dm.loader})}),(function(e){var i,l=u.value,d=Boolean(c||(null===(i=l)||void 0===i?void 0:i.paymentMethod)),p=e.selectedPlans.some((function(e){return e.details.enabled&&Object(b.pipe)(e.details.credits,O.g.fold((function(){return!1}),(function(e){return e.canBeUsed&&e.balance>0})))}));return Cc.c.isSendingState(e.proofitState)?g.createElement(kp.a,{variation:"blue",className:dm.loader}):g.createElement(g.Fragment,null,g.createElement("div",{className:dm.tierTitleContainer},g.createElement(be.Typography,{nodeType:"h3",id:"tier-title",styleType:be.Typography.Type.Base,className:dm.tierTitle},n.proofitOrderModal.order.tierTitle),g.createElement(Mt.a,{name:"helpMeChoose",className:dm.helpMeChooseBtn,disabled:t.leftStep.view((function(e){return e===ap.c.Step3})),onClick:function(){a.professionalProofreadingHelpMeChooseButtonClick(s,o),t.changeLeftStep(ap.c.Step3)}},g.createElement("span",{className:dm.helpMeChoose},n.proofitOrderModal.order.compareOptions))),g.createElement(Mt.a.Group,{sticky:!0,className:dm.claritySplitButton},g.createElement(Mt.a.White,{name:"proofit-order-split-button-tier-base",key:"proofit-order-split-button-tier-base",active:e.selectedPlanTier===Cp.a.PlanTier.Base,className:dm.claritySplitButtonBase,"aria-describedby":"tier-title",onClick:function(){a.professionalProofreadingSelectPlanTierButtonClick(s,o,Cp.a.PlanTier.Base),t.selectPlanTier(Cp.a.PlanTier.Base)}},n.proofitOrderModal.order.tierBase),g.createElement(Mt.a.White,{name:"proofit-order-split-button-tier-clarity",key:"proofit-order-split-button-tier-clarity",active:e.selectedPlanTier===Cp.a.PlanTier.Clarity,className:dm.claritySplitButtonClarity,"aria-describedby":"tier-title",onClick:function(){a.professionalProofreadingSelectPlanTierButtonClick(s,o,Cp.a.PlanTier.Clarity),t.selectPlanTier(Cp.a.PlanTier.Clarity)}},n.proofitOrderModal.order.tierClarity)),g.createElement(be.Typography.Base,{className:dm.plansTitle},n.proofitOrderModal.order.title),g.createElement(v.a.div,{className:dm.plansContainer,"data-name":"proofit-order"},e.selectedPlans.map((function(n,r){return g.createElement(mm,{key:"".concat(n.details.tier,"-").concat(n.details.turnaround),proofitState:e.proofitState,freeProofit:p,hasBillingInfo:d,plan:n,allPlans:e.selectedPlans,words:e.words,index:r,onPlanSelect:function(){return a.professionalProofreadingSelectButtonClick(s,o,Cp.a.getPlanName(n.details.turnaround),n.details.tier),t.changeLeftStep(ap.c.Step4),n.select()},onPlanUnselect:function(){return a.professionalProofreadingUnselectButtonClick(s,o,Cp.a.getPlanName(n.details.turnaround),n.details.tier),n.unselect()}})}))),g.createElement("div",{className:dm.summary},Object(b.pipe)(e.selectedPlan,O.g.fold((function(){return g.createElement(be.Typography.Lawyer,{className:dm.paymentWarning},d||!p?n.proofitOrderModal.order.warningConfirm():g.createElement(yp.a,{href:r.account.subscription},n.proofitOrderModal.order.paymentWarnings.updateBilling))}),(function(r){var i=Object(b.pipe)(r.details.credits,O.g.fold((function(){return{canBeUsed:!1,balance:0,maxWordsPerCredit:0}}),(function(e){return e}))),c=i.canBeUsed,u=i.balance,d=i.maxWordsPerCredit;return Boolean(p&&c&&u>0&&d>=e.words)?g.createElement("div",{className:dm.termsContainer},g.createElement(om.a,{className:dm.agreeTermsCheckbox,checked:t.freeProofitTermsAgreed,name:"agreeTerms"},g.createElement(be.Typography.Lawyer,null,n.proofitOrderModal.order.iAgree)),g.createElement(Mt.a,{name:"termsAndConditions",className:dm.termsLinkBtn,disabled:t.leftStep.view((function(e){return e===ap.c.Step5})),onClick:function(){a.professionalProofreadingTermsAndConditionsButtonClick(s,o),t.changeLeftStep(ap.c.Step5)}},g.createElement(be.Typography.Lawyer,{className:dm.termsLink},n.proofitOrderModal.order.terms))):g.createElement(fm,{key:"PaymentWarning"+r.details.turnaround,price:r.details.price,subscription:l})}))),g.createElement("div",{className:dm.summaryButtons},Object(b.pipe)(e.selectedPlan,O.g.fold((function(){return g.createElement(Mt.a.Primary,{key:"place-order",name:"place-order",className:dm.placeOrderButton,title:n.proofitOrderModal.order.chooseOptions,disabled:!0},n.proofitOrderModal.order.placeOrder)}),(function(r){var i=Object(b.pipe)(r.details.credits,O.g.fold((function(){return{canBeUsed:!1,balance:0,maxWordsPerCredit:0}}),(function(e){return e}))),c=i.canBeUsed,l=i.balance,u=i.maxWordsPerCredit,d=Boolean(p&&c&&l>0&&u>=e.words),m=t.freeProofitTermsAgreed.view((function(e){return d&&!e}));return g.createElement(Mt.a.Primary,{key:"place-order",name:"place-order",className:dm.placeOrderButton,onClick:jr.d.callOnce((function(){return a.professionalProofreadingPlaceOrderButtonClick(s,o,Cp.a.getPlanName(r.details.turnaround),r.details.tier,t.requirePaymentCheck.get(),d),!d&&t.requirePaymentCheck.get()?t.changeRightStep(ap.d.Step2):r.placeOrder(O.g.none,d)})),active:!0,disabled:Cc.c.isSendingState(e.proofitState)||m},d?n.proofitOrderModal.order.orderForFree:n.proofitOrderModal.order.placeOrder,Object(b.pipe)(e.proofitState,O.g.fold((function(){return g.createElement(kp.a,{className:dm.planLoading,variation:"white",size:18})}),(function(){return null}))))}))),g.createElement(Mt.a.Ghost,{key:"close",name:"close",className:dm.closeButton,onClick:function(){a.professionalProofreadingCloseButtonClick(s,o),t.closeModal()}},n.actions.close))))})))})))))},mm=function(e){var t=e.plan,n=e.allPlans,r=e.words,i=e.proofitState,a=e.freeProofit,o=e.hasBillingInfo,s=e.index,c=e.onPlanSelect,l=e.onPlanUnselect,u=t.details,d=u.label,f=g.useContext(le.a.Context),h=Object(b.pipe)(u.credits,O.g.fold((function(){return{canBeUsed:!1,balance:0,maxWordsPerCredit:0}}),(function(e){return e}))),y=h.canBeUsed,_=h.balance,C=h.maxWordsPerCredit,w=Boolean(a&&y)&&_>0&&C>=r,S=t.details.enabled&&(!a||w||o),k="$".concat(G.f.formatPrice(u.price)),E="$".concat(u.perWord),j=A.b.chooseWhen(t.active);return g.createElement(v.a.div,{className:S?dm.planWrapper:dm.planWrapperDisabled,"data-name":d.replace(" ","")},g.createElement("div",{className:dm.iconContainer},function(e){var t=[g.createElement(em.SlowPlane,null),g.createElement(em.MiddlePlane,null),g.createElement(em.QuickPlane,null)];return Boolean(t[e])?t[e]:Object(bt.c)(e)}(s)),g.createElement(v.a.div,{className:dm.plans},g.createElement(v.a.div,{className:dm.planContainer},g.createElement("div",null,t.isRecommended(n)&&g.createElement(be.Typography.Button,{className:dm.recommended},f.proofitOrderModal.order.recommended),g.createElement(be.Typography.Base,{className:dm.planTitle},d),g.createElement("div",{className:dm.priceWrapper},g.createElement(be.Typography.Base,{className:w?dm.priceFree:dm.price,"data-name":"turnaround-price"},k),g.createElement(be.Typography.Small,{className:w?dm.priceFree:""},g.createElement("span",{"data-name":"price-per-word"},E)," ",f.proofitOrderModal.order.perWord))),g.createElement(Mt.a.Animated,Object(m._)(Object(p._)({name:t.active.view((function(e){return e?"selected-order":"select-order"})),styleType:j(be.Typography.Type.Button,be.Typography.Type.Base)},Object(he.c)(w?dm.selectFreePlanButton:dm.selectPlanButton,j(sm.l,sm.p))),{"aria-label":j(f.proofitOrderModal.order.planIsSelected(d,k,E),f.proofitOrderModal.order.selectPlan(d,k,E)),"aria-live":j("assertive","off"),onClick:function(){return t.active.get()?l():c()},active:t.active,disabled:!S||Cc.c.isSendingState(i)}),j(f.statuses.selected,S?w?f.actions.free:f.actions.select:f.statuses.unavailable))),g.createElement(be.Typography.SmallLight,{className:dm.freeCreditsRemained},w?f.proofitOrderModal.order.freeReviewsLeft(_):"")))},fm=function(e){var t=e.price,n=e.subscription,r=g.useContext(eu.a.Context),i=g.useContext(le.a.Context).proofitOrderModal.order.paymentWarnings;switch(n.paymentMethod){case"payPal":return g.createElement(be.Typography.Small,{className:dm.paymentWarning},i.payPal(t));case"creditCard":return n.creditCard||T.d.Logging.getLogger("ProofitView").warn("Missing credit card"),g.createElement(be.Typography.Small,{className:dm.paymentWarning},i.creditCard(t)," ",g.createElement(yp.a,{href:r.account.subscription},i.updateBilling));default:return T.d.Logging.getLogger("ProofitView").warn("Unknown payment method: "+n.paymentMethod),g.createElement(g.Fragment,null)}},hm=(n("ewL9"),n("W2lE")),gm=jr.d.lazy((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"sbgk"))})),bm=function(e){var t=e.proofit,n=g.createElement("div",{className:hm.stepWrapper},g.createElement(pm,{key:"OrderStep1",proofit:t})),r=g.createElement("div",{className:hm.stepWrapper},g.createElement(g.Suspense,{fallback:g.createElement(kp.a,{variation:"blue",className:am.spinner})},g.createElement(gm,{key:"OrderStep2",proofit:t})));return g.createElement(rm,{state:t.rightStep,direction:fp.Vertical,steps:[n,r]})},vm=(n("/kBH"),n("DkqI")),ym=function(e){var t=e.proofit;return g.createElement("div",{className:vm.wrapper},g.createElement("div",{className:vm.row},g.createElement("div",{className:vm.leftCol},g.createElement(im,{proofit:t})),g.createElement("div",{className:vm.col},g.createElement(bm,{proofit:t}))))},Om=(n("3jw8"),n("oLzq")),_m=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"_modalClassName",(function(e,t){switch(e){case ap.a.Order:return t.proofitOrderModal;case ap.a.Success:return t.proofitOrderSuccess;default:return Object(bt.c)(e)}})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.proofit;return g.createElement(P.a.Context.Consumer,null,(function(n){return g.createElement(v.a.Fragment,null,t.isVisibleModal.view((function(r){return r?g.createElement(Ql.b,{positionType:"fixed",visible:t.isVisibleModal,animate:!0,smallResolution:"resize",key:"overlay"},g.createElement(Ql.a,{close:function(){n.gnarSpec.professionalProofreadingCloseButtonClick(n.docId,n.pageId),t.closeModal()},className:Om.proofitModal,focusTrapMode:"dynamic",key:"modal"},g.createElement(v.a.div,Object(p._)({name:"modalBody"},Object(he.c)(Om.proofitModalBody,t.modal.view(O.g.fold((function(){return""}),(function(t){return e._modalClassName(t.type,Om)}))))),t.modal.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Cm,{key:e.type,proofit:t,modal:e})})),O.g.orNull))))):null})))}))}},{key:"componentWillUnmount",value:function(){this.props.proofit.clearModals()}}]),n}(g.Component),Cm=function(e){var t=e.proofit,n=e.modal;switch(g.useEffect((function(){return function(){t.changeLeftStep(ap.c.Step1),t.freeProofitTermsAgreed.modify((function(){return!1}))}}),[t]),n.type){case ap.a.Order:return g.createElement(ym,{proofit:t,key:"order"});case ap.a.Success:return g.createElement(op.a,{payload:n.payload,close:function(){return t.closeModal()},key:"success"});default:return Object(bt.c)(n)}},wm=n("0LHr");!function(e){var t;!function(e){e.Default="default",e.TacticSelected="tacticSelected"}(t=e.Type||(e.Type={})),function(e){e.Idle="Idle",e.Loading="Loading"}(e.LoadingState||(e.LoadingState={})),e.isDefault=function(e){return e.type===t.Default},e.isPhrases=function(e){return e.type===t.TacticSelected}}(cm||(cm={})),function(e){e.create=function(e,o,s,c,l,u){var d=y.a.create(t(e)),f=new x.a.Subject,h=x.a.mergeStatic(Object(b.pipe)(f,x.a.tap(Object(b.flow)(um.match({onUpdatePhrases:Object(b.constant)((function(e){return u.gnarSpec.ideasGenerateMoreMoreIdeasButtonClicked(u.pageId,e.name,u.pageSessionId),cm.isPhrases(e)?Object(m._)(Object(p._)({},e),{loadingState:cm.LoadingState.Loading}):e})),onCollapse:a(s),onInsertPhrase:r((function(e,t){var n=t.name;o(e),u.gnarSpec.ideasSmartPhrasesButtonClicked(u.pageId,e.content,n,u.pageSessionId)})),onDismiss:i((function(){c(),h.unsubscribe()})),onSelectTactic:n,onIdeate:Object(b.constant)((function(e){return Object(m._)(Object(p._)({},e),{type:cm.Type.TacticSelected,loadingState:cm.LoadingState.Idle})}))}),d.modify.bind(d)))),Object(b.pipe)(d,x.a.switchMap((function(e){if(cm.isPhrases(e)&&e.loadingState===cm.LoadingState.Loading){var t=O.f.last(e.phrases);return Object(b.pipe)(l({tacticId:e.id,lastPhraseId:t.id,outcomeRequest:e.outcomeRequest}),O.l.map((function(t){return{prevId:e.id,phrases:t}})))()}return x.a.EMPTY})),x.a.filter(O.b.isRight),x.a.map(O.b.unsafeGet),x.a.delay(1e3),x.a.tap((function(e){return d.modify((function(t){return cm.isPhrases(t)&&e.prevId===t.id?Object(m._)(Object(p._)({},t),{phrases:e.phrases,loadingState:cm.LoadingState.Idle}):t}))})))).subscribe();return{state:d,actions:f}};var t=function(e){return Object(p._)({type:cm.Type.Default},O.f.head(e.tactics),e)},n=function(e){return function(t){var n=t.tactics.find((function(t){return t.id===e.tacticId}));return n?Object(p._)({},t,n):(o("DraftAIEditorViewModel").error("Trying to select a missing section",{tactics:t.tactics.map((function(e){return e.id})),selected:e.tacticId}),t)}},r=function(e){return function(t){return function(n){if(cm.isPhrases(n)){var r=n.phrases.find((function(e){return e.id===t.phraseId}));r?e(r,n):o("DraftAIEditorViewModel").error("Trying to insert a missing phrase")}else o("DraftAIEditorViewModel").error("Cannot send phrase from Sections state");return n}}},i=vl.h(Object(b.constant)(b.identity)),a=vl.h(Object(b.constant)(t)),o=Object(z.l)(T.d.Logging.getLogger)}(lm||(lm={})),function(e){var t;!function(e){e[e.UpdatePhrases=0]="UpdatePhrases",e[e.Collapse=1]="Collapse",e[e.Dismiss=2]="Dismiss",e[e.SelectTactic=3]="SelectTactic",e[e.Ideate=4]="Ideate",e[e.InsertPhrase=5]="InsertPhrase",e[e.SelectMiniCard=6]="SelectMiniCard"}(t=e.Type||(e.Type={}));e.match=function(e){return function(n){switch(n.type){case t.UpdatePhrases:return e.onUpdatePhrases(n);case t.Collapse:return e.onCollapse(n);case t.Dismiss:return e.onDismiss(n);case t.InsertPhrase:return e.onInsertPhrase(n);case t.SelectTactic:return e.onSelectTactic(n);case t.Ideate:return e.onIdeate(n);default:return Object(bt.c)(n)}}}}(um||(um={}));var Sm,km=n("4Yir"),Em=n("jEie"),jm=n("ZCrp"),xm=n.n(jm);!function(e){e.GenerateButton=function(e){return g.createElement(Mt.a.Primary,Object(p._)({},e,Object(he.c)(Im.button,e.className)),g.createElement("img",{className:Im.logo,src:xm.a,alt:"","aria-hidden":!0}),e.children)};var t=function(){var e=g.useContext(wd.a.Context).draftAI.gallery.harvardRecommends,t=e.title,n=e.body;return g.createElement("div",{className:Im.tooltipRecommends},g.createElement("div",null,g.createElement(Et.d.IdeasRecommended,{width:"12",height:"14",className:Im.tooltipRecommendsIcon}),g.createElement("b",null,t)),g.createElement("div",null,n))};e.TacticButton=function(e){return g.createElement(Mt.a.Primary,Object(m._)(Object(p._)({},e,Object(he.c)(e.className,Im.tactic)),{title:e.isRecommended?g.createElement(t,null):void 0,titleAlign:"topCenter"}),e.isRecommended?g.createElement(Et.d.IdeasRecommended,{className:Im.tacticRecommendedIcon}):null,e.children,Boolean(e.active)?g.createElement(Et.d.Cross,{className:Im.tacticSelectionIcon,width:12}):g.createElement(Et.d.NewSmall,{className:Im.tacticSelectionIcon}))},e.MoreButton=function(e){var t=g.useContext(wd.a.Context).draftAI.gallery.more;return g.createElement(Mt.a.Primary,Object(p._)({},e,Object(he.c)(e.className,Im.tactic,Im.more)),g.createElement("div",{className:Im.counter},g.createElement(jd.a.Counter,{count:e.count,type:"blue"})),t,g.createElement(Et.d.Arrow,{className:Im.tacticSelectionIcon}))}}(Sm||(Sm={}));var Am=E.a.rem(1.375),Im=E.a.prefixedStylesheet("ideas_button",{button:[{height:E.a.rem(2.5),borderRadius:E.a.rem(2.125),display:"flex",flexDirection:"row",alignItems:"center",$nest:{"&[data-textpos='right']":{padding:"".concat(E.a.rem(.5)," ").concat(E.a.rem(1)," ").concat(E.a.rem(.5)," ").concat(E.a.rem(.5))}}}],logo:[{width:Am,height:Am,marginRight:E.a.rem(.5)}],tactic:[{paddingLeft:E.a.rem(1),paddingRight:E.a.rem(1),color:Te.a.CoreBlue50,height:E.a.rem(2.5),display:"inline-flex",flexDirection:"row",alignItems:"center",backgroundColor:Te.a.CoreNeutral10,border:"1px solid transparent",$nest:{"&:not([data-disabled='true']) > i":{fill:Te.a.CoreNeutral50,stroke:Te.a.CoreNeutral50},"&:not([data-hovered='true']) > i":{fill:Te.a.CoreNeutral50,stroke:Te.a.CoreNeutral50},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:Te.a.CoreBlue10,borderColor:Te.a.CoreBlue50,$nest:{"& > i":{fill:Te.a.CoreBlue50,stroke:Te.a.CoreBlue50}}},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:Te.a.CoreBlue10,borderColor:Te.a.CoreBlue50,$nest:{"& > i":{fill:Te.a.CoreBlue50,stroke:Te.a.CoreBlue50}}}}}],more:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{border:"1px solid transparent"}}}],tacticRecommendedIcon:[{marginLeft:E.a.rem(-.5)}],tacticSelectionIcon:[{marginRight:E.a.rem(-1),marginLeft:E.a.rem(.25)}],tooltipRecommends:[{fontSize:E.a.rem(.75),lineHeight:E.a.rem(1.125)}],tooltipRecommendsIcon:[{marginLeft:E.a.rem(-1.5),minHeight:E.a.rem(1.125),'& path[data-figure="bg"]':{fill:Te.a.CoreNeutral0},'& path[data-figure="arrow"]':{stroke:Te.a.CoreNeutral70},'& path[data-figure="arrow_spire"]':{fill:Te.a.CoreNeutral70}}],counter:[{width:E.a.rem(1.125),display:"inline-flex",marginRight:E.a.rem(.5)}]}),Tm=n("UnJg"),Mm=n("wvT7");function Pm(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function Nm(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function Bm(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Nm(n.overflowY,t)||Nm(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Lm(e,t,n,r,i,a,o,s){return a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0}var Fm=function(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,c="function"==typeof o?o:function(e){return e!==o};if(!Pm(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],d=e;Pm(d)&&c(d);){if((d=d.parentElement)===l){u.push(d);break}null!=d&&d===document.body&&Bm(d)&&!Bm(document.documentElement)||null!=d&&Bm(d,s)&&u.push(d)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),b=g.height,v=g.width,y=g.top,O=g.right,_=g.bottom,C=g.left,w="start"===i||"nearest"===i?y:"end"===i?_:y+b/2,S="center"===a?C+v/2:"end"===a?O:C,k=[],E=0;E<u.length;E++){var j=u[E],x=j.getBoundingClientRect(),A=x.height,I=x.width,T=x.top,M=x.right,P=x.bottom,N=x.left;if("if-needed"===r&&y>=0&&C>=0&&_<=m&&O<=p&&y>=T&&_<=P&&C>=N&&O<=M)return k;var B=getComputedStyle(j),L=parseInt(B.borderLeftWidth,10),F=parseInt(B.borderTopWidth,10),R=parseInt(B.borderRightWidth,10),D=parseInt(B.borderBottomWidth,10),H=0,V=0,U="offsetWidth"in j?j.offsetWidth-j.clientWidth-L-R:0,W="offsetHeight"in j?j.offsetHeight-j.clientHeight-F-D:0;if(l===j)H="start"===i?w:"end"===i?w-m:"nearest"===i?Lm(h,h+m,m,F,D,h+w,h+w+b,b):w-m/2,V="start"===a?S:"center"===a?S-p/2:"end"===a?S-p:Lm(f,f+p,p,L,R,f+S,f+S+v,v),H=Math.max(0,H+h),V=Math.max(0,V+f);else{H="start"===i?w-T-F:"end"===i?w-P+D+W:"nearest"===i?Lm(T,P,A,F,D+W,w,w+b,b):w-(T+A/2)+W/2,V="start"===a?S-N-L:"center"===a?S-(N+I/2)+U/2:"end"===a?S-M+R+U:Lm(N,M,I,L,R+U,S,S+v,v);var z=j.scrollLeft,G=j.scrollTop;w+=G-(H=Math.max(0,Math.min(G+H,j.scrollHeight-A+W))),S+=z-(V=Math.max(0,Math.min(z+V,j.scrollWidth-I+U)))}k.push({el:j,top:H,left:V})}return k};function Rm(e){return e===Object(e)&&0!==Object.keys(e).length}var Dm,Hm=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(Rm(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:Fm(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:Rm(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(Fm(e,r),r.behavior)}},Vm=function(){return Dm||(Dm="performance"in window?performance.now.bind(performance):Date.now),Dm()};function Um(e,t,n,r,i,a){var o,s,c;void 0===r&&(r=600),void 0===i&&(i=function(e){return 1+--e*e*e*e*e}),o=e,s=e.scrollLeft,c=e.scrollTop,function e(t){var n=Vm(),r=Math.min((n-t.startTime)/t.duration,1),i=t.ease(r),a=t.startX+(t.x-t.startX)*i,o=t.startY+(t.y-t.startY)*i;t.method(a,o),a!==t.x||o!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:o,method:function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},startTime:Vm(),startX:s,startY:c,x:t,y:n,duration:r,ease:i,cb:a})}var Wm=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||"smooth"===e.behavior}(n)?Hm(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var r=t.el,i=t.left,a=t.top,o=r.scrollLeft,s=r.scrollTop;return o===i&&s===a?e:[].concat(e,[new Promise((function(e){return Um(r,i,a,n.duration,n.ease,(function(){return e({el:r,left:[o,i],top:[s,a]})}))}))])}),[]))}}):Promise.resolve(Hm(e,t))},zm=n("SNOG"),Gm=de.b.Grid.make((function(e){var t=e.slots;return g.createElement("div",{className:lf.container},t.body)})),qm=de.b.Node.make((function(e){var t=e.state,n=e.notify,r=g.createRef();return j.a.useSubscriptionTo(Object(b.pipe)(t,x.a.map((function(e){return e.scrollTo})),x.a.distinctUntilChanged(),x.a.tap((function(e){return Object(b.pipe)(O.g.fromNullable(r.current),O.g.chain((function(t){return O.g.fromNullable(t.querySelector("."+Km(e)))})),Ym)})))),g.createElement(v.a.div,{mount:r},t.pipe(x.a.map((function(e){return Object(b.pipe)(e.phrases,O.f.map((function(e){return g.createElement(Mt.a.White,Object(p._)({key:e.id,name:"phrase",onClick:n({type:um.Type.InsertPhrase,phraseId:e.id})},Object(he.c)(U.o.button,lf.phrase,Km(e.id))),e.content)})))}))))})),Km=function(e){return"phrase-id-"+e},$m=de.b.Node.make((function(e){var t=e.state,n=g.createRef();return j.a.useSubscriptionTo(t.pipe(x.a.distinctUntilChanged(),x.a.switchMap(A.b.Scheduler.rafScheduler),x.a.tap((function(e){return Boolean(e)&&Object(b.pipe)(n.current,O.g.fromNullable,Ym)})))),g.createElement(v.a.div,{className:t.pipe(x.a.map((function(e){return e?lf.loader:lf.loaderHidden}))),mount:n},g.createElement(zm.a,null))})),Zm=de.b.Grid.make((function(e){var t=e.slots,n=e.state,r=j.a.useElWatcher(),i=r.ref,a=r.onMount;return j.a.useSubscriptionTo(Object(b.pipe)(x.a.combineLatestStatic([i.pipe(x.b.compact),n.pipe(x.a.filter((function(e){return e.resetScroll})))]).pipe(x.a.tap((function(e){return Object(f._)(e,1)[0].scrollTop=0}))))),g.createElement(v.a.div,{mount:a,className:lf.phrases,style:n.pipe(x.a.map((function(e){return e.isScrollable})),x.a.distinctUntilChanged(),x.a.startWith(!0),x.a.map((function(e){return{overflow:e?void 0:"hidden"}})))},t.phrases,t.loader)})),Ym=O.g.tap((function(e){return Wm(e,{behavior:"smooth",block:"nearest",inline:"start",scrollMode:"if-needed"})})),Xm=de.b.Knot.make(Zm,{phrases:qm,loader:$m}),Qm=de.b.Union.asOption(de.b.Knot.make(Gm,{body:Xm})),Jm=Object(b.flow)(x.a.map(O.g.fromPredicate(cm.isPhrases)),(function(e){var t=e.pipe(x.a.distinctUntilChanged(O.g.getEq(O.c.getStructEq({id:O.c.eqStrict,phrases:O.c.eqStrict})).equals),x.a.map(O.g.map((function(e){return Object(m._)(Object(p._)({},e),{phrases:{scrollTo:e.phrases[0].id,phrases:e.phrases}})}))),x.a.scan((function(e,t){return Object(b.pipe)(t,O.g.map((function(t){var n=t.id,r=t.phrases;return Object(b.pipe)(e,O.g.filter((function(e){return e.id===n})),O.g.fold(Object(b.constant)({id:n,phrases:r}),(function(e){return{id:e.id,phrases:ef(e.phrases.phrases,r.phrases)}})))})))})),x.a.map(O.g.map((function(e){return e.phrases})))),n=e.pipe(x.a.map(O.g.map((function(e){return e.loadingState}))),x.a.distinctUntilChanged(O.g.getEq(O.c.eqStrict).equals),x.a.map(O.g.map((function(e){return e===cm.LoadingState.Loading})))),r=n.pipe(x.a.map(O.g.map((function(e){return!e})))),i=e.pipe(x.a.pairwise(),x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return Object(b.pipe)(r,O.g.map((function(e){var t=e.id;return O.g.exists((function(e){return e.id!==t}))(n)})))})),x.a.startWith(O.g.none));return x.a.combineLatestStatic([t,n,r,i]).pipe(x.a.map((function(e){var t=Object(f._)(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return Object(b.pipe)(Object(Mm.a)(O.g.Applicative)({phrases:n,loader:r,resetScroll:a,isScrollable:i}))})),x.a.map(O.g.map((function(e){var t=e.phrases,n=e.loader,r=e.isScrollable;return{body:{phrases:t,loader:n,root:{resetScroll:e.resetScroll,isScrollable:r}}}}))))}));function ef(e,t){for(var n=O.f.copy(e),r=0;r<t.length;r++){var i=t[r];n[0].id===i.id&&n.shift(),n.push(i)}return{scrollTo:e[e.length-1].id,phrases:n}}var tf,nf,rf=E.a.rem(1.375),af=E.a.keyframes({to:{opacity:0}}),of=E.a.keyframes({"0%":{opacity:0,transform:"translateY(50%)"},"50%":{opacity:0},"100%":{opacity:1}}),sf={height:E.a.rem(16.625),overflowY:"auto",animationDuration:"".concat(300,"ms"),animationFillMode:"forwards"},cf={height:E.a.rem(11),pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",width:E.a.percent(100),backgroundColor:Te.a.CoreNeutral0},lf=E.a.prefixedStylesheet("draft_ai_phrase_selector",{title:[{paddingTop:E.a.rem(1.5)}],loader:[cf],loaderHidden:[cf,{position:"absolute",opacity:0,bottom:0}],smartPhrasesTitle:[{color:Te.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:Te.h.SubheadingLetterSpacing,fontSize:E.a.rem(Te.h.SubheadingSize),lineHeight:E.a.rem(Te.h.SubheadingLineHeight),borderBottom:"1px solid ".concat(Te.a.CoreNeutral20),marginTop:0,paddingBottom:E.a.rem(.5),marginBottom:E.a.rem(.5)}],phrase:[{width:E.a.percent(100),whiteSpace:"initial",textTransform:"none",lineHeight:E.a.important(E.a.rem(1.375)),padding:"".concat(E.a.rem(.3)," ").concat(E.a.rem(.5)),$nest:{"&:not(:last-child)":{marginBottom:E.a.rem(.5)}}}],addPhraseIcon:[{minWidth:rf,minHeight:rf,marginTop:E.a.important(0)}],container:[{paddingBottom:E.a.rem(.75)}],phrases:[sf],phrasesRemoving:[sf,{animationName:af}],phrasesAppearing:[sf,{animationName:of}]}),uf=function(e){var t=e.tactics,n=e.description,r=e.selectedTactic,i=e.onSelect;return g.createElement(g.Fragment,null,t.map((function(e){return g.createElement(df,{key:e.id,tactic:e,selected:e.id===r,onClick:function(){return i(e.id)}})})),g.createElement(U.a,{className:ff.description},n))},df=function(e){var t=e.tactic,n=e.selected,r=e.onClick,i={name:"ideas-tactic-".concat(t.id),children:t.name,onClick:r};return n?g.createElement(Mt.a.Primary,Object(m._)(Object(p._)({},i),{className:ff.sectionButtonSelected})):g.createElement(Mt.a.Ghost,Object(m._)(Object(p._)({},i),{className:ff.sectionButton}))},pf={marginRight:E.a.rem(.5),marginBottom:E.a.rem(.5),border:"1px solid ".concat(Te.a.CoreNeutral20),backgroundColor:Te.a.CoreNeutral0,color:Te.a.CoreBlue50},mf={color:Te.a.CoreNeutral0,backgroundColor:Te.a.CoreBlue50},ff=E.a.prefixedStylesheet("ideas_tactic_selector",{sectionButton:[pf],sectionButtonSelected:[pf,mf],description:[{marginTop:E.a.rem(.5),lineHeight:E.a.rem(1.375),marginBottom:E.a.rem(1)}]}),hf=function(e){var t,n=Object(Em.b)({layoutDensity:"minimal"});return g.createElement("div",{className:n.container},g.createElement(v.a.div,{className:Tm.a.cardHeader},Object(b.pipe)(e.state.view("title"),x.a.map((function(e){return g.createElement(vf,null,e)}))),g.createElement("div",{className:Tm.a.cornerButton},g.createElement(Mt.a.Ghost,{name:"collapse",onClick:function(){return e.actions.next({type:um.Type.Collapse})}},g.createElement(Et.f.Collapse,null)))),g.createElement("div",{className:Tm.a.cardWrapper},g.createElement("div",{className:Tm.a.cardSectionsRow},g.createElement(v.a.Fragment,null,Object(b.pipe)(e.state,x.a.map((function(t){var n=t.tactics,r=t.description,i=t.id;return g.createElement(uf,{tactics:n,description:r,selectedTactic:i,onSelect:function(t){return e.actions.next({type:um.Type.SelectTactic,tacticId:t})}})})))),de.b.mount(Of,(t=e,de.a.fromSideEffect((function(e){return t.actions.next(e.action.action.action.action)}),Jm(t.state))))),g.createElement(v.a.div,{className:Tm.a.cardActionsRow},de.b.mount(Cf,de.a.fromSideEffect((function(t){return e.actions.next(t.action)}),e.state)),g.createElement("div",{className:Tm.a.cardActionsSeparator}),g.createElement(Mt.a.Ghost,{name:"dismiss",onClick:function(){return e.actions.next({type:um.Type.Dismiss})}},g.createElement(Et.d.Ignore,null)))))},gf=de.b.Node.make((function(e){var t=e.notify;return g.createElement(Sm.GenerateButton,{name:"generate-more-phrases",onClick:t({type:um.Type.UpdatePhrases})},g.useContext(wd.a.Context).draftAI.morePhrases)})),bf=de.b.Node.make((function(e){var t=e.notify;return g.createElement(Sm.GenerateButton,{name:"inspire-me",onClick:t({type:um.Type.Ideate})},g.useContext(wd.a.Context).draftAI.inspireMe)})),vf=function(e){return g.createElement("span",Object(he.c)(km.a.lens,km.a.dot,km.a.commonLabel,Tm.a.cardHeaderSpan),g.createElement("img",{className:Tm.a.titleIcon,src:xm.a,alt:"","aria-hidden":!0}),e.children)},yf=de.b.Grid.make((function(e){var t=e.slots;return g.createElement(ye.b,{alignment:"left",eventType:"onclick",stepId:xu.a.StepId.Step15,title:"Click an idea to use and modify it.",message:"",themes:{notificationClassName:Tm.a.onboardingNotification}},g.createElement(g.Fragment,null,t.phrases))})),Of=Object(b.pipe)(Qm,de.b.patch("Some","value","body")((function(e){return de.b.Composite.make(yf,e)}))),_f=de.b.Grid.make((function(e){var t=e.slots;return g.createElement(ye.b,{alignment:"left",eventType:"onclick",stepId:xu.a.StepId.Step14,title:"Click to explore ideas",message:"",themes:{notificationClassName:Tm.a.onboardingNotification}},g.createElement(g.Fragment,null,t.ideate))})),Cf=de.b.Union.make("type",(tf={},Object(u._)(tf,cm.Type.Default,de.b.Composite.make(_f,bf)),Object(u._)(tf,cm.Type.TacticSelected,gf),tf)),wf=function(e){var t=e.draftAIEditorVM,n=e.lensPreviewVM,r=e.onTransitionEnd,i=e.transition,a=n.getLens(kc.a.SpecialId.AllAlerts).view("count"),o=new x.a.Subject;return j.a.useSubscriptionTo(o.pipe(x.a.filter((function(e){return e.type===Od.b.Type.switchToClosestByViewport})),x.a.mapTo({type:um.Type.Collapse}),x.a.tap(t.actions))),g.createElement(Vu.b.FixedContent,{key:kc.a.SpecialId.DraftAI,label:t.state.get().title},g.createElement(v.a.div,Object(m._)(Object(p._)({},Object(he.c)(Sf.lensContainer,i.pipe(x.a.map((function(e){return e.base}))))),{onTransitionEnd:r}),g.createElement(v.a.div,Object(he.c)(Sf.cardWrapper,i.pipe(x.a.map((function(e){return e.content})))),g.createElement(hf,t))),g.createElement(Vu.b.SeeAlerts,{cardsViewportState:a.view((function(e){return e>0?wm.a.below:wm.a.hidden})),actionEvents:o,cardsAmount:a}))},Sf=E.a.prefixedStylesheet("draft_ai_lens",{lensContainer:[{width:E.a.percent(100),paddingBottom:E.a.rem(3)}],cardWrapper:[{paddingRight:E.a.rem(2),paddingTop:E.a.rem(4.5)}]}),kf=n("9QYy"),Ef=n("SDkL"),jf=n("+ySe"),xf=n("VY6k"),Af=n("Qq8L"),If=(n("5IbU"),n("AAy5")),Tf=function(){var e=g.useContext(le.a.Context);return g.createElement("div",{className:If.content},g.createElement(U.a,{className:If.originality100Text},e.plagiarism.originalText),g.createElement(Pf,{className:If.illusration}))},Mf=function(e){var t=e.variation,n=void 0===t?"violet":t;return g.createElement("div",{className:If.content},g.createElement(kp.a,{variation:n,className:If.loader}),g.createElement(U.a,{className:If.loadingText},"Please wait.",g.createElement("br",null),"We’re checking your text against billions of web pages.",g.createElement("br",null),"It'll just take a moment."))},Pf=function(e){var t=e.className;return g.createElement("svg",Object(m._)(Object(p._)({},Object(he.c)(t)),{width:"334",height:"375",viewBox:"0 0 334 375",xmlns:"http://www.w3.org/2000/svg"}),g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M160.3 199.297C145.842 196.217 135 183.375 135 168c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 14.726-9.947 27.128-23.488 30.856 1.032-4.938 2.81-9.608 5.193-13.675.144-.214.215-.357.36-.572 1.504-2.576 2.15-5.438 2.006-8.372-.214-4.15-2.15-7.943-5.088-10.52l-1.362-1.144c-2.222-1.574-4.874-2.576-7.74-2.72-4.302-.285-8.315 1.146-11.47 4.08-3.08 2.862-4.8 6.94-4.8 11.09 0 2.362.5 4.652 1.576 6.727.358.787.716 1.43 1.218 2.075 2.323 4.075 3.954 8.634 4.895 13.472z",fill:"#F7EAF7"}),g.createElement("path",{d:"M176.62 164.617c-2.222-1.577-4.874-2.58-7.74-2.723-4.302-.287-8.315 1.146-11.47 4.085-3.08 2.866-4.8 6.952-4.8 11.11 0 2.364.5 4.658 1.576 6.736.358.79.716 1.434 1.218 2.08 2.365 4.156 4.014 8.815 4.946 13.76.286 1.362.5 2.796.645 4.158.358 1.075 1.075 1.72 2.007 1.935.215 1.36 1.29 2.507 2.795 3.01l1.147.286c.286.07.645.07.93.07.647 0 1.292-.07 1.865-.285 0 0 1.002-.358 1.002-.43 1.076-.644 1.792-1.576 1.936-2.65 1.003-.288 1.792-1.148 2.078-2.223.072-.86.215-1.65.36-2.437.93-5.734 2.866-11.18 5.59-15.84.143-.215.214-.36.358-.574 1.505-2.58 2.15-5.447 2.007-8.386-.214-4.157-2.15-7.956-5.088-10.536l-1.362-1.147zm-8.745 19.71c.932.718 2.294 1.506 3.728 1.864-1.076 3.872-1.936 9.463-2.222 11.254h-3.01c-.286-1.79-1.147-7.454-2.222-11.253 1.434-.357 2.796-1.074 3.727-1.862zm-1.29-3.08c0-.073-.143-1.506 1.075-1.72h.36c1.217.214 1.074 1.647 1.074 1.72-.072.716-.79 1.432-1.29 1.79-.43-.43-1.147-1.074-1.22-1.79zm-1.003 17.344c.143.073.215.145.358.073.072 0 .144-.072.215-.072h3.297c.072.073.144.073.215.073h.072c.142 0 .214-.072.286-.072h4.3c-.143.79-.287 1.506-.43 2.295 0 .072 0 .143-.072.287h-12.04c-.073-.574-.144-1.147-.288-1.65-.07-.286-.143-.572-.215-.86l4.302-.07zm2.293 9.462c-1.79 0-3.368-.93-3.727-2.222h7.383c-.286 1.29-1.863 2.222-3.655 2.222zm3.943-3.297h-7.956c-.79 0-1.506-.5-1.792-1.147-.072-.43-.144-.93-.144-1.36h11.898c-.07.357-.07.715-.143 1.074-.214.86-.93 1.433-1.862 1.433zm10.106-28.455c.143 2.724-.502 5.376-1.792 7.67v.07c-.143.216-.215.43-.36.646-2.292 3.87-3.94 8.243-5.087 12.83h-4.23c.287-1.935 1.148-7.382 2.223-11.11.573.072 1.146.072 1.648-.07 1.22-.36 1.72-1.578 1.65-2.58-.073-.933-.646-1.578-1.435-1.722-.5-.07-1.432.144-1.934 1.29-.215.502-.43 1.147-.645 1.864-1.146-.287-2.364-.932-3.153-1.505.574-.502 1.362-1.29 1.434-2.365.072-1.22-.5-2.652-2.006-2.867H167.59c-1.506.287-2.08 1.72-2.008 2.868.072 1.075.86 1.863 1.433 2.365-.788.573-2.007 1.218-3.153 1.505-.215-.717-.43-1.362-.645-1.864-.502-1.146-1.434-1.36-1.936-1.29-.787.072-1.36.79-1.432 1.72-.072 1.004.43 2.222 1.648 2.58.502.144 1.076.144 1.65.072 1.002 3.656 1.934 9.103 2.22 11.11h-4.228c-1.003-4.372-2.58-8.458-4.66-12.185-.357-.644-.787-1.29-1.146-1.934 0 0 0-.072-.07-.072-.933-1.935-1.435-4.085-1.435-6.235 0-3.872 1.65-7.67 4.516-10.322 2.867-2.724 6.665-4.014 10.608-3.8 2.653.216 5.16 1.076 7.24 2.58.07.073.143.144.215.144 3.082 2.366 5.304 6.236 5.52 10.608zm-8.96 9.03c.215-.644.43-1.217.574-1.647.286-.717.788-.645.788-.645.43.07.502.573.502.717.072.573-.215 1.29-.86 1.433-.287.143-.645.215-1.004.143zm-10.177 0c-.36 0-.717 0-1.004-.07-.645-.215-.932-.86-.86-1.434 0-.143.072-.645.502-.717.143 0 .5.07.788.645.143.43.358.93.574 1.576z",fill:"#8189A9",fillRule:"nonzero"}),g.createElement("path",{d:"M167.804 157.88c-.287 0-.502-.287-.574-.574v-8.457c0-.36.287-.575.574-.575.358 0 .573.287.573.574v8.456c0 .36-.287.574-.573.574zm-10.75 2.58l-4.302-7.31c-.143-.216-.072-.574.215-.717.215-.144.573-.072.717.215l4.3 7.31c.144.215.072.574-.215.717-.072.072-.216.072-.287.072-.144 0-.36-.144-.43-.287zm-14.55 3.44c-.217-.143-.288-.43-.145-.716.142-.287.43-.36.716-.215l7.382 4.156c.287.143.36.43.215.717-.143.215-.286.286-.5.286-.145 0-.216 0-.288-.072l-7.383-4.157zm-3.442 14.48c-.287 0-.573-.288-.573-.503-.073-.358.214-.573.5-.573l8.458-.072c.358 0 .573.215.573.502.073.358-.214.573-.5.573l-8.458.072zm10.966 9.03c.215-.143.574-.072.79.215.142.215.07.573-.216.717l-7.31 4.23c-.073.07-.216.07-.288.07-.215 0-.43-.143-.5-.286-.145-.215-.073-.574.214-.717l7.31-4.23zm12.472-29.458l-1.505-4.874c-.072-.287.07-.574.358-.645.287-.072.573.07.645.358l1.505 4.875c.072.287-.07.573-.358.645h-.143c-.215 0-.43-.143-.502-.358zm-9.103 5.303l-3.727-3.44c-.215-.215-.215-.573 0-.788.215-.215.573-.215.788 0l3.728 3.44c.215.215.215.573 0 .788-.144.072-.287.144-.43.144-.144 0-.287-.073-.36-.145zm-4.66 8.816c0 .217-.214.432-.5.432h-.144l-4.945-1.076c-.287-.07-.502-.358-.43-.645.07-.285.358-.5.645-.43l4.945 1.076c.287.072.502.36.43.646zm-5.733 11.47l4.874-1.577c.287-.072.574.07.645.358.072.288-.07.574-.358.646l-4.874 1.577h-.142c-.215 0-.43-.143-.502-.358-.072-.287.072-.574.358-.646zm9.748 7.884c.143-.215.502-.215.788 0 .287.215.287.573.072.788l-3.44 3.727c-.144.07-.287.143-.43.143-.144 0-.287-.072-.36-.144-.285-.216-.285-.574-.07-.79l3.44-3.726zm40.063-27.523l-7.382 4.158c-.072.07-.143.07-.287.07-.215 0-.358-.07-.502-.285-.143-.287-.07-.574.216-.717l7.382-4.157c.287-.145.573-.073.717.214.142.286.07.573-.145.717zm3.372 14.48l-8.458-.073c-.287 0-.574-.215-.502-.573 0-.287.215-.502.573-.502l8.46.072c.285 0 .572.215.5.573 0 .215-.286.502-.573.502zm-10.608 9.03l7.31 4.23c.287.142.358.5.215.716-.072.143-.287.286-.502.286-.07 0-.215 0-.286-.07l-7.31-4.23c-.288-.144-.36-.502-.216-.717.216-.287.574-.358.79-.215zm.86-15.34c-.072-.285.143-.572.43-.644l4.945-1.075c.287-.07.573.145.645.43.072.288-.143.575-.43.646l-4.946 1.076h-.143c-.286 0-.5-.215-.5-.43zm6.163 11.47c.287.07.43.358.36.645-.073.215-.288.358-.503.358h-.143l-4.874-1.577c-.287-.072-.43-.358-.36-.645.073-.286.36-.43.646-.357l4.873 1.577zm-9.46 7.884l3.44 3.727c.215.216.215.574-.072.79-.07.07-.214.143-.357.143-.144 0-.287-.072-.43-.144l-3.44-3.728c-.216-.215-.216-.573.07-.788.288-.215.646-.215.79 0zm-5.233-30.82c-.287-.144-.358-.43-.215-.717l4.3-7.31c.144-.288.43-.36.717-.216s.36.43.215.718l-4.3 7.31c-.072.215-.215.287-.43.287-.072 0-.215 0-.287-.072zm-5.447-2.294c-.287-.072-.43-.358-.36-.645l1.506-4.874c.07-.286.358-.43.645-.357.286.07.43.358.358.645l-1.505 4.874c-.072.215-.287.358-.502.358h-.143zm9.102 4.945c-.215-.215-.215-.573 0-.788l3.727-3.44c.216-.215.574-.215.79 0 .214.215.214.573 0 .788l-3.728 3.44c-.072.072-.215.144-.36.144-.142 0-.357 0-.43-.145z",fillOpacity:".5",fill:"#C770C8",fillRule:"nonzero"}),g.createElement("g",{fillRule:"nonzero"},g.createElement("path",{d:"M297.125 147.025c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM121.425 366.225l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm5.6 5.7l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm5.7-5.7c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zM195.025 57.125l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F9E799"}),g.createElement("path",{d:"M62.8 135.5c.5 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8H48.3c-.4 0-.9.2-.9.7 0 .5.4.8.8.8h14.6zm-19.3 0c.4 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8h-4.7c-.4 0-.8.2-.8.7 0 .5.4.8.8.8h4.7zm-4.7 5H49c.5 0 .8-.3.8-.8s-.4-.8-.8-.8H38.8c-.5 0-.8.3-.8.8s.4.8.8.8zm14.5 0h3.3c.5 0 .8-.3.8-.8s-.4-.8-.8-.8h-3.3c-.5 0-.8.3-.8.8s.4.8.8.8zM311 12.3c0 .4-.3.7-.8.8h-14.6c-.5 0-.8-.3-.8-.8s.4-.8.8-.8h14.6c.5 0 .8.4.8.8zm4 .7c-.4 0-.8-.3-.8-.8s.4-.8.8-.8h4.7c.5 0 .8.3.8.8s-.4.8-.8.8H315zm4.7 3.5c.5 0 .8.4.8.8 0 .5-.4.8-.8.8h-10.1c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h10.1zm-14.5 0c.5 0 .8.4.9.8 0 .5-.4.8-.8.8H302c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h3.2z",fill:"#A4D3FF"}),g.createElement("path",{d:"M0 3.9c0 2.2 1.8 3.9 3.9 3.9 2.2 0 3.9-1.8 3.9-3.9C7.8 1.7 6 0 3.9 0 1.7 0 0 1.7 0 3.9zm6.3 0c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.3 1.1-2.4 2.4-2.4 1.3 0 2.4 1 2.4 2.4zM330.4 301c-1.9 0-3.4 1.5-3.4 3.4s1.5 3.4 3.4 3.4 3.4-1.5 3.4-3.4c-.1-1.9-1.6-3.4-3.4-3.4zm0 5.2c-1 0-1.9-.8-1.9-1.9 0-1 .8-1.9 1.9-1.9 1 0 1.9.8 1.9 1.9-.1 1.1-.9 1.9-1.9 1.9zM113.6 101.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3c1.3 0 2.4 1.1 2.4 2.4 0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7"}))))},Nf=(n("nEY+"),n("2xUq"));!function(e){e.NearTitle="NearTitle",e.AboveCards="AboveCards"}(nf||(nf={}));var Bf,Lf,Ff=function(e){var t=g.useContext(le.a.Context);return g.createElement(Bf.Content,Object(m._)(Object(p._)({},e),{theme:{viewport:Uu.a.viewport,lensviewContentWrapper:Uu.a.lensviewContentWrapper},loaderVariation:"cyan"}),g.createElement(v.a.div,Object(he.c)(Uu.a.headerWrapper,e.transition.pipe(x.a.map((function(e){return e.title})))),g.createElement(_d.a.Title,{lensAlertsCount:e.state.view("currentLens","meta","percentile").view(Object(b.flow)(xd.a.fromRatio,xd.a.prism.reverseGet)),lensId:kc.a.SpecialId.Plagiarism,lensPreviewVM:e.lensPreviewVM,customInfoButton:g.createElement(v.a.Fragment,null,e.getPlagiarismText(nf.NearTitle)(t,e.plagiarismModel.checkingState,e.state.view("currentLens","meta","percentile").view(xd.a.fromRatio),e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.state.view("currentLens","items","size")))})))};(Lf=Bf||(Bf={})).getPlagiarismTextNearTitle=function(e,t,n,r,i){return y.a.combine(t,n,r,i,(function(t,n,r,i){var a="full"===t?e.plagiarism.loadingDescription:e.plagiarism.helpIconDescription(n,r,i);return r>0||"full"===t?g.createElement(Mt.b,{key:a,title:a}):null}))},Lf.getPlagiarismTextAboveCards=function(e,t,n,r,i){return y.a.combine(n,r,i,(function(t,n,r){return e.plagiarism.lensDescription(t,n,r,Object(xf.a)(Nf.whiteReferenceLink))}))},Lf.Content=function(e){return g.createElement(g.Fragment,{key:kc.a.SpecialId.Plagiarism},g.createElement(Vu.b.FixedContent,{label:e.state.get().currentLens.meta.title,onTransitionEnd:e.onTransitionEnd},e.children,g.createElement(Vu.b.SeeAlerts,{key:"seeAlerts",cardsViewportState:jf.c.getCardsViewportState(e.state,e.cardsListScrollManager,e.capabilities),actionEvents:e.cardsVM.actionEvents,cardsAmount:e.state.view("currentLens").view("items").view("size")}),g.createElement(v.a.div,{className:e.theme.viewport},g.createElement(v.a.div,Object(he.c)(Nf.content,e.transition.pipe(x.a.map((function(e){return e.base})))),y.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(function(t,n){switch(n){case"idle":case"checking":return t>0?null:g.createElement(Tf,{key:"originality100"});case"full":return g.createElement(Mf,{key:"loading",variation:e.loaderVariation});default:return Object(bt.c)(n)}}))))),g.createElement(v.a.div,null,y.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(function(t,n){switch(n){case"idle":case"checking":return t>0?g.createElement(Rf,Object(p._)({key:"cards-view"},e)):null;case"full":return null;default:return Object(bt.c)(n)}}))))};var Rf=function(e){var t=e.cardsVM,n=e.state,r=e.scrollEl,i=e.cardsListScrollManager,a=e.isMaster,o=e.transition,s=e.theme,c=e.checksFeedItem,l=e.capabilities,u=e.comparator,d=Af.a.Elements.create(),p=n.lens(ue.e.Prism.getLens()),m=y.a.create(O.g.none),f=new x.a.ReplaySubject;j.a.useSubscriptionTo(f.pipe(x.a.tap((function(e){return d.lens("scrollConsumer").set(e)}))));var h=kf.a.cardList(c(t.actionEvents)),b=jf.c.getScrollObserver(i).pipe(x.a.startWith(!1)),_=Sd.a.createCardListFlow(t,O.g.none,O.g.none)(t,p,f,b,l,u);return g.createElement(Af.a,{stateSyncListener:Af.a.superScrollListener(i,d),height:jf.c.getAssistantHeight(n,i,l),className:o.pipe(x.a.map((function(e){return e.assistantWrapper}))),name:"plagiarism",isMaster:a},g.createElement(g.Fragment,null,g.createElement("div",{ref:function(e){return m.set(O.g.fromNullable(e))},className:Nf.fakeTop}),g.createElement(v.a.div,{className:s.viewport},g.createElement(v.a.div,Object(he.c)(s.lensviewContentWrapper,o.pipe(x.a.map((function(e){return e.content})))),g.createElement(te.c,{onMount:function(){return x.a.mergeStatic(r.pipe(x.a.tap(A.b.toAtom(d.lens("scrollProvider")))),m.pipe(x.a.tap(A.b.toAtom(d.lens("viewport"))))).subscribe()}},de.b.mount(Ef.a,(function(){return jf.c.getPlaceholderState(n,i)})),de.b.mount(h,_))))))},Df=n("5QQ2"),Hf=(n("YEfA"),n("xryS")),Vf=function(){return g.createElement("svg",{"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},g.createElement("path",{d:"M4.6665 4.66663L7.99984 7.99996L4.6665 11.3333M9.33317 4.66663L12.6665 7.99996L9.33317 11.3333",stroke:"#4D536E",strokeLinecap:"round"}))},Uf=function(e){var t=e.state,n=e.navigationViewModel,r=g.useContext(P.a.Context),i=r.gnarSpec,a=r.pageId,o=g.useContext(le.a.Context);return g.createElement(Mt.a.SidebarFlat,{name:"hide-assistant",className:Hf.overviewBtn,onClick:function(){n.events.next({type:"toggleSidebar",actionSource:en.b.sidebar}),i.assistantCloseButtonClick(a,t.get().currentLens.type)},tag:wp.b.div},g.createElement(U.l,{className:Hf.hideAssistantOutcomeText},o.hideAssistant),g.createElement(Vf,null))},Wf=function(e){var t=e.state,n=e.documentModel,r=e.features,i=e.navigationViewModel;return g.createElement(v.a.div,{className:Hf.sidebarHeader},t.view(ue.e.isSidebarOpened).view((function(e){return e?g.createElement(Uf,{key:"hide-assistant",state:t,navigationViewModel:i}):g.createElement("div",{"data-name":"toggler",key:"toggle-wrapper",className:Hf.togglerWrapper},g.createElement(Df.a,{documentModel:n,features:r,navigationViewModel:i}))})))},zf=n("hmxm"),Gf=n("Vt5D"),qf=de.b.Node.make((function(e){var t=e.state,n=e.notify;return g.createElement(Mt.a.Primary,{name:"draftai-mini",className:Zf.button,onClick:n("click")},t.pipe(x.a.map((function(e){return e.title}))))})),Kf=de.b.Union.asOption(qf),$f={transition:"opacity 100ms"},Zf=E.a.prefixedStylesheet("draftai_minibutton",{button:[{position:"absolute",right:E.a.rem(2),padding:"0 ".concat(E.a.rem(.5)),transition:"opacity 100ms"}],icon:[{display:"inline-flex",minHeight:E.a.rem(2),minWidth:E.a.rem(2),verticalAlign:"top"}],fadeIn:[$f,{opacity:1}],fadeOut:[$f,{opacity:0}]}),Yf=de.b.Transition.make({fadein:Zf.fadeIn},{fadeout:Zf.fadeOut}),Xf=de.b.Animated.make(Yf,Kf),Qf=n("YqdJ"),Jf=n("A/YC");function eh(e,t,n){return de.a.animatingFlow(function(e,t,n){var r=x.a.of(!0).pipe(x.a.delay(500));return de.a.fromSideEffect((function(){return e.events.next({kind:Jf.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:0}})}),x.a.combineLatestStatic([n.viewport,e.state,t,n.scrollTop,r]).pipe(x.a.map((function(e){var t=Object(f._)(e,3),n=t[0],r=t[1],i=r.node,a=r.title,o=t[2];return Object(b.pipe)(i,O.g.filter((function(e){return Qf.b.FromWindowTop.ISO.unwrap(n.top)>e.getBoundingClientRect().bottom})),O.g.chain((function(){return o})),O.g.map((function(){return{title:a}})))})),x.a.startWith(O.g.none),x.b.distinct))}(e,t,n),O.g.fold((function(){return O.g.some(O.m.right("fadein"))}),(function(){return O.g.some(O.m.both("fadeout","fadein"))})))}var th,nh,rh,ih,ah,oh,sh,ch,lh,uh,dh,ph,mh,fh=n("1MPA"),hh=n("AcQZ"),gh=n("XIJR"),bh=(n("LY2w"),n("M9C+")),vh=function(e){var t=e.children,n=e.onVisible,r=j.a.useVisibilityObserverOnce(n);return g.createElement("div",{ref:r},t)},yh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"getPremiumButtonShow",T.d.TimeSeries.rootFemetrics.getMetric(gh.a.Metrics.GetPremiumButton).getCounter(gh.a.MetricsActions.Show)),Object(u._)(Object(s.a)(e),"getPremiumButtonClick",T.d.TimeSeries.rootFemetrics.getMetric(gh.a.Metrics.GetPremiumButton).getCounter(gh.a.MetricsActions.Click)),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.transition,r=t.theme,i=t.upgradeViewModel,a=t.isDemoDoc,o=t.features,s=a&&O.g.isSome(o.denali.getStartedType);return g.createElement(te.b.Context.Consumer,null,(function(t){return g.createElement(P.a.Context.Consumer,null,(function(a){return g.createElement(v.a.div,Object(he.c)(r.contentWrapper,n.pipe(x.a.map((function(e){return e.content})))),g.createElement(fh.a,{name:"advanced"},i.advancedAlerts.view(Object(b.flow)(O.g.map((function(n){var o=n.alerts(),c=o.reduce((function(e,t){return e+t.count}),0);return[g.createElement("div",{key:"some",className:r.advancedBlockWrapper},g.createElement(U.a,null,"We found"," ",g.createElement("b",null,c," additional writing"," ",G.f.pluralize(c,"issue","issues")),g.createElement("br",null),"in this text available only for Premium users."),g.createElement("div",{key:"advanced-block",className:r.advancedBlock},g.createElement("div",{className:r.alertList},o.map((function(e){return g.createElement(U.a,{key:e.category,className:r.alertBlock},g.createElement(jd.a.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:Object(he.c)(r.counter).className,counterContent:r.counterContent}}),i.displayValue(e))}))),g.createElement("div",{className:r.graphBlock},g.createElement("div",{className:r.graphCircle2},g.createElement("div",{className:r.graphCircle1},g.createElement(U.c,Object(he.c)(r.graphCounter,"windows"===t.info.os&&r.graphCounterWin),c)))))),g.createElement("div",{key:"upgrade-block",className:r.upgradeBlock},g.createElement(vh,{onVisible:function(){var t=a.pageId,n=a.sessionUuid,r={pageId:t,upgradeHookName:gh.a.UpgradeHookName.AdvancedIssues,upgradeHookSlot:gh.a.UpgradeHookSlot.Assistant,upgradeHookVariant:e.props.upgradeViewModel.isEligibleForFreeTrial?gh.a.UpgradeHookVariant.premiumTrial:gh.a.UpgradeHookVariant.premium};e.getPremiumButtonShow.setContext(r).increment(),a.gnarSpec.getPremiumButtonShow(a.pageId,"goPremium","advancedIssues",n,"advancedIssues","assistant",e.props.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium")}},g.createElement(hh.a,{size:"big",title:e.props.upgradeViewModel.isEligibleForFreeTrial?"Try for Free":void 0,isEligibleForFreeTrial:e.props.upgradeViewModel.isEligibleForFreeTrial,upgradeAction:function(){var t=a.pageId,n=a.sessionUuid,r={pageId:t,upgradeHookName:gh.a.UpgradeHookName.AdvancedIssues,upgradeHookSlot:gh.a.UpgradeHookSlot.Assistant,upgradeHookVariant:e.props.upgradeViewModel.isEligibleForFreeTrial?gh.a.UpgradeHookVariant.premiumTrial:gh.a.UpgradeHookVariant.premium};e.getPremiumButtonClick.setContext(r).increment(),a.gnarSpec.getPremiumButtonClick(a.pageId,"goPremium","advancedIssues",n,"advancedIssues","assistant",e.props.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium"),e.props.upgradeViewModel.openUpgradeUrl(N.i.Place.DenaliDocument.editorDenaliAdvanced)}})),s&&g.createElement(M.a.Context.Consumer,null,(function(e){return g.createElement(Mt.a,{className:bh.secondaryCta,name:"go-to-homepage",onClick:function(){return function(e,t){e.gnarSpec.continueFreeButtonClick(e.pageId),t.navigate(M.a.routes.documents.href())}(a,e)}},"Continue with free plan")})))].concat(Object(St.a)(s?[]:[g.createElement("footer",{key:"footer",className:r.footer},g.createElement(U.i,{className:r.footerText},"It’s an online service that quickly and easily makes",g.createElement("br",null),"your writing better and makes you sound like a pro,",g.createElement("br",null),"or at least helps you avoid looking like a fool."),g.createElement(Oh,{className:r.footerLogo}))]))})),O.g.orNull))))}))}))}}]),n}(g.Component),Oh=function(e){var t=e.className;return g.createElement("svg",{"aria-hidden":!0,width:"77",height:"20",viewBox:"0 0 77 20",className:t},g.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"}))},_h=function(e){var t=e.transition,n=e.upgradeViewModel,r=e.lensPreviewVM,i=e.features,a=e.isDemoDoc,o=g.useContext(Nu.a.Context).platform===Nu.a.Platform.IPAD?Object(m._)(Object(p._)({},bh),{paidView:bh.paidViewIPad,graphCircle2:bh.graphCircle2IPad}):bh,s=g.useContext(le.a.Context).sidebar.premiumAlertsTitle;return g.createElement(Vu.b.FixedContent,{label:s},g.createElement(v.a.div,Object(he.c)(o.paidView,t.pipe(x.a.map((function(e){return e.base})))),g.createElement(v.a.div,Object(he.c)(Uu.a.headerWrapper,t.pipe(x.a.map((function(e){return e.title})))),g.createElement(Vu.b.Title,{lensPreviewVM:r,lensId:kc.a.SpecialId.Premium})),g.createElement(yh,{transition:t,upgradeViewModel:n,lensPreviewVM:r,theme:o,features:i,isDemoDoc:a})))},Ch=n("RS1+"),wh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(vd.a);nh=th||(th={}),rh=function(e){return g.useContext(Nu.a.Context).platform===Nu.a.Platform.IPAD?Fd.a.iPadWrapper:e?Fd.a.oggyWrapper:Fd.a.wrapper},ih=function(e){return new Map([[nf.NearTitle,Bf.getPlagiarismTextNearTitle],[nf.AboveCards,function(){return y.a.create(null)}]]).get(e)},ah=function(e){return"prev"===e.type?e.done:b.constVoid},nh.TheView=function(e){var t=g.useContext(Nu.a.Context),n=Ru.a.useCollapsibleNavbarThreshold(),r=rh(e.features.denali.oggy),i=A.b.atomSwitchBy((function(e){var t=7;return t=31*(t=31*t+Object(yd.b)(e.currentLens.id))+(Sd.a.isInSuccess(e)?1231:1237)}),e.denaliViewModels.lensState),a=Object(zf.a)(!t.has(Nu.a.Flag.supportsLottie)),o=(0,g.useContext(pe.a.Context).withNeutralForSelection)(wh),s=new x.a.Subject;return j.a.useSubscriptionTo(s.pipe(x.a.distinctUntilChanged(),x.a.tap((function(){return Cd.a.setTimeToGlobalTimers("timer_cardApply")})))),g.createElement(o,{key:"animationWrapper",className:r,state:i,stateToClassMapper:th.stateToClassMapper,onMouseDown:e.onMouseDown},function(e){return function(t){var n,r=e.denaliViewModels,i=r.successLensViewModel,a=r.lensPreviewViewModel,o=r.cardsViewModel,s=r.upgradeViewModel,c=r.cardsListScrollManager,l=r.navigationViewModel,u=r.cheetahViewModel,d=e.capabilities,m=e.plagiarismModel,f=e.features,h=e.scrollEl,_=e.successIllustrations,C=e.documentModel,w=e.cardApplyTimer,S=y.a.create(O.g.none),k=O.g.none,E=t.state.get(),j={navigateToAllAlerts:function(){return l.events.next({type:"switchToAll",focusFirst:!1,actionSource:en.b.sidebar})}},A=fe.b.createComponent({section:fe.b.create(fe.b.Id.checksFeed),component:v.a.div,skipDirection:"backwards",focusStrategy:function(e){return Object(ce.pipe)(e.querySelector('.fullCard, [id*="card-assistantCard"]'),O.g.fromNullable,O.g.map((function(e){return e.contains(document.activeElement)?document.activeElement:e})),O.g.fold((function(){return Object(ce.pipe)(Array.from(e.querySelectorAll('div[role="button"]')),wc.U((function(e){var t=e.getBoundingClientRect();return t.top>t.height&&t.bottom<window.innerHeight})),wc.nb,O.g.chain(ve.a.FocusStrategy.focusRootOrFirstFocusable))}),ve.a.FocusStrategy.focusRootOrFirstFocusable))}}),I=Sd.a.isInSuccess(e.denaliViewModels.lensState.get()),T=function(e){var t=Object(p._)({},e);return t.next=function(t){Boolean(Od.b.isAlertApplyAction(t))&&w.next(t),e.next(t)},Sd.a.item(t)};switch(E.currentLens.type){case ue.i.closed:return null;case ue.i.plagiarism:return g.createElement(Vu.c.Provider,{value:j},g.createElement(A,null,g.createElement(Ff,{"data-name":"plagiarism-view",transition:t.view,plagiarismModel:m,cardsVM:o,state:t.state,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:b.constVoid,scrollEl:h,cardsListScrollManager:c,getPlagiarismText:ih,lensPreviewVM:a,checksFeedItem:T,capabilities:d,comparator:Sd.a.listItemOrd})));case ue.i.draftAI:return g.createElement(Vu.c.Provider,{value:j},g.createElement(v.a.Fragment,null,S.view(O.g.fold((function(){return null}),(function(e){return g.createElement(wf,{"data-name":"draftai-lens-view",draftAIEditorVM:e,lensPreviewVM:a,onTransitionEnd:ah(t),transition:t.view})})))));case ue.i.cheetah:var M=fe.b.createComponent({section:fe.b.create(fe.b.Id.checksFeed),component:v.a.div,focusStrategy:function(e){return Object(ce.pipe)(e.querySelector("input"),O.g.fromNullable,O.g.fold((function(){return Object(ce.pipe)(e,ve.a.FocusStrategy.focusRootOrFirstFocusable)}),ve.a.FocusStrategy.focusRootOrFirstFocusable))}});return g.createElement(v.a.Fragment,null,u.view(Object(b.flow)(O.g.map((function(e){return g.createElement(Vu.c.Provider,{value:j},g.createElement(M,null,g.createElement(Zu,{cheetahViewModel:e,onTransitionEnd:ah(t),transition:t.view})))})),O.g.toNullable)));case ue.i.advanced:var P=fe.b.createComponent({section:fe.b.create(fe.b.Id.checksFeed),component:v.a.div});if(f.denali.premiumUphookCardUI){var N=t.state,B=Sd.a.createCardListFlow(o,Object(ce.pipe)(k,O.g.map((function(e){return e.events}))),O.g.some(s.events));return g.createElement(Vu.c.Provider,{value:j},g.createElement(A,null,g.createElement(Vu.a,{"data-name":"paid-cards-view",transition:t.view,cardsVM:o,lensPreviewVM:a,navigationVM:l,state:N,isMaster:"next"===t.type,onTransitionEnd:ah(t),scrollEl:h,cardsListScrollManager:c,cardListFlow:B,checksFeedItem:Sd.a.upgradeHookOnlyItem,capabilities:d,comparator:Sd.a.listItemOrd,title:g.createElement(Vu.b.Title,{lensPreviewVM:a,lensId:kc.a.SpecialId.Premium,density:e.isXssViewport.pipe(x.a.map((function(e){return e?"compact":"cozy"})))})})))}return g.createElement(Vu.c.Provider,{value:j},g.createElement(P,null,g.createElement(_h,{"data-name":"paidview",transition:t.view,upgradeViewModel:s,lensPreviewVM:a,features:f,isDemoDoc:C.isDemoDocument})));case ue.i.lensview:var L=E.currentLens.meta,F=ah(t),R=t.state,D=t.state,H=g.createElement(_d.a.Component,{lensPreviewVM:a,lensId:R.get().currentLens.id,navigationVM:l,type:l.lensTitleType,lensAlertsCount:D.view("currentLens").view(d.getVisibleAlertsCount),customSideButton:kc.a.isAllAlerts(R.get().currentLens.id)&&Object(ce.pipe)(k,O.g.map((function(e){return de.b.mount(Xf,eh(e,S,c))})),O.g.toUndefined),density:e.isXssViewport.pipe(x.a.map((function(e){return e?"compact":"cozy"})))}),V=kc.a.isMainLens(L.id),U=Object(ce.pipe)(Sd.a.createCardListFlow(o,Object(ce.pipe)(k,O.g.map((function(e){return e.events}))),O.g.some(s.events)),(function(e){return Object(b.flow)(e,de.a.extendActions(x.a.tap((function(e){"content"===e.key&&"key"in e.action.action.action.action&&"alertRefSDUI"===e.action.action.action.action.key&&bd.a.isSduiCardAction(e.action.action.action.action.action)&&e.action.action.action.action.action.actions.some((function(e){return"applyAlerts"===e.type}))&&w.next(e.action.action.action.action.action)}))))}));return g.createElement(Vu.c.Provider,{value:j},I?g.createElement(Ch.a.View,{lens:L,transition:t.view,successLensViewModel:i,preventAnimation:f.preventAnimation,illustrations:_,onTransitionEnd:F,title:H,showTitle:V,scoreStatus:C.scoreStatus}):(n=g.createElement(Vu.a,{"data-name":"lensview",transition:t.view,cardsVM:o,lensPreviewVM:a,navigationVM:l,state:R,isMaster:"next"===t.type,onTransitionEnd:F,scrollEl:h,cardsListScrollManager:c,cardListFlow:U,checksFeedItem:T,capabilities:d,comparator:Sd.a.listItemOrd,title:H}),g.createElement(A,null,f.denali.sdui?g.createElement(ye.b,{alignment:"bottom",eventType:"onclick",stepId:Oe.b.StepId.Step4,title:"Review suggestions",message:"Grammarly checks for mistakes and suggests ways to improve your text.",dotPosition:{kind:"findFirstButton",position:ye.a.rightTop,selector:'[data-name*="'.concat(Sn.a.ComponentKnownName.ButtonAccept,'"]'),buttonOrder:0},themes:{containerWrapperClassName:Fd.a.onboardingWrapper},dismissalTrigger:D.pipe(x.a.pluck("currentLens"),x.a.map(d.getActiveAlert),x.b.compact,x.a.skipBy(rl.a.eq),x.a.skip(1),x.a.map(b.constTrue))},n):n)));default:return Object(bt.c)(E.currentLens)}}}(Object(m._)(Object(p._)({},e),{successIllustrations:a,isXssViewport:n,cardApplyTimer:s})))},oh=fe.b.createComponent({component:v.a.nav,section:fe.b.create(fe.b.Id.navigation),refocusOnMutation:!1}),sh=function(e){var t=e.expand,n=g.useContext(wd.a.Context).sidebar,r=A.b.chooseWhen(t);return g.createElement(v.a.button,{onClick:function(){return t.modify((function(e){return!e}))},"aria-label":r(n.toggle.collapse,n.toggle.expand),className:r(Fd.a.navExpandButton,Fd.a.navCollapseButton),"aria-controls":"navbar-right","aria-expanded":t},g.createElement(Et.d.Arrow,null))},ch=nh.NavigationWrapper=function(e){var t=e.isSidebarOpened,n=e.onMount,r=e.onMouseDown,i=e.children,a=y.a.create(!1),o=g.useContext(fe.b.Context).state,s=j.a.useElWatcher(),c=s.ref,l=s.onMount,u=x.a.combineLatestStatic([a,t]).pipe(x.a.map((function(e){var t=Object(f._)(e,2),n=t[0];return t[1]?n?Fd.a.expandedNavWrapperTier:Fd.a.collapsedNavWrapperTier:Fd.a.hiddenNavigationWrapperTier}))),d=Ru.a.useCollapsibleNavbarThreshold();return j.a.useSubscriptionTo(x.a.mergeStatic(o.pipe(x.a.map(Object(b.flow)(O.g.map(G.e.pick("id")),O.g.contains(fe.b.Id.navigation))),x.a.distinctUntilChanged(),x.a.tap(A.b.toAtom(a))),c.pipe(x.b.compact,x.a.switchMap((function(e){return x.a.combineLatestStatic([a,d,t]).pipe(x.a.tap((function(t){var n=Object(f._)(t,3),r=n[0],i=n[1],a=n[2];!r&&i&&a?e.setAttribute("inert","true"):e.removeAttribute("inert")})))}))))),g.createElement(oh,{id:"navbar-right","data-name":"navigation-view",mount:n,onMouseDown:r,className:u},g.createElement(v.a.Fragment,null,x.a.combineLatestStatic([d,t]).pipe(x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return n&&r?g.createElement(sh,{expand:a}):null})))),g.createElement("div",{ref:l},i))},nh.NavigationView=function(e){var t=(0,g.useContext(pe.a.Context).withNeutralForSelection)(ch);return g.createElement(t,{onMouseDown:e.onMouseDown,isSidebarOpened:e.denaliViewModels.lensState.view(ue.e.isSidebarOpened)},g.createElement(ph,e,g.createElement(mh,e),g.createElement(v.a.Fragment,null,e.features.isFree.view((function(t){return t||e.features.denali.gbVoxLensUphook||iu.e.isBusinessAdmin(e.features.denaliUserType)?g.createElement(Gf.a,{key:"freemium-notification-host",isSidebarOpen:e.denaliViewModels.lensState.view(ue.e.isSidebarOpened),upgradeViewModel:e.denaliViewModels.upgradeViewModel,navigationViewModel:e.denaliViewModels.navigationViewModel}):null})))))},nh.TheViewPlaceholder=function(e){var t=e.isOggy,n=rh(t);return g.createElement("div",{className:n})},nh.Grid=function(e){var t=e.name,n=e.className,r=e.opened,i=e.children;return g.createElement(v.a.div,Object(p._)({key:"sidebar-tier","data-name":"sidebar-tier"},Object(he.c)(Fd.a.sidebarTier,r.view((function(e){return!e&&Fd.a.hiddenWrapper})),n)),g.createElement("div",{key:"sidebar-wrapper","data-name":t,className:Fd.a.sidebarWrapper},i))},nh.Aside=function(e){var t=e.opened,n=e.children,r=g.useContext(le.a.Context).landmark;return g.createElement(v.a.aside,Object(p._)({"data-name":"sidebar-tier","arial-label":r.sidebar},Object(he.c)(Fd.a.sidebarTier,t.view((function(e){return!e&&Fd.a.hiddenWrapper})))),g.createElement("div",{key:"sidebar-wrapper","data-name":"sidebar",className:Fd.a.sidebarWrapper},n))},lh=[ue.i.closed,ue.i.lensview,ue.i.advanced,ue.i.plagiarism],uh=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Object(St.a)(n).concat([e]).join(" ")}},dh=function(e){return ue.e.isLensview(e)&&!Sd.a.isInSuccess(e)||e.currentLens.type===ue.i.advanced},nh.stateToClassMapper=function(e,t){var n,r,i=void 0!==e&&e.get(),a=t.get();if(!1===i)return{prev:{start:{},end:{}},next:{start:{base:Fd.a.sidebarEnterLeft,title:Fd.a.titleEnterLeft},end:{base:Fd.a.sidebarEnterLeft,title:Fd.a.titleEnterLeft}}};if(ue.e.isSidebarOpened(i)){if(ue.e.isSidebarOpened(a)){if(a.alertSource===ue.c.forceSidebar||a.alertSource===ue.c.forceText)return{prev:{start:{base:Fd.a.lensHideStart,content:Fd.a.contentHideStart},end:{base:Fd.a.lensHide,content:Fd.a.contentHide}},next:{start:{},end:{}}};if(dh(a)&&dh(i)){var o="textOrder"===a.switchOrder?"lensMoveUp":kc.a.ord.compare(i.currentLens.meta,a.currentLens.meta)>0?"lensMoveDown":"lensMoveUp",s=uh(o);return{prev:{start:{base:"",title:Fd.a.lensLeaveStartTitle,content:s(Fd.a.lensLeaveStartContent,Fd.a.lensLeaveStart),allAlertsButton:Fd.a.allAlertsVisible,assistantWrapper:Fd.a.absoluteAssistant},end:{base:"",title:Fd.a.lensLeaveTitle,content:s(Fd.a.lensLeaveContent,Fd.a.lensLeave),allAlertsButton:Fd.a.allAlertsHidden,assistantWrapper:Fd.a.absoluteAssistant}},next:{start:{base:"",title:Fd.a.lensEnterStartTitle,content:s(Fd.a.lensEnterStartContent,Fd.a.lensEnterStart),allAlertsButton:Fd.a.allAlertsHidden},end:{base:"",title:Fd.a.lensEnterTitle,content:s(Fd.a.lensEnterContent,Fd.a.lensEnter),allAlertsButton:Fd.a.allAlertsVisible}}}}var c=lh.indexOf(i.currentLens.type)-lh.indexOf(a.currentLens.type)>0||Sd.a.isInSuccess(a)?"lensMoveUp":"lensMoveDown",l=uh(c),u=Sd.a.isInSuccess(a)?Fd.a.stateEnterStart:Fd.a.lensEnterStart,d=Sd.a.isInSuccess(a)?Fd.a.stateEnter:Fd.a.lensEnter;return{prev:{start:{base:l(Fd.a.stateLeaveStart),content:l(Fd.a.lensLeaveStartContent),title:Fd.a.lensLeaveStartTitle,assistantWrapper:Fd.a.absoluteAssistant},end:{base:l(Fd.a.stateLeave),content:l(Fd.a.lensLeaveContent),title:Fd.a.lensLeaveTitle,assistantWrapper:Fd.a.absoluteAssistant}},next:{start:{base:a.currentLens.id===kc.a.SpecialId.DraftAI?(n=a.currentLens,r=u,Object(ce.pipe)(n.transitionSource,O.g.map((function(e){return e.top})),O.g.filter((function(e){var t=G.c.Rect.fromEl(document.body);return t.top<e&&e<t.bottom})),O.g.fold(Object(b.constant)(r),(function(e){return E.a.style({opacity:0,transform:"translateY(".concat(e,"px)")})})))):l(u),content:l(Fd.a.lensEnterStartContent),title:Fd.a.lensEnterStartTitle},end:{base:l(d),content:a.currentLens.id===kc.a.SpecialId.DraftAI?Fd.a.draftAILensContent:l(Fd.a.lensEnterContent),title:Fd.a.lensEnterTitle}}}}return{prev:{start:{base:Fd.a.sidebarLeaveRightStart},end:{base:Fd.a.sidebarLeaveRight,title:Fd.a.titleLeaveRight}},next:{start:{},end:{}}}}return{prev:{start:{},end:{}},next:{start:{base:Fd.a.sidebarEnterLeftStart,title:Fd.a.titleEnterLeftStart},end:{base:Fd.a.sidebarEnterLeft,title:Fd.a.titleEnterLeft}}}},nh.Loader=function(e){var t=e.state,n=e.baseLoaderClass,r=e.showToolbar;return g.createElement(th.Grid,{name:"sidebar-loader",opened:y.a.create(!0)},g.createElement(Ed,{state:t.view("lens"),theme:Fd.b},g.createElement(v.a.div,Object(he.c)(Fd.a.loaderWrapper,n),g.createElement(Vu.b.Rechecking,{"data-name":"lensviewRechecking",key:"lensview-rechecking"}))),g.createElement(np.Loader,{baseLoaderClass:n,state:t,showToolbar:r}))},ph=nh.ActionsView=function(e){var t=e.denaliViewModels,n=t.navigationViewModel,r=t.proofitViewModel,i=t.lensPreviewViewModel,a=t.lensState,o=e.documentModel,s=e.plagiarismModel,c=e.features,l=e.JSXPortal,u=e.children;return g.createElement(v.a.div,{className:Fd.a.actionsWrapper},g.createElement(Wf,{documentModel:o,features:c,state:a,navigationViewModel:n}),u,a.view(ue.e.isSidebarOpened).view(Object(z.c)(null,g.createElement(Md,{state:a,plagiarismModel:s,proofitViewModel:r,lensPreviewVM:i,features:c,navigationViewModel:n}))),g.createElement(l,null,g.createElement(_m,{proofit:r})))},mh=nh.LensNavigationView=function(e){var t=e.denaliViewModels,n=e.documentModel,r=e.plagiarismModel,i=e.features;return g.createElement(np,{state:t.lensState,checkingState:n.checkingState},g.createElement(np.Content,{documentModel:n,plagiarismModel:r,modalManager:t.modalManager,denaliViewModels:t,features:i}))};var Sh=n("020W"),kh=E.a.rem(2),Eh={opacity:0,pointerEvents:"none",position:"absolute",bottom:0,zIndex:E.d.level4},jh={display:"flex",flexDirection:"row",width:"auto",height:E.a.rem(2),borderRadius:kh,backgroundColor:Wu.o.SemanticColor.Color.Background.Base.Default,boxShadow:"0 0 .5px rgba(0, 0, 0, .4), 0 1px 3px rgba(0, 0, 0, .09), 0 4px 8px rgba(0, 0, 0, .09)",alignItems:"center"},xh={position:"relative",boxSizing:"border-box",minWidth:E.a.rem(2),height:E.a.rem(2),border:"none",background:"none",fontSize:E.a.rem(.75),cursor:"pointer",$nest:{svg:Object(m._)(Object(p._)({},{"--path-fill-1":"#018374","--path-fill-2":"#018374","--path-fill-3":"#00FFCE","--path-fill-4":"#018374"}),{fill:"none",stroke:"none"}),"&:hover":{backgroundColor:Wu.o.Color.BlueGray10},"&:first-child":{borderTopLeftRadius:kh,borderBottomLeftRadius:kh,paddingLeft:E.a.rem(.25),paddingRight:0},"&:last-child":{borderTopRightRadius:kh,borderBottomRightRadius:kh,paddingLeft:0}}},Ah=E.a.rem(1.5),Ih={width:Ah,height:Ah,backgroundPosition:"center",backgroundSize:Ah},Th=E.a.prefixedStylesheet("cheetah_inline_button",{buttonWrapper:[Eh],button:[jh],buttonItem:[xh],icon:[Ih]}),Mh={message:"Select any text to rewrite it with GrammarlyGO."},Ph={title:"Rewrite your text",message:"You can also select any text to quickly improve or rewrite it with generative AI."},Nh=function(e){var t=e.inlineViewModel,n=e.cheetahNavigation;return g.createElement(v.a.div,{style:t.inlineButtonState.view(Bh),className:Th.buttonWrapper,"aria-hidden":t.inlineButtonState.view(O.g.isNone)},g.createElement(ye.b,{message:t.showOnboardingTourA11yUpdates?Ph.message:Mh.message,title:t.showOnboardingTourA11yUpdates?Ph.title:void 0,eventType:"onclick",stepId:xu.a.StepId.GrammarlyGORewrite,alignment:"right",dotPosition:{kind:"dotAtPosition",position:ye.a.leftCenter},dismissalTrigger:t.inlineButtonState.pipe(x.a.map(O.g.isNone))},g.createElement("div",{className:Th.button},t.magicRewriteEnabled&&g.createElement(Mt.a,{className:Th.buttonItem,name:"inline-magic-rewrite","aria-label":"Improve it by Grammarly",onClick:function(){T.d.Logging.getLogger("Cheetah").info("Inline button clicked: magic rewrite"),n.toCheetahLens(!0,!0)},title:"Improve it"},g.createElement(Sh.a.Rewrite,{className:Th.icon})),t.inlineRewriteEnabled&&g.createElement(Mt.a,{className:Th.buttonItem,onClick:function(){T.d.Logging.getLogger("Cheetah").info("Inline button clicked: GrammarlyGO"),n.toCheetahLens(!0,!1)},name:"inline-grammarly-go",title:"Rewrite with Grammarly","aria-label":"Rewrite with Grammarly"},g.createElement(Sh.a.GrammarlyGO,{className:Th.icon})))))},Bh=function(e){return Object(ce.pipe)(e,O.g.fold(Object(b.constant)(Fh),Lh))},Lh=function(e){var t=e.top,n=e.left;return{top:t+Rh,left:n,bottom:"auto",opacity:1,transition:"opacity .1s linear",pointerEvents:"auto"}},Fh={},Rh=8,Dh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"_editorHeight",y.a.create(0)),e}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.denaliEditor,n=e.state,r=e.scrollbarViewModel,i=e.children,a=e.scrollEl,o=e.featuresViewModel,s=ku.a.withViewportContainer(Wh(Uh,{state:n}),{type:ku.a.ContainerType.inherit});return g.createElement(s,{name:"editorComponent",className:st.scrollWrapFixed},g.createElement(q.b,{denaliEditor:t,customTitlePlaceholder:o.denali.customTitlePlaceholder,theme:{editorContent:st.editorContent,editorContentWrap:st.editorContentWrap,printTitle:st.printTitle,titleWrap:st.titleWrap},scrollEl:a,editorHeight:this._editorHeight,scrollTop:r.scrollTop},i(new x.a.Subject,this._editorHeight)))}}]),n}(g.Component),Hh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.state,n=e.children,r=Wh(Vh,{state:t});return g.createElement(r,{name:"editorComponent",className:st.scrollWrapFixed},g.createElement(g.Fragment,null,g.createElement(lt,{selectionEffect:pe.a.Effect.collapse},g.createElement("div",{className:st.textContent})),n))}}]),n}(g.Component),Vh=function(e){var t=e.className,n=e.onMount,r=e.children,i=e.name;return g.createElement(v.a.div,{"data-name":i,name:"text",key:"denaliEditorWrapper",className:t,mount:n},r)},Uh=function(e){var t=e.className,n=e.onMount,r=e.children,i=e.name;return g.createElement(v.a.main,{role:"main","data-name":i,name:"text",key:"denaliEditorWrapper",className:t,mount:n},r)};function Wh(e,t){return function(n){Object(d.a)(i,n);var r=Object(h.a)(i);function i(){var e;return Object(c.a)(this,i),e=r.apply(this,arguments),Object(u._)(Object(s.a)(e),"_textTransition",t.state.view(ue.e.isSidebarOpened).pipe(x.a.skip(1),x.a.switchMap((function(e){return kd.a.rafSequence(e?[st.toWritingStart,st.toWritingStart,st.toWritingEnd]:[st.toEditingStart,st.toEditingStart,st.toEditingEnd],!0)})),x.a.startWith(void 0))),e}return Object(l.a)(i,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this.props.className;return g.createElement(e,Object(p._)({},this.props,Object(he.c)(t,st.editorComponentWrapper,st.container,this._textTransition)))}}]),i}(g.Component)}var zh=n("eUGc"),Gh=n("Lnjj"),qh=(n("B4nd"),n("jVAy")),Kh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"context",void 0),Object(u._)(Object(s.a)(e),"_log",T.d.Logging.getLogger("SynonymsPopup")),Object(u._)(Object(s.a)(e),"_el",void 0),Object(u._)(Object(s.a)(e),"_state",y.a.create(O.g.none)),Object(u._)(Object(s.a)(e),"_getPosition",(function(t){var n=Object(f._)(t,2),r=n[0],i=n[1];return e._el?Object(ce.pipe)(e.props.synonyms.getSynonymMarkRect(e.props.synonymsInfo.activeMark.meta.id),O.l.bimap((function(t){return e._log.info("Cannot get synonym popup position",t),t}),(function(t){var n=Au.b.relativeToRoot(t),a=Au.b.relativeToViewport(t),o=e._el.getBoundingClientRect(),s=o.width,c=o.height,l=i<n.bottom+c+32&&c<n.top+150,u=l?n.top-c:n.bottom,d=a.left+s,p=d<r.right?0:d-r.right+32,m=n.left-p,f=(l?a.top-r.top-c:r.bottom-a.bottom-c)<70?O.g.some(l?Math.min(r.top+c+70,r.bottom-n.height):Math.max(r.bottom-c-70,n.height+70)):O.g.none;return O.g.some({card:{top:u,left:m},markOffset:f})}))):O.l.right(O.g.none)})),Object(u._)(Object(s.a)(e),"_sub",null),Object(u._)(Object(s.a)(e),"_rendered",!1),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.synonyms,r=t.synonymsInfo,i=t.editorHeight;this._sub=this.context.pipe(x.a.map((function(e){return e.rect})),x.a.combineLatest(i),x.a.delay(1),x.a.switchMap(Object(b.flow)(this._getPosition,x.a.defer))).subscribe((function(t){e._rendered||(e._rendered=!0,Object(ce.pipe)(t,O.b.map(O.g.chain((function(e){return e.markOffset}))),O.b.map(O.g.map((function(t){n.scrollToMark(r.activeMark.meta.id,t,V.a.fast).subscribe({error:function(t){return e._log.error("Cannot scroll to synonym",t)}})}))))),Object(ce.pipe)(t,O.b.fold((function(t){return e._log.error("Cannot get position",t)}),(function(t){return e._state.set(O.g.map((function(e){return e.card}))(t))})))}))}},{key:"componentWillUnmount",value:function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.synonyms,r=t.synonymsInfo;return g.createElement(v.a.div,{mount:function(t){return e._el=t},key:"synonymsPopupWrapper",style:this._state.view((function(e){return O.g.getOrElse((function(){return{visibility:"hidden",pointerEvents:"none"}}))(e)})),className:qh.synonymsPopupWrapper},g.createElement(zh.a,{hide:function(){return n.close("closedByUser")}},this.props.features.synonymsSynfony?g.createElement(Gh.b,{synonymsInfo:r,apply:function(e){return function(){return n.apply(e)}}}):g.createElement(Gh.a,{synonymsInfo:r,apply:function(e){return function(){return n.apply(e)}}})))}}]),n}(g.Component);Object(u._)(Kh,"contextType",ku.a.Context);var $h=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"context",void 0),Object(u._)(Object(s.a)(e),"_log",T.d.Logging.getLogger("SynonymIconWrapper")),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.markRect,r=t.className,i=t.children;return g.createElement(v.a.div,{className:r,style:this.context.pipe(x.a.tap((function(t){return e._log.debug("Update tooltip position",t.rect)})),x.a.map((function(){return Object(ce.pipe)(n,O.b.map((function(e){return jr.d.translate(e.left+e.width,e.top)})),O.g.fromEither,O.g.getOrElse((function(){return{visibility:"hidden"}})))})))},i)}}]),n}(g.Component);Object(u._)($h,"contextType",ku.a.Context);var Zh,Yh=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"_log",T.d.Logging.getLogger("SynonymsView")),e}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"renderLoader",value:function(e){return x.a.defer(this.props.synonyms.getSynonymMarkRect(e.activeMark.meta.id)).pipe(x.a.map(O.b.map(Au.b.relativeToRoot)),x.a.map((function(e){return g.createElement($h,{className:qh.iconWrapper,markRect:e},g.createElement(Et.d.SynonymLoader,{className:qh.loader}))})),x.a.delay(1e3),x.a.startWith(null))}},{key:"renderPopup",value:function(e){return this.props.synonyms.onPopupOpen(),x.a.of(g.createElement(Kh,{synonyms:this.props.synonyms,synonymsInfo:e,editorHeight:this.props.editorHeight,features:this.props.features}))}},{key:"render",value:function(){var e=this,t=this.props.synonyms;return g.createElement(v.a.div,{className:qh.contentWrapper},t.viewState.pipe(x.a.tap((function(t){return e._log.debug("Synonym state changed",Object(ce.pipe)(t,O.g.fold((function(){return null}),(function(e){return{kind:e.synonymsState.kind,popupVisible:e.popupVisible}}))))})),x.a.switchMap(O.g.mapOrDefault((function(t){return Uc.a.isQuerying(t.synonymsState)?e.renderLoader(t):(Uc.a.isReady(t.synonymsState)||Uc.a.isEmpty(t.synonymsState))&&t.popupVisible?e.renderPopup(t):x.a.of(null)}),x.a.of(null)))))}}]),n}(g.Component),Xh=n("PY5o"),Qh=n("hZ6A"),Jh=n("NknG"),eg=function e(t,n){var r=this;Object(c.a)(this,e),Object(u._)(this,"_notificationsManager",void 0),Object(u._)(this,"_sendFeedback",void 0),Object(u._)(this,"currentText",void 0),Object(u._)(this,"modalShown",void 0),Object(u._)(this,"sendFeedback",void 0),this._notificationsManager=t,this._sendFeedback=n,this.currentText=y.a.create({detailed:""}),this.modalShown=new x.a.Subject,this.sendFeedback=function(){return r.currentText.pipe(x.a.first(),x.a.switchMap(r._sendFeedback),x.a.switchMap((function(){return r._notificationsManager.enqueue("feedbackSend").pipe(x.a.filter((function(e){return"shown"===e})),x.a.tap((function(){return r.currentText.set({detailed:""})})),x.a.takeUntil(r.modalShown))})),x.a.catchError((function(){return r._notificationsManager.enqueue("error")}))).toPromise()}};(Zh||(Zh={})).Mock=function e(){Object(c.a)(this,e),Object(u._)(this,"modalShown",new x.a.Subject),Object(u._)(this,"currentText",y.a.create({detailed:""})),Object(u._)(this,"sendFeedback",(function(){return new Promise(z.e)}))};n("kynR");var tg,ng=n("6+Mz"),rg=function(){var e=g.useContext(Ql.a.TitleIdContext);return g.createElement(U.c,{id:e},"Give Feedback")},ig=function(e){var t=e.submitFeedback,n=e.close,r=e.visible,i=e.notificationsManager,a=e.ModalsPortal,o=new eg(i,t);return g.useEffect((function(){o.modalShown.next()}),[o.modalShown,r]),g.createElement(a,null,g.createElement(Ql.b,{positionType:"fixed",visible:r,preventClose:!0,animate:!0},g.createElement(Ql.a,{className:ng.wrapper},g.createElement(Ql.a.Header,null,g.createElement(rg,null)),g.createElement(Ql.a.Body,{className:ng.feedbackPopupBody,name:"feedbackBody"},g.createElement(U.i,{className:ng.description},"Overall, how useful is this suggestion in improving your writing?"),g.createElement(Sp.d,{placeholder:"Type your feedback",className:ng.feedbackInput,value:o.currentText.lens("detailed")}),g.createElement(U.a,null,"When you submit feedback, we store and review your text. Don’t submit feedback on text that contains confidential information.")),g.createElement(Ql.a.Footer,{className:ng.feedbackPopupFooter},g.createElement(Mt.a.Ghost,{name:"cancel",onClick:function(){n()}},"Cancel"),g.createElement(Mt.a.Primary,{name:"send",disabled:o.currentText.view((function(e){return""===e.detailed})),onClick:function(){return o.sendFeedback()}},"Send")))))},ag=n("0sTm"),og=(n("s96D"),n("Bf87")),sg=function(e){var t=e.onClick,n=e.tooltip;return g.createElement(Mt.a.Ghost,{name:"to-home",onClick:t,title:n.view(O.g.orUndefined),className:og.toolbarBtn,animationMode:Pt.a.FromCenter},g.createElement(Et.d.Arrow,{className:og.backIcon}))},cg=function(e){var t=e.userAccount,n=g.useContext(le.a.Context);return g.createElement(sg,{tooltip:y.a.create(O.g.some(n.toolbar.signOut)),onClick:t.logout})},lg=function(e){var t=e.type,n=e.userAccount,r=g.useContext(M.a.Context),i=g.useContext(le.a.Context);return g.createElement("div",{className:og.fakeToolbarWrapper,"data-name":"document-tools"},n.features.isMacEditor?null:n.features.demoMode?g.createElement(cg,{userAccount:n}):g.createElement(sg,{tooltip:y.a.create(O.g.some(i.toolbar.backToMyGrammarly)),onClick:function(){return r.navigate(M.a.routes.documents.href())}}),g.createElement(U.f,{className:n.features.isMacEditor?og.fakeToolbarTitleMacEditor:og.fakeToolbarTitle,"data-name":"toolbar-title"},t===Kc.a.TextType.loading?i.toolbar.loading:i.toolbar.processing))},ug=(n("rVSu"),n("JUw6"));!function(e){e.Loader=function(e){var n=e.userAccount,r=e.documentLoader,i=e.className;return g.createElement(v.a.Fragment,null,r.state.view("text").view(O.g.mapOrDefault((function(e){return g.createElement("div",{key:"with-text-loader",className:i},g.createElement("div",Object(p._)({key:"editor"},Object(he.c)(ug.secondTierLoader,ug.baseLoaderClass)),!n.features.denali.hideToolbar&&g.createElement(lg,{type:e,userAccount:n}),g.createElement(ct,{position:"top"},g.createElement("div",{className:ug.textLoaderWrap},g.createElement(ag.b,null)))),g.createElement(t,{documentLoader:r}))}),null)))},e.AssistantOnlyLoader=function(e){var n=e.documentLoader,r=e.className;return g.createElement("div",{className:r},g.createElement(t,{documentLoader:n}))};var t=function(e){var t=e.documentLoader;return g.createElement(th.Loader,{key:"sidebar-loader",state:t.state,baseLoaderClass:ug.baseLoaderClass,showToolbar:t.state.view("text").view(O.g.isNone)})}}(tg||(tg={}));n("Bqig");var dg=n("/3X1"),pg=function(e){var t=e.width,n=e.className,r=e.children;return g.createElement(v.a.div,Object(m._)(Object(p._)({},Object(he.c)(dg.invisibleScrollbar,n)),{style:t.pipe(x.a.map((function(e){return{width:"calc(100vw - ".concat(e,"px)")}})))}),r)},mg=function(e){var t=e.onMount;return g.createElement("div",{className:dg.scrollDetector,ref:t})},fg=function(){var e=g.useContext(Nu.a.Context);return j.a.useSubscriptionTo(e.has(Nu.a.Flag.preventNavigationByOverscrollWithJS)?x.a.fromEvent(document,"wheel").pipe(x.a.tap((function(e){Math.abs(e.deltaX)>=Math.abs(e.deltaY)&&e.preventDefault()}))):x.a.EMPTY),g.useEffect((function(){return document.body.classList.add(dg.preventOverscroll),function(){return document.body.classList.remove(dg.preventOverscroll)}})),g.createElement(g.Fragment,null)},hg=function(e){var t=e.denaliEditorModel,n=e.documentModel,r=e.plagiarismModel,i=e.userAccount,a=e.denaliViewModels,o=e.capabilities,s=e.documentLoader,c=e.loaderClassName,l=y.a.create(O.g.none),u=new Hu;j.a.useSubscriptionTo(l.pipe(x.a.tap(A.b.toAtom(u.target)))),j.a.useSubscriptionTo(a.modalManager.state.pipe(x.a.map(O.g.isSome),x.a.withLatestFrom(l.pipe(x.b.compact)),x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return n?r.setAttribute("inert","true"):r.removeAttribute("inert")}))));var d=g.useContext(pe.a.Context).withSelectionEffect,p=function(){switch(i.features.denali.documentToolbar){case iu.c.documentSettings:return g.createElement(Xh.a,{documentSettingsViewModel:a.documentSettingsViewModel.viewModel,lensState:a.lensState,isDemoMode:i.features.demoMode,isUkraineMode:i.features.denali.ukraineLogo,showOnboardingTourA11yUpdates:i.features.denali.showOnboardingTourA11yUpdates});case iu.c.none:return null;default:return Object(bt.c)(i.features.denali.documentToolbar)}},m=d((function(e){var r=e.onMouseDown;return g.createElement("div",{className:ug.horizontalEditorWrapper,onMouseDown:r},g.createElement(ku.a.InheritVirtualContainer,{name:"withPadding",viewportPadding:C},g.createElement(Dh,{denaliEditor:t,settingsModel:i.settings,featuresViewModel:i.features,state:a.lensState,scrollbarViewModel:u,scrollEl:l,viewportPadding:C},(function(e,r){return g.createElement(vg,{denaliViewModels:a,denaliEditorModel:t,editorHeight:r,docFeatures:n,features:i.features.denali,ModalsPortal:w.Source})}))),g.createElement(mg,{key:"scroll-detector",onMount:function(e){return u.detector.set(O.g.fromNullable(e))}}))}),pe.a.Effect.collapse),h=d((function(){return g.createElement(th.TheView,{denaliViewModels:a,capabilities:o,documentModel:n,plagiarismModel:r,features:i.features,scrollEl:l})}),pe.a.Effect.collapse),_=d(th.NavigationView,pe.a.Effect.collapse),C=y.a.create(V.h.empty),w=jr.d.Portal.create("modals-portal"),S=fe.b.createComponent({section:fe.b.create(fe.b.Id.checksFeed),component:v.a.div,focusStrategy:function(e){return Object(ce.pipe)(e.querySelector("input"),O.g.fromNullable,O.g.fold((function(){return Object(ce.pipe)(e,ve.a.FocusStrategy.focusRootOrFirstFocusable)}),ve.a.FocusStrategy.focusRootOrFirstFocusable))}});return g.createElement(g.Fragment,null,g.createElement(fg,null),g.createElement(w.Destination,null),g.createElement(v.a.div,{"data-name":"document-content",className:ug.secondTier,style:u.fakeWidth.pipe(x.a.map((function(e){return{paddingRight:e}}))),mount:function(e){return l.set(O.g.fromNullable(e))}},!i.features.denali.oggy&&s.state.view("text").view(O.g.fold((function(){return g.createElement(Eu.a.Top,{className:ug.fixedLoader,key:"navigation-loader"},g.createElement(pg,{width:u.width,className:ug.withPlaceForScrollbar},g.createElement(tg.AssistantOnlyLoader,{documentLoader:s,className:c})))}),(function(){return null}))),g.createElement(gg,{scrollbarWidth:u.width,sidebarOpen:a.lensState.view(ue.e.isSidebarOpened),editor:g.createElement(Hh,{state:a.lensState,features:i.features},g.createElement(Tt.Component,{denaliEditor:t,documentModel:n,settingsModel:i.settings,state:a.lensState,viewportPadding:C,formattingViewModel:a.formattingViewModel,emotionsViewModel:a.emotionsViewModel,features:i.features})),assistant:g.createElement(g.Fragment,null,g.createElement(th.TheViewPlaceholder,{isOggy:i.features.denali.oggy}),i.features.denali.oggy?null:g.createElement(_,{denaliViewModels:a,capabilities:o,documentModel:n,plagiarismModel:r,features:i.features,scrollEl:l,JSXPortal:w.Source}))},g.createElement(p,null)),g.createElement(bg,{opened:a.lensState.view(ue.e.isSidebarOpened),editor:g.createElement(m,null),assistant:i.features.denali.oggy?g.createElement(v.a.Fragment,null,a.cheetahViewModel.view(Object(b.flow)(O.g.map((function(e){return g.createElement(S,null,g.createElement($u,{cheetahViewModel:e}))})),O.g.toNullable))):g.createElement(h,null)}),a.cheetahViewModel.view(Object(b.flow)(O.g.map((function(e){var t=e.inlineViewModel,n=e.navigation;return g.createElement(Nh,{cheetahNavigation:n,inlineViewModel:t})})),O.g.toNullable))))},gg=function(e){var t=e.sidebarOpen,n=e.editor,r=e.assistant,i=e.scrollbarWidth,a=e.children;return g.createElement(Eu.a.Top,{className:ug.fixedHorizontal},g.createElement(pg,{width:i,className:ug.withPlaceForScrollbar},n,g.createElement(th.Grid,{name:"sidebar-placeholder",opened:t},r),a))},bg=function(e){var t=e.opened,n=e.editor,r=e.assistant;return g.createElement("div",{className:ug.horizontal},n,g.createElement(th.Aside,{opened:t},r))},vg=function(e){var t=e.denaliViewModels,n=e.denaliEditorModel,r=e.editorHeight,i=e.docFeatures,a=e.features,o=e.ModalsPortal,s=g.useContext(le.a.Context),c=a.showOnboardingTourA11yUpdates,l={denaliEditorModel:n,onboardingViewModel:t.onboardingViewModel},u=Object(m._)(Object(p._)({},l),{alignment:"bottomCenter",overlay:function(e){return g.createElement(Eu.a.Top,{className:ug.fixedOverlay},g.createElement(v.a.div,{className:e.view((function(e){return e?ug.overlayVisible:""}))},g.createElement(Ql.b,{positionType:"fixed",visible:e,alignment:"none",overlayType:"transparent"})))},getFirstTargetRect:function(){return t.onboardingViewModel.getFirstTargetRect()}}),d=(0,g.useContext(pe.a.Context).withSelectionEffect)(pe.a.Effect.PlainContainer,pe.a.Effect.prevent),h=g.useContext(w.a.Context),b=x.a.zipStatic(n.viewport,h).pipe(x.a.map((function(e){var t=Object(f._)(e,2),n=t[0],r=t[1];return n.text.width+ju.a*r})));return g.createElement(v.a.Fragment,null,t.lensState.view(ue.e.isSidebarOpened).view((function(e){return e&&g.createElement(Pu,Object(m._)(Object(p._)({key:"sidebar-opened"},u),{stepId:xu.a.StepId.Step11,message:"Click underlined words to see more details about what Grammarly has found.",completionTrigger:t.onboardingViewModel.completionTrigger.pipe(x.a.skip(1)),eventType:"onclick"}))})),Object(ce.pipe)(t.vbarsViewModel,O.g.map((function(e){return g.createElement(ju.b,{model:e,inlineCard:Object(Jh.a)(b,n.getContents,a),suggestionFeedback:function(e){return g.createElement(ig,Object(p._)({ModalsPortal:o,notificationsManager:t.notificationsManager},e))}})})),O.g.toNullable),g.createElement(gd,{className:ug.inlineCardWrapper,inlineCardVM:t.inlineCardViewModel,inlineUpgradeHookVM:t.inlineUpgradeHookViewModel}),g.createElement(Pu,Object(m._)(Object(p._)({},l),{stepId:xu.a.StepId.Step9,alignment:"bottomRight",eventType:"onhover",title:c?"Synonyms":void 0,message:"Click on a word twice to see the synonyms.",getFirstTargetRect:function(){return t.synonymsViewModel.getFirstSynonymRect()},completionTrigger:t.synonymsViewModel.popupShown.pipe(x.a.skip(1))})),Object(ce.pipe)(t.formattingViewModel,O.g.map((function(e){return g.createElement(d,null,g.createElement(Qh.a,{vm:e.linksManager}))})),O.g.toNullable),g.createElement(Yh,{synonyms:t.synonymsViewModel,editorHeight:r,features:a}),g.createElement("div",{className:ug.documentContainer},a.graySelection&&g.createElement(Fu,{ded:n}),g.createElement(Ju,{className:ug.documentPlaceholder,viewModel:t.documentPlaceholderViewModel,strings:a.showUploadInPlaceholderText?i.rtfMode===N.d.DocumentFeatures.FormattingMode.on?s.placeholderRTF:s.placeholder:s.placehoderWithoutUpload})))},yg=n("7CTu"),Og=(n("ThDP"),n("Ow/n")),_g="The changes in your document may be lost if you leave this page.",Cg=function(e){var t;return t=e.userAccount.features.track3rdPartyExtensionsInjection,j.a.useSubscriptionTo(t?x.a.fromEvent(document.body,"click",{passive:!0,capture:!0}).pipe(x.a.first(),x.a.delay(1e3),x.a.tap((function(){var e=Object(St.a)(Array.from(document.documentElement.children)).concat(Object(St.a)(Array.from(document.body.children))).filter((function(e){return!e.hasAttribute("data-verified")&&"head"!==e.nodeName.toLowerCase()})).map((function(e){return{nodeName:e.nodeName,src:e.getAttribute("src"),content:e.outerHTML.substr(0,255)}}));e.length&&e.forEach((function(e){T.d.Logging.getLogger("3rdPartyInjections").info("found unknown element",e)}))}))):x.a.EMPTY),g.createElement(xg,{actions:e.environment.actions,documentModel:e.documentModel},g.createElement(kg,e))},wg=function(e){var t=e.denaliViewModels,n=e.userAccount,r=e.documentModel,i=e.documentLoader,a=e.notificationsManager,o=e.uploadViewModel,s=g.useContext(M.a.Context),c=g.useContext(eu.a.Context),l=g.useContext(P.a.Context),u=g.useContext(Zl.a.Context),d=t.createLoaderViewModel(o),p=y.a.create(!1),m=new su(t.modalManager,n,r,d,i.state,s,a,c,l,u,p,t.bannersModel);return j.a.useSubscriptionTo(m.init()),j.a.useEffectOnWillUnmount((function(){return d.dispose()})),j.a.useSubscriptionTo(Object(b.pipe)(t.cheetahViewModel,x.b.compact,x.a.switchMap((function(e){return e.usedDuringSession})),x.a.tap((function(e){return p.set(e)})))),g.createElement(g.Fragment,null)},Sg=jr.d.lazy((function(){return n.e(5).then(n.t.bind(null,"1NAz",7))})),kg=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"context",void 0),Object(u._)(Object(s.a)(e),"_subs",new rn.a.Keeper),e}return Object(l.a)(n,[{key:"_trackAlertActions",value:function(){var e=this;return[this.props.denaliViewModels.lensState.view(ue.e.isSidebarOpened).pipe(x.a.switchMap(A.b.orEmpty(this.props.denaliViewModels.alertUserEvents.alertClicked)),x.b.compact).subscribe((function(t){e.context.gnarSpec.alertUnderlineClick(e.context.pageId,"assistantOn",e.context.pageSessionId,kc.a.isPremiumId(t.alert.lensId)?"premiumUphookPreview":t.alert.lensId)}))]}},{key:"componentWillMount",value:function(){T.d.Logging.root.context.add({denali:!0})}},{key:"componentDidMount",value:function(){var e,t=this.props,n=t.documentModel,r=t.selfUpdate,i=t.denaliEditorModel;this.context.gnarSpec.denaliDocumentPageShow(this.context.pageId,document.location.toString(),this.context.isTouchDevice),(e=this._subs).push.apply(e,[r.watch(n.saved.pipe(x.a.startWith(!0)),"saved"),i.dontFreezeWhen(y.a.combine(Ql.b.activeCount,$l.a.activeCount,(function(e,t){return e+t>0})),"overlay")].concat(Object(St.a)(this._trackAlertActions())))}},{key:"render",value:function(){var e=this,t=this.props,n=t.denaliViewModels,r=t.denaliEditorModel,i=t.notificationsManager,a=t.uploadViewModel,o=t.environment,s=t.children,c=t.userAccount,l=t.subscription,u=t.documentModel,d=t.documentLoader;return g.createElement(g.Fragment,null,g.createElement(ye.b.Context.Provider,{value:n.onboardingViewModel},g.createElement(Yl.a.Context.Provider,{value:lu(i,o)},g.createElement(fe.b.Context.Provider,{value:n.focus},g.createElement(pe.a.Context.Provider,{value:pe.a.getSelectionHOCs(r)},g.createElement(te.c,Object(p._)({onUnmount:function(){try{e.props.denaliViewModels.modalManager.hideAll(),n.dispose(),e._subs.dispose()}catch(e){T.d.Logging.getLogger("Main").error("Cannot shutdown the engine",e)}}},Object(he.c)(Og.firstTier)),g.createElement(wg,{denaliViewModels:n,userAccount:c,subscription:l,documentModel:u,documentLoader:d,notificationsManager:i,uploadViewModel:a}),s,g.createElement(yg.a,{searchViewModel:n.searchViewModel,key:"search-bar"}),g.createElement(hg,Object(m._)(Object(p._)({},this.props),{loaderClassName:Og.firstTierLoader})),g.createElement(Eg,{modalManager:n.modalManager}),g.createElement(v.a.div,null,n.showConfetti.pipe(x.a.filter(b.identity),x.a.map((function(){return g.createElement(Xl.a,{fallback:function(){return null},name:"Confetti"},g.createElement(g.Suspense,{fallback:null},g.createElement(Sg,{recycle:!1,tweenDuration:1e4})))})),x.a.startWith(null)))))))),g.createElement(Su,{documentUpload:a.uploadModel,modalManager:n.modalManager}))}}]),n}(g.Component);Object(u._)(kg,"contextType",P.a.Context);var Eg=function(e){var t=e.modalManager;return g.createElement(v.a.Fragment,null,t.state.view(Object(b.flow)(O.g.map((function(e){return e.component})),O.g.toNullable)))},jg=function(e){var t=e.documentLoader,n=e.userAccount;return g.createElement(tg.Loader,{className:Og.firstTierLoader,userAccount:n,documentLoader:t})},xg=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"_log",T.d.Logging.getLogger("block_unsaved_changes")),Object(u._)(Object(s.a)(e),"_blockNavigationWhenUnsavedChanges",(function(){return x.a.fromEvent(window,"beforeunload").pipe(x.a.withLatestFrom(e.props.documentModel.saved,(function(e,t){return t?null:e})),x.a.filter(Boolean)).subscribe((function(e){return e.returnValue=_g,_g}))})),Object(u._)(Object(s.a)(e),"_notifyAboutDocumentStateChange",(function(){return e.props.documentModel.saved.pipe(x.a.startWith(!0)).subscribe((function(t){Object(b.pipe)(e.props.actions.documentStateChanged(t?te.b.DocumentState.SAVED:te.b.DocumentState.NOT_SAVED),O.b.mapLeft((function(t){return e._log.warn("Could not perform documentStateChanged action.",t)})))}))})),Object(u._)(Object(s.a)(e),"_handleUnsavedChanges",(function(){return e._blockNavigationWhenUnsavedChanges().add(e._notifyAboutDocumentStateChange())})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return g.createElement(te.c,{onMount:this._handleUnsavedChanges},this.props.children,g.createElement(Jl.b.Block,{when:this.props.documentModel.saved.pipe(x.a.startWith(!0),x.a.map((function(e){return!e}))),message:function(){return e.props.documentModel.flush().catch((function(t){return e._log.error("Could not flush document before exit",t)})),e._log.warn("unsaved changes prompt before navigate"),"You may have unsaved changes in your document that will be lost if you leave the page."}}))}}]),n}(g.Component),Ag=n("yIt4"),Ig=E.a.style({margin:"".concat(E.a.rem(-10)," ").concat(E.a.rem(-2)," 0 0")}),Tg=function(){var e=g.useContext(M.a.Context);return g.createElement(Ag.a,{name:"doc-not-found",logo:g.createElement(Mg,{className:Ig}),title:"Can’t find this document",description:"It looks like this document was removed or URL is incorrect.",primaryButton:{title:"Go to your documents",onClick:function(){return e.navigate(M.a.routes.documents.href())}}})},Mg=function(e){var t=e.className;return g.createElement("svg",{"aria-hidden":!0,width:"194",height:"128",viewBox:"0 0 194 128",className:t},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("path",{d:"M44 40h64c2.2 0 4 1.8 4 4v80c0 2.2-1.8 4-4 4H45c-2.76 0-5-2.24-5-5V44c0-2.2 1.8-4 4-4z",fill:"#E4E6F2",opacity:".8"}),g.createElement("rect",{stroke:"#8189A9",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"47",y:"33",width:"72",height:"88",rx:"1"}),g.createElement("path",{d:"M60.28 86h44.67M60.28 96h44.67M60.28 107H73",stroke:"#E4E6F2",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("g",{transform:"translate(64 47)"},g.createElement("circle",{fill:"#8189A9",cx:"3",cy:"3",r:"3"}),g.createElement("circle",{fill:"#8189A9",cx:"33",cy:"3",r:"3"}),g.createElement("path",{d:"M29.46 21.54C26.66 18.74 22.78 17 18.5 17c-4.28 0-8.16 1.73-10.96 4.54",stroke:"#8189A9",strokeWidth:"2",strokeLinecap:"round"})),g.createElement("path",{d:"M188.13 106.03c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM86.03 3.13l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F6C2CB",fillRule:"nonzero"}),g.createElement("path",{d:"M4.6 60.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3C5.9 53.9 7 55 7 56.3c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7",fillRule:"nonzero"})))},Pg=function(e){var t=e.docId,n=e.engine,r=e.ded,i=e.userAccount,a=e.upgradeHook,o=e.remSize,s=e.notificationsCenter,c=e.networkState,l=e.uploadViewModel,u=e.notificationsManager,d=e.selfUpdate,p=e.clientsState,m=e.documentLoader,f=e.textResources,h=e.config,b=e.router,v=e.environment,y=e.platformEnvironment,_=e.context,C=e.telemetryContainerId,w=e.bannersFeatures,S=e.bannersModel,k=g.useContext(P.a.Context),E=new(i.features.denali.oggy?Kl:Oe.a)(n,r,i,a,i.subscription,v,y,k,o,c,t,l,u,i.settings,m,f,h,b,C,w,S),j=E.capiSession.sessionUuid;return g.createElement(P.a.ContextProvider,{gnarSpec:_.gnarSpec,docId:_.docId,pageId:n.sessionModel.isDemoDocument?"demoDocument":"document",pageSessionId:_.pageSessionId,sessionUuidGetter:function(){return O.g.fromNullable(j.get())}},g.createElement(Cg,{denaliEditorModel:r,plagiarismModel:n.plagiarismModel,documentModel:n.sessionModel,uploadViewModel:l,userAccount:i,subscription:i.subscription,selfUpdate:d,denaliViewModels:E,capabilities:E.capabilities,notificationsManager:u,clientsState:p,documentLoader:m,environment:v},s))},Ng=C.b.fontsProvider(v.a.div),Bg=function(e){var t=e.docId,n=e.userAccount,r=e.networkState,i=e.selfUpdate,a=e.uploadViewModel,o=e.upgradeHook,s=e.engineStream,c=e.notificationsManager,l=e.backendManagedStorageManager,u=e.clientsState,d=e.documentLoader,p=e.textResources,m=e.config,h=e.router,b=e.environment,y=e.platformEnvironment,E=e.telemetryContainerId,A=e.bannersFeatures,M=e.bannersModel,N=T.d.Logging.getLogger("denali.editorContent"),B=g.useContext(P.a.Context),L=g.createElement(S.a,{key:"platformNotificationsCenter",views:R.a,manager:c,onNotificationClose:function(e){return B.gnarSpec.notificationCloseButtonClick(e.type,B.pageId)}});return j.a.useEffectOnDidMount((function(){document.body.classList.remove("editorTs")})),j.a.useEffectOnWillUnmount((function(){document.body.classList.add("editorTs")})),O.g.isSome(e.userAccount.features.denali.fontAccessibilityTesting)&&(Ng=C.a.experimantalFontsProvider(v.a.div)),g.createElement(w.a.DefaultManager,null,g.createElement(I.a.DefaultManager,null,g.createElement(Ng,{key:t},g.createElement(qc.a,null),s.pipe(x.a.map(O.g.fold((function(){return L}),O.b.fold((function(e){return e.code===_.a.WsCodes.NOT_FOUND?(N.warn("document not found on init",e),g.createElement(Tg,{key:"404"})):(e.code===_.a.WsCodes.UNAUTHORIZED?N.warn("unauthorized on init",e):N.warn("engine init error",e),L)}),(function(e){var s=Object(f._)(e,2),v=s[0],O=s[1];return g.createElement(w.a.Context.Consumer,{key:"remSize"},(function(e){return g.createElement(Pg,{key:"main",docId:t,engine:O,context:B,ded:v,remSize:e,notificationsCenter:L,uploadViewModel:a,networkState:r,userAccount:n,upgradeHook:o,notificationsManager:c,backendManagedStorageManager:l,selfUpdate:i,clientsState:u,documentLoader:d,textResources:p,config:m,router:h,environment:b,platformEnvironment:y,telemetryContainerId:E,bannersFeatures:A,bannersModel:M})}))})))),x.a.startWith(L)),g.createElement(k.a,{key:"tooltip"}))))},Lg=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.apply(this,arguments),Object(u._)(Object(s.a)(e),"context",void 0),Object(u._)(Object(s.a)(e),"_uploadViewModel",void 0),Object(u._)(Object(s.a)(e),"_documentLoader",new Kc.b(e.props.router,e.props.userAccount.features.denali)),Object(u._)(Object(s.a)(e),"_docId",y.a.create(O.g.fromNullable(Number(e.props.docId)))),e}return Object(l.a)(n,[{key:"_renderPageDoc",value:function(e){var t=this.props,n=t.userAccount,r=t.networkState,i=t.upgradeHook,a=t.doxApi,o=t.doxWSApi,s=t.wsConnectivity,c=t.selfUpdate,l=t.notificationsManager,u=t.backendManagedStorageManager,d=t.clientsState,h=t.textResources,v=t.config,y=t.router,_=t.environment,C=t.platformEnvironment,w=t.telemetryContainerId,S=t.fingerprints,k=qt.createDoxEventsCollector(),E=A.b.promiseToStream((function(){return Promise.all([u.catch((function(){return O.g.none})),Wc.getDoxInit(e,o,s,k,S.accessToken)]).then((function(t){var r=Object(f._)(t,2),i=r[0],o=r[1],c={id:e,rtfMode:N.d.DocumentFeatures.getFormattingMode(o.meta.originalFilename,o.meta.createdAt,n.features.denali),template:B.a.fromDocSettings(o.meta.settings)},l=L.a.create(o,k.dox,n.features),u=function(e,t,n,r){var i=oe.a.isDraftAIMode(n,e.features.denali),a=n.rtfMode===N.d.DocumentFeatures.FormattingMode.on,o=t.has(te.b.Flag.pasteAsPlainTextInSafariFromMSWord)?[V.f.MSWord]:[],s=D.import("formats/link");s.className=ae.a.rtfLink;var c=D.import("formats/indent");c.className="ql-indent";var l=[Y,s,c];return i&&l.push(W.d),new q.a({theme:ee.a,modules:{history:X.a,clipboard:Object(K.b)(a,o),keyboard:Q.a.getKeyboardWithBindings(a?Object(p._)({},Q.a.Bindings.rtfBindings,i?Q.a.Bindings.templateSectionBindings:{}):Q.a.Bindings.plainTextBindings),marks:J.a},formats:l},r,a?i?Object(z.p)(W.c.QuillFormatNames.is,(function(e){return e===W.d.blotName})):W.c.QuillFormatNames.is:H.a.skipAny,H.a.skipAny,{classes:e.settings.editorPreferences.view((function(e){var n=e.fontSize,r=e.suggestionsVisualMode,i=Object(se.a)(r),a=t.has(te.b.Flag.highHighlights)?i.markHeightTall:void 0;return{containerClass:Object(b.pipe)(n,ne.e.match("",ae.a.bigSize),(function(e){return G.c.classes(e,U.o.paper,ae.a.editorContainer)})),markClassesTheme:i,markExtraClass:a,editorContainer:ae.a.editorContainer}})),freezeFocusFeature:!0,allowNavigationTo:function(e){return ie.b.isSearchInput(e)||Tt.isTitleInput(e)},shouldFocusEditor:re.a.isInlineCard})}(n,_,c,l);return[u,Wc.create(o,k,v,w,a,s,u,e,Object(m._)(Object(p._)({},n),{email:n.profile.get().email}),_,l,S.accessToken,void 0,O.g.toUndefined(i))]}))}));return this._documentLoader.listenEngineErrors(E),this._uploadViewModel=new F.b(this.props.doxApi,this.props.router,this.props.notificationsManager,this.context,this.props.platformEnvironment,this.props.environment,this.props.config,this.props.bannersFeatures),g.createElement(M.c,{key:"base-page-".concat(e),title:E.pipe(x.a.switchMap(Object(b.flow)(O.g.chain(O.g.fromEither),O.g.map((function(e){return Object(f._)(e,2)[1].sessionModel.title})),O.g.getOrElse((function(){return x.a.of(void 0)})))),x.a.map((function(e){return Boolean(e)?"".concat(e," - Grammarly"):"Grammarly"})))},g.createElement(g.Fragment,null,g.createElement(Bg,{key:"denali-editor-content",docId:"".concat(e),userAccount:n,upgradeHook:i,networkState:r,uploadViewModel:this._uploadViewModel,engineStream:E,selfUpdate:c,notificationsManager:l,backendManagedStorageManager:u,clientsState:d,documentLoader:this._documentLoader,textResources:h,config:v,router:y,environment:_,platformEnvironment:C,telemetryContainerId:w,bannersFeatures:this.props.bannersFeatures,bannersModel:this.props.bannersModel}),g.createElement(jg,{key:"loader",userAccount:this.props.userAccount,documentLoader:this._documentLoader})))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){var t=Number(e.docId);this._docId.set(O.g.fromNullable(t))}},{key:"componentWillUnmount",value:function(){this._uploadViewModel.dispose(),this._documentLoader.dispose()}},{key:"render",value:function(){var e=this;return g.createElement(v.a.Fragment,null,this._docId.view(Object(b.flow)(O.g.filter((function(e){return!isNaN(e)})),O.g.fold((function(){return g.createElement(M.c,{title:"Grammarly"},g.createElement(Tg,{key:"404"}))}),(function(t){return e._renderPageDoc("".concat(t))})))))}}]),n}(g.Component);Object(u._)(Lg,"contextType",P.a.Context),E.a.setStylesTarget(document.getElementById("typestyleTarget"))},"6YEU":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("yQCL"),s=n("DTwm"),c=n("mgiE"),l=n("0kuo"),u=n("M3t0"),d=n("Hj2R"),p=n("D2TP"),m=n("xk6L"),f=n("uxqH"),h=n("hzat"),g=n("8XoQ"),b=n("/1wo"),v=n("mDV6"),y=n("eAYH");!function(e){var t=e.Kind="PlagiarismCard";let n;!function(e){const t=e=>t=>Object(a._)(Object(i._)({},t),{positionState:e});var n=e.changeVisualState=e=>t=>Object(a._)(Object(i._)({},t),{visualState:e});const r=b.a.getTransitionTo(n,t);e.getChangePosition=function(){return{changePosition:t}},e.getAnimatable=function(){return{completeTransition:e=>t=>n(v.a.VisualState.complete(t.visualState,e))(t),transitionTo:r,changeVisualState:n}};const o=(e,t,n)=>r=>Object(a._)(Object(i._)({},r),{alerts:e,activeAlert:y.b.getAlertByIndex(n,e),removedAlertsIds:t,activeAlertIndex:n});var u=e.select=(e,r)=>b.a.getSelectByAlert(o,e=>s.identity,n,t,e=>s.identity,s.identity,e,r);e.getSelect=function(e,r){const i=u(e,r);return{select:b.a.getSelectFirstAlert(i),selectByAlert:(e,t,n)=>i(t,e,n),unselect:b.a.getUnselectItem(n,t)}};var p=e.remove=b.a.getRemove(o,r);function m(e,t,n){Object(l.f)(1===t.length,"PlagiarismCard can only handle update with a single alert");const o=t[0];Object(l.f)(void 0!==e.alerts.find(e=>e.id===o.id),"can not receive updates for unknown alert",()=>o.toString());const s=function(e,t,n){const r=b.a.getApplicableCardMeta(t,e.visualState,n);return Object(a._)(Object(i._)({},e),{activeHighlightIndex:b.a.getAHI(e,r),meta:r})}(e,o,n);switch(o.state.type){case d.a.State.Type.REGISTERED:return"success"===s.visualState.transition.type||"presuccess"===s.visualState.transition.type?r({type:"focused",clockwise:s.visualState.transition.clockwise})(s):s;case d.a.State.Type.REMOVED:return"focused"!==s.visualState.transition.type&&"expanded"!==s.visualState.transition.type||!s.alerts.every(e=>d.a.isCapiDone(e)&&e.allowUpdate&&d.a.isRated(s.activeAlert))?p(t,!0)(s):r({type:"presuccess",clockwise:s.visualState.transition.clockwise})(s);case d.a.State.Type.APPLIED:case d.a.State.Type.BEING_APPLIED:return p(t,!0)(s);default:return Object(l.c)(o.state)}}e.getRemoveAlert=function(e,t){return{removeAlertFromItem:(n,r)=>i=>{const a=new Set(n.map(e=>e.id));return y.b.hasAnyOfAlerts(a)(i)?p(n,Object(s.pipe)(e(r),c.g.map(e=>t.compare(i,e)>0),c.g.getOrElse(s.constTrue)))(i):i}}},e.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>m(n,t,e)}}}(n=e.Capabilities||(e.Capabilities={}));var r=e.eq=y.b.eq;let O;!function(e){function l(e,n){const o=n.alerts;return Object(a._)(Object(i._)({id:e,kind:t,activeAlert:y.b.getAlertByIndex(n.activeAlertIndex,o),equals(e){return r.equals(this,e)},hashCode(){return y.b.hashCode(Object(a._)(Object(i._)({},this),{userInput:c.g.none}))}},n),{alerts:o})}function O(e){const t=e.map(e=>e.getHighlightRanges()[0]),n=Object(s.pipe)(e.map(e=>f.b.groupSum.concat(f.b.MAX,f.b.groupSum.inverse(e.progress))),Object(o.fold)(f.b.groupSum),e=>f.b.monoidMin.concat(e,f.b.MAX),f.a.fromRatio);return new g.a.Impl(n,"",g.a.CheckingState.Idle,t,!1)}e.create=function(e,t){const r=u.d.Logging.getLogger("PlagiarismCardFactory"),o=(e,r,i,a)=>b.a.getCreate(l,c.g.none,b.a.getChangeVisualState(n.changeVisualState,s.identity),()=>m.a.EMPTY,t)(e,r,i,0,O(r),p.a.SpecialId.Plagiarism,a),f=b.a.getSelectNextAlert(b.a.getCardSelections(e),n.select(e,t)),g=(e,t)=>Object(a._)(Object(i._)({},e),{meta:O(t)});return{createRendered:(e,t)=>o(e,t,0,c.g.some(v.a.VisualState.initial({type:"rendered",clockwise:!0},!1))),createAdded:(e,t)=>o(e,t,0,c.g.some(v.a.VisualState.initial({type:"added",clockwise:!0},!0))),createFocused:(e,t,n)=>o(e,t,n,c.g.some(v.a.VisualState.initial({type:"focused",clockwise:!0},!0))),changePlagiarismMetaWithAlerts:g,addPlagiarismAlerts:(e,t)=>{const n=e.alerts.concat(t.map(e=>h.a.fromModel(e))).sort(d.d.ord.compare).filter(t=>{const n=h.a.isPlagiarism(t);return n||r.error("Encountered non-plagiarism alert in plagiarism card",{alert:t,cardId:e.id}),n});return g(Object(a._)(Object(i._)({},e),{alerts:n,activeAlertIndex:y.b.getIndexByAlert(e.activeAlert.id,n)}),n)},remove:(e,t,r)=>n.remove(t,r)(e),selectNextAlert:(e,t)=>f(t)(e),shouldAnimateAlertApply:t.shouldAnimateAlertApply}},e.getPlagiarismCardMeta=O}(O=e.ItemFactory||(e.ItemFactory={}))}(r||(r={}))},"6c0D":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a5gI"),i=n("DTwm"),a=n("+vYo"),o=n("xk6L"),s=n("M3t0"),c=n("0IPU");class l{isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){s.d.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=a.a.create(c.a.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:i.constVoid,dotClicked:()=>t.set(c.a.Popup),popupClosed:()=>t.set(c.a.Passed),popupIgnored:()=>t.set(c.a.Hidden),actionTaken:()=>t.set(c.a.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}constructor(){Object(r._)(this,"completionTrigger",a.a.create(!1)),Object(r._)(this,"_steps",{}),Object(r._)(this,"getFirstTargetRect",()=>o.a.EMPTY)}}},"6fTk":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ZDrO");const i=["b","i","br","ul","li"];var a;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:i.concat(["a"]),linkRegExp:t}:{allowedTags:i};return r.d.setInnerHTML(e,n)}}(a||(a={}))},"6lUw":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("B8yO"),i=n("ZqXC"),a=n("Q2+j");const o=[];function s(e,t){const{onClose:n,shouldCloseOnBlur:s,isOpen:c,isDismissable:l=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:d}=e;r.useEffect(()=>(c&&o.push(t),()=>{const e=o.indexOf(t);e>=0&&o.splice(e,1)}),[c,t]);const p=()=>{o[o.length-1]===t&&n&&n()};Object(a.i)({ref:t,onInteractOutside:l?e=>{e instanceof Event&&(e=>{d&&!d(e.target,e)||(o[o.length-1]===t&&(e.stopPropagation(),e.preventDefault()),p())})(e)}:void 0,onInteractOutsideStart:e=>{e instanceof Event&&(e=>{d&&!d(e.target,e)||o[o.length-1]===t&&(e.stopPropagation(),e.preventDefault())})(e)}});const{focusWithinProps:m}=Object(a.g)({isDisabled:!s,onBlurWithin:e=>{e.relatedTarget&&!Object(i.d)(e.relatedTarget)&&(d&&!d(e.relatedTarget,e instanceof Event?e:void 0)||null==n||n())}});return{overlayProps:Object.assign({onKeyDown:e=>{"Escape"!==e.key||u||(e.stopPropagation(),e.preventDefault(),p())}},m),underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}},"6o9b":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("Wy1Y"),i=n("uKMM"),a=n("4mQT"),o=n("t5lx"),s=n("B8yO"),c=n("ySi0"),l=n("nWMp"),u={position:"absolute",top:l.a.percent(40),width:l.a.percent(100)},d={position:"absolute",top:l.a.px(-9999),left:l.a.px(-9999),visibility:"hidden"},p=l.a.stylesheet({spinner:[u],wrapper:[{display:"flex",height:"100vh"}],preload:[d]}),m=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return s.createElement(f,null,s.createElement(c.b,null))}}]),n}(s.Component),f=function(e){var t=e.children;return s.createElement("div",{className:p.preload},t)}},"6sgl":function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,"a",(function(){return i})),t.b=i},"6uQI":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("mgiE");!function(e){e.setTimeToGlobalTimers=function(e){window.Grammarly.denali.timers=Object(i._)({},e,Date.now())},e.popTimeFromGlobalTimers=function(e){var t,n,r,o,s=a.g.fromNullable(null===(o=window)||void 0===o||null===(r=o.Grammarly)||void 0===r||null===(n=r.denali)||void 0===n||null===(t=n.timers)||void 0===t?void 0:t[e]);return window.Grammarly.denali.timers=Object(i._)({},e,void 0),s}}(r||(r={}))},"6x3U":function(e,t,n){"use strict";n.d(t,"a",(function(){return I_}));var r,i=n("LzOy"),a=n("0Uv3"),o=n("hHDN"),s=n("DTwm"),c=n("0kuo"),l=n("mgiE");!function(e){let t,n,r,i,a,o,u,d,p;!function(e){let t;!function(e){e.rephrase="rephrase",e.dismiss="dismiss",e.insert="insert",e.offensive="offensive",e.copy="copy",e.generationCompleted="generationCompleted"}(t=e.UserAction||(e.UserAction={}))}(t=e.Result||(e.Result={})),function(e){let t;!function(e){e.open="open",e.skip="skip",e.openFromBanner="openFromBanner",e.keepVoiceTag="keepTag",e.removeVoiceTag="removeTag",e.toggleToMyVoice="toggleToMyVoice",e.toggleToNeutral="toggleToNeutral"}(t=e.UserAction||(e.UserAction={}))}(n=e.VoiceProfile||(e.VoiceProfile={})),function(e){let t;!function(e){e.openStore="openStore",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(r=e.Actions||(e.Actions={})),function(e){let t;!function(e){e.search="search"}(t=e.UserAction||(e.UserAction={}))}(i=e.Prompt||(e.Prompt={})),function(e){let t;!function(e){e.hover="hover",e.click="click"}(t=e.UserAction||(e.UserAction={}))}(a=e.UsageInfo||(e.UsageInfo={})),function(e){let t;!function(e){e.view="view"}(t=e.UserAction||(e.UserAction={}))}(o=e.HistoryButton||(e.HistoryButton={})),function(e){let t;!function(e){e.view="view",e.skip="skip",e.next="next"}(t=e.UserAction||(e.UserAction={}))}(u=e.Onboarding||(e.Onboarding={})),function(e){let t;!function(e){e.close="close",e.readyToInteract="readyToInteract"}(t=e.UserAction||(e.UserAction={}))}(d=e.Assistant||(e.Assistant={})),function(e){let t,n;!function(e){e.view="view"}(t=e.UserAction||(e.UserAction={})),function(e){e.dontShowOnDocument="dontShowOnDocument",e.dontShowForever="dontShowForever"}(n=e.AIUsageUserAction||(e.AIUsageUserAction={}))}(p=e.Notification||(e.Notification={})),e.getComponentId=function(e,t,n,i={}){const a=Object(s.pipe)(e.kind,t=>{switch(t){case"result":return"card";case"voiceProfile":return"voice";case"actions":return e.userAction===r.UserAction.openStore?"group":"card";case"assistant":return"widget";case"onboardingPromptsTooltip":return"onboardingPromptTooltip";case"onboardingReviewTooltip":return"onboardingReviewtextTooltip";case"usageInfo":case"historyButton":case"prompt":case"onboardingPopup":case"BTSonboardingPopup":case"onboardingRewriteTooltip":case"onboardingKnowledgeHubTooltip":case"onboardingReferencesTooltip":case"onboardingHistoryTooltip":case"aiUsageNotification":case"contextNotification":case"actionNotification":return t;default:return Object(c.d)(t)}});return Object(s.pipe)(l.g.fromNullable(n),l.g.map(e=>"cheetah:history-card:"+e),l.g.getOrElse(()=>`cheetah:${a}${t?":"+t:""}`),(o=i,e=>Object(s.pipe)(Object.entries(o),l.a.reduce(e,(e,[t,n])=>{const r=e.includes("?")?"&":"?";return e+`${r}${t}=${n}`}))));var o},e.getUserAction=function(e){return Object(s.pipe)(e.kind,t=>{switch(t){case"actions":return e.userAction===r.UserAction.openStore?"All Ideas":e.userAction;case"assistant":return e.userAction===d.UserAction.close?"dismiss":e.userAction;case"result":case"voiceProfile":case"prompt":case"usageInfo":case"historyButton":case"onboardingPopup":case"BTSonboardingPopup":case"onboardingPromptsTooltip":case"onboardingReviewTooltip":case"onboardingRewriteTooltip":case"onboardingKnowledgeHubTooltip":case"onboardingReferencesTooltip":case"onboardingHistoryTooltip":case"aiUsageNotification":case"contextNotification":case"actionNotification":return e.userAction;default:return Object(c.d)(t)}})}}(r||(r={}));var u=n("GbV8");class d{constructor(e,t=new o.a(d.name)){this._capiService=e,this._logger=t}trackResultInsert(e,t,n=!1){this._logger.debug("trackResultInsert()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultInsert() - tracking result insert without context"),this._trackUxInteraction({kind:"result",userAction:r.Result.UserAction.insert},e,t,{withVoiceProfile:n})}trackResultOffensive(e,t){this._logger.debug("trackResultOffensive()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultOffensive() - tracking result offensive without context"),this._trackUxInteraction({kind:"result",userAction:r.Result.UserAction.offensive},e,t)}trackResultDismiss(e,t){this._logger.debug("trackResultDismiss()",{contextId:e,historyResultId:t}),e||this._logger.warn("trackResultDismiss() - tracking result dismiss without context"),this._trackUxInteraction({kind:"result",userAction:r.Result.UserAction.dismiss},e,t)}trackResultRephrase(e){this._logger.debug("trackResultRephrase()",{contextId:e}),e||this._logger.warn("trackResultRephrase() - tracking result rephrase without context"),this._trackUxInteraction({kind:"result",userAction:r.Result.UserAction.rephrase},e)}trackResultCopy(e,t){this._logger.debug("trackCopy()"),this._trackUxInteraction({kind:"result",userAction:r.Result.UserAction.copy},e,t)}trackResultGenerationCompleted(e,t){this._logger.debug("trackResultGenerationCompleted()"),this._trackUxInteraction({kind:"result",userAction:r.Result.UserAction.generationCompleted},e,t)}trackVoiceProfileOpen(e){this._logger.debug("trackVoiceProfileOpen()",{source:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:"toolbar"===e?r.VoiceProfile.UserAction.open:r.VoiceProfile.UserAction.openFromBanner})}trackVoiceProfileSkip(){this._logger.debug("trackVoiceProfileSkip()"),this._trackUxInteraction({kind:"voiceProfile",userAction:r.VoiceProfile.UserAction.skip})}trackActionsOpenStore(){this._logger.debug("trackActionsOpenStore()"),this._trackUxInteraction({kind:"actions",userAction:r.Actions.UserAction.openStore})}trackActionsOffensive(e){this._logger.debug("trackActionsOffensive()"),e||this._logger.warn("trackActionsOffensive() - tracking actions offensive without context"),this._trackUxInteraction({kind:"actions",userAction:r.Actions.UserAction.offensive},e)}trackPromptSearch(){this._logger.debug("trackPromptSearch()"),this._trackUxInteraction({kind:"prompt",userAction:r.Prompt.UserAction.search})}trackUsageInfoClick(){this._logger.debug("trackUsageInfoClick()"),this._trackUxInteraction({kind:"usageInfo",userAction:r.UsageInfo.UserAction.click})}trackUsageInfoHover(){this._logger.debug("trackUsageInfoHover()"),this._trackUxInteraction({kind:"usageInfo",userAction:r.UsageInfo.UserAction.hover})}trackHistoryButtonView(){this._logger.debug("trackHistoryButtonView()"),this._trackUxInteraction({kind:"historyButton",userAction:r.HistoryButton.UserAction.view})}trackOnboardingPopupView(){this._logger.debug("trackOnboardingPopupView()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:r.Onboarding.UserAction.view})}trackOnboardingPopupSkip(){this._logger.debug("trackOnboardingPopupSkip()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:r.Onboarding.UserAction.skip})}trackOnboardingPopupNext(){this._logger.debug("trackOnboardingPopupNext()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:r.Onboarding.UserAction.next})}trackBTSOnboardingPopupView(){this._logger.debug("trackBTSOnboardingPopupView()"),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:r.Onboarding.UserAction.view})}trackBTSOnboardingPopupSkip(){this._logger.debug("trackBTSOnboardingPopupSkip()"),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:r.Onboarding.UserAction.skip})}trackBTSOnboardingPopupNext(){this._logger.debug("trackBTSOnboardingPopupNext()"),this._trackUxInteraction({kind:"BTSonboardingPopup",userAction:r.Onboarding.UserAction.next})}trackOnboardingPromptsTooltipView(){this._logger.debug("trackOnboardingPromptsTooltipView()"),this._trackUxInteraction({kind:"onboardingPromptsTooltip",userAction:r.Onboarding.UserAction.view})}trackOnboardingReviewTooltipView(){this._logger.debug("trackOnboardingReviewTooltipView()"),this._trackUxInteraction({kind:"onboardingReviewTooltip",userAction:r.Onboarding.UserAction.view})}trackOnboardingRewriteTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingRewriteTooltip",userAction:r.Onboarding.UserAction.view})}trackOnboardingKnowledgeHubTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingKnowledgeHubTooltip",userAction:r.Onboarding.UserAction.view})}trackOnboardingReferencesTooltipView(){this._logger.debug("trackOnboardingReferencesTooltipView()"),this._trackUxInteraction({kind:"onboardingReferencesTooltip",userAction:r.Onboarding.UserAction.view})}trackOnboardingHistoryTooltipView(){this._logger.debug("trackOnboardingHistoryTooltipView()"),this._trackUxInteraction({kind:"onboardingHistoryTooltip",userAction:r.Onboarding.UserAction.view})}trackAssistantClose(){this._logger.debug("trackAssistantClose()"),this._trackUxInteraction({kind:"assistant",userAction:r.Assistant.UserAction.close})}trackVoiceProfileRemoveTag(){this._logger.debug("trackVoiceProfileRemoveTag()"),this._trackUxInteraction({kind:"voiceProfile",userAction:r.VoiceProfile.UserAction.removeVoiceTag})}trackVoiceProfileKeepTag(){this._logger.debug("trackVoiceProfileKeepTag()"),this._trackUxInteraction({kind:"voiceProfile",userAction:r.VoiceProfile.UserAction.keepVoiceTag})}trackAINotificationDismiss(e){this._logger.debug("trackAINotificationDismiss()"),this._trackUxInteraction({kind:"aiUsageNotification",userAction:"document"===e?r.Notification.AIUsageUserAction.dontShowOnDocument:r.Notification.AIUsageUserAction.dontShowForever})}trackReadyToInteract(){this._logger.debug("trackReadyToInteract()"),this._trackUxInteraction({kind:"assistant",userAction:r.Assistant.UserAction.readyToInteract})}trackMyVoiceCardToggle(e){this._logger.debug("trackMyVoiceCardToggle"),this._trackUxInteraction({kind:"voiceProfile",userAction:e?r.VoiceProfile.UserAction.toggleToMyVoice:r.VoiceProfile.UserAction.toggleToNeutral})}trackContexNotification(e){this._logger.debug("trackContexNotification()",e),this._trackUxInteraction({kind:"context"===e?"contextNotification":"actionNotification",userAction:r.Notification.UserAction.view})}_trackUxInteraction(e,t,n,i={}){const a=r.getComponentId(e,t,n,i),o=r.getUserAction(e);this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:a,userAction:o,uxInteraction:e,contextId:t}),Object(u.b)("sendUserAction",this._capiService.user_action({componentId:a,userAction:o}),this._logger)}}var p=n("xk6L"),m=n("yIk2"),f=n("+vYo");class h{constructor(e){this._hostAvailability=e,this._availability=f.a.create(null),this.availability=this._availability.view(),this._sub=new p.a.Subscription,this._sub=e.subscribe(m.b.toAtom(this._availability))}augment(e){this._sub.unsubscribe(),this._sub=e(this._hostAvailability).subscribe(m.b.toAtom(this._availability))}dispose(){this._sub.unsubscribe()}}var g=n("La5+"),b=n("M3t0"),v=n("Wy1Y"),y=n("a5gI"),O=n("hcme"),_=n("tiWp"),C=function e(t,n,r){var i=this;Object(v.a)(this,e),Object(y._)(this,"_ded",void 0),Object(y._)(this,"_features",void 0),Object(y._)(this,"_inlineManager",void 0),Object(y._)(this,"inlineButtonState",void 0),Object(y._)(this,"magicRewriteEnabled",void 0),Object(y._)(this,"inlineRewriteEnabled",void 0),Object(y._)(this,"showOnboardingTourA11yUpdates",void 0),Object(y._)(this,"_subs",void 0),Object(y._)(this,"_inlineButtonState",void 0),Object(y._)(this,"dispose",void 0),this._ded=t,this._features=n,this._inlineManager=r,this.inlineButtonState=f.a.create(l.g.none),this._subs=new g.a.Keeper,this._inlineButtonState=p.a.combineLatestStatic([this._ded.viewport,this._ded.scrollPosition,this._inlineManager.cheetahInlineButtonState]).pipe(p.a.map((function(e){var t=Object(O._)(e,3),n=t[0],r=t[1],a=t[2];return Object(_.pipe)(a,l.g.fold((function(){return l.g.none}),(function(){var e=n.text.left;return Object(_.pipe)(i._ded.getSelectionRect(),l.b.flatMap((function(e){return e.getRect()})),l.b.map((function(e){return e.clientRects})),l.g.fromEither,l.g.filter(l.a.isNonEmpty),l.g.map((function(t){var n=t[t.length-1],i=t.length>1;return{top:n.bottom+r,left:i?e:n.left}})))})))}))),this.dispose=function(){i._subs.dispose()},this.magicRewriteEnabled=!this._features.oggy&&this._features.cheetahMagicRewrite,this.inlineRewriteEnabled=!this._features.oggy&&this._features.cheetahInlineRewrite,this.showOnboardingTourA11yUpdates=this._features.showOnboardingTourA11yUpdates,this._subs.push(this._inlineButtonState.subscribe((function(e){return i.inlineButtonState.set(e)})))},w=n("CulD"),S=n("mTue"),k=n("pwUd"),E=n("RXDX"),j=n("TKPA"),x=n("/9H4"),A=n("111I"),I=n("lKCo"),T=n("o2Co"),M=n("b03l"),P=n("BXBv"),N=n("wC8/");const B=e=>l.g.isSome(e),L="71.6.1";var F=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class R{constructor(e){this._params=e,this._commonLabels={version:L,cheetahClientProtocolVersion:P.b,clientType:this._params.lifecycleService.hostInfo.clientType,clientVersion:this._params.lifecycleService.hostInfo.clientVersion,environment:this._params.lifecycleService.hostInfo.environment,isMergedExperience:B(this._params.revisionEngine)?"true":"false"},this._markedMetricNames=new Set}report(e,t,n){return F(this,void 0,void 0,(function*(){if("test"===this._params.lifecycleService.hostInfo.environment)return this._params.logger.debug("test environment; skipping metric report",e);performance.mark(e.name),this._markedMetricNames.add(e.name);const r=Object.keys(this._commonLabels).map(e=>({key:e,value:this._commonLabels[e]})).concat(Object(s.pipe)(I.fromNullable(e.labels),I.fold(()=>[],e=>Object.keys(e).map(t=>({key:t,value:e[t]}))))),i=this._getDurationMetrics(null!=t?t:[],e.name,r).concat(this._getDurationMetrics(null!=n?n:[],e.name,r));try{const t=yield fetch(R.FEMETRICS_ENDPOINT+"/batch/import",{method:"POST",body:JSON.stringify([{name:e.name+"_total",type:"counter",value:1,labels:r},...i])});if(!t.ok){const e=yield t.text();throw Error(e)}}catch(t){this._params.monitoringService.notify(Object(T.a)(Object(M.m)({rawError:Object(N.b)(t),metric:e})))}}))}_getDurationMetrics(e,t,n){return e.map(e=>{try{const r=performance.measure(`${e}_to_${t}`,e,t).duration;return{name:t+"_duration_ms",type:"histogram",value:r,labels:n.concat([{key:"startMark",value:e}])}}catch(n){return void this._params.logger.warn(`failed to measure '${e}' to '${t}'`,n)}}).filter(Boolean)}dispose(){this._markedMetricNames.forEach(e=>{performance.clearMarks(e),performance.clearMeasures(e)})}}R.FEMETRICS_ENDPOINT="https://assistant.femetrics.grammarly.io";var D=R,H=n("O+SZ"),V=n("UxCM");class U{constructor(){this._notifications=new p.a.Subject,this.notifications=this._notifications.asObservable()}notify(e){this._notifications.next(e)}}var W=n("M4GM"),z=n("zTfX");class G{constructor(e){this._params=e,this._sub=new W.a,this._domain=f.a.create(I.none),this._state=f.a.create({}),this.stagingFeedbackFormData=this._state.view(),this.domain=this._domain.view(),this._sub.add(this._params.feedbackService.domain.subscribe(e=>this._domain.set(I.fromNullable(e)))),this._sub.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._sub.unsubscribe()}_handleUIAction(e){switch(e.kind){case z.a.Kind.openFeedbackFormButtonClick:return this._openFeedbackForm(e.source);case z.a.Kind.feedbackFormChange:return this._updateFeedbackForm(e.feedbackData);case z.a.Kind.feedbackFormSubmitButtonClick:return this._submitFeedbackForm(e.feedbackData);default:return}}_openFeedbackForm(e){this._params.routingViewModel.push({kind:"feedbackForm"}),this._state.set({source:e})}_updateFeedbackForm(e){this._state.modify(t=>Object.assign(Object.assign({},t),e))}_submitFeedbackForm(e){this._params.routingViewModel.pop(),this._state.set({}),Object(u.b)("submitFeedback",this._params.feedbackService.submitFeedback(e),this._params.logger,void 0,e=>this._params.monitoringService.notify(Object(T.a)({source:"feedback",kind:"error",name:"submitFeedbackFailed",data:{rawError:Object(N.b)(e)}})))}}var q=n("cZKX"),K=n("g76U");class ${constructor(e,t,n,r=3e3,i=300,a=1){this._notificationService=e,this._assistantUIActions=t,this._activeView=n,this._notificationsDurationMs=r,this._mouseOutHoldBackDurationMs=i,this._maxNotificationsCountAtOnce=a,this._state=f.a.create([]),this._notificationsSubs=new Map,this._subs=new W.a,this._hovered=f.a.create(!1),this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe()),this._subs.add(this._removeVoiceTagNotification().subscribe()),this._subs.add(this._showServiceNotifications().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(q.O(t=>t.id!==e)),this._hovered.set(!1)}hover(e){this._hovered.set(e)}clearAll(){this._notificationsSubs.forEach(e=>e.unsubscribe()),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){e.persistent||this._notificationsSubs.set(e.id,p.a.timer(e.customTimeout||this._notificationsDurationMs).pipe(p.a.switchMap(()=>this._hovered.get()?this._hovered.pipe(p.a.auditTime(10),p.a.filter(e=>!e),p.a.take(1),p.a.switchMap(()=>p.a.timer(this._mouseOutHoldBackDurationMs))):p.a.of(null))).subscribe(()=>this.dismiss(e.id))),this._state.modify(Object(s.flow)(q.D(e),q.Yb(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(p.a.filter(Object(j.p)(z.a.is(z.a.Kind.feedbackFormSubmitButtonClick),z.a.is(z.a.Kind.reportOffensiveResultButtonClick),z.a.is(z.a.Kind.reportOffensiveActionsButtonClick),z.a.is(z.a.Kind.toneReportToneLikeButtonClick),z.a.is(z.a.Kind.toneReportToneDislikeButtonClick))),p.a.tap(()=>this._showNotification(K.a.create("feedbackSubmitted"))))}_removeVoiceTagNotification(){return this._assistantUIActions.pipe(p.a.filter(z.a.is(z.a.Kind.voiceTagPopoverRemoveButtonClick)),p.a.tap(()=>this._showNotification(K.a.create("voiceTagRemoved"))))}_showServiceNotifications(){return this._notificationService.notifications.pipe(p.a.tap(e=>this._showNotification(e)))}_clearNotificationsOnViewChange(){return this._activeView.view("kind").pipe(p.a.distinctUntilChanged(),p.a.tap(()=>this.clearAll()))}}var Z=n("oYA0");function Y(e){switch(e){case Z.a.historyButtonActive:return I.some("historyButton");case Z.a.initialActionsList:return I.some("homeGenAIActionsList");case Z.a.referencesList:return I.some("genAIResultReferences");case Z.a.promptInputAndMenuContainer:return I.some("promptInput");case Z.a.followUpActionsList:return I.some("genAIResultFollowUpActionsList");case Z.a.appActionsList:return I.some("homeAppActionsList");case Z.a.creditsInfoButton:case Z.a.intentCard:case Z.a.historyButton:case Z.a.promptInput:case Z.a.promptMenuContent:case Z.a.skill:case Z.a.toneReport:return I.none;default:Object(c.d)(e)}}class X{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._references=f.a.create(new Map),this._onboardingStep=f.a.create(I.none),this.onboardingStep=this._onboardingStep.view(),Object(s.pipe)(this._params.onboardingService,I.map(e=>{this._subs.add(this._params.assistantUIActions.pipe(p.a.filter(z.a.is(z.a.Kind.mount))).subscribe(({name:t,element:n})=>Object(s.pipe)(Y(t),I.map(t=>{this._references.modify(e=>new Map(e).set(t,n)),e.notify({kind:"onboardingTargetMount",target:t})})))),this._subs.add(this._params.assistantUIActions.pipe(p.a.filter(z.a.is(z.a.Kind.unmount))).subscribe(({name:t})=>Object(s.pipe)(Y(t),I.map(t=>{this._references.modify(e=>{const n=new Map(e);return n.delete(t),n}),e.notify({kind:"onboardingTargetUnmount",target:t})})))),this._subs.add(p.a.combineLatestStatic([this._references,p.a.from(e.onboardingStepRequest).pipe(p.a.map(I.fromNullable))]).pipe(p.a.map(([e,t])=>Object(s.pipe)(t,I.chain(t=>Object(s.pipe)(I.fromNullable(e.get(t.target)),I.map(e=>Object.assign(Object.assign({},t),{reference:e}))))))).subscribe(m.b.toAtom(this._onboardingStep)))}))}notify(e){switch(e.kind){case"onboardingStepUnmount":Object(s.pipe)(this._params.onboardingService,I.map(t=>t.notify({kind:"onboardingStepUnmount",stepId:e.stepId,reason:e.reason})));break;case"onboardingStepMount":Object(s.pipe)(this._params.onboardingService,I.map(t=>t.notify({kind:"onboardingStepMount",stepId:e.stepId})));break;default:Object(c.d)(e)}}dispose(){this._subs.unsubscribe()}}var Q=n("wvT7"),J=n("IMGo"),ee=n("7bSy"),te=n("U9Go");function ne(e){return"home"===e.kind||"thread"===e.kind}const re={legacyVoiceProfile:!0,voiceProfile:!0,feedbackForm:!0,skill:!0,toneReport:!0,settings:!0,plagiarism:!0};function ie(e){return!0===re[e.kind]}var ae;(ae||(ae={})).eq=te.j((e,t)=>e.kind===t.kind);var oe,se,ce,le=n("024v");!function(e){e.Slight="Slight",e.Moderate="Moderate",e.Strong="Strong",e.VeryStrong="Very strong"}(oe||(oe={})),function(e){e.On="on",e.Off="off"}(se||(se={})),function(e){e.positive="positive",e.negative="negative"}(ce||(ce={}));le.contramap(e=>e.confidence)(le.getDualOrd(le.ordNumber));const ue=le.contramap(e=>e===se.Off||e!==se.On&&Object(c.d)(e))(le.ordBoolean);le.contramap(({brandToneInfo:e,confidence:t})=>[Object(s.pipe)(e,I.map(({status:e})=>e)),t])(le.getTupleOrd(le.getDualOrd(I.getOrd(ue)),le.getDualOrd(le.ordNumber)));var de;!function(e){e.isLoadedNonEmpty=e=>"loadedNonEmpty"===e.kind,e.isLoaded=e=>"loadedNonEmpty"===e.kind||"loadedEmpty"===e.kind}(de||(de={}));class pe{constructor(e){this._params=e,this._subscriptions=new p.a.Subscription,this.state=f.a.combine(this._params.toneDetectorService.state,this._params.userService.user.view("institution").view(I.map(e=>e.name)),(e,t)=>Object(s.pipe)(e,I.fold(()=>({kind:"loading"}),({tones:e,hidden:n,brandTonesEnabled:r,institutionLogo:i})=>Object(s.pipe)(J.F(e),I.filter(e=>!n),I.fold(()=>({kind:"loadedEmpty",brandToneInfo:r?I.some({institutionName:t,institutionLogo:i}):I.none}),e=>({kind:"loadedNonEmpty",tones:e,brandToneInfo:r?I.some({institutionName:t,institutionLogo:i}):I.none})))))),this._subscriptions.add(this._params.assistantUIActions.pipe(p.a.filter(Object(j.p)(z.a.isToneDetectorAction,z.a.is(z.a.Kind.actionBrickClick),z.a.is(z.a.Kind.mount))),p.a.withLatestFrom(this.state)).subscribe(([e,t])=>this._handleUIAction(e,t))),this._subscriptions.add(this.state.pipe(p.a.pairwise(),p.a.filter(([e,t])=>"loadedNonEmpty"===e.kind&&"loadedNonEmpty"!==t.kind),p.a.withLatestFrom(this._params.routingViewModel.activeView.view("kind")),p.a.filter(([e,t])=>"toneReport"===t)).subscribe(()=>this._params.routingViewModel.pop()))}dispose(){this._subscriptions.unsubscribe()}_handleUIAction(e,t){var n,r;switch(e.kind){case z.a.Kind.toneReportToneLikeButtonClick:this._params.toneDetectorService.submitToneFeedback(e.toneName,ce.positive);break;case z.a.Kind.toneReportToneDislikeButtonClick:this._params.toneDetectorService.submitToneFeedback(e.toneName,ce.negative);break;case z.a.Kind.actionBrickClick:{const t=e.action;"regularAction"===t.kind&&ee.a.isToneAction(t.action)&&this._params.routingViewModel.push({kind:"toneReport"});break}case z.a.Kind.mount:e.name===Z.a.toneReport&&de.isLoadedNonEmpty(t)&&(null===(r=(n=this._params.toneDetectorService).trackToneReportShow)||void 0===r||r.call(n,{tones:t.tones,brandTonesEnabled:I.isSome(t.brandToneInfo)}));break;default:Object(c.d)(e)}}}class me{constructor(e,t,n,r,i){this._session=e,this._activeView=t,this._genAIAvailability=n,this._toneDetectorViewModel=r,this._plagiarismViewModel=i,this.contextualActions=f.a.combine(this._session,this._activeView.view(l.g.fromPredicate(ne)),this._genAIAvailability,(e,t,n)=>Object(s.pipe)(Q.a(l.g.option)({session:E.a.toStarted(e),view:Object(s.pipe)(t,l.g.map(e=>e.kind))}),l.g.map(({session:e,view:t})=>"home"===t?e.activeBoundaryContext:"thread"===t?e.activeContext:Object(c.d)(t)),t=>function(e,t,n){return Object(s.pipe)(e,l.g.fold(()=>({loading:!t,actions:[],context:{kind:"pending",isBoundary:!1,textRevision:l.g.none,selection:l.g.none}}),e=>({loading:!t&&"pending"===e.kind,actions:S.a.isUnavailable(n)||l.g.exists(({kind:e})=>"aiUsageAlert"===e)(e.specialView)?[]:e.availableActions.filter(Object(s.not)(ee.a.isSkillAction)),context:e})))}(t,l.g.isSome(e.error),n))),this.toneAction=Object(s.pipe)(this._toneDetectorViewModel,l.g.fold(()=>f.a.create(l.g.none),e=>e.state.view(Object(s.flow)(l.g.fromPredicate(de.isLoadedNonEmpty),l.g.map(({tones:e})=>Object(s.pipe)(e,J.M,ee.a.createToneAction)))))),this.plagiarismAction=Object(s.pipe)(this._plagiarismViewModel,l.g.fold(()=>f.a.create(l.g.none),e=>e.plagiarismAction)),this.skillActions=this._session.view(Object(s.flow)(E.a.toStarted,l.g.map(e=>e.activeContext),l.g.map(e=>e.availableActions),l.g.fold(()=>[],q.O(ee.a.isSkillAction))))}}var fe=n("r53K");function he(e){return e.split(/\s+/).map(e=>e.trim()).filter(e=>""!==e)}var ge=n("B8yO"),be=n.n(ge),ve=n("HOlR"),ye=n("4GyQ"),Oe=n("OwvP"),_e=n("QnuY"),Ce=n("N4IK"),we=n("ySi0");const Se=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),ge.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:Ce.e.Color.Text.Base.Subdued,strokeMiterlimit:"4.25735"})),ke=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),ge.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:Ce.e.Color.Text.Base.Subdued}),ge.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:Ce.e.Color.Text.Base.Subdued}),ge.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:Ce.e.Color.Text.Base.Subdued}),ge.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:Ce.e.Color.Text.Base.Subdued,stroke:Ce.e.Color.Text.Base.Subdued})),Ee=e=>ge.createElement(we.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16"},e),ge.createElement("path",{d:"M10.3009 10.6376C11.3878 10.4069 11.9799 9.817 12.2614 8.91408C11.0802 8.91408 10.1227 7.99306 10.1227 6.85694C10.1227 5.72082 11.0802 4.7998 12.2614 4.7998C13.4425 4.7998 14.4 5.66246 14.4 6.85694C14.4 8.05142 14.1624 11.0708 10.3009 11.9998V10.6376Z",fill:"#027E6F",stroke:"none"}),ge.createElement("path",{d:"M4.97826 10.6376C6.06509 10.4069 6.65721 9.817 6.93871 8.91408C5.75756 8.91408 4.80005 7.99306 4.80005 6.85694C4.80005 5.72082 5.75756 4.7998 6.93871 4.7998C8.11986 4.7998 9.07737 5.66246 9.07737 6.85694C9.07737 8.05142 8.83974 11.0708 4.97826 11.9998V10.6376Z",fill:"#027E6F",stroke:"none"}));var je=n("nWMp"),xe=n("e4R/"),Ae=n("Rc7N");const Ie="brick",Te=Object(xe.a)({padding:`0 ${je.a.rem(Ce.f.Space2)} 0 ${je.a.rem(Ce.f.Space1)}`},Ie),Me={display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)},Pe=Object(xe.a)({minHeight:je.a.rem(1.75),fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),color:Ce.a.BlueGray80},Ie),Ne=Object(xe.a)({minHeight:je.a.rem(2),fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),color:Ce.e.Color.Text.Base.Default},Ie),Be=Object(xe.a)({boxShadow:`inset 0 0 0 ${je.a.rem(.125)} ${Ae.a.BrandGreen60}`},Ie),Le=Object(xe.a)({boxShadow:"none",color:Ce.a.NeutralGray70,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{color:Ae.a.BlueGray80,boxShadow:"inset 0 0 0 1px "+Ae.a.BlueGray40,backgroundColor:Ae.a.BlueGray5}}},Ie),Fe={textAlign:"left",whiteSpace:"initial",lineHeight:je.a.rem(1.125),margin:`${je.a.rem(.25)} 0 ${je.a.rem(.25)} 0`},Re=Object.assign({},Object(xe.c)(1.5)),De=je.a.joinClasses([Ie,je.a.style(Te)]),He=je.a.style(Me),Ve=je.a.style(Pe),Ue=je.a.style(Ne),We=je.a.style(Be),ze=je.a.style(Le),Ge=je.a.style(Fe),qe=je.a.style(Re),Ke=je.a.style(Re),$e=je.a.style(Re),Ze=Object(ye.d)(_e.a),Ye=A.b.Node.make(({view:e,notify:t})=>ge.createElement(Ze,Object.assign({flatUI:!1,variant:"secondary",onClick:e("action").pipe(p.a.map(e=>t({kind:z.a.Kind.actionBrickClick,action:e}))),name:"actionBrick"},Object(ye.c)("actionBrick",De,e("action").pipe(p.a.map(({kind:e})=>"go"===e?We:null)),e("mode").pipe(p.a.map(e=>"compact"===e?Ve:"standard"===e?Ue:Object(c.d)(e))),e("customViewOpts").pipe(p.a.map(e=>(null==e?void 0:e.isPinned)?ze:null)))),ge.createElement(Oe.a.div,{className:He},e("icon").pipe(p.a.map(ve.fold(e=>{switch(e){case"allResults":return ge.createElement(ke,{className:qe});case"go":return ge.createElement(Se,{className:Ke});case"plagiarism":return ge.createElement(Ee,{className:$e});default:return Object(c.d)(e)}},e=>ge.createElement("img",{src:e,style:{width:20,height:20}})))),ge.createElement(Oe.a.span,Object.assign({className:Ge},Object(fe.e)(e("label")))))));var Xe=n("UIFK");const Qe=({icon:e,label:t,style:n,onClick:r})=>ge.createElement(_e.a,{variant:"tertiary",onClick:r,name:"actionBrick",size:"large",style:[ot,n],className:"action-row-btn"},Object(s.pipe)(e,ve.fold(e=>"more"===e?ge.createElement(ke,null):"plagiarism"===e?ge.createElement(Ee,null):Object(c.d)(e),e=>ge.createElement("img",{src:e,style:{width:je.a.rem(Je),height:je.a.rem(Je)}}))),ge.createElement(Oe.a.div,Object.assign({},Object(fe.e)(t),{className:st}))),Je=1.25,et=Ce.f.Space4,tt=Ce.f.Space4,nt=Ce.f.Space3,rt=et+Je+nt,it=tt,at=Object(Xe.b)("inset 0 0 0 2px "+Ae.a.BorderBrandDefault),ot={default:{fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),minHeight:je.a.rem(2.5),gap:je.a.rem(nt),padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(tt)} ${je.a.rem(Ce.f.Space2)} ${je.a.rem(et)}`,justifyContent:"flex-start",alignItems:"flex-start",color:Ce.e.Color.Text.Base.Default,boxShadow:"none",borderRadius:0,$nest:at},hovered:{color:Ce.e.Color.Text.Base.Default,boxShadow:"none",$nest:at},active:{color:Ce.e.Color.Text.Base.Default,boxShadow:"none",$nest:at},icon:Object(xe.c)(Je)},st=je.a.style({whiteSpace:"initial",textAlign:"left",lineHeight:je.a.rem(1.3125)});var ct;!function(e){e.isActionStore=function(e){return"actionStore"===e.kind},e.isSearchResults=function(e){return"searchResults"===e.kind}}(ct||(ct={}));class lt{constructor(e,t,n,r,i,a,o,u){this._trackingService=a,this._focusPromptField=u,this._subs=new W.a,this._state=f.a.create(l.g.none),this._userTyped=new H.a,this._promptOrMenuFocused=new H.a,this._promptMenuActions=new H.a,this._promptMenuContainer=f.a.create(l.g.none),this._promptMenuContentContainer=l.g.none,this._cachedActionBricks=l.g.none,this.state=this._state.view(),this._subs.add(e.subscribe(e=>this._handleUIAction(e))),this._subs.add(this._userTyped.pipe(p.a.debounce(e=>e.trim().length>0?p.a.timer(150):p.a.of(null)),p.a.map(e=>e.trim()),p.a.tap(e=>{""===e&&this._promptMenuActions.next({kind:"close"})}),p.a.filter(e=>""!==e),p.a.filter(()=>!o()),p.a.withLatestFrom(this._state.view(l.g.fold(()=>s.constTrue,e=>e.filterPredicate))),p.a.tap(([e,t])=>this._promptMenuActions.next({kind:"showSearchResults",search:e,filterPredicate:t}))).subscribe()),this._subs.add(function(e,t,n,r,i,a){const o=r;return p.a.combineLatestStatic([e.pipe(p.a.switchMap(e=>"showSearchResults"===e.kind?f.a.combine(t,o,i,n,({actions:t,loading:n},r,i,a)=>Object(s.pipe)(Object(s.pipe)([r,i],q.B).concat(a).concat(t.filter(Object(s.not)(ee.a.isSkillAction))),q.O(e.filterPredicate),J.F,l.g.filter(()=>""!==e.search.trim()&&!n),l.g.chain(t=>function(e,t){return Object(s.pipe)(e,q.P(e=>Object(s.pipe)(function(e,t,n){const r=he(e),i=[...he(t),...Object(s.pipe)(n,q.w(e=>he(e)))],a=r.map(()=>null);let o=0;for(const e of i){if(o>=r.length)break;e.toLowerCase().includes(r[o].toLowerCase())&&(a[o]=0,++o)}return a.includes(null)?I.none:I.some(a.map(e=>null!=e?e:0).reduce((e,t)=>e+t,0))}(t,e.searchLabel,e.searchTags),l.g.map(t=>({data:e,matchScore:t})))),q.Tb(le.contramap(({matchScore:e})=>e)(le.ordNumber)),q.ub(({data:e})=>e),J.F)}(t,e.search)),l.g.map(t=>({kind:"searchResults",actions:t,filterPredicate:e.filterPredicate})))):"showActionStore"===e.kind?f.a.combine(t,o,i,n,({actions:t,loading:n},r,i,a)=>Object(s.pipe)(Object(s.pipe)([r,i],q.B).concat(a).concat(t.filter(Object(s.not)(ee.a.isSkillAction))),q.O(e.filterPredicate),J.F,l.g.filter(()=>!n),l.g.map(t=>({kind:"actionStore",actions:t,filterPredicate:e.filterPredicate})))):"close"===e.kind?p.a.of(l.g.none):Object(c.d)(e)),p.a.startWith(l.g.none)),a]).pipe(p.a.map(([e,t])=>Object(s.pipe)(e,l.g.map(e=>Object.assign(Object.assign({},e),{promptMenuContainer:t})))))}(this._promptMenuActions,t,n,r,i,this._promptMenuContainer).subscribe(m.b.toAtom(this._state))),this._subs.add(this._promptOrMenuFocused.pipe(p.a.debounceTime(100),p.a.filter(e=>!e)).subscribe(()=>this._promptMenuActions.next({kind:"close"}))),this._subs.add(this.state.pipe(p.a.pairwise(),p.a.filter(([e,t])=>l.g.isNone(e)&&l.g.isSome(t)),p.a.map(([e,t])=>t),p.b.compact).subscribe(e=>{"actionStore"===e.kind?this._trackingService.trackActionsOpenStore():"searchResults"===e.kind&&this._trackingService.trackPromptSearch()})),this._subs.add(this._promptMenuActions.pipe(p.a.filter(e=>"close"===e.kind)).subscribe(()=>this._invalidateActionBricks()))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case z.a.Kind.mount:return void(e.name===Z.a.promptMenuContent?this._promptMenuContentContainer=l.g.some(e.element):e.name===Z.a.promptInputAndMenuContainer&&this._promptMenuContainer.set(l.g.some(e.element)));case z.a.Kind.unmount:return void(e.name===Z.a.promptInputAndMenuContainer&&this._promptMenuContainer.set(l.g.none));case z.a.Kind.promptMenuKeyPressArrowDown:return this._onPromptMenuKeyPressArrowDown();case z.a.Kind.promptMenuKeyPressArrowUp:return this._onPromptMenuKeyPressArrowUp();case z.a.Kind.promptFieldKeyPressArrowUp:return this._focusLastBrick();case z.a.Kind.promptFieldKeyPressArrowDown:return this._focusFirstBrick();case z.a.Kind.promptFieldTextChange:return this._invalidateActionBricks(),this._userTyped.next(e.text);case z.a.Kind.promptFieldKeyPressEscape:return e.menuOpened?this._promptMenuActions.next({kind:"close"}):void 0;case z.a.Kind.collapsePromptMenuButtonClick:case z.a.Kind.promptSubmitButtonClick:return this._promptMenuActions.next({kind:"close"});case z.a.Kind.promptFieldKeyPressEnter:return void(e.text.trim().length>0&&this._promptMenuActions.next({kind:"close"}));case z.a.Kind.actionBrickClick:return"allResults"===e.action.kind?this._promptMenuActions.next({kind:"showActionStore",filterPredicate:e.action.filterPredicate}):this._promptMenuActions.next({kind:"close"});case z.a.Kind.promptFieldAndMenuFocusChange:return this._promptOrMenuFocused.next(e.focused);default:return}}_invalidateActionBricks(){this._cachedActionBricks=l.g.none}_getActionBricks(){return Object(s.pipe)(this._cachedActionBricks,l.g.getOrElse(()=>{const e=Object(s.pipe)(this._promptMenuContentContainer,l.g.fold(()=>[],e=>q.db(Array.from(e.querySelectorAll(".actionBrick, .action-row-btn")).filter(fe.d))));return this._cachedActionBricks=l.g.some(e),e}))}_onPromptMenuKeyPressArrowDown(){var e;const t=this._getActionBricks(),n=Object(fe.b)((null===(e=l.g.toNullable(this._promptMenuContentContainer))||void 0===e?void 0:e.ownerDocument)||document);return Object(s.pipe)(l.g.fromNullable(t.findIndex(e=>e===n)),l.g.tap(e=>{var n;e+1>=t.length?this._focusPromptField():null===(n=t[e+1])||void 0===n||n.focus()}))}_onPromptMenuKeyPressArrowUp(){var e;const t=this._getActionBricks(),n=Object(fe.b)((null===(e=l.g.toNullable(this._promptMenuContentContainer))||void 0===e?void 0:e.ownerDocument)||document);return Object(s.pipe)(l.g.fromNullable(t.findIndex(e=>e===n)),l.g.tap(e=>{var n;e-1<0?this._focusPromptField():null===(n=t[e-1])||void 0===n||n.focus()}))}_focusFirstBrick(){var e;null===(e=this._getActionBricks()[0])||void 0===e||e.focus()}_focusLastBrick(){var e;const t=this._getActionBricks();null===(e=t[t.length-1])||void 0===e||e.focus()}}var ut=n("nD6t"),dt=n("ZZle");var pt=n("1MDf"),mt=n("K40b");const ft=()=>pt.d();function ht(e){return Object(s.pipe)(ft().unwrap(e),({items:e})=>e.size)}function gt(e){return Object(s.pipe)(ft().unwrap(e),({order:e})=>Et(e))}function bt(e){return Object(s.pipe)(ft().unwrap(e),({items:t})=>Object(s.pipe)(gt(e),q.ub(e=>I.fromNullable(t.get(e))),q.B))}function vt(e){return Object(s.pipe)(ft().unwrap(e),({items:e,order:t})=>Object(s.pipe)(t.focus,I.chain(t=>I.fromNullable(e.get(t)))))}function yt(e){return Object(s.pipe)(ft().unwrap(e),({order:e})=>Object(s.pipe)(e.focus,I.map(()=>e.lefts.length)))}function Ot(e){return Object(s.flow)(ft().unwrap,({items:t,order:n})=>({items:t,order:Object(s.pipe)(n.focus,I.fold(()=>St(n.lefts.concat(n.rights),I.some(e)),t=>function(e,t){const n=e(t.lefts.length);return St(Et(t),I.some(n))}(()=>e,kt(n.lefts,I.some(t),n.rights))),I.getOrElse(()=>n))}),ft().wrap)}function _t(e){return Object(s.pipe)(ft().unwrap(e).order.lefts.length,t=>Object(s.pipe)(e,Ot(t+1)))}function Ct(e){return Object(s.pipe)(ft().unwrap(e).order.lefts.length,t=>Object(s.pipe)(e,Ot(t-1)))}function wt(e,t){return le.fromCompare((n,r)=>{const i=e.get(n),a=e.get(r);return void 0!==i&&void 0!==a?t.compare(i,a):0})}function St(e,t){return q.nb(e)||Object(s.pipe)(t,I.exists(t=>q.pb(t,e)))?I.none:I.some(Object(s.pipe)(t,I.fold(()=>({lefts:e,focus:I.none,rights:[]}),t=>({lefts:Object(s.pipe)(e.slice(),q.Yb(t)),focus:I.fromNullable(e[t]),rights:Object(s.pipe)(e.slice(),q.G(t+1))}))))}function kt(e,t,n){return{lefts:e,focus:t,rights:n}}function Et(e){return e.lefts.concat(q.B([e.focus])).concat(e.rights)}function jt(e){const t=e.lefts.length,n=e.rights.length;return St(e.lefts.concat(e.rights),I.some(n>0?t:t-1))}const xt=l.c.getStructEq({visibleAlerts:dt.l(l.c.eqString),emphasizedAlerts:dt.l(l.c.eqString)});class At{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._feedMounted=f.a.create(!1),this._subs.add(Object(s.pipe)(function(e,t){const n=e.pipe(p.a.share()),r=n.pipe(p.a.map(Object(s.flow)(I.chain(e=>vt(e.collection)),I.map(({id:e})=>e))),p.a.skipBy(I.getEq(l.c.eqString))).pipe(p.a.switchMap(()=>t.pipe(p.a.startWith(null))));return p.a.combineLatestStatic([n,r]).pipe(p.a.map(([e,t])=>Object(s.pipe)(e,I.map(({collection:e})=>({visibleAlerts:new Set(Array.from(bt(e)).flatMap(e=>e.alertIds)),emphasizedAlerts:new Set(null!=t?t:Object(s.pipe)(vt(e),I.fold(()=>[],({alertIds:e})=>e)))})))),p.a.skipBy(I.getEq(xt)))}(p.a.combineLatestStatic([this._params.feedState,this._feedMounted]).pipe(p.a.map(([e,t])=>t?e:I.none)),this._params.resetEmphasizedAlerts),It,p.a.tap(e=>{var t;return null===(t=this._params.logger)||void 0===t?void 0:t.debug("AlertVisibilityChanges",e)}),p.a.mergeMap(({changes:e,isReset:t})=>t?p.a.from(this._params.alertService.setAlertsVisibility(e)).pipe(p.a.take(1),p.a.ignoreElements(),p.a.catchError(t=>p.a.of({kind:"error",source:"revision",name:"setAlertsVisibilityFailed",data:{alertsVisibilityInfo:e,rawError:Object(N.b)(t)}}))):p.a.from(this._params.alertService.updateAlertsVisibility(e)).pipe(p.a.take(1),p.a.ignoreElements(),p.a.catchError(t=>p.a.of({kind:"error",source:"revision",name:"updateAlertsVisibilityFailed",data:{alertsVisibilityInfo:e,rawError:Object(N.b)(t)}}))))).subscribe(e=>this._params.monitoringService.notify(Object(T.a)(e))))}notifyFeedMount(){this._feedMounted.set(!0)}notifyFeedUnmount(){this._feedMounted.set(!1)}dispose(){this._subs.unsubscribe()}}function It(e){return e.pipe(p.a.skipBy(I.getEq(xt)),p.a.share(),e=>{const t=e.pipe(p.a.filter(I.isNone),p.a.map(()=>({isReset:!0,changes:[]}))),n=e.pipe(p.a.startWith(I.none),p.a.pairwise(),p.a.filter(([e,t])=>I.isNone(e)&&I.isSome(t)),p.a.map(([e,t])=>t),p.b.compact,p.a.map(e=>({isReset:!0,changes:Object(s.pipe)(Array.from(e.visibleAlerts).filter(t=>!e.emphasizedAlerts.has(t)).map(e=>({alertId:e,visibility:"visible"})).concat(Array.from(e.emphasizedAlerts).map(e=>({alertId:e,visibility:"emphasized"}))))}))),r=e.pipe(p.a.startWith(I.none),p.a.pairwise(),p.a.filter(([e,t])=>I.isNone(e)&&I.isSome(t)),p.a.switchMap(([t,n])=>e.pipe(p.a.startWith(n),p.b.compact,p.a.pairwise(),p.a.map(([e,t])=>{const n=dt.c(l.c.eqString)(dt.o(l.c.eqString).concat(t.visibleAlerts,t.emphasizedAlerts))(dt.o(l.c.eqString).concat(e.visibleAlerts,e.emphasizedAlerts)),r=dt.c(l.c.eqString)(e.emphasizedAlerts)(t.emphasizedAlerts),i=dt.c(l.c.eqString)(t.emphasizedAlerts)(e.emphasizedAlerts),a=dt.o(l.c.eqString).concat(dt.c(l.c.eqString)(e.visibleAlerts)(t.visibleAlerts),Object(s.pipe)(i,dt.g(e=>t.visibleAlerts.has(e))));return{isReset:!1,changes:[...Array.from(n).map(e=>({alertId:e,visibility:"hidden"})),...Array.from(a).map(e=>({alertId:e,visibility:"visible"})),...Array.from(r).map(e=>({alertId:e,visibility:"emphasized"}))]}}))));return p.a.mergeStatic(t,n,r)})}var Tt,Mt,Pt=n("HBEw");class Nt{constructor(e){var t;this._params=e,this._subs=new p.a.Subscription,this._disposed=new p.a.Subject,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new o.a(Nt.name),this._sduiFeedManagerLifecycleOnFeedEmpty(),this._sduiFeedManagerLifecycleOnFeedRemoved(),this._sduiFeedManagerLifecycleOnAlertsRefEmpty()}_sduiFeedManagerLifecycleOnAlertsRefEmpty(){this._subs.add(this._params.sduiManagerProxy.onAlertsRefEmpty.subscribe(e=>Object(s.pipe)(this._params.feedManager.feed.get(),l.g.chain(e=>vt(e.collection)),l.g.filter(t=>t.id===e.sduiRootId),l.g.tap(()=>this._processActions(e.emptyStrongAlertRef.onEmpty,e.sduiId,e.emptyStrongAlertRef.alertIds,e.sduiId)))))}_sduiFeedManagerLifecycleOnFeedEmpty(){this._subs.add(this._params.feedManager.onFeedEmpty.subscribe(e=>{var t;"assistantFeed"===e.content.type?this._processActions(null!==(t=e.content.onEmpty)&&void 0!==t?t:[],e.id,[],e.id):this._params.monitoringService.notify(Object(T.a)({kind:"warn",source:"revision",name:"sduiFeedOnEmptyDSLActionsSkipped",data:null}))}))}_sduiFeedManagerLifecycleOnFeedRemoved(){this._subs.add(this._params.feedManager.onFeedRemove.subscribe(e=>{"assistantFeed"===e.content.type?this._processActions(e.content.onRemove,e.id,[],e.id):this._params.monitoringService.notify(Object(T.a)({kind:"warn",source:"revision",name:"sduiFeedOnRemoveDSLActionsSkipped",data:null}))}))}_switchViewWithinFocusedItem(e){Object(s.pipe)(this._params.feedManager.feed.get(),l.g.chain(e=>vt(e.collection)),l.g.filter(t=>e.sduiRootId!==t.id),l.g.tap(t=>this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({},e),{sduiRootId:t.id}))))}_switchViewWithinCurrentFeed(e){Object(s.pipe)(this._params.feedManager.feed.get(),l.g.filter(({id:t})=>e.sduiRootId!==t),l.g.tap(({id:t})=>this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({},e),{sduiRootId:t}))))}_processActions(e,t,n,r){this._logger.debug("_processActions()",{actions:e,itemId:t,alertIdsInScope:n,sourceId:r}),e.forEach(i=>{var a,o,s,l,u,d,m,f;switch(i.type){case"notify":{const e=null!==(a=i.sourceId)&&void 0!==a?a:r;this._subscribeToCommand(p.a.from(this._params.capiService.user_action({userAction:i.userAction,componentId:e})()),t=>({kind:"error",source:"revision",name:"sduiUserActionFailed",data:{componentId:e,userAction:i.userAction,rawError:Object(N.b)(t)}}));break}case"applyAlerts":{const e=n.map(e=>({alertId:e,alternativeIndex:i.alternativeIndex}));this._subscribeToCommand(p.a.from(this._params.alertService.applyAlerts(e)),t=>({kind:"error",source:"revision",name:"applyAlertsFailed",data:{applyAlertsInfo:e,rawError:Object(N.b)(t)}}));break}case"removeAlerts":{const t=e.some(e=>"applyAlerts"===e.type),r=n.map(e=>({alertId:e,removalReason:t?"alertApplied":"other"}));this._subscribeToCommand(p.a.from(this._params.alertService.removeAlerts(r)),e=>({kind:"error",source:"revision",name:"removeAlertsFailed",data:{removeAlertsInfo:r,rawError:Object(N.b)(e)}}),()=>this._params.sduiManagerProxy.pushRemovedAlerts([n.map(Pt.a.AlertId.from),"removeAlerts"]));break}case"removeRoot":this._params.sduiManagerProxy.pushRemovedRoot([t,"removeRoot"]);break;case"pushAssistantFeed":this._params.feedManager.pushFeed(i.feedId,i.cardId);break;case"popAssistantFeed":this._params.feedManager.popFeed(i.fallbackFeed);break;case"positionedClick":case"focusAssistantCard":this._params.feedManager.focusCard("focusAssistantCard"===i.type?Pt.a.Item.Id.from(i.cardId):t);break;case"prevCard":this._params.feedManager.focusPrev();break;case"nextCard":this._params.feedManager.focusNext();break;case"switchView":{const e={where:i.where,selected:i.selected,sduiRootId:t};this._params.sduiManagerProxy.pushSwitchView(e),this._switchViewWithinFocusedItem(e),this._switchViewWithinCurrentFeed(e);break}case"highlightAlert":return this._params.setEmphasizedAlerts([n[0]]);case"hoverStateChanged":return;case"hideHighlights":case"showHighlights":break;case"openLink":this._subscribeToCommand(p.a.from(null!==(l=null===(s=(o=this._params.lifecycleService).openUrl)||void 0===s?void 0:s.call(o,i.url))&&void 0!==l?l:p.a.EMPTY),e=>({kind:"error",source:"revision",name:"sduiCardOpenLinkFailed",data:{rawError:Object(N.b)(e)}}));break;case"upgradeToPremium":break;case"copyToClipboard":this._subscribeToCommand(p.a.from(null!==(f=null===(m=null===(d=(u=this._params.textEditorService).copyText)||void 0===d?void 0:d.call(u,i.text))||void 0===m?void 0:m())&&void 0!==f?f:p.a.EMPTY),e=>({kind:"error",source:"revision",name:"sduiCardCopyTextFailed",data:{rawError:Object(N.b)(e)}}));break;case"enablePlagiarismCheck":this._params.plagiarismService.enablePlagiarismChecks();break;case"disablePlagiarismCheck":this._params.plagiarismService.disablePlagiarismChecks();break;case"selectAlternative":case"transition":break;case"nativeOpenAssistant":case"openCreateSnippetModal":case"newRevision":case"interactPopover":case"closePopover":case"closeCard":case"openGrammarlyGo":case"openToneDetector":case"stopApplyingAlerts":case"openSettings":case"openFeedback":case"openPerformanceScore":case"nativeOpenUserSatisfactionFeedback":case"openLearnMore":this._logger.warn("Unsupported SDUI action",i);break;default:this._logger.warn("Unsupported SDUI action",i),Object(c.d)(i)}})}processActions(e,t,n,r){this._processActions(e,t,null!=n?n:[],null!=r?r:t)}dispose(){this._disposed.next(void 0),this._disposed.complete(),this._subs.unsubscribe()}_subscribeToCommand(e,t,n=s.constVoid){return e.pipe(p.a.take(1),p.a.takeUntil(this._disposed)).subscribe(n,e=>this._params.monitoringService.notify(Object(T.a)(t(e))))}}function Bt(e){return null!=e}!function(e){e.lensAllSuggestionFeedShortForm="lens-all-suggestions-feed-short-form",e.lensAllSuggestionFeed="lens-all-suggestions-feed",e.lensCorrectnessFeed="lens-correctness-feed",e.lensClarityFeed="lens-clarity-feed",e.lensDeliveryFeed="lens-delivery-feed",e.lensEngagementFeed="lens-engagement-feed",e.lensStyleGuideFeed="lens-style-guide-feed",e.plagiarismFeed="plagiarism-feed"}(Tt||(Tt={})),function(e){e.upgradeHookCardPrefix="upgrade_hook"}(Mt||(Mt={}));const Lt={[Tt.lensAllSuggestionFeed]:"All suggestions",[Tt.lensAllSuggestionFeedShortForm]:"All suggestions",[Tt.lensCorrectnessFeed]:"Correctness",[Tt.lensClarityFeed]:"Clarity",[Tt.lensDeliveryFeed]:"Delivery",[Tt.lensEngagementFeed]:"Engagement",[Tt.lensStyleGuideFeed]:"Style guide",[Tt.plagiarismFeed]:"Plagiarism"};const Ft={shortForm:Tt.lensAllSuggestionFeedShortForm,longForm:Tt.lensAllSuggestionFeed};var Rt=n("Yqho"),Dt=n("MHMU"),Ht=n("p60b"),Vt=n("ez9D"),Ut=n("l5lb"),Wt=n("ENBj");function zt(e){return t=>{const n=Gt(t.content);return!I.isNone(n)&&e.reduce((e,t)=>!1===e?e:Object(s.pipe)(n,I.chain(e=>I.fromNullable(e[t.property])),I.fold(()=>t.condition===Ut.a.ContentAssistantFeedFilteringCondition.NotEqualTo,e=>t.condition===Ut.a.ContentAssistantFeedFilteringCondition.EqualTo?e===t.value:e!==t.value)),!0)}}function Gt(e){for(const t of Wt.a.traverse(e)){if("longFormCard"===t.type)return I.some(t.feedProperties);if("assistantCard"===t.type&&t.properties)return I.some(t.properties)}return I.none}var qt=n("yQCL");const Kt={show:e=>`[${e.id} - ${ht(e.collection)} items - focus at ${I.getShow(Dt.e).show(Object(s.pipe)(vt(e.collection),I.map(e=>e.id)))}]`};function $t(e){return"assistantFeed"===e.content.type}function Zt(e){return Object(s.pipe)(e,q.jb,I.getOrElse(()=>[]))}const Yt=te.l({feedId:Pt.a.Item.Id.eq,itemIdToFocus:I.getEq(Pt.a.Item.Id.eq),filtering:q.eb(te.l({property:te.i,value:te.g,condition:te.i})),ordering:q.eb(te.l({orderBy:te.i,direction:te.i}))});class Xt extends class{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._focusCommand=new p.a.Subject,this._feedStack=new p.a.BehaviorSubject([]),this._feed=f.a.create(I.none),this._feeds=f.a.create(new Map),this._sduiItemsCollectionDiff=this._params.sduiItemsCollection.pipe(p.a.startWith(Vt.a.empty),p.a.pairwise(),p.a.map(([e,t])=>Vt.a.diff(e,t)),p.a.share()),this.onFeedRemove=new p.a.Subject,this.onFeedEmpty=new p.a.Subject,this.feed=this._feed.view(),this.feeds=this._feeds.view(),this._subs.add(this._getFeeds().subscribe(m.b.toAtom(this._feeds))),this._subs.add(this._getFeed().pipe(p.a.tap(e=>this._emitOnFeedEmptyIfNewFeedIsEmpty(e,this._feed.get()))).subscribe(m.b.toAtom(this._feed))),this._subs.add(this.feed.subscribe(e=>{var t;return null===(t=this._params.logger)||void 0===t?void 0:t.debug("feed state -",I.getShow(Kt).show(e))})),this._subs.add(this.feeds.subscribe(e=>{var t;return null===(t=this._params.logger)||void 0===t?void 0:t.debug("feeds - ",Array.from(e.keys()))}))}pushFeed(e,t){const n=this._feedStack.getValue(),r=Object(s.pipe)(this._feed.get(),I.chain(e=>vt(e.collection)),I.map(e=>e.id)),i=Object(s.pipe)(n,q.ib,I.map(({feedId:e})=>({feedId:e,itemIdToFocus:r})));this._feedStack.next(Zt(n).concat(q.B([i])).concat({feedId:Pt.a.Item.Id.from(e),itemIdToFocus:Object(s.pipe)(I.fromNullable(t),I.map(Pt.a.Item.Id.from))}))}replaceFeed(e,t){this._feedStack.next(q.Rb(Zt(this._feedStack.getValue()),{feedId:Pt.a.Item.Id.from(e),itemIdToFocus:Object(s.pipe)(I.fromNullable(t),I.map(Pt.a.Item.Id.from))}))}popFeed(e){const t=this._feedStack.getValue();t.length>1?this._feedStack.next(Zt(t)):Object(s.pipe)(I.fromNullable(e),I.fold(()=>{var e;return null===(e=this._params.logger)||void 0===e?void 0:e.warn("Invoked 'popFeed()' when there are less than 2 feeds in the feed stack, this is a no-op. No fallback feed provided.")},e=>{var t;this.pushFeed(Pt.a.Item.Id.from(e.feedId),e.cardId),null===(t=this._params.logger)||void 0===t||t.debug("Invoked 'popFeed()' when there are less than 2 feeds in the feed stack. Switching to the provided fallback feed. "+JSON.stringify(e))}))}isFeedEmpty(e){return this._params.sduiItemsCollection.view(Object(s.flow)(Vt.a.find(zt(e.content.filtering)),I.isNone))}focusCard(e){this._focusCommand.next({kind:"focusCard",cardId:e})}focusNext(){this._focusCommand.next({kind:"focusNext"})}focusPrev(){this._focusCommand.next({kind:"focusPrev"})}dispose(){this._subs.unsubscribe()}_getFeed(){return this._getActiveFeedMeta().pipe(p.a.switchMap(I.fold(()=>p.a.of(I.none),({ordering:e,filtering:t,feedId:n,itemIdToFocus:r})=>{const i=this._getFeedItemsAndChanges(zt(t)).pipe(p.a.map(e=>({kind:"sduiChange",diff:e}))),a=(c=e,o=Object(qt.fold)(le.getMonoid())(c.map(e=>Object(s.pipe)(le.ordNumber,le.contramap(Object(s.flow)(Gt,I.chain(t=>I.fromNullable(t[e.orderBy])),I.fold(()=>Number.MAX_VALUE,t=>e.direction===Ut.a.ContentAssistantFeedOrderingDirection.Asc?t:-1*t)))))),le.contramap(e=>e.content)(o));var o,c;return p.a.mergeStatic(i,this._focusCommand).pipe(p.a.scan((e,t)=>{return Object(s.pipe)(e,"sduiChange"===t.kind?function(e,t){return Object(s.flow)(ft().unwrap,n=>Object(s.pipe)(e,mt.a.reduce({items:new Map(n.items),added:new Set,removed:new Set},(e,t,n)=>(e.removed.add(n),e),(e,t,n,r)=>(e.items.set(r,n),e),(e,t,n)=>(e.items.set(n,t),e.added.add(n),e)),({items:e,added:r,removed:i})=>{const a=Object(s.pipe)(n.order.focus,I.exists(e=>i.has(e))),o=Object(s.pipe)(Et(n.order).concat(Array.from(r)),q.O(e=>!i.has(e)||Object(s.pipe)(n.order.focus,I.exists(t=>t===e))),q.Tb(wt(e,t))),c=Object(s.pipe)(n.order.focus,I.fold(()=>kt(Object(s.pipe)(o,q.O(e=>!i.has(e))),I.none,[]),e=>Object(s.pipe)(St(o,I.some(o.indexOf(e))),a?I.chain(jt):s.identity,I.getOrElse(()=>kt(Object(s.pipe)(o,q.O(e=>!i.has(e))),I.none,[])))));return i.forEach(t=>e.delete(t)),{items:e,order:c}}),ft().wrap)}(t.diff,a):s.identity,"focusNext"===t.kind?_t:s.identity,"focusPrev"===t.kind?Ct:s.identity,"focusCard"===t.kind?Ot(gt(e).findIndex(e=>e===t.cardId)):s.identity,(i=r,o=e=>!e.startsWith(Mt.upgradeHookCardPrefix),n=e=>Object(s.pipe)(i,I.fold(()=>{const t=gt(e).findIndex(o);return Object(s.pipe)(e,Ot(t>=0?t:0))},t=>{const n=gt(e).findIndex(e=>e===t);return Object(s.pipe)(e,Ot(n))})),e=>I.isNone(vt(e))?n(e):e));var n,i,o},ft().wrap({items:new Map,order:kt([],I.none,[])})),p.a.map(e=>I.some({id:n,collection:e})))})))}_getFeedItemsAndChanges(e){return p.a.concatStatic(p.a.of(this._params.sduiItemsCollection.view(t=>mt.a.fromMutation(n=>{Object(s.pipe)(t,Vt.a.reduce(n,(t,n)=>e(n)?t.set(n.id,Ht.C(n)):t))})).get()),this._sduiItemsCollectionDiff.pipe(p.a.map(mt.a.filter(t=>e(t),(t,n)=>e(n),t=>e(t)))))}_getActiveFeedMeta(){return this._feedStack.pipe(p.a.map(q.qb),p.a.switchMap(I.fold(()=>p.a.of(I.none),e=>this._feeds.pipe(p.a.map(Rt.s(Pt.a.Item.Id.eq)(e.feedId)),p.a.map(I.map(t=>({ordering:t.content.ordering,filtering:t.content.filtering,feedId:e.feedId,itemIdToFocus:e.itemIdToFocus}))),p.a.skipBy(I.getEq(Yt))))))}_getFeeds(){return this._sduiItemsCollectionDiff.pipe(p.a.map(e=>{const t=new Map(this._feeds.get());return Object(s.pipe)(e,mt.a.forEach(e=>{$t(e)&&(t.delete(e.id),Object(s.pipe)(this._feed.get(),I.map(e=>e.id),I.filter(t=>t===e.id),I.map(()=>this.onFeedRemove.next(e))))},(e,n)=>{$t(n)&&t.set(n.id,n)},e=>{$t(e)&&t.set(e.id,e)})),t}))}_emitOnFeedEmptyIfNewFeedIsEmpty(e,t){Object(s.pipe)(Q.a(I.option)({currentFeed:t,newFeed:e}),I.filter(({currentFeed:e,newFeed:t})=>e.id===t.id&&ht(e.collection)>0&&0===ht(t.collection)),I.chain(({currentFeed:e})=>I.fromNullable(this._feeds.get().get(e.id))),I.map(e=>this.onFeedEmpty.next(e)))}}{constructor(e){super(e),this._selectedAlertId=f.a.create(null),this._initialForm=null,this.allSuggestionsFeed=this.feeds.view(e=>Object(s.pipe)(l.g.fromNullable(e.get(Pt.a.Item.Id.from("longForm"===this._initialForm?Tt.lensAllSuggestionFeed:Tt.lensAllSuggestionFeedShortForm))))),this._initialForm=e.initialForm,this._subs.add(e.selectedAlertId.subscribe(m.b.toAtom(this._selectedAlertId))),this._subs.add(this._getCardToFocusOnActiveAlertChange().subscribe(e=>this.focusCard(e)))}pushFeed(e,t){super.pushFeed(Pt.a.Item.Id.from(e),null!=t?t:this._getCardIdForActiveAlert(e))}replaceFeed(e,t){super.replaceFeed(Pt.a.Item.Id.from(e),null!=t?t:this._getCardIdForActiveAlert(e))}popFeed(e){super.popFeed(null!=e?e:Object(s.pipe)(this.allSuggestionsFeed.get(),l.g.map(e=>({feedId:e.id})),l.g.toUndefined))}_getCardIdForActiveAlert(e){const t=this._selectedAlertId.get();return null!==t?l.g.toUndefined(function(e,t,n){const r=Object(s.pipe)(e,Vt.a.find(e=>e.id===t),I.map(e=>e.content),I.filter(e=>"assistantFeed"===e.type),I.map(e=>e.filtering),I.fold(()=>s.constFalse,zt));return Object(s.pipe)(e,Vt.a.find(e=>r(e)&&e.alertIds.includes(Pt.a.AlertId.from(n))),I.map(e=>e.id))}(this._params.sduiItemsCollection.get(),e,t)):void 0}_getCardToFocusOnActiveAlertChange(){return this._selectedAlertId.pipe(p.a.filter(Bt),p.a.map(e=>Object(s.pipe)(this.feed.get(),l.g.chain(t=>{var n;return l.g.fromNullable(null===(n=bt(t.collection).find(t=>t.alertIds.includes(Pt.a.AlertId.from(e))))||void 0===n?void 0:n.id)}))),p.b.compact)}}class Qt{constructor(e){this._params=e,this._disposed=new p.a.Subject}enablePlagiarismChecks(){p.a.from(this._params.capiService.toggle_checks({checks:{plagiarism:!0}})()).pipe(p.a.take(1),p.a.takeUntil(this._disposed)).subscribe(j.e,e=>({kind:"error",source:"revision",name:"enablePlagiarismCheckFailed",data:{rawError:Object(N.b)(e)}}))}disablePlagiarismChecks(){p.a.from(this._params.capiService.toggle_checks({checks:{plagiarism:!1}})()).pipe(p.a.take(1),p.a.takeUntil(this._disposed)).subscribe(j.e,e=>({kind:"error",source:"revision",name:"disablePlagiarismCheckFailed",data:{rawError:Object(N.b)(e)}}))}dispose(){this._disposed.next(void 0),this._disposed.complete()}}var Jt,en=n("K9f1"),tn=n("LPyu"),nn=n("t/lG"),rn=n("EHAR");class an{constructor(e=new o.a(an.name)){this._logger=e,this._alertIds=new Set}hasAlert(e){return this._alertIds.has(e)}processChanges(e){for(const t of e)Object(nn.c)(t)?this._alertIds.add(t.alertId):Object(nn.e)(t)?this._alertIds.delete(t.alertId):Object(nn.d)(t)&&this._alertIds.clear();e.length>0&&this._logger.debug("Alert collection change",new Set(this._alertIds))}}class on{constructor(e){var t;this._params=e,this._subs=new W.a,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new o.a(on.name),this._sduiEvents=new H.a,this._alertCollection=new an(this._params.logger),this._sduiManager=new en.b(this._sduiEvents.asObservable(),I.fromPredicate(e=>this._alertCollection.hasAlert(e))),this.state=this._sduiManager.state,this.onAlertsRefEmpty=this._sduiManager.onAlertsRefEmpty,this._subs.add(this._processAlertChanges()),this._subs.add(this._processInboundSDUIMessages()),this._subs.add(this._sduiEvents.pipe(p.a.buffer(this._sduiEvents.pipe(p.a.debounceTime(0)))).subscribe(e=>{const t=e.filter(e=>e.kind===tn.a.SduiEventKind.Add),n=e.filter(e=>e.kind===tn.a.SduiEventKind.Update),r=e.filter(e=>e.kind===tn.a.SduiEventKind.Remove);(t.length>0||n.length>0||r.length>0)&&this._logger.debug(`sdui events - insertions: [${t.map(e=>e.sduiRootId).join(",")}] - updates: [${n.map(e=>e.sduiRootId).join(",")}] - removals: [${r.map(e=>e.sduiRootId).join(",")}]`)}))}pushRemovedRoot(e){this._sduiManager.pushRemovedRoot(e),this._sduiManager.flush()}pushRemovedAlerts([e,t]){this._sduiManager.pushRemovedAlerts([e,t])}pushSwitchView(e){this._sduiManager.pushSwitchView(e)}dispose(){this._subs.unsubscribe(),this._sduiManager.dispose()}_processInboundSDUIMessages(){var e;const t=e=>Object(s.pipe)(e.sdui,e=>I.some(e));return p.a.from(this._params.sduiService.sduiItemCollectionChanges).pipe(p.a.concatAll(),p.a.map(e=>Object(rn.e)(e)?Object(s.pipe)(e,t,I.map(t=>({kind:tn.a.SduiEventKind.Add,sdui:t,sduiRootId:tn.a.RawSduiItem.Id.create(e.sduiRootId),rev:0}))):Object(rn.h)(e)?Object(s.pipe)(e,t,I.map(t=>({kind:tn.a.SduiEventKind.Update,sdui:t,sduiRootId:tn.a.RawSduiItem.Id.create(e.sduiRootId),rev:0}))):Object(rn.g)(e)?I.some({kind:tn.a.SduiEventKind.Remove,sduiRootId:tn.a.RawSduiItem.Id.create(e.sduiRootId),rev:0}):Object(rn.f)(e)?I.none:Object(s.absurd)(e)),p.b.compact,p.a.concatMap(null!==(e=this._params.sduiEventTransformer)&&void 0!==e?e:q.xb)).subscribe(this._sduiEvents)}_processAlertChanges(){return p.a.from(this._params.alertService.alertCollectionChanges).pipe(p.a.bufferTime(0),p.a.concatAll()).subscribe(e=>{this._alertCollection.processChanges(e);const t=e.reduce((e,t)=>{var n;return Object(nn.e)(t)&&"textChange"===t.reason&&e.set("textChange",(null!==(n=e.get("textChange"))&&void 0!==n?n:[]).concat(Pt.a.AlertId.from(t.alertId))),e},new Map);e.length>0&&(this._sduiManager.notifyAlertsChanged(),t.size>0&&this._logger.debug("optimistically removing alerts",t),t.forEach((e,t)=>this.pushRemovedAlerts([e,t])))})}}function sn(e){const t=[];if(e.kind===tn.a.SduiEventKind.Add||e.kind===tn.a.SduiEventKind.Update){if("longFormCard"===e.sdui.type&&e.sdui.id.startsWith(Mt.upgradeHookCardPrefix))t.push(Object.assign(Object.assign({},e),{sdui:Object.assign(Object.assign({},e.sdui),{feedProperties:Object.assign(Object.assign({},e.sdui.feedProperties),{"long-form-suggestion-card":1,"feed-order":Number.MIN_SAFE_INTEGER,"short-form-feed-order":Number.MAX_SAFE_INTEGER})})}));else if("longFormCard"===e.sdui.type)t.push(Object.assign(Object.assign({},e),{sdui:Object.assign(Object.assign({},e.sdui),{feedProperties:Object.assign(Object.assign({},e.sdui.feedProperties),{"short-form-feed-order":e.sdui.feedProperties["feed-order"]})})}));else if("assistantFeed"===e.sdui.type&&e.sdui.id===String(Tt.lensAllSuggestionFeed)){const n=tn.a.RawSduiItem.Id.create(Tt.lensAllSuggestionFeedShortForm);t.push(e,Object.assign(Object.assign({},e),{sduiRootId:n,sdui:Object.assign(Object.assign({},e.sdui),{id:n,ordering:[{orderBy:"short-form-feed-order",direction:Ut.a.ContentAssistantFeedOrderingDirection.Asc},...e.sdui.ordering.filter(e=>"feed-order"!==e.orderBy)]})}))}}else e.sduiRootId===String(Tt.lensAllSuggestionFeed)&&t.push(e,Object.assign(Object.assign({},e),{sduiRootId:tn.a.RawSduiItem.Id.create(Tt.lensAllSuggestionFeedShortForm)}));return t.length>0?t:[e]}class cn{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._firstCheckingFinished=f.a.create(!1),this.firstCheckingFinished=this._firstCheckingFinished.view(),this._subs.add(this._params.lastFinishedMessage.pipe(p.a.debounceTime(100)).subscribe(()=>this._firstCheckingFinished.set(!0)))}dispose(){this._subs.unsubscribe()}}class ln{constructor(e){this._params=e,this._feedForm=f.a.create(this._params.sduiService.supportedForms[0]),this.state=f.a.combine(this._feedForm,this._params.feedManager.feeds,(e,t)=>({feedForm:e,supportedForms:Object(s.pipe)(new Set(this._params.sduiService.supportedForms),dt.g(e=>t.has(Pt.a.Item.Id.from(Ft[e]))))}))}onToggleFeedForm(e){this._feedForm.set(e),this._params.feedManager.replaceFeed("longForm"===e?Tt.lensAllSuggestionFeed:Tt.lensAllSuggestionFeedShortForm,Object(s.pipe)(this._params.feedManager.feed.get(),I.chain(e=>vt(e.collection)),I.map(e=>e.id),I.toUndefined))}}class un{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._outcomeScores=f.a.create(I.none),this.lenses=f.a.combine(this._outcomeScores,this._params.feedManager.feeds,(e,t)=>{const n=Object(s.pipe)(t,Rt.u(e=>e.id));return Object(s.pipe)([Tt.lensAllSuggestionFeed,Tt.lensCorrectnessFeed,Tt.lensClarityFeed,Tt.lensEngagementFeed,Tt.lensDeliveryFeed,Tt.lensStyleGuideFeed],q.O(e=>n.has(Pt.a.Item.Id.from(e))),q.ub(t=>({lensId:t,label:Lt[t],percent:Object(s.pipe)(e,I.fold(()=>0,e=>e[t]))})),e=>new Map(e.map(e=>[e.lensId,e])))}),this._subs.add(this._params.lastFinishedMessage.subscribe(({outcomeScores:e})=>this._outcomeScores.modify(t=>{var n,r,i,a,o,c,l,u,d,p,m,f;const h=Object(s.pipe)(t,I.getOrElse(()=>({})));return I.some({[Tt.lensAllSuggestionFeed]:null!==(r=null!==(n=null==e?void 0:e.GeneralScore)&&void 0!==n?n:h[Tt.lensAllSuggestionFeed])&&void 0!==r?r:0,[Tt.lensClarityFeed]:null!==(a=null!==(i=null==e?void 0:e.Clarity)&&void 0!==i?i:h[Tt.lensClarityFeed])&&void 0!==a?a:0,[Tt.lensCorrectnessFeed]:null!==(c=null!==(o=null==e?void 0:e.Correctness)&&void 0!==o?o:h[Tt.lensCorrectnessFeed])&&void 0!==c?c:0,[Tt.lensEngagementFeed]:null!==(u=null!==(l=null==e?void 0:e.Engagement)&&void 0!==l?l:h[Tt.lensEngagementFeed])&&void 0!==u?u:0,[Tt.lensDeliveryFeed]:null!==(p=null!==(d=null==e?void 0:e.Tone)&&void 0!==d?d:h[Tt.lensDeliveryFeed])&&void 0!==p?p:0,[Tt.lensStyleGuideFeed]:null!==(f=null!==(m=null==e?void 0:e["Style guide"])&&void 0!==m?m:h[Tt.lensStyleGuideFeed])&&void 0!==f?f:0})})))}onToggleLens(e){Object(s.pipe)(this._params.feedManager.feed.get(),I.map(e=>e.id),I.exists(t=>t===e))?this._params.feedManager.replaceFeed(Tt.lensAllSuggestionFeed):this._params.feedManager.replaceFeed(e)}dispose(){this._subs.unsubscribe()}}!function(e){const t=[];e.notifyFeedUnmount=function(){t.forEach(e=>e())},e.registerFeedUnmountHandler=function(e){return t.push(e),e},e.unregisterFeedUnmountHandler=function(e){const n=t.findIndex(t=>t===e);n>=0&&t.splice(n,1)}}(Jt||(Jt={}));class dn{constructor(e){this._params=e,this.feed=this._params.feedManager.feed.view()}processActions(e,t,n,r){this._params.feedActionService.processActions(e,t.id,n.alertRefs,r)}onFocusedItemMount(e){Object(s.pipe)(function(e){if("assistantCard"===e.content.type)return l.g.some(e.content);if("strongAlertRef"===e.content.type&&"assistantCard"===e.content.child.type)return l.g.some(e.content.child);if("longFormCard"===e.content.type&&"assistantCard"===e.content.fullContent.type)return l.g.some(e.content.fullContent);return l.g.none}(e),l.g.map(e=>e.onFocus),l.g.tap(t=>this._params.feedActionService.processActions(t,e.id)))}onFeedMount(){const e=Jt.registerFeedUnmountHandler(()=>{Jt.unregisterFeedUnmountHandler(e),this._params.alertVisibilityManager.notifyFeedUnmount()});this._params.alertVisibilityManager.notifyFeedMount()}}class pn{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._sourceCount=f.a.create(I.none),this._state=f.a.create(I.none),this._citationDropdown=f.a.create(I.none),this.plagiarismAction=this._params.feedManager.feeds.view(e=>e.has(Pt.a.Item.Id.from(Tt.plagiarismFeed))?I.some(ee.a.createPlagiarismAction()):I.none),this.state=f.a.combine(this._state,this._sourceCount,this._citationDropdown,(e,t,n)=>Object(s.pipe)(e,I.map(e=>Object.assign(Object.assign({},e),{sourceCount:t,citationDropdown:n})))),this._subs.add(this._params.assistantUIActions.pipe(p.a.filter(z.a.is(z.a.Kind.actionBrickClick)),p.a.filter(e=>"regularAction"===e.action.kind&&ee.a.isPlagiarismAction(e.action.action))).subscribe(()=>{this._params.feedManager.pushFeed(Tt.plagiarismFeed),this._params.routingViewModel.push({kind:"plagiarism"})})),this._subs.add(this._params.routingViewModel.has({kind:"plagiarism"}).pipe(p.a.pairwise(),p.a.filter(([e,t])=>e&&!t)).subscribe(()=>this._params.feedManager.popFeed())),this._subs.add(this._params.feedManager.feed.pipe(p.a.map(I.fold(s.constNull,e=>e.id)),p.a.distinctUntilChanged(),p.a.startWith(null),p.a.pairwise()).subscribe(([e,t])=>{e!==Tt.plagiarismFeed&&t===Tt.plagiarismFeed?this._params.plagiarismService.enablePlagiarismChecks():e===Tt.plagiarismFeed&&t!==Tt.plagiarismFeed&&this._params.plagiarismService.disablePlagiarismChecks()})),this._subs.add(this._params.lastAsyncCheckFinishedMessage.pipe(p.a.filter(e=>"plagiarism"===e.check)).subscribe(e=>this._state.set(I.some({originality:e.outcomeScores.Originality,checking:!1})))),this._subs.add(this._params.textUpdated.subscribe(()=>this._state.modify(I.map(e=>Object.assign(Object.assign({},e),{checking:!0})))));const t=this._params.feedManager.feeds.view(e=>I.fromNullable(e.get(Pt.a.Item.Id.from(Tt.plagiarismFeed))));this._subs.add(t.view(I.chain(e=>{var t,n;for(const r of Wt.a.traverse(e.content))if("tooltip"===r.type){const e=null===(n=null===(t=/from (?<sources>\d+) sources on the web/.exec(r.text))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.sources;if(void 0!==e)return Object(s.pipe)(I.fromNullable(Number.parseInt(e,10)),I.filter(e=>Number.isSafeInteger(e)))}return I.none})).subscribe(e=>this._sourceCount.set(e))),this._subs.add(t.view(I.chain(e=>{var t;for(const n of Wt.a.traverse(e.content))if("selectableDropDownMenu"===n.type&&"citation-style"===(null===(t=n.name)||void 0===t?void 0:t.value))return I.some(n);return I.none})).subscribe(e=>this._citationDropdown.set(e)))}seeAllSuggestions(){this._params.routingViewModel.popUntil(e=>"home"===e.kind)}onCitationDropdownSelect(e){this._params.feedActionService.processActions(e,Pt.a.Item.Id.from(Tt.plagiarismFeed),[])}dispose(){this._subs.unsubscribe()}}class mn{constructor(e){this._params=e,this._subs=new p.a.Subscription,this._allSuggestionsCount=f.a.create(0),this._allSuggestionsEmpty=f.a.create(!0),this._someSuggestionsAddressed=f.a.create(!1),this.activeFeedSuggestionCount=this._params.feedManager.feed.view(I.fold(()=>0,e=>ht(e.collection))),this.allSuggestionCount=this._allSuggestionsCount.view(),this.allSuggestionsEmpty=this._allSuggestionsEmpty.view(),this.someSuggestionsAddressed=this._someSuggestionsAddressed.view(),this._subs.add(this._params.feedManager.allSuggestionsFeed.pipe(p.a.switchMap(I.fold(()=>p.a.of(0),e=>{const t=zt(e.content.filtering);return this._params.sduiItemsCollection.pipe(p.a.map(Vt.a.reduce(0,(e,n)=>t(n)?e+1:e)))}))).subscribe(m.b.toAtom(this._allSuggestionsCount))),this._subs.add(this._params.feedManager.allSuggestionsFeed.pipe(p.a.switchMap(I.fold(()=>p.a.of(!0),e=>this._params.feedManager.isFeedEmpty(e)))).subscribe(e=>{this._allSuggestionsEmpty.set(e),e||this._someSuggestionsAddressed.set(!1)}))}onSuggestionAddressed(){this._someSuggestionsAddressed.set(!0)}dispose(){this._subs.unsubscribe()}}var fn=n("ftPv");class hn{constructor(e){this._params=e,this._subs=new W.a,this._subs.add(this._params.assistantUIActions.subscribe(e=>{switch(e.kind){case z.a.Kind.settingsButtonClick:return"withView"===this._params.options.kind?this._params.routingViewModel.push({kind:"settings"}):this._params.options.onClick(e.buttonRect);default:return}}))}getView(){return"withView"===this._params.options.kind?I.some(this._params.options.getView()):I.none}dispose(){this._subs.unsubscribe()}}var gn=n("5FCM"),bn=n("N0Y4");class vn{constructor(e,t,n,r){this._assistantUIActions=e,this._router=t,this._monitoringService=n,this._skillService=r,this._subs=new W.a,this._state=f.a.create(l.g.none),this.state=this._state.view(),this._skillService&&this._subs.add(this._skillService.skillRequests.subscribe(e=>{e.close?(this._onSkillClosed(),this._state.set(l.g.none)):e.size&&this._state.modify(l.g.map(t=>Object.assign(Object.assign({},t),{size:e.size})))})),this._subs.add(this._assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case z.a.Kind.actionBrickClick:if("regularAction"===e.action.kind&&ee.a.isSkillAction(e.action.action)){const t=e.action.action.skill;this._onSkillOpened(),this._state.set(l.g.some({skill:t,status:"loading",size:{width:416,height:245}}))}break;case z.a.Kind.mount:e.name===Z.a.skill&&Object(u.b)("initSkill",Object(s.pipe)(Object(s.pipe)(this._state.get(),gn.L(()=>new Error("Cannot init Skill. No Skill state available."))),gn.u(t=>this._skillService?Object(s.pipe)(this._skillService.initSkill(t.skill,e.element),gn.ab(e=>Object.assign(Object.assign({},t),{size:e}))):gn.X(new Error("Cannot init Skill. No `SkillService` available.")))),void 0,e=>this._state.set(l.g.some(Object.assign(Object.assign({},e),{status:"ready"}))),e=>{this._state.modify(l.g.map(e=>Object.assign(Object.assign({},e),{status:"error"}))),this._monitoringService.notify(Object(T.a)(Object(bn.b)({skillId:Object(s.pipe)(this._state.get(),l.g.map(e=>e.skill.id),l.g.toNullable),rawError:Object(N.b)(e)})))});break;case z.a.Kind.unmount:e.name!==Z.a.skill||this._router.has({kind:"skill"}).get()||Object(u.b)("terminateSkill",Object(s.pipe)(Object(s.pipe)(this._state.get(),gn.L(()=>new Error("Cannot terminate Skill. No Skill state available."))),gn.u(e=>this._skillService?Object(s.pipe)(this._skillService.terminateSkill(e.skill),gn.ab(()=>e)):gn.X(new Error("Cannot terminate Skill. No `SkillService` available.")))),void 0,()=>this._state.set(l.g.none),e=>{this._state.set(l.g.none),this._monitoringService.notify(Object(T.a)(Object(bn.c)({skillId:Object(s.pipe)(this._state.get(),l.g.map(e=>e.skill.id),l.g.toNullable),rawError:Object(N.b)(e)})))})}}_onSkillOpened(){this._router.push({kind:"skill"})}_onSkillClosed(){"skill"===this._router.activeView.get().kind&&this._router.pop()}}var yn,On=n("KJnl");(yn||(yn={})).empty={activeSurvey:I.none,stage:On.a.Stage.Type.Rating,transitionStage:On.a.Stage.Type.Rating,rating:I.none,errors:I.none,openAnswer:I.none};class _n{constructor(e){this._params=e,this._state=f.a.create(yn.empty),this._subs=new W.a,this._stageTimeoutClear=void 0,this.state=this._state.view(),this._updateStageAfterTransition(),this._subscribeToActiveSurvey(),this._subs.add(this._params.assistantUIActions.subscribe(e=>{Object(j.p)(z.a.isSurveyAction,z.a.isSurveyImplicitDismissAction)(e)&&this._handleUIAction(e)}))}get _activeSurvey(){return this.state.get().activeSurvey}_subscribeToActiveSurvey(){this._subs.add(this._params.userSurveyService.activeSurvey.subscribe(e=>{Object(s.pipe)(e,I.map(e=>{Object(s.pipe)(this._activeSurvey,I.fold(()=>this._updateActiveSurvey(e),t=>{t.detailedPlacement!==e.detailedPlacement&&this._updateActiveSurvey(e)}))}))}))}_updateActiveSurvey(e){this._state.set(Object.assign(Object.assign({},yn.empty),{activeSurvey:I.some(e)}))}_handleUIAction(e){switch(e.kind){case z.a.Kind.surveySubmitButtonClick:case z.a.Kind.surveyKeyPressShiftEnter:this._onSurveyCompleted();break;case z.a.Kind.surveyCancelButtonClick:case z.a.Kind.surveyCloseButtonClick:this._onDismissExplicitly();break;case z.a.Kind.surveyOpenAnswerChange:this._onOpenAnswerChange(e.openAnswer);break;case z.a.Kind.surveyRatingSelectionChange:this._onRatingSelectionChange(e.rating);break;case z.a.Kind.promptSubmitButtonClick:case z.a.Kind.actionBrickClick:case z.a.Kind.resultCardInsertButtonClick:case z.a.Kind.resultCardRephraseButtonClick:case z.a.Kind.resultCardHeaderClick:case z.a.Kind.resultCardDismissButtonClick:this._onDismissImplicitly();break;default:Object(c.d)(e)}}_onRatingSelectionChange(e){Object(s.pipe)(this._activeSurvey,I.map(e=>e.skipOpenAnswerFrom),I.map(t=>{e<t?this._state.modify(t=>Object.assign(Object.assign({},t),{rating:I.some(e),transitionStage:On.a.Stage.Type.Feedback})):this._state.modify(t=>Object.assign(Object.assign({},t),{rating:I.some(e),transitionStage:On.a.Stage.Type.Completed})),this._reportCompleting()}))}_onOpenAnswerChange(e){Object(s.pipe)(this._activeSurvey,I.chain(({openAnswer:e})=>e),I.map(({maxLen:t})=>{e.length<=t&&this._state.modify(t=>Object.assign(Object.assign({},t),{openAnswer:I.some(e),errors:I.none}))}))}_onSurveyCompleted(){Object(s.pipe)(this._activeSurvey,I.chain(({openAnswer:e})=>e),I.chain(({minLen:e})=>e),I.fold(()=>this._complete(),e=>{Object(s.pipe)(this._state.get().openAnswer,I.fold(()=>this._setOpenAnswerError("This field is required."),t=>{t.length<e?this._setOpenAnswerError(e>0?`Please enter at least ${e} characters.`:"This field is required."):this._complete()}))}))}_complete(){this._reportCompleting(),this._state.lens("transitionStage").set(On.a.Stage.Type.Completed)}_reportCompleting(){Object(s.pipe)(this._activeSurvey,I.chain(e=>Object(s.pipe)(this._state.get().rating,I.map(t=>({survey:e,rating:t})))),I.map(({survey:e,rating:t})=>this._params.userSurveyService.submitSurveyResult({rating:t,openAnswer:this._state.get().openAnswer,placement:e.placement,detailedPlacement:e.detailedPlacement,stage:this.state.get().stage,type:e.type})))}_setOpenAnswerError(e){this._state.lens("errors").set(I.some({openAnswerError:I.some(e)}))}_onDismissExplicitly(){Object(s.pipe)(this._activeSurvey,I.map(e=>{const t=this.state.get().stage;t===On.a.Stage.Type.Rating&&this._params.userSurveyService.dismissSurvey({placement:e.placement,detailedPlacement:e.detailedPlacement,type:e.type,stage:t})})),this._state.lens("transitionStage").set(On.a.Stage.Type.Closed)}_onDismissImplicitly(){this._state.lens("transitionStage").set(On.a.Stage.Type.Closed)}_updateStageAfterTransition(){this._subs.add(this._state.subscribe(e=>{this._clearStageTimeout(),this._stageTimeoutClear=setTimeout(()=>{this._state.lens("stage").set(e.transitionStage)},Cn[e.transitionStage])}))}_clearStageTimeout(){void 0!==this._stageTimeoutClear&&(clearTimeout(this._stageTimeoutClear),this._stageTimeoutClear=void 0)}dispose(){this._subs.unsubscribe(),this._clearStageTimeout()}}const Cn={[On.a.Stage.Type.Rating]:0,[On.a.Stage.Type.Feedback]:300,[On.a.Stage.Type.Completed]:0,[On.a.Stage.Type.Closed]:0};var wn;!function(e){e.set=function(e,t){return n=>Object.assign(Object.assign({},n),{[e]:t})}}(wn||(wn={}));var Sn=n("yKm6");class kn{constructor(e){this._params=e,this._subs=new W.a,this._state=f.a.create({stagingNewVoiceProfile:l.g.none,stagingVoiceProfile:l.g.none}),this.state=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case z.a.Kind.headerGoBackButtonClick:return this._handleGoBack(e.goBackFrom);case z.a.Kind.headerVoiceButtonClick:return this._openVoiceProfile("toolbar");case z.a.Kind.setVoiceButtonClick:return this._openVoiceProfile("banner");case z.a.Kind.voiceProfileCloseButtonClick:return this._closeVoiceProfile();case z.a.Kind.voiceProfileUseVoiceButtonClick:return this._applyVoiceProfile();case z.a.Kind.toneToggleClick:return this._toggleTone(e.id,e.selected);case z.a.Kind.styleToggleClick:return this._selectStyle(e.id);case z.a.Kind.roleTypeaheadSelectionChange:return this._selectRole(Object(s.pipe)(e.role,l.g.map(e=>e.id)));case z.a.Kind.dialectDropdownSelectionChange:return this._selectDialect(e.dialect.id);case z.a.Kind.voiceProfileTabChange:return this._switchNewVoiceProfileTab(e.profileName);case z.a.Kind.voiceTagPopoverRemoveButtonClick:return this._removeVoiceTag(e);case z.a.Kind.voiceTagPopoverClose:return this._closeVoiceTagPopover();case z.a.Kind.voiceTagPopoverKeepButtonClick:return this._keepVoiceTagPopover();case z.a.Kind.voiceTagClick:return this._toggleVoiceTag(e);case z.a.Kind.voiceDialectDropdownSelectionChange:return this._selectNewVoiceDialect(e.dialect.id);case z.a.Kind.voiceRoleDropdownSelectionChange:return this._selectNewVoiceRole(e.role.id);case z.a.Kind.voiceSelectionsSaveButtonClick:return this._saveNewVoiceSelections();case z.a.Kind.voiceSelectionsCancelButtonClick:return this._cancelNewVoiceSelectionChanges();case z.a.Kind.voiceSelectionsEditButtonClick:return this._editNewVoiceSelections();case z.a.Kind.promptFieldKeyPressEscape:case z.a.Kind.headerCloseButtonClick:return this._trySaveNewProfileIfChanged();default:return}}_handleGoBack(e){"voiceProfile"!==e.kind&&"legacyVoiceProfile"!==e.kind||Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.tap(e=>{"newVoiceProfile"===e.voiceProfile.kind?(this._trySaveNewProfileIfChanged(),this._state.lens("stagingNewVoiceProfile").set(l.g.none)):"legacyVoiceProfile"===e.voiceProfile.kind&&this._state.lens("stagingVoiceProfile").set(l.g.none)}))}_createVoiceProfile(e){var t;return"newVoiceProfile"===e.kind?wn.set("stagingNewVoiceProfile",l.g.some({selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles,activeTagId:l.g.none,activeProfileName:l.g.fromNullable(null===(t=e.profiles.find(e=>e.selected))||void 0===t?void 0:t.name),stagingSelections:l.g.none})):wn.set("stagingVoiceProfile",l.g.some({selectedStyle:e.selectedStyle,selectedTonesPerStyle:e.selectedTonesPerStyle,selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,needsSetup:e.needsSetup}))}_openVoiceProfile(e){Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.tap(t=>{this._params.trackingService.trackVoiceProfileOpen(e),this._params.routingViewModel.push({kind:"newVoiceProfile"===t.voiceProfile.kind?"voiceProfile":"legacyVoiceProfile"}),this._state.modify(this._createVoiceProfile(t.voiceProfile))}))}_closeVoiceProfile(){this._params.trackingService.trackVoiceProfileSkip(),this._params.routingViewModel.pop(),this._state.lens("stagingVoiceProfile").set(l.g.none)}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._params.routingViewModel.pop(),this._state.lens("stagingVoiceProfile").set(l.g.none),Object(s.pipe)(e,l.g.tap(e=>{Object(u.b)("setVoiceProfile",this._params.sessionService.setVoiceProfile(e),this._params.logger)}))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(l.g.map(n=>{return Object.assign(Object.assign({},n),{selectedTonesPerStyle:Object(s.pipe)(n.selectedTonesPerStyle,t?(r=Sn.a.Style.Id.eq,(e,t)=>n=>Object(s.pipe)(n,Rt.x(r)(e,Object(s.flow)(I.some,t)),I.getOrElse(()=>Object(s.pipe)(n,Rt.o(r)(e,t(I.none))))))(n.selectedStyle,l.g.fold(()=>new Set([e]),dt.p(Sn.a.Tone.Id.eq)(e))):Object(s.flow)(Rt.x(Sn.a.Style.Id.eq)(n.selectedStyle,dt.w(Sn.a.Tone.Id.eq)(e)),l.g.getOrElse(()=>n.selectedTonesPerStyle)))});var r}))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(l.g.map(t=>Object.assign(Object.assign({},t),{selectedStyle:e})))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(l.g.map(t=>Object.assign(Object.assign({},t),{selectedRole:e})))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(l.g.map(t=>Object.assign(Object.assign({},t),{selectedDialect:e})))}_editNewVoiceSelections(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{stagingSelections:l.g.some({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole})}))}_cancelNewVoiceSelectionChanges(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{stagingSelections:l.g.none}))}_saveNewVoiceSelections(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{selectedDialect:Object(s.pipe)(e.stagingSelections,l.g.fold(()=>e.selectedDialect,e=>e.selectedDialect)),selectedRole:Object(s.pipe)(e.stagingSelections,l.g.fold(()=>e.selectedRole,e=>e.selectedRole)),stagingSelections:l.g.none}))}_selectNewVoiceRole(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{stagingSelections:Object(s.pipe)(t.stagingSelections,l.g.map(t=>Object.assign(Object.assign({},t),{selectedRole:l.g.some(e)})))}))}_selectNewVoiceDialect(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{stagingSelections:Object(s.pipe)(t.stagingSelections,l.g.map(t=>Object.assign(Object.assign({},t),{selectedDialect:e})))}))}_updateNewProfileStateIfAny(e){this._state.lens("stagingNewVoiceProfile").modify(l.g.map(e))}_keepVoiceTagPopover(){this._params.trackingService.trackVoiceProfileKeepTag(),this._closeVoiceTagPopover()}_closeVoiceTagPopover(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{activeTagId:l.g.none}))}_toggleVoiceTag({tagName:e,sectionName:t,profileName:n}){this._updateNewProfileStateIfAny(r=>Object.assign(Object.assign({},r),{activeTagId:l.g.toNullable(r.activeTagId)===Sn.b.createId({tagName:e,sectionName:t,profileName:n})?l.g.none:l.g.some(Sn.b.createId({tagName:e,sectionName:t,profileName:n}))}))}_removeVoiceTag({tagName:e,profileName:t,sectionName:n}){this._params.trackingService.trackVoiceProfileRemoveTag(),this._updateNewProfileStateIfAny(r=>Object.assign(Object.assign({},r),{profiles:Object(s.pipe)(r.profiles,q.ub(r=>r.name===t?Object.assign(Object.assign({},r),{sections:r.sections.map(t=>t.name===n?Object.assign(Object.assign({},t),{tags:t.tags.filter(t=>t.name!==e)}):t)}):r))}))}_switchNewVoiceProfileTab(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{activeProfileName:l.g.some(e)}))}_trySaveNewProfileIfChanged(){Object(s.pipe)(Q.a(l.g.option)({editedVoiceProfile:this._state.view("stagingNewVoiceProfile").get(),sessionVoiceProfile:Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.map(e=>e.voiceProfile),l.g.chain(Sn.a.toNewVoiceProfile))}),l.g.filter(({editedVoiceProfile:e,sessionVoiceProfile:t})=>!Sn.a.NewSelections.eqByRoleDialectProfileAndIsEnabledByDefault.equals(e,t)),l.g.tap(({editedVoiceProfile:e})=>{Object(u.b)("setNewVoiceProfile",this._params.sessionService.setNewVoiceProfile({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles}),this._params.logger)}))}}var En,jn,xn=n("SD/g"),An=n("OX5W");function In(e,t){return Object(s.pipe)(E.a.toStarted(e),l.g.filter(e=>Object(s.pipe)(t?e.activeBoundaryContext.specialView:e.activeContext.specialView,l.g.forAll(({kind:e})=>"aiUsageAlert"!==e))),l.g.map(e=>t?e.activeBoundaryContext.availableActions:e.activeContext.availableActions),l.g.chain(J.F))}function Tn(e,t){return Object(s.pipe)(E.a.toStarted(e),l.g.chain(e=>Object(s.pipe)(function(e){return Object(s.pipe)(e.split(/\s/).filter(e=>e.length>3&&e.includes(".")),J.E)}(t),l.g.map(q.P(t=>{var n;return null!==(n=e.detectedReferences.get(t))&&void 0!==n?n:l.g.none})),l.g.chain(J.F))))}(jn=En||(En={})).eq=l.b.getEq(l.c.eqString,xn.a.Id.eq),jn.card=function(e){return l.b.right(e)},jn.uiItem=function(e){return l.b.left(e)},jn.toCard=function(e){return l.g.fromEither(e)},jn.toUIItem=function(e){return Object(s.pipe)(e,l.b.fold(l.g.some,()=>l.g.none))};var Mn,Pn,Nn=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Bn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){let t;!function(e){e.make=function(e){return{kind:"regularAction",action:e}},e.ordByActionStore=le.contramap(e=>e.action.store.rank)(le.ordNumber)}(t=e.RegularAction||(e.RegularAction={}))}(Mn||(Mn={})),(Pn||(Pn={})).create=function(){return{textBox:"",selectedAction:l.g.none,promptAutofocusToken:0,cardsState:{hoveredCard:l.g.none,focusedCard:l.g.none},reportMenuVisible:l.g.none,referencesVisibility:new Map,detectedReferences:l.g.none,overrideCardVoice:new Map,hasEverSubmittedFreeformPrompt:!1}};class Ln{constructor(e){this._params=e,this._state=f.a.create(Pn.create()),this._subs=new W.a,this._reportMenuVisibleDebounced=f.a.create(l.g.none),this._textEmtpy=f.a.create(l.g.none),this._paramsStateDeps=f.a.combine(this._params.userService.user,this._params.genAIAvailabilityService.availability,this._params.sessionService.session,this._params.routingViewModel.activeView,this._params.themeViewModel.theme.view("flatUI"),(e,t,n,r,i)=>({user:e,genAIAvailability:t,session:n,activeView:r,flatUI:i})),this.state=f.a.combine(this._state,this._paramsStateDeps,this._reportMenuVisibleDebounced,this._textEmtpy,(e,t,n,r)=>{var{cardsState:i,reportMenuVisible:a,textBox:o}=e,c=Bn(e,["cardsState","reportMenuVisible","textBox"]),u=t.user,d=t.genAIAvailability,p=t.session,m=t.activeView,f=t.flatUI;return Object.assign(Object.assign({},c),{textBox:o,user:u,genAIAvailability:d,session:p,userPromptAction:Object(s.pipe)(E.a.toStarted(p),l.g.chain(e=>e.activeContext.userPromptAction),l.g.map(e=>Object.assign(Object.assign({},e),{arg:Object.assign(Object.assign({},e.arg),{kind:"string",label:f?Object(s.pipe)(r,l.g.fold(()=>"",Object(j.c)("Try “Write an ode to the em dash”","Try “Is it persuasive?“"))):"string"===e.arg.kind?e.arg.label:"Tell us to..."})}))),activeCards:new Set(Object(s.pipe)([i.hoveredCard,Object(s.pipe)(i.focusedCard,l.g.orElse(Object(s.pipe)(n,l.g.chain(En.toCard))))],q.B)),canScroll:l.g.isNone(a),contextualActions:In(p,"home"===m.kind)})}),this._subs.add(this.state.subscribe(e=>this._params.logger.debug("assistant view model state updated",e))),this._subs.add(p.a.from(this._params.textEditorService.trimmedTextLength).pipe(p.a.map(e=>0===e)).subscribe(e=>this._textEmtpy.set(l.g.some(e)))),this._params.hasMergedExperience||this._subs.add(this._showErrorOnSessionStart().subscribe()),this._subs.add(p.a.mergeStatic(this._state.view("reportMenuVisible").pipe(p.b.compact,p.a.map(l.g.some)),this._state.view("reportMenuVisible").pipe(p.a.skipBy(l.g.getEq(En.eq)),p.a.debounceTime(250),p.a.filter(l.g.isNone))).subscribe(m.b.toAtom(this._reportMenuVisibleDebounced))),this._subs.add(this._params.routingViewModel.activeView.subscribe(()=>this._state.modify(Object(s.flow)(wn.set("reportMenuVisible",l.g.none),wn.set("cardsState",{hoveredCard:l.g.none,focusedCard:l.g.none}))))),this._subs.add(this._params.assistantUIActions.subscribe(e=>{this._handleUIAction(e)}))}focusPromptField(){this._state.lens("promptAutofocusToken").modify(e=>e+1)}getContextById(e){return this._params.sessionService.getContextById(e)}dispose(){this._subs.unsubscribe()}_showErrorOnSessionStart(){return p.a.mergeStatic(this._params.sessionService.session.view(Object(s.flow)(E.a.toStarting,l.g.chain(e=>e.error),l.g.tap(()=>this._params.routingViewModel.replace({kind:"error"})))))}_handleUIAction(e){switch(e.kind){case z.a.Kind.headerCloseButtonClick:return void this._onClose(e);case z.a.Kind.headerGoBackButtonClick:case z.a.Kind.radioOptionsCancelButtonClick:return this._goBack();case z.a.Kind.promptFieldTextChange:return this._updateTextBox(e.text);case z.a.Kind.actionBrickClick:return this._executeAction(e.action);case z.a.Kind.promptSubmitButtonClick:return this._go(l.g.none);case z.a.Kind.userPromptSubmit:return this._go(l.g.some(e.prompt));case z.a.Kind.radioOptionsSubmitButtonClick:return this._submitSelectedAction({selectedRadioOption:e.selectedOption});case z.a.Kind.generateStopButtonClick:return this._stop();case z.a.Kind.resultCardInsertButtonClick:return this._insert(e.result,e.selectedVoice);case z.a.Kind.resultCardRephraseButtonClick:return this._rephrase(e.result,e.selectedVoice);case z.a.Kind.resultCardDismissButtonClick:return this._dismissResult(e.result);case z.a.Kind.errorCardOkButtonClick:return this._dismissError();case z.a.Kind.reportOffensiveResultButtonClick:return this._reportOffensiveResult(e.result);case z.a.Kind.reportOffensiveActionsButtonClick:return this._reportOffensiveActions();case z.a.Kind.resultCardHeaderClick:return this._clickResultHeader(e.prompt);case z.a.Kind.creditsInfoHover:return this._params.trackingService.trackUsageInfoHover();case z.a.Kind.creditsInfoClick:return this._onCreditsInfoClick();case z.a.Kind.resultCardHoverChange:return this._onCardHover(e.resultId,e.hovered);case z.a.Kind.resultCardFocusChange:return this._onCardFocus(e.resultId,e.focused);case z.a.Kind.resultCardCopy:return this._onCardCopy(e.resultId,e.voice);case z.a.Kind.resultCardToggleGenericVoiceButtonClick:return this._onToggleGenericVoice(e.resultId,e.voice);case z.a.Kind.reportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.trigger,e.visible);case z.a.Kind.referencesVisibilityChange:return this._onCardReferencesVisibilityChange(e.resultId,e.visible);case z.a.Kind.regenerateWithoutReferenceButtonClick:return this._regenerateWithoutReference(e.result,e.referenceId,e.selectedVoice);case z.a.Kind.mount:return this._handleMount(e);case z.a.Kind.promptFieldKeyPressEscape:return this._onPromptFieldKeyPressEscape(e);case z.a.Kind.promptFieldKeyPressEnter:return"ready"!==e.fieldReadyState||S.a.isUnavailable(this.state.view("genAIAvailability").get())?void this._state.lens("hasEverSubmittedFreeformPrompt").set(!0):e.text.trim().length>0?this._go(l.g.none):this._tryInsertLatestResult();case z.a.Kind.restoreHistoryButtonClick:return this._handleHistoryButtonClick();case z.a.Kind.removeSelectionContextClick:return this._params.sessionService.dismissActiveBoundaryContext();case z.a.Kind.selectionContextInteraction:return this._params.textEditorService.setContextHighlight(e.range,e.visibility);default:return}}_handleHistoryButtonClick(){Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.map(e=>l.g.isSome(e.inProgressResult)||e.results.length>0),l.g.tap(e=>{e?this._params.routingViewModel.push({kind:"thread"}):(this._params.sessionService.restoreHistory(),this._subs.add(this._params.sessionService.session.view(E.a.toStarted).pipe(p.b.compact,p.a.filter(e=>void 0!==e.results.find(xn.a.isHistory)),p.a.take(1)).subscribe(()=>this._params.routingViewModel.push({kind:"thread"}))))}))}_handleMount(e){e.name===Z.a.creditsInfoButton?Object(u.b)("reportUphookShow",this._params.uphookService.reportUphookShow(this._params.userService.user.get()),this._params.logger,void 0,e=>this._params.monitoringService.notify(Object(T.a)(Object(M.o)({rawError:Object(N.b)(e)})))):e.name===Z.a.historyButtonActive&&this._params.trackingService.trackHistoryButtonView()}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>l.g.some(e):l.g.filter(t=>t!==e))}_onCardFocus(e,t){this._state.lens("cardsState").lens("focusedCard").modify(t?()=>l.g.some(e):l.g.filter(t=>t!==e))}_onCardCopy(e,t){Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.map(e=>e.results),l.g.chain(q.S(t=>t.id===e)),l.g.filter(e=>"aiUsageNotification"!==e.kind),l.g.chain(e=>Object(s.pipe)(l.g.fromNullable(this._params.textEditorService.copyText),l.g.map(t=>({result:e,copyText:t})))),l.g.map(({copyText:n,result:r})=>Object(u.b)("copyText",n(Object(An.a)(Object(s.pipe)(r.replacementDelta,ve.fold(s.identity,e=>t===xn.a.GeneratedTextVoice.user?e.user:e.generic)),"")),this._params.logger,()=>{this._params.sessionService.trackResultCopy(e)})))}_onCardReportMenuVisibilityChange(e,t){this._state.modify(n=>Object.assign(Object.assign({},n),{reportMenuVisible:t?l.g.some(e):Object(s.pipe)(n.reportMenuVisible,l.g.filter(t=>!En.eq.equals(t,e))),cardsState:Object.assign(Object.assign({},n.cardsState),{hoveredCard:Object(s.pipe)(En.toCard(e),l.g.fold(()=>n.cardsState.hoveredCard,e=>t?n.cardsState.hoveredCard:Object(s.pipe)(n.cardsState.hoveredCard,l.g.filter(t=>t!==e))))})}))}_onCardReferencesVisibilityChange(e,t){this._state.lens("referencesVisibility").modify(n=>new Map(n).set(e,t))}_onToggleGenericVoice(e,t){this._state.lens("overrideCardVoice").modify(n=>{var r;const i=new Map(n),a=(null!==(r=n.get(e))&&void 0!==r?r:t)===xn.a.GeneratedTextVoice.generic?xn.a.GeneratedTextVoice.user:xn.a.GeneratedTextVoice.generic;return i.set(e,a),this._params.trackingService.trackMyVoiceCardToggle(a===xn.a.GeneratedTextVoice.user),i})}_onClose(e){z.a.is(z.a.Kind.headerCloseButtonClick)(e)&&this._params.trackingService.trackAssistantClose(),this._params.lifecycleViewModel.onClose()}_goBack(){"followUpPrompt"===this._params.routingViewModel.activeView.get().kind&&this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:l.g.none,textBox:""})),this._params.routingViewModel.pop()}_updateTextBox(e){this._state.lens("textBox").set(e),this._searchReferences(e)}_executeAction(e){if("regularAction"===e.kind)if(e.action.disabled)Object(s.pipe)(e.action.notificationOnAttempt,l.g.tap(e=>{this._params.notificationService.notify(K.a.create("information",e,void 0,void 0,5e3)),this._params.trackingService.trackContexNotification("action")}));else if(ee.a.isFollowUpQuestionActionInput(e.action)){const t=e.action;this._state.modify(e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:l.g.some(t)})),this._params.routingViewModel.push({kind:"followUpPrompt",inputType:ee.c.match({radio:()=>"radio",string:()=>"string"})(e.action.args[0])})}else ee.a.isQuickActionInput(e.action)?(this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:l.g.none,textBox:""})),this._params.sessionService.submitAction(e.action,l.g.toUndefined(this._lastResultSelectedVoice())),this._params.routingViewModel.push({kind:"thread"})):Object(j.p)(ee.a.isSkillAction,ee.a.isToneAction,ee.a.isPlagiarismAction)(e.action)||Object(c.d)(e.action);else"allResults"===e.kind||("go"===e.kind?this._go(l.g.none):Object(c.d)(e))}_handleAIUsageNotificationOnPromptSubmit(){Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.chain(e=>e.activeContext.specialView),l.g.filter(e=>"aiUsageAlert"===e.kind),l.g.tap(()=>this._params.trackingService.trackAINotificationDismiss("document")))}_go(e){this._state.lens("hasEverSubmittedFreeformPrompt").set(!0),l.g.isSome(e)?(this._handleAIUsageNotificationOnPromptSubmit(),this._params.sessionService.submitAction(l.g.unsafeGet(e),l.g.toUndefined(this._lastResultSelectedVoice())),this._params.routingViewModel.push({kind:"thread"})):l.g.isSome(this._state.get().selectedAction)?this._submitSelectedAction({textBox:this._state.get().textBox}):(this._handleAIUsageNotificationOnPromptSubmit(),this._submitUserPromptAction())}_stop(){return Nn(this,void 0,void 0,(function*(){yield this._params.sessionService.stopInProgressResult()();Object(s.pipe)(this._params.sessionService.session.get(),E.a.fold({starting:s.constFalse,started:e=>0===e.results.length}))&&"thread"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()}))}_insert(e,t){Object(u.b)("insertText",this._params.textEditorService.insertText(Object(An.a)(Object(s.pipe)(e.replacementDelta,ve.fold(s.identity,e=>t===xn.a.GeneratedTextVoice.user?e.user:e.generic)),"")),this._params.logger,()=>{this._params.sessionService.trackResultInsert(e.id,t===xn.a.GeneratedTextVoice.user)})}_tryInsertLatestResult(){Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.map(e=>e.results),l.g.chain(q.ib),l.g.filter(xn.a.isStandardCompletedResult),l.g.tap(e=>this._insert(e,Object(s.pipe)(this._lastResultSelectedVoice(),l.g.getOrElse(()=>xn.a.GeneratedTextVoice.generic)))))}_onPromptFieldKeyPressEscape(e){e.menuOpened||Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.chain(e=>e.inProgressResult),l.g.fold(()=>this._onClose(e),()=>this._stop()))}_rephrase(e,t){this._params.sessionService.regenerateResult(e.id,{omitReferenceIds:l.g.none},t)}_dismissResult(e){this._params.sessionService.dismissResult(e.id),this._state.modify(t=>Object.assign(Object.assign({},t),{reportMenuVisible:Object(s.pipe)(t.reportMenuVisible,l.g.filter(t=>!En.eq.equals(t,En.card(e.id)))),cardsState:{hoveredCard:Object(s.pipe)(t.cardsState.hoveredCard,l.g.filter(t=>t!==e.id)),focusedCard:Object(s.pipe)(t.cardsState.hoveredCard,l.g.filter(t=>t!==e.id))}}));Object(s.pipe)(this._params.sessionService.session.get(),E.a.fold({starting:s.constFalse,started:e=>0===e.results.length&&l.g.isNone(e.inProgressResult)}))&&"thread"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.pop()}_dismissError(){this._params.sessionService.dismissError()}_reportOffensiveResult(e){this._params.sessionService.trackResultOffensive(e.id)}_reportOffensiveActions(){this._params.sessionService.trackActionsOffensive()}_clickResultHeader(e){this._state.modify(t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1}))}_onCreditsInfoClick(){this._params.trackingService.trackUsageInfoClick(),Object(u.b)("reportUphookClick",this._params.uphookService.reportUphookClick(this._params.userService.user.get()),this._params.logger,void 0,e=>this._params.monitoringService.notify(Object(T.a)(Object(M.n)({rawError:Object(N.b)(e)}))))}_submitSelectedAction(e){Object(s.pipe)(this._state.get().selectedAction,l.g.chain(t=>Object(s.pipe)(t.args[0],ee.c.match({string:()=>{var n;return Object(s.pipe)(l.g.fromNullable(null===(n=e.textBox)||void 0===n?void 0:n.trim()),l.g.filter(e=>e.length>0),l.g.map(e=>ee.a.FollowUpQuestionActionValue.fromTextInput(t,e)))},radio:()=>Object(s.pipe)(l.g.fromNullable(e.selectedRadioOption),l.g.map(e=>ee.a.FollowUpQuestionActionValue.fromRadioInput(t,e)))}))),l.g.tap(e=>{this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:l.g.none,textBox:""})),this._params.sessionService.submitAction(e,l.g.toUndefined(this._lastResultSelectedVoice())),l.g.isSome(e.generatesTextType)&&(this._popFollowUpPromptViews(),"home"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"thread"}))}))}_lastResultSelectedVoice(){return Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.map(e=>e.results),l.g.chain(q.ib),l.g.chain(e=>l.g.fromNullable(this._state.lens("overrideCardVoice").view(t=>t.get(e.id)).get())))}_submitUserPromptAction(){Object(s.pipe)(this._state.get().textBox.trim(),l.g.fromPredicate(e=>""!==e),l.g.chain(e=>Object(s.pipe)(E.a.toStarted(this._params.sessionService.session.get()),l.g.chain(t=>Object(s.pipe)(t.activeContext.userPromptAction,l.g.map(n=>({text:e,session:t,userPromptAction:n})))))),l.g.tap(({text:e,session:t,userPromptAction:n})=>{this._state.lens("textBox").set(""),this._params.sessionService.submitAction(ee.a.UserPromptActionValue.fromInput(n,e,Object(s.pipe)(Tn(t,e),l.g.map(q.P(e=>Object(s.pipe)(e.url,l.g.map(t=>({url:t,referenceId:e.id}))))),l.g.chain(J.E)),l.g.none),l.g.toUndefined(this._lastResultSelectedVoice())),this._popFollowUpPromptViews(),"home"===this._params.routingViewModel.activeView.get().kind&&this._params.routingViewModel.push({kind:"thread"})}))}_popFollowUpPromptViews(){for(;"followUpPrompt"===this._params.routingViewModel.activeView.get().kind;)this._params.routingViewModel.pop()}_regenerateWithoutReference(e,t,n){this._params.sessionService.regenerateResult(e.id,{omitReferenceIds:l.g.some([t])},n)}_searchReferences(e){Object(s.pipe)(function(e){return Object(s.pipe)(e.split(/\s/).filter(e=>e.length>3&&e.includes(".")),J.E)}(e),l.g.tap(e=>e.forEach(e=>this._params.sessionService.searchReferences(e))))}}function Fn(e){return p.a.from(e).pipe(p.a.take(1)).toPromise()}var Rn=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};class Dn{constructor(e){this._params=e,this._sub=new W.a,this._heightBehavior=f.a.create({kind:"fitContent",maxHeight:660}),this._widthBehavior=f.a.create({kind:"fitContent",minWidth:432,maxWidth:432}),this._dragBehavior=f.a.create({kind:"notDraggable"}),this._focusState=f.a.create({isFocused:!0}),this.heightBehavior=this._heightBehavior.view(),this.widthBehavior=this._widthBehavior.view(),this.dragBehavior=this._dragBehavior.view(),this._onStart(),this._sub.add(this._params.lifecycleService.sizeBehavior.subscribe(e=>{var t;this._heightBehavior.set("fitContent"===e.heightBehavior.kind?{kind:e.heightBehavior.kind,maxHeight:null!==(t=e.heightBehavior.maxHeight)&&void 0!==t?t:660}:{kind:e.heightBehavior.kind}),this._widthBehavior.set(function(e){var t,n,r,i;return"fitContent"===e.widthBehavior.kind?{kind:e.widthBehavior.kind,minWidth:null!==(t=e.widthBehavior.minWidth)&&void 0!==t?t:(i=e.widthBehavior.maxWidth,null!==i&&i<432?i:432),maxWidth:null!==(n=e.widthBehavior.maxWidth)&&void 0!==n?n:(r=e.widthBehavior.minWidth,r&&r>432?r:432)}:{kind:e.widthBehavior.kind}}(e))})),this._sub.add(this._params.lifecycleService.dragBehavior.subscribe(m.b.toAtom(this._dragBehavior))),this._sub.add(this._focusState.pipe(p.a.debounceTime(100),p.a.distinctUntilKeyChanged("isFocused")).subscribe(e=>{Fn(this._params.lifecycleService.focusStateChanged(e)).catch(t=>this._params.monitoringService.notify(Object(T.a)(Object(M.h)({focusState:e,rawError:Object(N.b)(t)}))))}))}_onStart(){return Rn(this,void 0,void 0,(function*(){try{const e=yield Fn(this._params.lifecycleService.starting());this._params.metricsService.report({name:"assistant_lifecycle_starting",labels:void 0},void 0,e)}catch(e){this._params.monitoringService.notify(Object(T.a)(Object(M.j)({rawError:Object(N.b)(e)})))}}))}onMount(e){return Rn(this,void 0,void 0,(function*(){try{const t=yield Fn(this._params.lifecycleService.visuallyReady({content:e}));this._params.metricsService.report({name:"assistant_lifecycle_visually_ready",labels:void 0},["assistant_lifecycle_starting"],t)}catch(e){this._params.monitoringService.notify(Object(T.a)(Object(M.k)({rawError:Object(N.b)(e)})))}}))}onHeaderMount(e){return Rn(this,void 0,void 0,(function*(){if("draggable"===this._dragBehavior.get().kind)try{const t=yield Fn(this._params.lifecycleService.readyToDrag({dragHandle:e}));this._params.metricsService.report({name:"assistant_lifecycle_ready_to_drag",labels:void 0},["assistant_lifecycle_starting"],t)}catch(e){this._params.monitoringService.notify(Object(T.a)(Object(M.i)({rawError:Object(N.b)(e)})))}}))}onFocus(e){this._focusState.set({isFocused:e})}onClose(){return Rn(this,void 0,void 0,(function*(){try{yield new Promise(e=>setTimeout(e)),yield this._params.lifecycleService.close()}catch(e){this._params.monitoringService.notify(Object(T.a)(Object(M.g)({rawError:Object(N.b)(e)})))}}))}dispose(){this._sub.unsubscribe()}}class Hn{constructor(e,t){this._initialViewStack=e,this._viewEq=t,this._viewStack=f.a.create(this._initialViewStack),this.activeView=this._viewStack.view(J.M)}push(e){this._viewStack.modify(t=>this._viewEq.equals(e,t[0])?t:J.v(e,t))}pop(){this._viewStack.modify(Object(s.flow)(J.kb,([e,t])=>Object(s.pipe)(J.F(t),I.getOrElse(()=>[e]))))}popUntil(e){this._viewStack.modify(t=>{const n=t.findIndex(e);return Object(s.pipe)(n>=0?I.some(n):I.some(0),I.chain(e=>J.F(t.slice(e))),I.getOrElse(()=>t))})}replace(e){this._viewStack.modify(t=>Object(s.pipe)(J.v(e,J.hb(t))))}has(e){return this._viewStack.view(t=>void 0!==t.find(t=>this._viewEq.equals(t,e)))}}class Vn{constructor(e){this._theme=e,this.theme=this._theme}}function Un(e){return e.email.endsWith("@grammarly.com")&&Object(s.pipe)(e.institution,I.fold(s.constFalse,e=>624392205===e.id))}class Wn{constructor(e){this._params=e,this.isGrammarlyInstitutionMember=this._params.userService.user.view(Un)}}function zn(e,t){var n;const r=new H.a,i=new Dn({lifecycleService:e.lifecycleService,monitoringService:e.monitoringService,metricsService:t.metricsService}),a=new Hn(function(e){const t=e.sessionService.session.get().mode;return J.fb(q.B(["initialView"in e&&"toneReport"===e.initialView?I.some({kind:"toneReport"}):I.none,"pushRewrite"===t||"quickRewrite"===t?I.some({kind:"thread"}):I.none]),{kind:"home"})}(e),ae.eq),o=new Vn(null!==(n=e.theme)&&void 0!==n?n:f.a.create(V.a)),c=new U;e.sessionService.registerNotificationHandler(e=>c.notify(e));const l=function(e){var t;return Object.assign(Object.assign({},e),{trimmedTextLength:p.a.from(null!==(t=e.trimmedTextLength)&&void 0!==t?t:p.a.from(e.textUpdated).pipe(p.a.auditTime(500),p.a.startWith(null),p.a.switchMap(()=>e.getText({start:0,end:Number.MAX_SAFE_INTEGER})()),p.a.map(I.fromEither),p.b.compact,p.a.map(e=>e.trim().length))).pipe(p.a.distinctUntilChanged(),p.a.shareReplay({bufferSize:1,refCount:!0}))})}(e.textEditorService),u=new kn({assistantUIActions:r,trackingService:e.trackingService,sessionService:e.sessionService,routingViewModel:a,logger:t.logger}),d=new G({assistantUIActions:r,feedbackService:e.feedbackService,monitoringService:e.monitoringService,routingViewModel:a,logger:t.logger}),m=Object(s.pipe)(I.fromNullable(e.toneDetectorService),I.map(t=>new pe({assistantUIActions:r,toneDetectorService:t,userService:e.userService,routingViewModel:a}))),h=Object(s.pipe)(I.fromNullable(e.revisionEngine),I.map(fn.b),I.map(e=>function(e,t,n,r){var i;const a=new p.a.Subscription,o=new p.a.Subject,s=null!==(i=e.sduiService.supportedForms)&&void 0!==i?i:"longForm"===e.sduiService.initialForm?["longForm","shortForm"]:["shortForm","longForm"],c=Object.assign(Object.assign({},e.sduiService),{supportedForms:s,initialForm:s[0]}),l=new on({capiService:e.capiService,sduiService:c,alertService:e.alertService,monitoringService:e.monitoringService,sduiEventTransformer:sn}),u=new Qt({capiService:e.capiService}),d=new Xt({sduiItemsCollection:l.state,selectedAlertId:e.alertService.selectedAlertId,initialForm:c.supportedForms[0],logger:e.logger}),m=new Nt({feedManager:d,sduiManagerProxy:l,capiService:e.capiService,alertService:e.alertService,plagiarismService:u,textEditorService:e.textEditorService,monitoringService:e.monitoringService,lifecycleService:e.lifecycleService,setEmphasizedAlerts:e=>o.next(new Set(e)),logger:e.logger}),f=null!=r?r:d.allSuggestionsFeed.pipe(p.b.compact,p.a.take(1),p.a.map(e=>e.id));a.add(f.subscribe(t=>{var n;null===(n=null==e?void 0:e.logger)||void 0===n||n.info("Pushing default feed",t),d.pushFeed(t)}));const h=new At({feedState:d.feed,resetEmphasizedAlerts:o,alertService:e.alertService,monitoringService:e.monitoringService,logger:e.logger}),g=new dn({feedManager:d,feedActionService:m,alertVisibilityManager:h}),b=new cn({lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(p.a.filter(ut.a.Finished.is))}),v=new ln({sduiService:c,feedManager:d}),y=new un({feedManager:d,lastFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(p.a.filter(ut.a.Finished.is))}),O=new mn({feedManager:d,sduiItemsCollection:l.state}),_=new pn({plagiarismService:u,feedManager:d,feedActionService:m,routingViewModel:t,assistantUIActions:n,lastAsyncCheckFinishedMessage:e.capiService.relevantInboundCAPIMessages.pipe(p.a.filter(ut.a.AsyncCheckFinished.is)),textUpdated:p.a.from(e.textEditorService.textUpdated)});return{viewModels:{feed:g,feedLens:y,feedForm:v,checkingState:b,suggestionCount:O,plagiarism:_},dispose:()=>{a.unsubscribe(),O.dispose(),_.dispose(),u.dispose(),y.dispose(),b.dispose(),h.dispose(),m.dispose(),d.dispose(),l.dispose()}}}(e,a,r))),g=Object(s.pipe)(h,I.map(e=>e.viewModels)),b=new Ln({assistantUIActions:r,lifecycleViewModel:i,routingViewModel:a,themeViewModel:o,feedbackService:e.feedbackService,genAIAvailabilityService:e.genAIAvailabilityService,monitoringService:e.monitoringService,sessionService:e.sessionService,textEditorService:l,trackingService:e.trackingService,uphookService:e.uphookService,userService:e.userService,notificationService:c,logger:t.logger,hasMergedExperience:B(g)}),v=new me(e.sessionService.session,a.activeView,e.genAIAvailabilityService.availability,m,Object(s.pipe)(g,I.map(e=>e.plagiarism))),y=new lt(r,v.contextualActions,v.skillActions,v.toneAction,v.plagiarismAction,e.trackingService,()=>I.isSome(b.state.get().selectedAction),()=>b.focusPromptField()),O=new $(c,r,a.activeView),_=new _n({userSurveyService:e.userSurveyService,assistantUIActions:r}),C=new vn(r,a,e.monitoringService,e.skillService);e.selectionContextAvailabilityService&&e.selectionContextAvailabilityService.augment(e=>f.a.combine(e,a.activeView,(e,t)=>ne(t)?e:{contextUpdatesClient:!1,contextUpdatesServer:!1}));const w=Object(s.pipe)(I.fromNullable(e.settingsOptions),I.map(e=>new hn({assistantUIActions:r,routingViewModel:a,options:e}))),S=new Wn({userService:e.userService}),k=new X({assistantUIActions:r,onboardingService:I.fromNullable(e.onboardingService)});return{lifecycle:i,assistant:b,promptActions:v,promptMenu:y,notifications:O,voiceProfile:u,feedbackForm:d,userSurvey:_,skill:C,theme:o,settings:w,revision:g,toneDetector:m,onboarding:k,routing:a,user:S,logger:t.logger,notify:t=>{var n;null===(n=e.notifyAssistantUIAction)||void 0===n||n.call(e,t),r.next(t)},dispose:()=>{Object(s.pipe)(h,I.map(e=>e.dispose())),b.dispose(),y.dispose(),O.dispose(),u.dispose(),d.dispose(),_.dispose(),C.dispose(),t.metricsService.dispose(),k.dispose(),Object(s.pipe)(m,I.map(e=>e.dispose()))}}}var Gn=n("j+t9");const qn=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:Ce.a.Green30},e),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"})),Kn=e=>ge.createElement(we.e,Object.assign({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none"},e),ge.createElement("path",{d:"M11.9995 11.7307V16.681M11.9995 8.41401V8.43051M20.25 12.5005C20.25 17.0571 16.5562 20.751 11.9995 20.751C7.4429 20.751 3.74902 17.0571 3.74902 12.5005C3.74902 7.94388 7.4429 4.25 11.9995 4.25C16.5562 4.25 20.25 7.94388 20.25 12.5005Z",stroke:"#7CF4D8",strokeLinecap:"round",strokeLinejoin:"round"})),$n=A.b.Node.make(({state:e,notify:t})=>ge.createElement(Oe.a.div,{className:Yn,"data-id":e.pipe(p.a.map(({id:e})=>e)),onMouseOver:t({kind:"mouseOver"}),onMouseOut:t({kind:"mouseOut"})},e.pipe(p.a.map(e=>{switch(e.kind){case"feedbackSubmitted":return ge.createElement(ge.Fragment,null,ge.createElement(qn,{className:Xn}),ge.createElement("div",null,"Thanks for the feedback!"));case"voiceTagRemoved":return ge.createElement(ge.Fragment,null,ge.createElement(qn,{className:Xn}),ge.createElement("div",null,"Removed"));case"information":return ge.createElement(ge.Fragment,null,ge.createElement(Kn,{className:Qn}),ge.createElement("div",null,e.text));default:return Object(c.d)(e)}})),e.pipe(p.a.map(({id:e})=>ge.createElement(Gn.a,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e})}))))),Zn=je.a.keyframes({from:{transform:`translateY(${je.a.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),Yn=je.a.style({background:Ce.a.BlueGray100,color:Ce.e.Emphasized.Content.Primary.Default,borderRadius:je.a.rem(Ce.d.Radius1+Ce.d.RadiusHalf),display:"flex",flexDirection:"row",alignItems:"center",padding:`${je.a.rem(Ce.f.Space3)} ${je.a.rem(Ce.f.Space3)}`,gap:je.a.rem(Ce.f.Space3),fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),animation:Zn+" 0.1s ease-in"}),Xn=je.a.style(Object.assign({},Object(xe.c)(1.5))),Qn=je.a.style({minWidth:"auto"}),Jn=A.b.List.make(q.h,$n),er=A.b.Grid.make(({slots:e})=>ge.createElement("div",{className:nr},e.content)),tr=A.b.Knot.make(er,{content:Jn}),nr=je.a.style({display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space2),transition:"top 0.1s ease-in"});var rr,ir=n("NG8v");!function(e){e.interactOutside="interactOutside",e.closeButtonClick="closeButtonClick",e.unmount="unmount",e.other="other"}(rr||(rr={}));const ar=A.b.Node.make(({view:e,notify:t})=>ge.createElement(Oe.a.Fragment,null,e("step").pipe(p.a.map(I.fold(s.constNull,e=>ge.createElement(ir.a,{key:String(e.stepId),"data-name":"onboarding-"+String(e.stepId),reference:e.reference,placement:e.placement,offset:e.offset,containerPadding:e.containerPadding,title:e.title,body:e.body,onClose:n=>t({kind:"onboardingStepUnmount",stepId:e.stepId,reason:n in rr?rr[n]:rr.other})(),onMount:t({kind:"onboardingStepMount",stepId:e.stepId})}))))));var or=n("koeM"),sr=n("7IMz"),cr=n("AMg5"),lr=n("EU0x"),ur=n("hUGf"),dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const pr=e=>{var{children:t,style:n}=e,r=dr(e,["children","style"]);const i=ge.useContext(ur.a);return ge.createElement(Oe.a.article,Object.assign({"data-card":!0,className:p.a.combineLatestStatic([i,Object(lr.a)(n)]).pipe(p.a.map(([{flatUI:e},t])=>je.a.style(e?{display:"flex",flexDirection:"column",color:Ce.e.Color.Text.Base.Default,padding:je.a.rem(Ce.f.Space4)}:{display:"flex",flexDirection:"column",padding:je.a.rem(Ce.f.Space3),gap:je.a.rem(Ce.f.Space2),background:"transparent",border:"0.5px solid "+Ce.a.BlueGray10,borderRadius:je.a.rem(Ce.d.Radius1+Ce.d.RadiusHalf),backgroundColor:Ce.e.Color.Background.Base.Default,color:Ce.e.Color.Text.Base.Default},t)))},r),t)};var mr=n("000W");function fr(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}var hr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const gr=ge.createContext({scrollableContainer:f.a.create(I.none),registerIntersectionObserver:()=>({dispose:s.constVoid}),scrolling:f.a.create(!1)}),br=ge.forwardRef((function(e,t){var{children:n,className:r,onScroll:i,style:a}=e,o=hr(e,["children","className","onScroll","style"]);const s=ge.useMemo(()=>f.a.create(I.none),[]),c=ge.useMemo(()=>new Map,[]),l=ge.useCallback(e=>{const t=Array.from(c.entries());for(const[n,{observers:r}]of t)c.set(n,{intersectionObserver:yr(e,n,r),observers:r})},[c]),u=ge.useCallback((e,t,n)=>{var r,i;const a=c.get(e),o=null!==(r=null==a?void 0:a.observers)&&void 0!==r?r:new Map;o.set(t,n);const l=null!==(i=null==a?void 0:a.intersectionObserver)&&void 0!==i?i:yr(I.toNullable(s.get()),e,o);return c.set(e,{intersectionObserver:l,observers:o}),l.observe(t),{dispose:()=>{const n=c.get(e);n&&(n.intersectionObserver.unobserve(t),n.observers.delete(t),0===n.observers.size&&(n.intersectionObserver.disconnect(),c.delete(e)))}}},[c]);ge.useEffect(()=>()=>{c.forEach(e=>{Array.from(e.observers.keys()).forEach(t=>{e.intersectionObserver.unobserve(t)}),e.observers.clear(),e.intersectionObserver.disconnect()}),c.clear()},[]);const d=ge.useMemo(()=>f.a.create(0),[]),h=ge.useMemo(()=>f.a.create(!1),[]),g=ge.useMemo(()=>m.b.toBooleanWithDebounce(d.pipe(p.a.skip(1)),100,!0).pipe(p.a.startWith(!1),p.a.tap(m.b.toAtom(h))),[d,h]);sr.a.useSubscriptionTo(g);const b=ge.useMemo(()=>({scrollableContainer:s,registerIntersectionObserver:u,scrolling:h}),[s,u,h]),v=ge.useMemo(()=>f.a.create(I.none),[]),y=ge.useMemo(()=>f.a.create(I.none),[]),O=ge.useMemo(()=>p.a.combineLatestStatic([Or(s,v),Or(s,y)]).pipe(p.a.map(([e,t])=>({topOverflow:e,bottomOverflow:t})),p.a.startWith({topOverflow:!1,bottomOverflow:!1}),p.a.skipBy(te.l({topOverflow:te.e,bottomOverflow:te.e}))),[v,y,s]);return ge.createElement(Oe.a.div,Object.assign({},o,{className:je.a.joinClasses([vr,r]),"data-role":"scroll",mount:fr([t,e=>{l(e),s.set(I.fromNullable(e))}]),onScroll:e=>{var t,n;null==i||i(e),d.set(null!==(n=null===(t=I.toNullable(s.get()))||void 0===t?void 0:t.scrollTop)&&void 0!==n?n:0)},style:a,"data-overflow-top":O.pipe(p.a.map(e=>e.topOverflow)),"data-overflow-bottom":O.pipe(p.a.map(e=>e.bottomOverflow))}),ge.createElement("div",{style:{margin:0},ref:e=>v.set(I.fromNullable(e)),"aria-hidden":!0}),ge.createElement(gr.Provider,{value:b},n),ge.createElement("div",{style:{margin:0},ref:e=>y.set(I.fromNullable(e)),"aria-hidden":!0}))})),vr=je.a.style({position:"relative",overflowY:"auto"});function yr(e,t,n){return new IntersectionObserver(e=>e.forEach(e=>{var t;return null===(t=n.get(e.target))||void 0===t?void 0:t(e)}),{root:e,rootMargin:t})}function Or(e,t){return f.a.combine(e,t,(e,t)=>Object(s.pipe)(Q.b(I.option)(e,t),I.map(([e,t])=>function(e,t){const n={root:e,rootMargin:"0px",threshold:[0,1]};return m.a.getIntersectionObservable(t,n).pipe(p.a.filter(mr.tb),p.a.map(e=>1!==e[0].intersectionRatio),p.a.startWith(t.offsetHeight>e.offsetHeight))}(e,t)))).pipe(p.b.compact,p.a.switchMap(s.identity),p.a.onErrorResumeNext(p.a.of(!0)))}var _r=n("JImy"),Cr=n("RRF2");function wr(e,t=!1){return ge.useMemo(()=>e.pipe(p.a.switchMap(I.fold(()=>p.a.of(I.none),e=>{return(t?(n=e,new p.a.Observable(e=>{const t=new _r.default(t=>{e.next(Cr.c.Rect.fromRectLike(t[0].contentRect))});return t.observe(n),()=>t.disconnect()})):m.a.getResizeObservable(e)).pipe(p.a.startWith(e),p.a.map(()=>I.some(e.getBoundingClientRect())));var n}))),[e])}const Sr="primaryBtn",kr="rephraseBtn",Er="dismissBtn",jr="reportBtn";var xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Ar=e=>{var{isActive:t,children:n,onHovered:r,onFocused:i,onCopy:a,style:o}=e,s=xr(e,["isActive","children","onHovered","onFocused","onCopy","style"]);const c=ge.useRef(null),l=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,Object.assign({},s,{mount:c,style:l.view(e=>Object.assign(Object.assign({},Tr(e)),o)),"data-active":t,onMouseEnter:()=>null==r?void 0:r(!0),onMouseLeave:()=>null==r?void 0:r(!1),onFocus:()=>{var e;return null==i?void 0:i((null===(e=c.current)||void 0===e?void 0:e.contains(Object(fe.b)(document)))||!1)},onBlur:()=>{var e;return null==i?void 0:i((null===(e=c.current)||void 0===e?void 0:e.contains(Object(fe.b)(document)))||!1)},onCopy:a}),n)},Ir=e=>({backgroundColor:Ce.e.Color.Background.Base.Default,$nest:{[`& .${Er}, & .${jr}`]:e?{}:{opacity:1,pointerEvents:"auto"},["& "+Object(xe.d)(Sr,xe.b)]:e?{}:{color:Ce.e.Color.Background.Base.Default,backgroundColor:Ae.a.BrandGreen60,border:"1px solid transparent"}}}),Tr=e=>Object.assign(Object.assign({backgroundColor:"transparent"},e?{gap:je.a.rem(Ce.f.Space2),padding:je.a.rem(Ce.f.Space4)}:{}),{$nest:{["& "+Object(xe.d)(Sr,xe.b)]:e?{fontSize:je.a.rem(.875)}:{lineHeight:je.a.rem(1.125),backgroundColor:Ce.e.Color.Background.Base.Default,color:Ce.e.Color.Text.Base.Subdued,border:"1px solid "+Ce.a.BlueGray5,boxSizing:"border-box"},["& "+Object(xe.d)(kr,xe.b)]:e?{fontSize:je.a.rem(.875)}:{lineHeight:je.a.rem(1.5)},[`& .${Er}, & .${jr}`]:e?{}:{opacity:0,pointerEvents:"none",justifyContent:"center"},"&:focus, &:hover":Object.assign({},Ir(e)),"&[data-active='true']":Object.assign({},Ir(e))}});var Mr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Pr=e=>{var{header:t,footer:n,isActive:r,onHovered:i,onFocused:a,onCopy:o,body:s,style:c}=e,l=Mr(e,["header","footer","isActive","onHovered","onFocused","onCopy","body","style"]);return ge.createElement(Ar,Object.assign({},l,{"data-card-type":"prompt-result",isActive:r,onHovered:i,onFocused:a,style:c,onCopy:o}),t,s,n)};var Nr=n("Iv1e");const Br=Object(ye.d)(br),Lr=e=>{var t;const n=ge.useContext(ur.a),r=ge.useMemo(()=>{var t;return null!==(t=e.menuRef)&&void 0!==t?t:p.a.of(I.none)},[e.menuRef]),i=ge.useMemo(()=>{var t;return null!==(t=e.scrollContentToBottomToken)&&void 0!==t?t:p.a.of(I.none)},[e.scrollContentToBottomToken]),{onMount:a,ref:o}=sr.a.useElWatcher(),{onMount:c,ref:l}=sr.a.useElWatcher();!function(e,t){const n=ge.useMemo(()=>p.a.combineLatestStatic([t.pipe(p.b.compact,p.a.map(e=>I.fromNullable(Object(fe.c)(e,3))),p.b.compact),e.pipe(p.a.skipBy(I.getEq(te.h)))]).pipe(p.a.auditTime(0),p.a.map(w.b),p.a.tap(e=>{e.scrollTop=e.scrollHeight-e.clientHeight})),[t]);sr.a.useSubscriptionTo(n)}(i,l);const u=wr(o),d=wr(r),m=ge.useMemo(()=>f.a.create(!1),[]),h=ge.useMemo(()=>l.pipe(p.a.map(I.fold(()=>{m.set(!1)},e=>{m.set(e.scrollTop>0)}))),[l]),g=ge.useMemo(()=>{var t;return p.a.combineLatestStatic([d,u,e.heightBehavior,null!==(t=e.menuVerticalMargin)&&void 0!==t?t:p.a.of(void 0)]).pipe(p.a.map(([e,t,n,r])=>Object(s.pipe)(e,I.fold(()=>({sentinelHeight:void 0,menuMaxHeight:void 0}),e=>{if("fitContent"===n.kind){const t=e.height+(null!=r?r:0);return{sentinelHeight:Math.min(n.maxHeight,t),menuMaxHeight:n.maxHeight-(null!=r?r:0)}}return{sentinelHeight:void 0,menuMaxHeight:Object(s.pipe)(t,I.fold(s.constUndefined,e=>Math.max(e.height-(null!=r?r:0),0)))}}))),p.a.startWith({sentinelHeight:void 0,menuMaxHeight:void 0}))},[d,u]),b=ge.useMemo(()=>r.pipe(p.b.compactMap(e=>g.pipe(p.a.tap(({menuMaxHeight:t})=>{e.style.setProperty("max-height",t+"px")})))),[g,r]);return sr.a.useSubscriptionTo(h),sr.a.useSubscriptionTo(g),sr.a.useSubscriptionTo(b),ge.createElement(Nr.a.Provider,{value:{portalContainer:o}},ge.createElement(Oe.a.div,{dir:"ltr","data-name":"assistant","data-dragging":e.dragBehavior.pipe(p.a.map(e=>"draggable"===e.kind&&e.isDragging)),tabIndex:0,onFocus:e.onFocus,onBlur:e.onBlur,className:n.view("flatUI").view(t=>je.a.joinClasses([Dr(t),e.containerClassName])),style:p.a.combineLatestStatic([e.heightBehavior,e.widthBehavior]).pipe(p.a.map(([e,t])=>Object.assign(Object.assign({},"fitContainer"===e.kind?{height:"100%"}:{maxHeight:e.maxHeight}),"fitContainer"===t.kind?{width:"100%"}:{minWidth:t.minWidth,maxWidth:t.maxWidth}))),mount:t=>{var n;a(t),null===(n=e.onMountContainer)||void 0===n||n.call(e,t)}},ge.createElement(Oe.a.header,{className:p.a.combineLatestStatic([m,e.dragBehavior,n.view("flatUI")]).pipe(p.a.map(([e,t,n])=>Ur(n,e,"draggable"===t.kind))),mount:e.onMountHeader},e.header),ge.createElement("div",{className:zr,"data-name":"notifications"},ge.createElement(Oe.a.div,{className:m.view(Object(j.c)(Kr,qr))},e.notifications)),ge.createElement(Br,{mount:c,className:n.view("flatUI").view(t=>je.a.joinClasses([Wr(t),e.contentClassName])),onScroll:e=>m.set(e.currentTarget.scrollTop>0),style:(null!==(t=e.canScrollContent)&&void 0!==t?t:p.a.of(!0)).pipe(p.a.map(Object(j.c)("auto","hidden")),p.a.map(e=>({overflowY:e}))),role:"main"},e.content),ge.createElement(Oe.a.footer,{className:n.view("flatUI").view(t=>je.a.joinClasses([Zr(t),e.footerClassName]))},e.footer),ge.createElement(Oe.a.Fragment,null,g.pipe(p.a.map(({sentinelHeight:e})=>e?ge.createElement("div",{key:"sentinel",className:Yr,role:"presentation",style:{height:e}}):null))),e.onboarding))},Fr="header",Rr="content",Dr=e=>je.a.style({overflow:"hidden",fontFamily:"Inter, sans-serif",padding:0,margin:0,borderRadius:"inherit",display:"grid",gridTemplateColumns:"1fr 0",gridTemplateRows:"auto 0 1fr auto",gridTemplateAreas:'"header sentinel" "notifications sentinel" "content sentinel" "footer sentinel"',background:e?Ce.e.Color.Background.Base.Default:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{[`&:has(.${Fr} [role=button][data-hovered=true])`]:e?{$nest:{["."+Fr]:{background:"inherit"}}}:void 0,"&[data-dragging='true']":{cursor:"grabbing",$nest:{["."+Rr]:{pointerEvents:"none"},["."+Fr]:{pointerEvents:"none",background:e?Ae.a.ButtonBackgroundTertiaryActive:void 0}}}}}),Hr={minWidth:0},Vr=e=>e?3:2.5,Ur=(e,t,n)=>je.a.joinClasses([Fr,je.a.style(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hr),{gridArea:"header",display:"flex",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",height:je.a.rem(Vr(e)),gap:je.a.rem(Ce.f.Space2),padding:`0 ${je.a.rem(Ce.f.Space2)} 0 ${je.a.rem(e?Ce.f.Space4:Ce.f.Space2)}`,boxSizing:"border-box"}),t&&!e?{borderBottom:"0.5px solid "+Ce.a.BlueGray10}:{}),e?{clipPath:t?"inset(0 0 -5px 0)":void 0,boxShadow:t?Ce.c.Elevation100.boxShadow:void 0,borderBottom:t?Ce.c.Elevation100.border:"0.5px solid "+Ae.a.BorderBaseSubduedColor,zIndex:t?1:void 0}:{}),{cursor:n?"grab":void 0,position:"relative","--grammarly-app-region":"drag",$nest:{button:{"--grammarly-app-region":"no-drag"},"&:hover":{background:e&&n?Ae.a.ButtonBackgroundTertiaryHover:void 0}}}))]),Wr=e=>je.a.joinClasses([Rr,je.a.style(Object.assign(Object.assign(Object.assign({},Hr),{gridArea:"content"}),e?{$nest:{"& [data-card] + [data-card]":{borderTop:"0.5px solid "+Ae.a.BorderBaseSubduedColor},'& [data-card-type="prompt-result"] + [data-card-type="prompt-result"]':{borderTop:0,position:"relative",$nest:{"&::before":{content:"''",position:"absolute",top:0,left:je.a.rem(1),right:je.a.rem(1),borderTop:"0.5px solid "+Ae.a.BorderBaseSubduedColor}}}}}:{display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space2),padding:"0 "+je.a.rem(Ce.f.Space2)}))]),zr=je.a.style({position:"relative",gridArea:"notifications"}),Gr={zIndex:1e3,position:"absolute",right:je.a.rem(Ce.f.Space2),marginLeft:je.a.rem(Ce.f.Space2)},qr=je.a.style(Object.assign(Object.assign({},Gr),{top:0})),Kr=je.a.style(Object.assign(Object.assign({},Gr),{top:je.a.rem(Ce.f.Space1)})),$r=Ce.f.Space2,Zr=e=>je.a.style(Object.assign(Object.assign(Object.assign({},Hr),{gridArea:"footer",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"}),e?{}:{paddingBottom:je.a.rem($r)})),Yr=je.a.style({gridArea:"sentinel",visibility:"hidden"}),Xr=ge.createContext({notifyUnmount:s.constVoid}),Qr=e=>ge.createElement(we.e,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:Ae.a.BrandGreen60},e),ge.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),Jr=e=>ge.createElement(we.e,Object.assign({width:"32",height:"32",fill:Ce.e.Color.Text.Base.Subdued,viewBox:"0 0 32 32"},e),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"}));var ei=n("KqOJ"),ti=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const ni="#161719",ri="#646B81",ii=e=>{var{children:t,style:n,name:r}=e,i=ti(e,["children","style","name"]);const[a,o]=ge.useState(null),s=ge.useCallback(e=>{var t,n;let r=null;"contentDocument"in e.target&&(r=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),o(r),r&&(r.style.margin="0",r.style.height="100vh",r.style.overflowY="hidden")},[]),c=ge.useContext(or.a.Context);return ge.useEffect(()=>{const e=c.subscribe(e=>{a&&or.a.setRootCssVar(a,I.some(e))});return()=>e.unsubscribe()},[a]),ge.createElement(ge.Fragment,null,ge.createElement("iframe",Object.assign({},i,{style:Object.assign({},n),onLoad:s,srcDoc:"<html><body></body></html>","data-name":r})),a&&Object(ei.createPortal)(t,a))},ai=({fitContentHeight:e,text:t,ariaLabel:n,onChange:r,placeholder:i,disabled:a,className:o,onFocus:s,onBlur:c,onKeyDownEnter:l,autofocus:u,onKeyDownArrowUp:d,onKeyDownArrowDown:p,onKeyDownShiftEnter:m,theme:f})=>{var h,g,b,v,y,O,_,C,w,S,k,E,j,x,A,I,T,M,P,N,B,L,F,R,D,H,V,U,W,z,G;const q=1.375*(i?i.length:1)+(null!==(g=null===(h=null==f?void 0:f.paddingRems)||void 0===h?void 0:h.top)&&void 0!==g?g:0)+(null!==(v=null===(b=null==f?void 0:f.paddingRems)||void 0===b?void 0:b.bottom)&&void 0!==v?v:0),[K,$]=ge.useState({kind:"rem",value:q}),[Z,Y]=ge.useState(null);return ge.useEffect(()=>{Z&&void 0!==u&&(Z.focus(),Z.selectionStart=t.length,Z.selectionEnd=t.length)},[u,Z]),ge.useLayoutEffect(()=>{if(""===t)$({kind:"rem",value:q});else{const e=null==Z?void 0:Z.scrollHeight;$(e?{kind:"px",value:e}:{kind:"rem",value:q})}},[t,Z,i]),ge.createElement(ii,{className:o,style:{height:e?"rem"===K.kind?je.a.rem(K.value):je.a.px(K.value):void 0,maxHeight:(null==f?void 0:f.maxHeightRems)?je.a.rem(f.maxHeightRems):"none",minHeight:(null==f?void 0:f.minHeightRems)?je.a.rem(f.minHeightRems):"none"},title:n+" container",name:"textarea-iframe"},ge.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${je.a.rem(Ce.d.Radius1)};\n        overflow-y: auto;\n        padding: ${je.a.rem(null!==(O=null===(y=null==f?void 0:f.paddingRems)||void 0===y?void 0:y.top)&&void 0!==O?O:0)} ${je.a.rem(null!==(C=null===(_=null==f?void 0:f.paddingRems)||void 0===_?void 0:_.right)&&void 0!==C?C:0)} ${je.a.rem(null!==(S=null===(w=null==f?void 0:f.paddingRems)||void 0===w?void 0:w.bottom)&&void 0!==S?S:0)} ${je.a.rem(null!==(E=null===(k=null==f?void 0:f.paddingRems)||void 0===k?void 0:k.left)&&void 0!==E?E:0)};\n        width: 100%;\n        height: 100%;\n        border: none;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${null!==(j=null==f?void 0:f.fontSize)&&void 0!==j?j:je.a.rem(.875)};\n        font-weight: 400;\n        color: ${null!==(x=null==f?void 0:f.color)&&void 0!==x?x:ni};\n      }\n      .textarea::placeholder {\n        color: ${ri};\n      }\n      .textarea:placeholder-shown {\n        padding: ${(null==f?void 0:f.placeholderPaddingRems)?`${je.a.rem(null!==(I=null===(A=f.placeholderPaddingRems)||void 0===A?void 0:A.top)&&void 0!==I?I:0)} ${je.a.rem(null!==(M=null===(T=f.placeholderPaddingRems)||void 0===T?void 0:T.right)&&void 0!==M?M:0)} ${je.a.rem(null!==(N=null===(P=f.placeholderPaddingRems)||void 0===P?void 0:P.bottom)&&void 0!==N?N:0)} ${je.a.rem(null!==(L=null===(B=f.placeholderPaddingRems)||void 0===B?void 0:B.left)&&void 0!==L?L:0)}`:`${je.a.rem(null!==(R=null===(F=null==f?void 0:f.paddingRems)||void 0===F?void 0:F.top)&&void 0!==R?R:0)} ${je.a.rem(null!==(H=null===(D=null==f?void 0:f.paddingRems)||void 0===D?void 0:D.right)&&void 0!==H?H:0)} ${je.a.rem(null!==(U=null===(V=null==f?void 0:f.paddingRems)||void 0===V?void 0:V.bottom)&&void 0!==U?U:0)} ${je.a.rem(null!==(z=null===(W=null==f?void 0:f.paddingRems)||void 0===W?void 0:W.left)&&void 0!==z?z:0)}`};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${je.a.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${ri};\n      }\n      `.replace(/\s/g,"")}}),ge.createElement("div",{className:"container"},ge.createElement("textarea",{"aria-label":n,className:"textarea",style:{lineHeight:null!==(G=null==f?void 0:f.lineHeight)&&void 0!==G?G:je.a.rem(1.375)},value:t,ref:Y,onChange:e=>r(e.target.value),placeholder:1===(null==i?void 0:i.length)?i[0]:void 0,disabled:a,onFocus:()=>null==s?void 0:s(),onBlur:()=>null==c?void 0:c(),onKeyDown:e=>{var t;l&&"Enter"===e.key&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),l()):"ArrowUp"===e.key&&d&&(oi(t=e.currentTarget)&&0===t.selectionStart)?(e.preventDefault(),e.stopPropagation(),d()):"ArrowDown"===e.key&&p&&function(e){return oi(e)&&e.selectionStart===e.value.length}(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),p()):"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==m||m())}}),((null==i?void 0:i.length)||0)>1&&""===t?ge.createElement("div",{className:"placeholder",style:{lineHeight:je.a.rem(1.375)}},(i||[]).map((e,t)=>ge.createElement(ge.Fragment,{key:t},e,ge.createElement("br",null)))):null))};function oi(e){return e.selectionStart===e.selectionEnd}const si="goBtn",ci="stopBtn",li={top:Ce.f.Space2,right:3.5*Ce.f.Space3,bottom:Ce.f.Space2,left:Ce.f.Space3},ui={top:Ce.f.Space2,right:Ce.f.Space3,bottom:Ce.f.Space2,left:Ce.f.Space3},di=je.a.style({display:"flex",position:"relative",alignItems:"flex-start",padding:0,gap:je.a.rem(Ce.f.Space1),justifyContent:"space-between"}),pi=je.a.style({flexGrow:1,paddingTop:je.a.rem(Ce.f.Space1+Ce.f.SpaceQuarter)}),mi=je.a.style({width:je.a.percent(100),border:"none"}),fi={position:"absolute",bottom:je.a.rem(Ce.f.Space2),right:je.a.rem(Ce.f.Space3)},hi=Object(xe.a)(fi,ci),gi=Object(xe.a)(Object.assign(Object.assign({},fi),{$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:Ce.a.BlueGray30}}}}}),si),bi=je.a.joinClasses([si,je.a.style(gi)]),vi=je.a.joinClasses([ci,je.a.style(hi)]),yi=A.b.Node.make(({state:e,notify:t})=>{const{notifyUnmount:n}=ge.useContext(Xr),{onMount:r}=Object(cr.a)(Object(s.flow)(p.a.tap(e=>t({kind:z.a.Kind.mount,name:Z.a.promptInput,element:e})()),p.a.finalize(()=>n({kind:z.a.Kind.unmount,name:Z.a.promptInput})))),i=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:di,mount:r},ge.createElement(Oe.a.div,{className:pi},e.pipe(p.a.map(({placeholder:e,kind:n,text:r,autofocusToken:a,genAIAvailability:o})=>ge.createElement(ai,{text:r,theme:{paddingRems:li,placeholderPaddingRems:ui,maxHeightRems:20,minHeightRems:2},ariaLabel:"custom prompt",className:mi,placeholder:"ready"===n?I.toUndefined(e):void 0,fitContentHeight:!0,autofocus:a,onChange:e=>t({kind:z.a.Kind.promptFieldTextChange,text:e})(),onKeyDownEnter:t({kind:z.a.Kind.promptFieldKeyPressEnter,text:r,fieldReadyState:n}),onFocus:t({kind:z.a.Kind.promptFieldFocusChange,focused:!0}),onBlur:t({kind:z.a.Kind.promptFieldFocusChange,focused:!1}),onKeyDownArrowUp:t({kind:z.a.Kind.promptFieldKeyPressArrowUp}),onKeyDownArrowDown:t({kind:z.a.Kind.promptFieldKeyPressArrowDown}),disabled:!i&&S.a.isUnavailable(o)})))),p.a.combineLatestStatic([e,i]).pipe(p.a.map(([{kind:e,text:n,genAIAvailability:r},i])=>S.a.isUnavailable(r)&&i?null:"waitingForResult"===e?ge.createElement(_e.a,{variant:"tertiary",className:vi,onClick:t({kind:z.a.Kind.generateStopButtonClick}),name:"generateStop",compact:!0,size:"large"},ge.createElement(Jr,null)):"ready"===e&&(!i||i&&""!==n.trim())?ge.createElement(_e.a,{variant:"tertiary",className:bi,onClick:t({kind:z.a.Kind.promptSubmitButtonClick,text:n}),disabled:""===n.trim()||S.a.isUnavailable(r),name:"promptSend",compact:!0,size:"large"},ge.createElement(Qr,null)):null)))}),Oi=()=>ge.createElement("div",{role:"separator",className:je.a.style({position:"relative",width:"100%"})},ge.createElement("div",{className:je.a.style({position:"absolute",bottom:0,left:je.a.rem(rt),right:je.a.rem(it),borderBottom:"0.5px solid "+Ae.a.BorderBaseSubduedColor})})),_i=A.b.Node.make(({view:e,notify:t})=>ge.createElement(Oe.a.div,{className:Ci,"data-name":"action-store"},e("actionGroups").pipe(p.a.map(e=>e.map(({label:e,actions:n})=>ge.createElement("section",{key:e,className:wi},e.trim().length>0&&ge.createElement("h1",{className:Si},e),n.map(({label:e,icon:n,action:r},i)=>ge.createElement(ge.Fragment,{key:e},0!==i&&ge.createElement(Oi,null),ge.createElement(Qe,{key:e,label:e,icon:"regularAction"===r.kind?ee.a.extractActionIcon(r.action):ve.right(n),onClick:t({kind:z.a.Kind.actionBrickClick,action:r})}))))))))),Ci=je.a.style({padding:`${je.a.rem(2.25)} 0 ${je.a.rem(1)} 0`,display:"flex",flexDirection:"column"}),wi=je.a.style({display:"flex",flexDirection:"column"}),Si=je.a.style({margin:0,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),fontWeight:700,padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`}),ki=({children:e,style:t})=>{const n=ge.useContext(ur.a);return ge.createElement(Oe.a.h1,{className:p.a.combineLatestStatic([n,Object(lr.a)(t)]).pipe(p.a.map(([{flatUI:e},t])=>je.a.style(e?{color:Ce.e.Color.Text.Base.Default,margin:0,padding:`0 0 ${je.a.rem(Ce.f.Space2)} 0`,fontWeight:700,fontSize:je.a.rem(1),lineHeight:je.a.rem(1.5),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{color:Ce.e.Color.Text.Base.Subdued,margin:0,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},t)))},e)},Ei=e=>ge.createElement(we.e,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15"},e),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",stroke:"none"})),ji=({style:e,contentStyle:t,children:n,header:r,onMount:i})=>{const a=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.section,{className:a.view(t=>je.a.style(xi(t),e)),"data-name":"action-category",mount:i},r,ge.createElement("div",{className:je.a.style(Ai,t)},n))},xi=e=>({background:"white",display:"flex",flexDirection:"column",gap:e?void 0:je.a.rem(Ce.f.Space2)}),Ai={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:je.a.rem(Ce.f.Space2)},Ii=A.b.List.make(q.h,Ye);function Ti(e,t=0){const n=function(e){return e.trim().replace(/\s+/g," ")}(e).split(" ").reduce((e,n,r,i)=>Object.assign(Object.assign({},e),{head:r<i.length-t?e.head.concat(n):e.head,tail:r>=i.length-t?e.tail.concat(n):e.tail}),{head:[],tail:[]});return{head:n.head.join(" "),tail:n.tail.join(" ")}}const Mi=({children:e,maxTailWordsCount:t=0})=>{const n=Ti(e,t);return ge.createElement("div",{className:Ni},ge.createElement("span",{className:Bi},n.head,n.head.length&&n.tail.length?" ":null),n.tail.length?n.tail:null)},Pi=({children:e,maxTailWordsCount:t=0})=>{const[n,r]=ge.useState(t),{onMount:i,rect:a}=sr.a.useRectWatcher(),o=ge.useRef(null),s=ge.useMemo(()=>Ti(e,n),[n,e]),c=ge.useMemo(()=>new p.a.Subject,[]);sr.a.useSubscriptionTo(ge.useMemo(()=>c.pipe(p.a.throttleTime(100),p.a.distinctUntilChanged(),p.a.tap(e=>{r(e)})),[]));const l=ge.useMemo(()=>{return e=o.current,parseInt((null===(r=null===(n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===n?void 0:n.getComputedStyle(e))||void 0===r?void 0:r.fontSize)||(null===(a=null===(i=null==e?void 0:e.ownerDocument)||void 0===i?void 0:i.defaultView)||void 0===a?void 0:a.getComputedStyle(e.ownerDocument.body).fontSize)||"16px",10);var e,t,n,r,i,a},[o.current]);return sr.a.useSubscriptionTo(ge.useMemo(()=>a.pipe(p.b.compact,p.a.distinctUntilChanged(),p.a.filter(e=>Boolean(e.width&&e.height)),p.a.tap(e=>{if(e.width<9*l)c.next(0);else if(o.current&&o.current.clientWidth<o.current.scrollWidth){const r=o.current.clientWidth/(e.width||1/0);n&&r<.4?c.next(n-1):r>.6&&n<t&&c.next(n+1)}})),[a])),ge.createElement("div",{className:Ni,ref:i},ge.createElement("span",{className:Bi,ref:o},s.head,s.head.length&&s.tail.length?" ":null),s.tail.length?s.tail:null)},Ni=je.a.style({display:"flex",flexDirection:"row",whiteSpace:"nowrap",maxWidth:"100%",minWidth:0}),Bi=je.a.style({display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",flexShrink:10});const Li=Object(ye.d)(({dynamic:e=!1,maxTailWordsCount:t=0,children:n})=>e?ge.createElement(Pi,{maxTailWordsCount:t},n):ge.createElement(Mi,{maxTailWordsCount:t},n)),Fi=({active:e,className:t,prefix:n,style:r,children:i})=>ge.createElement("h1",{className:je.a.joinClasses([Hi(void 0!==n,r),t])},e?ge.createElement("svg",{viewBox:"0 0 16 16",fill:"none",className:Di,"aria-hidden":"true"},ge.createElement("rect",{width:"16",height:"16",rx:"5",fill:"#018374"}),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",fill:"white"})):ge.createElement("svg",{viewBox:"0 0 16 16",fill:"none",className:Di,"aria-hidden":"true"},ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",fill:"#646B81"})),n&&ge.createElement("span",{className:Ri},n),ge.createElement(Li,{dynamic:!0,maxTailWordsCount:3},i)),Ri=je.a.style({fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),color:Ae.a.BrandGreen60}),Di=je.a.style({width:je.a.rem(1),height:je.a.rem(1)}),Hi=(e,t)=>je.a.style(Object.assign({display:"grid",gridTemplateColumns:`${je.a.rem(1)} ${e?"min-content ":""}auto`,justifyItems:"start",alignItems:"center",gap:je.a.rem(Ce.f.Space2),color:Ce.e.Color.Text.Base.Subdued,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"normal",margin:0,height:je.a.rem(1.5)},t)),Vi=A.b.Grid.make(({slots:e,state:t,view:n,notify:r})=>{const i=ge.useContext(ur.a).view("flatUI"),{notifyUnmount:a}=ge.useContext(Xr),o=ge.useRef(null),{onMount:l}=Object(cr.a)(Object(s.flow)(p.a.withLatestFrom(n("groupId")),p.a.tap(([e,t])=>{t===ee.a.knownGroup.tools&&(o.current=t,r({kind:z.a.Kind.mount,name:Z.a.appActionsList,element:e})())}),p.a.finalize(()=>{o.current===ee.a.knownGroup.tools&&a({kind:z.a.Kind.unmount,name:Z.a.appActionsList})})));return ge.createElement(Oe.a.Fragment,null,p.a.combineLatestStatic([t,i]).pipe(p.a.map(([{label:t,view:n},r])=>n===ee.a.Store.View.normal?ge.createElement(ji,{header:e.header,style:r?void 0:Ki,key:t,onMount:l},e.actions):n===ee.a.Store.View.pinned?ge.createElement(ji,{style:r?Qi:Xi,key:t,onMount:l},e.actions):Object(c.d)(n))))}),Ui=A.b.Node.make(({view:e})=>ge.createElement(ki,null,e("label"))),Wi=A.b.Node.make(({view:e,notify:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:n.view($i)},ge.createElement(Fi,{active:!0},e("label")),ge.createElement(_e.a,{variant:"tertiary",onClick:t({kind:z.a.Kind.removeSelectionContextClick}),compact:!0,size:"small",name:"removeContext",title:"Delete"},ge.createElement(Ei,{className:Yi})))}),zi=A.b.Union.make("kind",{default:Ui,withSelectionContext:Wi}),Gi=A.b.Knot.make(Vi,{actions:Ii,header:zi}),qi=A.b.List.make(q.h,Gi),Ki={background:"transparent",padding:je.a.rem(Ce.f.Space2)+" 0"},$i=e=>je.a.style({display:"flex",alignItems:"center",alignContent:"center",justifyContent:"space-between",gap:je.a.rem(Ce.f.Space2),marginBottom:e?je.a.rem(Ce.f.Space2):void 0}),Zi="ignoreIcon",Yi=je.a.joinClasses([Zi,je.a.style(Object(xe.a)(Object(xe.c)(1.5),Zi))]),Xi=Object.assign(Object.assign({},Ki),{padding:je.a.rem(Ce.f.Space2)+" 0",marginTop:je.a.rem(-Ce.f.Space2),borderTop:"1px solid "+Ce.a.NeutralGray0}),Qi={paddingTop:je.a.rem(Ce.f.Space2),borderTop:"1px solid "+Ce.a.NeutralGray0},Ji=A.b.Grid.make(({slots:e})=>ge.createElement(Oe.a.div,{className:ta,"data-name":"action-store"},e.content)),ea=A.b.Union.asOption(A.b.Composite.make(Ji,Object(s.pipe)(qi,A.b.patch("header")(()=>Ui)))),ta=je.a.style({padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`,display:"flex",flexDirection:"column"}),na=A.b.List.make(q.h,Ye),ra=A.b.Grid.make(({slots:e})=>ge.createElement("div",{className:aa},e.customPromptGo,ge.createElement("div",{className:oa},e.searchResults))),ia=A.b.Knot.make(ra,{searchResults:na,customPromptGo:Ye}),aa=je.a.style({background:"transparent",padding:je.a.rem(Ce.f.Space3),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:je.a.rem(Ce.f.Space2)}),oa=je.a.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:je.a.rem(Ce.f.Space2)}),sa=A.b.Grid.make(({slots:e,view:t,notify:n})=>ge.createElement(Oe.a.div,{className:ua,"data-name":"search-results"},e.goAction,ge.createElement(Oe.a.div,{className:pa},t("actions").pipe(p.a.map(e=>e.map(({label:e,icon:t,action:r},i)=>ge.createElement(ge.Fragment,{key:e},0!==i&&ge.createElement(Oi,null),ge.createElement(Qe,{key:e,label:e,icon:"regularAction"===r.kind?ee.a.extractActionIcon(r.action):ve.right(t),onClick:n({kind:z.a.Kind.actionBrickClick,action:r})})))))))),ca=A.b.Union.asOption(A.b.Composite.make(A.b.Grid.make(({slots:e})=>ge.createElement("div",{className:da},e.action)),Ye)),la=A.b.Knot.make(sa,{goAction:ca}),ua=je.a.style({background:"transparent",display:"flex",flexDirection:"column",alignItems:"flex-start"}),da=je.a.style({padding:`${je.a.rem(9*Ce.f.SpaceQuarter)} ${je.a.rem(Ce.f.Space3)} 0 ${je.a.rem(Ce.f.Space3)}`}),pa=je.a.style({display:"flex",flexDirection:"column",width:"100%",marginTop:je.a.rem(7*Ce.f.SpaceQuarter)}),ma=A.b.Union.make("kind",{none:A.b.Node.empty,searchResults:la,actionStore:_i,legacySearchResults:ia,legacyActionStore:ea}),fa=A.b.Knot.make(A.b.Grid.make(({slots:e,notify:t})=>ge.createElement(Oe.a.div,{className:ga},ge.createElement(_e.a,{variant:"tertiary",compact:!0,style:ba,onClick:t({kind:z.a.Kind.collapsePromptMenuButtonClick}),name:"collapsePromptMenu",size:"small"},ge.createElement(we.d.Arrow,{direction:we.a.down})),ge.createElement("div",{ref:e=>e&&t({kind:z.a.Kind.mount,name:Z.a.promptMenuContent,element:e})(),onKeyDown:e=>{"ArrowDown"===e.key?t({kind:z.a.Kind.promptMenuKeyPressArrowDown})():"ArrowUp"===e.key&&t({kind:z.a.Kind.promptMenuKeyPressArrowUp})()}},e.content))),{content:ma}),ha=A.b.Union.asOption(fa),ga=je.a.style({overflowY:"scroll",borderBottom:"0.5px solid "+Ce.e.Color.Border.Base.Subdued}),ba={default:{position:"absolute",top:je.a.rem(Ce.f.Space2),right:je.a.rem(Ce.f.Space2),zIndex:1}},va=A.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:r,rect:i}=sr.a.useRectWatcher(),{notifyUnmount:a}=ge.useContext(Xr),{ref:o,onMount:c}=Object(cr.a)(Object(s.flow)(p.a.tap(e=>n({kind:z.a.Kind.mount,name:Z.a.promptInputAndMenuContainer,element:e})()),p.a.finalize(()=>a({kind:z.a.Kind.unmount,name:Z.a.promptInputAndMenuContainer})))),l=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:l.view(Ca),"data-name":"prompt-container"},ge.createElement(Oe.a.div,{mount:c,className:wa,"data-expanded":t("menuExpanded"),onKeyUp:t("menuExpanded").pipe(p.a.map(e=>t=>{"Escape"===t.key&&n({kind:z.a.Kind.promptFieldKeyPressEscape,menuOpened:e})()})),onFocus:()=>{var e;return n({kind:z.a.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=I.toNullable(o.get()))||void 0===e?void 0:e.contains(Object(fe.b)(document)))||!1})()},onBlur:()=>{var e;return n({kind:z.a.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=I.toNullable(o.get()))||void 0===e?void 0:e.contains(Object(fe.b)(document)))||!1})()}},e.promptStudioMenu,ge.createElement("div",{ref:r},e.promptField)),p.a.combineLatestStatic([i,t("menuExpanded")]).pipe(p.a.map(([e,t])=>Object(s.pipe)(e,I.filter(()=>t),I.fold(s.constNull,({height:e})=>ge.createElement("div",{className:Sa,style:{height:e},role:"presentation"}))))))}),ya=A.b.Knot.make(va,{promptField:yi,promptStudioMenu:ha}),Oa=A.b.Union.asOption(ya),_a=Ce.f.Space4,Ca=e=>je.a.style(Object.assign({position:"relative"},e?{margin:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)} ${je.a.rem(_a)} ${je.a.rem(Ce.f.Space4)}`}:{margin:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space2)} 0 ${je.a.rem(Ce.f.Space2)}`})),wa=je.a.style({background:Ce.e.Color.Background.Base.Default,boxShadow:Ce.c.Elevation100.boxShadow,border:Ce.c.Elevation100.border,borderRadius:je.a.rem(Ce.d.Radius1+Ce.d.RadiusHalf),$nest:{"&[data-expanded='true']":{boxShadow:Ce.c.Elevation300.boxShadow,border:Ce.c.Elevation300.border,position:"absolute",bottom:0,width:"100%",display:"grid",gridTemplateRows:"1fr auto",zIndex:10}}}),Sa=je.a.style({opacity:0,pointerEvents:"none",visibility:"hidden"});function ka(e){return"focus"===e.kind}function Ea(e){return"mount"===e.kind}function ja(e){return"headerMount"===e.kind}const xa=A.b.Grid.make(({slots:e,notify:t,view:n})=>{const r=ge.useContext(or.a.Context),i=ge.useContext(ur.a);return ge.createElement(Lr,{key:"assistant-container",onFocus:t({kind:"focus",focused:!0}),onBlur:t({kind:"focus",focused:!1}),heightBehavior:n("heightBehavior"),widthBehavior:n("widthBehavior"),dragBehavior:n("dragBehavior"),menuRef:n("menuRef"),menuVerticalMargin:p.a.combineLatestStatic([r,i]).pipe(p.a.map(([e,t])=>((t.flatUI?0:Vr(t.flatUI))+(t.flatUI?1:0)+(e=>e?_a:$r)(t.flatUI))*e)),scrollContentToBottomToken:n("scrollContentToBottomToken"),canScrollContent:n("canScrollContent"),onMountContainer:e=>{e&&t({kind:"mount",element:e})()},onMountHeader:e=>{e&&t({kind:"headerMount",element:e})()},header:e.header,content:e.content,footer:e.footer,notifications:e.notifications,onboarding:e.onboarding})});var Aa;!function(e){let t,n;!function(e){e.ok="ok",e.satisfied="satisfied",e.dissatisfied="dissatisfied"}(t=e.Mood||(e.Mood={})),function(e){e.resultCard="resultCard",e.quickReplyInitialActions="quickReplyInitialActions",e.intentCard="intentCard"}(n=e.Source||(e.Source={}))}(Aa||(Aa={}));const Ia=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),ge.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),ge.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),ge.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),ge.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),ge.createElement("defs",null,ge.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},ge.createElement("stop",{stopColor:"#FFA027"}),ge.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),ge.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),ge.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),Ta=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),ge.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),ge.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),ge.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),ge.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),ge.createElement("defs",null,ge.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},ge.createElement("stop",{stopColor:"#FFA027"}),ge.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),ge.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),ge.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),Ma=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),ge.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),ge.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),ge.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),ge.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),ge.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),ge.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),ge.createElement("defs",null,ge.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},ge.createElement("stop",{stopColor:"#FFA027"}),ge.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),ge.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),ge.createElement("stop",{offset:"1",stopColor:"#FFE261"})),ge.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},ge.createElement("stop",{stopColor:"#F18D84"}),ge.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),ge.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),ge.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),ge.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),ge.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},ge.createElement("stop",{stopColor:"#F18D84"}),ge.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),ge.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),ge.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),ge.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})))),Pa=(e,t)=>Object(ye.c)(Ba,e===t&&La),Na=je.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:je.a.rem(Ce.f.Space4),paddingRight:je.a.rem(Ce.f.Space4)}),Ba=je.a.style({width:je.a.rem(5),height:je.a.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:je.a.rem(Ce.f.Space2),borderRadius:je.a.rem(Ce.d.Radius3),fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),$nest:{"&:hover":{backgroundColor:Ce.e.Color.Background.Base.Subdued}}}),La=je.a.style({backgroundColor:Ce.a.Blue10,$nest:{"&:hover":{backgroundColor:Ce.a.Blue10}}}),Fa=je.a.style(Object.assign({},Object(xe.c)(1.5))),Ra="submitBtn",Da={padding:je.a.rem(Ce.f.Space4),gap:je.a.rem(Ce.f.Space4)},Ha={color:Ce.e.Color.Text.Base.Default,fontWeight:700,fontSize:je.a.rem(1.25),lineHeight:je.a.rem(1.5),margin:0},Va={border:`${je.a.px(1)} solid ${Ce.a.NeutralGray20}`,borderRadius:je.a.rem(Ce.d.Radius1),padding:`${je.a.rem(Ce.f.Space2+Ce.f.SpaceHalf)} ${je.a.rem(Ce.f.Space2)}`,height:je.a.rem(8)},Ua={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${je.a.rem(Ce.f.SpaceQuarter)} ${je.a.rem(Ce.f.Space2)} 0 0`,minWidth:je.a.rem(1),minHeight:je.a.rem(1)},"& label":{color:Ce.e.Color.Text.Base.Default,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)}}},Wa=Object.assign({width:je.a.percent(100)},Object(xe.a)({fontSize:je.a.rem(.875)},Ra)),za={display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space2)},Ga=Da,qa=je.a.style(Ha),Ka=je.a.style(Va),$a=je.a.style(Ua),Za=(je.a.style({fontWeight:700}),je.a.joinClasses([Ra,je.a.style(Wa)])),Ya=je.a.style(za),Xa=Object(ye.d)(({selectedScore:e,onSelectScore:t})=>ge.createElement("div",{className:Na},ge.createElement("div",Object.assign({},Pa(Aa.Mood.dissatisfied,e),{onClick:()=>t(Aa.Mood.dissatisfied)}),ge.createElement(Ia,{className:Fa}),"I dislike it"),ge.createElement("div",Object.assign({},Pa(Aa.Mood.ok,e),{onClick:()=>t(Aa.Mood.ok)}),ge.createElement(Ta,{className:Fa}),"It′s OK"),ge.createElement("div",Object.assign({},Pa(Aa.Mood.satisfied,e),{onClick:()=>t(Aa.Mood.satisfied)}),ge.createElement(Ma,{className:Fa}),"I like it!"))),Qa=Object(ye.d)(ai),Ja=A.b.Node.make(({state:e,view:t,notify:n})=>{const r="domainCheckbox"+Cr.f.alphanumeric(5);return ge.createElement(pr,{style:Ga},ge.createElement("h1",{className:qa},"How do you like Grammarly?"),ge.createElement(Xa,{selectedScore:t("formData").pipe(p.a.map(e=>e.mood)),onSelectScore:e=>n({kind:z.a.Kind.feedbackFormChange,feedbackData:{mood:e}})()}),ge.createElement(Qa,{ariaLabel:"tell us why",className:Ka,placeholder:["How can we improve?"],fitContentHeight:!1,text:t("formData").pipe(p.a.map(({message:e})=>null!=e?e:"")),onChange:e=>n({kind:z.a.Kind.feedbackFormChange,feedbackData:{message:e}})()}),e.pipe(p.a.map(({formData:e,domain:t,source:i})=>ge.createElement("div",{className:Ya},Object(s.pipe)(t,I.fold(s.constNull,t=>ge.createElement("div",{className:$a},ge.createElement("input",{type:"checkbox",id:r,checked:void 0!==e.domain,onChange:n({kind:z.a.Kind.feedbackFormChange,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),ge.createElement("label",{htmlFor:r},"Include the domain ",ge.createElement("b",null,t)," with my feedback to help improve Grammarly.")))),Object(s.pipe)(I.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:i}):null),I.fold(()=>ge.createElement(_e.a,{disabled:!0,className:Za,onClick:s.constVoid},"Submit"),e=>ge.createElement(_e.a,{disabled:!1,className:Za,onClick:n({kind:z.a.Kind.feedbackFormSubmitButtonClick,feedbackData:e})},"Submit")))))))}),eo=e=>ge.createElement(we.e,{className:e.className,viewBox:"0 0 20 20",width:20,height:20},ge.createElement("path",{d:"M8.58541 3.37143C9.36646 2.59038 10.6328 2.59038 11.4138 3.37143L16.6283 8.5859C17.4094 9.36695 17.4094 10.6333 16.6283 11.4143L11.4138 16.6288C10.6328 17.4098 9.36646 17.4098 8.58541 16.6288L3.37094 11.4143C2.58989 10.6333 2.58989 9.36695 3.37094 8.5859L8.58541 3.37143ZM11.4371 6.25011C11.4371 5.4562 10.7935 4.81261 9.99962 4.81261C9.20571 4.81261 8.56212 5.4562 8.56212 6.25011V10.6251C8.56212 11.3163 9.04996 11.8936 9.70011 12.0314C9.04996 12.1692 8.56212 12.7464 8.56212 13.4376C8.56212 14.2315 9.20571 14.8751 9.99962 14.8751C10.7935 14.8751 11.4371 14.2315 11.4371 13.4376C11.4371 12.7464 10.9493 12.1692 10.2991 12.0314C10.9493 11.8936 11.4371 11.3163 11.4371 10.6251V6.25011Z",fill:"#D31332",stroke:"#D31332"})),to=({options:e,onSubmit:t,onCancel:n})=>{const[r,i]=ge.useState(I.none),[a,o]=ge.useState(!1);return ge.createElement(Oe.a.form,{id:"radioOptionsForm",onSubmit:e=>{Object(s.pipe)(r,I.fold(()=>o(!0),t)),e.preventDefault()},className:je.a.style(no)},ge.createElement("fieldset",{className:so,style:{borderColor:a?Ce.a.Red60:"transparent"}},Object(s.pipe)(e,q.ub(e=>ge.createElement("span",{key:e,className:ro},ge.createElement("input",{type:"radio",id:e,value:e,name:e,checked:Object(s.pipe)(r,I.filter(t=>t===e),I.isSome),onChange:()=>{o(!1),i(I.some(e))},style:{margin:`0 ${je.a.rem(.5)} 0 0`}}),ge.createElement("label",{htmlFor:e},e))))),a&&ge.createElement("div",{className:oo},ge.createElement(eo,{className:ao})," Make a selection"),ge.createElement("div",{className:io},ge.createElement(_e.a,{type:"submit",form:"radioOptionsForm",name:"submitSelectedRadioOption",style:{default:no}},"Submit"),"  ",ge.createElement(_e.a,{variant:"tertiary",onClick:n,name:"cancelRadioOptionSelection",style:{default:no}},"Cancel")))},no={fontSize:je.a.rem(.875)},ro=je.a.style({display:"inline-flex",alignItems:"center"}),io=je.a.style({paddingTop:je.a.rem(.5)}),ao=je.a.style({minWidth:"unset",minHeight:"unset"}),oo=je.a.style({color:Ce.a.Red60,lineHeight:je.a.rem(1.5)}),so=je.a.style({marginLeft:`calc(-1 * ${je.a.rem(.25)})`,padding:je.a.rem(.25),display:"flex",flexDirection:"column",gap:je.a.rem(.5),width:"fit-content",border:"1px solid transparent",borderRadius:je.a.rem(.25),margin:0}),co=A.b.Node.make(({view:e,notify:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:n.view(uo),"data-name":"follow-up-prompt"},ge.createElement(Oe.a.div,{className:n.view(po)},ge.createElement(Oe.a.img,{src:e("iconUrl"),style:{width:16,height:16}}),ge.createElement(Oe.a.span,Object.assign({},Object(fe.e)(e("header"))))),ge.createElement(Oe.a.div,null,e("hintsHeader")),e("hintsItems").pipe(p.a.map(Object(s.flow)(q.ub(e=>ge.createElement("li",{key:e},e)),J.F,I.fold(s.constNull,e=>ge.createElement("ul",{key:"action-followup-radio-list",className:mo},e))))),e("radioOptions").pipe(p.a.map(I.fold(s.constNull,e=>ge.createElement(to,{key:"radioOptions",options:e,onSubmit:e=>t({kind:z.a.Kind.radioOptionsSubmitButtonClick,selectedOption:e})(),onCancel:t({kind:z.a.Kind.radioOptionsCancelButtonClick})})))))}),lo=A.b.Union.asOption(co),uo=e=>Object.assign({fontWeight:400,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125)},e?{padding:`${je.a.rem(Ce.f.Space3)} ${je.a.rem(Ce.f.Space4)} ${je.a.rem(1.5)} ${je.a.rem(Ce.f.Space4)}`,borderBottom:"0.5px solid "+Ae.a.BorderBaseSubduedColor}:{}),po=e=>je.a.style(Object.assign({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2),color:Ce.e.Color.Text.Base.Subdued},e?{fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),padding:je.a.rem(Ce.f.Space2)+" 0"}:{fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)})),mo=je.a.style({padding:"0 0 0 "+je.a.rem(Ce.f.Space6+Ce.f.SpaceHalf),margin:0});var fo=n("5lyU");const ho=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"m7 7 1 1.333L9 7H7Z",fill:"#646B81",stroke:"#646B81",strokeWidth:2}));ho.__brand="color";var go=n("zOHC"),bo=n("d8oL");const vo={border:"1px solid "+Ce.e.Color.Background.Neutral.Default,borderRadius:je.a.rem(Ce.d.Radius1),width:je.a.rem(15),height:je.a.rem(2),boxSizing:"border-box",position:"relative"},yo={padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",gap:je.a.rem(Ce.f.Space1)},Oo={fontWeight:400,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),color:Ce.e.Color.Text.Base.Default},_o={padding:je.a.rem(Ce.f.Space1),background:"white",boxShadow:Ce.c.Elevation100.boxShadow,border:Ce.c.Elevation100.border,borderRadius:je.a.rem(Ce.d.Radius1),width:je.a.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:je.a.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},Co={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),color:Ce.e.Color.Text.Base.Default,padding:`${je.a.rem(.1875)} ${je.a.rem(Ce.f.Space3)}`,borderRadius:je.a.rem(Ce.d.Radius1),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:Ce.a.Blue0}}},wo=je.a.style(vo),So=je.a.style(yo),ko=je.a.style(Oo),Eo=je.a.style(_o),jo=je.a.style(Co),xo=new go.a(999999);function Ao({label:e,selection:t,className:n,menuClassName:r,placeholder:i,options:a,optionsGroupLabel:o,onSelectionChange:s,renderOption:c}){const[l,u]=ge.useState(!1),d=ge.useRef(xo.newId().toString()),m=ge.useRef(xo.newId().toString()),f=ge.useRef(null),[h,g]=ge.useState(null),[b,v]=ge.useState(null),{styles:y,attributes:O}=Object(fo.a)(h,b,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),_=ge.useMemo(()=>new H.a,[]),C=ge.useMemo(()=>_.pipe(p.a.debounceTime(100),p.a.filter(e=>!e),p.a.tap(()=>{u(!1)})),[_,u]);return sr.a.useSubscriptionTo(C),ge.createElement("div",Object.assign({},Object(ye.c)(wo,n),{ref:g}),ge.createElement("button",{ref:f,className:So,onClick:()=>{var e;u(!0),_.next(!0),null===(e=f.current)||void 0===e||e.focus()},onFocus:()=>{u(!0),_.next(!0)},onBlur:()=>_.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":d.current,"aria-expanded":l,"aria-labelledby":m.current},ge.createElement("div",{id:m.current,className:ko},t?c?c(t):e(t):i),ge.createElement(ho,null)),l&&ge.createElement("div",Object.assign({ref:v,style:y.popper},O.popper,{className:je.a.joinClasses([Eo,r]),onFocus:()=>_.next(!0),onBlur:()=>_.next(!1)}),ge.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:d.current},o?ge.createElement("header",{className:Io,role:"presentation"},o):null,a.map((t,n)=>{const r=e(t);return ge.createElement("li",{key:n,"aria-label":r,role:"option"},ge.createElement("button",{className:jo,onClick:Object(bo.a)(()=>{s(t),u(!1)})},c?c(t):e(t)))}))))}const Io=je.a.style({padding:je.a.rem(Ce.f.Space2),paddingRight:je.a.rem(Ce.f.Space4),fontSize:je.a.rem(.75),lineHeight:"1.5em",color:Ce.e.Color.Text.Base.Subdued});var To=n("ZxCt"),Mo=n("DKll"),Po=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const No=ge.forwardRef((function(e,t){var{defaultHeight:n,initialVisible:r=!1,resetHeightToDefault:i=p.a.EMPTY,visibleOffset:a=500,children:o}=e,s=Po(e,["defaultHeight","initialVisible","resetHeightToDefault","visibleOffset","children"]);const[c,l]=ge.useState(r),[u,d]=ge.useState(n),m=ge.useRef(null),{registerIntersectionObserver:f}=ge.useContext(gr);return ge.useEffect(()=>{const e=i.subscribe(()=>d(n));return()=>e.unsubscribe()},[n]),ge.useEffect(()=>{const e=m.current;if(e){const t=f(`${a}px 0px ${a}px 0px`,e,t=>{t.isIntersecting||d(e.offsetHeight),l(t.isIntersecting)});return()=>t.dispose()}return()=>{}},[m]),ge.createElement("div",Object.assign({},s,{ref:fr([m,t])}),c?o:ge.createElement("div",{style:{height:u}}))}));var Bo=n("vb6D");const Lo=e=>{const t=ge.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:je.a.style(Fo(Ro,Ho(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:je.a.style(Fo(Do,Ho(t))),direction:"out"};default:Object(c.c)(e)}}(e.type,e.timeCurve),[r,i]=ge.useState("in"===n.direction?n.className:void 0);return ge.useEffect(()=>()=>{var e,r,i;t.current&&(e=t.current,!(null!==(i=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument.defaultView)&&void 0!==i?i:window).matchMedia("(prefers-reduced-motion: reduce)").matches)&&function(e,t){Object(s.pipe)(Object(s.tuple)(Object(s.pipe)(t,l.g.fromPredicate(e=>"out"===e.direction)),function e(t,n=[]){return Object(s.pipe)(t.parentElement,l.g.fromNullable,l.g.chain(t=>e(t,[...n,t])),l.g.alt(()=>J.E(n)))}(e)),Object(s.tupled)(Q.b(l.g.option)),l.g.tap(([t,n])=>{var r,i;const a=null!==(i=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument)&&void 0!==i?i:document,o=e.getBoundingClientRect(),c=e.cloneNode(!0);c.classList.add(t.className),c.style.position="absolute",c.style.top=o.top+"px",c.style.left=o.left+"px",c.style.width=o.width+"px",c.style.height=o.height+"px",requestAnimationFrame(()=>{Object(s.pipe)(n.find(e=>a.contains(e)),l.g.fromNullable,l.g.tap(e=>{c.addEventListener("animationend",()=>{a.contains(c)&&c.remove()}),e.appendChild(c)}))})}))}(t.current,n)},[n]),ge.createElement("div",{"data-name":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:r,onAnimationEnd:()=>i(void 0)},e.children)};const Fo=(e,t)=>({$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:`${e} ${je.a.seconds(.3)} ${t}`}}}),Ro=je.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),Do=je.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function Ho(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}var Vo=n("UlUd");const Uo={default:{$nest:{"& span":{verticalAlign:"initial"}}}},Wo={[Ut.a.HorizontalAlign.Left]:{default:{textAlign:"left"}},[Ut.a.HorizontalAlign.Center]:{default:{textAlign:"center"}},[Ut.a.HorizontalAlign.Right]:{default:{textAlign:"end"}}};function zo(e){return void 0!==e?Wo[e]:Wo[Ut.a.HorizontalAlign.Left]}function Go(e){return Object.assign({name:e.name,onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==Ut.a.ButtonState.Disabled?Object(Vo.b)(e.tooltip):void 0},function(e){switch(e){case Ut.a.ButtonState.Enabled:return{disabled:!1};case Ut.a.ButtonState.Disabled:return{disabled:!0};case Ut.a.ButtonState.Selected:return{disabled:!1,active:!0};case Ut.a.ButtonState.Deselected:return{disabled:!1,active:!1};case Ut.a.ButtonState.Hidden:return{hidden:!0};default:return Object(c.d)(e)}}(e.state))}var qo=n("lme1"),Ko=n("6K6r"),$o=n("0zLI"),Zo=n("zCOz"),Yo=n("CRXm");function Xo({item:e,state:t,className:n,name:r}){const i=ge.useMemo(()=>r?r+"-item":"menu-item",[r]),a=ge.useRef(null),{menuItemProps:o,isDisabled:s,isSelected:c}=Object(qo.b)({key:e.key},t,a);return sr.a.useEffectOnDidMount(()=>{if(null!=a.current)try{const e=a.current.focus.bind(a.current);a.current.focus=t=>{var n;(null===(n=a.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}}),ge.createElement("li",Object.assign({"data-name":i},o,{ref:a,className:je.a.joinClasses([Jo(s,c),n])}),ge.createElement("span",{className:Qo},e.rendered))}const Qo=je.a.style({display:"flex",alignItems:"center",fontFamily:"Inter",fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),fontWeight:400,color:Ae.a.TextBaseDefault}),Jo=(e,t)=>je.a.style(Object.assign(Object.assign({display:"flex",alignItems:"center",minHeight:je.a.rem(2),padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space6)} ${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`,borderRadius:je.a.rem(Ce.d.Radius1),opacity:e?.4:void 0,cursor:"pointer"},t&&!e?{background:Ae.a.MenuBackgroundSelected,boxShadow:"inset  0 0 0 1px "+Ae.a.MenuBorderDefault}:{}),{$nest:{"&:hover":e?{}:{background:Ae.a.MenuBackgroundHover,boxShadow:"inset  0 0 0 1px "+Ae.a.MenuBorderDefault,$nest:{"& i":{stroke:Ae.a.MenuIconHover,fill:Ae.a.MenuIconHover}}},"&:focus, &:focus-visible":e?{}:{boxShadow:`0 0 0 1px ${Ce.e.Color.Background.Base.Default}, 0 0 0 3px ${Ae.a.BorderBrandDefault}`,outline:"none",background:Ae.a.MenuBackgroundSelected,$nest:{"& i":{stroke:Ae.a.MenuIconSelected,fill:Ae.a.MenuIconSelected}}},"& i":{marginLeft:je.a.rem(-Ce.f.Space1),marginRight:je.a.rem(Ce.f.Space2),minWidth:je.a.rem(1.5),minHeight:je.a.rem(1.5)},"& span":{fontWeight:t?700:void 0}}}));var es=n("rUtO");function ts({name:e,section:t,state:n,onAction:r,theme:i={}}){const a=ge.useMemo(()=>e?e+"-section":"dropdown-menu-section",[e]),{itemProps:o,headingProps:s,groupProps:c}=Object(qo.c)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:l}=Object(es.a)({elementType:"li"});return ge.createElement(ge.Fragment,null,t.key!==n.collection.getFirstKey()&&ge.createElement("li",Object.assign({},l,{className:is})),ge.createElement("li",Object.assign({"data-name":a},o,{className:je.a.joinClasses([ns,i.section])}),Boolean(t.rendered)&&ge.createElement("h5",Object.assign({},s,{className:rs}),t.rendered),ge.createElement("ul",Object.assign({},c,{className:as}),Array.from(t.childNodes).map(t=>ge.createElement(Xo,{key:t.key,item:t,state:n,onAction:r,className:i.item,name:e})))))}const ns=je.a.style({padding:0}),rs=je.a.style({margin:0,fontSize:je.a.rem(.75),fontWeight:400,lineHeight:je.a.rem(1.125),color:Ce.e.Color.Text.Base.Subdued,padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space6)} ${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space3)}`}),is=je.a.style({borderTop:"1px solid "+Ce.e.Color.Border.Base.Subdued,margin:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(-Ce.f.Space4)}`}),as=je.a.style({listStyle:"none",margin:0,padding:0,outline:je.a.important("none")});var os=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ss(e){var{name:t,className:n,theme:r={},onMouseOver:i,onMouseLeave:a}=e,o=os(e,["name","className","theme","onMouseOver","onMouseLeave"]);const s=ge.useMemo(()=>t?t+"-list":"menu-list",[t]),c=Object(Yo.a)(o),l=ge.useRef(null),{menuProps:u}=Object(qo.a)(o,c,l),d=Object(Zo.l)(u,{onMouseOver:i,onMouseLeave:a});return ge.createElement("ul",Object.assign({"data-name":s},d,{ref:l,className:je.a.joinClasses([cs,r.list,n])}),Array.from(c.collection).map(e=>"section"===e.type?ge.createElement(ts,{key:e.key,section:e,state:c,theme:r}):ge.createElement(Xo,{key:e.key,name:t,item:e,state:c,className:r.item})))}const cs=je.a.style({listStyle:"none",margin:0,outline:je.a.important("none"),padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`});var ls=n("m7tF"),us=n("6lUw"),ds=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var ps=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const ms=e=>{var t,{children:n,className:r,state:i,offset:a=4,onTransitionEnd:o,portalContainer:s}=e,c=ps(e,["children","className","state","offset","onTransitionEnd","portalContainer"]);const l=ge.useRef(null),{popoverProps:u}=function(e,t){const{triggerRef:n,popoverRef:r,isNonModal:i,isKeyboardDismissDisabled:a}=e,o=ds(e,["triggerRef","popoverRef","isNonModal","isKeyboardDismissDisabled"]),{overlayProps:s,underlayProps:c}=Object(us.a)({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!1!==i,isKeyboardDismissDisabled:a,shouldCloseOnInteractOutside:(e,t)=>{const n=null==t?void 0:t.composedPath();return!n||!n.some(e=>{var t;return e instanceof Node&&(null===(t=r.current)||void 0===t?void 0:t.contains(e))})}},r),{overlayProps:l,arrowProps:u,placement:d}=Object(ls.d)(Object.assign(Object.assign({},o),{targetRef:n,overlayRef:r,isOpen:t.isOpen,onClose:void 0}));return Object(ls.g)({isDisabled:i}),Object(Zo.x)(()=>t.isOpen&&!i&&r.current?Object(ls.c)([r.current]):()=>{},[i,t.isOpen,r]),{popoverProps:Object(Zo.l)(s,l),arrowProps:u,underlayProps:c,placement:d}}(Object.assign(Object.assign({},c),{isNonModal:!0,offset:a,popoverRef:l}),i);return ge.createElement(ls.b,{portalContainer:s},ge.createElement("div",Object.assign({},u,{style:Object.assign(Object.assign({},u.style),{minWidth:null===(t=c.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:l,className:je.a.joinClasses([hs,r]),onTransitionEnd:e=>{if(e.target===l.current)return null==o?void 0:o()}}),ge.createElement(ls.a,{onDismiss:i.close}),ge.createElement("div",{className:fs},n),ge.createElement(ls.a,{onDismiss:i.close})))},fs=je.a.style({width:je.a.percent(100)}),hs=je.a.style({display:"flex",flexDirection:"column",alignItems:"flex-start",background:Ce.e.Color.Background.Base.Default,boxShadow:Ce.c.Elevation100.boxShadow,border:Ce.c.Elevation100.border,borderRadius:je.a.rem(Ce.d.Radius1)});var gs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bs(e){var{placement:t="bottom start",theme:n={},name:r,portalContainer:i,title:a}=e,o=gs(e,["placement","theme","name","portalContainer","title"]);const s=ge.useMemo(()=>r?r+"-trigger":"menu-trigger",[r]),c=ge.useRef(null),l=Object(Ko.a)(o),u=Object(qo.d)(Object.assign(Object.assign({},o),{type:"menu"}),l,c),d=u.menuTriggerProps,{onPress:p,onPressStart:m}=d,f=gs(d,["onPress","onPressStart"]),{menuProps:h}=u;return ge.createElement(ge.Fragment,null,ge.createElement(_e.a,Object.assign({},f,{variant:"tertiary",name:s,onClick:()=>l.open(),mount:e=>c.current=e,active:l.isOpen,"aria-label":o["aria-label"],title:null!=a?a:o["aria-label"],className:n.button,style:n.buttonStyle}),o.label),ge.createElement($o.a,{in:l.isOpen},(e,a)=>ge.createElement(ms,{state:l,triggerRef:c,placement:t,portalContainer:i,className:e,onTransitionEnd:a},ge.createElement(ss,Object.assign({},o,h,{name:r,theme:n,onAction:e=>{var t;return null===(t=o.onAction)||void 0===t?void 0:t.call(o,e)}})))))}var vs=n("tREI");const ys=e=>{const t=t=>"known"===t.source.kind?ge.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):ge.createElement(e.designSystem.image,Object.assign({key:t.source.name,backgroundColor:t.backgroundColor},t.source));return ge.createElement(Nr.a.Consumer,null,({portalContainer:n})=>ge.createElement(Oe.a.Fragment,null,n.view(l.g.fold(s.constNull,n=>ge.createElement(bs,{label:t(e.icon),portalContainer:n,placement:"bottom right",theme:{button:Os,item:_s},"aria-label":e.menu.meta.label,onAction:t=>Object(s.pipe)(e.menu.sections,q.w(e=>e.items),q.S(e=>e.id===String(t)),l.g.tap(t=>e.onClick(t.onClickActions,t.id)())),title:e.menu.meta.label},e.menu.sections.map((e,n)=>ge.createElement(vs.b,{key:n,title:e.title},e.items.map(e=>ge.createElement(vs.a,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)))))))))},Os=je.a.style({flexShrink:0,alignItems:"center",justifyContent:"center",height:je.a.rem(2),width:je.a.rem(2)}),_s=je.a.style({$nest:{"& i":{height:je.a.rem(2),width:je.a.rem(2)}}});var Cs=n("2N2M");const ws={width:je.a.rem(1.5),height:je.a.rem(1.5),minWidth:je.a.rem(1.5),minHeight:je.a.rem(1.5)},Ss=je.a.style(ws);function ks(){return Object.assign(Object.assign({},Bo.a),{animation:Lo,button:Object.assign(Object.assign({},Object(Vo.a)()),{primary:e=>ge.createElement(_e.a,Object.assign({},Go(e),{variant:"primary",style:[e.verticalAlign===Ut.a.VerticalAlign.Middle?Uo:void 0,zo(e.horizontalAlign)]}),e.text),secondary:e=>ge.createElement(_e.a,Object.assign({},Go(e),{variant:"tertiary",style:[e.verticalAlign===Ut.a.VerticalAlign.Middle?Uo:void 0,zo(e.horizontalAlign)]}),e.text),toggle:e=>{const t=(e,t=1)=>`inset 0 0 0 ${t}px ${e}`,n=(e,n=1)=>`${t(e,n)}, 0 0 0 2px ${Ce.e.Color.Text.Base.Inverse}, 0 0 0 4px ${Ae.a.BorderBrandDefault}`;return ge.createElement(_e.a,Object.assign({},Go(e),{variant:"secondary",size:"small",style:[e.verticalAlign===Ut.a.VerticalAlign.Middle?Uo:void 0,zo(e.horizontalAlign),{default:{boxShadow:t(Ce.e.Color.Border.Base.Subdued),$nest:Object.assign(Object.assign({},Object(Xe.b)(n(Ce.e.Color.Border.Base.Subdued))),{"& > div > span, & > div, & > *":{color:je.a.important(Ce.e.Color.Text.Base.Default)}})},hovered:{backgroundColor:Ae.a.ButtonBackgroundSecondaryHover,boxShadow:t(Ae.a.BorderBrandDefault),$nest:Object.assign(Object.assign({},Object(Xe.b)(n(Ae.a.BorderBrandDefault))),{"& > div > span, & > div, & > *":{color:je.a.important(Ae.a.ButtonTextSecondaryHover)}})},active:{backgroundColor:Ae.a.ButtonBackgroundSecondaryActive,boxShadow:t(Ae.a.BorderBrandDefault),$nest:Object.assign(Object.assign({},Object(Xe.b)(n(Ae.a.BorderBrandDefault))),{"& > div > span, & > div, & > *":{color:je.a.important(Ae.a.ButtonTextSecondaryActive)}})},selected:{backgroundColor:"transparent",boxShadow:t(Ae.a.BorderBrandDefault,1.5),$nest:Object.assign(Object.assign({},Object(Xe.b)(n(Ae.a.BorderBrandDefault,1.5))),{"& > div > span, & > div, & > *":{color:je.a.important(Ae.a.ColorBrandDefault),fontWeight:je.a.important("bold")}})}}]}),e.text)}}),icon:Object.assign(Object.assign({},Cs.a),{[Ut.a.IconKnownName.More]:e=>ge.createElement(we.d.EllipsisSmall,{className:Ss})}),text:e=>Bo.a.text(function(e){var t,n;if(e.format.includes(Ut.a.TextFormat.Bold)&&(null===(t=e.meta.label)||void 0===t?void 0:t.startsWith("insert"))&&e.textColor.startsWith("CoreBlue"))return Object.assign(Object.assign({},e),{textColor:Ut.a.Color.CoreNeutral90,outlineColor:e.format.includes(Ut.a.TextFormat.Outline)?Ut.a.Color.CoreNeutral90:e.outlineColor});if(e.format.includes(Ut.a.TextFormat.Bold)&&(null===(n=e.meta.label)||void 0===n?void 0:n.startsWith("delete")))return Object.assign(Object.assign({},e),{textColor:Ut.a.Color.CoreNeutral50,outlineColor:e.format.includes(Ut.a.TextFormat.Outline)?Ut.a.Color.CoreNeutral50:e.outlineColor});return e}(e)),dropDownMenuButton:ys,nativeExperimentalGBConsistencyUpsellFooter:Bo.a.nativeExperimentalGBConsistencyUpsellFooter})}const Es=te.l({item:Pt.a.Item.eq,isFocused:te.e,isFirst:te.e,prevFocusedItemPosition:I.getEq(To.a)}),js=A.b.Node.make(({state:e,notify:t})=>{const{scrolling:n}=ge.useContext(gr);return ge.createElement(Oe.a.Fragment,null,e.pipe(p.a.map(({item:e,isFocused:r,isFirst:i})=>ge.createElement(ge.Fragment,null,i?null:ge.createElement(Us,null),ge.createElement("div",{className:Object(j.c)(Is,As)(r)},ge.createElement(Mo.a,{key:`${e.id}-${r?"expanded":"collapsed"}`,sduiRootId:e.id,content:e.content,designSystem:ks(),notify:(r,i,a)=>{const o=n.get()?i.filter(e=>"hoverStateChanged"!==e.type):i;o.length>0&&t({kind:"sduiNotify",sourceId:r,actions:o,scope:a,item:e})()},transitions:[],prevContent:I.none,onAnimationEnd:s.constVoid,onMount:()=>{r&&t({kind:"focusedItemMount",item:e})()},longFormCardState:{viewKind:r?"focused":"collapsed"}}))))))}),xs=e=>({padding:je.a.rem(Ce.f.Space1)+" 0",borderRadius:"inherit",$nest:{"&:hover":{backgroundColor:e?void 0:Ce.e.Color.Background.Base.Subdued}}}),As=je.a.style(xs(!1)),Is=je.a.style(xs(!0)),Ts=je.a.keyframes({from:{transform:"scaleY(1)",opacity:1},to:{transform:"scaleY(0.75)",opacity:0}}),Ms={animation:je.a.keyframes({from:{transform:"scaleY(0.75)",opacity:0},to:{transform:"scaleY(1)",opacity:1}})+" 200ms ease-in-out"},Ps={animation:Ts+" 200ms ease-in-out",position:"absolute",width:"100%"},Ns=je.a.style(Object.assign(Object.assign({},Ms),{transformOrigin:"bottom"})),Bs=je.a.style(Object.assign(Object.assign({},Ms),{transformOrigin:"top"})),Ls=je.a.style(Object.assign(Object.assign({},Ps),{transformOrigin:"bottom"})),Fs=je.a.style(Object.assign(Object.assign({},Ps),{transformOrigin:"top"})),Rs=A.b.Transition.make({collapseForward:Ls,collapseBackward:Fs},{expandForward:Ns,expandBackward:Bs}),Ds=je.a.style({position:"relative"}),Hs=te.l({isFocused:te.e,itemId:te.i}),Vs=A.b.Knot.make(A.b.Grid.make(({slots:e,view:t})=>{const n=ge.useContext(or.a.Context),{ref:r,onMount:i}=sr.a.useElWatcher(),a=ge.useMemo(()=>t("isFocused").pipe(p.a.pairwise(),p.a.filter(([e,t])=>e&&!t),p.a.mapTo(null)),[]),{scrollableContainer:o}=ge.useContext(gr),s=ge.useMemo(()=>t("isFocused").pipe(p.a.startWith(!1),p.a.pairwise(),p.a.filter(([e,t])=>!e&&t),p.a.switchMap(()=>r.pipe(p.b.compact,p.a.take(1))),p.a.withLatestFrom(o.pipe(p.b.compact)),p.a.delay(200),p.a.tap(([e,t])=>{e.offsetTop<t.scrollTop?t.scroll({top:e.offsetTop,left:0,behavior:"smooth"}):e.offsetTop+e.offsetHeight>t.scrollTop+t.offsetHeight?t.scroll({top:e.offsetTop-t.offsetHeight/2,left:0,behavior:"smooth"}):e.scrollIntoView({behavior:"smooth",block:"nearest"})})),[r]);return sr.a.useSubscriptionTo(s),ge.createElement(Oe.a.Fragment,null,p.a.combineLatestStatic([n,t("itemId")]).pipe(p.a.map(([t,n])=>ge.createElement(No,{visibleOffset:500,defaultHeight:4*t,resetHeightToDefault:a,"data-name":n,className:Ds,ref:i},e.content))))}),{content:A.b.Animated.make(Rs,js)}),Us=()=>ge.createElement("div",{role:"separator",className:Ws}),Ws=je.a.style({margin:"0 "+je.a.rem(Ce.f.Space4),borderBottom:"1px solid "+Ce.e.Color.Border.Base.Subdued}),zs=A.b.List.make(q.h,Vs),Gs=()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#EmptyH_a)"},ge.createElement("path",{fill:"#FCE5E5",strokeMiterlimit:"10",d:"M62.4 11.2H23.24C22.16 28.28 3.64 40.4 7.8 62.4h39.16C43.6 35.2 61.32 28.28 62.4 11.2Z"}),ge.createElement("path",{fill:"#FCE5E5",strokeMiterlimit:"10",d:"M59.2 8H20.04C18.96 25.08.44 37.2 4.6 59.2h39.16C40.8 32.8 58.13 25.08 59.2 8Z"}),ge.createElement("path",{fill:"#FEFAE9",strokeMiterlimit:"10",d:"M56 4.8H17.4C16.35 21.88-1.91 34 2.2 56H40C36.67 34 54.93 21.88 56 4.8Z"}),ge.createElement("path",{d:"M24 13.6h20M20 22.4h20M14.4 32h20M9.6 42.8H24"}),ge.createElement("path",{fill:"#F8E485",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l16.3 28.24-7.43 4.3L.55 10.11Z"}),ge.createElement("path",{fill:"#79A8F2",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l3.21 5.58-7.43 4.29-3.21-5.57Z"}),ge.createElement("path",{fill:"#F8C6DA",strokeMiterlimit:"10",d:"M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l.64 1.12-7.43 4.29-.64-1.11Z"}),ge.createElement("path",{fill:"#FEFAE9",strokeMiterlimit:"10",d:"m16.85 38.35 7.43-4.29-.07 8.47-7.36-4.18Z"}),ge.createElement("path",{fill:"#0E101A",strokeMiterlimit:"10",d:"m20.2 39.88 3.72-2.14.3 4.79-4.01-2.65Z"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyH_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),qs=A.b.Node.make(({view:e,notify:t})=>ge.createElement(pr,{"aria-busy":"true","aria-live":"polite","data-name":"plagiarism-empty",style:e("fitContainer").pipe(p.a.map(e=>e?Zs:$s))},ge.createElement(Oe.a.div,{className:e("fitContainer").pipe(p.a.map(Object(j.c)(Xs,Ys)))},ge.createElement(ki,{style:Ks},"No plariarism detected"),ge.createElement("p",{className:Qs},"We compared your document to billions of web pages and academic papers and found no duplicate text."),ge.createElement(_e.a,{variant:"secondary",style:tc,onClick:t({kind:"seeAllSuggestions"})},"See all suggestions")),ge.createElement(Oe.a.div,{className:e("fitContainer").pipe(p.a.map(Object(j.c)(ec,Js)))},ge.createElement(Gs,null)))),Ks={whiteSpace:"normal"},$s={padding:""+je.a.rem(Ce.f.Space4),display:"flex",flexDirection:"row",justifyContent:"space-between"},Zs={padding:""+je.a.rem(Ce.f.Space4),display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:""+je.a.rem(Ce.f.Space4),height:"100%",boxSizing:"border-box"},Ys=je.a.style({display:"flex",flexDirection:"column",marginRight:je.a.rem(2),justifyContent:"center"}),Xs=je.a.style({textAlign:"center",padding:`${je.a.rem(Ce.f.Space4)} ${je.a.rem(Ce.f.Space4)} 0 ${je.a.rem(Ce.f.Space4)}`}),Qs=je.a.style({margin:0,color:Ae.a.TextBaseSubduedColor,fontSize:je.a.rem(.875),lineHeight:"1.5em",fontWeight:400}),Js=je.a.style({width:je.a.rem(4),height:je.a.rem(4),minWidth:je.a.rem(4),minHeight:je.a.rem(4)}),ec=je.a.style({width:je.a.rem(6),height:je.a.rem(6),minWidth:je.a.rem(6),minHeight:je.a.rem(6)}),tc={default:{marginTop:je.a.rem(Ce.f.Space2),alignSelf:"flex-start"}},nc=je.a.keyframes({"0%":{transform:"translateX(-300px)"},"85%, 100%":{transform:"translateX(calc(100%))"}}),rc=je.a.style({overflow:"hidden",position:"absolute",top:0,right:0,bottom:0,left:0}),ic=e=>{var t,n,r;const i=je.a.color(null!==(t=e.overlayGradientCenterColor)&&void 0!==t?t:"rgba(0, 0, 0, 1)"),a=je.a.color(null!==(n=e.overlayGradientEndColor)&&void 0!==n?n:"rgba(255, 255, 255, 0)"),o=`rgba(${i.red()}, ${i.green()}, ${i.blue()}, ${i.alpha()})`,s=`rgba(${a.red()}, ${a.green()}, ${a.blue()}, ${a.alpha()})`;return je.a.style({width:"100%",height:"100%",pointerEvents:"none",mixBlendMode:null!==(r=e.overlayBlendMode)&&void 0!==r?r:"overlay",background:"linear-gradient(90deg,"+s+" 0px,"+o+" 120px,"+o+" 180px,"+s+" 300px)",backgroundRepeat:"no-repeat",animationDelay:"300ms",animationDuration:"1.5s",animationName:nc,animationTimingFunction:"linear",animationIterationCount:"infinite"})},ac=e=>ge.createElement("div",{className:rc},ge.createElement("div",{className:ic(e)})),oc=()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#EmptyC_a)"},ge.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"m29.48 18.98-3.27 21.53-22.38-9.64L18.9 14.03a6.1 6.1 0 0 1 10.58 4.95Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M13.54 51.78c7.04 0 12.75-5.68 12.75-12.69 0-7-5.7-12.69-12.75-12.69A12.72 12.72 0 0 0 .8 39.09c0 7 5.7 12.7 12.74 12.7Z"}),ge.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),ge.createElement("path",{stroke:"#0E101A",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),ge.createElement("path",{fill:"#DDEFF5",d:"M20.7 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56L20.7 45.37Z"}),ge.createElement("path",{stroke:"#0E101A",strokeMiterlimit:"10",d:"M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"}),ge.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"m34.52 18.98 3.27 21.53 22.38-9.64L45.1 14.03a6.1 6.1 0 0 0-10.58 4.95Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M50.46 51.78c7.03 0 12.74-5.68 12.74-12.69 0-7-5.7-12.69-12.74-12.69A12.72 12.72 0 0 0 37.7 39.09c0 7 5.7 12.7 12.75 12.7Z"}),ge.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),ge.createElement("path",{stroke:"#0E101A",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),ge.createElement("path",{fill:"#DDEFF5",d:"M57.61 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56l10.26 15.26Z"}),ge.createElement("path",{stroke:"#0E101A",strokeMiterlimit:"10",d:"M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"}),ge.createElement("path",{fill:"#F9C7C7",stroke:"#0E101A",strokeMiterlimit:"10",d:"M36.4 31.35h-8.8l1.25-8.24a3.17 3.17 0 0 1 3.15-2.7 3.2 3.2 0 0 1 3.15 2.7l1.25 8.24Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeMiterlimit:"10",d:"M32 36.18a4.57 4.57 0 1 0 .02-9.13 4.57 4.57 0 0 0-.02 9.13Z"}),ge.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeMiterlimit:"10",d:"M32 33.22a1.6 1.6 0 1 0 0-3.2 1.6 1.6 0 0 0 0 3.2Z"}),ge.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M61.64 2.7c-2.8.62-9.61 2.33-7.74 11.68 2.8.3 11.21-2.34 7.74-11.69Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M56.7 10.64 63.2.4"}),ge.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M6.44 10.94c-1.9 5.36-.2 10.75 12.3 9.39 0-2.26-3.44-10.28-12.3-9.39Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M15.3 17.14 2.9 8.72"}),ge.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"M36.58 61.7c-.65-4.37-3.42-8.63-12.94-9.48.38 4.98 2.53 12.23 12.94 9.48Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"m27.5 55.34 12.16 8.22"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyC_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),sc=A.b.Node.make(()=>ge.createElement(pr,{"aria-busy":"true","aria-live":"polite",style:cc,"data-name":"plagiarism-loading"},ge.createElement("div",{className:gc},ge.createElement("div",{className:bc},ge.createElement(ki,{style:lc},"Checking for plagiarism..."),ge.createElement("p",{className:vc},"We’re comparing your document to billions of web pages and academic papers.")),ge.createElement("div",{className:yc},ge.createElement(oc,null))),ge.createElement("div",{className:uc},ge.createElement("div",{className:dc},ge.createElement(ac,null),ge.createElement("div",{className:pc}),ge.createElement("div",{className:mc}),ge.createElement("div",{className:fc})),ge.createElement("div",{className:hc}),ge.createElement("div",{className:dc},ge.createElement(ac,null),ge.createElement("div",{className:pc}),ge.createElement("div",{className:mc}),ge.createElement("div",{className:fc})),ge.createElement("div",{className:hc}),ge.createElement("div",{className:dc},ge.createElement(ac,null),ge.createElement("div",{className:pc}),ge.createElement("div",{className:mc}),ge.createElement("div",{className:fc})),ge.createElement("div",{className:hc}),ge.createElement("div",{className:dc},ge.createElement(ac,null),ge.createElement("div",{className:pc}),ge.createElement("div",{className:mc}),ge.createElement("div",{className:fc}))))),cc={padding:0},lc={whiteSpace:"normal"},uc=je.a.style({display:"flex",flexDirection:"column",margin:je.a.rem(1)}),dc=je.a.style({display:"flex",alignItems:"center",position:"relative",height:je.a.rem(2.25)}),pc=je.a.style({height:je.a.rem(.5),width:je.a.rem(.5),borderRadius:"50%",background:Ce.a.BlueGray5,marginRight:je.a.rem(1.25)}),mc=je.a.style({height:je.a.rem(.5),width:je.a.rem(3.875),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5,marginRight:je.a.rem(Ce.f.Space4)}),fc=je.a.style({height:je.a.rem(.5),width:je.a.rem(7.875),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),hc=je.a.style({margin:`${je.a.rem(.5)} ${je.a.rem(1)}`,borderBottom:"1px solid "+Ce.e.Color.Border.Base.Subdued}),gc=je.a.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:je.a.rem(Ce.f.Space4)}),bc=je.a.style({display:"flex",flexDirection:"column",marginRight:je.a.rem(2),justifyContent:"center"}),vc=je.a.style({margin:0,color:Ae.a.TextBaseSubduedColor,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),fontWeight:400}),yc=je.a.style({width:je.a.rem(4),height:je.a.rem(4),minWidth:je.a.rem(4),minHeight:je.a.rem(4)}),Oc=e=>ge.createElement(we.e,Object.assign({width:"36",height:"36",viewBox:"0 0 36 36"},e),ge.createElement("rect",{width:"36",height:"36",rx:"18",fill:"#09646C",stroke:"none"}),ge.createElement("path",{d:"M19.4062 21.6132C21.1214 21.2406 22.0558 20.2882 22.5 18.8303C20.636 18.8303 19.125 17.3433 19.125 15.5089C19.125 13.6745 20.636 12.1875 22.5 12.1875C24.364 12.1875 25.875 13.5803 25.875 15.5089C25.875 17.4375 25.5 22.3125 19.4062 23.8125V21.6132Z",fill:"white",stroke:"none"}),ge.createElement("path",{d:"M10.4062 21.6132C12.1214 21.2406 13.0558 20.2882 13.5 18.8303C11.636 18.8303 10.125 17.3433 10.125 15.5089C10.125 13.6745 11.636 12.1875 13.5 12.1875C15.364 12.1875 16.875 13.5803 16.875 15.5089C16.875 17.4375 16.5 22.3125 10.4062 23.8125V21.6132Z",fill:"white",stroke:"none"})),_c=A.b.Node.make(({view:e})=>ge.createElement("footer",{className:Cc},ge.createElement(Oc,null),ge.createElement(Oe.a.span,{className:wc},ge.createElement(Oe.a.b,null,e("originality").pipe(p.a.map(e=>Math.round(100*e))),"% of your document")," ","matches text",e("sourceCount").pipe(p.a.map(I.fold(()=>" ",e=>` in ${e} sources `))),"on the web or in academic databases."))),Cc=je.a.style({padding:`${je.a.rem(1.0625)} ${je.a.rem(1.1875)}`,backgroundColor:Ae.a.BackgroundBaseSubdued,borderTop:"0.5px solid "+Ae.a.BorderBaseSubduedColor,boxSizing:"border-box",display:"flex",alignItems:"center",flexDirection:"row",gap:je.a.rem(Ce.f.Space4)}),wc=je.a.style({fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),color:Ce.e.Color.Text.Base.Subdued}),Sc=A.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:r}=Object(cr.a)(Object(s.flow)(p.a.tap(n({kind:"plagiarismFeedMount"})),p.a.finalize(Jt.notifyFeedUnmount)));return ge.createElement(pr,{"data-name":"plagiarism-non-empty",style:xc,mount:r,"aria-live":"polite"},ge.createElement(Oe.a.div,{className:Ic},ge.createElement(ki,{style:Ac},"Plagiarism detected"),t("citationDropdown").pipe(p.a.map(I.fold(s.constNull,e=>ge.createElement(Ao,{className:Tc,menuClassName:Mc,placeholder:e.placeholder,options:e.select.items,optionsGroupLabel:"Citation style",selection:e.select.items.find(t=>t.id===e.selectedItem),onSelectionChange:e=>n({kind:"sduiCitationDropdownSelect",actions:e.onClickActions})(),label:e=>e.label,renderOption:e=>e.label}))))),ge.createElement(br,{className:jc},e.cardList),e.footer)}),kc=A.b.Knot.make(Sc,{cardList:zs,footer:A.b.Union.asOption(_c)}),Ec=A.b.Union.make("kind",{loadingState:sc,emptyState:qs,nonEmptyState:kc}),jc=je.a.style({$nest:{'&[data-overflow-top="true"]':{borderTop:"0.5px solid "+Ae.a.BorderBaseSubduedColor}}}),xc={padding:0,display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%"},Ac={whiteSpace:"normal",padding:0},Ic=je.a.style({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`,paddingTop:je.a.rem(Ce.f.Space4)}),Tc=je.a.style({width:"min-content",height:je.a.rem(1.5),$nest:{"& > button":{padding:`${je.a.rem(3*Ce.f.SpaceQuarter)} ${je.a.rem(Ce.f.Space1)} ${je.a.rem(3*Ce.f.SpaceQuarter)} ${je.a.rem(Ce.f.Space2)}`}}}),Mc=je.a.style({width:je.a.rem(9.75)}),Pc=A.b.Node.make(({view:e})=>ge.createElement(pr,{"data-name":"settings"},e("content")));var Nc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Bc=je.a.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),Lc=je.a.style({animation:Bc+" 1s linear infinite",width:je.a.rem(1),height:je.a.rem(1),minWidth:je.a.rem(1),minHeight:je.a.rem(1)}),Fc=e=>{const{className:t}=e,n=Nc(e,["className"]);return ge.createElement(we.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Object(ye.c)(Lc,t),n),ge.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),ge.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"}))},Rc=e=>ge.createElement(we.e,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},e),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"})),Dc=e=>Object.assign({height:"100%"},e?{borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"}:{borderRadius:je.a.rem(Ce.d.Radius1+Ce.d.RadiusHalf)}),Hc=e=>je.a.style(Object.assign(Object.assign({},Dc(e)),{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"})),Vc=e=>je.a.style(Object.assign(Object.assign({},Dc(e)),{border:"none",margin:"0",width:"100%"})),Uc=je.a.style({color:Ce.e.Color.Text.Base.Subdued,fontSize:je.a.rem(.75),fontFamily:"Inter",fontWeight:700,lineHeight:je.a.rem(1.125)}),Wc=je.a.style({color:Ce.e.Color.Text.Base.Subdued,fontSize:je.a.rem(.75),fontFamily:"Inter",lineHeight:je.a.rem(1.125)}),zc=je.a.style({visibility:"hidden",position:"absolute"}),Gc=A.b.Node.make(({state:e,view:t,notify:n})=>{const{notifyUnmount:r}=ge.useContext(Xr),{ref:i,onMount:a}=Object(cr.a)(Object(s.flow)(p.a.tap(e=>n({kind:z.a.Kind.mount,name:Z.a.skill,element:e})()),p.a.finalize(()=>r({kind:z.a.Kind.unmount,name:Z.a.skill})))),o=ge.useMemo(()=>t("status").pipe(p.a.pairwise(),p.a.filter(([e,t])=>"loading"===e&&"ready"===t),p.a.switchMap(()=>i.pipe(p.b.compact,p.a.tap(e=>e.focus())))),[i]);sr.a.useSubscriptionTo(o);const l=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{"data-name":"skill",style:p.a.combineLatestStatic([t("size"),l]).pipe(p.a.map(([e,t])=>Object.assign(Object.assign({},(e=>Object.assign({padding:0,height:je.a.rem(14.625),overflow:"hidden",boxSizing:"border-box",maxHeight:"inherit"},e?{display:"flex",justifyContent:"center",alignItems:"center",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"}:{}))(t)),{height:e.height})))},p.a.combineLatestStatic([e,l]).pipe(p.a.map(([{status:e,srcUrl:t},n])=>"loading"===e||"ready"===e?ge.createElement(ge.Fragment,null,"loading"===e&&ge.createElement("div",{className:Hc(n)},ge.createElement(Fc,null),ge.createElement("span",{className:Wc},"Loading...")),ge.createElement("iframe",{"aria-busy":"loading"===e,key:t,src:t,ref:a,allow:"clipboard-write "+t,className:je.a.joinClasses([Vc(n),"loading"===e?zc:void 0])})):"error"===e?ge.createElement("div",{className:Hc(n)},ge.createElement(Rc,null),ge.createElement("span",{className:Uc},"Something went wrong"),ge.createElement("span",{className:Wc},"Please try again.")):Object(c.d)(e))))}),qc=A.b.Union.asOption(Gc),Kc=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M9.2 8a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Zm0 4.8a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Zm0-9.6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z",fill:"#646B81"}));Kc.__brand="color";const $c=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M13.5 8.635c0 .09-.017.181-.047.265l-1.797 3.607-.008.016-.007.017c-.116.284-.371.46-.641.46H6.4c-.362 0-.7-.316-.7-.77V7.578a.81.81 0 0 1 .215-.553l3.589-3.796.264.279c.08.09.128.202.132.321l-.012.143-.523 2.663-.117.597H13.2c.138 0 .3.13.3.346v1.058ZM3.6 7.23c.14 0 .3.128.3.346v5.077c0 .218-.16.346-.3.346h-.8c-.14 0-.3-.128-.3-.346V7.577c0-.218.16-.346.3-.346h.8Z",stroke:"#646B81"}));$c.__brand="color";const Zc=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M2.5 7.865c0-.09.017-.181.047-.265l1.797-3.607.008-.016.007-.017c.116-.283.371-.46.641-.46h4.6c.362 0 .7.316.7.77v4.653a.812.812 0 0 1-.215.553l-3.589 3.796-.264-.279a.513.513 0 0 1-.132-.322l.012-.142.523-2.663.117-.597H2.8c-.138 0-.3-.13-.3-.346V7.865Zm9.9 1.404c-.14 0-.3-.128-.3-.346V3.846c0-.218.16-.346.3-.346h.8c.14 0 .3.128.3.346v5.077c0 .218-.16.346-.3.346h-.8Z",stroke:"#646B81"}));Zc.__brand="color";var Yc=n("D6wy"),Xc=n("t39C"),Qc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Jc(e){var{children:t,onOpenChange:n,title:r,placement:i="bottom end"}=e,a=Qc(e,["children","onOpenChange","title","placement"]);return ge.createElement(Nr.a.Consumer,null,({portalContainer:e})=>ge.createElement(Oe.a.Fragment,null,e.view(I.fold(s.constNull,e=>ge.createElement(bs,Object.assign({},a,{portalContainer:e,placement:i,title:r,onOpenChange:e=>null==n?void 0:n(e)}),t)))))}const el=({status:e,description:t})=>{const[n,r]=e===se.On?[nl,al]:e===se.Off?[rl,ol]:Object(c.d)(e),i=Object(s.pipe)(t,I.fold(()=>be.a.createElement(we.d.Info,{className:r}),e=>be.a.createElement(Yc.a,{title:be.a.createElement("div",{className:cl},e)},be.a.createElement(we.d.Info,{className:r}))));return be.a.createElement("div",{className:n},be.a.createElement("div",{className:sl},e,"-BRAND ",i))},tl={display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:je.a.rem(Ce.f.Space1),paddingRight:je.a.rem(Ce.f.Space1),paddingLeft:je.a.rem(Ce.f.Space1),textTransform:"uppercase",letterSpacing:"0.04em",fontSize:je.a.rem(Ce.f.Space2+Ce.f.SpaceHalf),lineHeight:je.a.rem(Ce.f.Space4)},nl=je.a.style(tl,{background:Ae.a.OnBrandBadge,color:Ae.a.OnBrandBadgeLabel}),rl=je.a.style(tl,{background:Ae.a.OffBrandBadge,color:Ae.a.OffBrandBadgeLabel}),il={width:je.a.rem(Ce.f.Space2+Ce.f.SpaceHalf),minWidth:"unset",minHeight:"unset",paddingLeft:je.a.rem(Ce.f.Space2)},al=je.a.style(il,{stroke:Ae.a.OnBrandBadgeIcon,fill:Ae.a.OnBrandBadgeIcon}),ol=je.a.style(il,{stroke:Ae.a.OffBrandBadgeIcon,fill:Ae.a.OffBrandBadgeIcon}),sl=je.a.style({display:"flex",justifyContent:"center",whiteSpace:"nowrap"}),cl=je.a.style({maxWidth:je.a.rem(80*Ce.f.Space1),textAlign:"left",whiteSpace:"normal",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"}),ll=({tone:e,index:t,onReportPositiveFeedback:n,onReportNegativeFeedback:r})=>{const i=Object(s.pipe)(e.brandToneInfo,I.fold(()=>ge.createElement(Yc.a,{title:e.prevalence+" intensity"},ge.createElement("div",{className:gl},[0,1,2,3,4].map(t=>{const n=t/5<=e.confidence;return ge.createElement("div",{key:`${e.name}-intensity-${t}`,className:n?vl:bl})}))),({status:e,description:t})=>ge.createElement(el,{status:e,description:t})));return ge.createElement("div",{"data-name":"tone-report-tone","data-tone-report-tone-name":e.name,role:`tone-${t}-${e.name}`,className:dl},ge.createElement("div",{className:pl},ge.createElement(Xc.c,{id:e.emojiId,className:ml}),ge.createElement("span",{className:fl},e.name)),ge.createElement("div",{className:hl},i),ge.createElement(Jc,{"aria-label":e.name+" Tone Actions Menu",placement:"left",label:ge.createElement(Kc,{className:yl}),onAction:e=>{switch(e){case"likeTone":return n();case"dislikeTone":return r();default:return}}},ge.createElement(vs.b,{title:"Help us improve"},ge.createElement(vs.a,{key:"likeTone",textValue:"likeTone"},ge.createElement($c,{className:Ol}),"Tone seems correct"),ge.createElement(vs.a,{key:"dislikeTone",textValue:"dislikeTone"},ge.createElement(Zc,{className:Ol}),"Tone seems incorrect"))))},ul={height:je.a.rem(5*Ce.f.SpaceQuarter),width:je.a.rem(5*Ce.f.SpaceQuarter),borderRadius:je.a.percent(50),marginRight:je.a.rem(3*Ce.f.SpaceQuarter)},dl=je.a.style({display:"grid",alignItems:"center",gridTemplateColumns:"0.6fr 0.5fr auto",height:je.a.rem(2.5)}),pl=je.a.style({display:"flex",alignItems:"center",flexBasis:je.a.percent(45)}),ml=je.a.style({padding:je.a.rem(Ce.f.SpaceHalf),marginRight:je.a.rem(Ce.f.Space3),width:je.a.rem(Ce.f.Space5),height:je.a.rem(Ce.f.Space5)}),fl=je.a.style({textTransform:"capitalize",fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125)}),hl=je.a.style({display:"inline-flex"}),gl=je.a.style({display:"flex"}),bl=je.a.style(ul,{backgroundColor:Ae.a.IndicatorDotDefault}),vl=je.a.style(ul,{backgroundColor:Ae.a.IndicatorDotActive}),yl=je.a.style({padding:je.a.rem(Ce.f.Space1)}),Ol=je.a.style({marginRight:je.a.rem(Ce.f.Space2)}),_l=A.b.Node.make(({state:e,notify:t})=>{const{onMount:n}=Object(cr.a)(p.a.tap(e=>t({kind:z.a.Kind.mount,name:Z.a.toneReport,element:e})()));return be.a.createElement(pr,{mount:n,key:"tone-report","data-name":"tone-report"},be.a.createElement("div",{className:El},be.a.createElement(Oe.a.div,{className:jl},e.pipe(p.a.map(e=>function({tones:e,onBrandTitleEnabled:t}){const n=Object(s.pipe)(e,J.y(e=>I.isSome(e.brandToneInfo)&&e.brandToneInfo.value.status===se.Off),I.map(J.R(e=>e.confidence)),I.map(J.Z(0,le.max(le.ordNumber)))),r=e.filter(e=>I.isSome(e.brandToneInfo)&&e.brandToneInfo.value.status===se.On).length;return I.isSome(n)&&n.value>.75?"Your tone may sound off to readers":I.isSome(n)?"Something sounds slightly off...":r>0&&t?"You're on-brand! Great job!":r>0?"Your writing sounds clear and aligned. Great job!":"How this may sound to readers:"}(e))))),be.a.createElement(Oe.a.div,{className:xl,"data-name":"tone-report-items"},e.pipe(p.a.map(({tones:e})=>e.map((e,n)=>be.a.createElement(ll,{key:e.name,index:n,tone:e,onReportPositiveFeedback:t({kind:z.a.Kind.toneReportToneLikeButtonClick,toneName:e.name}),onReportNegativeFeedback:t({kind:z.a.Kind.toneReportToneDislikeButtonClick,toneName:e.name})}))))))});const Cl=A.b.Node.make(()=>be.a.createElement(pr,{style:Sl},be.a.createElement(Fc,null),be.a.createElement("span",{className:kl},"Loading..."))),wl=A.b.Union.make("kind",{loading:Cl,loadedEmpty:Cl,loadedNonEmpty:_l}),Sl={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:je.a.rem(9.5)},kl=je.a.style({color:Ce.e.Color.Text.Base.Subdued,fontSize:je.a.rem(.75),fontFamily:"Inter",lineHeight:je.a.rem(1.125)}),El=je.a.style({display:"flex",alignItems:"flex-start"}),jl=je.a.style({flexGrow:1,fontStyle:"normal",fontWeight:"bold",fontSize:je.a.rem(1),lineHeight:je.a.rem(1.5)}),xl=je.a.style({marginTop:je.a.rem(.5)});var Al=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Il=e=>{var{text:t,onChange:n,placeholder:r,disabled:i,className:a,onFocus:o,onBlur:s,onKeyPressEnter:c,autofocus:l,onKeyUpEscape:u}=e,d=Al(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[p,m]=ge.useState(null);return ge.useEffect(()=>{p&&void 0!==l&&p.focus()},[l,p]),ge.createElement(ii,{className:a,style:{height:je.a.rem(1.375)},name:"text-input-iframe"},ge.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${je.a.rem(Ce.d.Radius1)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${je.a.rem(.875)};\n        font-weight: 400;\n        color: ${ni};\n      }\n      .textBox::placeholder {\n        color: ${ri};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `.replace(/\s/g,"")}}),ge.createElement("input",Object.assign({},d,{className:"textBox",style:{lineHeight:je.a.rem(1.375)},value:t,ref:m,onChange:e=>n(e.target.value),placeholder:r,disabled:i,onFocus:()=>null==o?void 0:o(),onBlur:()=>null==s?void 0:s(),onKeyPress:e=>{c&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),c())},onKeyDown:e=>{u&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),u())}})))},Tl={padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space1+Ce.f.Space8)} ${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`,border:"1px solid "+Ce.e.Color.Background.Neutral.Default,borderRadius:je.a.rem(Ce.d.Radius1),width:je.a.rem(15),height:je.a.rem(2),boxSizing:"border-box",position:"relative"},Ml={position:"absolute",right:je.a.rem(Ce.f.Space2),top:je.a.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:je.a.rem(1.5),height:je.a.rem(1.5),padding:0},Pl=Object.assign(Object.assign({},Object(xe.c)(1.5)),{$nest:{"& svg":{stroke:Ce.e.Color.Text.Base.Subdued}}}),Nl={padding:je.a.rem(Ce.f.Space1),background:"white",boxShadow:Ce.c.Elevation100.boxShadow,border:Ce.c.Elevation100.border,borderRadius:je.a.rem(Ce.d.Radius1),width:je.a.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:je.a.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},Bl={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),color:Ce.e.Color.Text.Base.Default,padding:`${je.a.rem(.1875)} ${je.a.rem(Ce.f.Space3)}`,borderRadius:je.a.rem(Ce.d.Radius1),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:Ce.a.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},Ll={width:je.a.percent(100),border:"none"},Fl=je.a.style(Tl),Rl=je.a.style(Ml),Dl=je.a.style(Pl),Hl=je.a.style(Nl),Vl=je.a.style(Bl),Ul=je.a.style({whiteSpace:"pre"}),Wl=je.a.style(Ll),zl=new go.a(999999);function Gl({text:e,placeholder:t,clearButton:n,selectOnBlur:r,label:i,options:a,className:o,filterBy:s=((e,t)=>i(e).toLowerCase().includes(t.toLowerCase())),onInputChange:c,onSelectionChange:l}){const[u,d]=ge.useState(!1),m=ge.useRef(zl.newId().toString()),[f,h]=ge.useState(null),[g,b]=ge.useState(null),{styles:v,attributes:y}=Object(fo.a)(f,g,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),O=a.filter(t=>s(t,e.trim())),_=u&&O.length>0,C=ge.useMemo(()=>new H.a,[]);return sr.a.useSubscriptionTo(C.pipe(p.a.debounceTime(50),p.a.filter(e=>!e),p.a.tap(()=>{d(!1),r&&""!==e.trim()&&l(O.length>0?O[0]:null)}))),ge.createElement("div",Object.assign({},Object(ye.c)(Fl,o),{ref:h}),ge.createElement(Il,{className:Wl,placeholder:t,onChange:c,text:e,onFocus:()=>{d(!0),C.next(!0)},onBlur:()=>C.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":m.current,"aria-expanded":_}),""!==e.trim()&&!!n&&ge.createElement("button",{onClick:Object(bo.a)(()=>l(null)),className:Rl,"aria-label":"Clear",type:"button"},ge.createElement(we.d.Close,{className:Dl})),_&&ge.createElement("div",Object.assign({ref:b,style:v.popper},y.popper,{className:Hl,onFocus:()=>C.next(!0),onBlur:()=>C.next(!1)}),ge.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:m.current},O.map(t=>{const n=i(t);return ge.createElement("li",{key:n,"aria-label":n,role:"option"},ge.createElement("button",{className:Vl,onClick:Object(bo.a)(()=>{l(t),d(!1)})},ge.createElement(ql,{label:n,pattern:e})))}))))}const ql=({label:e,pattern:t})=>{if(""===t.trim())return ge.createElement(ge.Fragment,null,e);const n=t.trim(),r=e.split(new RegExp(n,"i")),i=Object(s.pipe)(r.map((e,t)=>({token:e,mark:!1,end:t*n.length+r.slice(0,t).join("").length+e.length})),q.mb({token:"",mark:!0,end:0})).map((t,r,i)=>t.mark&&r>0?{token:e.slice(i[r-1].end,i[r-1].end+n.length),mark:!0}:{token:t.token,mark:!1}).filter(e=>e.token.length>0);return ge.createElement(ge.Fragment,null,i.map((e,t)=>e.mark?ge.createElement("mark",{key:t,className:Ul},e.token):ge.createElement("span",{key:t,className:Ul},e.token)))};const Kl=e=>ge.createElement(we.e,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),ge.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),$l=({kind:e,label:t,description:n,iconUrl:r,isUnselectable:i,onToggle:a})=>ge.createElement(Yc.a,{title:n},ge.createElement("button",{disabled:"disabled"===e,className:Zl,"data-kind":e,"data-unselectable":i,onClick:Object(bo.a)(()=>{"disabled"!==e&&a("selected"!==e&&("unselected"===e||Object(c.d)(e)))})},r?ge.createElement("img",{src:r,style:{width:20,height:20}}):null,ge.createElement("span",null,t),i&&"selected"===e?ge.createElement(Kl,{className:Yl}):null)),Zl=je.a.style({display:"flex",alignItems:"center",justifyContent:"center",gap:je.a.rem(Ce.f.Space2),padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(.625)} ${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space2)}`,background:Ce.e.Color.Background.Base.Default,border:je.a.px(1)+" solid transparent",borderRadius:je.a.rem(1.875),fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${je.a.px(1)} solid ${Ce.a.BlueGray5}`,color:Ce.e.Color.Text.Base.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${je.a.px(1)} solid ${Ce.a.BlueGray5}`,color:Ce.a.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${je.a.px(2)} solid ${Ae.a.BrandGreen60}`,padding:`${je.a.rem(.1875)} ${je.a.rem(.5625)} ${je.a.rem(.1875)} ${je.a.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}}),Yl=je.a.style(Object.assign(Object.assign({position:"absolute",top:je.a.rem(-(Ce.f.Space1+Ce.f.SpaceQuarter)),right:je.a.rem(-(Ce.f.Space1+Ce.f.SpaceQuarter)),boxSizing:"content-box"},Object(xe.c)(.75)),{border:je.a.rem(.125)+" solid white",borderRadius:"50%",background:Ae.a.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"})),Xl=({chips:e,className:t,onToggle:n})=>ge.createElement(Oe.a.div,Object.assign({},Object(ye.c)(Ql,t)),e.pipe(p.a.map(q.ub(e=>ge.createElement($l,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label})))))),Ql=je.a.style({display:"flex",flexWrap:"wrap",gap:je.a.rem(Ce.f.Space1),$nest:{div:{marginTop:je.a.rem(Ce.f.Space1)}}}),Jl={margin:0,padding:je.a.rem(Ce.f.Space4),gap:je.a.rem(Ce.f.Space4)},eu={color:Ce.e.Color.Text.Base.Default,fontWeight:700,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),margin:0},tu={color:Ce.e.Color.Text.Base.Subdued,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)},nu={marginTop:je.a.rem(Ce.f.Space2)},ru={color:Ce.a.BlueGray60,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)},iu={display:"flex",justifyContent:"flex-end",gap:je.a.rem(Ce.f.Space2)},au={fontSize:je.a.important(je.a.rem(.875))},ou={marginTop:je.a.rem(Ce.f.Space2)},su={marginTop:je.a.rem(Ce.f.Space2)},cu={display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)},lu={width:je.a.rem(1.5),height:je.a.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},uu=Jl,du=je.a.style(eu),pu=je.a.style(nu),mu=je.a.style(tu),fu=je.a.style(ru),hu=je.a.style(iu),gu=je.a.style(au),bu=je.a.style(au),vu=je.a.style(ou),yu=je.a.style(su),Ou=je.a.style(cu),_u=je.a.style(lu),Cu=A.b.Node.make(({view:e,state:t,notify:n})=>ge.createElement(pr,{style:uu,"data-name":"voice-profile"},ge.createElement("section",null,ge.createElement("h2",{className:du},"Formality"),ge.createElement(Xl,{className:pu,chips:e("styles").pipe(p.a.map(q.ub(e=>Object.assign(Object.assign({},e),{isUnselectable:!1})))),onToggle:e=>n({kind:z.a.Kind.styleToggleClick,id:e.id})()})),ge.createElement("section",null,ge.createElement("h2",{className:du},"Tone"),ge.createElement(Oe.a.div,{className:mu},"Select up to"," ",e("maxSelectableTones").pipe(p.a.map(e=>{return t=e,Number.isInteger(t)&&t>=0&&t<10?function(e){return["zero","one","two","three","four","five","six","seven","eight","nine"][e]}(e):""+e;var t}))),ge.createElement(Xl,{className:pu,chips:e("tones").pipe(p.a.map(q.ub(e=>Object.assign(Object.assign({},e),{isUnselectable:!0})))),onToggle:(e,t)=>n({kind:z.a.Kind.toneToggleClick,selected:t,id:e.id})()})),t.pipe(p.a.map(e=>Object(s.pipe)(e.roles,J.F,I.fold(s.constNull,t=>ge.createElement("section",null,ge.createElement("h2",{className:du},"Your profession"),ge.createElement(Gl,{className:vu,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:z.a.Kind.roleTypeaheadSelectionChange,role:I.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0})))))),ge.createElement("section",null,ge.createElement("h2",{className:du},"I write in"),ge.createElement(Oe.a.Fragment,null,t.pipe(p.a.map(({dialects:e,selectedDialect:t})=>ge.createElement(Ao,{className:yu,options:e.filter(e=>!Sn.a.Dialect.Id.eq.equals(e.id,t.id)),selection:t,onSelectionChange:e=>n({kind:z.a.Kind.dialectDropdownSelectionChange,dialect:e})(),label:e=>e.label,renderOption:e=>ge.createElement("div",{className:Ou},ge.createElement("div",{className:_u},ge.createElement("img",{src:e.iconUrl,style:{width:je.a.rem(1),height:je.a.rem(1)}})),e.label)}))))),e("description").pipe(p.a.map(e=>""!==e.trim()?ge.createElement("div",{className:fu},e):null)),ge.createElement(Oe.a.div,{className:hu},ge.createElement(_e.a,{variant:"tertiary",className:bu,onClick:n({kind:z.a.Kind.voiceProfileCloseButtonClick}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(p.a.map(e=>ge.createElement(_e.a,{className:gu,onClick:n({kind:z.a.Kind.voiceProfileUseVoiceButtonClick}),disabled:!e,name:"applyVoiceProfile"},"Use this voice")))))),wu=({className:e})=>ge.createElement("div",Object.assign({role:"separator"},Object(ye.c)(Su,e))),Su=je.a.style({position:"relative",width:"100%",borderBottom:"0.5px solid "+Ce.a.BlueGray10});var ku,Eu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={}))}(ku||(ku={}));const ju=({tabs:e,activeTabId:t,onActiveTabChange:n,children:r})=>ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Au,role:"tablist"},e.map(e=>ge.createElement("button",{key:e.id,onClick:()=>n(e.id),tabIndex:0,className:Iu,id:"tab-"+e.id,"aria-label":`${e.label} ${e.id===t?"Selected.":""}`,"aria-controls":"tabpanel-"+e.id,"aria-selected":t===e.id,role:"tab",type:"button"},e.label))),r),xu=e=>{var{id:t,isActive:n,children:r,className:i,style:a}=e,o=Eu(e,["id","isActive","children","className","style"]);return ge.createElement("div",Object.assign({role:"tabpanel",id:"tabpanel-"+t,"aria-labelledby":"tab-"+t,hidden:!n,style:n?a:void 0,className:n?i:void 0},o),r)},Au=je.a.style({display:"flex",alignContent:"flex-start",gap:je.a.rem(Ce.f.Space2)}),Iu=je.a.style({cursor:"pointer",border:"none",display:"flex",alignItems:"center",background:"transparent",borderBottom:je.a.rem(Ce.f.SpaceHalf)+" solid transparent",fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),height:je.a.rem(1.5),color:Ae.a.TextBaseSubduedColor,$nest:{'&[aria-selected="true"]':{borderBottomColor:Ae.a.TextBaseSubduedColor,fontWeight:700},'&[aria-selected="false"]:hover':{borderBottomColor:Ce.a.BlueGray10}}});var Tu=n("6sgl");Math.min,Math.max,Math.round,Math.floor;Math.min,Math.max,Math.round;"undefined"!=typeof document?ge.useLayoutEffect:ge.useEffect;new WeakMap,new WeakMap;var Mu="undefined"==typeof Element;Mu||Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,!Mu&&Element.prototype.getRootNode;var Pu="undefined"!=typeof document?ge.useLayoutEffect:ge.useEffect;let Nu=!1,Bu=0;const Lu=()=>"floating-ui-"+Bu++;const Fu=ge["useId".toString()]||function(){const[e,t]=ge.useState(()=>Nu?Lu():void 0);return Pu(()=>{null==e&&t(Lu())},[]),ge.useEffect(()=>{Nu||(Nu=!0)},[]),e};ge["useInsertionEffect".toString()];function Ru(e){return"gds-icon-"+(null!=e?e:"default")}function Du(e,t,n){var r,i;let a=((e="medium")=>{switch(e){case"small":return 16;case"medium":return 20;case"large":return 24;default:return Hu(e)}})(t.size),o="color"===(null==(r=t.icon)?void 0:r.__brand);return{"aria-hidden":null==(i=t.isDecorative)||i,focusable:!1,descId:e,strokeWidth:"1px",desc:t.accessibilityLabel,className:Object(Tu.a)("gds-icon",o&&Ru(t.variant)),width:a,height:a,ref:n}}var Hu=e=>e,Vu=ge.forwardRef((function(e,t){let n=Du(Fu(),e,t);return ge.createElement(e.icon,n)}));const Uu=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M5.727 6.615H3V14h10V6.615h-2.727m-4.546 0V4.273a2.273 2.273 0 1 1 4.545 0v2.342m-4.545 0h4.546",stroke:"#646B81",strokeLinejoin:"round"}));Uu.__brand="color";const Wu={editBtn:"editBtn",cancelBtn:"cancelBtn",saveBtn:"saveBtn"},zu={default:{backgroundColor:Ae.a.BlueGray0}},Gu=e=>Object.assign(Object.assign({gap:0,backgroundImage:"url(https://assets.grammarly.com/cheetah/v1/voice-profile/cheetah-my-voice-bg.svg)",backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:"auto 100%"},e?{padding:`${je.a.rem(Ce.f.Space3)} ${je.a.rem(Ce.f.Space4)}`}:{}),{$nest:{["."+Wu.editBtn]:{opacity:0,pointerEvents:"none",$nest:{"&:focus":{opacity:1,pointerEvents:"auto"}}},[`&:hover .${Wu.editBtn}, &:focus .${Wu.editBtn}`]:{opacity:1,pointerEvents:"auto"}}}),qu=e=>je.a.style({display:"flex",justifyContent:"space-between",marginBottom:e?je.a.rem(Ce.f.Space2):je.a.rem(Ce.f.SpaceHalf+Ce.f.Space1)}),Ku=je.a.style({margin:0,fontSize:je.a.rem(1.25),lineHeight:je.a.rem(1.5),fontWeight:700}),$u=je.a.style({display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}),Zu=je.a.style({display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space2)}),Yu=je.a.style({display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space1)}),Xu=je.a.style({color:Ae.a.TextBaseSubduedColor,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),margin:0}),Qu=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)}),Ju=je.a.style({width:je.a.rem(1.5),height:je.a.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center",$nest:{"& img":{width:je.a.rem(1),height:je.a.rem(1)}}}),ed=je.a.style({display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space1)}),td=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space1),height:je.a.rem(1.5),color:Ae.a.TextBaseSubduedColor,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),fontWeight:500}),nd=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)});var rd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const id=e=>{var{children:t,active:n}=e,r=rd(e,["children","active"]);const i=ge.useRef(null);return ge.createElement(ge.Fragment,null,i.current&&n?ge.createElement(ir.a,Object.assign({},r,{reference:i.current})):null,ge.cloneElement(t,{ref:i}))},ad=ge.forwardRef((function({name:e,active:t,onClick:n},r){return ge.createElement("button",{role:"button",tabIndex:0,"aria-label":e,"aria-pressed":t,"data-active":t,onClick:n,ref:r,className:od},e)})),od=je.a.style({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",height:je.a.rem(2),borderRadius:je.a.rem(Ce.d.Radius1),border:je.a.rem(Ce.f.SpaceHalf)+" solid transparent",padding:`${je.a.rem(Ce.f.SpaceHalf+Ce.f.Space1)} ${je.a.rem(Ce.f.Space2)}`,backgroundColor:Ae.a.Green0,color:Ae.a.Green90,lineHeight:je.a.rem(1.3125),fontSize:je.a.rem(.875),$nest:{"&:hover":{backgroundColor:je.a.color(Ae.a.Green10).mix(je.a.color(Ae.a.BlueGray5)).toRGBA().toString(),color:Ae.a.Green80},'&[data-active="true"]':{outline:`${je.a.rem(Ce.f.SpaceHalf)} solid ${Ae.a.Green80}`}}}),sd=({profileName:e,sectionName:t,tagName:n,activeTagId:r,onVoiceTagPopoverClose:i,onKeepClick:a,onRemoveClick:o,onVoiceTagClick:c})=>ge.createElement(id,{active:Object(s.pipe)(r,I.exists(r=>r===Sn.b.createId({tagName:n,sectionName:t,profileName:e}))),onClose:r=>{"keep"===r?a():"remove"===r?o(n,e,t):i()},title:ge.createElement("h1",{className:cd},"Does this sound like you?"),footer:ge.createElement(ir.b.Consumer,null,({closePopover:e})=>ge.createElement(ge.Fragment,null,ge.createElement(_e.a,{onClick:()=>e("keep"),style:ld,textPosition:"everywhere"},ge.createElement($c,null),"Yes, keep it"),ge.createElement(_e.a,{onClick:()=>e("remove"),style:ld,textPosition:"everywhere"},ge.createElement(Zc,null),"No, remove it")))},ge.createElement(ad,{name:n,active:Object(s.pipe)(r,I.exists(r=>r===Sn.b.createId({tagName:n,sectionName:t,profileName:e}))),onClick:()=>c(n,e,t)})),cd=je.a.style({fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),fontWeight:700,margin:0}),ld={default:{gap:je.a.rem(Ce.f.Space1),padding:`0 ${je.a.rem(Ce.f.Space2)} 0 ${je.a.rem(Ce.f.Space1)}`,color:Ae.a.TextBaseDefault,backgroundColor:Ce.e.Color.Background.Base.Default},hovered:{color:Ae.a.TextBaseDefault,backgroundColor:Ae.a.BlueGray5},active:{color:Ae.a.TextBaseDefault,backgroundColor:Ae.a.BlueGray5}},ud=({profile:e,activeProfileName:t,activeTagId:n,onVoiceTagPopoverClose:r,onKeepClick:i,onRemoveClick:a,onVoiceTagClick:o})=>ge.createElement(xu,{id:ku.Id.create(e.name),isActive:e.name===I.toNullable(t),className:dd},e.summary,ge.createElement("div",{className:md},e.sections.map(t=>ge.createElement("div",{key:t.name},t.name,ge.createElement("div",{className:fd},0===t.tags.length?ge.createElement("div",{className:pd},"Detected qualities will appear here"):t.tags.map(s=>ge.createElement(sd,{key:s.name,tagName:s.name,sectionName:t.name,profileName:e.name,activeTagId:n,onVoiceTagPopoverClose:r,onKeepClick:i,onRemoveClick:a,onVoiceTagClick:o}))))))),dd=je.a.style({fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space3),paddingTop:je.a.rem(Ce.f.Space2)}),pd=je.a.style({padding:"0 "+je.a.rem(Ce.f.Space2),background:Ae.a.BlueGray0,color:Ae.a.TextBaseSubduedColor,borderRadius:je.a.rem(Ce.d.Radius1),height:je.a.rem(2),fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),display:"flex",justifyContent:"center",alignItems:"center"}),md=je.a.style({display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space3)}),fd=je.a.style({marginTop:je.a.rem(Ce.f.Space2),display:"flex",flexWrap:"wrap",gap:je.a.rem(Ce.f.Space1)}),hd=Object(ye.d)(({onEditButtonClick:e,onSaveButtonClick:t,onCancelButtonClick:n,onDialectDropdownChange:r,onRoleDropdownChange:i,userName:a,isEditing:o,selectedRole:c,roles:l,dialects:u,selectedDialect:d})=>{const p=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:p.view(Gu)},ge.createElement("div",{className:qu(o)},ge.createElement("h1",{className:Ku},a),o?null:ge.createElement(_e.a,{variant:"secondary",onClick:e,className:Wu.editBtn,style:zu,size:"small"},"Edit")),o?ge.createElement("div",{className:$u},ge.createElement("div",{className:Zu},0!==l.length&&ge.createElement("div",{className:Yu},ge.createElement("h2",{className:Xu},"My role"),ge.createElement(Ao,{placeholder:"Select a role...",options:l,selection:I.toUndefined(c),onSelectionChange:i,label:e=>e.id,renderOption:e=>e.id})),ge.createElement("div",{className:Yu},ge.createElement("h2",{className:Xu},"I write in"),ge.createElement(Ao,{options:u,selection:d,onSelectionChange:r,label:e=>e.label,renderOption:e=>ge.createElement("div",{className:Qu},ge.createElement("div",{className:Ju},ge.createElement("img",{src:e.iconUrl,alt:""})),e.label)}))),ge.createElement("div",{className:nd},ge.createElement(_e.a,{variant:"tertiary",onClick:n},"Cancel"),ge.createElement(_e.a,{onClick:t},"Save"))):ge.createElement("div",{className:ed},Object(s.pipe)(c,I.fold(s.constNull,e=>ge.createElement("div",{className:td},ge.createElement("div",{className:Ju},ge.createElement(Vu,{icon:Uu,accessibilityLabel:"Role"})),ge.createElement("span",null,e.label)))),ge.createElement("div",{className:td},ge.createElement("div",{className:Ju},ge.createElement("img",{src:d.iconUrl,alt:""})),ge.createElement("span",null,d.label))))}),gd=A.b.Node.make(({view:e,state:t,notify:n})=>{const r=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:r.view(bd)},ge.createElement(hd,{onEditButtonClick:n({kind:z.a.Kind.voiceSelectionsEditButtonClick}),onDialectDropdownChange:e=>n({kind:z.a.Kind.voiceDialectDropdownSelectionChange,dialect:e})(),onRoleDropdownChange:e=>n({kind:z.a.Kind.voiceRoleDropdownSelectionChange,role:e})(),onSaveButtonClick:n({kind:z.a.Kind.voiceSelectionsSaveButtonClick}),onCancelButtonClick:n({kind:z.a.Kind.voiceSelectionsCancelButtonClick}),userName:e("userName"),isEditing:e("isEditing"),selectedRole:e("selectedRole"),selectedDialect:e("selectedDialect"),roles:e("roles"),dialects:e("dialects")}),ge.createElement(pr,{style:r.view(vd)},ge.createElement(Oe.a.div,null,t.pipe(p.a.map(e=>ge.createElement(ge.Fragment,null,ge.createElement("div",{className:yd},ge.createElement("div",null,ge.createElement("h1",{className:Od},e.title),ge.createElement("h2",{className:_d},e.subTitle)),ge.createElement(ju,{key:"Tabs",tabs:e.profiles.map(e=>({id:ku.Id.create(e.name),label:e.name})),activeTabId:ku.Id.create(l.g.toNullable(e.activeProfileName)||""),onActiveTabChange:e=>n({kind:z.a.Kind.voiceProfileTabChange,profileName:e})()})),e.profiles.map(t=>ge.createElement(ud,{key:t.name,profile:t,activeProfileName:e.activeProfileName,activeTagId:e.activeTagId,onVoiceTagPopoverClose:n({kind:z.a.Kind.voiceTagPopoverClose}),onKeepClick:n({kind:z.a.Kind.voiceTagPopoverKeepButtonClick}),onRemoveClick:(e,t,r)=>n({kind:z.a.Kind.voiceTagPopoverRemoveButtonClick,tagName:e,profileName:t,sectionName:r})(),onVoiceTagClick:(e,t,r)=>n({kind:z.a.Kind.voiceTagClick,tagName:e,profileName:t,sectionName:r})()})))))),ge.createElement(wu,null),ge.createElement("p",{className:Cd},"You can prompt Grammarly to rewrite text in your voice.")))}),bd=e=>je.a.style({display:"flex",flexDirection:"column",gap:e?void 0:je.a.rem(Ce.f.Space2)}),vd=e=>e?{gap:je.a.rem(Ce.f.Space4),padding:`${je.a.rem(Ce.f.Space3)} ${je.a.rem(Ce.f.Space4)} ${je.a.rem(Ce.f.Space4)} ${je.a.rem(Ce.f.Space4)}`}:{gap:je.a.rem(Ce.f.Space4)},yd=je.a.style({display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),Od=je.a.style({fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),fontWeight:700,margin:0}),_d=je.a.style({color:Ae.a.TextBaseSubduedColor,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),margin:0}),Cd=je.a.style({margin:0,padding:0,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.25),fontStyle:"italic",color:Ce.e.Color.Text.Base.Subdued}),wd=A.b.Node.make(({view:e,notify:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:n.view(Sd),"data-name":e("error").pipe(p.a.map(e=>"error-"+e.reason))},ge.createElement(Oe.a.div,{className:n.view(Ed)},p.a.combineLatestStatic([e("error"),n]).pipe(p.a.map(([e,t])=>ge.createElement(ge.Fragment,null,ge.createElement(Rc,{className:Ad(t),width:t?24:18,height:t?24:18}),ge.createElement("span",{className:jd},e.header))))),ge.createElement(Oe.a.div,{className:xd},e("error").pipe(p.a.map(e=>e.text))),ge.createElement(Oe.a.Fragment,null,e("showGotItButton").pipe(p.a.map(e=>e?ge.createElement(_e.a,{className:Id,name:"gotItButton",onClick:t({kind:z.a.Kind.errorCardOkButtonClick}),size:"small"},"OK"):null))))}),Sd=e=>e?{gap:je.a.rem(Ce.f.Space2),padding:`${je.a.rem(Ce.f.Space3)} ${je.a.rem(Ce.f.Space4)}`}:{},kd=A.b.Union.asOption(wd),Ed=e=>je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(e?Ce.f.Space2:Ce.f.Space1)}),jd=je.a.style({fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),fontWeight:700,color:Ce.e.Color.Text.Base.Default}),xd=je.a.style({fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),color:Ce.e.Color.Text.Base.Subdued,whiteSpace:"break-spaces",overflowWrap:"anywhere"}),Ad=e=>je.a.style(Object.assign({padding:e?void 0:je.a.rem(Ce.f.SpaceHalf)},Object(xe.c)(e?1.5:1.125))),Id=je.a.style({alignSelf:"flex-start"}),Td=A.b.Node.make(({view:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:t.view(Nd),"data-name":"document-overview"},t.view(Object(j.c)(ge.createElement(ki,{style:Pd},"This document"),ge.createElement("div",{className:Bd},"This document"))),ge.createElement(Oe.a.div,{className:Ld},e("title")),ge.createElement(Oe.a.div,{className:Fd},e("summary")))}),Md=A.b.Union.asOption(Td),Pd={userSelect:"none",padding:0},Nd=e=>({position:"relative",padding:e?`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space3)}`,gap:je.a.rem(Ce.f.Space2),fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf)}),Bd=je.a.style({borderBottom:`${je.a.rem(Ce.f.SpaceQuarter)} solid ${Ce.e.Color.Border.Base.Subdued}`,paddingBottom:je.a.rem(Ce.f.Space1),marginBottom:je.a.rem(Ce.f.Space1),color:Ce.e.Color.Text.Base.Subdued,userSelect:"none"}),Ld=je.a.style({fontSize:je.a.rem(Ce.f.Space3+Ce.f.SpaceHalf),color:Ce.e.Color.Text.Base.Subdued,fontWeight:600}),Fd=je.a.style({color:Ce.e.Color.Text.Base.Default}),Rd=e=>ge.createElement(we.e,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20"},e),ge.createElement("path",{d:"M5.31255 7.11538H14.6876M5.31255 10H14.6876M5.00006 13.6951V16.25L8.33339 13.6951C10.5282 13.6951 14.2996 13.6951 16.2502 13.6951C16.9406 13.6951 17.5001 13.1354 17.5001 12.4451V5C17.5001 4.30964 16.9404 3.75 16.2501 3.75H3.75001C3.05965 3.75 2.5 4.30965 2.50001 5.00001L2.50005 12.4451C2.50005 13.1354 3.05969 13.6951 3.75005 13.6951H5.00006Z",fill:"none"})),Dd=e=>ge.createElement(we.e,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15"},e),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"})),Hd=Object(ye.d)(Jc),Vd=Object(xe.a)(Object(xe.c)(1.5),"reportMenuBtnIcon"),Ud=({title:e,name:t,label:n,buttonClass:r,onAction:i,onOpenChange:a,children:o})=>{const s=ge.useContext(ur.a).view("flatUI"),c=e=>({minWidth:je.a.rem(e?2:1.5),minHeight:je.a.rem(e?2:1.5),lineHeight:je.a.rem(e?2:1.5)});return ge.createElement(Hd,{"aria-label":e,title:e,name:t,label:n,theme:s.view(e=>({button:r,buttonStyle:{default:Object.assign({padding:0},c(e)),icon:c(e)}})),onAction:i,onOpenChange:a},o)},Wd=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:r})=>ge.createElement(Ud,{title:"Provide feedback",name:"reportMenu",label:ge.createElement(Dd,{className:je.a.joinClasses(["reportMenuBtnIcon",je.a.style(Vd)])}),buttonClass:e,onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t()}},onOpenChange:r},ge.createElement(vs.a,{key:"provideFeedback",textValue:"provideFeedback"},ge.createElement(Rd,null),"Share your thoughts"),ge.createElement(vs.a,{key:"reportOffensive",textValue:"reportOffensive"},ge.createElement(we.d.Report,null),"Report as offensive")),zd=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:r,onDismiss:i})=>ge.createElement(Ud,{title:"More",name:"dismissReportMenu",label:ge.createElement(we.d.EllipsisSmall,null),buttonClass:e,onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t();case"dismissResult":return i()}},onOpenChange:r},ge.createElement(vs.a,{key:"dismissResult",textValue:"dismissResult"},ge.createElement(we.d.Ignore,null),"Delete"),ge.createElement(vs.a,{key:"provideFeedback",textValue:"provideFeedback"},ge.createElement(Rd,null),"Give feedback"),ge.createElement(vs.a,{key:"reportOffensive",textValue:"reportOffensive"},ge.createElement(we.d.Report,null),"Report offensive content")),Gd=A.b.Node.make(({view:e})=>ge.createElement(pr,{"aria-busy":"true","data-name":"intent-loading"},ge.createElement(ki,null,e("header")),ge.createElement("div",{className:qd},ge.createElement(ac,null)))),qd=je.a.style({height:je.a.rem(.5),borderRadius:je.a.rem(Ce.f.SpaceQuarter),background:Ce.a.BlueGray5,flexGrow:1,maxWidth:je.a.rem(22.5),position:"relative",marginBottom:je.a.rem(Ce.f.Space1)}),Kd=A.b.Node.make(({view:e,notify:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:Yd,"data-name":"intent"},ge.createElement(ki,null,e("header")),e("showReportMenu").pipe(p.a.map(Object(j.c)(ge.createElement(Wd,{reportMenuButtonClassName:Qd,onClickProvideFeedback:t({kind:z.a.Kind.openFeedbackFormButtonClick,source:Aa.Source.intentCard}),onClickReportOffensive:t({kind:z.a.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:z.a.Kind.reportMenuVisibilityChange,trigger:En.uiItem(Z.a.intentCard),visible:e})()}),null))),ge.createElement(Oe.a.div,Object.assign({className:n.view(Xd)},Object(fe.e)(e("text"),[...fe.a,"person"]))))}),$d=A.b.Union.make("kind",{loading:Gd,loaded:Kd}),Zd=A.b.Union.asOption($d),Yd={position:"relative",gap:je.a.rem(Ce.f.SpaceHalf)},Xd=e=>je.a.style({color:Ce.e.Color.Text.Base.Default,fontStyle:"normal",fontWeight:400,fontSize:je.a.rem(e?.875:.75),lineHeight:je.a.rem(e?1.3125:1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{fontWeight:700,color:e?void 0:Ce.a.Blue60,$nest:{"&::before":{content:"''",display:"inline-block",width:je.a.rem(e?1.25:1),height:je.a.rem(e?1.25:1),marginRight:e?je.a.rem(Ce.f.SpaceHalf):void 0,backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${e?Ce.a.BlueGray60:Ce.a.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${e?Ce.a.BlueGray60:Ce.a.Blue60}"/></svg>`)}')`}}}}}),Qd=je.a.style({position:"absolute",top:je.a.rem(Ce.f.Space3),right:je.a.rem(Ce.f.Space3)});var Jd=n("lhu7");function ep(e,t){var n,r;const[i,a]=Object(ge.useState)(void 0);return Object(ge.useEffect)(()=>{e.current&&e.current.scrollWidth>e.current.clientWidth&&a(t)},[null===(n=e.current)||void 0===n?void 0:n.scrollWidth,null===(r=e.current)||void 0===r?void 0:r.clientWidth,t]),i}const tp=({title:e,url:t})=>{const n=ge.useRef(null),r=ep(n,e);return Object(s.pipe)(t,I.fold(()=>ge.createElement("span",{className:np,title:r,ref:n},e),t=>ge.createElement(Jd.a,{className:np,title:r,ref:n,href:t},e)))},np=je.a.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",$nest:{"&:visited":{color:"inherit"}}}),rp=A.b.Node.make(({view:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:t.view(ap),"data-name":"detected-references"},ge.createElement("span",{className:op},"Detected references"),ge.createElement(Oe.a.ul,{className:sp},e("detectedReferences").pipe(p.a.map(e=>e.map(({title:e,iconUrl:t,url:n},r)=>ge.createElement("li",{key:r,className:cp},ge.createElement("img",{src:t,className:lp,alt:""}),ge.createElement(tp,{title:e,url:n})))))))}),ip=A.b.Union.asOption(rp),ap=e=>({position:"relative",padding:e?`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`,gap:0}),op=je.a.style({fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),color:Ce.e.Color.Text.Base.Subdued,userSelect:"none"}),sp=je.a.style({fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),color:Ce.e.Color.Text.Base.Default,margin:0,padding:0}),cp=je.a.style({height:je.a.rem(Ce.f.Space6),display:"flex",alignItems:"center",borderRadius:je.a.rem(Ce.d.Radius1)}),lp=je.a.style({minWidth:je.a.rem(Ce.f.Space4),height:je.a.rem(Ce.f.Space4),marginRight:je.a.rem(Ce.f.Space2)}),up=({count:e})=>ge.createElement("div",{className:dp},e),dp=je.a.style({display:"flex",alignItems:"center",justifyContent:"center",fontSize:je.a.rem(.75),fontStyle:"normal",fontWeight:700,lineHeight:je.a.rem(1.125),color:Ce.e.Base.Content.OnPrimary.Default,padding:"0 "+je.a.rem(Ce.f.Space1),background:Ae.a.BackgroundNeutralDefault,borderRadius:je.a.rem(Ce.d.Radius3),border:"1px solid "+Ce.e.Base.Content.OnPrimary.Default}),pp=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M4 5.375 8 2l4 3.375m-8 5.25L8 14l4-3.375",stroke:"#646B81",strokeLinecap:"round"}));pp.__brand="color";const mp=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"m5 2 3 3.176L11 2M5 14l3-3.177L11 14",stroke:"#646B81",strokeLinecap:"round"}));mp.__brand="color";const fp=({children:e,style:t})=>ge.createElement("i",{className:je.a.style(hp,t),"aria-hidden":"true"},e),hp={display:"inline-flex",alignItems:"center",justifyContent:"center",width:je.a.rem(1),height:je.a.rem(1),$nest:{"& > svg":{transform:"scale(calc(var(--rem)/16))"}}},gp=({feedForm:e,onClick:t})=>ge.createElement(_e.a,{variant:"tertiary",size:"small",style:bp,onClick:t},"shortForm"===e?ge.createElement(ge.Fragment,null,ge.createElement("span",{className:vp},"Show more"),ge.createElement(fp,null,ge.createElement(pp,null))):"longForm"===e?ge.createElement(ge.Fragment,null,ge.createElement("span",{className:vp},"Show less"),ge.createElement(fp,null,ge.createElement(mp,null))):Object(c.d)(e)),bp={default:{gap:je.a.rem(Ce.f.Space1),padding:je.a.rem(Ce.f.Space1),paddingLeft:je.a.rem(Ce.f.Space2)},icon:{minHeight:je.a.rem(1),minWidth:je.a.rem(1)}},vp=je.a.style({fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)}),yp=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M11 2 5 8l6 6",stroke:"#646B81",strokeLinecap:"round"}));yp.__brand="color";const Op=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"m5 2 6 6-6 6",stroke:"#646B81",strokeLinecap:"round"}));Op.__brand="color";const _p=je.a.style({position:"relative"}),Cp=je.a.style({overscrollBehavior:"contain",overflowX:"auto",scrollSnapType:"x mandatory",position:"relative",width:0,minWidth:"100%"}),wp=(je.a.style({scrollSnapAlign:"start"}),je.a.style({display:"flex",flexDirection:"row",flexWrap:"nowrap"}),{position:"absolute",top:"50%",zIndex:1,$nest:{"&.override":{transform:"translate(0,-50%)"}}}),Sp=je.a.style({left:je.a.rem(Ce.f.Space2)}),kp=je.a.style({right:je.a.rem(Ce.f.Space2)}),Ep=({count:e=1,children:t})=>{const{onMount:n,rect:r}=sr.a.useRectWatcher(),{ref:i,onMount:a}=sr.a.useElWatcher(),o=ge.useMemo(()=>f.a.create({scroll:0,width:0,scrollWidth:0,itemAverageWidth:0}),[]);sr.a.useSubscriptionTo(ge.useMemo(()=>p.a.combineLatestStatic([i.pipe(p.b.compact,p.a.distinctUntilChanged()),r.pipe(p.b.compact,p.a.distinctUntilChanged())]).pipe(p.a.auditTime(100),p.a.tap(([t])=>{const n=t.clientWidth,r=t.scrollWidth;o.set({scroll:t.scrollLeft,width:n,scrollWidth:r,itemAverageWidth:Math.min(n,r/e)})})),[e,i,r]));const c=ge.useCallback((e=!1)=>{Object(s.pipe)(i.get(),I.map(t=>{const{scroll:n,itemAverageWidth:r}=o.get();t.scroll({top:0,left:n+(e?1:-1)*r,behavior:"smooth"})}))},[i]);return ge.createElement("div",{className:_p,ref:n},ge.createElement("div",{ref:a,className:Cp,onScroll:e=>{e.target instanceof HTMLDivElement&&o.lens("scroll").set(e.target.scrollLeft)},"data-role":"scroll"},t),ge.createElement(Oe.a.Fragment,null,o.pipe(p.a.map(({scroll:e,width:t,scrollWidth:n})=>ge.createElement(ge.Fragment,null,e>0?ge.createElement(_e.a,{name:"scroll_left",title:"Scroll left","aria-label":"Scroll left",variant:"round",className:je.a.joinClasses([je.a.style(wp),Sp,"override"]),onClick:()=>c(),"aria-hidden":!0,tabIndex:-1},ge.createElement(yp,null)):null,n-t-e>0?ge.createElement(_e.a,{name:"scroll_right",title:"Scroll right","aria-label":"Scroll right",variant:"round",className:je.a.joinClasses([je.a.style(wp),kp,"override"]),onClick:()=>c(!0),"aria-hidden":!0,tabIndex:-1},ge.createElement(Op,null)):null)))))},jp=({percent:e,lensId:t})=>ge.createElement("div",{className:xp(t)},ge.createElement("div",{className:Ap(t),style:{transform:`scaleX(${e})`}})),xp=e=>je.a.style({border:"1px solid "+Ip[e],width:je.a.rem(2.5),height:je.a.rem(.25),boxSizing:"border-box",borderRadius:je.a.rem(Ce.f.SpaceHalf)}),Ap=e=>je.a.style({backgroundColor:Ip[e],border:0,width:"100%",height:"100%",transformOrigin:"left",transition:"transform 0.2s linear"}),Ip={[Tt.lensAllSuggestionFeedShortForm]:Ce.e.Color.Background.Neutral.Default,[Tt.lensAllSuggestionFeed]:Ce.e.Color.Background.Neutral.Default,[Tt.lensCorrectnessFeed]:Ce.e.Color.Background.Correctness.Default,[Tt.lensClarityFeed]:Ce.e.Color.Background.Clarity.Default,[Tt.lensDeliveryFeed]:Ce.e.Color.Background.Delivery.Default,[Tt.lensEngagementFeed]:Ce.e.Color.Background.Engagement.Default,[Tt.lensStyleGuideFeed]:Ce.e.Color.Background.Neutral.Default,[Tt.plagiarismFeed]:Ce.e.Color.Background.Plagiarism.Default},Tp=e=>je.a.style({display:"grid",gridTemplateColumns:Array.from({length:e}).map((e,t)=>t>0?"1px minmax(min-content, 1fr)":"minmax(min-content, 1fr)").join(" "),alignItems:"center"}),Mp=je.a.style({borderTop:"1px solid "+Ce.e.Color.Border.Base.Subdued,borderBottom:"1px solid "+Ce.e.Color.Border.Base.Subdued}),Pp=je.a.style({height:"100%",borderLeft:"1px solid "+Ce.e.Color.Border.Base.Subdued}),Np={default:{display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space1),padding:`${je.a.rem(.75)} ${je.a.rem(Ce.f.Space2)} ${je.a.rem(.5)} ${je.a.rem(Ce.f.Space2)}`,borderRadius:0,color:Ce.e.Color.Text.Base.Subdued,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),scrollSnapAlign:"start"},hovered:{boxShadow:"none"},active:{boxShadow:"none"},selected:{boxShadow:"none",fontWeight:"bold",backgroundColor:Ce.e.Color.Background.Base.Subdued}},Bp=Object(ye.d)(pr),Lp=A.b.Node.make(({view:e,state:t})=>ge.createElement(Bp,{style:e("fitContainer").pipe(p.a.map(e=>e?Hp:Dp)),"data-name":"long-form-feed-empty","aria-live":"polite"},t.pipe(p.a.map(({content:e,fitContainer:t=!1})=>ge.createElement(ge.Fragment,null,ge.createElement("div",{className:t?Up:Vp},ge.createElement("p",{className:Wp},e.title),ge.createElement("p",{className:zp},e.description)),ge.createElement("div",{className:t?qp:Gp},e.illustration)))))),Fp=A.b.Node.make(({view:e,state:t,notify:n})=>ge.createElement(Bp,{style:e("fitContainer").pipe(p.a.map(e=>e?Hp:Dp)),"data-name":"long-form-feed-success","aria-live":"polite"},t.pipe(p.a.map(({content:e,goBackFrom:t,fitContainer:r=!1})=>ge.createElement(ge.Fragment,null,ge.createElement("div",{className:r?Up:Vp},ge.createElement("p",{className:Wp},e.title),ge.createElement("p",{className:zp},e.description),Object(s.pipe)(t,I.fold(s.constNull,e=>ge.createElement(_e.a,{variant:"secondary",style:Rp,onClick:n({kind:"goBack",goBackFrom:e})},"See all suggestions")))),ge.createElement("div",{className:r?qp:Gp},e.illustration)))))),Rp={default:{marginTop:je.a.rem(Ce.f.Space2),alignSelf:"flex-start"}},Dp={padding:""+je.a.rem(Ce.f.Space4),display:"flex",flexDirection:"row",justifyContent:"space-between"},Hp={padding:""+je.a.rem(Ce.f.Space4),display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center",gap:""+je.a.rem(Ce.f.Space4),height:"100%",boxSizing:"border-box"},Vp=je.a.style({display:"flex",flexDirection:"column",marginRight:je.a.rem(2),justifyContent:"center"}),Up=je.a.style({textAlign:"center",padding:`${je.a.rem(Ce.f.Space4)} ${je.a.rem(Ce.f.Space4)} 0 ${je.a.rem(Ce.f.Space4)}`}),Wp=je.a.style({margin:0,color:Ae.a.TextBaseDefault,fontSize:je.a.rem(1),lineHeight:"1.5em",fontWeight:700}),zp=je.a.style({margin:0,color:Ae.a.TextBaseSubduedColor,fontSize:je.a.rem(.875),lineHeight:"1.5em",fontWeight:400}),Gp=je.a.style({width:je.a.rem(4),height:je.a.rem(4),minWidth:je.a.rem(4),minHeight:je.a.rem(4)}),qp=je.a.style({width:je.a.rem(6),height:je.a.rem(6),minWidth:je.a.rem(6),minHeight:je.a.rem(6)}),Kp=A.b.Node.make(({view:e})=>ge.createElement(pr,{"aria-busy":"true",style:$p,"data-name":"long-form-feed-loading"},ge.createElement("div",{className:Zp},ge.createElement(ac,null),ge.createElement(Oe.a.div,{className:nm},ge.createElement("div",{className:rm}),e("supportsShortForm").pipe(p.a.map(Object(j.c)(ge.createElement("div",{className:im}),null)))),ge.createElement("div",{className:am},ge.createElement("div",{className:om}),ge.createElement("div",{className:om}),ge.createElement("div",{className:om}),ge.createElement("div",{className:om})),ge.createElement("div",{className:sm},ge.createElement("div",{className:cm}),ge.createElement("div",{className:lm})),ge.createElement("div",{className:um(!0)}),ge.createElement("div",{className:um(!1)}),ge.createElement("div",{className:dm},ge.createElement("div",{className:pm}),ge.createElement("div",{className:mm}))),ge.createElement("div",{className:Yp},ge.createElement("div",{className:Xp},ge.createElement(ac,null),ge.createElement("div",{className:Qp}),ge.createElement("div",{className:Jp}),ge.createElement("div",{className:em})),ge.createElement("div",{className:tm}),ge.createElement("div",{className:Xp},ge.createElement(ac,null),ge.createElement("div",{className:Qp}),ge.createElement("div",{className:Jp}),ge.createElement("div",{className:em})),ge.createElement("div",{className:tm}),ge.createElement("div",{className:Xp},ge.createElement(ac,null),ge.createElement("div",{className:Qp}),ge.createElement("div",{className:Jp}),ge.createElement("div",{className:em})),ge.createElement("div",{className:tm}),ge.createElement("div",{className:Xp},ge.createElement(ac,null),ge.createElement("div",{className:Qp}),ge.createElement("div",{className:Jp}),ge.createElement("div",{className:em}))))),$p={padding:0},Zp=je.a.style({display:"flex",flexDirection:"column",position:"relative",padding:""+je.a.rem(Ce.f.Space4),borderBottom:"1px solid "+Ce.e.Color.Border.Base.Subdued}),Yp=je.a.style({display:"flex",flexDirection:"column",margin:je.a.rem(1)}),Xp=je.a.style({display:"flex",alignItems:"center",position:"relative",height:je.a.rem(2.25)}),Qp=je.a.style({height:je.a.rem(.5),width:je.a.rem(.5),borderRadius:"50%",background:Ce.a.BlueGray5,marginRight:je.a.rem(1.25)}),Jp=je.a.style({height:je.a.rem(.5),width:je.a.rem(3.875),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5,marginRight:je.a.rem(Ce.f.Space4)}),em=je.a.style({height:je.a.rem(.5),width:je.a.rem(7.875),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),tm=je.a.style({margin:`${je.a.rem(.5)} ${je.a.rem(1)}`,borderBottom:"1px solid "+Ce.e.Color.Border.Base.Subdued}),nm=je.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:je.a.rem(Ce.f.Space2),alignItems:"center"}),rm=je.a.style({width:je.a.rem(11.875),height:je.a.rem(1),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),im=je.a.style({flex:1,maxWidth:je.a.rem(3.5),height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),am=je.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:je.a.rem(11.5*Ce.f.Space1)}),om=je.a.style({width:je.a.rem(3.5625),height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5,margin:"0 "+je.a.rem(9.5*Ce.f.SpaceQuarter)}),sm=je.a.style({display:"flex",flexDirection:"row",gap:je.a.rem(Ce.f.Space1),alignItems:"center",marginTop:je.a.rem(8.5*Ce.f.Space1)}),cm=je.a.style({width:je.a.rem(1.25),height:je.a.rem(1.25),borderRadius:"50%",background:Ce.a.BlueGray5}),lm=je.a.style({flex:1,height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),um=e=>je.a.style({height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5,marginTop:je.a.rem(e?2.5*Ce.f.Space1:Ce.f.Space4)}),dm=je.a.style({display:"flex",flexDirection:"row",gap:je.a.rem(Ce.f.Space4),alignItems:"center",marginTop:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf)}),pm=je.a.style({width:je.a.rem(4.125),height:je.a.rem(2),borderRadius:je.a.rem(Ce.d.Radius1),background:Ce.a.BlueGray5}),mm=je.a.style({width:je.a.rem(3.125),height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),fm=Object(ye.d)(up),hm=Object(ye.d)(({activeLensId:e,lenses:t,className:n,onToggleLens:r})=>t.length>0?ge.createElement("section",{className:je.a.joinClasses([Mp,n])},ge.createElement(Ep,{count:t.length},ge.createElement("div",{className:Tp(t.length)},t.map((t,n)=>ge.createElement(ge.Fragment,{key:t.lensId},n>0?ge.createElement("div",{className:Pp,role:"separator"}):null,ge.createElement(_e.a,{variant:"tertiary",contained:!0,size:"small",name:t.label+"-button",style:Np,active:t.lensId===e,onClick:()=>r(t.lensId)},ge.createElement(jp,{percent:t.percent,lensId:t.lensId}),ge.createElement("span",null,t.label))))))):null),gm=A.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:r}=Object(cr.a)(Object(s.flow)(p.a.tap(n({kind:"longFormFeedMount"})),p.a.finalize(Jt.notifyFeedUnmount))),i=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{"data-name":"long-form-feed",style:i.view(Object(j.c)({padding:0,display:"grid",gridTemplateRows:"auto auto 1fr",height:"100%"},{padding:je.a.rem(Ce.f.Space3)+" 0 0 0"})),mount:r,"aria-live":"polite"},ge.createElement(ki,{style:i.view(Object(j.c)(Object.assign(Object.assign({},vm),{padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`,paddingTop:je.a.rem(Ce.f.Space4)}),Object.assign(Object.assign({},vm),{padding:"0 "+je.a.rem(Ce.f.Space3)})))},ge.createElement("div",{className:ym},"Review suggestions",ge.createElement(fm,{count:t("suggestionCount")})),t("canCollapseToShortForm").pipe(p.a.map(Object(j.c)(ge.createElement(gp,{feedForm:"longForm",onClick:n({kind:"toggleShortFormFeed"})}),null)))),ge.createElement(hm,{lenses:t("lenses"),activeLensId:t("feedId"),onToggleLens:e=>n({kind:"toggleLens",lensId:e})(),className:bm}),ge.createElement(br,null,e.lensView))}),bm=je.a.style({margin:je.a.rem(Ce.f.Space2)+" 0"}),vm={display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2),justifyContent:"space-between"},ym=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)}),Om=A.b.Group.make({cardList:zs}),_m=A.b.Union.make("kind",{successState:Fp,cardList:Om}),Cm=A.b.Knot.make(gm,{lensView:_m}),wm=A.b.Union.make("kind",{loadingState:Kp,emptyState:Lp,successState:Fp,nonEmptyState:Cm});const Sm=[{emptyState:{title:"Rooting for you.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 66 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{fill:"#C6CBDE",d:"M33.4 64c9.4 0 17.02-1.45 17.02-3.24 0-1.79-7.62-3.24-17.01-3.24-9.4 0-17.02 1.45-17.02 3.24 0 1.79 7.62 3.24 17.02 3.24Z"}),ge.createElement("path",{fill:"#F6DF6C",stroke:"#27282E",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M36.65 61.36H28.8c-6.03 0-10.92-4.43-10.92-9.89V40.5c0-.4 30.22-.4 30.22 0v10.5c0 5.72-5.13 10.37-11.46 10.37Z"}),ge.createElement("path",{fill:"#C7EEFB",stroke:"#27282E",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M33 44.13c8.35 0 15.11-1.56 15.11-3.47 0-1.92-6.76-3.48-15.1-3.48-8.36 0-15.12 1.56-15.12 3.48 0 1.91 6.76 3.47 15.11 3.47Z"}),ge.createElement("path",{fill:"#27282E",d:"M45.56 42.15c-2.5.96-7.19 1.6-12.56 1.6s-10.06-.64-12.56-1.6c.7-1.38 6.05-2.45 12.56-2.45 6.5 0 11.87 1.07 12.56 2.45Z"}),ge.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m22.87 33.14 2.26-.62-1.98-1.25M25.35 27.2l2.18.85-.83-2.18M22.93 37.44l2.33.2-1.71 1.59M43.7 33.14l-2.26-.62 1.98-1.25M41.22 27.2l-2.17.85.82-2.18M43.64 37.44l-2.33.2 1.71 1.59"}),ge.createElement("path",{fill:"#16AC9A",stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"M41.34 31.15c-.97-3.31-4.13-5.63-8.06-5.63v0h0v0c-3.93 0-7.09 2.32-8.06 5.63-1.39 4.76.83 9.86 1.86 10.8 1.76.38 3.05.69 6.2.69 3.13 0 4.98-.4 6.2-.7 1.04-.93 3.25-6.03 1.86-10.8h0Z"}),ge.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"M34.7 42.44c.7-1.36 2.15-4.86 2.19-8.36.03-3.36-1.46-6.84-3.38-8.46M39.03 35.02l-2.14-.94 2.14-.95"}),ge.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m38.56 30.08-2.33-.14 1.68-1.63M38.56 38.46l-2.33.2 1.71 1.58M31.87 42.44a20.66 20.66 0 0 1-2.2-8.36c-.03-3.4 1.5-6.91 3.45-8.52"}),ge.createElement("path",{stroke:"#27282E",strokeLinecap:"round",strokeLinejoin:"round",d:"m27.54 35.02 2.14-.94-2.14-.95M28 30.08l2.33-.14-1.67-1.63M28 38.46l2.33.2-1.71 1.58"}),ge.createElement("path",{fill:"#fff",stroke:"#27282E",strokeMiterlimit:"10",d:"M6.9 54.28c-.07 0-.12-.06-.12-.14.11-4.3-1.36-5.85-5.66-5.97-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.3.11 5.86-1.36 5.98-5.66 0-.07.06-.12.14-.12.07 0 .12.06.12.13-.11 4.3 1.36 5.86 5.66 5.97.07 0 .12.06.12.13s-.06.12-.13.12c-4.3-.1-5.86 1.37-5.98 5.66-.01.09-.06.14-.13.14ZM59.17 37.27c-.07 0-.11-.06-.11-.13.1-4.01-1.28-5.47-5.29-5.58-.07 0-.11-.06-.11-.12 0-.07.06-.12.12-.12 4.01.1 5.47-1.27 5.58-5.28 0-.07.06-.12.13-.12s.11.06.11.13c-.1 4.01 1.27 5.47 5.29 5.57.06 0 .11.05.11.12 0 .07-.06.12-.13.12-4-.1-5.46 1.27-5.58 5.28 0 .08-.05.13-.12.13ZM46.14 22.68c-.1 0-.16-.08-.16-.18.14-5.73-1.82-7.8-7.55-7.97-.1 0-.16-.08-.16-.18 0-.1.08-.16.17-.16 5.74.15 7.81-1.82 7.98-7.55 0-.1.08-.16.17-.16.1 0 .17.08.17.18-.15 5.73 1.82 7.8 7.55 7.95.1 0 .16.09.16.18 0 .1-.08.17-.18.17-5.73-.15-7.8 1.81-7.97 7.54-.02.12-.08.18-.18.18Z"})),null)},successState:{title:"You're on point!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#SuccessA_a)"},ge.createElement("path",{fill:"#C6CBDE",d:"M32 64c9.28 0 16.8-1.43 16.8-3.2 0-1.77-7.52-3.2-16.8-3.2-9.28 0-16.8 1.43-16.8 3.2 0 1.77 7.52 3.2 16.8 3.2Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M44.08 7.6h-3.24L43 5.2M42.93 36.13l-2.59-1.95 3.2-.6M46.3 17.13l-3.13-.84 2.73-1.75M45.14 26.65l-2.73-1.74 3.13-.85M19.12 7.6h3.24L20.2 5.2M20.27 36.13l2.59-1.95-3.19-.6M16.9 17.13l3.13-.84-2.73-1.75M18.06 26.65l2.73-1.74-3.13-.85"}),ge.createElement("path",{fill:"#F6DF6C",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 61.4h-7.73c-5.96 0-10.8-4.38-10.8-9.77V40.78c0-.4 29.86-.4 29.86 0v10.36c0 5.66-5.07 10.25-11.33 10.25Z"}),ge.createElement("path",{fill:"#C7EEFB",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M31.6 44.38c8.24 0 14.93-1.54 14.93-3.43 0-1.9-6.69-3.43-14.93-3.43-8.24 0-14.92 1.53-14.92 3.43 0 1.9 6.68 3.43 14.92 3.43Z"}),ge.createElement("path",{fill:"#0E101A",d:"M44 42.43c-2.47.94-7.1 1.57-12.4 1.57-5.3 0-9.93-.63-12.4-1.57.68-1.37 5.98-2.43 12.4-2.43s11.72 1.06 12.4 2.43Z"}),ge.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M31.6 2.41v.01h0c-22.5 0-6.52 39.78-6.52 39.78s2.2.86 6.52.86c4.32 0 6.52-.86 6.52-.86S54.1 2.41 31.6 2.41h0Z"}),ge.createElement("path",{fill:"#F18AB2",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M12 7.25s2.8-1.38 5.22-.87c-1.36-2.06-1.11-5.1-1.11-5.1 5.32 2.17 4.15 7.14 4.15 7.14s-5.76 2.26-3.56.81A6.82 6.82 0 0 1 12 7.25Z"}),ge.createElement("path",{fill:"#F18AB2",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M13.79 4.5s2.6-.32 4.67 1.02A7.77 7.77 0 0 1 19.17.8c4.17 3.95 1.56 7.99 1.56 7.99s-2.34 4.21-7.8 2.4c0 0 1.6-2.38 4.18-2.93A6.92 6.92 0 0 1 13.8 4.5Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.26 42.98s8.41-38.16-1.68-40.57"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m39.15 28.43-2.81-1.6 3.08-1M37.54 37.9l-2.56-2 3.2-.54M39.48 9.37l-3.2-.56 2.57-1.98M40.03 18.9l-3.11-.91 2.77-1.7M29.94 42.98S21.53 4.82 31.63 2.41"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m24.05 28.43 2.82-1.6-3.09-1M25.66 37.9l2.56-2-3.2-.54M23.72 9.37l3.2-.56-2.57-1.98M23.17 18.9l3.11-.91-2.77-1.7"}),ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeMiterlimit:"10",d:"M56.62 39.2c-.08 0-.13-.06-.13-.14.12-4.53-1.43-6.17-5.96-6.3-.08 0-.13-.06-.13-.14 0-.08.06-.13.14-.13 4.53.12 6.17-1.43 6.3-5.96 0-.08.06-.13.14-.13.08 0 .13.06.13.14-.12 4.53 1.43 6.17 5.96 6.29.08 0 .13.06.13.14 0 .07-.06.12-.14.12-4.53-.11-6.17 1.44-6.3 5.97-.01.09-.06.14-.14.14ZM6.24 24c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"SuccessA_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"You got this.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{fill:"#AAF2E1",stroke:"#0E101A",strokeLinejoin:"round",d:"M12.8 46.4 32.8.8l20 45.6V62h-40V46.4Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"m12.8 46.4 20-13.2 20 13.2"}),ge.createElement("path",{fill:"#0E101A",fillRule:"evenodd",d:"M32.4 4.76V1.6h.8v3.16h-.8Zm0 6.31V7.92h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31V39.5h.8v3.16h-.8Zm0 6.32V45.8h.8v3.16h-.8Zm0 6.31v-3.15h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Z",clipRule:"evenodd"}),ge.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M10 33.6C5.2 34.8-2.4 42 2.8 48.8c5.2 6.8 16.8 4.5 21.2.89"}),ge.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M10.4 33.05c.21.08.31.3.23.51l-1.3 3.36a.4.4 0 0 1-.75-.3l1.16-2.97-2.98-1.17a.4.4 0 0 1 .29-.74l3.35 1.3Z",clipRule:"evenodd"})),null)},successState:{title:"Well, this is shaping up!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#SuccessB_a)"},ge.createElement("path",{fill:"#87E8D1",stroke:"#0E101A",strokeLinejoin:"round",d:"m18 34-3.4-10.67L59.41 1.49 18 34Z"}),ge.createElement("path",{fill:"#D7F7F0",stroke:"#0E101A",strokeLinejoin:"round",d:"M24.25 24.7 60.8.8l-20.23 40-16.32-16.1ZM2.4 19.42 60.8.8 14.6 23.33l-12.2-3.9Z"}),ge.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round",d:"m28.62 29.08-4.37-4.37L18 34l10.62-4.92Z"}),ge.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeMiterlimit:"10",d:"M25.4 52c-.09 0-.15-.07-.15-.16.13-5.1-1.61-6.94-6.7-7.08-.1 0-.15-.08-.15-.16 0-.09.07-.15.16-.15 5.1.13 6.94-1.61 7.08-6.7 0-.1.08-.15.16-.15.09 0 .15.07.15.16-.13 5.1 1.61 6.94 6.7 7.07.1 0 .15.07.15.16 0 .08-.07.14-.16.14-5.1-.13-6.94 1.62-7.08 6.71-.02.1-.08.16-.16.16ZM57.44 39.2c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12ZM11.45 11.2c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11Z"}),ge.createElement("path",{stroke:"#000",strokeDasharray:"4 5",strokeLinecap:"square",d:"M10.4 31.2c-4.8 2-14.64 14.4-6 23.2 8.64 8.8 44.8-2 58 8.8"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"SuccessB_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"Nothing to see yet.",description:"Suggestions will appear here.",illustration:ge.createElement(oc,null)},successState:{title:"Look at that!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M1.78 43.26a1.94 1.94 0 0 0 1.5 2.9l35.87 3.6-15.29 7.45a1.43 1.43 0 0 0 1 2.65l30.56-8.46 7.78.79V41.83l-59.74.45c-.7 0-1.33.38-1.68.98Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m3.28 46.15.05-.5-.05.5Zm-1.5-2.89-.43-.24.43.24Zm37.37 6.5.22.45 1.59-.77-1.76-.17-.05.5Zm-15.29 7.45.22.45-.22-.45Zm1 2.65-.13-.48.14.48Zm30.56-8.46.05-.5h-.09l-.1.02.14.48Zm7.78.79-.05.5.55.05v-.55h-.5Zm0-10.36h.5v-.5h-.5v.5Zm-59.74.45v-.5.5Zm-.13 3.37a1.44 1.44 0 0 1-1.11-2.14l-.87-.5a2.44 2.44 0 0 0 1.88 3.64l.1-1Zm35.87 3.62L3.33 45.65l-.1 1 35.87 3.61.1-1Zm-15.12 8.39 15.3-7.45-.45-.9-15.29 7.45.44.9Zm-.52.83c0-.36.2-.68.52-.83l-.44-.9c-.66.32-1.08 1-1.08 1.73h1Zm1.17.9a.93.93 0 0 1-1.17-.9h-1c0 1.27 1.21 2.2 2.44 1.85l-.27-.96Zm30.56-8.47-30.56 8.46.27.96 30.56-8.46-.27-.96Zm7.96.77-7.78-.78-.1.99 7.78.78.1-1Zm-.55-9.86v10.36h1V41.83h-1Zm-59.24.95 59.74-.45v-1l-59.74.45v1Zm-1.24.73c.25-.45.73-.73 1.24-.73v-1c-.88 0-1.68.48-2.11 1.24l.87.49Z"}),ge.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M19.9 46.88a3.14 3.14 0 1 1 .97 5.86 3.67 3.67 0 0 1-7.05-.92 3.3 3.3 0 0 1-4.75-2.94 3.3 3.3 0 0 1 5.2-2.75 2.93 2.93 0 0 1 5.63.75Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m19.9 46.88-.5.06a.5.5 0 0 0 .74.38l-.24-.44Zm1.44-.36v-.5.5Zm3.17 3.1.5-.01h-.5Zm-3.1 3.17.01.5v-.5Zm-.54-.04.08-.5a.5.5 0 0 0-.54.3l.46.2Zm-3.36 2.28v.5-.5Zm-3.69-3.21.5-.06a.5.5 0 0 0-.72-.4l.22.46Zm-1.4.33-.01-.5v.5Zm-3.35-3.27h.5-.5Zm3.26-3.35v-.5.5Zm1.94.6-.28.41a.5.5 0 0 0 .75-.22l-.47-.19Zm2.69-1.85v.5-.5Zm3.18 3.04c.36-.19.77-.3 1.2-.3v-1c-.6 0-1.18.16-1.67.42l.47.88Zm1.2-.3a2.64 2.64 0 0 1 2.67 2.6l1-.01a3.64 3.64 0 0 0-3.68-3.6l.01 1Zm2.67 2.6a2.64 2.64 0 0 1-2.6 2.67l.01 1c2.01-.03 3.62-1.68 3.6-3.68h-1Zm-2.6 2.67c-.16 0-.31-.01-.46-.04l-.16.99c.2.03.42.05.63.05l-.01-1Zm-1 .27a3.17 3.17 0 0 1-2.9 1.97v1a4.17 4.17 0 0 0 3.82-2.6l-.92-.37Zm-2.9 1.97c-1.64.02-3-1.2-3.2-2.77l-.98.12a4.17 4.17 0 0 0 4.19 3.65l-.01-1Zm-3.9-3.16a2.8 2.8 0 0 1-1.2.28l.01 1a3.8 3.8 0 0 0 1.62-.38l-.44-.9Zm-1.2.28a2.8 2.8 0 0 1-2.84-2.77h-1a3.8 3.8 0 0 0 3.85 3.77l-.01-1Zm-2.84-2.77a2.8 2.8 0 0 1 2.77-2.85l-.01-1a3.8 3.8 0 0 0-3.76 3.86l1-.01Zm2.77-2.85c.61 0 1.18.18 1.65.51l.57-.82a3.8 3.8 0 0 0-2.23-.69l.01 1Zm2.4.29a2.43 2.43 0 0 1 2.23-1.54l-.02-1a3.43 3.43 0 0 0-3.14 2.17l.93.37Zm2.23-1.54c1.25-.02 2.3.93 2.44 2.16l.99-.11a3.42 3.42 0 0 0-3.45-3.05l.02 1Z"}),ge.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M56 53.2a3.6 3.6 0 0 1-2.36 3.38 3.6 3.6 0 1 1-5.84 4.2 3.6 3.6 0 0 1-6.96-.62 3.6 3.6 0 1 1 .05-5.9 4.8 4.8 0 0 1 8.16-2.4A3.6 3.6 0 0 1 56 53.2Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m53.64 56.58-.18-.47a.5.5 0 0 0-.22.78l.4-.3Zm-5.84 4.2.42-.27a.5.5 0 0 0-.9.11l.48.17Zm-6.96-.62.5-.07a.5.5 0 0 0-.78-.34l.28.41Zm.05-5.9-.29.42a.5.5 0 0 0 .78-.31l-.49-.1Zm8.16-2.4-.36.35a.5.5 0 0 0 .83-.16l-.47-.18Zm4.76 5.2a4.1 4.1 0 0 0 2.69-3.86h-1a3.1 3.1 0 0 1-2.04 2.91l.35.94Zm1.09 1.74c0-.95-.33-1.83-.87-2.53l-.79.62c.41.53.66 1.19.66 1.91h1Zm-4.1 4.1a4.1 4.1 0 0 0 4.1-4.1h-1a3.1 3.1 0 0 1-3.1 3.1v1Zm-3.42-1.83a4.1 4.1 0 0 0 3.42 1.83v-1a3.1 3.1 0 0 1-2.58-1.39l-.84.56Zm-.05-.45a3.1 3.1 0 0 1-2.93 2.08v1a4.1 4.1 0 0 0 3.87-2.75l-.94-.33ZM44.4 62.7a3.1 3.1 0 0 1-3.06-2.61l-.99.15a4.1 4.1 0 0 0 4.05 3.46v-1Zm-5.6-1.4c.86 0 1.67-.27 2.33-.72l-.57-.83c-.5.35-1.1.55-1.76.55v1Zm-4.1-4.1a4.1 4.1 0 0 0 4.1 4.1v-1a3.1 3.1 0 0 1-3.1-3.1h-1Zm4.1-4.1a4.1 4.1 0 0 0-4.1 4.1h1a3.1 3.1 0 0 1 3.1-3.1v-1Zm2.38.76a4.08 4.08 0 0 0-2.38-.76v1c.67 0 1.3.21 1.8.58l.58-.82Zm4.42-3.96a5.3 5.3 0 0 0-5.2 4.27l.98.2a4.3 4.3 0 0 1 4.22-3.47v-1Zm3.81 1.62a5.29 5.29 0 0 0-3.81-1.62v1c1.22 0 2.31.5 3.1 1.31l.71-.69Zm2.99-2.42a4.1 4.1 0 0 0-3.81 2.58l.93.37a3.1 3.1 0 0 1 2.88-1.95v-1Zm4.1 4.1a4.1 4.1 0 0 0-4.1-4.1v1a3.1 3.1 0 0 1 3.1 3.1h1Z"}),ge.createElement("path",{fill:"url(#SuccessC_a)",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M25.88 3.04a7.45 7.45 0 0 0-12.77 5.2v13.8c0 7.54 6.84 13.23 14.25 11.86l15.29-2.83 4.37 4.37H57.6L25.88 3.04Z"}),ge.createElement("path",{fill:"url(#SuccessC_b)",fillRule:"evenodd",d:"M13.1 16.86v5.16c0 7.54 6.87 13.23 14.28 11.83l.45-.08c.44-.73.68-1.6.66-2.64a9.05 9.05 0 0 0-2.66-6.23l-5.92-5.92a7.65 7.65 0 0 0-6.8-2.12Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"M13.1 16.86h-.5c0-.2.13-.37.3-.45l.2.45Zm14.28 17 .1.48-.1-.49Zm.45-.1.43.27a.5.5 0 0 1-.34.23l-.1-.5Zm.66-2.63h.5-.5Zm-2.66-6.23-.36.35.36-.35Zm-5.92-5.92.36-.35-.36.35Zm-6.8-2.12-.2-.45a.5.5 0 0 1 .11-.04l.09.5Zm.5 0v5.16h-1v-5.16h1Zm0 5.16c0 7.23 6.57 12.68 13.68 11.34l.18.98a12.54 12.54 0 0 1-14.86-12.32h1Zm13.68 11.34.45-.08.18.98-.45.08-.18-.98Zm.11.15c.39-.64.6-1.42.59-2.37l1-.02a5.3 5.3 0 0 1-.73 2.9l-.86-.51Zm.59-2.37a8.55 8.55 0 0 0-2.52-5.89l.71-.7a9.55 9.55 0 0 1 2.8 6.57l-1 .02Zm-2.52-5.89-5.91-5.92.7-.7 5.92 5.91-.7.71Zm-5.91-5.92a7.15 7.15 0 0 0-6.36-1.98l-.18-.98a8.15 8.15 0 0 1 7.25 2.26l-.71.7Zm-6.25-2.01-.4-.91.4.91Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M23.86 41.85 28 33.62M29.96 41.85l4.88-9.35M24.41 13.1c0 7.65 7.19 13.26 14.6 11.4l5.83-1.82"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m13.11 6.93-5.84 3.72 5.84 3.71V6.93Z"}),ge.createElement("circle",{cx:"1.09",cy:"1.09",r:"1.09",fill:"#0E101A",transform:"matrix(-1 0 0 1 19.67 6.27)"}),ge.createElement("defs",null,ge.createElement("radialGradient",{id:"SuccessC_b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(8 -9 8 7 13.6 32.4)",gradientUnits:"userSpaceOnUse"},ge.createElement("stop",{stopColor:"#F3F8E5"}),ge.createElement("stop",{offset:"1",stopColor:"#D7E8A9"})),ge.createElement("linearGradient",{id:"SuccessC_a",x1:"16.14",x2:"55.97",y1:".8",y2:"36.57",gradientUnits:"userSpaceOnUse"},ge.createElement("stop",{stopColor:"#D7E8A9"}),ge.createElement("stop",{offset:".38",stopColor:"#87E8D1"}),ge.createElement("stop",{offset:".89",stopColor:"#79A8F2"})))),null)}},{emptyState:{title:"The first word is the hardest.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 79 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{fill:"#C6CBDE",d:"M28.4 63.2c8.62 0 15.6-1.8 15.6-4s-6.98-4-15.6-4-15.6 1.8-15.6 4 6.98 4 15.6 4Z"}),ge.createElement("path",{fill:"#638EEB",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.19 56.6a.58.58 0 0 0 0-.25v-3.53h-2.67c-2.3-.84-5.78 0-9.72 0-3.94 0-7.45-.86-9.72 0H16.4v4.7c.43 1.9 5.83 3.4 12.4 3.4s11.95-1.5 12.39-3.4v-.93Z"}),ge.createElement("path",{fill:"#8ECBDE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.8 56.25c6.85 0 12.4-1.63 12.4-3.64 0-2-5.55-3.64-12.4-3.64-6.85 0-12.4 1.63-12.4 3.64 0 2.01 5.55 3.64 12.4 3.64Z"}),ge.createElement("path",{fill:"#8ECBDE",d:"M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"}),ge.createElement("path",{fill:"#99C2FF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M38.1 47.22V44.4h-2.01c-1.7-.63-4.34 0-7.29 0s-5.59-.65-7.3 0H19.5v2.94h.02c.32 1.43 4.35 2.55 9.28 2.55 4.92 0 8.95-1.12 9.27-2.55l.03-.1Z"}),ge.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M28.8 46.97c5.14 0 9.3-1.22 9.3-2.73s-4.16-2.74-9.3-2.74c-5.14 0-9.3 1.23-9.3 2.74 0 1.5 4.16 2.73 9.3 2.73Z"}),ge.createElement("path",{fill:"#0E101A",d:"M28.8 45.64c3.85 0 6.97-.66 6.97-1.48s-3.12-1.48-6.97-1.48c-3.85 0-6.97.66-6.97 1.48s3.12 1.48 6.97 1.48Z"}),ge.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M65.02 4.06c-1.83.69-3.5 1.34-5.03 2l-3.54 5.07.7-3.8c-7.41 3.5-11.69 7.17-17.58 13.7-5.5 6.11-6.19 14.68-6.19 14.68l10.55-2.27-2.86-1.36 4.46.1a159.72 159.72 0 0 1 17.7-13.15l-4.18-1.93 7.18.04 4.55-2.75L77.83 5l-12.81-.94Z"}),ge.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M67.85 8.92s-29.05 9.2-40.25 36h2c3.52-7.49 12.8-24.4 38.25-36Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m46.5 14.03-.83 4.67M59.58 21.57l-5.11-1.43M50.56 28.2l-5.11-1.45M39.6 20.91l-.71 4.2"})),null)},successState:{title:"You did it!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M24.56 10.36h34.93L43.53 46.6H8.59l15.97-36.24Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"M19.37 34.76c1.06-.2 2.53-.27 3.52-.82.64-.36.79.58 1.16.82 1.14.77 2.28-.09 3.26-.74.95-.63 1.14-.56 1.8.26.89 1.09 2.87.23 3.97-.03.38-.1.8-.17 1.13.06.68.49 1.48.63 2.28.75 1.15.19 2.26.29 3.42.3.67.01.83.26 1.35.52 1.09.54 2.8-.15 3.9-.37M22.4 27.57c1.54-.08 3.24.04 4.58-.82.2-.13.46-.25.69-.35.12-.05.6.92.83 1.02.57.26 1.27.19 1.88.04.57-.15 1.36-.78 1.89-.33.6.52.71.78 1.57.6.85-.2 1.31-.3 2.07-.04a6.3 6.3 0 0 0 3.73.26c.41-.09 4.57-.66 4.77-.26M24.01 20.46c1.95-.4 3.92-.75 5.81-1.4.24-.09.45-.14.7-.14.29 0 .34.29.48.52.57.95 1.56.59 2.45.56.85-.03 1.6.16 2.47.05.4-.05 1.44-.49 1.82-.31.22.1.3.4.52.53.64.38.91.44 1.65.2.58-.2 1.11.07 1.71-.3.14-.1.64-.61.7-.27.08.43.14.75.56.88 1.43.46 2.92-.5 4.33-.54"}),ge.createElement("path",{fill:"#F9C7C7",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M14.77 9.5c0 1.19.96 2.14 2.14 2.14h5.14V7.37H16.9c-1.18 0-2.14.95-2.14 2.14Z"}),ge.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M19.74 9.5c0-2.6 2.1-4.7 4.7-4.7h31.28v9.41H24.45a4.7 4.7 0 0 1-4.7-4.7Z"}),ge.createElement("circle",{cx:"56.15",cy:"9.51",r:"4.71",fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"}),ge.createElement("path",{fill:"#F9C7C7",fillRule:"evenodd",d:"M56.54 7.37a2.14 2.14 0 1 0 0 4.27h4.52a2.14 2.14 0 0 0 0-4.27h-4.52Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#1F243C",d:"M54.9 9.5c0-.9.73-1.63 1.64-1.63v-1A2.64 2.64 0 0 0 53.9 9.5h1Zm1.64 1.64c-.9 0-1.64-.73-1.64-1.63h-1a2.64 2.64 0 0 0 2.64 2.63v-1Zm4.52 0h-4.52v1h4.52v-1Zm0 0v1-1Zm1.64-1.63c0 .9-.73 1.63-1.64 1.63v1a2.64 2.64 0 0 0 2.64-2.63h-1Zm-1.64-1.64c.9 0 1.64.73 1.64 1.64h1a2.64 2.64 0 0 0-2.64-2.64v1Zm0 0v-1 1Zm-4.52 0h4.52v-1h-4.52v1Z"}),ge.createElement("path",{fill:"#F9C7C7",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M.8 45.5c0 1.19.96 2.14 2.14 2.14h5.13v-4.27H2.94c-1.18 0-2.14.95-2.14 2.14Z"}),ge.createElement("path",{fill:"#FEFAE9",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M5.77 45.5c0-2.6 2.1-4.7 4.7-4.7h30.47v9.41H10.47a4.7 4.7 0 0 1-4.7-4.7Z"}),ge.createElement("path",{fill:"#79A8F2",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M41.27 48.55h8.66v14.37l-4.35-1.7-4.31 1.7V48.55Z"}),ge.createElement("path",{fill:"#F8E485",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"}),ge.createElement("mask",{id:"SuccessD_a",width:"23",height:"24",x:"34",y:"32",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ge.createElement("path",{fill:"#F8E485",stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M54.6 49.2c-.55.96-1.74 1.42-2.51 2.16-.81.74-1.4 1.87-2.36 2.35-.99.47-2.18.14-3.25.27-1.05.14-2.16.75-3.23.53-1.02-.2-1.77-1.17-2.73-1.72-.92-.53-2.16-.71-2.84-1.5-.71-.8-.74-2.07-1.16-3.06-.42-1-1.3-1.86-1.4-2.95-.1-1.07.62-2.15.87-3.22.22-1.05.05-2.3.6-3.26.56-.96 1.75-1.42 2.52-2.16.81-.74 1.4-1.87 2.36-2.35.99-.47 2.18-.14 3.25-.27 1.05-.14 2.16-.75 3.23-.53 1.02.2 1.77 1.17 2.73 1.72.92.54 2.16.71 2.84 1.5.71.8.74 2.07 1.16 3.06.43 1 1.3 1.86 1.4 2.95.1 1.07-.62 2.15-.87 3.22-.22 1.05-.05 2.3-.6 3.26Z"})),ge.createElement("g",{mask:"url(#SuccessD_a)"},ge.createElement("path",{fill:"#FEFAE9",d:"m52.26 29.95 2.49 2.5-19.9 19.9-2.5-2.5zM60.33 37.48l-4.35-4.34-19.9 19.9 4.35 4.35z"}),ge.createElement("path",{stroke:"#1F243C",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"}))),null)}},{emptyState:{title:"Start writing to make the magic happen.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 65",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#EmptyE_a)"},ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M47.87 26.1c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM10.68 28.5c-.06 0-.1-.04-.1-.1.09-3.11-.98-4.24-4.1-4.33-.04 0-.08-.04-.08-.1 0-.05.04-.08.1-.08 3.11.08 4.24-.99 4.33-4.1 0-.05.04-.09.1-.09.05 0 .08.04.08.1-.08 3.11.99 4.24 4.1 4.32.05 0 .09.04.09.1 0 .05-.04.08-.1.08-3.11-.08-4.24.99-4.33 4.1 0 .06-.04.1-.1.1ZM35.84 12.5c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"}),ge.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M2.19 6.8a2.53 2.53 0 1 1 2.74-4.24l30.2 19.54-2.74 4.24L2.19 6.81Z"}),ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M24.3 21.1a2.52 2.52 0 1 1 2.74-4.23l8.75 5.65-2.74 4.24-8.75-5.66Z"}),ge.createElement("circle",{cx:"34.41",cy:"24.67",r:"2.55",fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",transform:"rotate(-57 34.4 24.67)"}),ge.createElement("path",{fill:"#C6CBDE",d:"M32 64.5c10.6 0 19.2-1.61 19.2-3.6s-8.6-3.6-19.2-3.6-19.2 1.61-19.2 3.6 8.6 3.6 19.2 3.6Z"}),ge.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M42.84 34.42H21.16l-3.23 23.34c-.2 1.49.5 2.9 1.94 3.3 2.13.6 6 1.27 12.62 1.27 6.77 0 10.35-.7 12.17-1.3 1.17-.4 1.64-1.56 1.47-2.78l-3.29-23.83Z"}),ge.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m43.74 41.35-.9-6.93H21.16l-.9 6.93h23.48Z"}),ge.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M50.08 33.3H13.92a1.12 1.12 0 0 0 0 2.24h36.16a1.12 1.12 0 1 0 0-2.24Z"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyE_a"},ge.createElement("path",{fill:"#fff",d:"M0 .5h64v64H0z"})))),null)},successState:{title:"Poof!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#SuccessE_a)"},ge.createElement("path",{fill:"#C6CBDE",d:"M32 64c11.49 0 20.8-1.8 20.8-4s-9.31-4-20.8-4-20.8 1.8-20.8 4 9.31 4 20.8 4Z"}),ge.createElement("path",{fill:"#F28C8C",d:"M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"}),ge.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M37.12 30.94a.95.95 0 0 1-.6-1.21c1.12-3.6 5.26-16.7 6.53-19.63 2.04-4.62 4.69-5.75 5.7-5.32 1 .46 1.97 3.16-.07 7.79-1.28 2.89-8.55 14.94-10.37 17.95-.25.4-.73.58-1.19.42Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m32.68 31.55-4.56 2.04s-.58-.97-1.46-2.55a348.24 348.24 0 0 1-5.63-10.29 1.31 1.31 0 0 1 .33-1.61 6.2 6.2 0 0 1 9.13 1.25 285.72 285.72 0 0 1 2.19 11.16Z"}),ge.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M44.05 31.22H19.95l-3.6 25.59c-.22 1.5.49 2.93 1.95 3.35 2.31.66 6.65 1.44 14.25 1.44 7.73 0 11.71-.8 13.68-1.48 1.18-.4 1.67-1.58 1.5-2.82l-3.68-26.08Z"}),ge.createElement("path",{fill:"#F8C6DA",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"m45.04 38.76-1-7.54H19.96l-1 7.54h26.1Z"}),ge.createElement("path",{fill:"#6E66DE",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M51.58 30H12.42a1.22 1.22 0 0 0 0 2.44h39.16a1.22 1.22 0 0 0 0-2.44Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M30.49 20.42c-1 3.4-2.07 6.72-2.98 8.82-.28.64-.55 1.25-.85 1.8-3.26 6.38-6.94 7.33-8.55 6.63-1.74-.73-3.78-4.63-.34-12.63.52-1.18 1.31-2.68 2.22-4.32a6.2 6.2 0 0 1 10.5-.3Z"}),ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.63 21.6c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13ZM19.87 10.4c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM57.03 52c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13Z"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"SuccessE_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"No pressure.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#EmptyF_a)"},ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.8.8h6.4v72.8h-6.4zM4.8 71.09l5.54 3.2 12.8-22.18-5.54-3.2zM59.2 71.08l-5.54 3.2-12.8-22.17 5.54-3.2z"}),ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.4 6.4h51.2v51.2H6.4V6.4Z"}),ge.createElement("path",{fill:"#DBEBFF",fillRule:"evenodd",d:"M57.6 40.12V57.6H6.4V19.47a13.4 13.4 0 0 1 2.28-1.84 6.48 6.48 0 0 1 5.52-.75 6.37 6.37 0 0 1 3.83 3.57c.75 1.75.67 3.54.56 4.45-.26 2.04-.98 3.65-1.79 5.47l-.1.24.38-.3c-.04.03.99-.79 1.91-1.33.5-.3 1.32-.72 2.33-.98a6.66 6.66 0 0 1 4.86.56c3.66 2 4.18 5.65 4.03 7.75-.1 1.36-.46 2.6-.82 3.56.84-.82 1.72-1.62 2.65-2.39 1.07-.87 2.81-1.96 4.78-2.53 1.67-.48 6.19-1.2 8.97 2.87a7.8 7.8 0 0 1 1.4 4.16c.79-.57 1.64-1.1 2.58-1.55l.05-.03c.36-.17 1.66-.8 3.1-1.05a7.1 7.1 0 0 1 4.68.77Z",clipRule:"evenodd"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M6.4 6.4h51.2v51.2H6.4V6.4Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M3.2 51.2h57.6v6.4H3.2z"}),ge.createElement("path",{fill:"#FEFAE9",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M27.97 32.23a5.23 5.23 0 0 1 7.71-2.94c2.9 1.72 3.77 5.06.55 8.71-3.22 3.65-9.8 3.1-11.7 2.32 2.37-3.14 2.3-4.74 3.44-8.1Z"}),ge.createElement("path",{fill:"#638EEB",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M43.6 14.18a3.48 3.48 0 1 1 5.53 4.18L37.7 31.46l-3.58-2.7 9.48-14.58Z"}),ge.createElement("path",{fill:"#15C39A",fillRule:"evenodd",d:"M36.94 37.12c-.21.3-.45.59-.7.88-3.23 3.65-9.8 3.1-11.7 2.32 1.75-2.32 2.17-3.8 2.72-5.77.1-.36.2-.73.33-1.13 1.3.08 2.16.22 3.76 2.6 1.34 1.98 3.54 1.66 5.59 1.1Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m36.94 37.12.4.3a.5.5 0 0 0-.54-.78l.14.48Zm-.7.88.37.33-.38-.33Zm-11.7 2.32-.4-.3a.5.5 0 0 0 .2.76l.2-.46Zm2.72-5.77-.48-.14.48.14Zm.33-1.13.03-.5a.5.5 0 0 0-.51.36l.48.14Zm3.76 2.6.42-.29-.42.28Zm5.18.8c-.2.29-.42.57-.67.85l.75.66c.27-.3.51-.61.73-.92l-.81-.58Zm-.67.85c-1.5 1.69-3.8 2.43-6.02 2.65-2.23.21-4.26-.12-5.11-.47l-.38.93c1.04.43 3.25.76 5.58.53 2.35-.22 4.95-1.02 6.68-2.98l-.75-.66Zm-10.92 2.95a15.1 15.1 0 0 0 2.8-5.94l-.96-.27c-.55 1.95-.95 3.36-2.64 5.6l.8.6Zm2.8-5.94c.1-.35.2-.72.33-1.11l-.96-.3-.33 1.14.96.27Zm4.03 1.05a7.25 7.25 0 0 0-2.16-2.3 4.13 4.13 0 0 0-2-.5l-.05 1c.64.03 1.08.08 1.55.36.48.28 1.04.84 1.83 2l.83-.56Zm5.03.9c-1.01.28-2 .48-2.87.4a2.79 2.79 0 0 1-2.16-1.3l-.83.56a3.79 3.79 0 0 0 2.89 1.73 9.2 9.2 0 0 0 3.24-.42l-.27-.96Z"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyF_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Bravo!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#SuccessF_a)"},ge.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M.8 5.8a5 5 0 0 1 5-5h52.4a5 5 0 0 1 5 5v52.4a5 5 0 0 1-5 5H5.8a5 5 0 0 1-5-5V5.8Z"}),ge.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"}),ge.createElement("g",{clipPath:"url(#SuccessF_b)"},ge.createElement("path",{fill:"#99C2FF",d:"M55.66 73.05c-.76.9-1.51 1.8-1.66 2.02H-2.94c.61-2.7.03-5.61-2.37-7.42-2.44-1.83-4.9-3.64-7.27-5.56V37.05l.12.1c1.98 1.79 5.03-.78 7.15.9 11.3 17 27.6 18.48 41.09 9.82 3.86-2.48 6.83-14.07 4.07-18.06-2.48-3.58-8.15-5.66-12.29-3a58.1 58.1 0 0 1-7.42 4.1c-.27.13-.77.28-1.11.38l.92-.25c-.47.13-.94.35-1.4.51-1.22.41-2.47.76-3.73 1.02-.61.13-1.25.2-1.86.33l.89-.2a7.2 7.2 0 0 1-.8.1c-.63.03-1.25 0-1.87-.04h-.07c.44 0 .53-.03-.61-.05a19.27 19.27 0 0 1-2.23-.55h-.01c-.5-.27-1-.5-1.49-.77-.4-.23-.82-.61-1.25-.83l-.42-.34c-1.12-.97-2.1-2.05-3.09-3.13C.7 25.66-3.16 16.37-4.78 15.2 1.27 17.47 10.8 16.8 15.6 14c4.8-2.8 9.6-7.31 11.42-13.73 0 0 8.38.75 14.05 4.15 5.66 3.4 6.8 8.31 9.44 14.74 2.65 6.42 9.07 8.68 15.12 6.38l.37.05-1.13 16.61c-8.38-6-17 .89-19.27 6.04-2.22 5.05 11.37 22.27 10.06 24.81 1.5-1.77 3.06-3.53-.04.07a.52.52 0 0 1-.07.08l.07-.08a.58.58 0 0 0 .04-.07Z",opacity:".7"}),ge.createElement("path",{fill:"#FCE5E5",d:"m30.37 12.1 1.17-2.18c.6-1.12 1.3-1.53 2.49-1.97a3.36 3.36 0 0 1 2.64.27c.81.42 1.47.27 2.06.97a15.46 15.46 0 0 1 2.87 13.86c-.11.4-.25.82-.22 1.25.02.34.14.66.19 1 .07.6-.1 1.19-.24 1.77-.56 2.19-.85 4.58.06 6.65.25.56.58 1.1.69 1.7.09.46.04.93 0 1.4-.26 3.04-.13 6.12.4 9.13-7.1.5-14.29-.28-21.12-2.27a1.27 1.27 0 0 1-.52-.24c-.26-.25-.27-.67-.19-1.02.21-.93.86-1.7 1.5-2.42 2.2-2.55 4.42-5.09 6.64-7.63"}),ge.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M24.77 36.29s-15.01-.79-6.79-7.93l-5.65-5.65S9.72 26.48 7.5 32.4c-1.04 2.75 1.39 5.17 4.43 8.21 3.5 3.5 7.82 7.81 8.64 14.39.14 1.11.3 1.87.45 2.33.17 1.1.34 2.26.5 3.5.43 3.31.49 14.3.49 14.3l34.4-.27.05-29.5c0-4.2-2.56-7.97-6.47-9.5l-9.8 7.7c-16.84 3.76-14.9-7.14-14.9-7.14s-.22.21-.57.59l.06-.72Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#FFC940",fillRule:"evenodd",d:"m22.98 37.83 1.2.1 1.2.11a2.27 2.27 0 0 0 0 .32 5.82 5.82 0 0 0 1.34 3.7c1.44 1.72 4.83 3.52 13.04 1.68l.53 2.36c-8.61 1.93-13.15.24-15.43-2.48a8.24 8.24 0 0 1-1.88-5.77v-.02Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m17.98 28.36.33.38a.5.5 0 0 0 .02-.73l-.35.35Zm6.36 7.93.5.05a.5.5 0 0 0-.47-.55l-.03.5Zm-12-13.58.34-.35a.5.5 0 0 0-.75.05l.4.3Zm-4.92 9.45.47.17-.47-.17Zm4.78 8.56.36-.35-.36.35Zm8.48 13.62.5-.06-.5.06Zm.07.61.5-.04-.5.04Zm.06 1.26h.5-.5Zm.1 2.46.5.01a.5.5 0 0 0 0-.1l-.5.1Zm-.1 1.98.5.04-.5-.04ZM22 75.12l-.5.07a.5.5 0 0 0 .5.43v-.5Zm34.39-.26v.5a.5.5 0 0 0 .5-.5h-.5Zm.06-29.1h-.5.5Zm-6.9-9.9.18-.47a.5.5 0 0 0-.5.09l.32.38Zm-9.37 7.7.1.48a.5.5 0 0 0 .21-.1l-.31-.39Zm-14.9-7.14.49.1a.5.5 0 0 0-.84-.46l.35.36Zm-1.08 1.15-.5-.05a.5.5 0 0 0 .88.38l-.38-.33Zm-6.55-9.59c-2.07 1.8-2.9 3.36-2.63 4.73.26 1.35 1.54 2.2 2.87 2.75 1.36.57 2.98.9 4.23 1.09a28.35 28.35 0 0 0 2.15.24h.04l.03-.5.03-.5h-.04l-.11-.01a20.5 20.5 0 0 1-1.95-.22c-1.23-.18-2.75-.5-4-1.02-1.29-.54-2.11-1.22-2.27-2.02-.16-.8.27-2.01 2.3-3.78l-.65-.76Zm-5.67-4.92 5.65 5.65.7-.7-5.65-5.65-.7.7Zm-4.1 9.27a45.35 45.35 0 0 1 4.41-8.7 19.79 19.79 0 0 1 .44-.62l-.4-.3-.4-.3v.01a8.3 8.3 0 0 0-.47.65 46.35 46.35 0 0 0-4.51 8.9l.94.36Zm4.68 8.04a33.1 33.1 0 0 1-3.9-4.42c-.89-1.35-1.2-2.5-.77-3.62l-.94-.35c-.58 1.55-.09 3.06.88 4.52.95 1.45 2.44 2.96 4.02 4.57l.71-.7Zm8.62 13.9c-.8-5.95-5.13-10.35-8.62-13.9l-.71.7c3.53 3.6 7.6 7.77 8.34 13.34l.99-.14Zm.07.63-.07-.62-1 .12.07.6 1-.1Zm.06 1.3c0-.43-.02-.87-.06-1.29l-1 .09c.04.4.06.8.06 1.2h1Zm.1 2.39c-.06-.35-.1-1.1-.1-2.38h-1c0 1.27.03 2.1.11 2.55l.99-.17Zm-.1 2.1c.06-.71.09-1.38.1-2l-1-.03c0 .6-.04 1.25-.1 1.94l1 .09ZM22 75.12l.5-.07-.01-.03-.01-.09a178.11 178.11 0 0 1-.69-5.85c-.33-3.22-.62-6.79-.49-8.4l-1-.08c-.14 1.72.17 5.4.5 8.58a242.97 242.97 0 0 0 .69 5.88v.1l.01.02.5-.06Zm34.39-.76-34.4.26.01 1 34.4-.26-.01-1Zm-.44-28.6-.06 29.1h1l.06-29.1h-1Zm-6.57-9.43a10.02 10.02 0 0 1 6.57 9.43h1c0-4.63-2.88-8.77-7.22-10.37l-.35.94Zm-8.89 7.61 9.38-7.7-.63-.76-9.38 7.69.63.77Zm-15.21-7.52a28.07 28.07 0 0 0-.5-.08 1.23 1.23 0 0 0-.02.14l-.03.37A7.16 7.16 0 0 0 26 41.69c1.8 2.5 5.79 4.25 14.28 2.35l-.22-.97c-8.35 1.86-11.8.05-13.25-1.96a6.16 6.16 0 0 1-1.08-3.09 7.29 7.29 0 0 1 .03-1.51l-.5-.09Zm-.7 1.48a20.66 20.66 0 0 1 1.02-1.1l.02-.01-.34-.37-.35-.36-.02.02-.06.06a14.31 14.31 0 0 0-1.03 1.1l.76.66Zm-.24-1.61-.5-.06v.09l-.03.25-.1.95.99.1a525.27 525.27 0 0 0 .14-1.27l-.5-.06Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M48 55.39v11.85L35.83 74.8"}),ge.createElement("path",{fill:"#0E101A",d:"m35.6 7.62-3.88 4.16s1.11 19.1-.24 23.23c-1.35 4.13-3.94 11.76-6.08 12.72-2.14.96-5.04.48-5.04-2.4 0-2.87 4.03-7.9 1.64-9.33.4 0 4.66-.98 3.63-6.47-1.03-5.48-2.85-13.96-.23-17.75 2.62-3.8 5.6-4.64 10.2-4.16Z"}),ge.createElement("path",{fill:"#FCE5E5",d:"M32.7 11.5c-2.44-.09-6.13 1.14-6.3 3.94-.16 2.8.4 3.8.33 4.5-.08.7-1.21 3.58.24 5.9 1.45 2.34 3.78 3.89 4.59 4.12.8.24 4.51-1.16 6.6-3.18"}),ge.createElement("path",{fill:"#0E101A",d:"M32.67 12a.5.5 0 0 0 .04-1l-.04 1Zm-6.27 3.44.5.03-.5-.03Zm5.16 14.52-.14.48.14-.48Zm1.15-18.95a8.94 8.94 0 0 0-4.24.93c-1.33.7-2.47 1.82-2.56 3.47l1 .06c.06-1.16.85-2.04 2.02-2.64 1.16-.6 2.6-.87 3.74-.82l.04-1Zm-6.8 4.4a14.04 14.04 0 0 0 .22 3.63l.06.38c.04.23.05.36.04.47l1 .11c.02-.25 0-.5-.05-.74l-.07-.4-.08-.46c-.1-.66-.2-1.58-.13-2.93l-1-.06Zm.32 4.48-.06.3-.13.53c-.1.41-.2.93-.26 1.51a6.08 6.08 0 0 0 .76 3.88l.85-.53a5.09 5.09 0 0 1-.62-3.25c.05-.52.15-.99.24-1.38l.13-.53c.04-.15.07-.3.08-.42l-.99-.11Zm.31 6.22a12.39 12.39 0 0 0 2.65 2.97 7.58 7.58 0 0 0 2.23 1.36l.28-.96a6.82 6.82 0 0 1-1.88-1.18 11.4 11.4 0 0 1-2.43-2.72l-.85.53Zm4.88 4.33c.2.06.42.06.62.03.22-.02.46-.07.72-.14a14.15 14.15 0 0 0 5.75-3.2l-.7-.71a13.16 13.16 0 0 1-5.88 3.06h-.23l-.28.96Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M31.57 19.2s-.7 3.52-.48 3.95c.21.43 1.4.43 1.99.06"}),ge.createElement("path",{fill:"#0E101A",d:"M28.8 20.11c.44 0 .8-.48.8-1.07 0-.6-.36-1.08-.8-1.08-.44 0-.8.48-.8 1.08 0 .59.36 1.07.8 1.07Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m36.34 19.7-2.51-.93 2.43-.88M30.25 26.1s3.6 1.1 4-.9"}),ge.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",strokeLinejoin:"round",d:"M48.27 35s-4.7 12.38-13.47 17.8c-5.76 3.56-13.2 3.6-14 3.2-3 12.82 1.59 16.32 4.38 15.39 2.8-.93 9.17-3.93 15.4-11.59C46.8 52.15 50.97 39.12 54 39.2c-1.2-2.4-5.73-4.2-5.73-4.2Z"}),ge.createElement("path",{fill:"#0E101A",d:"M31.23 12c1.46 0 4.71-.06 6.32 2.42 1.61 2.49 4.49 9.96 1.74 19.87-2.74 9.9-3.36 15.25 1.72 15.25 5.07 0 5.98-2.57 5.98-7.7 0-5.12 3.42-5.55 4.27-5.55-2.42-2.02-4.84-.86-5.6-12.98C44.88 11.2 39.38 7.62 35.6 7.62c-.26 0-5.83 4.37-4.38 4.37Z"}),ge.createElement("path",{fill:"#FCE5E5",d:"M22.5 23.5c5.14-2.01 5.47-2.87 4.3-3.5-1.17-.63-3.7.79-3.7.79s.28-.46 2.43-1.75c2.14-1.3-.15-2.43-1.8-1.79-.8.31-2.17.88-1.94 1.73 0 0-2-2.98-5.13.25-1.83 1.88-1.74 3.36-1.4 4.22h-.17l-4.92 6.15 4.49 1 3.5-4.79c.99.76 4.99.52 4.32-1.62-.21-.66-.5-1.37-.84-2.01l.01-.02-.16-.26"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M15.74 24.2s-2.06-2 .9-5.05c3.12-3.22 5.3 0 5.3 0s.24 4.88-2.38 3.95c-1.25-.44.05-3.85.05-3.85"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.77 18.56s.71-.68 2.36-1.33c1.65-.64 3.05.69.9 1.98-2.14 1.3-1.96 1.5-1.96 1.5s3.17-1.56 4.02-.79c.84.77-.31 2.04-4.63 3.5M17.52 19.5s-1.34 2.18-.26 2.85c1.07.67 1.36-.65 1.36-.65"}),ge.createElement("path",{fill:"#FCE5E5",d:"M21.98 22.99c-.14-.22-.63-1.35-.77-1.57a.51.51 0 0 0-.17-.2c-.09-.04-.67-1-.77-.98-.24.04-1.02-.23-1.18-.04-.65.77.03 2.18.05 2.52 0 .08.74 1.58.88 1.57.2 0 1.12-.26 1.2-.46"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M19.56 23.1s-1.48-2.16-.41-2.98c1.06-.82 2.63 1.84 3.3 4 .67 2.14-3.33 2.38-4.32 1.62l-3.87 4.88-2.96-2.69 3.8-5.02"}),ge.createElement("path",{fill:"#F28C8C",d:"M12.73 23.92s.4 3.63 4.44 4.44c0 0-2.82 2.02-3.22 4.84-.4 2.83-5.65-.37-5.65-.37l1.61-4.87"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M12.33 23.11s1.62 4.85 5.25 5.25"})),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"SuccessF_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})),ge.createElement("clipPath",{id:"SuccessF_b"},ge.createElement("path",{fill:"#fff",d:"M4.8 4.8h54.4v54.4H4.8z"})))),null)}},{emptyState:{title:"Time to dig in.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#EmptyG_a)"},ge.createElement("path",{fill:"#DBEBFF",stroke:"#0E101A",d:"m51.15 10.56-3.71-1.48-5.32 13.38 3.71 1.48z"}),ge.createElement("path",{fill:"#4A6EE0",stroke:"#0E101A",d:"m49.29 31.5-14.87-5.9 1.48-3.75a6 6 0 0 1 7.8-3.36l3.71 1.48a6 6 0 0 1 3.36 7.8L49.3 31.5Z"}),ge.createElement("path",{fill:"#4A6EE0",fillRule:"evenodd",stroke:"#0E101A",d:"M56.36 7.08a2.47 2.47 0 0 0-1.17-3.63l-5.8-2.31a2.47 2.47 0 0 0-3.35 1.83l-.94 4.95a2.47 2.47 0 0 0 1.51 2.77l4.04 1.6c1.1.44 2.36.03 3-.97l2.71-4.24Zm-2.8-1.16-2.1 3.57-3.52-1.4.93-4.03 4.69 1.86Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M2.96 54.7C-4.82 51.48 7.2 28.34 27.6 22 48 15.65 67.98 49.1 61.9 54c-6.09 4.92-20.72 5.5-32.72 5.1-12-.4-18.44-1.2-26.22-4.4Z"}),ge.createElement("path",{fill:"#AAF2E1",stroke:"#0E101A",d:"m11.5 24.49 3.38-2.12 7.63 12.21-3.39 2.12z"}),ge.createElement("path",{fill:"#15C39A",stroke:"#0E101A",d:"m17.08 44.75 13.57-8.48-2.13-3.4a6 6 0 0 0-8.27-1.91l-3.4 2.12a6 6 0 0 0-1.9 8.26l2.13 3.41Z"}),ge.createElement("path",{fill:"#15C39A",fillRule:"evenodd",stroke:"#0E101A",d:"M5.74 22a2.47 2.47 0 0 1 .5-3.79l5.3-3.31a2.47 2.47 0 0 1 3.62 1.2l1.82 4.7c.43 1.12 0 2.37-1 3l-3.68 2.3c-1.01.63-2.32.46-3.13-.41l-3.43-3.7Zm2.55-1.65L11 23.5l3.22-2-1.64-3.81-4.28 2.67Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#FFF0D4",d:"M19.35 39.37a12.57 12.57 0 0 0-4.97 7.32l9.6 2 14.8-10-6.8-6.8c-4.26 5.53-8.47 4.55-12.63 7.48Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"M14.8 44.4s.76-2.61 4.38-4.9c3.62-2.3 7.62-1.9 12.02-6.3"}),ge.createElement("ellipse",{cx:"42.75",cy:"42.11",fill:"#EF6E6E",stroke:"#0E101A",strokeLinejoin:"round",rx:"10.49",ry:"3.82"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M38.63 40.85c-3.34.38-5.22 2.5-5.01 3.79.2 1.28 2.92 4.16 2.92 4.16h9.61S52 48.05 52 45.77c0-2.27-1.67-3.31-3.76-3.78-2.09-.48-4.24.41-4.24.41s-2.03-1.93-5.37-1.55Z"}),ge.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"m32.3 42.45 2.18 18.16c0 1.37 3.7 2.48 8.27 2.48C47.3 63.1 51 62 51 60.61l2.19-18.16c-.47 1.95-4.97 3.47-10.45 3.47-5.48 0-9.98-1.52-10.45-3.47Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m32.3 42.45.48-.12a.5.5 0 0 0-.98.18l.5-.06Zm2.18 18.16h.5a.5.5 0 0 0 0-.06l-.5.06Zm16.53 0-.5-.06a.5.5 0 0 0 0 .06h.5Zm2.19-18.16.5.06a.5.5 0 0 0-.99-.18l.49.12Zm-21.4.06 2.18 18.16 1-.12-2.19-18.16-.99.12Zm2.18 18.1c0 .59.4 1.04.86 1.38.48.34 1.14.62 1.92.86 1.55.46 3.67.74 5.99.74v-1c-2.25 0-4.27-.27-5.7-.7a5.76 5.76 0 0 1-1.63-.72c-.37-.26-.44-.46-.44-.56h-1Zm8.77 2.98c2.32 0 4.43-.28 5.99-.74a6.71 6.71 0 0 0 1.91-.86c.47-.34.86-.8.86-1.38h-1c0 .1-.07.3-.43.56-.36.25-.9.5-1.63.72-1.44.43-3.45.7-5.7.7v1Zm8.76-2.92 2.19-18.16-1-.12-2.18 18.16 1 .12Zm1.2-18.34c-.08.33-.34.7-.87 1.08-.51.38-1.24.73-2.15 1.03-1.8.6-4.24.98-6.94.98v1c2.78 0 5.33-.38 7.26-1.03.97-.32 1.8-.72 2.42-1.17.62-.46 1.1-1 1.26-1.66l-.98-.23Zm-9.96 3.1c-2.7 0-5.14-.38-6.95-.99-.9-.3-1.63-.65-2.15-1.03s-.79-.75-.87-1.08l-.97.23c.16.65.63 1.2 1.25 1.66.63.45 1.46.85 2.42 1.17 1.94.65 4.49 1.03 7.27 1.03v-1Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M41.81 47.08c.4.63.84 1.27 1.33 1.9 3.81 5 8.67 7.7 10.86 6.03 1.83-1.4 1.22-5.38-1.25-9.56"}),ge.createElement("circle",{cx:"41.79",cy:"47.04",r:"1.91",fill:"#F9C7C7",stroke:"#0E101A",strokeLinejoin:"round"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyG_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Looking good!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#SuccessG_a)"},ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",d:"M32 12V.8"}),ge.createElement("path",{fill:"#41D9B5",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"m32 .8 10.4 2-10.4 2v-4Z"}),ge.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M4.19 57.54c-11.68-1.65 9.45-9.48 23.8-11.66 14.34-2.19 41.86 7.56 33.74 11.33-1.66.77-14.7 2.23-24.14 2.87a6.31 6.31 0 0 0-2.96 1.21c-1.76 1.17-4.44 1.91-7.43 1.91-2.26 0-4.34-.42-5.98-1.13a7.64 7.64 0 0 0-4-.58c-.53.07-1.07.11-1.62.11-2.4 0-4.53-.7-5.93-1.8-1.06-.83-2.18-1.77-3.52-1.97l-.64-.1-1.32-.19Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m27.98 45.88.08.5-.08-.5ZM4.2 57.54l-.07.5.07-.5Zm57.54-.33.21.45-.2-.45Zm-56.22.53.07-.5-.07.5Zm22.4-12.36C20.7 46.48 11.79 49 6.13 51.45a27.57 27.57 0 0 0-3.6 1.83 5.88 5.88 0 0 0-2 1.8 1.5 1.5 0 0 0-.2 1.07c.08.37.32.68.64.91.62.46 1.68.77 3.15.98l.14-1c-1.45-.2-2.29-.49-2.7-.78-.19-.14-.24-.26-.25-.32-.02-.07-.01-.18.09-.36.21-.39.76-.88 1.67-1.45.89-.56 2.06-1.16 3.45-1.76 5.58-2.42 14.4-4.91 21.54-6l-.15-.99Zm34.03 12.28c1.08-.5 1.77-1.2 1.76-2.11 0-.86-.63-1.67-1.48-2.4-1.73-1.46-4.94-3-8.78-4.31-7.69-2.65-18.25-4.57-25.53-3.46l.15 1c7.06-1.08 17.43.78 25.06 3.4 3.81 1.32 6.87 2.8 8.46 4.14.8.7 1.12 1.24 1.12 1.63 0 .33-.22.76-1.18 1.2l.42.91Zm-24.31 2.92c4.72-.32 10.35-.85 15-1.39 2.33-.27 4.42-.55 6.03-.8.8-.13 1.5-.26 2.05-.38a6.6 6.6 0 0 0 1.23-.35l-.42-.9a5.9 5.9 0 0 1-1.02.28c-.52.11-1.2.23-2 .36-1.59.25-3.66.53-5.98.8-4.64.54-10.25 1.07-14.96 1.39l.07 1ZM27.2 63.7c3.07 0 5.84-.76 7.7-1.99l-.55-.83c-1.66 1.1-4.23 1.82-7.15 1.82v1Zm-6.17-1.17c1.7.74 3.85 1.17 6.17 1.17v-1c-2.2 0-4.2-.41-5.78-1.09l-.4.92ZM17.14 61c-.5.06-1 .1-1.54.1v1c.58 0 1.14-.04 1.68-.11l-.14-1Zm-1.54.1c-2.3 0-4.33-.68-5.62-1.69l-.61.79c1.5 1.18 3.75 1.9 6.23 1.9v-1ZM5.44 58.23l.64.1.14-1-.64-.09-.14 1Zm-1.32-.2 1.32.2.14-.99-1.32-.2-.14 1Zm5.86 1.38c-1.02-.8-2.26-1.85-3.76-2.07l-.14.98c1.18.18 2.18 1.01 3.29 1.88l.61-.79Zm11.44 2.2a8.13 8.13 0 0 0-4.28-.61l.14.99a7.14 7.14 0 0 1 3.75.54l.4-.92Zm16.14-2.02c-1.22.08-2.3.68-3.2 1.29l.54.83a5.83 5.83 0 0 1 2.73-1.13l-.07-1Z"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M36.4 21.6h-8.8a2 2 0 0 1-2-2v-4.37a2 2 0 0 1 .59-1.42l4.4-4.4a2 2 0 0 1 2.82 0l4.4 4.4a2 2 0 0 1 .59 1.42v4.37a2 2 0 0 1-2 2Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M30.4 13.6a1.6 1.6 0 0 1 3.2 0v3.2h-3.2v-3.2Z"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M39.6 20H24.4a2 2 0 0 0-2 2v21.6c0 1.1.9 2 2 2h15.2a2 2 0 0 0 2-2V22a2 2 0 0 0-2-2Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M30.4 24.8a1.6 1.6 0 0 1 3.2 0V28h-3.2v-3.2Z"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M26 28h-7.2a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2H26a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M20.8 32.8a1.6 1.6 0 0 1 3.2 0V36h-3.2v-3.2Z"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#0E101A",strokeLinecap:"round",d:"M45.2 28H38a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2h7.2a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"}),ge.createElement("path",{fill:"#F28C8C",stroke:"#0E101A",d:"M40 32.8a1.6 1.6 0 1 1 3.2 0V36H40v-3.2Z"}),ge.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M12.8 41.2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v4a2 2 0 0 1-.05.45c.03.18.05.36.05.55v7.4H12.8v-7.4c0-.19.02-.37.05-.55a2 2 0 0 1-.05-.45v-4Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"M19.34 43.2h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.49 2.45-.49-.11-.02.1.02.1.49-.1Zm.05 7.95v.5h.5v-.5h-.5Zm-38.4 0h-.5v.5h.5v-.5Zm.05-7.95.5.09.01-.1-.02-.1-.49.1Zm1.95-6.95a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0H14.8v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.82 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm.5.5v-2h-1v2h1Zm0-2c0-.83.68-1.5 1.5-1.5v-1a2.5 2.5 0 0 0-2.5 2.5h1Zm1.5-1.5h2.54v-1h-2.54v1Zm2.54 0c.83 0 1.5.67 1.5 1.5h1a2.5 2.5 0 0 0-2.5-2.5v1Zm1.5 1.5v4h1v-4h-1Zm0 4c0 .12-.01.23-.04.34l.98.22c.04-.18.06-.37.06-.56h-1Zm1 1c0-.22-.02-.43-.06-.64l-.98.18c.03.15.04.3.04.46h1Zm0 7.4v-7.4h-1v7.4h1Zm-19.7.5h19.2v-1H32v1Zm-19.2 0H32v-1H12.8v1Zm-.5-7.9v7.4h1v-7.4h-1Zm.06-.64c-.04.2-.06.42-.06.64h1c0-.16.01-.31.04-.46l-.98-.18Zm-.06-.36c0 .2.02.38.06.56l.98-.22a1.5 1.5 0 0 1-.04-.34h-1Zm0-4v4h1v-4h-1Z"}),ge.createElement("path",{fill:"#FFF0D4",d:"M13.2 50.4h37.6v6.4H13.2v-6.4Z"}),ge.createElement("circle",{cx:"7.2",cy:"7.2",r:"6.4",fill:"#F8E485",stroke:"#0E101A"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M3.2 21.6c2.18 0 4 4 4 4s1.82-4 4-4M12.8 16c1.75 0 3.2 3.2 3.2 3.2s1.45-3.2 3.2-3.2"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"SuccessG_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"All the world's a page.",description:"Suggestions will appear here.",illustration:ge.createElement(Gs,null)},successState:{title:"You deserve a break.",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M28.64 24s2.56-1.62 2.56-4.86c0-4.92-6.4-5.8-6.4-10.67 0-3.36 3.84-6.07 3.84-6.07M36.64 21.6s2.56-1.56 2.56-4.68c0-4.8-6.4-5.52-6.4-10.28C32.8 3.41 36.64.8 36.64.8"}),ge.createElement("path",{fill:"#C6CBDE",d:"M32.8 64c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2Z"}),ge.createElement("path",{fill:"#1995BB",fillRule:"evenodd",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.6 35.2h5.39c2.82 0 5.01 2.47 5.01 5.36v6.08c0 2.89-2.2 5.36-5.01 5.36H49.6v-3.5h5.39c.85 0 1.66-.78 1.66-1.86v-6.08c0-1.08-.81-1.86-1.66-1.86H49.6v-3.5Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M31 60.8a19 19 0 0 1-19-19V31.2h40v10.6a19 19 0 0 1-19 19h-2Z"}),ge.createElement("path",{fill:"#F7E68B",d:"M49.66 32.63c1.5-.44 2.34-.94 2.34-1.48C52 29.41 43.04 28 32 28s-20 1.4-20 3.15c0 .6 1.08 1.17 2.95 1.65 3.37-1 10-1.67 17.65-1.67 7.22 0 13.54.6 17.06 1.5Z"}),ge.createElement("path",{fill:"#1F243C",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.6 32.71c-3.49-.9-9.75-1.51-16.9-1.51-7.58 0-14.16.68-17.5 1.69 3.49.9 9.75 1.51 16.9 1.51 7.58 0 14.16-.68 17.5-1.69Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 34.4c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2ZM23.2 34v7.6"}),ge.createElement("path",{fill:"#FAC0D6",stroke:"#0E101A",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M25.98 48.64H20.6a.77.77 0 0 1-.77-.76V42.5c0-.42.35-.77.77-.77h5.37c.42 0 .77.35.77.77v5.37c0 .42-.35.76-.77.76Z"})),null)}},{emptyState:{title:"So far, so good.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#EmptyI_a)"},ge.createElement("path",{fill:"#C6CBDE",d:"M35.6 64c14.8 0 18.8-3.04 18.8-6.8s-4-6.8-18.8-6.8-26.8 3.04-26.8 6.8 12 6.8 26.8 6.8Z"}),ge.createElement("ellipse",{cx:"32",cy:"26.8",fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"}),ge.createElement("mask",{id:"EmptyI_b",width:"64",height:"14",x:"0",y:"20",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ge.createElement("ellipse",{cx:"32",cy:"26.8",fill:"#15C39A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"})),ge.createElement("g",{mask:"url(#EmptyI_b)"},ge.createElement("path",{fill:"#FFF0D4",fillRule:"evenodd",d:"M20.9 25.03a15.38 15.38 0 0 1 6.83-2.51 14.38 14.38 0 0 1 11.68 3.73s4.67-2.14 9.22-1c4.54 1.13 8.17 3.63 8.17 9.08S44.08 41.6 44.08 41.6H24.71a12.9 12.9 0 0 1-6.31 1.6c-6.19 0-11.2-4.12-11.2-9.2 0-5.08 5.01-9.2 11.2-9.2.86 0 1.7.08 2.5.23Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m27.73 22.52.07.5-.07-.5Zm-6.83 2.51-.09.5a.5.5 0 0 0 .38-.09l-.29-.41Zm18.5 1.22-.35.34c.14.16.37.2.57.11l-.21-.45Zm9.23-1-.13.48.13-.49ZM44.08 41.6v.5a.5.5 0 0 0 .07 0l-.07-.5Zm-19.37 0v-.5a.5.5 0 0 0-.24.06l.24.44Zm2.96-19.58a15.88 15.88 0 0 0-7.05 2.6l.56.82c1.7-1.17 3.93-2.09 6.62-2.43l-.13-.99Zm11.74 4.23.36-.35-.02-.02a4.06 4.06 0 0 0-.2-.2l-.63-.53a14.96 14.96 0 0 0-11.25-3.12l.13.98a13.96 13.96 0 0 1 11.25 3.58l.36-.34Zm9.34-1.5c-2.38-.59-4.77-.32-6.55.08a18.63 18.63 0 0 0-2.98.96h-.01l.2.46.2.45h.02l.03-.02a8.13 8.13 0 0 1 .72-.28c.5-.18 1.2-.4 2.04-.6 1.7-.38 3.92-.61 6.08-.07l.25-.97Zm8.55 9.58c0-2.85-.96-4.97-2.53-6.52-1.57-1.53-3.7-2.47-6.02-3.05l-.25.97c2.23.56 4.18 1.43 5.57 2.8 1.37 1.34 2.23 3.2 2.23 5.8h1ZM44.08 41.6l.07.5h.02l.02-.01a9.58 9.58 0 0 0 .53-.09 38.05 38.05 0 0 0 5.89-1.52 16.35 16.35 0 0 0 4.51-2.32c1.25-.98 2.18-2.25 2.18-3.83h-1c0 1.15-.66 2.15-1.8 3.04-1.13.9-2.66 1.6-4.23 2.17a34.72 34.72 0 0 1-6.22 1.56h-.03l.06.5Zm-19.37.5h19.37v-1H24.71v1Zm-.24-.94a12.4 12.4 0 0 1-6.07 1.54v1c2.43 0 4.68-.61 6.56-1.66l-.5-.88ZM18.4 42.7c-6 0-10.7-3.98-10.7-8.7h-1c0 5.44 5.33 9.7 11.7 9.7v-1ZM7.7 34c0-4.72 4.7-8.7 10.7-8.7v-1c-6.37 0-11.7 4.26-11.7 9.7h1Zm10.7-8.7c.83 0 1.64.08 2.41.22l.18-.98c-.83-.16-1.7-.24-2.59-.24v1Z"}),ge.createElement("ellipse",{cx:"32",cy:"26.8",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",rx:"31.2",ry:"6"})),ge.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",d:"M55 1a2.4 2.4 0 0 0-3.29.88l-7.45 12.9c-1.96 3.41-6.37 4.73-9.6 6.97a7.97 7.97 0 0 0-2.37 2.57l-2 3.46a8 8 0 0 0 13.86 8l2-3.46c.61-1.06.95-2.2 1.05-3.34.32-3.91-.75-8.39 1.22-11.8l7.45-12.9A2.4 2.4 0 0 0 55 1Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"m32.3 24.32-.44-.25.43.25Zm-2 3.46.43.25-.44-.25Zm13.85 8-.43-.25.43.25Zm2-3.46.43.25-.43-.25Zm6-30.19a1.9 1.9 0 0 1 2.6-.7l.5-.86a2.9 2.9 0 0 0-3.97 1.06l.87.5Zm-7.45 12.9 7.45-12.9-.87-.5-7.45 12.9.87.5Zm-11.97 9.54c.57-1 1.33-1.8 2.21-2.41l-.57-.82c-1 .69-1.86 1.6-2.51 2.73l.87.5Zm-2 3.46 2-3.46-.87-.5-2 3.46.87.5Zm2.74 10.25a7.5 7.5 0 0 1-2.74-10.25l-.87-.5a8.5 8.5 0 0 0 3.11 11.61l.5-.86Zm10.25-2.75a7.5 7.5 0 0 1-10.25 2.75l-.5.86a8.5 8.5 0 0 0 11.61-3.1l-.86-.5Zm2-3.46-2 3.46.86.5 2-3.46-.86-.5Zm.98-3.13a7.47 7.47 0 0 1-.98 3.13l.86.5a8.47 8.47 0 0 0 1.11-3.54l-1-.09Zm8.74-24.9-7.45 12.9.86.5 7.45-12.9-.86-.5Zm-.7-2.6a1.9 1.9 0 0 1 .7 2.6l.86.5A2.9 2.9 0 0 0 55.24.56l-.5.87ZM47.7 29.03c.09-1.01.08-2.05.06-3.07-.03-1.04-.07-2.06-.06-3.06.02-2.01.25-3.88 1.16-5.46l-.86-.5c-1.05 1.81-1.28 3.9-1.3 5.95 0 1.03.03 2.08.06 3.09.02 1.02.03 2.01-.05 2.96l1 .09Zm-3.86-14.5c-.92 1.6-2.42 2.72-4.15 3.74-.87.51-1.77.99-2.67 1.48-.9.5-1.8 1-2.64 1.59l.57.82c.79-.55 1.65-1.04 2.55-1.53.88-.48 1.81-.97 2.7-1.5 1.77-1.04 3.46-2.28 4.5-4.1l-.86-.5Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",d:"m32.89 31.17 1.96-3.84a8.6 8.6 0 0 1 5.93-4.51"}),ge.createElement("path",{fill:"#FFF0D4",d:"M49.6 28.8H27.2v10h22.4v-10Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M27.2 28.8h22.4"}),ge.createElement("path",{fill:"#87E8D1",fillRule:"evenodd",d:"M.83 27.07H.8V28a31.2 31.2 0 0 0 62.4 0v-.93h-.03c-.73 3.19-14.4 5.73-31.17 5.73-16.76 0-30.44-2.54-31.17-5.73Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"M.8 27.07v-.5a.5.5 0 0 0-.5.5h.5Zm.03 0 .49-.11a.5.5 0 0 0-.49-.4v.5Zm62.37 0h.5a.5.5 0 0 0-.5-.5v.5Zm-.03 0v-.5a.5.5 0 0 0-.49.39l.49.1Zm-62.37.5h.03v-1H.8v1Zm.5.43v-.93h-1V28h1ZM32 58.7A30.7 30.7 0 0 1 1.3 28h-1A31.7 31.7 0 0 0 32 59.7v-1ZM62.7 28A30.7 30.7 0 0 1 32 58.7v1A31.7 31.7 0 0 0 63.7 28h-1Zm0-.93V28h1v-.93h-1Zm.47.5h.03v-1h-.03v1Zm-.49-.61c-.05.24-.25.54-.68.88-.43.33-1.04.67-1.85 1-1.6.68-3.86 1.28-6.65 1.8-5.56 1.03-13.14 1.66-21.5 1.66v1c8.4 0 16.04-.64 21.69-1.68a35.17 35.17 0 0 0 6.85-1.85 9.01 9.01 0 0 0 2.08-1.15c.52-.4.9-.88 1.04-1.44l-.98-.22ZM32 32.3c-8.36 0-15.94-.63-21.5-1.66a34.23 34.23 0 0 1-6.65-1.8 8.05 8.05 0 0 1-1.85-1c-.43-.34-.63-.64-.68-.88l-.98.22c.13.56.52 1.04 1.04 1.44.53.42 1.23.8 2.08 1.15 1.7.7 4.04 1.33 6.85 1.85C15.96 32.66 23.6 33.3 32 33.3v-1Z"}),ge.createElement("g",{opacity:".15",style:{mixBlendMode:"multiply"}},ge.createElement("path",{fill:"#0E101A",d:"M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"})),ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M35.2 41.6h18.73a34.2 34.2 0 0 0 8.98 21.6H44.56c-5.36-3.65-8.84-13.31-9.36-21.6Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",d:"M50.5 47.2h-9.7M52.1 52h-9.7M54.5 56.8h-9.7"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyI_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Nice work! Have a cookie.",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#SuccessI_a)"},ge.createElement("path",{fill:"#C6CBDE",d:"M22.4 60c8.84 0 16-2.69 16-6s-7.16-6-16-6-16 2.69-16 6 7.16 6 16 6Z"}),ge.createElement("path",{fill:"#C6CBDE",d:"M41.6 64c11.05 0 20-2.5 20-5.6 0-3.1-8.95-5.6-20-5.6s-20 2.5-20 5.6c0 3.1 8.95 5.6 20 5.6Z"}),ge.createElement("path",{fill:"#DDEFF5",fillRule:"evenodd",d:"M36.8 6.75H.8l5.27 46.61c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63L36.8 6.75Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#000",d:"M.8 6.75v-.5a.5.5 0 0 0-.5.56l.5-.06Zm36 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.01-.5a.5.5 0 0 0-.49.5h.5Zm0 0 .02.5a.5.5 0 0 0 .48-.44l-.5-.05ZM.8 7.27h36v-1H.8v1ZM6.57 53.3 1.3 6.7l-1 .1 5.27 46.62 1-.11Zm0 .06h-1 1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.1-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.36.88-.6.22-.22.4-.52.4-.87h-1Zm.49-.5.03 1-.03-1ZM36.3 6.7 31.03 53.3l1 .11L37.3 6.81l-1-.11Z"}),ge.createElement("ellipse",{cx:"18.8",cy:"6.39",fill:"#DDEFF5",stroke:"#000",strokeLinejoin:"round",rx:"18",ry:"3.95"}),ge.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M35.2 20.83H2.4l3.67 32.53c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63l3.67-32.54Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#000",d:"M2.4 20.83v-.5a.5.5 0 0 0-.5.56l.5-.06Zm32.8 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.03-.5a.5.5 0 0 0-.47.5h.5Zm0 0 .04.5a.5.5 0 0 0 .46-.44l-.5-.05ZM2.4 21.34h32.8v-1H2.4v1ZM6.56 53.3 2.9 20.77l-1 .12 3.67 32.53 1-.11Zm0 .06-1-.01h1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.11-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.37.88-.6.22-.22.4-.52.4-.87h-1Zm.47-.5.07 1-.07-1Zm3.2-32.1-3.67 32.54 1 .11L35.7 20.9l-1-.12Z"}),ge.createElement("ellipse",{cx:"18.8",cy:"20.8",fill:"#fff",stroke:"#000",strokeLinejoin:"round",rx:"16.4",ry:"3.2"}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#000",d:"M59.66 53.9c-.15 4.95-9.28 6.9-20.4 6.56-11.1-.33-20-2.8-19.85-7.75.15-4.94 9.28-8.67 20.39-8.34 11.11.33 20 4.6 19.86 9.54Z"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"22.77",y:"51.3",fill:"#4A6EE0",rx:"1.23",transform:"rotate(-4 22.77 51.3)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"32.42",y:"51.83",fill:"#F18AB2",rx:"1.23",transform:"rotate(41 32.42 51.83)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"43.02",y:"50.37",fill:"#8780E4",rx:"1.23",transform:"rotate(120 43.02 50.37)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"30.1",y:"47.89",fill:"#15C39A",rx:"1.23",transform:"rotate(4 30.1 47.89)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"49.73",y:"51.29",fill:"#F18AB2",rx:"1.23",transform:"rotate(29 49.73 51.3)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"42.44",y:"56.4",fill:"#15C39A",rx:"1.23",transform:"rotate(-19 42.44 56.4)"}),ge.createElement("path",{fill:"#7D6455",fillRule:"evenodd",d:"M21.92 48.56c3.48-2.71 10.2-4.42 17.88-4.2 10 .3 18.2 3.8 19.64 8.1-8.37 4.82-33.76 2.81-37.52-3.9Z",clipRule:"evenodd",opacity:".3",style:{mixBlendMode:"multiply"}}),ge.createElement("path",{fill:"#FFF0D4",stroke:"#000",d:"M62.13 49.5c-1.4 4.73-10.77 5.36-21.43 2.2-10.66-3.17-18.57-8.93-17.16-13.67 1.4-4.74 11.46-6.87 22.12-3.7S63.54 44.76 62.13 49.5Z"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"27.2",y:"36.55",fill:"#15C39A",rx:"1.23",transform:"rotate(-13 27.2 36.55)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"33.87",y:"39.22",fill:"#EE6C9F",rx:"1.23",transform:"rotate(62 33.87 39.22)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"38.18",y:"34.85",fill:"#4A6EE0",rx:"1.23",transform:"rotate(5 38.18 34.85)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"41.76",y:"45.57",fill:"#4A6EE0",rx:"1.23",transform:"rotate(5 41.76 45.57)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"39.05",y:"39.32",fill:"#8780E4",rx:"1.23",transform:"rotate(26 39.05 39.32)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"49.66",y:"43.71",fill:"#EE6C9F",rx:"1.23",transform:"rotate(-10 49.66 43.71)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"47.8",y:"36.64",fill:"#15C39A",rx:"1.23",transform:"rotate(47 47.8 36.64)"}),ge.createElement("rect",{width:"5.86",height:"2.45",x:"53.16",y:"48.35",fill:"#4A6EE0",rx:"1.23",transform:"rotate(-28 53.16 48.35)"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"SuccessI_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)}},{emptyState:{title:"Let's get to work.",description:"Suggestions will appear here.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("g",{clipPath:"url(#EmptyJ_a)"},ge.createElement("ellipse",{cx:"32",cy:"57.6",fill:"#C6CBDE",rx:"32",ry:"5.6"}),ge.createElement("path",{fill:"#F28C8C",fillRule:"evenodd",stroke:"#0E101A",strokeLinejoin:"round",d:"M26.4 5.6A2.4 2.4 0 0 0 24 8v8.8a2.4 2.4 0 0 0 2.4 2.4h12.8a2.4 2.4 0 0 0 2.4-2.4V8a2.4 2.4 0 0 0-2.4-2.4H26.4ZM19.2 8A7.2 7.2 0 0 1 26.4.8h12.8A7.2 7.2 0 0 1 46.4 8v8.8a7.2 7.2 0 0 1-7.2 7.2H26.4a7.2 7.2 0 0 1-7.2-7.2V8Z",clipRule:"evenodd"}),ge.createElement("rect",{width:"62.4",height:"46.4",x:".8",y:"11.2",fill:"#41D9B5",stroke:"#000",strokeLinejoin:"round",rx:"10"}),ge.createElement("path",{stroke:"#000",strokeLinejoin:"round",d:"M15.2 21.2v7.2a10 10 0 0 0 10 10h28a10 10 0 0 0 10-10v-7.2"}),ge.createElement("rect",{width:"14.4",height:"46.4",x:".8",y:"11.2",fill:"#11A683",stroke:"#000",strokeLinejoin:"round",rx:"7.2"}),ge.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",d:"M23.2 32.4c0-1.1.9-2 2-2h5.6a2 2 0 0 1 2 2v10a4.8 4.8 0 0 1-9.6 0v-10Z"}),ge.createElement("circle",{cx:"28",cy:"42.4",r:"2.4",fill:"#4D536E",stroke:"#0E101A"}),ge.createElement("path",{fill:"#F9EA9E",stroke:"#0E101A",d:"M46.4 32.4c0-1.1.9-2 2-2H54a2 2 0 0 1 2 2v10a4.8 4.8 0 1 1-9.6 0v-10Z"}),ge.createElement("circle",{cx:"51.2",cy:"42.4",r:"2.4",fill:"#4D536E",stroke:"#0E101A"})),ge.createElement("defs",null,ge.createElement("clipPath",{id:"EmptyJ_a"},ge.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))),null)},successState:{title:"Great job!",description:"There are no more suggestions.",illustration:ge.createElement(()=>ge.createElement("svg",{fill:"none",viewBox:"0 0 64 64",role:"img","aria-hidden":!0,focusable:!1},ge.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M15.32 25.44c-1.2-2.02-3.23-.8-2.74.98-1.07-1.63-.47-2.98-1.04-4.04-.66-1.26-2.4-.82-2.33.65-.47-1.33.12-2.9-.09-3.74-.33-1.45-2.05-1.14-1.93.21a14.38 14.38 0 0 1-2.07-7.45c0-3.7 1.62-6.76 3.88-6.76 1.86 0 2.82 1.82 2.18 3.39-.3-.83-.83-1.27-1.69-1.27-1 0-1.63.98-1.63 2.2 0 1.75 1.45 2.75 3.23 2.77 2.05 0 3.4-2 3.4-4.32 0-3.09-2.28-6.14-5.91-5.65 1-.8-.16-2.26-1.39-1.28C4.26 3.43 2.4 7.36 2.4 11.82c0 11.26 10.86 23.53 21.75 20.76l-1.87-3.25c-3.15 0-5.33-1.14-6.96-3.9ZM56.94 1.13c-1.23-.98-2.39.47-1.39 1.28-3.63-.5-5.91 2.54-5.91 5.63 0 2.32 1.33 4.32 3.4 4.32 1.76 0 3.23-1 3.23-2.75 0-1.22-.63-2.2-1.63-2.2-.86 0-1.39.44-1.69 1.27-.65-1.57.32-3.37 2.18-3.37 2.26 0 3.88 3.05 3.88 6.75 0 2.65-.74 5.23-2.06 7.48.1-1.35-1.6-1.67-1.93-.21-.19.84.39 2.4-.08 3.74.07-1.48-1.69-1.92-2.34-.65-.56 1.05.02 2.4-1.03 4.03.49-1.75-1.53-2.98-2.74-.98-1.65 2.74-3.81 3.9-6.97 3.88L40 32.6c10.88 2.77 21.76-9.48 21.76-20.75-.05-4.46-1.9-8.39-4.82-10.72Z"}),ge.createElement("path",{fill:"#C6CBDE",d:"M32 63.2c12.81 0 23.2-1.61 23.2-3.6S44.81 56 32 56c-12.81 0-23.2 1.61-23.2 3.6s10.39 3.6 23.2 3.6Z"}),ge.createElement("path",{fill:"#F6DF6C",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M47.2 55.2H16.8a2.4 2.4 0 1 0 0 4.8h30.4a2.4 2.4 0 0 0 0-4.8Z"}),ge.createElement("path",{fill:"#F6DF6C",fillRule:"evenodd",d:"M32 4.64H14.77c-1.64 14.28 2.98 25.28 9.5 30.84.37.33.77.64 1.16.96 1.9 1.5 3.8 3.03 3.77 5.4-.05 3.19-.51 4.8-.51 4.8-.82 3.1-3.62 4.07-6.1 4.93-2.28.78-4.3 1.48-4.3 3.63H45.7c0-2.15-2.01-2.85-4.28-3.63-2.5-.86-5.3-1.83-6.1-4.93 0 0-.47-1.61-.52-4.8-.04-2.37 1.87-3.9 3.77-5.4.4-.32.8-.63 1.17-.96 6.51-5.56 11.13-16.56 9.49-30.84H32Z",clipRule:"evenodd"}),ge.createElement("path",{fill:"#0E101A",d:"M14.77 4.64v-.5a.5.5 0 0 0-.5.44l.5.06Zm9.5 30.84.32-.38-.33.38Zm1.16.96.32-.4-.32.4Zm3.77 5.4h.5-.5Zm-.51 4.8-.48-.13.48.13Zm-6.1 4.93-.17-.48.16.48Zm-4.3 3.63h-.5c0 .28.23.5.5.5v-.5Zm27.41 0v.5a.5.5 0 0 0 .5-.5h-.5Zm-4.28-3.63.16-.48-.16.48Zm-6.1-4.93.48-.12v-.01l-.49.13Zm-.52-4.8h-.5.5Zm3.77-5.4.3.4-.3-.4Zm1.17-.96.32.38-.32-.38Zm9.49-30.84.5-.06a.5.5 0 0 0-.5-.44v.5Zm-34.46.5H32v-1H14.77v1ZM24.6 35.1c-6.36-5.43-10.95-16.25-9.32-30.4l-1-.12c-1.65 14.41 3 25.59 9.67 31.28l.65-.76Zm1.16.95c-.4-.32-.8-.63-1.16-.95l-.65.76c.38.33.79.66 1.18.97l.63-.78Zm3.95 5.8a5.03 5.03 0 0 0-1.27-3.35c-.75-.91-1.75-1.7-2.68-2.45l-.63.78c.96.76 1.87 1.49 2.54 2.3.65.8 1.06 1.67 1.04 2.7l1 .01Zm-1.01 4.8.48.13v-.03a5.33 5.33 0 0 0 .08-.3l.17-.94c.12-.82.25-2.05.28-3.67l-1-.01a26.8 26.8 0 0 1-.43 4.4 7.18 7.18 0 0 1-.06.27l.48.14Zm-5.94 5.39c2.44-.84 5.53-1.87 6.42-5.27l-.97-.25c-.73 2.8-3.24 3.7-5.78 4.57l.33.95ZM18.8 55.2c0-.88.39-1.45 1.07-1.92.72-.5 1.72-.84 2.88-1.24l-.33-.95c-1.12.39-2.26.78-3.12 1.37-.89.61-1.5 1.46-1.5 2.74h1Zm13.2-.5H18.3v1H32v-1Zm0 1h13.7v-1H32v1Zm14.2-.5c0-1.28-.61-2.13-1.5-2.74-.86-.59-2-.98-3.12-1.37l-.33.95c1.16.4 2.16.75 2.88 1.24.68.47 1.07 1.04 1.07 1.92h1Zm-4.62-4.1c-2.54-.88-5.05-1.78-5.78-4.58l-.97.25c.9 3.4 3.98 4.43 6.42 5.27l.33-.95Zm-6.27-4.46.48-.13v-.01a5.92 5.92 0 0 1-.06-.26c-.04-.2-.1-.49-.16-.88a26.8 26.8 0 0 1-.27-3.53l-1 .01a27.78 27.78 0 0 0 .45 4.6 8.12 8.12 0 0 0 .07.31l.01.02v.01l.48-.14Zm-.01-4.81a4.04 4.04 0 0 1 1.04-2.7c.67-.81 1.58-1.54 2.54-2.3l-.63-.78c-.93.74-1.93 1.54-2.68 2.45-.76.92-1.3 2-1.27 3.34l1-.01Zm3.58-5c.4-.31.8-.64 1.18-.97l-.65-.76c-.37.32-.76.63-1.16.95l.63.78Zm1.18-.97c6.67-5.7 11.32-16.87 9.66-31.28l-.99.12c1.63 14.15-2.96 24.97-9.32 30.4l.65.76Zm9.17-31.72H32v1h17.23v-1Z"}),ge.createElement("path",{stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M30.8 40h2.4"}),ge.createElement("path",{fill:"#FBEFB7",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M49.18 4.8H14.8c-.2 1.52-.33 3.25-.39 4.62.63.45 1.46.79 2.43.94 1.71.27 3.36-.15 4.3-.99.49 1.06 1.72 1.86 3.25 1.96 1.42.08 2.7-.44 3.43-1.29.6 1.14 2.23 1.96 4.2 1.96 1.95 0 3.6-.82 4.2-1.96.74.85 2.01 1.4 3.43 1.29 1.53-.1 2.79-.9 3.25-1.96.94.84 2.57 1.26 4.28.99a5.78 5.78 0 0 0 2.43-.94 79.1 79.1 0 0 0-.42-4.62Z"}),ge.createElement("path",{fill:"#0E101A",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M32 4.8H15.2C18.85 6.74 25.01 8 32 8s13.15-1.26 16.8-3.2H32Z"}),ge.createElement("path",{fill:"#fff",stroke:"#0E101A",strokeMiterlimit:"10",d:"M8.96 52c-.1 0-.16-.08-.16-.19.15-5.94-1.89-8.1-7.83-8.26-.1 0-.17-.08-.17-.19 0-.1.08-.16.19-.16 5.94.15 8.1-1.89 8.26-7.83 0-.1.08-.17.19-.17.1 0 .16.08.16.19-.15 5.94 1.89 8.1 7.83 8.24.1 0 .17.09.17.19s-.08.17-.19.17c-5.94-.15-8.1 1.88-8.26 7.82-.02.12-.08.19-.19.19ZM56.25 54.4c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11ZM39.84 26.4c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"})),null)}}];function km(e=Math.random){return Math.floor(e()*Sm.length)}const Em=A.b.Node.make(({view:e})=>ge.createElement(pr,{style:xm,"data-name":"short-form-feed-empty","aria-live":"polite"},e("emptyContentIndex").pipe(p.a.map(e=>{const t=Sm[e].emptyState;return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Am},ge.createElement("p",{className:Im},t.title),ge.createElement("p",{className:Tm},t.description)),ge.createElement("div",{className:Mm},t.illustration))})))),jm=A.b.Node.make(({view:e})=>ge.createElement(pr,{style:xm,"data-name":"short-form-feed-success","aria-live":"polite"},e("emptyContentIndex").pipe(p.a.map(e=>{const t=Sm[e].successState;return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Am},ge.createElement("p",{className:Im},t.title),ge.createElement("p",{className:Tm},t.description)),ge.createElement("div",{className:Mm},t.illustration))})))),xm={padding:""+je.a.rem(Ce.f.Space4),display:"flex",flexDirection:"row",justifyContent:"space-between"},Am=je.a.style({display:"flex",flexDirection:"column",marginRight:je.a.rem(2),justifyContent:"center"}),Im=je.a.style({margin:0,color:Ae.a.TextBaseDefault,fontSize:je.a.rem(1),lineHeight:je.a.rem(1.5),fontWeight:700}),Tm=je.a.style({margin:0,color:Ae.a.TextBaseSubduedColor,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.3125),fontWeight:400}),Mm=je.a.style({width:je.a.rem(4),height:je.a.rem(4),minWidth:je.a.rem(4),minHeight:je.a.rem(4)}),Pm=A.b.Node.make(()=>ge.createElement(pr,{"aria-busy":"true",style:Nm,"data-name":"short-form-feed-loading"},ge.createElement(ac,null),ge.createElement("div",{className:Bm},ge.createElement("div",{className:Lm}),ge.createElement("div",{className:Fm})),ge.createElement("div",{className:Rm},ge.createElement("div",{className:Dm}),ge.createElement("div",{className:Hm})),ge.createElement("div",{className:Vm(!0)}),ge.createElement("div",{className:Vm(!1)}),ge.createElement("div",{className:Um},ge.createElement("div",{className:Wm}),ge.createElement("div",{className:zm})))),Nm={padding:""+je.a.rem(Ce.f.Space4),display:"flex",flexDirection:"column",position:"relative"},Bm=je.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:je.a.rem(Ce.f.Space2),alignItems:"center"}),Lm=je.a.style({width:je.a.rem(11.875),height:je.a.rem(1),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),Fm=je.a.style({flex:1,maxWidth:je.a.rem(3.5),height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),Rm=je.a.style({display:"flex",flexDirection:"row",gap:je.a.rem(Ce.f.Space1),alignItems:"center",marginTop:je.a.rem(6.5*Ce.f.Space1)}),Dm=je.a.style({width:je.a.rem(1.25),height:je.a.rem(1.25),borderRadius:"50%",background:Ce.a.BlueGray5}),Hm=je.a.style({flex:1,height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),Vm=e=>je.a.style({height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5,marginTop:je.a.rem(e?2.5*Ce.f.Space1:Ce.f.Space4)}),Um=je.a.style({display:"flex",flexDirection:"row",gap:je.a.rem(Ce.f.Space4),alignItems:"center",marginTop:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf)}),Wm=je.a.style({width:je.a.rem(4.125),height:je.a.rem(2),borderRadius:je.a.rem(Ce.d.Radius1),background:Ce.a.BlueGray5}),zm=je.a.style({width:je.a.rem(3.125),height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.RadiusHalf),background:Ce.a.BlueGray5}),Gm=Object(ye.d)(up),qm=A.b.Node.make(({state:e,view:t,notify:n})=>{const{onMount:r}=Object(cr.a)(Object(s.flow)(p.a.tap(n({kind:"shortFormFeedMount"})),p.a.finalize(Jt.notifyFeedUnmount))),{onMount:i}=function(e,t){const{onMount:n,ref:r}=sr.a.useElWatcher();return sr.a.useSubscriptionTo(p.a.combineLatestStatic([r,t]).pipe(p.a.map(([t,n])=>Object(s.pipe)(t,l.g.tap(t=>t.style.setProperty(e,n)))))),{onMount:n}}("--cardWidth",p.a.of("400")),a=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{"data-name":"short-form-feed",style:a.view(Object(j.c)({padding:je.a.rem(Ce.f.Space2)+" 0 0 0"},{padding:je.a.rem(Ce.f.Space3)+" 0 0 0"})),mount:e=>{r(e),i(e)},"aria-live":"polite"},ge.createElement(ki,{style:a.view(Object(j.c)(Object.assign(Object.assign({},Km),{padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`}),Object.assign(Object.assign({},Km),{padding:"0 "+je.a.rem(Ce.f.Space3)})))},ge.createElement("div",{className:$m},"Review suggestions",ge.createElement(Gm,{count:t("suggestionCount")})),t("canExpandToLongForm").pipe(p.a.map(Object(j.c)(ge.createElement(gp,{feedForm:"shortForm",onClick:n({kind:"toggleLongFormFeed"})}),null)))),e.pipe(p.a.map(({item:e,prevItem:t,transitions:r})=>ge.createElement(Mo.a,{key:e.id,sduiRootId:e.id,content:e.content,designSystem:ks(),notify:(t,r,i)=>n({kind:"sduiNotify",item:e,sourceId:t,actions:r,actionScope:i})(),transitions:Array.from(r),prevContent:Object(s.pipe)(t,I.map(e=>e.content)),onAnimationEnd:n({kind:"shortFormFeedAnimationEnd"}),onMount:n({kind:"sduiFocusedItemMount",item:e}),longFormCardState:{viewKind:"focused"}}))))}),Km={display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2),justifyContent:"space-between"},$m=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)}),Zm=A.b.Union.make("kind",{loadingState:Pm,emptyState:Em,successState:jm,nonEmptyState:qm}),Ym=A.b.Group.make({feed:Zm}),Xm=A.b.Group.make({feed:wm}),Qm=A.b.Union.make("kind",{none:A.b.Node.empty,shortFormFeed:Ym,longFormFeed:Xm}),Jm=e=>ge.createElement(we.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),ge.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),ge.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),ge.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),ge.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),ge.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),ef=A.b.Node.make(({notify:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:nf,"data-name":"voice-banner"},t.view(Object(j.c)(ge.createElement(ki,null,"Set your voice"),ge.createElement("div",{className:rf},"Set your voice"))),ge.createElement("div",{className:af},"Choose how you want your generated text to sound."),ge.createElement(_e.a,{style:sf,onClick:e({kind:z.a.Kind.setVoiceButtonClick}),name:"bannerVoiceProfile",size:"small"},ge.createElement(Jm,{className:of}),"Set voice"))}),tf=A.b.Union.asOption(ef),nf={gap:0,backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},rf=je.a.style({fontWeight:700,fontSize:je.a.rem(.875),lineHeight:je.a.rem(1.375),color:Ce.e.Color.Text.Base.Default}),af=je.a.style({fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),color:Ce.e.Color.Text.Base.Subdued}),of=je.a.style({stroke:"white"}),sf={default:{alignSelf:"flex-start",marginTop:je.a.rem(Ce.f.Space2),padding:`0 ${je.a.rem(Ce.f.Space2)} 0 ${je.a.rem(Ce.f.Space1)}`,lineHeight:je.a.rem(1.125),gap:je.a.rem(Ce.f.Space1)},icon:Object.assign({marginLeft:0},Object(xe.c)(1.5))},cf=({style:e,iconStyle:t,mode:n="standard"})=>{const r="standard"==n?1:.875;return ge.createElement("div",{className:je.a.style({height:je.a.rem(2*r),display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2),padding:`0 ${je.a.rem(Ce.f.Space2)} 0 ${je.a.rem(Ce.f.Space1)}`,borderRadius:je.a.rem(Ce.f.Space1),border:"1px solid "+Ce.a.BlueGray5,boxSizing:"border-box"},e)},ge.createElement("div",{className:je.a.style({width:je.a.rem(1.5*r),height:je.a.rem(1.5*r),borderRadius:"50%",background:Ce.a.BlueGray5},t)}),ge.createElement("div",{className:je.a.style({height:je.a.rem(.5*r),borderRadius:je.a.rem(Ce.f.SpaceQuarter),background:Ce.a.BlueGray5,flexGrow:1})}))},lf=A.b.Node.make(({view:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{"aria-busy":"true",style:t.view(uf),"data-name":"actions-loading"},p.a.combineLatestStatic([e("withContext"),t]).pipe(p.a.map(([t,n])=>t?ge.createElement(Fi,{className:pf(n),active:!0},e("header")):ge.createElement(ki,null,e("header")))),ge.createElement(Oe.a.div,{className:df},ge.createElement(ac,null),e("isQuickReply").pipe(p.a.map(Object(j.c)(ge.createElement(ge.Fragment,null,ge.createElement(cf,{style:{width:je.a.rem(23)}}),ge.createElement(cf,{style:{width:je.a.rem(21.5)}}),ge.createElement(cf,{style:{width:je.a.rem(20.5)}})),ge.createElement(ge.Fragment,null,ge.createElement(cf,{style:{width:je.a.rem(8.375)}}),ge.createElement(cf,{style:{width:je.a.rem(9.3125)}}),ge.createElement(cf,{style:{width:je.a.rem(10.5)}}),ge.createElement(cf,{style:{width:je.a.rem(10.75)}}),ge.createElement(cf,{style:{width:je.a.rem(4.9375)}})))))))}),uf=e=>e?{padding:je.a.rem(Ce.f.Space4)}:{},df=je.a.style({display:"flex",flexWrap:"wrap",gap:je.a.rem(Ce.f.Space2),position:"relative"}),pf=e=>je.a.style({marginBottom:e?je.a.rem(Ce.f.Space2):void 0}),mf=A.b.Knot.make(A.b.Grid.make(({slots:e,notify:t,view:n})=>{const{notifyUnmount:r}=ge.useContext(Xr),{onMount:i}=Object(cr.a)(Object(s.flow)(p.a.tap(e=>t({kind:z.a.Kind.mount,name:Z.a.initialActionsList,element:e})()),p.a.finalize(()=>r({kind:z.a.Kind.unmount,name:Z.a.initialActionsList})))),a=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:a.view(hf),mount:i,"data-name":"initial-actions"},n("showReportMenu").pipe(p.a.map(Object(j.c)(ge.createElement(Wd,{reportMenuButtonClassName:gf,onClickProvideFeedback:t({kind:z.a.Kind.openFeedbackFormButtonClick,source:Aa.Source.quickReplyInitialActions}),onClickReportOffensive:t({kind:z.a.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:z.a.Kind.reportMenuVisibilityChange,trigger:En.uiItem(Z.a.initialActionsList),visible:e})()}),null))),e.actions)}),{actions:qi}),ff=A.b.Union.make("kind",{none:A.b.Node.empty,loading:lf,loaded:mf}),hf=e=>Object.assign({position:"relative"},e?{padding:je.a.rem(Ce.f.Space4),gap:je.a.rem(Ce.f.Space4)}:{padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`}),gf=je.a.style({position:"absolute",top:je.a.rem(Ce.f.Space3),right:je.a.rem(Ce.f.Space3)}),bf=A.b.Grid.make(({slots:e})=>ge.createElement(ge.Fragment,null,e.suggestions,e.voiceBanner,e.documentOverview,e.intent,e.defaultActions,e.generationError,e.detectedReferences)),vf=A.b.Knot.make(bf,{suggestions:Qm,voiceBanner:tf,documentOverview:Md,intent:Zd,defaultActions:ff,generationError:kd,detectedReferences:ip}),yf=A.b.Node.make(({state:e,notify:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.Fragment,null,p.a.combineLatestStatic([e,n]).pipe(p.a.map(([{selectedRange:e,selectedText:n},r])=>e?ge.createElement(_e.a,{variant:"tertiary",title:"Select any text to work with it in Grammarly.",style:_f(r),onClick:t({kind:z.a.Kind.selectionContextInteraction,range:e,visibility:"attention"}),onMouseEnter:t({kind:z.a.Kind.selectionContextInteraction,range:e,visibility:"visible"}),onMouseLeave:t({kind:z.a.Kind.selectionContextInteraction,range:e,visibility:"hidden"}),name:"resultContextHeaderButton"},ge.createElement(Fi,null,n)):ge.createElement("div",{className:Cf(r),"data-name":"result-context-header"},ge.createElement(Fi,null,n)))))}),Of=A.b.Union.asOption(yf),_f=e=>e?{default:{justifyContent:"flex-start",padding:"0 "+je.a.rem(Ce.f.Space2),margin:"0 "+je.a.rem(-Ce.f.Space2),height:je.a.rem(2.5)}}:{default:{marginBottom:je.a.rem(-Ce.f.Space1),justifyContent:"flex-start"}},Cf=e=>e?je.a.style({display:"flex",alignItems:"center",height:je.a.rem(2.5)}):je.a.style({paddingLeft:je.a.rem(Ce.f.Space2),paddingRight:je.a.rem(Ce.f.Space2),paddingTop:je.a.rem(Ce.f.Space1),paddingBottom:je.a.rem(Ce.f.Space1),marginBottom:je.a.rem(-Ce.f.Space1)}),wf=e=>ge.createElement(we.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),ge.createElement("rect",{width:"16",height:"16",rx:"2"}),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7072 5.41421L6.50008 12.6213L2.29297 8.41421L3.70718 7L6.50008 9.79289L12.293 4L13.7072 5.41421Z",fill:"white"})),Sf=({isMyVoice:e,isAnimated:t=!1,isBadge:n=!1,label:r="Use my style",inactiveLabel:i=r,onClick:a})=>ge.createElement(_e.a,{variant:"tertiary",name:"toggleVoice",onClick:a,size:"small",role:"checkbox","aria-checked":e,compact:!0,style:kf(e,t,n)},ge.createElement(wf,Object.assign({width:16,height:16},Object(ye.c)(Ef,e?jf:xf))),e?r:i);function kf(e,t,n){return{default:{display:"flex",alignItems:"center",height:je.a.rem(1.25),lineHeight:je.a.rem(1.125),fontSize:je.a.rem(.75),color:e?Ce.a.Green80:Ce.a.BlueGray60,backgroundColor:e?Ce.a.Green0:Ce.a.BlueGray0,transition:t?je.a.seconds(.25):void 0,transitionProperty:t?"color, background-color":void 0},textPosRight:{padding:"0 "+je.a.rem(Ce.f.Space1)},icon:{marginRight:je.a.rem(Ce.f.Space2),minWidth:je.a.rem(1),minHeight:je.a.rem(1)},hovered:{backgroundColor:e?je.a.color(Ae.a.Green10).mix(je.a.color(Ae.a.BlueGray5)).toRGBA().toString():Ce.a.BlueGray10,color:e?Ce.a.Green80:Ce.a.BlueGray60},active:{backgroundColor:e?je.a.color(Ae.a.Green10).mix(je.a.color(Ae.a.BlueGray5)).toRGBA().toString():Ce.a.BlueGray10,color:e?Ce.a.Green80:Ce.a.BlueGray60},disabled:n?{opacity:1,cursor:"default"}:void 0}}const Ef=je.a.style({marginRight:je.a.rem(Ce.f.Space2),minWidth:je.a.rem(1),minHeight:je.a.rem(1),borderWidth:je.a.px(1),borderStyle:"solid",borderColor:Ce.e.Color.Text.Base.Subdued,borderRadius:je.a.rem(Ce.d.Radius1),overflow:"hidden",transitionProperty:"background border-color",transitionDuration:je.a.seconds(.25),$nest:{svg:{stroke:"none"}}}),jf=je.a.style({background:Ce.a.Green60,borderColor:Ce.a.Green60,$nest:{path:{fill:Ce.a.White}}}),xf=je.a.style({background:Ce.a.White,borderColor:Ce.e.Color.Text.Base.Subdued,$nest:{path:{fill:"transparent"}}}),Af=je.a.style({whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:je.a.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:je.a.rem(1.3125),color:Ce.e.Color.Text.Base.Default}),If=({children:e})=>ge.createElement("div",{className:Af},e),Tf=({text:e})=>""!==e.trim()?ge.createElement(If,null,e):null,Mf=Object(ye.d)(_e.a),Pf=({header:e,onClick:t,disabled:n})=>{const r=ge.useContext(ur.a).view("flatUI");return ge.createElement(Mf,{variant:"tertiary",compact:!0,disabled:n,onClick:t,className:r.view(Vf),name:"editResultPrompt",size:"small",style:r.view(e=>e?{hovered:{boxShadow:"none",backgroundColor:Ae.a.ButtonBackgroundTertiaryHover},active:{boxShadow:"none",backgroundColor:Ae.a.ButtonBackgroundTertiaryHover}}:void 0)},r.view(t=>t?ge.createElement(Yc.a,{title:"Edit"},ge.createElement("div",{className:Uf},ge.createElement("div",Object.assign({className:zf},Object(fe.e)(e))))):ge.createElement("div",{className:Uf},ge.createElement("div",Object.assign({className:zf},Object(fe.e)(e))),ge.createElement("div",{className:Df},"Edit"))))};var Nf;!function(e){e.FadeIn="FadeIn",e.FadeOut="FadeOut"}(Nf||(Nf={}));const Bf=({iconUrl:e,loading:t,header:n})=>{const[r,i]=ge.useState({text:n,animationState:Nf.FadeIn});ge.useEffect(()=>{i(e=>Object.assign(Object.assign({},e),{animationState:e.text!==n?Nf.FadeOut:e.animationState}));const e=setTimeout(()=>i({text:n,animationState:Nf.FadeIn}),250);return()=>clearTimeout(e)},[n]);const a=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:a.view(Hf)},t?ge.createElement(Fc,{className:Wf}):Object(s.pipe)(e,I.fold(s.constNull,e=>ge.createElement(Oe.a.img,{src:e,style:a.view(e=>({width:je.a.rem(e?1.3125:1.25),height:je.a.rem(e?1.3125:1.25)}))}))),ge.createElement("span",Object.assign({"aria-live":"assertive",className:je.a.joinClasses([zf,r.animationState===Nf.FadeIn&&Gf,r.animationState===Nf.FadeOut&&qf])},Object(fe.e)(r.text))))},Lf="editHeaderBtn",Ff="headerBtn",Rf=e=>Object(xe.a)({height:je.a.rem(1.5),lineHeight:je.a.rem(1.125),padding:"0 "+je.a.rem(Ce.f.Space1),margin:"0 "+je.a.rem(-Ce.f.Space1),overflow:"hidden",$nest:e?void 0:{["& ."+Lf]:{opacity:0,pointerEvents:"none"},"&:focus, &:hover":{background:Ce.a.BlueGray0,["& ."+Lf]:{opacity:1,pointerEvents:"auto",color:Ce.e.Color.Text.Base.Default}}}},Ff),Df=Lf,Hf=e=>je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2+Ce.f.SpaceHalf),height:je.a.rem(1.5),fontWeight:400,fontSize:je.a.rem(e?.875:.75),lineHeight:je.a.rem(e?1.3125:1.125),color:Ce.a.BlueGray60,overflow:"hidden"}),Vf=e=>je.a.joinClasses([Ff,je.a.style(Rf(e))]),Uf=je.a.style({display:"flex",justifyContent:"space-between",width:"100%",gap:je.a.rem(Ce.f.Space1)}),Wf=je.a.style({marginBottom:"-"+je.a.rem(Ce.f.SpaceHalf),display:"inline-flex",alignItems:"center",justifyContent:"center"}),zf=je.a.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",transitionProperty:"opacity",transitionDuration:je.a.seconds(.25)}),Gf=je.a.style({opacity:1}),qf=je.a.style({opacity:0}),Kf=A.b.Grid.make(({slots:e,state:t})=>ge.createElement(Oe.a.Fragment,null,t.pipe(p.a.map(({resultText:t,statusText:n,isMyVoiceStatus:r,sourceLabel:i,sourceIconUrl:a})=>ge.createElement(Pr,{"data-name":"my-voice-in-progress-result",header:ge.createElement(ge.Fragment,null,e.header,ge.createElement($f,null,ge.createElement(Bf,{header:t.length>0?i:n,iconUrl:t.length>0?a:I.none,loading:0===t.length}),ge.createElement(Sf,{isBadge:!0,isAnimated:!0,isMyVoice:r,label:"Use my style"}))),body:t.length>0?ge.createElement(ge.Fragment,null,ge.createElement(Tf,{text:t}),ge.createElement(Yf,null)):null,isActive:!0}))))),$f=({children:e})=>ge.createElement("div",{className:Zf},e),Zf=je.a.style({display:"grid",gridTemplateColumns:"1fr auto"}),Yf=()=>ge.createElement("div",{className:je.a.style({position:"relative",overflow:"hidden",height:je.a.rem(.5),borderRadius:je.a.rem(Ce.d.Radius1),background:Ce.a.BlueGray5,flexGrow:1})},ge.createElement(ac,null)),Xf=Object(ye.d)(Tf),Qf=A.b.Grid.make(({slots:e,view:t})=>ge.createElement(Pr,{"aria-busy":"true","data-name":"in-progress-result",body:ge.createElement(Xf,{text:t("text")}),header:ge.createElement(ge.Fragment,null,e.header,ge.createElement(Bf,{header:"Working on it...",iconUrl:I.none,loading:!0})),isActive:!0})),Jf=(A.b.Knot.make(Kf,{header:Of}),A.b.Knot.make(Qf,{header:Of})),eh=A.b.Knot.make(A.b.Grid.make(({slots:e})=>ge.createElement(ge.Fragment,null,e.header,e.content)),{content:Jf,header:Of}),th=A.b.Union.asOption(eh),nh=({placeholder:e,error:t,openAnswer:n,onOpenAnswerChange:r,onSubmitButtonClick:i,onCancelButtonClick:a,onKeypressShiftEnter:o})=>ge.createElement("form",{className:ih,onSubmit:e=>e.preventDefault()},ge.createElement(ai,{className:sh,placeholder:[null!=e?e:""],text:n,onChange:r,ariaLabel:"Open ended answer",fitContentHeight:!0,theme:{fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)},onKeyDownShiftEnter:o}),Object(s.pipe)(t,I.fold(()=>null,e=>ge.createElement("div",{className:ch},e))),ge.createElement("div",{className:rh},ge.createElement("input",{type:"submit",value:"Submit",hidden:!0}),ge.createElement(_e.a,{variant:"secondary",style:ah,onClick:i,flatUI:!0},"Submit"),ge.createElement(_e.a,{variant:"tertiary",style:oh,onClick:a,flatUI:!0},"Dismiss"))),rh=je.a.style({display:"flex",justifyContent:"flex-start",alignItems:"center"}),ih=je.a.style({width:je.a.percent(100),display:"flex",flexDirection:"column",gap:je.a.rem(Ce.f.Space2)}),ah={default:{fontSize:je.a.rem(.75),fontWeight:"bold",marginRight:je.a.rem(Ce.f.Space2),minHeight:je.a.rem(Ce.f.Space6),lineHeight:je.a.rem(Ce.f.Space6)}},oh={default:{fontSize:je.a.rem(.75),minHeight:je.a.rem(Ce.f.Space6),lineHeight:je.a.rem(Ce.f.Space6)}},sh=je.a.style({border:"1px solid "+Ce.a.BlueGray10,minHeight:je.a.rem(7.5*Ce.f.Space1),backgroundColor:Ce.a.White,borderRadius:je.a.rem(Ce.f.Space2),width:je.a.percent(100),padding:`${je.a.rem(1.25*Ce.f.Space1)} ${je.a.rem(Ce.f.Space2)}`,boxSizing:"border-box"}),ch=je.a.style({color:Ce.e.Color.Background.Critical.Default,fontSize:je.a.rem(.75),marginBottom:je.a.rem(Ce.f.Space1)});var lh=n("s/43");const uh=e=>ge.createElement(we.e,Object.assign({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none"},e),ge.createElement("path",{d:"M9 1L11.069 6.15226L16.6085 6.52786L12.3477 10.0877L13.7023 15.4721L9 12.52L4.29772 15.4721L5.65228 10.0877L1.39155 6.52786L6.931 6.15226L9 1Z",fill:"transparent",stroke:Ce.a.NeutralGray50,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),dh=({rating:e,ratingLabels:t,maxScore:n})=>Object(s.pipe)(e,I.fold(()=>t.length>=n&&n>1?ge.createElement("div",{className:fh},ge.createElement("span",{className:mh},t[0]),ge.createElement("span",{className:mh},t[n-1])):null,e=>e-1>=0&&t.length>=e?ge.createElement("div",{className:ph},ge.createElement("span",null,t[e-1])):null)),ph=je.a.style({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",fontWeight:"bold",fontSize:je.a.rem(.75),lineHeight:je.a.rem(.875)}),mh=je.a.style({color:Ce.a.NeutralGray50}),fh=je.a.style({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",fontSize:je.a.rem(.75),lineHeight:je.a.rem(.875)});var hh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const gh=({disabled:e,rating:t,ratingLabels:n,maxScore:r,onSelectionChange:i})=>{const[a,o]=ge.useState(I.none),c=ge.useMemo(()=>[],[]),l=t=>{e||i(t+1)},u=t=>{e||o(I.some(t+1))},d=()=>{e||o(I.none)};return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:bh,role:"slider","aria-valuemin":0,"aria-valuenow":Object(s.pipe)(t,I.getOrElse(()=>0)),"aria-valuemax":5,"aria-valuetext":Object(s.pipe)(t,I.fold(()=>"Not yet rated",e=>n[e-1]))},Array.from({length:r}).map((i,o)=>ge.createElement(vh,{key:o,onClick:()=>l(o),style:{maxWidth:je.a.percent(r>0?100/r:0)},isFilled:Object(s.pipe)(t,I.fold(()=>!1,e=>o<e))||Object(s.pipe)(a,I.fold(()=>!1,e=>o<e)),onMouseEnter:()=>u(o),onMouseLeave:d,onFocus:()=>u(o),onBlur:d,isSelected:Object(s.pipe)(t,I.fold(()=>!1,e=>o+1===e)),isFocusable:Object(s.pipe)(t,I.fold(()=>0===o,e=>o+1===e)),ariaLabel:"Rate this generated output as "+n[o],ref:e=>c.push(e),onKeyDown:t=>((t,n)=>{var i,o,u,d;e||("ArrowRight"!==t.key&&"ArrowUp"!==t.key||(Object(s.pipe)(a,I.fold(()=>!1,e=>e<r))?null===(i=c[n+1])||void 0===i||i.focus():null===(o=c[0])||void 0===o||o.focus()),"ArrowLeft"!==t.key&&"ArrowDown"!==t.key||(Object(s.pipe)(a,I.fold(()=>!1,e=>e>1))?null===(u=c[n-1])||void 0===u||u.focus():null===(d=c[4])||void 0===d||d.focus()),"Enter"!==t.key&&" "!==t.key||l(n))})(t,o),disabled:e}))),ge.createElement(dh,{rating:Object(s.pipe)(t,I.fold(Object(s.constant)(a),Object(s.constant)(t))),ratingLabels:n,maxScore:r}),ge.createElement(lh.a,{small:!0}))},bh=je.a.style({display:"flex",width:je.a.percent(100),justifyContent:"center"}),vh=ge.forwardRef((e,t)=>{var{isFilled:n,ariaLabel:r,disabled:i,isSelected:a,isFocusable:o}=e,s=hh(e,["isFilled","ariaLabel","disabled","isSelected","isFocusable"]);return ge.createElement("button",Object.assign({className:yh,role:"radio","aria-label":r,disabled:i,"aria-checked":a,tabIndex:o?0:-1,ref:t},s),ge.createElement(uh,{className:n?Oh:""}))});vh.displayName="StarButton";const yh=je.a.style({border:"none",background:"none",cursor:"pointer",padding:0,borderRadius:je.a.rem(Ce.f.Space1),width:je.a.rem(Ce.f.Space16),$nest:{"&:focus-visible":{outlineStyle:"none",boxShadow:"0 0 0 2px "+Ce.e.Color.Text.Base.Subdued}}}),Oh=je.a.style({$nest:{"& path":{fill:Ce.b.CoreYellow50,stroke:Ce.b.CoreYellow50}}});var _h=n("rPY6");const Ch=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.646 7.646a.5.5 0 0 1 .708 0L12 11.293l3.646-3.647a.5.5 0 0 1 .708.708L12.707 12l3.647 3.646a.5.5 0 0 1-.708.708L12 12.707l-3.646 3.647a.5.5 0 0 1-.708-.708L11.293 12 7.646 8.354a.5.5 0 0 1 0-.708Z",fill:"#646B81"}));Ch.__brand="color";const wh=({stage:e,rating:t,initialTitle:n,acknowledgment:r,acknowledgmentTitle:i,onCloseButtonClick:a,className:o})=>ge.createElement("div",{className:je.a.joinClasses([Sh,o])},ge.createElement(_h.a,{className:Eh,fill:"#000"}),ge.createElement(jh,{stage:e,rating:t,initialTitle:n,acknowledgment:r,acknowledgmentTitle:i}),ge.createElement(_e.a,{variant:"tertiary","aria-label":"Close survey",style:{default:{marginLeft:"auto",padding:0,minWidth:je.a.rem(Ce.f.Space6),minHeight:je.a.rem(Ce.f.Space6)},hovered:{backgroundColor:Ce.a.BlueGray10},active:{backgroundColor:Ce.a.BlueGray10}},onClick:a},ge.createElement(Ch,null))),Sh=je.a.style({display:"flex",alignItems:"center"}),kh=je.a.style({fontSize:je.a.rem(.75)}),Eh=je.a.style({marginRight:je.a.rem(Ce.f.Space3),$nest:{"& path:first-of-type":{fill:Ce.a.NeutralGray70}}}),jh=({stage:e,rating:t,initialTitle:n,acknowledgmentTitle:r,acknowledgment:i})=>{switch(e){case On.a.Stage.Type.Rating:return ge.createElement("span",{className:kh},n);case On.a.Stage.Type.Feedback:return ge.createElement("span",{className:kh},"Your rating:"," ",Array.from({length:t}).map(()=>"⭐").join(" "));case On.a.Stage.Type.Completed:return ge.createElement("span",{className:kh},Object(s.pipe)(r,I.fold(()=>ge.createElement("b",null,"Thank you!"),e=>ge.createElement("b",null,e)))," ",Object(s.pipe)(i,I.fold(()=>"Your feedback helps us improve.",e=>e)));case On.a.Stage.Type.Closed:return null;default:return Object(c.d)(e)}},xh=A.b.Union.asOption(A.b.Node.make(({notify:e,state:t})=>ge.createElement(Oe.a.Fragment,null,t.pipe(p.a.map(t=>ge.createElement(Ah,Object.assign({},t,{onRatingSelectionChange:t=>{e({kind:z.a.Kind.surveyRatingSelectionChange,rating:t})()},onOpenAnswerChange:t=>e({kind:z.a.Kind.surveyOpenAnswerChange,openAnswer:t})(),onSubmitButtonClick:e({kind:z.a.Kind.surveySubmitButtonClick}),onKeypressShiftEnter:e({kind:z.a.Kind.surveyKeyPressShiftEnter}),onCancelButtonClick:e({kind:z.a.Kind.surveyCancelButtonClick}),onCloseButtonClick:e({kind:z.a.Kind.surveyCloseButtonClick})}))))))),Ah=({survey:e,stage:t,transitionStage:n,rating:r,errors:i,openAnswer:a,onOpenAnswerChange:o,onRatingSelectionChange:c,onCloseButtonClick:l,onCancelButtonClick:u,onSubmitButtonClick:d,onKeypressShiftEnter:p})=>{const m=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:m.view(Ih),"data-name":"survey-"+e.resultId},ge.createElement(wh,{className:je.a.joinClasses([n===On.a.Stage.Type.Feedback?Ph:void 0,t===On.a.Stage.Type.Feedback?Nh:void 0]),stage:t,rating:Object(s.pipe)(r,I.getOrElse(Object(s.constant)(1))),initialTitle:e.title,acknowledgment:e.acknowledgment,acknowledgmentTitle:e.acknowledgmentTitle,onCloseButtonClick:l}),t!==On.a.Stage.Type.Completed&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:je.a.joinClasses([Bh,n===On.a.Stage.Type.Feedback?Ph:void 0,t===On.a.Stage.Type.Feedback?Nh:void 0])},ge.createElement("div",{className:Fh,hidden:t!==On.a.Stage.Type.Rating},ge.createElement(gh,{onSelectionChange:c,rating:r,disabled:I.isSome(r),maxScore:e.maxScore,ratingLabels:e.ratingLabels})),Object(s.pipe)(e.openAnswer,I.fold(Object(s.constant)("(Optional) Please share your feedback to help us improve."),e=>e.placeholder),e=>ge.createElement("div",{className:Lh,hidden:t!==On.a.Stage.Type.Feedback},ge.createElement(nh,{placeholder:e,onSubmitButtonClick:d,onKeypressShiftEnter:p,onCancelButtonClick:u,onOpenAnswerChange:o,openAnswer:a,error:Object(s.pipe)(i,I.chain(e=>e.openAnswerError))}))))))},Ih=e=>Object.assign({backgroundColor:Ce.a.BlueGray0,padding:`${je.a.rem(Ce.f.Space2)} ${je.a.rem(Ce.f.Space4)}`},e?{}:{border:"1px solid "+Ce.a.BlueGray10,borderRadius:je.a.rem(Ce.f.Space1)}),Th=je.a.keyframes({from:{opacity:1},to:{opacity:.3}}),Mh=je.a.keyframes({from:{opacity:.3},to:{opacity:1}}),Ph=je.a.style({animation:Th+" 0.3s ease-in-out"}),Nh=je.a.style({animation:Mh+" 0.3s ease-in-out"}),Bh=je.a.style({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:je.a.rem(Ce.f.SpaceHalf)}),Lh=je.a.style({width:je.a.percent(100)}),Fh=je.a.style({maxWidth:je.a.percent(100),width:"fit-content",paddingTop:je.a.rem(Ce.f.Space1)}),Rh=A.b.Knot.make(A.b.Grid.make(({slots:e,notify:t})=>{const{notifyUnmount:n}=ge.useContext(Xr),{onMount:r}=Object(cr.a)(Object(s.flow)(p.a.tap(e=>t({kind:z.a.Kind.mount,name:Z.a.followUpActionsList,element:e})()),p.a.finalize(()=>n({kind:z.a.Kind.unmount,name:Z.a.followUpActionsList})))),i=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:i.view(e=>je.a.style(Wh(e))),mount:r,"data-name":"follow-up-actions"},e.actions)}),{actions:Ii}),Dh=je.a.color("#FCFCFC"),Hh=A.b.Node.make(()=>{const e=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{"aria-busy":!0,className:e.view(e=>je.a.style(Wh(e),{position:"relative"}))},ge.createElement(ac,{overlayGradientEndColor:`rgba(${Dh.red()}, ${Dh.green()}, ${Dh.blue()}, 0)`,overlayGradientCenterColor:`rgba(${Dh.red()}, ${Dh.green()}, ${Dh.blue()}, 0.5)`,overlayBlendMode:"screen"}),ge.createElement(cf,{style:{width:je.a.rem(8.5)},mode:"compact"}),ge.createElement(cf,{style:{width:je.a.rem(9.25)},mode:"compact"}),ge.createElement(cf,{style:{width:je.a.rem(8)},mode:"compact"}),ge.createElement(cf,{style:{width:je.a.rem(4.5)},mode:"compact"}))}),Vh=A.b.Union.make("kind",{none:A.b.Node.empty,loading:Hh,actions:Rh}),Uh=A.b.Knot.make(A.b.Grid.make(({slots:e})=>ge.createElement(ge.Fragment,null,e.actions)),{actions:Vh}),Wh=e=>({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",gap:je.a.rem(Ce.f.Space2),marginBottom:je.a.rem(Ce.f.Space2),marginTop:e?je.a.rem(Ce.f.Space2):0,padding:e?"0 "+je.a.rem(Ce.f.Space4):0}),zh=A.b.Knot.make(A.b.Grid.make(({slots:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(pr,{style:t.view($h),"data-name":"new-context-actions"},e.actions)}),{actions:qi}),Gh=A.b.Union.make("kind",{loading:lf,loaded:zh}),qh=A.b.Knot.make(A.b.Grid.make(({slots:e})=>ge.createElement(ge.Fragment,null,e.actions)),{actions:Gh}),Kh=A.b.Union.asOption(qh),$h=e=>({position:"relative",padding:e?je.a.rem(Ce.f.Space4):`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space3)}`,gap:e?je.a.rem(Ce.f.Space4):void 0}),Zh=A.b.Union.make("kind",{followUp:Uh,newContext:Kh}),Yh=A.b.Union.asOption(Zh),Xh=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M7.053 10.842v1.908c0 .69.56 1.25 1.25 1.25h4.447c.69 0 1.25-.56 1.25-1.25V8.303c0-.69-.56-1.25-1.25-1.25h-1.908M8.947 3.25v4.447c0 .69-.56 1.25-1.25 1.25H3.25c-.69 0-1.25-.56-1.25-1.25V3.25C2 2.56 2.56 2 3.25 2h4.447c.69 0 1.25.56 1.25 1.25Z",stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round"}));Xh.__brand="color";const Qh=({onInsert:e,onRephrase:t,onDismiss:n,onCopy:r,onProvideFeedback:i,onReportOffensive:a,onReportMenuVisibilityChange:o,disabled:c,isActive:u})=>{const d=ge.useContext(ur.a).view("flatUI"),p=l.g.isSome(t)||l.g.isSome(e),m=ge.createElement(zd,{reportMenuButtonClassName:ag,onClickProvideFeedback:i,onClickReportOffensive:a,onOpenChange:o,onDismiss:n});return ge.createElement("div",{className:eg},ge.createElement("div",{className:ng},Object(s.pipe)(e,l.g.map(e=>ge.createElement(Oe.a.Fragment,null,d.view(t=>t?ge.createElement(_e.a,{name:"insertResult",onClick:e,size:"large",key:"insert",variant:u?"primary":"secondary",textPosition:"everywhere"},ge.createElement("div",{className:je.a.style({position:"relative"})},ge.createElement("div",{className:je.a.style({fontWeight:"bold",visibility:"hidden"})},"Insert"),ge.createElement("div",{className:je.a.style({position:"absolute",top:0,left:0,right:0})},"Insert"))):ge.createElement(_e.a,{className:og,name:"insertResult",onClick:e,size:"small",key:"insert"},"Insert")))),l.g.toNullable),Object(s.pipe)(t,l.g.map(e=>ge.createElement(Oe.a.Fragment,null,d.view(t=>ge.createElement(_e.a,{variant:"tertiary",className:t?void 0:sg,name:"rephraseResult",onClick:e,disabled:c,size:t?"large":"small",key:"rephrase"},t?"Retry":"Rephrase")))),l.g.toNullable),ge.createElement(Oe.a.Fragment,null,d.view(e=>e&&p?m:null))),ge.createElement(Oe.a.div,{className:rg},d.view(e=>e&&!p?m:null),d.view(e=>e?Object(s.pipe)(r,l.g.map(e=>ge.createElement(_e.a,{name:"copyResult",onClick:e,size:"small",variant:"tertiary",title:"Copy result"},ge.createElement("div",{className:je.a.style({padding:je.a.rem(.5),height:je.a.rem(1),width:je.a.rem(1)})},ge.createElement(Xh,{width:"1rem",height:"1rem"})))),l.g.toNullable):null),d.view(e=>e?null:ge.createElement(ge.Fragment,null,ge.createElement(_e.a,{variant:"tertiary",onClick:n,className:ig,compact:!0,size:d.view(Object(j.c)("large","small")),name:"dismissResult",title:"Delete"},ge.createElement(Ei,{className:cg})),ge.createElement(Wd,{reportMenuButtonClassName:ag,onClickProvideFeedback:i,onClickReportOffensive:a,onOpenChange:o})))))},Jh="ignoreIcon",eg=je.a.style({gap:je.a.rem(Ce.f.Space2),display:"flex",alignItems:"center",justifyContent:"space-between"}),tg={display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)},ng=je.a.style(tg),rg=je.a.style(tg),ig=Er,ag=jr,og=Sr,sg=kr,cg=je.a.joinClasses([Jh,je.a.style(Object(xe.a)(Object(xe.c)(1.5),Jh))]),lg=A.b.Grid.make(({state:e,notify:t,slots:n})=>ge.createElement(Oe.a.Fragment,null,e.pipe(p.a.map(({disabled:e,result:r,originalAction:i})=>ge.createElement(Pr,{"data-name":"ai-notification-"+r.id,body:ge.createElement(ge.Fragment,null,ge.createElement("div",{className:je.a.style({borderBottom:"0.5px solid "+Ce.a.BlueGray10})},ge.createElement(Tf,{text:r.text}),ge.createElement("div",{className:je.a.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:je.a.rem(.5),marginTop:je.a.rem(.5),marginBottom:je.a.rem(.75)})},n.actions)),Object(s.pipe)(i,l.g.map(n=>ge.createElement("div",null,ge.createElement(Tf,{text:"Continue with your original prompt:"}),ge.createElement("div",{className:je.a.style({paddingTop:je.a.rem(.125)})},ge.createElement(ug,{disabled:e,action:n,onClick:t({kind:z.a.Kind.userPromptSubmit,prompt:n})})))),l.g.toNullable)),header:ge.createElement("h2",{className:je.a.style({fontSize:je.a.rem(1),marginBottom:je.a.rem(.2),marginTop:0,lineHeight:je.a.rem(1.5)})},"Review your AI use"),isActive:!0,footer:ge.createElement(Qh,{isActive:!1,onRephrase:l.g.none,onInsert:l.g.none,onCopy:l.g.none,onDismiss:t({kind:z.a.Kind.resultCardDismissButtonClick,result:r}),onProvideFeedback:t({kind:z.a.Kind.openFeedbackFormButtonClick,source:Aa.Source.resultCard}),onReportOffensive:t({kind:z.a.Kind.reportOffensiveResultButtonClick,result:r}),onReportMenuVisibilityChange:e=>t({kind:z.a.Kind.reportMenuVisibilityChange,trigger:En.card(r.id),visible:e})(),disabled:e}),style:{borderColor:Ce.a.Gold40,borderTopWidth:je.a.rem(.375)}}))))),ug=({action:e,onClick:t,disabled:n})=>ge.createElement("button",{onClick:t,disabled:n,className:je.a.style({textDecoration:"underline",color:Ce.a.BlueGray60,background:je.a.important("none"),border:"none",cursor:"pointer",lineHeight:je.a.rem(1.375),fontSize:je.a.rem(.875),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",textAlign:"left"})},'"',e.arg.value,'"'),dg=A.b.Knot.make(lg,{actions:Ii}),pg=({title:e,url:t,contextText:n})=>{const r=ge.useRef(null),i=ep(r,e),a=Object(s.pipe)(n,I.getOrElse(()=>i));return Object(s.pipe)(t,I.fold(()=>ge.createElement(hg,{tooltip:a},ge.createElement("span",{className:mg,ref:r},e)),t=>ge.createElement(hg,{tooltip:a},ge.createElement("div",{className:fg},ge.createElement(Jd.a,{href:t,className:mg,ref:r},e)))))},mg=je.a.style({display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",maxWidth:"100%",$nest:{"&:visited":{color:"inherit"}}}),fg=je.a.style({display:"flex",alignItems:"center",width:"100%",overflow:"hidden"}),hg=({children:e,tooltip:t})=>t?ge.createElement(Yc.a,{align:"topCenter",title:ge.createElement("div",{className:gg},t)},e):ge.createElement(ge.Fragment,null,e),gg=je.a.style({maxWidth:je.a.rem(80*Ce.f.Space1),textAlign:"left",whiteSpace:"normal",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"}),bg=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M12 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm-10 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",fill:"#646B81"}));bg.__brand="color";const vg=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M5.818 2.429A5.921 5.921 0 0 0 2 8a6.002 6.002 0 0 0 3.857 5.606m4.286-11.177C12.398 3.29 14 5.44 14 8a5.973 5.973 0 0 1-3.824 5.606M2.546 2h3.272v3.273M13.454 14h-3.272v-3.273",stroke:"#646B81"}));vg.__brand="color";const yg={minWidth:je.a.rem(1.5),minHeight:je.a.rem(1.5),lineHeight:je.a.rem(1.5)},Og=({onRegenerateWithoutReference:e})=>ge.createElement(Jc,{name:"referenceMenu",title:"Reference menu","aria-label":"Reference menu",label:ge.createElement(bg,null),theme:{buttonStyle:{default:Object.assign({padding:0},yg),icon:yg}},onAction:t=>{switch(t){case"regenerateWithoutReference":return e()}}},ge.createElement(vs.a,{key:"regenerateWithoutReference",textValue:"regenerateWithoutReference"},ge.createElement(vg,{className:_g}),"Regenerate without this reference")),_g=je.a.style({marginRight:je.a.rem(Ce.f.Space2)}),Cg=({className:e,children:t})=>ge.createElement("div",Object.assign({},Object(ye.c)(wg,e)),t),wg=je.a.style({color:Ce.a.BlueGray60,fontWeight:400,fontSize:je.a.rem(.625),lineHeight:je.a.rem(1),background:Ce.a.BlueGray0,borderRadius:je.a.rem(Ce.d.RadiusHalf),padding:"0 "+je.a.rem(Ce.f.Space1),cursor:"default"}),Sg=({privacyLevel:e})=>{switch(e.kind){case"public":return ge.createElement(kg,null);case"restricted":return ge.createElement(Eg,null);default:return Object(s.absurd)(e)}},kg=()=>ge.createElement(ge.Fragment,null),Eg=()=>ge.createElement(Yc.a,{align:"topLeft",title:ge.createElement("div",{className:jg},"This item has restricted access and is only visible to those added to the file")},ge.createElement(Cg,{className:xg},"Private")),jg=je.a.style({width:je.a.rem(9),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),xg=je.a.style({border:"1px solid "+Ae.a.BorderBaseSubduedColor,borderRadius:je.a.rem(Ce.f.Space1)}),Ag=Object(ye.d)(_e.a),Ig=({className:e,isOpen:t,references:n,onOpenChange:r,onRegenerateWithoutReference:i,onReferencesMount:a,onReferencesUnmount:o})=>{const{onMount:c}=Object(cr.a)(Object(s.flow)(p.a.tap(a),p.a.finalize(o))),l=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:e,mount:c},ge.createElement(Ag,{variant:"tertiary",style:l.view(Tg),onClick:()=>r(!t),name:"collapseReferencesList",size:"small"},ge.createElement("span",{className:Pg},n.length," ",Cr.f.pluralize(n.length,"reference","references")),l.view(Object(j.c)(ge.createElement(fp,null,t?ge.createElement(mp,null):ge.createElement(pp,null)),t?ge.createElement(we.d.Arrow,{direction:we.a.up}):ge.createElement(we.d.Arrow,{direction:we.a.down})))),ge.createElement("ul",{className:Ng,hidden:!t,"aria-hidden":!t},n.map(({id:e,privacyLevel:t,title:n,iconUrl:r,url:a,contextText:o},s)=>ge.createElement("li",{key:s,className:Bg},ge.createElement("img",{src:r,className:Lg,alt:""}),ge.createElement(pg,{title:n,url:a,contextText:o}),ge.createElement("div",{className:Fg},ge.createElement(Sg,{privacyLevel:t}),void 0!==i?ge.createElement(Og,{onRegenerateWithoutReference:()=>i(e)}):null)))))},Tg=e=>({default:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:e?je.a.rem(Ce.f.Space2):je.a.rem(Ce.f.Space1),paddingRight:e?je.a.rem(Ce.f.Space2):0}}),Mg={fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),color:Ce.e.Color.Text.Base.Subdued,userSelect:"none"},Pg=je.a.style(Mg),Ng=je.a.style({fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),color:Ce.e.Color.Text.Base.Default,margin:0,padding:0}),Bg=je.a.style({height:je.a.rem(Ce.f.Space6),display:"flex",alignItems:"center",borderRadius:je.a.rem(Ce.d.Radius1)}),Lg=je.a.style({minWidth:je.a.rem(Ce.f.Space4),height:je.a.rem(Ce.f.Space4),marginRight:je.a.rem(Ce.f.Space2)}),Fg=je.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:"auto"});var Rg,Dg=n("B/Ki");!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm",e.none="none"}(Rg||(Rg={}));const Hg=({insertOp:e})=>{const t=Vg(e.attributes),n=Ug(e.attributes);switch(t){case Rg.generatedText:return ge.createElement(Kg,{style:n},e.insert);case Rg.knowledgeHubTerm:return ge.createElement($g,{style:n},e.insert);case Rg.none:return qg(e.attributes)?ge.createElement(Yg,{style:n,href:e.attributes.link},e.insert):ge.createElement(Zg,{style:n},e.insert);default:return Object(s.absurd)(t)}},Vg=e=>{switch(!0){case null==e?void 0:e[Jg.knowledgeHubTerm]:return Rg.knowledgeHubTerm;case null==e?void 0:e[Jg.generatedText]:return Rg.generatedText;default:return Rg.none}},Ug=e=>{const t={};return Wg(e)&&(t.fontWeight="bold"),zg(e)&&(t.fontStyle="italic"),Gg(e)&&(t.textDecoration="underline"),qg(e)&&(t.color=Ce.a.Blue60),t},Wg=e=>!0===(null==e?void 0:e.bold),zg=e=>!0===(null==e?void 0:e.italic),Gg=e=>!0===(null==e?void 0:e.underline),qg=e=>"string"==typeof(null==e?void 0:e.link),Kg=({children:e,style:t})=>ge.createElement("span",{className:Xg,style:t},e),$g=({children:e,style:t})=>ge.createElement(Yc.a,{title:"from Knowledge Share"},ge.createElement("span",{className:Qg,style:t},e)),Zg=({children:e,style:t})=>ge.createElement("span",{style:t},e),Yg=({children:e,style:t,href:n})=>ge.createElement("a",{style:t,href:n,target:"_blank",rel:"noreferrer"},e),Xg=je.a.style({backgroundColor:Ce.a.Green0,borderRadius:je.a.rem(Ce.d.RadiusHalf)}),Qg=je.a.style({backgroundColor:Ce.a.Blue0,borderRadius:je.a.rem(Ce.d.RadiusHalf)});var Jg;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm"}(Jg||(Jg={}));const eb=({replacementDelta:e})=>ge.createElement(If,null,e.map((e,t)=>Dg.a.isInsert(e)?ge.createElement(Hg,{key:t,insertOp:e}):null)),tb=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M2 8.444 5.692 12 14 4",stroke:"#646B81",strokeLinecap:"round"}));tb.__brand="color";const nb=({className:e,title:t,description:n})=>ge.createElement("div",{className:je.a.joinClasses([rb,e])},ge.createElement("div",{className:ib},ge.createElement("span",{className:cb},t)),ge.createElement("ul",{className:ab},n.map((e,t)=>ge.createElement("li",{className:ob,key:t},ge.createElement(tb,{className:sb}),ge.createElement("span",{className:lb},e))))),rb=je.a.style({display:"flex",flexDirection:"column"}),ib=je.a.style({display:"flex"}),ab=je.a.style({display:"flex",flexDirection:"column",listStyle:"none",margin:0,padding:0,$nest:{"& li":{marginTop:je.a.rem(Ce.f.Space1)}}}),ob=je.a.style({display:"flex",alignItems:"center"}),sb=je.a.style({marginRight:je.a.rem(Ce.f.Space2),width:je.a.rem(Ce.f.Space4),maxHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),$nest:{"& path:first-of-type":{stroke:Ce.a.Green60}}}),cb=je.a.style({fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),fontWeight:700,color:Ce.e.Color.Text.Base.Subdued}),lb=je.a.style({fontSize:je.a.rem(Ce.f.Space3),lineHeight:je.a.rem(Ce.f.Space4+Ce.f.SpaceHalf),color:Ce.e.Color.Text.Base.Subdued,flex:1});var ub;!function(e){e.searchLabel="searchLabel",e.clickableSearchLabel="clickableSearchLabel",e.knowledgeHub="knowledgeHub"}(ub||(ub={}));A.b.Union.asOption(A.b.Node.make(({notify:e,state:t})=>ge.createElement(Oe.a.Fragment,null,t.pipe(p.a.map(t=>ge.createElement(Sf,{key:"voiceButton",isMyVoice:t.selectedVoice===xn.a.GeneratedTextVoice.user,onClick:e({kind:z.a.Kind.resultCardToggleGenericVoiceButtonClick,resultId:t.resultId,voice:t.selectedVoice})}))))));const db=A.b.Node.make(({notify:e,state:t})=>ge.createElement(Oe.a.div,{className:pb},t.pipe(p.a.map(t=>{switch(t.kind){case ub.clickableSearchLabel:return ge.createElement(Pf,{header:t.label,disabled:t.disabled,onClick:e({kind:z.a.Kind.resultCardHeaderClick,prompt:t.copiablePrompt})});case ub.searchLabel:return ge.createElement(Bf,{header:t.label,iconUrl:t.iconUrl,loading:!1});case ub.knowledgeHub:return ge.createElement(Bf,{header:"Knowledge Share content was used.",iconUrl:I.none,loading:!1});default:return Object(c.d)(t)}})))),pb=je.a.style({display:"grid",gridTemplateColumns:"1fr auto",gap:je.a.rem(Ce.f.Space2)}),mb=A.b.Grid.make(({slots:e,state:t,notify:n})=>{const r=ge.useContext(ur.a).view("flatUI"),{notifyUnmount:i}=ge.useContext(Xr);return ge.createElement(Oe.a.Fragment,null,r.view(Object(j.c)(null,e.contextHeader)),p.a.combineLatestStatic([t,r]).pipe(p.a.map(([{result:t,disabled:r,isActive:a,isReferencesOpen:o,isMyVoice:c},u])=>ge.createElement(Pr,{"data-name":"result-"+t.id,body:ge.createElement(eb,{replacementDelta:Object(s.pipe)(t.replacementDelta,l.b.fold(s.identity,e=>c?e.user:e.generic))}),header:ge.createElement(ge.Fragment,null,u?e.contextHeader:null,e.header),footer:ge.createElement(ge.Fragment,null,Object(s.pipe)(xn.a.isComplete(t)?t.changesSummary:l.g.none,l.g.filter(()=>!u),l.g.map(e=>ge.createElement(ge.Fragment,null,ge.createElement(wu,{className:hb}),ge.createElement(nb,{title:e.title,description:e.description,className:gb}))),l.g.toNullable),ge.createElement(Qh,{isActive:a,onRephrase:Object(s.pipe)(t,l.g.fromPredicate(xn.a.isComplete),l.g.filter(e=>e.supportedActions.has(xn.a.SupportedAction.rephrase)),l.g.map(e=>n({kind:z.a.Kind.resultCardRephraseButtonClick,result:e,selectedVoice:c?xn.a.GeneratedTextVoice.user:xn.a.GeneratedTextVoice.generic}))),onCopy:Object(s.pipe)(l.g.some(n({kind:z.a.Kind.resultCardCopy,resultId:t.id,voice:c?xn.a.GeneratedTextVoice.user:xn.a.GeneratedTextVoice.generic})),l.g.filter(()=>t.supportedActions.has(xn.a.SupportedAction.copy))),onInsert:Object(s.pipe)(l.g.some(n({kind:z.a.Kind.resultCardInsertButtonClick,result:t,selectedVoice:c?xn.a.GeneratedTextVoice.user:xn.a.GeneratedTextVoice.generic})),l.g.filter(()=>t.supportedActions.has(xn.a.SupportedAction.insert))),onDismiss:n({kind:z.a.Kind.resultCardDismissButtonClick,result:t}),onProvideFeedback:n({kind:z.a.Kind.openFeedbackFormButtonClick,source:Aa.Source.resultCard}),onReportOffensive:n({kind:z.a.Kind.reportOffensiveResultButtonClick,result:t}),onReportMenuVisibilityChange:e=>n({kind:z.a.Kind.reportMenuVisibilityChange,trigger:En.card(t.id),visible:e})(),disabled:r}),Object(s.pipe)(t.references,l.g.filter(e=>e.length>0),l.g.map(e=>ge.createElement(Ig,{className:bb,isOpen:o,references:e,onOpenChange:e=>n({kind:z.a.Kind.referencesVisibilityChange,visible:e,resultId:t.id})(),onRegenerateWithoutReference:xn.a.isComplete(t)?e=>n({kind:z.a.Kind.regenerateWithoutReferenceButtonClick,result:t,referenceId:e,selectedVoice:c?xn.a.GeneratedTextVoice.user:xn.a.GeneratedTextVoice.generic})():void 0,onReferencesMount:e=>n({kind:z.a.Kind.mount,name:Z.a.referencesList,element:e})(),onReferencesUnmount:()=>i({kind:z.a.Kind.unmount,name:Z.a.referencesList})})),l.g.toNullable),Object(s.pipe)(xn.a.isComplete(t)?t.changesSummary:l.g.none,l.g.filter(()=>u),l.g.map(e=>ge.createElement(nb,{title:e.title,description:e.description,className:gb})),l.g.toNullable)),isActive:a,onHovered:e=>n({kind:z.a.Kind.resultCardHoverChange,hovered:e,resultId:t.id})(),onFocused:e=>n({kind:z.a.Kind.resultCardFocusChange,focused:e,resultId:t.id})(),onCopy:n({kind:z.a.Kind.resultCardCopy,resultId:t.id,voice:c?xn.a.GeneratedTextVoice.user:xn.a.GeneratedTextVoice.generic})}))))}),fb=A.b.Knot.make(mb,{header:db,contextHeader:Of}),hb=je.a.style({margin:je.a.rem(Ce.f.Space1)+" 0"}),gb=je.a.style({marginBottom:je.a.rem(Ce.f.Space1)}),bb=je.a.style({marginTop:je.a.rem(Ce.f.Space2)}),vb=A.b.Union.make("kind",{promptResultComplete:fb,aiUsageNotification:dg}),yb=A.b.List.make(q.h,vb),Ob=A.b.Group.make({results:yb}),_b=A.b.Union.make("kind",{none:A.b.Node.empty,loading:A.b.Knot.make(Qf,{header:A.b.Node.empty}),loaded:Ob}),Cb=je.a.style({display:"grid",height:"100%",alignItems:"end"}),wb=je.a.style({display:"flex",flexDirection:"column",alignItems:"stretch",gap:je.a.rem(Ce.f.Space2)}),Sb=A.b.Grid.make(({slots:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement("div",{className:Cb},ge.createElement(Oe.a.div,{className:t.pipe(p.a.map(e=>e?void 0:wb))},e.documentOverview,e.intent,e.resultList,e.lastResultSurvey,e.lastResultActions,e.inProgressResult,e.generationError,e.detectedReferences))}),kb=A.b.Knot.make(Sb,{documentOverview:Md,intent:Zd,resultList:_b,lastResultSurvey:xh,lastResultActions:Yh,inProgressResult:th,generationError:kd,detectedReferences:ip}),Eb=A.b.Group.make({toneReport:wl}),jb=A.b.Group.make({plagiarism:Ec}),xb=A.b.Union.make("kind",{home:vf,thread:kb,error:kd,followUpPrompt:lo,legacyVoiceProfile:Cu,voiceProfile:gd,feedbackForm:Ja,skill:qc,settings:Pc,toneReport:Eb,plagiarism:jb}),Ab=e=>ge.createElement(we.e,Object.assign({width:"17",height:"16",viewBox:"0 0 17 16"},e),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 8C2.5 4.41015 5.41015 1.5 9 1.5C12.5899 1.5 15.5 4.41015 15.5 8C15.5 11.5899 12.5899 14.5 9 14.5C7.85901 14.5 6.73812 14.1997 5.75 13.6292C5.51085 13.4911 5.42892 13.1853 5.56699 12.9462C5.70506 12.707 6.01085 12.6251 6.25 12.7631C7.08611 13.2459 8.03455 13.5 9 13.5C9.96545 13.5 10.9139 13.2459 11.75 12.7631C12.5861 12.2804 13.2804 11.5861 13.7631 10.75C14.2459 9.91389 14.5 8.96545 14.5 8C14.5 4.96243 12.0376 2.5 9 2.5C5.96243 2.5 3.5 4.96243 3.5 8V8.29289L4.64645 7.14645C4.84171 6.95118 5.15829 6.95118 5.35355 7.14645C5.54882 7.34171 5.54882 7.65829 5.35355 7.85355L3.35355 9.85355L3 10.2071L2.64645 9.85355L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645C0.841709 6.95118 1.15829 6.95118 1.35355 7.14645L2.5 8.29289V8ZM9 4C9.27614 4 9.5 4.22386 9.5 4.5V7.5H11.5C11.7761 7.5 12 7.72386 12 8C12 8.27614 11.7761 8.5 11.5 8.5H9H8.5V8V4.5C8.5 4.22386 8.72386 4 9 4Z",stroke:"none"})),Ib=A.b.Node.make(({state:e,view:t,notify:n})=>{const{notifyUnmount:r}=ge.useContext(Xr),{onMount:i}=Object(cr.a)(Object(s.flow)(p.a.tap(e=>n({kind:z.a.Kind.mount,name:Z.a.historyButton,element:e})()),p.a.switchMap(e=>t("state").pipe(p.a.map(e=>"enabled"===e),p.a.startWith(!1),p.a.distinctUntilChanged(),p.a.pairwise(),p.a.tap(([t,r])=>{!t&&r?n({kind:z.a.Kind.mount,name:Z.a.historyButtonActive,element:e})():t&&!r&&n({kind:z.a.Kind.unmount,name:Z.a.historyButtonActive})()}))),p.a.finalize(()=>{r({kind:z.a.Kind.unmount,name:Z.a.historyButton}),r({kind:z.a.Kind.unmount,name:Z.a.historyButtonActive})})));return ge.createElement("div",{className:Mb},ge.createElement(_e.a,{variant:"tertiary",mount:i,onClick:n({kind:z.a.Kind.restoreHistoryButtonClick}),disabled:t("state").pipe(p.a.map(e=>"disabled"===e||"loading"===e)),compact:!0,style:t("flatUI").pipe(p.a.map(e=>e?{}:Nb)),size:t("flatUI").pipe(p.a.map(e=>e?"small":"medium")),name:"restoreHistory",title:e.pipe(p.a.map(({flatUI:e,state:t})=>"disabled"===t?"No prior prompt to go back to.":"enabled"===t?e?"Pick up with your last prompt.":"Pick up where you left off":void 0))},ge.createElement(Ab,null)),ge.createElement(Oe.a.Fragment,null,e.pipe(p.a.map(({flatUI:e,state:t})=>e&&"disabled"!==t?ge.createElement("div",{key:"badge",role:"presentation",className:Pb}):null))))}),Tb=A.b.Union.asOption(Ib),Mb=je.a.style({position:"relative"}),Pb=je.a.style({width:je.a.rem(.375),height:je.a.rem(.375),borderRadius:je.a.rem(.375),background:Ae.a.BrandGreen60,position:"absolute",top:je.a.rem(Ce.f.SpaceHalf),right:je.a.rem(-Ce.f.SpaceHalf)}),Nb={default:{boxShadow:`0px 0px 1px ${je.a.color(Ce.a.BlueGray40).toRGBA().fade(.5).toString()}, 0px 0.5px 8px -0.5px ${je.a.color(Ce.a.BlueGray40).toRGBA().fade(.5).toString()}`}},Bb=({icon:e,label:t,className:n,onClick:r})=>ge.createElement(_e.a,{variant:"tertiary",onClick:r,name:"actionBrick",size:"small",style:Fb,className:n},Object(s.pipe)(e,ve.fold(e=>"more"===e?ge.createElement(ke,null):"plagiarism"===e?ge.createElement(Ee,null):Object(c.d)(e),e=>ge.createElement("img",{src:e,style:{width:je.a.rem(1),height:je.a.rem(1)}}))),ge.createElement(Oe.a.div,Object.assign({},Object(fe.e)(t),{className:Rb}))),Lb={gapRems:Ce.f.Space1,paddingLeftRems:Ce.f.Space1,paddingRightRems:Ce.f.Space2,fontSizeRems:.75,fontFamily:"Inter",fontWeight:"normal",iconWidthRems:1},Fb={default:{fontSize:je.a.rem(Lb.fontSizeRems),fontFamily:Lb.fontFamily,fontWeight:Lb.fontWeight,gap:je.a.rem(Lb.gapRems),padding:`0 ${je.a.rem(Lb.paddingRightRems)} 0 ${je.a.rem(Lb.paddingLeftRems)}`},icon:Object(xe.c)(Lb.iconWidthRems)},Rb=je.a.style({whiteSpace:"initial",textAlign:"left",lineHeight:je.a.rem(1.125)});let Db=null;function Hb(e,t){Db||(Db=document.createElement("canvas"));const n=Db.getContext("2d");if(n){n.font=t;return n.measureText(e).width}return null}const Vb=({widthRems:e})=>ge.createElement(cf,{style:{width:je.a.rem(e),height:je.a.rem(1.5),border:0},iconStyle:{width:je.a.rem(1),height:je.a.rem(1)}}),Ub=Ce.f.Space4,Wb=()=>ge.createElement("div",{role:"separator",className:je.a.style({width:je.a.rem(Ub),height:je.a.rem(1.5),position:"relative"})},ge.createElement("div",{className:je.a.style({position:"absolute",top:0,bottom:0,left:"50%",borderLeft:"0.5px solid "+Ce.a.BlueGray20})})),zb=({loading:e,actions:t,className:n,onHasHiddenActionsChange:r,onActionClick:i})=>{const{onMount:a,ref:o}=sr.a.useElWatcher(),c=wr(o,!0),u=ge.useContext(or.a.Context),d=ge.useMemo(()=>p.a.combineLatestStatic([c,u,t]).pipe(p.a.map(([e,t,n])=>({width:Object(s.pipe)(e,I.map(e=>Math.round(e.width))),remSize:t,actions:n})),p.a.skipBy(l.c.getStructEq({width:I.getEq(l.c.eqNumber),remSize:l.c.eqNumber,actions:q.eb(l.c.fromEquals((e,t)=>e.action.label===t.action.label))})),p.a.map(({width:e,remSize:t,actions:n})=>Object(s.pipe)(e,I.map(e=>function(e,t,n,r,i){const a=[];let o=0;for(let s=0;s<e.length;++s){const c=Hb(e[s].action.label,i),l=(null!=c?c:0)+n+(a.length>0?r:0);null!==c&&o+l<=t&&(o+=l,a.push(e[s]))}return a}(n,e,function(e){return(Lb.paddingLeftRems+Lb.iconWidthRems+Lb.gapRems+Lb.paddingRightRems)*e}(t),Ub*t,function(e){return`${Lb.fontWeight} ${Lb.fontSizeRems*e}px ${Lb.fontFamily}`}(t))))),p.a.shareReplay({refCount:!0,bufferSize:1})),[t,c,u]),m=ge.useMemo(()=>p.a.combineLatestStatic([d,t,e]).pipe(p.a.filter(([e,t,n])=>!1===n),p.a.map(([e,t])=>Object(s.pipe)(e,I.fold(()=>0,e=>e.length),e=>e<t.length)),p.a.distinctUntilChanged(),p.a.tap(e=>r(e))),[d,t]);return sr.a.useSubscriptionTo(m),ge.createElement(Oe.a.div,{className:je.a.joinClasses([Gb,n]),mount:a},p.a.combineLatestStatic([d,e]).pipe(p.a.map(([e,t])=>Object(s.pipe)(e,I.filter(()=>!t),I.fold(()=>ge.createElement(Oe.a.Fragment,null,p.a.combineLatestStatic([c,u]).pipe(p.a.map(([e,t])=>Object(s.pipe)(e,I.map(e=>({width:Math.floor(e.width),remSize:t})))),p.a.skipBy(I.getEq(l.c.getStructEq({width:l.c.eqNumber,remSize:l.c.eqNumber}))),p.a.map(I.fold(s.constNull,({width:e,remSize:t})=>{const n=15+Ub,r=9/n,i=6/n,a=e/t-Ub,o=Math.min(r*a,9),s=Math.min(i*a,6);return ge.createElement(ge.Fragment,null,ge.createElement(Vb,{widthRems:o}),ge.createElement(Wb,null),ge.createElement(Vb,{widthRems:s}))})))),e=>ge.createElement(ge.Fragment,null,e.map((e,t)=>ge.createElement(ge.Fragment,{key:e.action.id},t>0?ge.createElement(Wb,null):null,ge.createElement(Bb,{icon:ee.a.extractActionIcon(e.action),label:e.action.label,onClick:()=>i(e)})))))))))},Gb=je.a.style({display:"flex",height:je.a.rem(1.5)});const qb=A.b.Grid.make(({slots:e,view:t,notify:n})=>{const r=ge.useMemo(()=>f.a.create(!1),[]);return ge.createElement("section",{className:Zb,"data-name":"actions-bar"},ge.createElement("div",{className:$b},e.header),ge.createElement(zb,{className:Yb,loading:t("loading"),actions:t("actions"),onActionClick:e=>n({kind:z.a.Kind.actionBrickClick,action:e})(),onHasHiddenActionsChange:m.b.toAtom(r)}),ge.createElement(Oe.a.div,{className:Kb},p.a.combineLatestStatic([t("hasMore"),r]).pipe(p.a.map(([e,r])=>e||r?ge.createElement(ge.Fragment,null,ge.createElement(Bb,{icon:ve.left("more"),label:"More",onClick:n({kind:z.a.Kind.actionBrickClick,action:{kind:"allResults",filterPredicate:s.constTrue}})}),ge.createElement(Oe.a.Fragment,null,t("hasHistoryButton").pipe(p.a.map(Object(j.c)(ge.createElement(Wb,null),null))))):null)),e.historyButton))}),Kb=je.a.style({gridArea:"controls",display:"flex",flexDirection:"row"}),$b=je.a.style({gridArea:"header"}),Zb=je.a.style({display:"grid",gridTemplateColumns:"1fr auto",gridTemplateRows:"auto auto",gridTemplateAreas:'"header header" "actions controls"',gridColumnGap:je.a.rem(Ce.f.Space2),alignItems:"center",padding:`${je.a.rem(Ce.f.Space1)} ${je.a.rem(Ce.f.Space4)}`,margin:je.a.rem(Ce.f.Space2)+" 0"}),Yb=je.a.style({gridArea:"actions",display:"flex",height:je.a.rem(1.5)}),Xb=()=>ge.createElement(cf,{style:{width:je.a.rem(7.75),height:je.a.rem(2.5),border:0,gap:je.a.rem(.875),marginLeft:je.a.rem(1)},iconStyle:{width:je.a.rem(1.25),height:je.a.rem(1.25)}}),Qb=A.b.Grid.make(({slots:e,state:t,notify:n})=>ge.createElement(Oe.a.div,{className:Jb,"data-name":"actions-panel"},e.header,t.pipe(p.a.map(({loading:t,actions:r,hasMore:i,maxActionsCount:a})=>t?Array.from({length:a+1}).map((e,t)=>ge.createElement(ge.Fragment,{key:t},0!==t?ge.createElement(Oi,null):null,ge.createElement(Xb,null))):ge.createElement(ge.Fragment,null,r.map((e,t)=>ge.createElement(ge.Fragment,{key:e.action.id},0!==t&&ge.createElement(Oi,null),ge.createElement(Qe,{icon:ee.a.extractActionIcon(e.action),label:e.action.label,onClick:n({kind:z.a.Kind.actionBrickClick,action:e})}))),i?ge.createElement(ge.Fragment,null,ge.createElement(Oi,null),ge.createElement("div",{className:ev},ge.createElement(Qe,{icon:ve.left("more"),label:"More",onClick:n({kind:z.a.Kind.actionBrickClick,action:{kind:"allResults",filterPredicate:s.constTrue}}),style:tv}),ge.createElement("div",{className:nv},e.historyButton))):null))))),Jb=je.a.style({display:"flex",flexDirection:"column",marginTop:je.a.rem(Ce.f.Space2)}),ev=je.a.style({position:"relative"}),tv={default:{width:"100%"}},nv=je.a.style({position:"absolute",right:je.a.rem(Ce.f.Space4),bottom:"50%",transform:"translateY(50%)"}),rv=e=>ge.createElement(we.e,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},e),ge.createElement("circle",{cx:"10",cy:"10",r:"6",stroke:"#646B81"}),ge.createElement("path",{d:"M7.5 10H12.5",stroke:"#646B81",strokeLinecap:"round"})),iv=A.b.Node.make(({view:e,notify:t})=>ge.createElement("div",{className:ov},ge.createElement(Fi,{active:!0,style:sv,prefix:"Work with:"},e("selectedText")),ge.createElement(_e.a,{variant:"tertiary",onClick:t({kind:z.a.Kind.removeSelectionContextClick}),compact:!0,size:"small",name:"removeContext",title:"Remove"},ge.createElement(rv,null)))),av=A.b.Union.asOption(iv),ov=je.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",gap:je.a.rem(Ce.f.Space2)}),sv={height:je.a.rem(2.5)},cv=A.b.Node.make(({view:e})=>ge.createElement(Oe.a.h1,{className:mv},e("title"))),lv=A.b.Union.make("kind",{none:A.b.Node.empty,title:cv,selectionContext:A.b.Composite.make(A.b.Grid.make(({slots:e})=>ge.createElement("div",{className:fv},e.header)),iv)}),uv=A.b.Knot.make(qb,{header:av,historyButton:Tb}),dv=A.b.Knot.make(Qb,{header:lv,historyButton:Tb}),pv=A.b.Union.make("kind",{none:A.b.Node.empty,actionBar:uv,actionPanel:dv}),mv=je.a.style({padding:je.a.rem(Ce.f.Space2),paddingLeft:je.a.rem(Ce.f.Space4),margin:0,fontWeight:700,fontSize:je.a.rem(1),lineHeight:je.a.rem(1.5)}),fv=je.a.style({padding:`0 ${je.a.rem(Ce.f.Space3)} 0 ${je.a.rem(Ce.f.Space4)}`}),hv=A.b.Grid.make(({slots:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.section,{className:t.view(bv)},e.header,e.fieldContainer)}),gv=A.b.Knot.make(hv,{header:pv,fieldContainer:Oa}),bv=e=>e?je.a.style({backgroundColor:Ae.a.BackgroundBaseSubdued,borderTop:"0.5px solid "+Ae.a.BorderBaseSubduedColor,height:"100%",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit",boxSizing:"border-box"}):void 0,vv=A.b.Union.make("kind",{none:A.b.Node.empty,skill:qc,promptStudio:gv}),yv=({count:e})=>{const t="counterGradientColors_"+Cr.f.alphanumeric(6);return ge.createElement("div",{className:Ov(e)},ge.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",className:_v},ge.createElement("linearGradient",{id:t,x1:"0.5",y1:"0",x2:"0.5",y2:"1"},ge.createElement("stop",{offset:"0%",stopColor:"#638EEB"}),ge.createElement("stop",{offset:"100%",stopColor:"#EE445F"})),ge.createElement("circle",{r:"11",cx:"12",cy:"12",strokeWidth:"2",fill:"none",stroke:`url(#${t})`})),e>999?"1K+":e)},Ov=e=>je.a.style({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",fontSize:e>99?je.a.rem(.625):je.a.rem(.75),fontWeight:700,width:je.a.rem(1.5),height:je.a.rem(1.5),color:Ce.e.Color.Text.Base.Default}),_v=je.a.style({position:"absolute",top:0,left:0,right:0,bottom:0}),Cv=({collapseAfterMs:e,animationDurationMs:t=500,children:n})=>{const[r,i]=ge.useState(!1),{onMount:a,ref:o}=sr.a.useElWatcher();return ge.createElement(Oe.a.div,{mount:a,className:o.pipe(p.a.map(n=>je.a.style({overflow:"hidden",animationDelay:`${e}ms, ${e}ms`,animationName:`${Sv}, ${wv}`,animationDuration:`${t}ms, ${t}ms`,animationTimingFunction:"ease-in-out, ease-in-out",maxWidth:Object(s.pipe)(n,I.fold(()=>"auto",e=>e.scrollWidth+5+"px"))}))),onAnimationEnd:()=>i(!0)},r?null:n)},wv=je.a.keyframes({"0%":{opacity:1},"50%":{opacity:1},"100%":{opacity:0}}),Sv=je.a.keyframes({to:{maxWidth:0}}),kv=Object(Xe.c)(Ae.a.BorderBrandDefault),Ev={default:{height:je.a.rem(2),boxSizing:"border-box",borderRadius:je.a.rem(1),border:"1px solid "+Ae.a.BorderBaseSubduedColor,display:"flex",alignItems:"center",width:"fit-content",padding:je.a.rem(3*Ce.f.SpaceQuarter),userSelect:"none"},hovered:{boxShadow:"none",border:"1px solid "+Ae.a.ButtonBorderTertiaryHover,$nest:Object(Xe.b)(kv)},active:{boxShadow:"none",border:"1px solid "+Ae.a.ButtonBorderTertiaryActive,$nest:Object(Xe.b)(kv)}},jv=je.a.style({padding:"0 "+je.a.rem(Ce.f.Space2),color:Ae.a.TextBaseSubduedColor,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),height:je.a.rem(1.125)}),xv=e=>ge.createElement(we.e,{className:e.className,viewBox:"0 0 22 22",width:22,height:22},ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 11C22 17.0749 17.0753 22 11 22C4.92513 22 0 17.0749 0 11C0 4.92465 4.92513 0 11 0C17.0753 0 22 4.92465 22 11Z",fill:"#018374",stroke:"none"}),ge.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4371 13.3755C12.5021 13.7356 12.8407 13.9824 13.2066 13.9824H14.3592L15.0274 13.8887C13.9584 15.4569 12.1023 16.1786 10.0731 15.8601C8.42114 15.6008 7.00214 14.4831 6.40336 12.9221C5.04414 9.37866 7.63201 5.99545 11.0042 5.99545C12.7618 5.99545 14.3037 7.05097 15.1876 8.29349C15.4224 8.63162 15.8868 8.72871 16.2254 8.49388C16.5468 8.27101 16.6405 7.84775 16.4473 7.51488C15.2249 5.60662 13.0282 4.38562 10.558 4.5511C7.34171 4.76679 4.73901 7.39866 4.55392 10.6169C4.33918 14.3617 7.30966 17.4192 11.0042 17.4192C12.945 17.4192 14.6825 16.5741 15.8662 15.2068L15.7261 15.9911V16.6999C15.7261 17.0653 15.9724 17.4044 16.3325 17.4694C16.8055 17.5545 17.2168 17.1934 17.2168 16.7362V12.4912H13.1698C12.7126 12.4912 12.3515 12.903 12.4371 13.3755Z",fill:"white",stroke:"none"})),Av=({className:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.Fragment,null,t.view(t=>ge.createElement(xv,{className:je.a.joinClasses([Iv(t),e])})))},Iv=e=>je.a.style(Object.assign({display:"flex",alignItems:"center",justifyContent:"center"},e?Object(xe.c)(1.375):{})),Tv=Object(ye.d)(({count:e,label:t,disabled:n,onClick:r,collapseLabelAfter:i})=>ge.createElement(_e.a,{variant:"tertiary",name:"suggestions-counter-button",style:Ev,disabled:n,onClick:r,title:t},ge.createElement(yv,{count:e}),t&&ge.createElement(Cv,{collapseAfterMs:null!=i?i:0},ge.createElement("div",{className:jv},t)))),Mv=A.b.Node.make(({view:e,notify:t})=>ge.createElement(Tv,{count:e("count"),disabled:e("disabled"),label:"Review suggestions",collapseLabelAfter:2e3,onClick:t({kind:"suggestionCountButtonClick"})})),Pv=A.b.Union.make("kind",{withoutSuggestions:A.b.Node.make(()=>ge.createElement(Av,{className:je.a.style({paddingLeft:je.a.rem(Ce.f.Space2)})})),withSuggestions:Mv}),Nv=e=>ge.createElement(we.e,Object.assign({width:"20",height:"20",viewBox:"0 0 20 20"},e),ge.createElement("g",{id:"icon"},ge.createElement("g",{id:"Vector"},ge.createElement("path",{d:"M14.6429 3.92857L14.607 3.96447C13.3023 5.26917 11.0714 4.34512 11.0714 2.5H8.92857C8.92857 4.34512 6.69774 5.26917 5.39304 3.96447L5.35714 3.92857L3.92857 5.35714L3.96447 5.39304C5.26917 6.69774 4.34512 8.92857 2.5 8.92857V11.0714C4.34512 11.0714 5.26917 13.3023 3.96447 14.607L3.92857 14.6429L5.35714 16.0714L5.39304 16.0355C6.69774 14.7308 8.92857 15.6549 8.92857 17.5H11.0714C11.0714 15.6549 13.3023 14.7308 14.607 16.0355L14.6429 16.0714L16.0714 14.6429L16.0355 14.607C14.7308 13.3023 15.6549 11.0714 17.5 11.0714V8.92857C15.6549 8.92857 14.7308 6.69774 16.0355 5.39304L16.0714 5.35714L14.6429 3.92857Z",fill:"none",strokeLinejoin:"round"}),ge.createElement("path",{d:"M12.5 10C12.5 11.3807 11.3807 12.5 10 12.5C8.61929 12.5 7.5 11.3807 7.5 10C7.5 8.61929 8.61929 7.5 10 7.5C11.3807 7.5 12.5 8.61929 12.5 10Z",fill:"none",strokeLinejoin:"round"})))),Bv=A.b.Node.make(({view:e,notify:t})=>ge.createElement(_e.a,{variant:"tertiary",onClick:e=>{e&&Object(fe.d)(e.currentTarget)&&t({kind:z.a.Kind.settingsButtonClick,buttonRect:e.currentTarget.getBoundingClientRect()})()},compact:!0,size:e("flatUI").pipe(p.a.map(e=>e?"small":"medium")),name:"settings",title:"Settings"},ge.createElement(Nv,null))),Lv=A.b.Union.asOption(Bv),Fv=A.b.Node.make(({view:e,notify:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement(_e.a,{variant:"tertiary",style:n.pipe(p.a.map(e=>e?Dv:Hv)),onClick:t({kind:z.a.Kind.headerVoiceButtonClick}),name:"headerVoiceProfileButton",size:n.pipe(p.a.map(e=>e?"small":"medium")),title:"My voice"},ge.createElement(Jm,null),ge.createElement(Oe.a.Fragment,null,p.a.combineLatestStatic([n,e("styleLabel")]).pipe(p.a.map(([e,t])=>e?null:ge.createElement("span",null,t)))))}),Rv=A.b.Union.asOption(Fv),Dv={default:{padding:0},icon:Object(xe.c)(1.5)},Hv={default:{padding:0,paddingRight:je.a.rem(Ce.f.Space2),paddingLeft:je.a.rem(Ce.f.Space2),minHeight:je.a.rem(1.625),lineHeight:je.a.rem(1.625),border:je.a.px(1),borderStyle:"solid",borderColor:Ce.a.BlueGray20,borderRadius:je.a.rem(.8125),gap:je.a.rem(Ce.f.Space1),flexWrap:"nowrap"},icon:Object(xe.c)(1.5)},Vv=({title:e,titleId:t,desc:n,descId:r,...i})=>ge.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?ge.createElement("desc",{id:r},n):null,e?ge.createElement("title",{id:t},e):null,ge.createElement("path",{d:"M2 8h12m0 0L9.448 3M14 8l-4.552 5",stroke:"#646B81",strokeLinecap:"round"}));Vv.__brand="color";const Uv=Object(ye.d)(_e.a),Wv=A.b.Node.make(({notify:e,view:t})=>{const n=ge.useContext(ur.a).view("flatUI");return ge.createElement("div",{className:Gv},ge.createElement(Uv,{variant:"tertiary",compact:!0,onClick:t("activeView").pipe(p.a.map(t=>e({kind:z.a.Kind.headerGoBackButtonClick,goBackFrom:t}))),size:n.view(Object(j.c)("small","large")),title:"Back",name:"goBack"},n.view(Object(j.c)(ge.createElement(fp,null,ge.createElement(Vv,{className:zv})),ge.createElement(we.d.Arrow,{direction:we.a.left})))),ge.createElement(Oe.a.div,{className:qv},t("activeViewIconUrl").pipe(p.a.map(I.fold(s.constNull,e=>ge.createElement("img",{src:e,style:{width:je.a.rem(1.25),height:je.a.rem(1.25)}})))),t("activeViewLabel").pipe(p.a.map(I.fold(s.constNull,e=>ge.createElement("span",null,e))))))}),zv=je.a.style({$nest:{"& path":{transform:"rotate(180deg)",transformOrigin:"center"}}}),Gv=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2),color:Ce.a.BlueGray60,fontWeight:400,fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125)}),qv=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(Ce.f.Space2)}),Kv=e=>ge.createElement(we.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),ge.createElement("path",{d:"M4 4L8 8M12 12L8 8M8 8L12 4M8 8L4 12",stroke:"#646B81",strokeLinecap:"round"})),$v=A.b.Node.make(({notify:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(_e.a,{variant:"tertiary",onClick:e({kind:z.a.Kind.headerCloseButtonClick}),compact:!0,className:t.view(Object(j.c)(void 0,je.a.style({marginLeft:je.a.rem(-Ce.f.Space2)}))),size:t.view(Object(j.c)("small","large")),name:"headerClose","aria-label":"Close Assistant"},ge.createElement(Kv,null))});const Zv=A.b.Node.make(({state:e,notify:t})=>{const{ref:n,onMount:r}=sr.a.useElWatcher(),i=ge.useMemo(()=>n.pipe(p.b.compact,p.a.switchMap(e=>p.a.fromEvent(e,"mouseenter").pipe(p.a.switchMapTo(p.a.of(null).pipe(p.a.delay(500),p.a.takeUntil(p.a.fromEvent(e,"mouseleave")))))),p.a.tap(t({kind:z.a.Kind.creditsInfoHover}))),[n]);sr.a.useSubscriptionTo(i);const{onMount:a}=Object(cr.a)(p.a.tap(e=>t({kind:z.a.Kind.mount,name:Z.a.creditsInfoButton,element:e})())),o=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.Fragment,null,e.pipe(p.a.map(({user:e,genAIAvailability:n})=>{const i=S.a.isActive(n)?function(e){const t=`${Number(e.promptsRemaining).toLocaleString()}/${Number(e.promptsAllocated).toLocaleString()} prompts left. `,n=S.a.Active.daysUntilRefillDate(e.refillDate),r=S.a.Active.hoursUntilRefillDate(e.refillDate);return n>0?t+`Next refill in ${n} ${Cr.f.pluralize(n,"day","days")}.`:r>0?t+`Next refill in ${r} ${Cr.f.pluralize(r,"hour","hours")}.`:t+"Next refill in less than an hour."}(n):e.isPremium?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium.",s=S.a.isActive(n)?`${Number(n.promptsRemaining).toLocaleString()} ${Cr.f.pluralize(n.promptsRemaining,"prompt","prompts")}`:e.isPremium?"0 prompts":ge.createElement(ge.Fragment,null,"0 prompts. ",ge.createElement("span",{className:Qv},"Upgrade"));return e.isPremium&&S.a.isActive(n)?ge.createElement(ge.Fragment,null,S.a.isActiveUnlimited(n)?null:ge.createElement(Yc.a,{title:i},ge.createElement("div",{ref:r,className:Xv},s))):ge.createElement(_e.a,{variant:"tertiary",onClick:t({kind:z.a.Kind.creditsInfoClick}),size:o.view(Object(j.c)("small","large")),title:i,name:"creditsInfo",mount:a,style:Jv,textPosition:"everywhere"},ge.createElement("div",{ref:r},s))})))}),Yv=A.b.Union.asOption(Zv),Xv=je.a.style({padding:""+je.a.rem(Ce.f.Space2),fontSize:je.a.rem(.75),lineHeight:je.a.rem(1.125),color:Ce.e.Color.Text.Base.Subdued,cursor:"default"}),Qv=je.a.style({color:Ce.a.Blue60}),Jv={default:{fontSize:je.a.rem(.75)}},ey=A.b.Node.make(({view:e})=>ge.createElement(Oe.a.Fragment,null,e("version").pipe(p.a.map(I.fold(()=>ge.createElement(Av,null),e=>ge.createElement("div",{className:ty},ge.createElement(Av,null),ge.createElement("small",null,"v"+e))))))),ty=je.a.style({display:"flex",alignItems:"center",gap:je.a.rem(.5)}),ny=A.b.Node.make(({state:e})=>ge.createElement(Oe.a.h1,{className:iy},e)),ry=A.b.Union.asOption(ny),iy=je.a.style({textAlign:"center",fontSize:je.a.rem(.75),fontWeight:700,lineHeight:je.a.rem(1.125)}),ay=A.b.Grid.make(({slots:e})=>ge.createElement("div",{className:by},e.back,ge.createElement("div",{className:yy}),e.voice)),oy=A.b.Knot.make(ay,{back:Wv,voice:Fv}),sy=A.b.Composite.make(A.b.Grid.make(({slots:e})=>ge.createElement("div",{className:Oy},ge.createElement(Av,null),ge.createElement("div",{className:_y},e.content))),Fv),cy=A.b.Knot.make(A.b.Grid.make(({slots:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.div,{className:t.view(wy)},e.button)}),{button:Pv}),ly=A.b.Union.make("kind",{logoOnly:ey,suggestionCount:cy,logoAndVoiceButton:sy,backButton:Wv,backButtonAndVoiceButton:oy}),uy=A.b.Grid.make(({slots:e})=>{const t=ge.useContext(ur.a).view("flatUI");return ge.createElement(Oe.a.Fragment,null,t.view(t=>ge.createElement("div",{className:t?gy:hy},t?e.credits:null,e.voiceButton,e.historyButton,t?null:e.credits,e.settingsButton,e.closeButton)))}),dy=A.b.Knot.make(uy,{voiceButton:Rv,historyButton:Tb,credits:Yv,settingsButton:Lv,closeButton:$v}),py=A.b.Grid.make(({slots:e})=>ge.createElement(ge.Fragment,null,e.left,ge.createElement("div",{className:Cy},e.pageTitle),e.right)),my=A.b.Knot.make(py,{left:ly,pageTitle:ry,right:dy}),fy={display:"flex",alignItems:"center"},hy=je.a.style(Object.assign(Object.assign({},fy),{gap:je.a.rem(Ce.f.Space2)})),gy=je.a.style(Object.assign(Object.assign({},fy),{gap:je.a.rem(Ce.f.Space1)})),by=je.a.style({display:"flex",flexDirection:"row",alignItems:"center",gap:je.a.rem(Ce.f.Space2)}),vy={height:je.a.rem(1),borderLeft:"1px solid "+Ce.a.BlueGray20},yy=je.a.style(vy),Oy=je.a.style({display:"flex",flexDirection:"row",alignItems:"center",gap:je.a.rem(Ce.f.Space1)}),_y=je.a.style({display:"flex",alignItems:"center"}),Cy=je.a.style({flexGrow:1}),wy=e=>je.a.style({marginLeft:e?je.a.rem(-Ce.f.Space2):0}),Sy=A.b.Knot.make(xa,{header:my,content:xb,footer:vv,notifications:tr,onboarding:ar});function ky(e){return A.a.composeKnot({content:(t=e.notifications,A.a.composeList(q.m,()=>t.state.view(q.Kb),e=>function(e,t){return A.a.fromSideEffect(e=>{switch(e.kind){case"dismissNotification":return t.dismiss(e.id);case"mouseOver":return t.hover(!0);case"mouseOut":return t.hover(!1);default:Object(c.d)(e)}},e)}(e,t)))});var t}function Ey(e){return Object(s.flow)(p.a.share(),t=>{return p.a.mergeStatic(t.pipe((n=e.logger,r=e.lifecycle,Object(s.flow)(p.a.filter(Ea),p.a.tap(e=>{r.onMount(e.element)}),p.a.map(e=>I.some(e.element)),sr.a.FocusTrap.dynamicFocusTrap(sr.a.FocusTrap.InitialFocus.none,jy,function(e){return(t,n)=>(t instanceof HTMLIFrameElement?t.contentDocument&&t.contentDocument.body?p.a.fromEvent(t.contentDocument.body,n):p.a.EMPTY:p.a.fromEvent(t,n)).pipe(p.a.catchError(r=>(e.error("failed to attach event listener during focus trap",r,{el:t,eventName:n}),p.a.EMPTY)))}(n)),p.a.ignoreElements()))),t.pipe(function(e){return Object(s.flow)(p.a.filter(ja),p.a.take(1),p.a.tap(t=>{e.onHeaderMount(t.element)}),p.a.ignoreElements())}(e.lifecycle)),t.pipe(function(e){return Object(s.flow)(p.a.filter(ka),p.a.tap(t=>e.onFocus(t.focused)),p.a.ignoreElements())}(e.lifecycle)),f.a.combine(e.assistant.state.view("canScroll"),function(e){return f.a.combine(e.assistant.state.view("session"),e.assistant.state.view("contextualActions"),e.userSurvey.state,e.routing.activeView,(e,t,n,r)=>Object(s.pipe)(E.a.toStarted(e),I.filter(()=>"thread"===r.kind),I.map(e=>`${Object(s.pipe)(e.inProgressResult,I.fold(()=>"",e=>e.text))}_${""+e.results.length}_${I.isSome(n.activeSurvey)}_${Object(s.pipe)(t,I.fold(()=>"",Object(s.flow)(q.Yb(5),q.ub(e=>e.id),e=>e.join("-"))))}`)))}(e),e.promptMenu.state,e.lifecycle.heightBehavior,e.lifecycle.widthBehavior,e.lifecycle.dragBehavior,(e,t,n,r,i,a)=>({canScrollContent:e,menuRef:Object(s.pipe)(n,I.chain(e=>e.promptMenuContainer)),scrollContentToBottomToken:t,heightBehavior:r,widthBehavior:i,dragBehavior:a})));var n,r})}function jy(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function xy(e){return A.a.fromSideEffect(t=>e.notify(t),f.a.combine(e.feedbackForm.stagingFeedbackFormData,e.feedbackForm.domain,(e,t)=>{var n;return{formData:e,domain:t,source:null!==(n=null==e?void 0:e.source)&&void 0!==n?n:Aa.Source.resultCard}}))}function Ay(e){return A.a.composeOption(function(e){return A.a.fromSideEffect(t=>e.notify(t),e.assistant.state.view("selectedAction").view(l.g.chain(e=>Object(s.pipe)(e.args[0].hints,l.g.map(t=>({header:e.label,iconUrl:e.iconUrl,hintsHeader:t.header,hintsItems:t.items,radioOptions:ee.c.match({string:()=>l.g.none,radio:e=>l.g.some(e.radioOptions)})(e.args[0])}))))).pipe(p.b.compact))}(e),()=>e.assistant.state.view("selectedAction").view(l.g.chain(e=>e.args[0].hints)))}function Iy(e){return void 0!==e.find(e=>"applyAlerts"===e.type||"removeAlerts"===e.type)}function Ty(e,t){return n=>Object(s.pipe)(e||t?Wt.a.map(n,n=>"button"!==n.type?n:e&&n.name.value===String(Ut.a.ComponentKnownName.ButtonPrev)||t&&n.name.value===String(Ut.a.ComponentKnownName.ButtonNext)?Object.assign(Object.assign({},n),{state:Ut.a.ButtonState.Disabled}):n):I.some(n),I.getOrElse(()=>n))}const My=e=>Object(s.pipe)(Wt.a.map(e,e=>"button"!==e.type?e:e.name.value===String(Ut.a.ComponentKnownName.ButtonPrev)||e.name.value===String(Ut.a.ComponentKnownName.ButtonNext)?Object.assign(Object.assign({},e),{state:Ut.a.ButtonState.Hidden}):e),I.getOrElse(()=>e));function Py(e,t,n,r){return A.a.fromSideEffect(n=>{switch(n.kind){case"sduiNotify":return Iy(n.actions)&&t.onSuggestionAddressed(),e.processActions(n.actions,n.item,n.scope,n.sourceId);case"focusedItemMount":return e.onFocusedItemMount(n.item);default:Object(c.d)(n)}},n.pipe(p.a.map(I.chain(e=>Object(s.pipe)(I.fromNullable(e.items[r]),I.map(t=>({feedState:e,item:t}))))),p.b.compact,p.a.map(({feedState:e,item:t})=>{const n=Object(s.pipe)(e.focusedItemId,I.exists(e=>t.id===e));return{item:n?Object.assign(Object.assign({},t),{content:Object(s.pipe)(t.content,Ty(0===r,r===e.items.length-1),My)}):t,prevFocusedItemPosition:Object(s.pipe)(e.prevFocusedItemPosition,I.filter(()=>n)),isFirst:0===r,isFocused:n}}),p.a.skipBy(Es)))}function Ny(e,t){const n=n=>r=>function(e,t,n,r){return A.a.composeKnot({root:()=>n.pipe(p.a.map(I.chain(e=>Object(s.pipe)(I.fromNullable(e.items[r]),I.map(t=>({itemId:t.id,isFocused:Object(s.pipe)(e.focusedItemId,I.exists(e=>t.id===e))}))))),p.b.compact,p.a.skipBy(Hs)),content:A.a.animatingFlow(Py(e,t,n,r),(e,t)=>Object(s.pipe)(e,I.filter(e=>!e.isFocused&&t.isFocused),I.chain(()=>Object(s.pipe)(t.prevFocusedItemPosition,I.map(e=>e<0?Ht.g("collapseForward","expandForward"):Ht.g("collapseBackward","expandBackward"))))))})}(e.feed,e.suggestionCount,t,r)(n.pipe(p.a.filter(e=>e.key===r),p.a.map(e=>e.action)));return e=>t.pipe(p.a.map(I.fold(()=>[],e=>e.items)),p.a.distinctUntilKeyChanged("length"),p.a.switchMap(t=>p.a.combineLatestStatic(t.map((t,r)=>n(e)(r)))))}function By(e){return e.pipe(p.a.scan((e,t)=>Object(s.pipe)(t,I.map(t=>({items:bt(t.collection),focusedItemId:Object(s.pipe)(vt(t.collection),I.map(e=>e.id)),focusedItemIndex:yt(t.collection),prevFocusedItemPosition:Object(s.pipe)(e,I.chain(e=>Object(s.pipe)(Q.a(I.option)({prevIdx:e.focusedItemIndex,currIdx:yt(t.collection)}),I.chain(e=>e.prevIdx===e.currIdx?I.none:e.prevIdx<e.currIdx?I.some(-1):I.some(1)),I.alt(()=>e.prevFocusedItemPosition))))}))),I.none))}function Ly(e){const t=By(e.feed.feed).pipe(p.a.shareReplay({bufferSize:1,refCount:!0}));return A.a.composeUnion({loadingState:()=>p.a.of(null),emptyState:A.a.fromSideEffect(t=>e.plagiarism.seeAllSuggestions(),e.lifecycle.heightBehavior.view(({kind:e})=>({fitContainer:"fitContainer"===e}))),nonEmptyState:A.a.composeKnot({root:A.a.fromSideEffect(t=>{switch(t.kind){case"plagiarismFeedMount":return e.feed.onFeedMount();case"sduiCitationDropdownSelect":return e.plagiarism.onCitationDropdownSelect(t.actions);default:Object(c.d)(t)}},e.plagiarism.state.view(e=>({citationDropdown:Object(s.pipe)(e,I.chain(e=>e.citationDropdown))}))),cardList:Ny(e,t),footer:()=>e.plagiarism.state.view(I.map(e=>({originality:e.originality,sourceCount:e.sourceCount})))})},()=>f.a.combine(e.feed.feed,e.plagiarism.state,(e,t)=>Object(s.pipe)(Q.b(I.option)(e,t),I.fold(()=>"loadingState",([e,{checking:t}])=>ht(e.collection)>0?"nonEmptyState":t?"loadingState":"emptyState"),e=>({kind:e}))))}function Fy(e){return()=>p.a.of(Object(s.pipe)(e.settings,I.chain(e=>e.getView()),I.fold(()=>({content:null}),e=>({content:e}))))}function Ry(e,t){const n=f.a.combine(e.skill.state,e.theme.theme.view("flatUI"),(e,n)=>Object(s.pipe)(e,I.filter(()=>!t&&!n||n&&t),I.map(e=>({displayName:e.skill.displayName,status:e.status,srcUrl:e.skill.srcUrl,size:e.size}))));return A.a.composeOption(function(e,t){return A.a.fromSideEffect(t=>e.notify(t),t)}(e,n.pipe(p.b.compact)),()=>n)}function Dy(e){return A.a.composeUnion({loading:()=>p.a.of(null),loadedEmpty:()=>p.a.of(null),loadedNonEmpty:A.a.fromSideEffect(t=>e.notify(t),Object(s.pipe)(e.toneDetector,I.fold(()=>p.a.of(null),e=>e.state.pipe(p.a.filter(de.isLoadedNonEmpty),p.a.map(({tones:e,brandToneInfo:t})=>({tones:e,onBrandTitleEnabled:I.isSome(t)}))))))},()=>Object(s.pipe)(e.toneDetector,I.fold(()=>p.a.of({kind:"loading"}),e=>e.state.view(({kind:e})=>({kind:e})))))}function Hy(e){const t=f.a.create("");return A.a.fromSideEffect(n=>{"updateRoleTypeaheadText"===n.kind?(t.set(n.text),""===n.text&&e.notify({kind:z.a.Kind.roleTypeaheadSelectionChange,role:I.none})):(n.kind===z.a.Kind.roleTypeaheadSelectionChange&&t.set(Object(s.pipe)(n.role,I.fold(()=>"",e=>e.label))),e.notify(n))},f.a.combine(e.assistant.state.view("session"),e.voiceProfile.state.view("stagingVoiceProfile"),t,(e,t,n)=>Object(s.pipe)(Q.a(I.Applicative)({voiceProfile:Object(s.pipe)(E.a.toStarted(e),I.map(e=>e.voiceProfile),I.chain(Sn.a.toLegacyVoiceProfile)),stagingVoiceProfile:t}),I.fold(()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:Sn.a.Dialect.all(),selectedDialect:Sn.a.Dialect.american}),({stagingVoiceProfile:e,voiceProfile:t})=>Object(s.pipe)(t.styles,q.S(t=>t.id===e.selectedStyle),r=>({styles:Object(s.pipe)(t.styles,q.ub(t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"}))),tones:Object(s.pipe)(r,I.fold(()=>[],t=>Object(s.pipe)(t.tones,q.ub(n=>Object.assign(Object.assign({},n),{kind:Object(s.pipe)(I.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),I.getOrElse(()=>new Set),e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected")}))))),roles:t.roles,maxSelectableTones:Object(s.pipe)(r,I.fold(()=>3,e=>e.maxTones)),applyButtonEnabled:!Sn.a.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate.",roleTypeaheadText:Object(s.pipe)(e.selectedRole,I.filter(()=>""===n),I.chain(e=>I.fromNullable(t.roles.find(t=>t.id===e))),I.fold(()=>n,e=>e.label)),dialects:t.dialects,selectedDialect:t.dialects.find(t=>Sn.a.Dialect.Id.eq.equals(t.id,e.selectedDialect))||Sn.a.Dialect.american}))))))}function Vy(e){return A.a.fromSideEffect(t=>e.notify(t),f.a.combine(e.assistant.state.view("session"),e.voiceProfile.state.view("stagingNewVoiceProfile"),(e,t)=>Object(s.pipe)(Q.a(I.Applicative)({sessionVoiceProfile:Object(s.pipe)(E.a.toStarted(e),I.map(e=>e.voiceProfile),I.chain(Sn.a.toNewVoiceProfile)),stagingVoiceProfile:t}),I.fold(()=>({userName:"",title:"",subTitle:"",roles:[],dialects:Sn.a.Dialect.all(),selectedDialect:Sn.a.Dialect.american,isEnabledByDefault:!0,isEnabledByDefaultLabel:"",profiles:[],activeProfileName:I.none,activeTagId:I.none,isEditing:!1,selectedRole:I.none}),({sessionVoiceProfile:e,stagingVoiceProfile:t})=>({userName:e.userName,title:e.title,subTitle:e.subTitle,isEnabledByDefault:t.isEnabledByDefault,isEnabledByDefaultLabel:e.isEnabledByDefaultLabel,profiles:t.profiles,roles:Object(s.pipe)(Uy(t,e),I.fold(()=>e.roles,t=>e.roles.filter(e=>e.id!==t.id))),dialects:Object(s.pipe)(Wy(t,e),t=>e.dialects.filter(e=>e.id!==t.id)),selectedRole:Uy(t,e),selectedDialect:Wy(t,e),activeProfileName:t.activeProfileName,activeTagId:t.activeTagId,isEditing:I.isSome(t.stagingSelections)})))))}function Uy(e,t){return Object(s.pipe)(e.stagingSelections,I.chain(e=>e.selectedRole),I.alt(()=>e.selectedRole),I.chain(e=>I.fromNullable(t.roles.find(t=>Sn.a.Role.Id.eq.equals(t.id,e)))))}function Wy(e,t){return Object(s.pipe)(e.stagingSelections,I.fold(()=>e.selectedDialect,e=>e.selectedDialect),e=>t.dialects.find(t=>Sn.a.Dialect.Id.eq.equals(t.id,e))||Sn.a.Dialect.american)}function zy(e,t=p.a.of(!0)){const n=t.pipe(p.a.filter(p.a.identity),p.a.take(1)).pipe(p.a.switchMap(()=>e.assistant.state.view("session","error")),p.a.startWith(l.g.none));return A.a.composeOption(function(e,t){const n=e.routing.activeView.view(e=>"error"!==e.kind);return A.a.fromSideEffect(t=>e.notify(t),t.pipe(p.a.withLatestFrom(n),p.a.map(([e,t])=>({error:e,showGotItButton:t}))))}(e,n.pipe(p.b.compact)),()=>n)}function Gy(e){const t=e.assistant.state.view("session").view(Object(s.flow)(E.a.toStarted,l.g.chain(e=>e.activeContext.documentOverview)));return A.a.composeOption(()=>Object(s.pipe)(t,p.b.compact),()=>t)}var qy=n("vqgI");function Ky(e){const t=f.a.combine(e.assistant.state.view("session"),e.theme.theme.view("flatUI"),(e,t)=>Object(s.pipe)(e,I.fromPredicate(e=>qy.a.isQuickReply(e.mode)),I.chain(e=>Object(s.pipe)("started"===e.kind?Object(s.pipe)(e.activeContext.intent,I.map(e=>({kind:"loaded",text:e}))):I.some({kind:"loading"}),I.map(e=>Object.assign(Object.assign({},e),{header:"Sender’s intent",showReportMenu:t}))))));return A.a.composeOption(A.a.composeUnion({loading:()=>t.pipe(p.b.compact),loaded:A.a.fromSideEffect(t=>e.notify(t),t.pipe(p.a.map(I.chain(e=>"loaded"===e.kind?I.some({text:e.text,header:e.header,showReportMenu:e.showReportMenu}):I.none)),p.b.compact))},()=>t.pipe(p.b.compact)),()=>t)}function $y(e){const t=e.assistant.state.view("detectedReferences");return A.a.composeOption(function(e){return()=>e.assistant.state.view("detectedReferences").pipe(p.a.map(I.getOrElse(Object(s.constant)([]))),p.a.map(e=>({detectedReferences:e})))}(e),()=>t)}function Zy(e,t=Math.random){const n=km(t),r=By(e.feed.feed).pipe(p.a.shareReplay({bufferSize:1,refCount:!0})),i=e.feed.feed.view(I.chain(e=>function(e){return Object.values(Tt).includes(e)?I.some(e):I.none}(e.id)));return A.a.composeUnion({loadingState:()=>e.feedForm.state.view("supportedForms").view(e=>e.has("shortForm")).view(e=>({supportsShortForm:e})),emptyState:()=>e.lifecycle.heightBehavior.pipe(p.a.map(e=>({content:Sm[n].emptyState,fitContainer:"fitContainer"===e.kind}))),successState:()=>e.lifecycle.heightBehavior.pipe(p.a.map(e=>({content:Sm[n].successState,goBackFrom:I.none,fitContainer:"fitContainer"===e.kind}))),nonEmptyState:A.a.composeKnot({root:Yy(e,i),lensView:A.a.composeUnion({successState:A.a.fromSideEffect(t=>e.feedLens.onToggleLens(t.goBackFrom),p.a.combineLatestStatic([i,e.lifecycle.heightBehavior,e.feedLens.lenses]).pipe(p.a.map(([e,t,r])=>({content:Object.assign(Object.assign({},Sm[n].successState),Object(s.pipe)(e,I.fold(s.constNull,e=>({description:Object(s.pipe)(I.fromNullable(r.get(e)),I.fold(()=>Sm[n].successState.description,e=>`There are no more ${e.label.toLowerCase()} suggestions.`))})))),goBackFrom:e,fitContainer:"fitContainer"===t.kind})))),cardList:A.a.composeKnot({cardList:Ny(e,r)})},()=>r.pipe(p.a.map(e=>Object(s.pipe)(e,I.exists(e=>e.items.length>0))?"cardList":"successState"),p.a.distinctUntilChanged(),p.a.map(e=>({kind:e}))))})},()=>p.a.combineLatestStatic([r,e.checkingState.firstCheckingFinished,e.suggestionCount.allSuggestionsEmpty,e.suggestionCount.someSuggestionsAddressed]).pipe(p.a.map(([e,t,n,r])=>I.isNone(e)||0===e.value.items.length&&!t?"loadingState":n?r?"successState":"emptyState":"nonEmptyState"),p.a.distinctUntilChanged(),p.a.map(e=>({kind:e}))))}function Yy(e,t){return A.a.fromSideEffect(t=>{switch(t.kind){case"longFormFeedMount":return e.feed.onFeedMount();case"toggleShortFormFeed":return e.feedForm.onToggleFeedForm("shortForm");case"toggleLens":return e.feedLens.onToggleLens(t.lensId);default:Object(c.d)(t)}},f.a.combine(t,e.suggestionCount.activeFeedSuggestionCount,e.feedForm.state.view("supportedForms").view(e=>e.has("shortForm")),e.feedLens.lenses,(e,t,n,r)=>Object(s.pipe)(e,I.map(e=>({suggestionCount:t,canCollapseToShortForm:n,feedId:e,lenses:Object(s.pipe)([Tt.lensCorrectnessFeed,Tt.lensClarityFeed,Tt.lensEngagementFeed,Tt.lensDeliveryFeed,Tt.lensStyleGuideFeed],q.ub(e=>I.fromNullable(r.get(e))),q.B)})))).pipe(p.b.compact))}var Xy=n("pKQL");function Qy(e,t=Math.random){const n=km(t),r=f.a.create([]);return A.a.fromSideEffect(t=>{const n=t.action;switch(n.kind){case"sduiNotify":return n.actions.find(e=>"prevCard"===e.type||"nextCard"===e.type)&&r.set(n.actions.filter(Xy.d.Action.isTransitionAction)),Iy(n.actions)&&e.suggestionCount.onSuggestionAddressed(),e.feed.processActions(n.actions,n.item,n.actionScope,n.sourceId);case"sduiFocusedItemMount":return e.feed.onFocusedItemMount(n.item);case"shortFormFeedAnimationEnd":return r.set([]);case"shortFormFeedMount":return r.set([]),e.feed.onFeedMount();case"toggleLongFormFeed":return e.feedForm.onToggleFeedForm("longForm");default:Object(c.d)(n)}},p.a.combineLatestStatic([(i=e.feed.feed,i.pipe(p.a.scan((e,t)=>Object(s.pipe)(t,I.chain(e=>Q.a(I.option)({feedId:I.some(e.id),item:vt(e.collection),index:yt(e.collection),size:I.some(ht(e.collection))})),I.map(({feedId:t,item:n,index:r,size:i})=>({feedId:t,item:n,isFirst:0===r,isLast:r===i-1,prevItem:Object(s.pipe)(e,I.chain(e=>e.item.id===n.id?e.prevItem:I.some(e.item)))}))),I.none))),e.checkingState.firstCheckingFinished,e.suggestionCount.activeFeedSuggestionCount,e.feedForm.state.view("supportedForms").view(e=>e.has("longForm")),e.suggestionCount.someSuggestionsAddressed,r]).pipe(p.a.map(([e,t,r,i,a,o])=>Object(s.pipe)(e,I.fold(()=>t?{kind:a?"successState":"emptyState",emptyContentIndex:n}:{kind:"loadingState"},({item:e,prevItem:t,isFirst:n,isLast:a})=>({kind:"nonEmptyState",item:Object.assign(Object.assign({},e),{content:Object(s.pipe)(e.content,Ty(n,a))}),prevItem:t,transitions:o,suggestionCount:r,canExpandToLongForm:i}))))));var i}const Jy=()=>p.a.of(null);function eO(e){return A.a.composeUnion({none:Jy,shortFormFeed:A.a.composeKnot({feed:Object(s.pipe)(e.revision,I.fold(()=>Jy,Qy))}),longFormFeed:A.a.composeKnot({feed:Object(s.pipe)(e.revision,I.fold(()=>Jy,t=>Zy(Object.assign(Object.assign({},t),{lifecycle:e.lifecycle}))))})},()=>f.a.combine(e.routing.activeView,Object(s.pipe)(e.revision,I.fold(()=>f.a.create(null),e=>e.feedForm.state.view("feedForm"))),(e,t)=>ne(e)&&null!==t?{kind:"home"===e.kind?"shortForm"===t?"shortFormFeed":"longForm"===t?"longFormFeed":Object(c.d)(t):"thread"===e.kind?"none":Object(c.d)(e)}:{kind:"none"}))}function tO(e){const t=e.assistant.state.view("session").view(e=>Object(s.pipe)(e,E.a.toStarted,l.g.fold(s.constFalse,e=>e.voiceProfile.needsSetup)));return A.a.composeOption(A.a.fromSideEffect(t=>e.notify(t),null),()=>t.view(e=>e?l.g.some(null):l.g.none))}function nO(e,t,n,r){return A.a.fromSideEffect(t=>e.notify(t),p.a.combineLatestStatic([t,e.assistant.state.view("textBox")]).pipe(p.a.map(([e,t])=>({icon:"regularAction"===e.kind?ee.a.extractActionIcon(e.action):ve.left(e.kind),label:"regularAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:Object(c.d)(e),action:e,mode:n,customViewOpts:r}))))}function rO(e,t,n,r){return A.a.composeList(q.m,()=>t.pipe(p.a.map(I.getOrElse(()=>[]))),t=>nO(e,p.a.of(t),n,r))}function iO(e,t){return A.a.composeList(q.m,()=>t.pipe(p.a.map(e=>Object(s.pipe)(e,q.vb((e,t)=>({category:t,isFirst:0===e}))))),({category:t,isFirst:n})=>function(e,t,n){const r=e.assistant.state.view(({session:e,contextualActions:t})=>Object(s.pipe)(Q.b(I.option)(Object(s.pipe)(e,E.a.toStarted,I.chain(e=>e.activeBoundaryContext.selection)),t),I.isSome));return A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),p.a.of({groupId:t.groupId,label:t.label,view:t.view})),actions:rO(e,p.a.of(I.some(t.actions)),"standard",{isPinned:t.view===ee.a.Store.View.pinned}),header:A.a.composeUnion({default:()=>p.a.of({label:t.label}),withSelectionContext:A.a.fromSideEffect(t=>e.notify(t),p.a.of({label:t.label}))},()=>r.pipe(p.a.map(e=>({kind:e&&n?"withSelectionContext":"default"}))))})}(e,t,n))}function aO(e,t=s.constTrue,n=I.some(3)){const r=Object(s.pipe)(J.y(e=>t(e.action))(e),I.getOrElseW(()=>q.L));return Object(s.pipe)(n,I.filter(e=>r.length>e),I.map(e=>J.fb(q.Yb(e)(r),{kind:"allResults",filterPredicate:t})),I.getOrElseW(()=>r))}function oO(e){const t=e.assistant.state.view("session").view(e=>qy.a.isQuickReply(e.mode)),n=e.assistant.state.view("session").view("selectedText"),r=e.assistant.state.view("contextualActions").view(e=>Object(s.pipe)(e,I.map(J.R(Mn.RegularAction.make)),I.map(J.L(Mn.RegularAction.ordByActionStore)),I.map(J.R(e=>({groupId:e[0].action.group.id,label:e[0].action.store.label,actions:aO(e,t=>ee.a.Store.Id.eq.equals(t.store.id,e[0].action.store.id),e[0].action.store.maxCountBeforeClipping),view:e[0].action.store.view})))));return A.a.composeUnion({none:()=>p.a.of(null),loading:()=>f.a.combine(t,n,(e,t)=>({header:e?"Ways to reply":I.isSome(t)?"Work with: "+t.value:"Ideas for you",isQuickReply:e,withContext:I.isSome(t)})),loaded:sO(e,r,t)},()=>f.a.combine(r,e.assistant.state.view("session"),e.theme.theme.view("flatUI"),(e,t,n)=>n?{kind:"none"}:I.isSome(e)?"started"===t.kind&&"pending"===t.activeContext.kind?{kind:"loading"}:{kind:"loaded"}:"started"===t.kind?"pending"===t.activeContext.kind?{kind:"loading"}:{kind:"none"}:{kind:"loading"}))}function sO(e,t,n){const r=e.theme.theme.view("flatUI");return A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),f.a.combine(n,r,(e,t)=>({showReportMenu:e&&!t}))),actions:iO(e,t.pipe(p.b.compact))})}function cO(e){return A.a.composeKnot({suggestions:eO(e),voiceBanner:tO(e),documentOverview:Gy(e),intent:Ky(e),defaultActions:oO(e),generationError:zy(e,e.assistant.state.view("hasEverSubmittedFreeformPrompt")),detectedReferences:$y(e)})}function lO(e,t,n,r){const i=e.assistant.state.view("session").view(Object(s.flow)(E.a.toStarted,I.chain(e=>I.fromNullable(e.results[r+1])),I.filter(xn.a.isComplete),I.chain(e=>e.boundaryContextId))),a=t.pipe(p.a.withLatestFrom(i),p.a.map(([e,t])=>Object(s.pipe)(e,I.filter(Object(j.p)(xn.a.isComplete,xn.a.isInProgress)),I.chain(e=>e.boundaryContextId),I.filter(e=>!!I.isNone(t)||e!==t.value)))).pipe(p.a.map(I.chain(t=>e.assistant.getContextById(t)))),o=a.pipe(p.a.map(e=>Object(s.pipe)(e,I.chain(e=>e.selection))));return A.a.composeOption(A.a.fromSideEffect(t=>e.notify(t),p.a.combineLatestStatic([a,e.assistant.state.view("session").view(Object(s.flow)(E.a.toStarted,I.map(({textRevision:e})=>e))),e.assistant.state.view("session").view(Object(s.flow)(E.a.toStarted,I.map(({selectionContextStatus:e})=>e)))]).pipe(p.a.map(([e,t,n])=>Q.a(I.option)({selection:Object(s.pipe)(e,I.chain(({selection:e})=>e)),currentTextRevision:t,contextTextRevision:Object(s.pipe)(e,I.map(({textRevision:e})=>e)),selectionContextStatus:n})),p.b.compact,p.a.map(({selection:e,currentTextRevision:t,contextTextRevision:n,selectionContextStatus:r})=>({selectedText:e.text,selectedRange:r===E.a.SelectionContextStatus.dynamic&&I.isSome(n)&&t===n.value?e.range:void 0})))),()=>p.a.combineLatestStatic([o,n]).pipe(p.a.map(([e,t])=>Object(s.pipe)(e,I.filter(()=>t)))))}function uO(e){return()=>e.assistant.state.view("session").view(E.a.toStarted).view(Object(s.flow)(I.chain(e=>e.inProgressResult),I.fold(()=>({text:""}),e=>({text:e.text}))))}function dO(e,t){return lO(e,e.assistant.state.view("session").view(E.a.toStarted).view(I.chain(e=>e.inProgressResult)),t,-1)}function pO(e){const t=f.a.combine(e.assistant.state.view("session"),e.routing.activeView,(e,t)=>Object(s.pipe)(E.a.toStarted(e),I.chain(e=>e.inProgressResult),I.filter(()=>"thread"===t.kind),I.map(e=>({result:e}))));return A.a.composeOption(function(e){return A.a.composeKnot({content:A.a.composeKnot({root:uO(e),header:dO(e,e.theme.theme.view("flatUI"))}),header:dO(e,e.theme.theme.view("flatUI").view(e=>!e))})}(e),()=>t)}function mO(e,t){return A.a.composeOption(A.a.fromSideEffect(t=>e.notify(t),e.userSurvey.state.pipe(p.a.map(e=>Object(s.pipe)(e.activeSurvey,l.g.map(t=>({survey:t,state:e})))),p.b.compact,p.a.map(({survey:e,state:t})=>({survey:e,stage:t.stage,transitionStage:t.transitionStage,rating:t.rating,openAnswer:Object(s.pipe)(t.openAnswer,l.g.getOrElse(Object(s.constant)(""))),ratingLabels:Object(s.pipe)(t.activeSurvey,l.g.fold(Object(s.constant)([]),e=>e.ratingLabels)),errors:t.errors})))),()=>f.a.combine(e.userSurvey.state,t,e.routing.activeView,({activeSurvey:e,stage:t},n,r)=>Object(s.pipe)(e,l.g.filter(e=>"thread"===r.kind&&Object(s.pipe)(n,l.g.contains(e.resultId))&&t!==On.a.Stage.Type.Closed))))}var fO=n("+lox");function hO(e){const t=e.assistant.state.view("contextualActions").view(e=>Object(s.pipe)(e,I.map(J.R(Mn.RegularAction.make)),I.map(e=>aO(e,Object(s.not)(ee.a.isSkillAction))),I.chain(J.F)));return A.a.composeUnion({none:()=>p.a.of(null),loading:()=>p.a.of(null),actions:A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),null),actions:rO(e,t,"compact")})},()=>f.a.combine(t,e.theme.theme.view("flatUI"),e.assistant.state.view("genAIAvailability"),e.assistant.state.view("session"),(e,t,n,r)=>Object(s.pipe)(E.a.toStarted(r),I.map(e=>e.activeContext),I.filter(()=>!t),I.fold(()=>"none",t=>Object(s.pipe)(e,I.filter(()=>!S.a.isUnavailable(n)),I.fold(()=>S.a.isUnavailable(n)||!fO.a.isPending(t)?"none":"loading",()=>"actions"))),e=>({kind:e}))))}function gO(e){return()=>e.assistant.state.view("session").view("selectedText").pipe(p.a.map(e=>({header:I.isSome(e)?"Work with: "+e.value:"Ideas for you",isQuickReply:!1,withContext:I.isSome(e)})))}function bO(e){const t=e.assistant.state.view("contextualActions").view(e=>Object(s.pipe)(e,I.chain(J.y(Object(j.m)(ee.a.isSkillAction))),I.map(J.R(Mn.RegularAction.make)),I.map(J.L(Mn.RegularAction.ordByActionStore)),I.map(J.R(e=>({groupId:e[0].action.group.id,label:e[0].action.store.label,actions:aO(e,t=>ee.a.Store.Id.eq.equals(t.store.id,e[0].action.store.id)),view:e[0].action.store.view})))));return A.a.composeKnot({actions:iO(e,t.pipe(p.b.compact))})}function vO(e){return A.a.composeOption(A.a.composeKnot({actions:A.a.composeUnion({loading:gO(e),loaded:bO(e)},()=>e.assistant.state.view("session").view(E.a.toStarted).pipe(p.a.map(I.map(e=>"pending"===e.activeContext.kind?{kind:"loading"}:{kind:"loaded"})),p.b.compact))}),()=>e.assistant.state.view("session").view(E.a.toStarted))}function yO(e){const t=f.a.combine(e.assistant.state.view("session"),e.routing.activeView,e.theme.theme.view("flatUI"),(e,t,n)=>Object(s.pipe)(e,E.a.toStarted,I.filter(e=>"thread"===t.kind&&I.isNone(e.inProgressResult)&&I.isNone(e.error)&&!n),I.map(e=>e.results),I.chain(J.F)));return A.a.composeOption(function(e){return A.a.composeUnion({followUp:A.a.composeKnot({actions:hO(e)}),newContext:vO(e)},()=>e.assistant.state.view("session").view(E.a.toStarted).pipe(p.a.map(e=>Object(s.pipe)(e,I.map(e=>e.activeContext.isBoundary&&I.isSome(e.activeContext.textRevision)&&(fO.a.isPending(e.activeContext)||I.isSome(Object(s.pipe)(I.fromNullable(e.results[0]),I.filter(e=>!xn.a.isHistory(e)),I.chain(({boundaryContextId:e})=>e),I.filter(t=>t!==e.activeContext.id))))?"newContext":"followUp"))),p.b.compact,p.a.map(e=>({kind:"followUp"===e?"followUp":"newContext"}))))}(e),()=>t)}function OO(e,t){return A.a.fromSideEffect(t=>e.notify(t),t)}function _O(e,t){const n=function(e,t){return e.assistant.state.view(({genAIAvailability:e,session:n})=>Object(s.pipe)(E.a.toStarted(n),l.g.map(n=>{const r=S.a.isPassive(e)||S.a.isUnavailable(e),i=Object(s.pipe)(n.activeContext.userPromptAction,l.g.chain(e=>Object(s.pipe)(t.header.copiablePrompt,l.g.map(t=>ee.a.UserPromptActionValue.fromInput(e,t,l.g.none,l.g.none)))));return{actions:Object(s.pipe)(l.f.fromArray(n.activeContext.availableActions.filter(Object(j.p)(ee.a.isFollowUpQuestionActionInput,ee.a.isQuickActionInput))),l.g.filter(()=>!r),l.g.map(l.f.map(Mn.RegularAction.make))),originalAction:i,disabled:r,result:t}}))).pipe(p.b.compact)}(e,t),r=n.pipe(p.a.pluck("actions"));return A.a.composeKnot({root:OO(e,n),actions:rO(e,r,"standard")})}function CO(e,t){return A.a.fromSideEffect(t=>e.notify(t),e.assistant.state.pipe(p.a.switchMap(e=>{const n=Object(s.pipe)(t.header.copiablePrompt,I.fold(()=>({kind:ub.searchLabel,label:t.header.label,iconUrl:t.header.iconUrl}),n=>({kind:ub.clickableSearchLabel,label:t.header.label,disabled:S.a.isUnavailable(e.genAIAvailability),copiablePrompt:n})));return xn.a.isComplete(t)&&function(e){return Object(s.pipe)(e.replacementDelta,l.b.fold(s.identity,e=>e.generic),e=>e.ops.some(e=>{var t;return Dg.a.isInsert(e)&&!!(null===(t=e.attributes)||void 0===t?void 0:t[Jg.knowledgeHubTerm])}))}(t)&&t.timestamp+3e3>Date.now()?p.a.timer(t.timestamp+3e3-Date.now()).pipe(p.a.mapTo(n),p.a.startWith({kind:ub.knowledgeHub})):p.a.of(n)})))}function wO(e,t,n,r){return A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),e.assistant.state.view(({genAIAvailability:e,activeCards:r,session:i,referencesVisibility:a,overrideCardVoice:o})=>{var c,u;return{disabled:S.a.isUnavailable(e),result:t,isActive:Object(s.pipe)(!!r.has(t.id)||0===r.size&&n&&!SO(E.a.toStarted(i))),isReferencesOpen:null!==(c=a.get(t.id))&&void 0!==c&&c,isMyVoice:(null!==(u=o.get(t.id))&&void 0!==u?u:Object(s.pipe)(t.replacementDelta,l.b.fold(()=>xn.a.GeneratedTextVoice.generic,e=>e.preferVoice)))===xn.a.GeneratedTextVoice.user}})),header:CO(e,t),contextHeader:lO(e,p.a.of(I.some(t)),p.a.of(!0),r)})}function SO(e){return Object(s.pipe)(e,I.fold(s.constFalse,e=>I.isSome(e.inProgressResult)||I.isSome(e.error)))}function kO(e,t){return A.a.composeList(q.m,()=>t.pipe(p.a.map(Object(s.flow)(q.Yb(50),q.vb((e,t)=>({result:t,isLast:0===e,index:e})),q.Kb))),({result:t,isLast:n,index:r})=>function(e,t,n,r){return A.a.composeUnion({promptResultComplete:wO(e,t,n,r),aiUsageNotification:_O(e,t)},()=>p.a.of(xn.a.isAIUsageNotification(t)?{kind:"aiUsageNotification"}:{kind:"promptResultComplete"}))}(e,t,n,r))}function EO(e,t){return A.a.composeUnion({none:()=>p.a.of(null),loading:()=>p.a.of({root:{text:""}}),loaded:A.a.composeKnot({results:kO(e,t.view(I.getOrElse(()=>[])))})},()=>f.a.combine(t,e.assistant.state.view("session").view("kind"),e.routing.activeView,(e,t,n)=>"thread"===n.kind?{kind:"starting"===t?"loading":I.isSome(e)?"loaded":"none"}:{kind:"none"}))}function jO(e){const t=e.assistant.state.view("session").view(Object(s.flow)(E.a.toStarted,I.map(e=>e.results),I.chain(J.F)));return A.a.composeKnot({documentOverview:Gy(e),intent:Ky(e),resultList:EO(e,t),lastResultSurvey:mO(e,t.view(I.map(Object(s.flow)(J.M,e=>e.id)))),lastResultActions:yO(e),inProgressResult:pO(e),generationError:zy(e),detectedReferences:$y(e)})}function xO(e){return A.a.composeUnion({home:cO(e),thread:jO(e),error:zy(e),followUpPrompt:Ay(e),legacyVoiceProfile:Hy(e),voiceProfile:Vy(e),feedbackForm:xy(e),skill:Ry(e,!1),toneReport:A.a.composeKnot({toneReport:Dy(e)}),settings:Fy(e),plagiarism:Object(s.pipe)(e.revision,I.fold(()=>()=>p.a.of(null),t=>A.a.composeKnot({plagiarism:Ly(Object.assign(Object.assign({},t),{lifecycle:e.lifecycle}))})))},()=>e.routing.activeView)}const AO=new go.a(999999);var IO;function TO(e){const t=e.promptMenu.state.pipe(p.a.scan((e,t)=>Object(s.pipe)(t,I.fold(()=>e,()=>e+1)),0));return A.a.fromSideEffect(t=>e.notify(t),p.a.combineLatestStatic([e.assistant.state,t,e.routing.activeView]).pipe(p.a.map(([e,t,n])=>{return{kind:Object(s.pipe)(E.a.toStarted(e.session),I.fold(()=>"loading",e=>Object(s.pipe)(e.inProgressResult,I.fold(()=>"ready",()=>"waitingForResult")))),genAIAvailability:e.genAIAvailability,placeholder:(r=e,Object(s.pipe)(r.selectedAction,I.chain(e=>""!==e.args[0].label.trim()?I.some([e.args[0].label]):I.none),I.alt(()=>Object(s.pipe)(r.userPromptAction,I.map(e=>[e.arg.label]))))),text:e.textBox,autofocusToken:IO.create(`${n.kind}_${Object(s.pipe)(E.a.toStarted(e.session),I.chain(e=>e.inProgressResult),I.fold(()=>"done",()=>"inProgress"))}_${Object(s.pipe)(e.selectedAction,I.fold(()=>"no-selected-action",()=>"selected-action"))}_${e.promptAutofocusToken}_promptMenuOpen:${t}`)};var r}),p.a.distinctUntilChanged()))}function MO(e){return A.a.fromSideEffect(t=>e.notify(t),e.promptMenu.state.view(Object(s.flow)(I.map(e=>e.actions),NO)))}function PO(e){var t,n;return Object.assign(Object.assign({},e),{group:Object.assign(Object.assign({},e.group),{rank:null!==(t=ee.a.knownGroupRank[e.group.id])&&void 0!==t?t:e.group.rank,label:null!==(n=ee.a.knowGroupLabels[e.group.id])&&void 0!==n?n:e.group.label})})}function NO(e){return Object(s.pipe)(e,I.map(J.R(PO)),I.chain(J.y(e=>e.group.label.trim().length>0)),I.map(J.L(ee.a.ListableActionInput.ordByGroup)),I.fold(()=>({actionGroups:[]}),e=>({actionGroups:e.map(e=>({label:e[0].group.label,actions:Object(s.pipe)(e,J.R(e=>({action:Mn.RegularAction.make(e),label:e.label,icon:e.iconUrl})))}))})))}function BO(e){return Object(s.pipe)(e,q.z(e=>{const{init:t,rest:n}=q.Vb(t=>ee.a.Group.Id.eq.equals(t.group.id,e[0].group.id))(e);return[t,n]}),q.ub(e=>Q.a(I.Applicative)({groupId:Object(s.pipe)(e,q.ib,I.map(e=>e.group.id)),label:Object(s.pipe)(e,q.ib,I.map(e=>e.group.label)),view:I.some(ee.a.Store.View.normal),actions:Object(s.pipe)(e,q.ub(Mn.RegularAction.make),J.F),withContext:I.some(!1)})),q.B,J.F,I.getOrElse(()=>[{label:e[0].group.label,groupId:e[0].group.id,view:ee.a.Store.View.normal,actions:[Mn.RegularAction.make(e[0])],withContext:!1}]))}function LO(e){const t=e.promptMenu.state.view(Object(s.flow)(I.map(e=>e.actions),I.map(J.gb(ee.a.ListableActionInput.ordByGroup)),I.map(BO)));return A.a.composeOption(iO(e,t.pipe(p.b.compact)),()=>t)}function FO(e){return A.a.composeKnot({searchResults:rO(e,e.promptMenu.state.view(Object(s.flow)(I.map(e=>e.actions),I.map(J.R(Mn.RegularAction.make)))),"standard"),customPromptGo:nO(e,p.a.of({kind:"go"}),"standard")})}function RO(e){return A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),e.promptMenu.state.view(Object(s.flow)(I.map(e=>e.actions),DO))),goAction:A.a.composeOption(nO(e,p.a.of({kind:"go"}),"standard"),()=>e.assistant.state.pipe(p.a.map(e=>S.a.isUnavailable(e.genAIAvailability)?I.none:I.some(null))))})}function DO(e){return Object(s.pipe)(e,I.fold(()=>({actions:[]}),e=>({actions:e.map(e=>({action:Mn.RegularAction.make(e),label:e.label,icon:e.iconUrl}))})))}function HO(e){return A.a.composeOption(A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),p.a.of(null)),content:A.a.composeUnion({legacySearchResults:FO(e),legacyActionStore:LO(e),searchResults:RO(e),actionStore:MO(e),none:()=>p.a.of(null)},()=>f.a.combine(e.theme.theme.view("flatUI"),e.promptMenu.state,(e,t)=>Object(s.pipe)(t,I.map(({kind:t})=>e?{kind:t}:{kind:"actionStore"===t?"legacyActionStore":"legacySearchResults"}),I.getOrElse(()=>({kind:"none"})))))}),()=>e.promptMenu.state)}function VO(e){const t=f.a.combine(e.theme.theme.view("flatUI"),e.assistant.state.view("genAIAvailability"),e.promptMenu.state,(e,t,n)=>e&&S.a.isUnavailable(t)&&I.isNone(n));return A.a.composeOption(function(e){return A.a.composeKnot({root:A.a.fromSideEffect(t=>e.notify(t),e.promptMenu.state.pipe(p.a.map(e=>({menuExpanded:I.isSome(e)})))),promptField:TO(e),promptStudioMenu:HO(e)})}(e),()=>t.view(Object(j.c)(I.none,I.some(null))))}function UO(e,t=f.a.create(!1)){return A.a.fromSideEffect(t=>e.notify(t.action.action),f.a.combine(e.assistant.state.view("session"),e.assistant.state.view("genAIAvailability"),e.routing.activeView,e.theme.theme.view("flatUI"),t,(e,t,n,r,i)=>{const a="started"!==e.kind||e.historyStatus!==E.a.HistoryStatus.hasHistory&&0===e.results.length?"disabled":e.historyStatus===E.a.HistoryStatus.historyRequested?"loading":"enabled",o="home"===n.kind&&!S.a.isUnavailable(t);return r?o&&!i?I.some({state:a,flatUI:!0}):I.none:"started"===e.kind&&o&&(e.historyStatus===E.a.HistoryStatus.hasHistory||e.historyStatus===E.a.HistoryStatus.historyRequested||e.results.length>0)?I.some({state:a,flatUI:!1}):I.none}))}!function(e){e.create=function(e){return null!=e?e:AO.newId()}}(IO||(IO={}));const WO=["toneAction","plagiarismAction","skillAction","followUpQuestion"],zO={quickAction:new Set(WO.slice(0)),toneAction:new Set(WO.slice(1)),plagiarismAction:new Set(WO.slice(2)),skillAction:new Set(WO.slice(3)),followUpQuestion:new Set(WO.slice(4))},GO=le.fromCompare((e,t)=>e.kind===t.kind?0:zO[e.kind].has(t.kind)?-1:1);function qO(e){return A.a.fromSideEffect(t=>e.notify(t),f.a.combine(e.promptActions.contextualActions,e.promptActions.toneAction,e.promptActions.plagiarismAction,e.promptActions.skillActions,e.assistant.state.view("genAIAvailability"),(e,t,n,r,i)=>{const a=[t,n],o=Object(s.pipe)(e.actions.concat(Object(s.pipe)(a,q.B)).concat(r).map(Mn.RegularAction.make),q.Tb(le.contramap(e=>e.action)(GO)));return{loading:e.loading,actions:o,hasMore:e.actions.length>o.length,hasHistoryButton:!S.a.isUnavailable(i)}}))}function KO(e){return A.a.fromSideEffect(t=>e.notify(t),f.a.combine(e.promptActions.contextualActions,e.promptActions.toneAction,e.promptActions.plagiarismAction,e.promptActions.skillActions,e.routing.activeView,({actions:e,loading:t},n,r,i,a)=>{const o="home"===a.kind?3:2,c=[n,r],l=Object(s.pipe)(e.concat(Object(s.pipe)(c,q.B)).concat(i).map(Mn.RegularAction.make),q.Tb(le.contramap(e=>e.action)(GO)),q.Yb(o));return{loading:t,maxActionsCount:o,actions:l,hasMore:e.length>l.length}}))}function $O(e){return A.a.composeUnion({none:()=>p.a.of(null),actionBar:ZO(e),actionPanel:YO(e)},()=>f.a.combine(e.routing.activeView,e.assistant.state.view("session"),e.theme.theme.view("flatUI"),(t,n,r)=>{if(!ne(t)||!r||"thread"===t.kind&&"starting"===n.kind)return{kind:"none"};if(B(e.revision)&&"home"===t.kind)return{kind:"quickReply"!==n.mode?"actionBar":"actionPanel"};return{kind:Object(s.pipe)(E.a.toStarted(n),I.chain(e=>e.inProgressResult),I.isSome)?"none":"actionPanel"}}))}function ZO(e){return A.a.composeKnot({root:qO(e),header:A.a.fromSideEffect(t=>e.notify(t.action.action),f.a.combine(e.assistant.state.view("session").view("selectedText"),e.promptActions.contextualActions,(e,t)=>Object(s.pipe)(e,I.filter(()=>"pending"===t.context.kind),I.alt(()=>Object(s.pipe)(t.context.selection,I.map(e=>e.text))),I.map(e=>({selectedText:e}))))),historyButton:UO(e)})}function YO(e){return A.a.composeKnot({root:KO(e),header:XO(e),historyButton:UO(e)})}function XO(e){return A.a.fromSideEffect(t=>e.notify(t.action),f.a.combine(e.routing.activeView,e.promptActions.contextualActions,e.assistant.state.view("session").view("mode"),(e,t,n)=>ne(e)?Object(s.pipe)(t.context.selection,I.map(e=>e.text),I.filter(()=>t.context.isBoundary&&I.isSome(t.context.textRevision)),I.fold(()=>"home"===e.kind?{kind:"title",title:"quickReply"===n?"How do you want to reply?":"How do you want to get started?"}:{kind:"none"},e=>({kind:"selectionContext",selectedText:e}))):{kind:"none"}))}function QO(e){return A.a.composeKnot({header:$O(e),fieldContainer:VO(e)})}function JO(e){return A.a.composeUnion({none:()=>p.a.of(null),skill:Ry(e,!0),promptStudio:QO(e)},()=>e.routing.activeView.view(e=>"skill"===e.kind?{kind:"skill"}:ne(e)||"followUpPrompt"===e.kind&&"string"===e.inputType?{kind:"promptStudio"}:{kind:"none"}))}function e_(e){return Object(s.pipe)(e.revision,I.fold(()=>f.a.create(I.none),e=>e.suggestionCount.allSuggestionCount.view(I.some)))}function t_(e){return A.a.fromSideEffect(t=>{switch(t.kind){case"suggestionCountButtonClick":return e.routing.pop();default:Object(c.d)(t.kind)}},f.a.combine(e.assistant.state.view("session").view(Object(s.flow)(E.a.toStarted,I.chain(e=>e.inProgressResult),I.isSome)),e_(e),(e,t)=>Object(s.pipe)(t,I.getOrElse(()=>0),t=>({count:t,disabled:e}))))}function n_(e){return A.a.composeUnion({withoutSuggestions:()=>p.a.of(null),withSuggestions:t_(e)},()=>e_(e).view(Object(s.flow)(I.filter(e=>e>0),I.fold(()=>({kind:"withoutSuggestions"}),()=>({kind:"withSuggestions"})))))}function r_(e){return A.a.fromSideEffect(t=>e.notify(t.action.action),f.a.combine(e.routing.activeView.view("kind"),e.theme.theme.view("flatUI"),(t,n)=>I.isSome(e.settings)&&"settings"!==t?I.some({flatUI:n}):I.none))}function i_(e){return Object(s.pipe)(e,I.fold(()=>"",e=>Object(s.pipe)(Sn.a.toLegacyVoiceProfile(e),I.fold(()=>"My Voice",e=>Object(s.pipe)(I.fromNullable(e.styles.find(t=>Sn.a.Style.Id.eq.equals(t.id,e.selectedStyle))),I.fold(()=>"",e=>e.label))))))}function a_(e){return e.assistant.state.view("session").view(e=>({styleLabel:i_(Object(s.pipe)(E.a.toStarted(e),I.map(e=>e.voiceProfile)))}))}function o_(e){return A.a.fromSideEffect(t=>e.notify(t),p.a.of(null))}function s_(e){const t=e.assistant.state.view(e=>Object(s.pipe)(e.genAIAvailability,I.fromPredicate(S.a.isActiveOrPassive),I.filter(()=>I.isSome(E.a.toStarted(e.session)))));return A.a.composeOption(function(e,t,n){return A.a.fromSideEffect(t=>e.notify(t),Object(s.pipe)(p.a.combineLatestStatic([t,n]),p.a.map(([e,t])=>({user:e,genAIAvailability:t}))))}(e,e.assistant.state.view("user"),t.pipe(p.b.compact)),()=>f.a.combine(t,e.routing.activeView.view("kind"),(e,t)=>Object(s.pipe)(e,I.filter(()=>"voiceProfile"!==t&&"legacyVoiceProfile"!==t&&"feedbackForm"!==t&&"skill"!==t&&"settings"!==t&&"toneReport"!==t))))}function c_(e){return()=>e.user.isGrammarlyInstitutionMember.view(e=>({version:Object(s.pipe)(e,I.fromPredicate(Boolean),I.map(()=>L))}))}function l_(e){return()=>f.a.combine(e.routing.activeView,e.skill.state,Object(s.pipe)(e.toneDetector,I.fold(()=>f.a.create(I.none),e=>e.state.view(I.some))),e.theme.theme.view("flatUI"),(e,t,n,r)=>r?u_(e,t,n).label:I.none)}function u_(e,t,n){switch(e.kind){case"home":case"thread":case"error":case"followUpPrompt":return{label:I.none,iconUrl:I.none};case"legacyVoiceProfile":case"voiceProfile":return{label:I.some("My voice"),iconUrl:I.none};case"feedbackForm":return{label:I.some("Share your thoughts"),iconUrl:I.none};case"skill":return{label:Object(s.pipe)(t,I.map(e=>e.skill.displayName)),iconUrl:Object(s.pipe)(t,I.map(e=>e.skill.iconUrl))};case"toneReport":return{label:Object(s.pipe)(n,I.filter(de.isLoaded),I.chain(e=>e.brandToneInfo),I.chain(({institutionName:e})=>e),I.map(e=>e+" Tone Detector"),I.alt(()=>I.some("Tone insights"))),iconUrl:Object(s.pipe)(n,I.filter(de.isLoaded),I.chain(e=>e.brandToneInfo),I.chain(e=>e.institutionLogo))};case"settings":return{label:I.some("Settings"),iconUrl:I.none};case"plagiarism":return{label:I.none,iconUrl:I.none};default:Object(c.d)(e)}}function d_(e){return A.a.composeKnot({left:p_(e),right:A.a.composeKnot({historyButton:UO(e,e.theme.theme.view("flatUI")),credits:s_(e),voiceButton:g_(e),settingsButton:r_(e),closeButton:o_(e)}),pageTitle:l_(e)})}function p_(e){const t=f.a.combine(e.assistant.state,e.routing.activeView,e.theme.theme.view("flatUI"),({session:t},n,r)=>Object(s.pipe)(E.a.toStarted(t),I.fold(()=>ie(n)?"backButton":"logoOnly",()=>{if("error"===n.kind)return"logoOnly";if("home"===n.kind||"thread"===n.kind){if("home"===n.kind)return B(e.revision)||r?"logoOnly":"logoAndVoiceButton";if("thread"===n.kind)return B(e.revision)?"suggestionCount":r?"logoOnly":"logoAndVoiceButton";Object(c.d)(n)}else{if("followUpPrompt"===n.kind)return r?"backButton":"backButtonAndVoiceButton";if(ie(n))return"backButton";Object(c.d)(n)}})));return A.a.composeUnion({logoOnly:c_(e),suggestionCount:A.a.composeKnot({button:n_(e)}),logoAndVoiceButton:h_(e),backButton:m_(e),backButtonAndVoiceButton:f_(e)},()=>t.pipe(p.a.startWith("logoOnly"),p.a.map(e=>({kind:e}))))}function m_(e){return A.a.fromSideEffect(t=>e.notify(t),f.a.combine(e.routing.activeView,e.skill.state,Object(s.pipe)(e.toneDetector,I.fold(()=>f.a.create(I.none),e=>e.state.view(I.some))),e.theme.theme.view("flatUI"),(e,t,n,r)=>Object(s.pipe)(u_(e,t,n),({label:t,iconUrl:n})=>({activeViewLabel:r?I.none:t,activeViewIconUrl:n,activeView:e}))))}function f_(e){return A.a.fromSideEffect(t=>e.notify(t.action),f.a.combine(a_(e),e.routing.activeView,(e,t)=>({back:{activeViewIconUrl:I.none,activeViewLabel:I.none,activeView:t},voice:e})))}function h_(e){return A.a.fromSideEffect(t=>e.notify(t),a_(e).view(e=>Object.assign(Object.assign({},e),{kind:"logoAndVoiceButton"})))}function g_(e){return A.a.fromSideEffect(t=>e.notify(t.action.action),f.a.combine(e.assistant.state.view("session"),e.routing.activeView,e.theme.theme.view("flatUI"),(t,n,r)=>Object(s.pipe)(E.a.toStarted(t),I.map(e=>e.voiceProfile),I.filter(()=>(r||B(e.revision))&&ne(n)),I.map(e=>({styleLabel:i_(I.some(e)),flatUI:r})))))}function b_(e){return A.a.composeKnot({assistant:A.a.composeKnot({root:Ey(e),content:xO(e),header:d_(e),footer:JO(e),notifications:ky(e),onboarding:(t=e.onboarding,A.a.fromSideEffect(e=>t.notify(e),t.onboardingStep.view(e=>({step:e}))))})});var t}var v_,y_=n("fjQv"),O_=function(e){var t=e.trackingService,n=e.textEditorService,r=e.userService,i=e.uphookService,a=e.availabilityService,s=e.feedbackService,c=e.userSurveyService,u=e.lifecycleService,d=e.revisionEngine,p=e.notifyAssistantUIAction,m=e.isOggyEnabled,h=e.selectionContextAvailabilityService;return function(e){return function(e){var t;const n=null!==(t=e.logger)&&void 0!==t?t:new o.a("Assistant"),r=zn(e,{metricsService:new D({lifecycleService:e.lifecycleService,monitoringService:e.monitoringService,revisionEngine:l.g.fromNullable(e.revisionEngine),logger:n}),logger:n});return{assistantUI:A.b.mount((i=r,A.b.Knot.make(A.b.Grid.make(({slots:e})=>ge.createElement(Xr.Provider,{value:{notifyUnmount:e=>i.notify(e)}},ge.createElement(ur.a.Provider,{value:i.theme.theme},e.assistant))),{assistant:Sy})),b_(r)),dispose:()=>r.dispose()};var i}({lifecycleService:u,userService:r,genAIAvailabilityService:a,sessionService:e,textEditorService:n,uphookService:i,trackingService:t,feedbackService:s,userSurveyService:c,notifyAssistantUIAction:p,monitoringService:y_.a.getInstance(),logger:b.d.Logging.getLogger("CheetahWeb.IdeationAssistantViewModel",b.a.LogLevel.TRACE,b.a.LogColor.ViewModel.getColor("CheetahWeb")),revisionEngine:d,theme:f.a.create({flatUI:m}),selectionContextAvailabilityService:h})}},__=function e(t,n,r,i,a,o,c,u,d,h,_,C,A,I,T,M,P,N,B,L,F){var R=this;Object(v.a)(this,e),Object(y._)(this,"_textEditorService",void 0),Object(y._)(this,"_ded",void 0),Object(y._)(this,"_navigation",void 0),Object(y._)(this,"_userService",void 0),Object(y._)(this,"_availabilityService",void 0),Object(y._)(this,"_uphookService",void 0),Object(y._)(this,"_feedbackService",void 0),Object(y._)(this,"_userSurveyService",void 0),Object(y._)(this,"_sessionServiceFactory",void 0),Object(y._)(this,"_onboardingViewModelsFactory",void 0),Object(y._)(this,"_trackingService",void 0),Object(y._)(this,"_lifecycleService",void 0),Object(y._)(this,"_telemetry",void 0),Object(y._)(this,"_isDemoDocument",void 0),Object(y._)(this,"_features",void 0),Object(y._)(this,"_sessionModel",void 0),Object(y._)(this,"_modalManager",void 0),Object(y._)(this,"_selectionRange",void 0),Object(y._)(this,"_usedDuringSession",void 0),Object(y._)(this,"_revisionEngine",void 0),Object(y._)(this,"_selectionContextAvailabilityService",void 0),Object(y._)(this,"assistantUI",void 0),Object(y._)(this,"_disposeAssistantUI",void 0),Object(y._)(this,"onboardingViewModels",void 0),Object(y._)(this,"usedDuringSession",void 0),Object(y._)(this,"_log",void 0),Object(y._)(this,"_subs",void 0),Object(y._)(this,"_disposables",void 0),Object(y._)(this,"_assistantUIActions",void 0),Object(y._)(this,"_sessionService",void 0),Object(y._)(this,"_selectionOnLensEnter",void 0),Object(y._)(this,"_onboardingUIActions",void 0),Object(y._)(this,"_createAssistantUI",void 0),Object(y._)(this,"_disposed",void 0),Object(y._)(this,"dispose",void 0),Object(y._)(this,"_initAssistant",void 0),Object(y._)(this,"_initOnboarding",void 0),Object(y._)(this,"_disposeAssistant",void 0),this._textEditorService=t,this._ded=n,this._navigation=r,this._userService=i,this._availabilityService=a,this._uphookService=o,this._feedbackService=c,this._userSurveyService=u,this._sessionServiceFactory=d,this._onboardingViewModelsFactory=h,this._trackingService=_,this._lifecycleService=C,this._telemetry=A,this._isDemoDocument=I,this._features=T,this._sessionModel=M,this._modalManager=P,this._selectionRange=N,this._usedDuringSession=B,this._revisionEngine=L,this._selectionContextAvailabilityService=F,this.assistantUI=f.a.create(l.g.none),this._disposeAssistantUI=j.e,this.onboardingViewModels=f.a.create(l.g.none),this.usedDuringSession=this._usedDuringSession.view(),this._log=b.d.Logging.getLogger("Cheetah.CheetahWebLifecycleManagerImpl"),this._subs=new g.a.Keeper,this._disposables=[],this._assistantUIActions=new p.a.Subject,this._sessionService=f.a.create(l.g.none),this._selectionOnLensEnter=this._navigation.isActive.pipe(p.a.filter(Boolean),p.a.withLatestFrom(this._ded.selection),p.a.map(w.d)),this._onboardingUIActions=new p.a.Subject,this._disposed=new p.a.Subject,this.dispose=function(){R._disposed.next(!0),R._disposables.forEach((function(e){return e.dispose()})),R._disposeAssistant(),R._subs.dispose()},this._initAssistant=function(){var e=R._navigation.mode.get(),t=R._sessionServiceFactory({startOptions:{mode:e,metadata:Object(s.pipe)(R._features.cheetahPromptsUsed,l.g.map((function(e){return{setPromptsUsed:e}})),l.g.toUndefined)},textEditorService:R._textEditorService});!0===l.g.isSome(R._sessionService.get())&&R._log.error("Unexpected session service exists"),R._sessionService.set(l.g.some(t)),R._log.info("Init Assistant UI");var n=R._createAssistantUI(t),r=n.assistantUI,i=n.dispose;R._log.info("Inited Assistant UI",r),R.assistantUI.set(l.g.some(r)),R._disposeAssistantUI=i},this._initOnboarding=function(){var e=R._sessionModel.defaultContext.pipe(p.a.map(l.g.chain((function(e){return e.writingIntent})))),t=R._availabilityService.availability.pipe(p.a.filter(S.a.isVisible),p.a.take(1)),n=R._modalManager.state.view(l.g.exists((function(e){return e.instance.type===x.b.Tour})));!R._isDemoDocument&&R._features.cheetahOnboarding&&p.a.combineLatestStatic([t,e,n]).pipe(p.a.filter((function(e){var t=Object(O._)(e,3),n=t[0],r=(t[1],t[2]);return S.a.isVisible(n)&&!r}))).subscribe((function(e){var t=Object(O._)(e,2),n=(t[0],t[1]),r=R._onboardingViewModelsFactory({intent:n,sessionService:R._sessionService,disposed:R._disposed,assistantUIActions:R._assistantUIActions,onboardingUIActions:R._onboardingUIActions,cheetahButton:R._navigation.cheetahButton});R._subs.push(Object(s.pipe)(r.onboarding.uiActions,p.a.filter(k.a.is(k.a.Kind.tryItOut)),p.a.tap((function(){return R._navigation.toCheetahLens(!1,!1)}))).subscribe()),R._disposables.push(r.onboarding),R.onboardingViewModels.set(l.g.some(r))}))},this._disposeAssistant=function(){R._log.info("Disposing Assistant..."),R._disposeAssistantUI(),R.assistantUI.set(l.g.none),Object(s.pipe)(R._sessionService.get(),l.g.tap((function(e){Object(s.pipe)(e.session.get(),E.a.toStarted,l.g.tapLeft((function(){R._log.error("Tried to close non-existing session")}))),e.dispose()}))),R._sessionService.set(l.g.none)},this._features.oggy?this._subs.push(this._assistantUIActions.pipe(p.a.filter((function(e){return"promptFieldFocusChange"===e.kind&&e.focused})),p.a.take(1),p.a.tap((function(){return R._ded.restoreFocus()}))).subscribe()):this._subs.push(this._ded.dontFreezeWhen(this._navigation.isActive,"cheetah-lens")),this._subs.push(this._selectionOnLensEnter.pipe(m.b.Scheduler.inRaf).subscribe((function(e){return R._ded.setCursor(e.index,e.length,"api")})),this._ded.selection.subscribe((function(e){R._selectionRange.set(l.g.some({start:e.index,end:e.index+e.length,meta:void 0}))}))),this._createAssistantUI=O_({userService:this._userService,availabilityService:this._availabilityService,trackingService:this._trackingService,textEditorService:this._textEditorService,uphookService:this._uphookService,feedbackService:this._feedbackService,userSurveyService:this._userSurveyService,lifecycleService:this._lifecycleService,telemetry:this._telemetry,revisionEngine:this._revisionEngine,notifyAssistantUIAction:function(e){return R._assistantUIActions.next(e)},isOggyEnabled:this._features.oggy,selectionContextAvailabilityService:this._selectionContextAvailabilityService}),this._features.oggy?this._initAssistant():this._subs.push(this._navigation.isActive.pipe(p.a.pairwise(),p.a.tap((function(e){var t=Object(O._)(e,2),n=t[0],r=t[1];!1===n&&!0===r?R._initAssistant():!0===n&&!1===r&&R._disposeAssistant()}))).subscribe()),this._initOnboarding()},C_=n("YGQ+");function w_(e,t,n,r,i=1e3){return e.pipe(p.a.filter(k.a.is(k.a.Kind.mount)),p.a.filter(e=>n(e.step)),p.a.switchMap(({step:e})=>t.pipe(p.a.map(l.g.contains(e)),p.a.switchMap(e=>e?r.pipe(p.a.mapTo(Date.now())):p.a.EMPTY),p.a.filter(e=>Date.now()-e>=i),p.a.mapTo(e))))}!function(e){e.completeInitialOrRewriteStepOnSessionInit=({session:e,stepsSeenOnThisSession:t})=>e.pipe(p.a.startWith(l.g.none),p.a.pairwise(),p.a.map(([e,t])=>l.g.isNone(e)&&l.g.isSome(t)?l.g.some(t):l.g.none),p.b.compact,p.a.withLatestFrom(t),p.a.switchMap(([e,t])=>Object(s.pipe)([t.has(C_.a.StepName.initial)?l.g.some(C_.a.StepName.initial):l.g.none,t.has(C_.a.StepName.initialBTS)?l.g.some(C_.a.StepName.initialBTS):l.g.none,qy.a.isRewriteOrQuickRewrite(e.value.mode)?l.g.some(C_.a.StepName.rewrite):l.g.none],q.B))),e.completeReviewStepOnSecondResultReceived=({session:e,activeStep:t})=>e.pipe(p.a.map(Object(s.flow)(l.g.chain(E.a.toStarted),l.g.fold(()=>0,e=>e.results.length))),p.a.pairwise(),p.a.filter(([e,t])=>1===e&&2===t),p.a.withLatestFrom(t),p.a.map(([e,t])=>Object(s.pipe)(t,l.g.filter(e=>e===C_.a.StepName.review))),p.b.compact),e.completeActiveAssistantStepOnSessionEnd=({session:e,activeStep:t,visibleForMs:n,onboardingUIActions:r})=>w_(r,t.pipe(p.a.observeOn(p.a.asapScheduler)),C_.a.StepName.isAssistantOnboardingStep,e.pipe(p.a.pairwise(),p.a.filter(([e,t])=>l.g.isSome(e)&&l.g.isNone(t))),n),e.completeStepOnCloseClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(p.a.filter(k.a.is(k.a.Kind.close)),p.a.map(e=>(e.step===C_.a.StepName.initial&&t.trackOnboardingPopupSkip(),e.step===C_.a.StepName.initialBTS&&t.trackBTSOnboardingPopupSkip(),e.step))),e.completeInitialStepOnTryItOutClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(p.a.filter(k.a.is(k.a.Kind.tryItOut)),p.a.map(e=>(e.step===C_.a.StepName.initial&&t.trackOnboardingPopupNext(),e.step===C_.a.StepName.initialBTS&&t.trackBTSOnboardingPopupNext(),e.step))),e.completeReviewStepOnResultInteraction=({assistantUIActions:e})=>e.pipe(p.a.filter(z.a.isResultAction),p.a.filter(e=>xn.a.isStandardCompletedResult(e.result)),p.a.map(()=>C_.a.StepName.review)),e.completeHistoryStepOnHistoryRestore=({assistantUIActions:e})=>e.pipe(p.a.filter(z.a.is(z.a.Kind.restoreHistoryButtonClick)),p.a.map(()=>C_.a.StepName.history)),e.completeAssistantStepsOnUserActions=({assistantUIActions:e,activeStep:t})=>e.pipe(p.a.filter(Object(j.p)(z.a.is(z.a.Kind.actionBrickClick),z.a.is(z.a.Kind.promptSubmitButtonClick),z.a.is(z.a.Kind.promptFieldKeyPressEnter),z.a.is(z.a.Kind.headerVoiceButtonClick),z.a.is(z.a.Kind.setVoiceButtonClick),z.a.is(z.a.Kind.openFeedbackFormButtonClick))),p.a.withLatestFrom(t),p.a.map(([e,t])=>Object(s.pipe)(t,l.g.filter(C_.a.StepName.isAssistantOnboardingStep))),p.b.compact),e.completeInitialStepOnDispose=({onboardingUIActions:e,activeStep:t,disposed:n,visibleForMs:r})=>w_(e,t,e=>e===C_.a.StepName.initial||e===C_.a.StepName.initialBTS,n,r);const t=e=>t=>n=>t(n).pipe(p.a.tap(t=>{var r;return null===(r=n.logger)||void 0===r?void 0:r.debug(`${e} - step to complete: ${t}`)}));function n(e){return e.pipe(p.a.scan((e,t)=>({seen:new Set(e.seen).add(t),step:e.seen.has(t)?l.g.none:l.g.some(t)}),{seen:new Set,step:l.g.none}),p.a.map(e=>e.step),p.b.compact)}e.defaultCompletionSources=[t("session init")(e.completeInitialOrRewriteStepOnSessionInit),t("second result received")(e.completeReviewStepOnSecondResultReceived),t("session end")(e.completeActiveAssistantStepOnSessionEnd),t("user closed step")(e.completeStepOnCloseClick),t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),t("user interacted with results")(e.completeReviewStepOnResultInteraction),t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),t("user restored history")(e.completeHistoryStepOnHistoryRestore),t("feature disposed")(e.completeInitialStepOnDispose)],e.extractStepsToComplete=function(e,t){return p.a.mergeStatic(...e.map(e=>e(t))).pipe(n)}}(v_||(v_={}));var S_=n("9Je/"),k_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class E_ extends S_.b{constructor(e,t){super(e),this._onDispose=t}dispose(){super.dispose(),this._onDispose()}}function j_(e){var{assistantUIActions:t,trackingService:n,completeOnboardingStep:r,stepCompletionSources:i,disposed:a,theme:o,logger:s}=e,l=k_(e,["assistantUIActions","trackingService","completeOnboardingStep","stepCompletionSources","disposed","theme","logger"]);const u=new W.a,d=new E_(Object.assign(Object.assign({},l),{assistantMountActions:t.pipe(p.a.filter(z.a.is(z.a.Kind.mount))),assistantUnmountActions:t.pipe(p.a.filter(z.a.is(z.a.Kind.unmount)))}),()=>u.unsubscribe());return u.add(v_.extractStepsToComplete(null!=i?i:v_.defaultCompletionSources,{onboardingUIActions:d.uiActions,assistantUIActions:t,activeStep:d.activeStep.view(I.map(e=>e.name)),stepsSeenOnThisSession:d.stepsSeenOnThisSession,session:l.session,trackingService:n,disposed:a,logger:s}).subscribe(e=>{r(e)})),u.add(function(e,t){return e.pipe(p.a.filter(k.a.is(k.a.Kind.mount)),p.a.tap(e=>{switch(e.step){case C_.a.StepName.initial:return t.trackOnboardingPopupView();case C_.a.StepName.initialBTS:return t.trackBTSOnboardingPopupView();case C_.a.StepName.prompts:return t.trackOnboardingPromptsTooltipView();case C_.a.StepName.review:return t.trackOnboardingReviewTooltipView();case C_.a.StepName.rewrite:return t.trackOnboardingRewriteTooltipView();case C_.a.StepName.knowledgeHub:return t.trackOnboardingKnowledgeHubTooltipView();case C_.a.StepName.references:return t.trackOnboardingReferencesTooltipView();case C_.a.StepName.history:return t.trackOnboardingHistoryTooltipView();default:return Object(c.d)(e.step)}}))}(d.uiActions,n).subscribe()),{onboarding:d,theme:new Vn(null!=o?o:f.a.create(V.a))}}var x_=n("0Qjk");function A_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return p.a.mergeStatic(m.a.windowResize.pipe(p.a.throttleTime(e/2),p.a.mapTo(!0)),m.a.windowResize.pipe(p.a.debounceTime(e),p.a.mapTo(!1))).pipe(p.a.distinctUntilChanged())}var I_,T_,M_=n("Jr5U");(I_||(I_={})).create=(T_=Object(i.a)((function(e){var t,n,r,i,c,u,m,v,O,_,w,k,E,j,x,A,I,T,M,P,N,B,L,F,R,D,H,V,U,W,z,G,q,K,$,Y;return Object(a.c)(this,(function(a){switch(a.label){case 0:return t=e.capi,n=e.sessionModel,r=e.denaliEditorModel,i=e.navigation,c=e.userAccount,u=e.dialect,m=e.isDemoDocument,v=e.availabilityService,O=e.telemetry,_=e.inlineManager,w=e.capiService,k=e.config,E=e.platformEnvironment,j=e.upgradeVM,x=e.revisionEngine,A=e.modalManager,I=e.lifecycleService,T=e.textEditorService,M=e.selectionRange,P=e.usedDuringSession,B=b.d.Logging.getLogger("Cheetah.CheetahViewModel"),o.a.configureAllLoggers({env:k.env}),B.info("Creating CheetahViewModel"),L=new g.a.Keeper,F=Object(M_.g)(c,u),R=c.features.denali.showOnboardingTourA11yUpdates,D=new d(w,b.d.Logging.getLogger("CheetahWeb.TrackingServiceImpl",b.a.LogLevel.TRACE,b.a.LogColor.ViewModel.getColor("CheetahWeb"))),H=Object(M_.f)(O,E,k,j),V=Object(M_.c)(O),U=Object(M_.h)(w),W=f.a.create({contextUpdatesClient:c.features.denali.selectionContextUpdatesClient,contextUpdatesServer:c.features.denali.selectionContextUpdatesServer}),z=new h(W),[4,I];case 1:return G=a.sent(),[4,null===(N=x)||void 0===N?void 0:N.pipe(p.a.take(1)).toPromise()];case 2:return q=a.sent(),K=new __(T,r,i,F,v,H,V,U,Object(M_.b)({capiService:w,userService:F,trackingService:D,selectionContextAvailability:z.availability}),(X={capi:t,trackingService:D,settings:c.settings,availabilityService:v,features:c.features.denali},function(e){var t=new Set;return X.features.cheetahOrgContextEnabled||t.add(C_.a.StepName.knowledgeHub),X.features.cheetahBTSOnboardingEnabled&&l.g.contains("ASSIGNMENT_WRITING")(e.intent)||t.add(C_.a.StepName.initialBTS),j_({client:"editor",logger:b.d.Logging.getLogger("CheetahOnboarding"),textStats:X.capi.events.pipe(p.a.filter(x_.a.CAPIEvent.is("text_info")),p.a.map((function(e){return l.g.some({wordCount:e.data.wordsCount})})),p.a.startWith(l.g.none)),trackingService:X.trackingService,upstreamOnboardingState:X.settings.cheetahOnboardingState,completeOnboardingStep:function(e){X.settings.cheetahOnboardingState.get()[e].editor.completed||X.settings.updateCheetahOnboardingState(Object(y._)({},e,{completed:!0,lastSeen:Date.now()}))},session:Object(s.pipe)(e.sessionService,p.a.flatMap(l.g.fold(Object(s.constant)(f.a.create(l.g.none)),(function(e){return e.session.view(l.g.some)})))),assistantUIActions:e.assistantUIActions,forceDisabledOnboardingSteps:t,externalElements:e.cheetahButton.pipe(p.a.map((function(e){return Object(s.pipe)(e,l.g.fromNullable,l.g.fold((function(){return{}}),(function(e){var t;return t={},Object(y._)(t,Z.b.initialPopupAnchor,{reference:e,placement:"left",offset:8,boundaryAreaPadding:10}),Object(y._)(t,Z.b.initialBTSPopupAnchor,{reference:e,placement:"left",offset:8,boundaryAreaPadding:10}),t})))}))),disposed:e.disposed,promptsAllocated:X.availabilityService.availability.view(Object(s.flow)(l.g.fromPredicate(S.a.isActiveOrPassive),l.g.map(Cr.e.pick("promptsAllocated")))),hideAssistantOnboardingTooltips:A_()})}),D,G,O,m,c.features.denali,n,A,M,P,q,z),$=new C(r,c.features.denali,_),Y=function(){B.info("Disposing CheetahViewModel"),K.dispose(),$.dispose(),L.dispose()},[2,{assistantUI:K.assistantUI,onboardingViewModels:K.onboardingViewModels,inlineViewModel:$,usedDuringSession:K.usedDuringSession,navigation:i,isInOnboardingTourA11yExperiment:R,isOggy:c.features.denali.oggy,lifecycleService:G,dispose:Y,acquireFocusWhen:function(e){return r.dontFreezeWhen(e,"Cheetah View")}}]}var X}))})),function(e){return T_.apply(this,arguments)})},"7CTu":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("B8yO"),p=n("DTwm"),m=n("OwvP"),f=n("4GyQ"),h=n("fC5a"),g=n("ySi0"),b=n("xk6L"),v=n("0kuo"),y=n("mgiE"),O=n("5ioF"),_=n("fn2K"),C=(n("g0wJ"),n("LvjW")),w=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.apply(this,arguments),Object(o._)(Object(r.a)(e),"_title",void 0),Object(o._)(Object(r.a)(e),"_subs",[]),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._title&&(this._title.focus(),this._subs.push(this.props.searchViewModel.hotkeysActions.subscribe((function(t){switch(t){case _.a.focus:e._title&&(e._title.focus(),e._title.select());break;case _.a.next:e._resultFunctionOrSelect((function(e){return e.next()}));break;case _.a.previous:e._resultFunctionOrSelect((function(e){return e.prev()}));break;default:Object(v.c)(t)}})),this.props.searchViewModel.visible.pipe(b.a.filter(Boolean)).subscribe((function(){requestAnimationFrame((function(){e._title&&(e._title.focus(),e._title.select())}))}))))}},{key:"componentWillUnmount",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_resultFunctionOrSelect",value:function(e){Object(p.pipe)(this.props.searchViewModel.result.get(),y.g.fold(this.props.searchViewModel.select,e))}},{key:"render",value:function(){var e=this,t=this.props.searchViewModel;return d.createElement("div",{className:C.view},d.createElement(m.a.div,{className:C.searchInputWrapper},d.createElement(g.d.SearchQuestion,{className:C.searchIcon}),d.createElement(m.a.input,Object(l._)(Object(c._)({name:_.b.SEARCH_INPUT_NAME,spellCheck:!1,mount:function(t){return e._title=t},placeholder:"Find in document",className:C.searchInput,autoFocus:!0},Object(f.b)({value:t.term})),{onKeyDown:function(t){return t.keyCode===O.a.ENTER_CODE&&e._resultFunctionOrSelect((function(e){return e.next()}))}})),t.result.view(y.g.getOrElse((function(){return{count:0,current:0}}))).view((function(e){var t=e.count,n=e.current;return t>0&&d.createElement("span",{className:C.counter,key:"count"},n,"/",t)}))),d.createElement(h.a.Ghost,{className:C.roundButton,name:"search-prev",disabled:t.result.view(y.g.forAll((function(e){return 1===e.current}))),onClick:function(){return e._resultFunctionOrSelect((function(e){return e.prev()}))}},d.createElement(g.d.Arrow,{className:C.lessIconUp})),d.createElement(h.a.Ghost,{className:C.roundButton,name:"search-next",disabled:t.result.view(y.g.forAll((function(e){return e.current===e.count}))),onClick:function(){return e._resultFunctionOrSelect((function(e){return e.next()}))}},d.createElement(g.d.Arrow,{className:C.lessIcon})),d.createElement(h.a.Ghost,{className:C.closeButton,name:"search-close",onClick:function(){return t.visible.set(!1)}},d.createElement(g.d.Close,null)))}}]),n}(d.Component),S=function(e){var t=e.searchViewModel;return d.createElement(m.a.div,{className:C.wrapper},t.visible.view((function(e){return e&&d.createElement(w,{searchViewModel:t})})))}},"7Cqk":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O}));var r=n("8O/t"),i=n("X76w"),a=n("2swC"),o=n("nWMp"),s=n("PltQ"),c=n("NbNH");const l={position:"relative",borderRadius:o.a.rem(c.s),background:a.a.CoreNeutral0,boxShadow:`0 ${o.a.rem(.625)} ${o.a.rem(c.a)} 0 rgba(198, 203, 222, .45)`},u={$nest:{"&:before":{position:"absolute",width:o.a.px(10),height:o.a.px(10),borderRadius:o.a.percent(50),content:"''",transform:"scale(.5)"}}},d={$nest:{"&:before":{backgroundColor:s.c}}},p={$nest:{"&:before":{backgroundColor:s.l}}},m={$nest:{"&:before":{backgroundColor:a.a.CoreRed50}}},f={$nest:{"&:before":{backgroundColor:a.a.CoreBlue50}}},h={$nest:{"&:before":{backgroundColor:a.a.CoreGreen50}}},g={$nest:{"&:before":{backgroundColor:a.a.CorePurple50}}},b={$nest:{"&:before":{backgroundColor:a.a.CoreNeutral50}}},v={$nest:{"&:before":{backgroundColor:a.a.CoreNeutral50}}},y={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},O=Object(i._)(Object(r._)({},o.a.stylesheet({dot:[u],dotAdvanced:[p],dotCritical:[d],dotCorrectness:[m],dotClarity:[f],dotEngagement:[h],dotDelivery:[g],dotVox:[b],knowledgeHub:[v]})),{fullCard:o.a.joinClasses([y.fullCardSelector,o.a.style(l)])})},"7LqD":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n("B8yO"),i=n("XGPX"),a=n("tREI");class o extends Set{constructor(e,t,n){super(e),e instanceof o?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function s(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:a,selectionBehavior:s="toggle",disabledBehavior:l="all"}=e,u=(0,r.useRef)(!1),[,d]=(0,r.useState)(!1),p=(0,r.useRef)(null),m=(0,r.useRef)(null),[,f]=(0,r.useState)(null),h=(0,r.useMemo)(()=>c(e.selectedKeys),[e.selectedKeys]),g=(0,r.useMemo)(()=>c(e.defaultSelectedKeys,new o),[e.defaultSelectedKeys]),[b,v]=(0,i.b)(h,g,e.onSelectionChange),y=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[O,_]=(0,r.useState)(s);"replace"===s&&"toggle"===O&&"object"==typeof b&&0===b.size&&_("replace");let C=(0,r.useRef)(s);return(0,r.useEffect)(()=>{s!==C.current&&(_(s),C.current=s)},[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:O,setSelectionBehavior:_,get isFocused(){return u.current},setFocused(e){u.current=e,d(e)},get focusedKey(){return p.current},get childFocusStrategy(){return m.current},setFocusedKey(e,t="first"){p.current=e,m.current=t,f(e)},selectedKeys:b,setSelectedKeys(e){!a&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,b)||v(e)},disabledKeys:y,disabledBehavior:l}}function c(e,t){return e?"all"===e?"all":new o(e):t}class l{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(e=>t.has(e)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,a.c)(this.collection,n,e)<0)&&(e=n)}return null==e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,a.c)(this.collection,n,e)>0)&&(e=n)}return null==e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new o([e],e,e);else{let n=this.state.selectedKeys,r=n.anchorKey||e;t=new o(n,r,e);for(let i of this.getKeyRange(r,n.currentKey||e))t.delete(i);for(let n of this.getKeyRange(e,r))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?(0,a.c)(this.collection,n,r)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],r=e;for(;r;){let e=this.collection.getItem(r);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new o("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new o([e],e,e):new o;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new o;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let r=this.collection.getItem(n);"item"===r.type&&e.push(n),r.hasChildNodes&&(this.allowsCellSelection||"item"!==r.type)&&t((0,a.e)((0,a.d)(r,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new o)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}constructor(e,t,n){var r;this.collection=e,this.state=t,this.allowsCellSelection=null!==(r=null==n?void 0:n.allowsCellSelection)&&void 0!==r&&r,this._isSelectAll=null}}},"7Pyj":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=1.7},"7XqD":function(e,t,n){e.exports=n.p+"files/70f84e39477b8c33dbc1900a4bacb20f/inter-medium.woff"},"7bSy":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n("QpYi"),i=n("HOlR"),a=n("U9Go"),o=n("024v"),s=n("IMGo"),c=n("DTwm"),l=n("0kuo"),u=n("TKPA"),d=n("mgiE"),p=n("r53K"),m=n("c+X/");var f,h,g,b=n("vqgI");!function(e){let t,n,r;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.create=function(e,t){return{id:e,kind:"string",value:t}}}(n=e.StringValue||(e.StringValue={})),function(e){e.create=function(e,t){return{id:e,kind:"radio",value:t}}}(r=e.RadioValue||(e.RadioValue={}))}(f||(f={})),(h||(h={})).match=e=>t=>{const n=t.kind;return"string"===n?e.string(t):"radio"===n?e.radio(t):void Object(l.d)(n)},function(e){function t(e){return"followUpQuestion"===e.kind}function n(e){return"quickAction"===e.kind}let l,h,g,v,y,O,_;e.isFollowUpQuestionActionValue=t,e.isQuickActionValue=n,e.isListableActionValue=Object(u.p)(t,n),e.isUserPromptActionValue=function(e){return"userPrompt"===e.kind},e.isQuickRewriteActionValue=function(e){return"quickRewrite"===e.kind},e.isFollowUpQuestionActionInput=function(e){return"followUpQuestion"===e.kind},e.isQuickActionInput=function(e){return"quickAction"===e.kind},e.isSkillAction=function(e){return"skillAction"===e.kind},e.isToneAction=function(e){return"toneAction"===e.kind},e.isPlagiarismAction=function(e){return"plagiarismAction"===e.kind},e.extractActionIcon=function(e){return"plagiarismAction"===e.kind?i.left("plagiarism"):i.right(e.iconUrl)},e.createFollowUpQuestionActionInputOrQuickActionInput=function(t,n,i,a,o){var l;const u=Array.from(new Set(n.map(e=>e.group).filter(Object(c.not)(g.isPinned)))).findIndex(e=>t.group===e),m=g.isPinned(t.group)?h.knownStores.pinned:h.knownStores.ideas,v={id:e.Id.create(t.id),contextId:o,iconUrl:t.iconUrl,store:{id:m,label:g.isPinned(t.group)?"":b.a.isQuickReply(i)?"Ways to reply":d.g.isSome(a)?"Work with: "+a.value:"Ideas for you",view:g.isPinned(t.group)?e.Store.View.pinned:e.Store.View.normal,rank:null!==(l=h.ranks[m])&&void 0!==l?l:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:b.a.isQuickReply(i)?d.g.none:d.g.some(3)},group:{id:g.Id.create(t.group),label:t.group,rank:u>-1?u:Number.MAX_SAFE_INTEGER},label:Object(r.sanitize)(t.label,{ALLOWED_TAGS:p.a}),searchLabel:Object(r.sanitize)(t.label,{ALLOWED_TAGS:[]}),searchTags:t.searchTags,generatesTextType:d.g.fromNullable(t.generatesTextType),disabled:void 0!==t.disabled,notificationOnAttempt:Object(c.pipe)(d.g.fromNullable(t.disabled),d.g.chain(({onActionNotification:e})=>d.g.fromNullable(e)),d.g.map(({text:e})=>e))};if(1===t.args.length){const e=t.args[0],n={id:f.Id.create(e.name),label:e.label,hints:Object(c.pipe)(d.g.fromNullable(e.hint),d.g.map(e=>({header:e.header,items:e.text})))};return"string"===e.valueType?d.g.some(Object.assign(Object.assign({},v),{kind:"followUpQuestion",args:[Object.assign(Object.assign({},n),{kind:"string"})],generatesTextType:d.g.fromNullable(t.generatesTextType)})):"radioButtonGroup"===e.valueType?Object(c.pipe)(e.radioButtonGroupValues,s.E,d.g.map(e=>Object.assign(Object.assign({},v),{kind:"followUpQuestion",args:[Object.assign(Object.assign({},n),{kind:"radio",radioOptions:e})],generatesTextType:d.g.fromNullable(t.generatesTextType)}))):d.g.none}return 0===t.args.length?d.g.some(Object.assign(Object.assign({},v),{kind:"quickAction",args:[]})):d.g.none},function(e){e.create=function(e){return e},e.eq=a.i}(l=e.Id||(e.Id={})),function(e){let t,n;!function(e){e.eq=a.i}(t=e.Id||(e.Id={})),function(e){e.normal="normal",e.pinned="pinned"}(n=e.View||(e.View={})),e.knownStores={ideas:"ideas",pinned:"pinned",tools:"tools"},e.ranks={[e.knownStores.ideas]:0,[e.knownStores.pinned]:1,[e.knownStores.tools]:2}}(h=e.Store||(e.Store={})),function(t){let n;!function(e){e.create=function(e){return e},e.eq=a.i}(n=t.Id||(t.Id={})),t.isPinned=function(t){return t===e.knownGroup.pinned}}(g=e.Group||(e.Group={})),e.knownGroup={tools:g.Id.create("tools"),pinned:g.Id.create("pinned")},e.knownGroupRank={[e.knownGroup.tools]:-2,[e.knownGroup.pinned]:-1},e.knowGroupLabels={[e.knownGroup.tools]:"Tools",[e.knownGroup.pinned]:""},function(e){e.fromTextInput=function(e,t){return Object.assign(Object.assign({},e),{args:[f.StringValue.create(e.args[0].id,t)]})},e.fromRadioInput=function(e,t){return Object.assign(Object.assign({},e),{args:[f.RadioValue.create(e.args[0].id,t)]})}}(v=e.FollowUpQuestionActionValue||(e.FollowUpQuestionActionValue={})),e.createSkillAction=function(t,n){var i;const a=h.knownStores.tools;return{kind:"skillAction",id:l.create(t.id),store:{id:a,label:"App actions",view:e.Store.View.normal,rank:null!==(i=h.ranks[a])&&void 0!==i?i:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:b.a.isQuickReply(n)?d.g.some(1):d.g.some(3)},group:{id:e.knownGroup.tools,label:"App actions",rank:Number.MAX_SAFE_INTEGER},iconUrl:t.iconUrl,label:Object(r.sanitize)(t.displayName,{ALLOWED_TAGS:p.a}),searchLabel:Object(r.sanitize)(t.displayName,{ALLOWED_TAGS:[]}),searchTags:t.tags,generatesTextType:d.g.none,args:[],skill:t,disabled:!1,notificationOnAttempt:d.g.none}},e.createToneAction=function(t){return{kind:"toneAction",id:l.create(t.name),store:{id:"",label:"",view:e.Store.View.normal,rank:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:d.g.none},group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},iconUrl:(n=t.emojiId,m.b+n+".svg"),label:"Check my tone",searchLabel:Object(r.sanitize)(t.name,{ALLOWED_TAGS:[]}),searchTags:["Check my tone",t.name],generatesTextType:d.g.none,args:[],tone:t,disabled:!1,notificationOnAttempt:d.g.none};var n},e.createPlagiarismAction=function(){const t="Check for plagiarism";return{kind:"plagiarismAction",id:l.create("plagiarism"),store:{id:"",label:"",view:e.Store.View.normal,rank:Number.MAX_SAFE_INTEGER,maxCountBeforeClipping:d.g.none},group:{id:e.knownGroup.tools,label:"Tools",rank:Number.MAX_SAFE_INTEGER},iconUrl:"",label:t,searchLabel:"plagiarism",searchTags:[t],generatesTextType:d.g.none,args:[],disabled:!1,notificationOnAttempt:d.g.none}},function(e){e.ordByGroup=o.contramap(e=>e.group.rank)(o.ordNumber)}(y=e.ListableActionInput||(e.ListableActionInput={})),function(e){e.fromInput=function(e,t,n,r){return Object.assign(Object.assign({},e),{arg:f.StringValue.create(e.arg.id,t),useReferences:n,omitReferenceIds:r})}}(O=e.UserPromptActionValue||(e.UserPromptActionValue={})),function(e){e.fromInput=function(e){return Object.assign(Object.assign({},e),{args:[]})}}(_=e.QuickRewriteActionValue||(e.QuickRewriteActionValue={}))}(g||(g={}))},"7pft":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("B8yO"),i=n("OwvP"),a=n("4GyQ"),o=n("fC5a"),s=n("L8Yl"),c=n("sX1a"),l=n("D2TP"),u=n("nWMp"),d=n("Lsxp"),p=function(e){var t=e.onClick,n=e.isActive,p=e.className;return r.createElement(i.a.div,Object(a.c)(m.allAlertsBtnContainer,p),r.createElement(o.a,{id:l.a.SpecialId.AllAlerts,name:"lens-all-alerts",styleType:c.Typography.Type.Base,tag:s.b.div,className:u.a.joinClasses([m.allAlertsBtn,d.a.outcomeBtn,m.paddings,d.a.outcomeBtnBorders]),active:n,onClick:t},l.a.Info.allAlerts.title))},m=u.a.prefixedStylesheet("allAsuggestionsBtn",{allAlertsBtnContainer:[{position:"relative"}],allAlertsBtn:[{marginBottom:u.a.important(0)}],paddings:[{padding:u.a.important("".concat(u.a.rem(.5)," ").concat(u.a.rem(.75)))}]})},"8SdM":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return r}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("5OZM"),d=n("D2TP"),p=n("Hj2R"),m=n("mUkt"),f=n("xk6L"),h=n("La5+"),g=n("hzat"),b=n("d3CI"),v=n("A8UT"),y=n("mgiE"),O=n("TKPA"),_=n("RRF2"),C=n("0kuo"),w=n("xAs4"),S=n("Vx4e"),k=n("/9H4"),E=function(){function e(t,n,r,a,u,d,p,g,_,C,k,E){Object(i.a)(this,e),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"_modalManager",void 0),Object(o._)(this,"_state",void 0),Object(o._)(this,"_features",void 0),Object(o._)(this,"_getAlertClosestToCursor",void 0),Object(o._)(this,"_documentModel",void 0),Object(o._)(this,"_getLensPreiews",void 0),Object(o._)(this,"cardVisualMode",void 0),Object(o._)(this,"_isCheetahEnabled",void 0),Object(o._)(this,"_checksFeedCapabilities",void 0),Object(o._)(this,"_getPremiumCount",void 0),Object(o._)(this,"popover",void 0),Object(o._)(this,"events",void 0),Object(o._)(this,"_subs",void 0),Object(o._)(this,"activeLensId",void 0),Object(o._)(this,"a11yContrast",void 0),Object(o._)(this,"documentActions",void 0),Object(o._)(this,"premiumButtonData",void 0),Object(o._)(this,"freePremiumButtonData",void 0),Object(o._)(this,"showMuteControl",void 0),Object(o._)(this,"lensPreviews",void 0),Object(o._)(this,"lensTitleType",void 0),Object(o._)(this,"_lensSwitch",void 0),Object(o._)(this,"_alertSwitch",void 0),Object(o._)(this,"lensChangeEffects",void 0),Object(o._)(this,"alertChangeEffects",void 0),this._telemetry=t,this._modalManager=n,this._state=r,this._features=a,this._getAlertClosestToCursor=u,this._documentModel=d,this._getLensPreiews=g,this.cardVisualMode=_,this._isCheetahEnabled=C,this._checksFeedCapabilities=k,this._getPremiumCount=E,this.popover=l.a.create(y.g.none),this.events=new f.a.Subject,this._subs=new h.a.Keeper,this.activeLensId=this._state.view("currentLens","id"),this.a11yContrast=!0,this.documentActions=l.a.combine(this._features.plagiarism,this._features.proofit,this._documentModel.documentLength.view("full").view((function(e){return 0===e})),this._documentModel.title,this._isCheetahEnabled,(function(e,t,n,r,i){return{plagiarism:e===w.l.enabled?n?v.c.plagiarismDisabled(v.d.EmptyDocument):v.c.documentActionAvailable:e===w.l.upgradeIsNeeded?v.c.documentActionAvailable:v.c.plagiarismDisabled(v.d.NotAvailable),proofit:t===w.l.enabled?n?v.c.proofitDisabled(v.e.EmptyDocument):r===S.premiumDemoDocument.title?v.c.proofitDisabled(v.e.DemoDoc):v.c.documentActionAvailable:t===w.l.upgradeIsNeeded?v.c.documentActionAvailable:v.c.proofitDisabled(v.e.NotAvailable),cheetah:i?v.c.documentActionAvailable:v.c.cheetahDisabled(v.a.NotAvailable)}})),this._lensSwitch=new f.a.Subject,this._alertSwitch=new f.a.Subject,this.lensChangeEffects={id:"focusFirstOnLensChange",when:s.constTrue,what:b.e.Effect.SwitchLens.create(this._lensSwitch.pipe(f.a.map((function(e){var t=e.lensId,n=e.focusFirst;return{lensId:t,alertSource:e.actionSource,options:{order:"lensOrder",toFocus:n?b.e.Effect.FocusBehavior.focusFirst:b.e.Effect.FocusBehavior.noFocus}}}))))},this.alertChangeEffects={id:"highlightOnAlertChange",when:s.constTrue,what:b.e.Effect.SwitchAlert.create(this._alertSwitch.pipe(f.a.map((function(e){return{alertHighlight:e.alertHighlight,alertSource:e.actionSource,options:{order:"lensOrder"}}}))))},this.premiumButtonData=this._premiumButtonData,this.freePremiumButtonData=this._freePremiumButtonData,this._listenNavigationEvent(),this.showMuteControl=Object(c.pipe)(p,y.g.fold((function(){return l.a.create(!1)}),(function(e){return e.mutedCategories.view(m.a.BaseMutedCategories.filter(Object(O.m)(m.a.Category.isSpecial))).view((function(e){return e.size>0}))}))),this.lensTitleType=v.c.LensTitleType.default,this.lensPreviews=this._getLensPreiews()}return Object(a.a)(e,[{key:"_switchToLens",value:function(e,t){var n=this.activeLensId.get(),r=n===e?d.a.SpecialId.AllAlerts:e;if(n!==r){if(d.a.isEngagement(r)){if(this.lensPreviews.EngagementOutcome.isUnavailable.get())return this.popover.set(y.g.some(v.b.EngagementHook))}else if(d.a.isDelivery(r)){if(this.lensPreviews.DeliveryOutcome.isUnavailable.get())return this.popover.set(y.g.some(v.b.DeliveryHook))}else{if(d.a.isVox(r)&&this._features.denali.gbVoxLensUphook)return this.popover.set(y.g.some(v.b.GbVoxHook));if(d.a.isVox(r)&&this._features.denali.gbAdminVoxLensUphook)return this.popover.set(y.g.some(v.b.GbEnableVoxHook))}if(r===d.a.SpecialId.Plagiarism&&this._features.plagiarism.get()!==w.l.enabled)return this.popover.set(y.g.some(v.b.PlagiarismHook));this._lensSwitch.next({lensId:r,focusFirst:t.focusFirst,actionSource:t.actionSource})}}},{key:"_listenNavigationEvent",value:function(){var e=this;this._subs.push(this.events.pipe(f.a.switchMap((function(t){switch(t.type){case"setGoals":return e._modalManager.show(u.c.setGoals("user"));case"preferences":return e._modalManager.show(k.a.preferences);case"performance":return e._modalManager.show(u.c.performance);case"switchToLens":switch(e._switchToLens(t.id,{focusFirst:t.focusFirst,actionSource:t.actionSource}),t.id){case d.a.SpecialId.FreePremiumAlerts:e._telemetry.gnarSpec.freeAdvancedIssuesButtonClick(e._telemetry.pageId,"wiritingAssistant");break;case d.a.SpecialId.Premium:e._telemetry.gnarSpec.advancedIssuesButtonClick(e._telemetry.pageId,"wiritingAssistant");break;default:e._telemetry.gnarSpec.openLensButtonClick(_.f.camelize(t.title),e._telemetry.pageId)}return f.a.EMPTY;case"toggleSidebar":return e.activeLensId.get()===d.a.SpecialId.Closed?e._focusClosestAlert(t.actionSource):e._switchToLens(d.a.SpecialId.Closed,{focusFirst:!0,actionSource:t.actionSource}),f.a.EMPTY;case"switchToCritical":return e._features.isFree.get()?e._focusClosestAlert(t.actionSource):e._focusClosestAlertByPredicate(p.a.isCriticalImpact,t.actionSource),f.a.EMPTY;case"switchToAdvanced":return e._features.isFree.get()?e._switchToLens(d.a.SpecialId.Premium,{focusFirst:!0,actionSource:p.b.sidebar}):e._focusClosestAlertByPredicate(Object(O.m)(p.a.isCriticalImpact),t.actionSource),f.a.EMPTY;case"switchToAll":return e._switchToLens(d.a.SpecialId.AllAlerts,{actionSource:t.actionSource,focusFirst:t.focusFirst}),f.a.EMPTY;default:return Object(C.c)(t)}}))).subscribe())}},{key:"_focusClosestAlert",value:function(e){var t=this;Object(c.pipe)(this._getAlertClosestToCursor(p.a.isRegisteredApplicableAlert,"cursor"),y.g.fold((function(){return t._switchToLens(d.a.SpecialId.AllAlerts,{focusFirst:!0,actionSource:e})}),(function(n){return t._alertSwitch.next({alertHighlight:n,actionSource:e})})))}},{key:"_focusClosestAlertByPredicate",value:function(e,t){var n=this;Object(c.pipe)(this._getAlertClosestToCursor(Object(O.b)(p.a.isRegisteredApplicableAlert,e),"cursor"),y.g.fold((function(){return n._focusClosestAlert(t)}),(function(e){return n._alertSwitch.next({alertHighlight:e,actionSource:t})})))}},{key:"_premiumButtonData",get:function(){var e=this,t=this._getPremiumCount("advanced"),n=t.get().title,r=t.view("count"),i=this._state.view(Object(s.flow)(b.e.getLens,y.g.chain((function(t){return t.items.find(Object(s.flow)(e._checksFeedCapabilities.hasActiveAlert,y.g.map((function(e){return e.alert})),y.g.exists(g.a.isFreePremium)))})),y.g.isSome));return l.a.combine(this._features.isFree,r.view((function(e){return e>0})),i,(function(e,t,i){return e&&t&&!i?y.g.some({id:d.a.SpecialId.Premium,title:n,alerts:r}):y.g.none}))}},{key:"_freePremiumButtonData",get:function(){var e=this._getPremiumCount("freePremium"),t=e.get().title,n=e.view("count");return l.a.combine(this._features.isFree,n.view((function(e){return e>0})),(function(e,r){return e&&r?y.g.some({id:d.a.SpecialId.FreePremiumAlerts,title:t,alerts:n}):y.g.none}))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){e.outcomesList=[d.a.SpecialId.Correctness,d.a.SpecialId.Clarity,d.a.SpecialId.Engagement,d.a.SpecialId.Delivery,d.a.SpecialId.Vox],e.lensPreviewFilter=function(e){var t=e.denali,n=t.voxInfo,r=t.gbVoxLensUphook,i=t.gbAdminVoxLensUphook;return function(e){return!d.a.isVox(e)||(r||i||Object(c.pipe)(n,y.g.isSome))}}}(r||(r={}))},"8TGn":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("zCOz"),i=n("ZqXC"),a=n("Q2+j");function o(e,t){let n,{elementType:o="button",isDisabled:s,onPress:c,onPressStart:l,onPressEnd:u,onPressChange:d,preventFocusOnPress:p,allowFocusWhenDisabled:m,onClick:f,href:h,target:g,rel:b,type:v="button"}=e;n="button"===o?{type:v,disabled:s}:{role:"button",tabIndex:s?void 0:0,href:"a"===o&&s?void 0:h,target:"a"===o?g:void 0,type:"input"===o?v:void 0,disabled:"input"===o?s:void 0,"aria-disabled":s&&"input"!==o?s:void 0,rel:"a"===o?b:void 0};let{pressProps:y,isPressed:O}=(0,a.m)({onPressStart:l,onPressEnd:u,onPressChange:d,onPress:c,isDisabled:s,preventFocusOnPress:p,ref:t}),{focusableProps:_}=(0,i.f)(e,t);m&&(_.tabIndex=s?-1:_.tabIndex);let C=(0,r.l)(_,y,(0,r.b)(e,{labelable:!0}));return{isPressed:O,buttonProps:(0,r.l)(n,C,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{f&&(f(e),console.warn("onClick is deprecated, please use onPress"))}})}}},"8Z+1":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("DTwm"),o=n("gIH0"),s=n("w8H4"),c={URI:o.URI,literal:function(){return o.id()},string:o.id(),number:o.id(),boolean:o.id(),nullable:o.nullable,type:o.type,struct:o.struct,partial:o.partial,record:o.record,array:o.array,tuple:o.tuple,intersect:o.intersect,sum:o.sum,lazy:function(e,t){return o.lazy(t)},readonly:o.readonly};!function(e){e.interpreter=Object(a.unsafeCoerce)(s.a);e.extend=function(e){return function(t){return Object(i._)({},e,t)}}}(r||(r={}))},"9Je/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return h}));var r,i=n("lKCo"),a=n("DTwm"),o=n("M4GM"),s=n("O+SZ"),c=n("yIk2"),l=n("xk6L"),u=n("0kuo"),d=n("+vYo"),p=n("oYA0"),m=n("YGQ+"),f=n("0+Xt");!function(e){e.isTooltipOnboardingStep=function(e){return m.a.StepName.isTooltipOnboardingStep(e.name)}}(r||(r={}));class h{constructor(e){var t,n,r,h,b,v;this._params=e,this._subs=new o.a,this._assistantElements=d.a.create({}),this._externalElements=d.a.create({}),this._hideAssistantTooltips=d.a.create(!1),this._nextCandidateStep=d.a.create(i.none),this.stepsSeenOnThisSession=d.a.create(new Set),this._uiActions=new s.a,this.uiActions=this._uiActions.asObservable(),this.activeStep=d.a.combine(this._nextCandidateStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,(e,t,n,r)=>Object(a.pipe)(e,i.chain(e=>function(e,t,n,r){switch(e){case m.a.StepName.initial:return Object(a.pipe)(i.fromNullable(n[p.b.initialPopupAnchor]),i.map(e=>({name:m.a.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case m.a.StepName.initialBTS:return Object(a.pipe)(i.fromNullable(n[p.b.initialBTSPopupAnchor]),i.map(e=>({name:m.a.StepName.initialBTS,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case m.a.StepName.rewrite:return Object(a.pipe)(i.fromNullable(n[p.b.rewriteTooltipAnchor]),i.map(e=>({name:m.a.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case m.a.StepName.prompts:return Object(a.pipe)(i.fromNullable(t[p.a.initialActionsList]),i.map(e=>({name:m.a.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r})));case m.a.StepName.review:return Object(a.pipe)(i.fromNullable(t[p.a.followUpActionsList]),i.map(e=>({name:m.a.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r})));case m.a.StepName.knowledgeHub:return Object(a.pipe)(i.fromNullable(t[p.a.promptInput]),i.map(e=>({name:m.a.StepName.knowledgeHub,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r})));case m.a.StepName.references:return Object(a.pipe)(i.fromNullable(t[p.a.referencesList]),i.map(e=>({name:m.a.StepName.references,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r})));case m.a.StepName.history:return Object(a.pipe)(i.fromNullable(t[p.a.historyButton]),i.map(e=>({name:m.a.StepName.history,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r})));default:return Object(u.d)(e)}}(e,t,n,r)))),this.promptsAllocated=this._params.promptsAllocated,this._subs.add((t=this.activeStep,n=this._params.upstreamOnboardingState,r=this._params.session,h=this._params.textStats,b=this._params.forceDisabledOnboardingSteps,v=this._params.client,l.a.combineLatestStatic([r,n,h.pipe(Object(a.flow)(l.b.compact,l.a.map(e=>e.wordCount),l.a.startWith(0),l.a.pairwise(),l.a.scan((e,[t,n])=>Object(a.pipe)(Math.abs(n-t),t=>t<=2?e+t:e),0),l.a.startWith(0),l.a.distinctUntilChanged())),r.pipe(l.a.map(i.isSome),l.a.distinctUntilChanged(),l.a.withLatestFrom(n),l.a.map(([e,t])=>e?i.some(t):i.none))]).pipe(l.a.map(([e,n,r,o])=>{if(i.isNone(e)){const e=!Object(a.pipe)(t.get(),i.map(e=>e.name===m.a.StepName.initial),i.getOrElse(a.constFalse))&&!b.has(m.a.StepName.initialBTS)&&!n.initialBTS[v].completed&&void 0===n.initialBTS[v].lastSeen,o=!b.has(m.a.StepName.initial)&&!n.initial[v].completed&&void 0===n.initial[v].lastSeen&&!n.initialBTS[v].completed&&void 0===n.initialBTS[v].lastSeen,s=!b.has(m.a.StepName.rewrite)&&!n.rewrite[v].completed&&(n.initial[v].completed||n.initialBTS[v].completed)&&r>=30;return e?i.some(m.a.StepName.initialBTS):o?i.some(m.a.StepName.initial):s?i.some(m.a.StepName.rewrite):i.none}return f.a.Step.anyClientCompleted(n.prompts)||b.has(m.a.StepName.prompts)?f.a.Step.anyClientCompleted(n.review)||b.has(m.a.StepName.review)?f.a.Step.anyClientCompleted(n.history)||b.has(m.a.StepName.history)||!g(o)?f.a.Step.anyClientCompleted(n.knowledgeHub)||b.has(m.a.StepName.knowledgeHub)||!g(o)?f.a.Step.anyClientCompleted(n.references)||b.has(m.a.StepName.references)||!g(o)?i.none:i.some(m.a.StepName.references):i.some(m.a.StepName.knowledgeHub):i.some(m.a.StepName.history):i.some(m.a.StepName.review):i.some(m.a.StepName.prompts)}))).subscribe(c.b.toAtom(this._nextCandidateStep))),this._subs.add(this._params.assistantMountActions.subscribe(({name:e,element:t})=>this._assistantElements.modify(n=>Object.assign(Object.assign({},n),{[e]:{reference:t,placement:e===p.a.historyButton?"bottom":"left"}})))),this._subs.add(this._params.assistantUnmountActions.subscribe(({name:e})=>this._assistantElements.modify(t=>Object.assign(Object.assign({},t),{[e]:void 0})))),this._subs.add(this._params.externalElements.subscribe(c.b.toAtom(this._externalElements))),this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(c.b.toAtom(this._hideAssistantTooltips))),this._subs.add(this.activeStep.pipe(l.b.compact).subscribe(e=>this.stepsSeenOnThisSession.modify(t=>new Set([...t,e.name])))),this._subs.add(this._params.session.pipe(l.a.map(i.isSome),l.a.startWith(!1),l.a.pairwise(),l.a.filter(([e,t])=>e&&!t)).subscribe(()=>this._assistantElements.set({})))}notify(e){this._uiActions.next(e)}dispose(){this._subs.unsubscribe()}}function g(e){return Object(a.pipe)(e,i.fold(a.constFalse,({prompts:e,review:t})=>{const n={prompts:f.a.Step.anyClientCompleted(e),review:f.a.Step.anyClientCompleted(t)};return Object.values(n).every(a.identity)}))}},"9QYy":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("4GyQ"),l=n("TKPA"),u=n("mgiE"),d=n("111I"),p=n("nWMp"),m=n("QQOt"),f=n("ZDrO"),h=n("xk6L");!function(e){let t;function n(e){return d.b.List.make(f.a.Sorted.getFoldableWithIndex(),p(e))}!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.cardListContent=n,e.cardList=function(e){return d.b.Knot.make(r,{content:n(e)})};var r=e.ScrollableBox=d.b.Grid.make(({notify:e,view:n,slots:r})=>o.createElement(s.a.div,Object(a._)(Object(i._)({},Object(c.c)(n("disableUserActions").pipe(h.a.map(Object(l.c)(b.disableUserActions,void 0))),b.scrollContent)),{"data-purpose":"scrollable-box",style:{height:n("height")},mount:n=>e({kind:t.onMount,element:u.g.fromNullable(n)})()}),r.content));function p(e){return d.b.Knot.make(v,{cell:d.b.Knot.make(m.a.Cell,{item:d.b.Composite.make(g,e)})})}e.cell=p;var g=e.CardStyleProvider=d.b.Grid.make(({slots:e})=>o.createElement("div",{className:b.cardWrapper},e.children)),v=e.IdProvider=d.b.Grid.make(({slots:e,state:t})=>o.createElement(s.a.div,{"data-id":t},e.cell))}(r||(r={}));const g={margin:p.a.rem(.5)+" 0",background:"none",userSelect:"none",$nest:{"&:before":{position:"absolute",left:p.a.rem(-.5),width:p.a.rem(.5),height:p.a.percent(100),background:"none",content:"''"}}},b=p.a.stylesheet({scrollContent:[{position:"relative",boxSizing:"content-box"}],disableUserActions:[{pointerEvents:"none"}],cardWrapper:[g]})},"9UJa":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("a5gI"),i=n("KqOJ"),a=n("8h56"),o=n("tiWp"),s=n("0kuo"),c=n("TKPA"),l=n("mgiE"),u=n("M3t0"),d=n("D2TP"),p=n("xk6L"),m=n("yIk2"),f=n("hzat"),h=n("mDV6"),g=n("d3CI"),b=n("IJtK");class v{dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_effectToApplicator(e){switch(e.type){case g.e.Effect.Type.Applicator:case g.e.Effect.Type.ItemsApplicator:return e.source;case g.e.Effect.Type.SwitchLens:return e.source.pipe(p.a.tap(e=>this._switchLensActions.next(e)),p.a.switchMapTo(p.a.NEVER));case g.e.Effect.Type.SwitchAlert:return e.source.pipe(p.a.tap(e=>this._switchAlertActions.next(e)),p.a.switchMapTo(p.a.NEVER));default:return Object(s.c)(e)}}_checkState(e){try{if(g.e.hasCards(e)){const t=e.currentLens.items.filter(Object(c.b)(h.a.isAnimatable,h.a.isFocused));Object(s.f)(t.size<=1,"cannot have more than one focused card",()=>JSON.stringify(t))}}catch(e){return l.b.left(e)}return l.b.right(void 0)}constructor(e,t,n,s,h,v,y){Object(r._)(this,"_state",void 0),Object(r._)(this,"_stateProvider",void 0),Object(r._)(this,"_alertsReader",void 0),Object(r._)(this,"_alertsService",void 0),Object(r._)(this,"_stateSideEffects",void 0),Object(r._)(this,"_getActiveAlert",void 0),Object(r._)(this,"_stateTransformer",void 0),Object(r._)(this,"focusLens",void 0),Object(r._)(this,"focusAlert",void 0),Object(r._)(this,"_log",void 0),Object(r._)(this,"_ts",void 0),Object(r._)(this,"_switchLensActions",void 0),Object(r._)(this,"_switchAlertActions",void 0),Object(r._)(this,"_addMetadata",void 0),Object(r._)(this,"_focusLensEffect",void 0),Object(r._)(this,"_focusAlertEffect",void 0),Object(r._)(this,"_subs",void 0),Object(r._)(this,"_effects",void 0),this._state=e,this._stateProvider=t,this._alertsReader=n,this._alertsService=s,this._stateSideEffects=h,this._getActiveAlert=v,this._stateTransformer=y,this.focusLens=(e,t,n={toFocus:g.d.defaultOptions.focusBehavior})=>{this._log.debug("focusLens "+e),this._switchLensActions.next({lensId:e,alertSource:t,options:n})},this.focusAlert=(e,t,n)=>{this._switchAlertActions.next({alertHighlight:e,alertSource:t,options:{order:n}})},this._log=u.d.Logging.getLogger("FocusedLensManagerImpl"),this._ts=u.d.TimeSeries.rootFemetrics.getMetric("lens_state.manager"),this._switchLensActions=new p.a.Subject,this._switchAlertActions=new p.a.Subject,this._addMetadata=e=>t=>t.pipe(p.a.map(t=>({source:t,metadata:e}))),this._focusLensEffect=({lensId:e,alertSource:t,options:{toFocus:n=g.d.defaultOptions.focusBehavior,order:r}})=>{if(this._log.debug("_focusLensEffect ",{alertSource:t,lensId:e}),d.a.isClosedId(e))return Object(o.pipe)(p.a.of(g.e.Effect.Applicator.Source.override(Object(b.c)())),this._addMetadata({sourceId:"LSM.focusLensEffect"}));if(d.a.isDraftAIId(e)||d.a.isCheetah(e)){const t=d.a.isCheetah(e)?Object(b.b)():Object(b.d)();return Object(o.pipe)(p.a.of(g.e.Effect.Applicator.Source.override(t)),this._addMetadata({sourceId:"LSM.focusLensEffect"}))}const i=this._state.get(),a=i.patch({switchOrder:Boolean(r)?r:i.switchOrder,alertSource:t});return Object(o.pipe)(this._stateProvider.getLensEventsByLensId(a,e,{focusBehavior:n}),this._addMetadata({sourceId:"LSM.focusLensEffect"}))},this._focusAlertEffect=({alertHighlight:e,alertSource:t,options:n})=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace(`focusAlert(${e.alert})`);const r=this._state.get(),i=r.patch({switchOrder:Boolean(n.order)?n.order:r.switchOrder,alertSource:t});return Object(o.pipe)(this._stateProvider.getLensEventsByAlert(i,function(e,t,n){if(e===d.a.SpecialId.PredictionTakeaways||e===d.a.SpecialId.PredictionEmogenie||e===d.a.SpecialId.RealTimeProofit||e===d.a.SpecialId.FreePremiumAlerts)return e;if(void 0!==n)return n;if(e===d.a.SpecialId.Closed||e===d.a.SpecialId.AllAlerts)return d.a.SpecialId.AllAlerts;return t}(r.currentLens.id,e.alert.lensId,n.lensId),e),this._addMetadata({sourceId:"LSM.focusAlertEffect"}))};const O=this._state.get(),_=this._stateTransformer,C=new p.a.BehaviorSubject(O);this._effects=p.a.mergeStatic(...this._stateSideEffects.map(({when:e,what:t,id:n})=>this._state.view("currentLens","id").view(e).pipe(p.a.switchMap(m.b.orEmpty(Object(o.pipe)(this._effectToApplicator(t),this._addMetadata({sourceId:n})))))),p.a.mergeStatic(this._switchAlertActions.pipe(p.a.map(this._focusAlertEffect)),this._switchLensActions.pipe(p.a.map(this._focusLensEffect))).pipe(p.a.switchAll()));const w=this._ts.getTimer("batched.long_state_change"),S=l.c.getStructEq({activeAlert:l.g.getEq(f.a.eq),lensId:l.c.eqString});this._subs=[this._effects.pipe(p.a.catchError((e,t)=>(this._log.error("Got error from effects: ",e),t)),p.a.withLatestFrom(C,({source:e,metadata:t},n)=>({state:e(n),metadata:t})),p.a.catchError((e,t)=>(this._log.error("Got error while applying new state: ",e),t)),p.a.tap(e=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace("lens state before state transformer: ",e)}),p.a.map(_),p.a.catchError((e,t)=>(this._log.error("Got error while transforming state: ",e),t))).subscribe(e=>Object(o.pipe)(e,l.b.fold(({state:e,metadata:t})=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace("lens state from: "+t.sourceId,e),Object(o.pipe)(this._checkState(e),l.b.fold(t=>this._log.error("incorrect state transition detected",{error:t,state:e}),()=>C.next(e)))},l.b.fold(e=>this._switchAlertActions.next(e),e=>this._switchLensActions.next(e))))),Object(o.pipe)(C,p.a.map(e=>({activeAlert:g.e.getActiveAlert(this._getActiveAlert)(e),lensId:e.currentLens.id})),p.a.tap(e=>this._log.trace("active alert: ",e.activeAlert)),p.a.distinctUntilChanged(S.equals),p.a.switchMap(({activeAlert:e,lensId:t})=>Object(o.pipe)(e,m.b.observeIfExists(e=>Object(o.pipe)(this._alertsService.takeReference(e,"activeCard_"+t),l.b.mapLeft(e=>this._log.error("can not take alertRef",e)),l.b.fold(a.i(c.e),e=>e.dispose)))))).subscribe(),C.subscribe(e=>{const t=performance.now();i.unstable_batchedUpdates(()=>{this._state.set(e)});const n=performance.now()-t;n>16&&w.recordTime(n)})],g.e.hasCards(O)&&Object(o.pipe)(g.e.getActiveAlertHighlight(this._getActiveAlert)(O),l.g.filter(e=>this._alertsReader.isRegistered(e.alert.id)),l.g.fold(()=>this._switchLensActions.next({lensId:O.currentLens.id,alertSource:O.alertSource,options:{order:O.switchOrder,toFocus:g.e.Effect.FocusBehavior.noFocus}}),e=>this._switchAlertActions.next({alertHighlight:e,alertSource:O.alertSource,options:{lensId:O.currentLens.id,order:O.switchOrder}})))}}Object(r._)(v,"toLensAlert",({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:e.lensId}))},"9ZiH":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("cZKX"),a=n("DTwm"),o=n("xk6L"),s=n("iVUr"),c=n("mDV6"),l=n("mgiE"),u=n("TKPA"),d=n("0kuo"),p=n("K40b"),m=n("l5lb"),f=n("hzat"),h=n("Hj2R"),g=n("D2TP"),b=n("KH+i"),v=n("phaH"),y=n("Eow2"),O=n("p622"),_=n("8XoQ"),C=n("d3CI"),w=n("ZDrO"),S=n("YqJ0");function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}!function(e){var t,n=function(e){return"".concat(e.id)};e.isAlertRefSDUIItem=function(e){return e.kind===k},function(e){var t=function(e){return"strongAlertRef"===e.type};e.isBulkAcceptSDUI=function(e){return Object(a.pipe)(e.cardDSL,l.g.exists(Object(u.b)(t,(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.value)===m.a.ComponentKnownName.StrongAlertRefBulkAccept}))))},e.isBulkDismissSDUI=function(e){return Object(a.pipe)(e.cardDSL,l.g.exists(Object(u.b)(t,(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.value)===m.a.ComponentKnownName.StrongAlertRefBulkDismiss}))))},e.isLongFormCardSDUI=Object(a.flow)((function(e){return e.cardDSL}),l.g.exists((function(e){return"longFormCard"===e.type})))}(t=e.Item||(e.Item={})),function(e){e.BulkDismiss="bulk_dismiss",e.BulkAccept="bulk_accept"}(e.Features||(e.Features={}));var r,k=e.Kind="AlertRefSDUIItem",x=l.c.fromEquals((function(e,t){return e.hashCode()===t.hashCode()&&y.a.eq.equals(e.positionState,t.positionState)&&S.b.eq.equals(e.visualState,t.visualState)&&i.eb(f.a.eq).equals(e.alerts,t.alerts)&&e.activeAlertIndex===t.activeAlertIndex})),A=e.idEq={equals:function(e,t){return l.c.eqString.equals(e,t)}},I=e.eq={equals:function(e,t){return A.equals(e.id,t.id)&&x.equals(e,t)&&O.a.eq.equals(e,t)}};e.getId=n,function(e){e.createItem=function(e,t,n){return{id:e,kind:k,alerts:n,activeAlertIndex:0,cardDSL:l.g.some(t),prevCardDSL:l.g.none,transitions:[],positionState:s.a.PositionState.empty,visualState:c.a.VisualState.initial({type:"added",clockwise:!0},!0),renderOptions:b.a.defaultOptions,equals:function(e){return I.equals(this,e)},hashCode:function(){return Object(v.a)({id:this.id,alertsCount:this.alerts.length,transitions:Object(v.b)(this.transitions.map((function(e){return e.toName})).join("")),activeAlertIndex:this.activeAlertIndex})}}},e.setActiveAlertId=function(e){return function(t){return Object(a.pipe)(t.alerts,i.U((function(t){return t.id===e})),l.g.map((function(e){return j(E({},t),{activeAlertIndex:e})})))}},e.setActiveHighlightIndex=function(e){return function(t){return Object(a.pipe)(t,l.g.fromPredicate(T),l.g.alt((function(){return M(t)})),l.g.map((function(t){return j(E({},t),{activeHighlightIndex:e})})))}};var n=c.a.Capabilities.getPojoUpdates(),o=e.pojoSDUI=O.a.Capabilities.getPojoUpdates(),p=s.a.Capabilities.getPojoUpdates(),m=e.changePosition=p.setPosition,g=e.updateSDUIState=o.setSDUIState,y=e.sduiSelect=O.a.Capabilities.getSelect(g),C=function(e){return function(t){return Object(a.pipe)(e,l.g.exists((function(e){return t.id===e.id})))?t:m(s.a.PositionState.invalidateHeight(t.positionState))(t)}},w=function(e,t){return Object(a.flow)(y(e,t),x.transitionTo({type:"focused",clockwise:!1}),C(e))},S=(e.select={selectByAlert:function(e,t,n){return w(e,n)},select:w,unselect:function(e){return Object(a.flow)(x.transitionTo({type:"rendered",clockwise:!1}),C(e))}},e.hasAlerts={hasActiveAlert:function(e){return Object(a.pipe)(e,l.g.fromPredicate(Object(u.m)(t.isBulkDismissSDUI)),l.g.chain((function(e){return l.g.fromNullable(e.alerts[e.activeAlertIndex])})),l.g.map((function(t){return{alert:t,highlightIndex:T(e)?e.activeHighlightIndex:0}})))},hasAlert:function(e){return function(t){return void 0!==t.alerts.find((function(t){return t.id===e}))}},isSelectableByAlert:function(e){return function(t){return 1===t.alerts.length&&t.alerts[0].id===e.alert.id}}},O.a.Capabilities.getCompleteTransition(g)),x=e.animatable={completeTransition:function(e){return function(t){return Object(a.pipe)(t,n.setVisualState(c.a.VisualState.complete(t.visualState,e)),S)}},transitionTo:function(e){return function(t){var r=c.a.VisualState.to(t.visualState,e);return n.setVisualState(r)(t)}},changeVisualState:n.setVisualState},A=e.remove={remove:function(e,t){return function(n){return e(n)?x.transitionTo({type:"removed",clockwise:t(n)})(n):n}}};e.removeAlert={removeAlertFromItem:function(e){return function(t){var n=new Set(e.map((function(e){return e.id}))),r=t.alerts.filter((function(e){return!n.has(e.id)}));return Object(a.pipe)(j(E({},t),{alerts:r}),(function(e){return 0===e.alerts.length?x.transitionTo({type:"removed",clockwise:!1})(e):e}))}}},e.updateWithAlert={updateWithAlerts:function(e){return function(t){var n=new Set(t.alerts.map((function(e){return e.id}))),r=new Set(e.map((function(e){return e.id}))),i=Object(a.pipe)(e,l.a.partition((function(e){return n.has(e.id)}))),o=i.left,s=i.right,c=function(e,t){switch(e.state.type){case h.a.State.Type.REGISTERED:return t;case h.a.State.Type.REMOVED:return"focused"===t.visualState.transition.type&&0===t.alerts.length?A.remove(a.constTrue,a.constTrue)(t):t;case h.a.State.Type.APPLIED:case h.a.State.Type.BEING_APPLIED:return A.remove(a.constTrue,a.constTrue)(t);default:return Object(d.c)(e.state)}},u=t,p=!0,m=!1,g=void 0;try{for(var b,v=s[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){u=c(b.value,u)}}catch(e){m=!0,g=e}finally{try{p||null==v.return||v.return()}finally{if(m)throw g}}return j(E({},u),{alerts:u.alerts.filter((function(e){return r.has(e.id)})).concat(o.map(f.a.fromModel))})}}},e.disposable={isScheduledToDispose:function(e){return"removed"===e.visualState.transition.type}};function T(e){return"activeAlert"in e&&"activeHighlightIndex"in e}function M(e){return Object(a.pipe)(r.hasAlerts.hasActiveAlert(e),l.g.map((function(t){return j(E({},e),{activeAlert:t.alert,activeHighlightIndex:t.highlightIndex,meta:_.a.empty(void 0)})})))}e.isAlertItem=T,e.toAlertItem=M}(r=e.Capabilities||(e.Capabilities={})),function(e){var t=function(e,t,n){return function(i){var a=r.createItem(e,t,n.map(f.a.fromModel)),o=i.items.add(a),s=C.k.getActiveItemIndex(o)(i);return j(E({},i),{items:o,cardIndex:s})}};e.createSDUIFeedSideEffect=function(e,s,c,u){return{id:"sduiFeedEffect",when:g.a.isWithAlertsId,what:C.e.Effect.ItemsApplicator.create(s.pipe(o.a.map((function(o){var s=o.cards,d=o.feedOrd,m=o.itemIdToSelect;return function(o){var f=Object(a.pipe)(s,p.a.filter((function(e){return o.currentLens.items.has(n(e))}),a.constTrue,a.constTrue),p.a.reduce(o.currentLens,(function(t,r){return function(e,t){return function(n){var r=n.items.keys().indexOf(e),i=n.items.remove(e),o=Object(a.pipe)(n.cardIndex,l.g.map((function(e){return e>r?e-1:e})),l.g.chain(l.g.fromPredicate((function(e){return l.g.isSome(i.getAt(e))}))),l.g.fold((function(){return Object(a.pipe)(t.findNextAlert(n),l.g.map((function(e){return t.selectItemByAlert(e)(n)})),l.g.chain(l.g.fromPredicate((function(e){return Object(a.pipe)(e.cardIndex,l.g.fold((function(){return!0}),(function(e){return l.g.isSome(i.getAt(e))})))}))),l.g.getOrElse((function(){return j(E({},n),{cardIndex:l.g.none})})))}),(function(e){return j(E({},n),{cardIndex:l.g.some(e)})})));return j(E({},o),{items:i})}}(n(r),e)(t)}),(function(e,o,s){return Object(a.pipe)(s.alertIds,i.cc(l.g.option)((function(e){return Object(a.pipe)(u.getById("".concat(e)))})),l.g.fold((function(){return e}),(function(i){return function(e,n,i){return function(o){var s=Object(a.pipe)(o.items.update(e,Object(a.flow)(r.updateWithAlert.updateWithAlerts(i),r.pojoSDUI.setDSL(l.g.some(n)))),l.b.getOrElse((function(){return t(e,n,i)(o).items})));return j(E({},o),{items:s})}}(n(s),s.content,i)(e)})))}),(function(e,r){return Object(a.pipe)(r.alertIds,i.cc(l.g.option)((function(e){return Object(a.pipe)(u.getById("".concat(e)))})),l.g.fold((function(){return e}),(function(i){return t(n(r),r.content,i)(e)})))}))),h=c(d),g=f.items.reduce((function(e,t){return e.add(t)}),w.a.Sorted.empty((function(e){return e.id}),h.compare)),b=j(E({},f),{items:g,itemsOrd:h}),v=Object(a.pipe)(m,l.g.chain((function(e){var t=g.find((function(t){return t.id===e}));return l.g.isSome(t)?l.g.some(e):Object(a.pipe)(g.getAt(0),l.g.map((function(e){return e.id})))})),l.g.fold((function(){return b}),(function(t){return e.selectItemById(t)(b)})));return o.patch({currentLens:v,switchOrder:"lensOrder"})}}))))}}}(e.SideEffects||(e.SideEffects={}))}(r||(r={}))},"9bwL":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f}));var r=n("B8yO"),i=n("0Qjk"),a=n("NDcT"),o=n("fC5a"),s=n("ySi0"),c=n("ZDrO"),l=n("SOPW"),u=n("itj6"),d=n("4Yir");const p=({card:{activeAlert:e,id:t,visualState:n},actions:p,mode:m,className:h,disabled:g})=>{const b=r.useContext(a.a.Context),v="mini"===m?f(n,b):"";return r.createElement(o.a.Tertiary,{key:"toggle-more",name:f(n,b),title:v,"aria-label":v,className:h,disabled:g,onClick:c.d.callOnce(()=>{const r=l.a.isCardOpen(n);p.next({type:u.a.Kind.startTransitionTo,id:t,transition:{type:r?"focused":"expanded",clockwise:!0}}),r||p.next({type:u.b.Type.alertFeedback,alertId:e.id,feedbackType:i.a.AlertFeedbackType.EXPANDED})})},l.a.isCardOpen(n)?r.createElement(s.d.Arrow,{key:"more",className:d.a.lessIcon}):r.createElement(s.d.QuestionMark,{key:"expand"}),"default"===m&&f(n,b))},m=({visualState:e,children:t,className:n})=>r.createElement("div",{className:(l.a.isCardOpen(e)?d.a.more:d.a.moreHidden)+" "+n},t);function f(e,t){const n=t.card;return l.a.isCardOpen(e)?n.less:n.more}},"9pXQ":function(e,t,n){e.exports=n.p+"files/f3eff5948418ea16f395ca03499aad13/mutedAlerts.png"},"9rYQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return y}));var r,i,a=n("a5gI"),o=n("tiWp"),s=n("/edk"),c=n("eGLn"),l=n("B/Ki"),u=n("fr9z"),d=n("RRF2"),p=n("mgiE"),m=n("0kuo"),f=n("TKPA"),h=n("M3t0"),g=n("xk6L");function b(e){return null===e||d.f.isBreakWordChar(e.charCodeAt(0))}class v{pushChanges(e){s.a.isReset(e)?this._textLength=e.length:s.a.isDelta(e)&&(this._verify&&Object(c.g)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}constructor(e=0,t=!1){Object(a._)(this,"_textLength",void 0),Object(a._)(this,"_verify",void 0),this._textLength=e,this._verify=t}}!function(e){e.create=e=>u.b.compose({id:e})}(r||(r={})),function(e){class t{registerRange(e,t){return r.create(e)(t)}deregisterRange(e){return u.b.empty}findClosestToPosition(e,t){return p.g.none}findRanges(e){return[]}widen(e){return Object(o.pipe)(e,e=>u.b.alterLeft(e,1),p.b.chain(e=>u.b.alterRight(e,1)),p.b.unsafeGet)}narrow(e){return Object(o.pipe)(e,p.g.fromPredicate(e=>u.b.size(e)>1),p.g.map(e=>Object(o.pipe)(e,e=>u.b.alterLeft(e,-1),p.b.chain(e=>u.b.alterRight(e,-1)),p.b.unsafeGet)))}}e.RangeManagerMock=t;e.mock=new t}(i||(i={}));class y{pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=((e,t)=>{let n=0;const r=new Map;if(s.a.isFlush(e))return{affected:[],changed:[]};let i=t.length+1;return s.a.isReset(e)?t.forEach(e=>{e.start=0,e.end=0,r.set(e.meta.id,e)}):e.delta.ops.forEach(e=>{if(l.a.isRetain(e))n+=e.retain;else if(l.a.isInsert(e)){const a=n,o=d.a.lowerBound(t,e=>e.end<a),s=e.insert,c="string"==typeof s?s.length:1;if(n+=c,p.g.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,n="string"==typeof s?s.charAt(0):null;for(let i=o.value;i<t.length;++i){const o=t[i];o.start<a?o.end===a?b(n)||r.set(o.meta.id,o):(r.set(o.meta.id,o),o.end+=c):o.start===o.end&&o.end===a?b(n)||r.set(o.meta.id,o):(o.start!==a||b(e)||r.set(o.meta.id,o),o.start+=c,o.end+=c)}i>o.value&&(i=o.value)}}else if(l.a.isDelete(e)){const a=n,o=d.a.lowerBound(t,e=>e.end<=a);if(p.g.isSome(o)){const n=a+e.delete;for(let i=o.value;i<t.length;++i){const o=t[i];o.start,o.start<n?(r.set(o.meta.id,o),o.start<a?o.end=o.end-Math.min(e.delete,o.end-a):o.end<=n?(o.start=a,o.end=a):(o.start=a,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}i>o.value&&(i=o.value)}}}),{changed:t.slice(i),affected:Array.from(r.values())}})(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const n={changed:t.changed,affected:t.affected.map(e=>this.getRange(e.meta.id))};return this._enableMPTE&&n.affected.length>0?this.rangeChangedMPTE.next(n.affected):(n.changed.length>0||n.affected.length>0)&&this._rangeChanged.next(n),n}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const n=r.create(e)(t);return this._validateRange(n),this._ranges.set(e,n),this._rangesArray.push(n),this._rangesArray.sort(u.b.ord.compare),n}_validateRange(e){u.b.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return Object(o.pipe)(d.a.lowerBound(this._rangesArray,e=>e.end<t.end),p.g.getOrElse(()=>this._rangesArray.length),n=>{let r=n;for(;r<this._rangesArray.length&&this._rangesArray[r].meta.id!==e;)r++;return Object(m.f)(r<this._rangesArray.length&&this._rangesArray[r].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(r,1),t})}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return p.g.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return Object(o.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.end),p.g.getOrElse(()=>this._rangesArray.length),n=>{let r=n;for(;r<this._rangesArray.length&&this._rangesArray[r].end===e.end;)this._rangesArray[r].start===e.start&&t.push(this._rangesArray[r]),r++;return t})}findIntersections(e){const t=[];return Object(o.pipe)(d.a.lowerBound(this._rangesArray,t=>t.end<e.start),p.g.getOrElse(()=>this._rangesArray.length),n=>{let r=n;for(;r<this._rangesArray.length;){const n=this._rangesArray[r];n.end>e.start&&e.end>n.start&&t.push(this._rangesArray[r]),r++}return t})}findClosestToPosition(e,t){const n=this._rangesArray.filter(t);return Object(o.pipe)(d.a.lowerBound(n,t=>e>=t.end),p.g.getOrElse(()=>n.length),t=>{const r=p.g.fromNullable(n[t]),i=p.g.fromNullable(n[t-1]);return Object(o.pipe)(r,p.g.map(t=>Object(o.pipe)(i,p.g.fold(()=>t,n=>t.start-e<=e-n.end?t:n))),p.g.orElse(i))})}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(h.a.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(u.b.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}constructor(e=0,t=!1,n=!1){Object(a._)(this,"_enableMPTE",void 0),Object(a._)(this,"_strictMode",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_verifyState",void 0),Object(a._)(this,"_lenCalc",void 0),Object(a._)(this,"_ranges",void 0),Object(a._)(this,"_rangesArray",void 0),Object(a._)(this,"_rangeChanged",void 0),Object(a._)(this,"rangeChanged",void 0),Object(a._)(this,"rangeChangedMPTE",void 0),Object(a._)(this,"widen",void 0),Object(a._)(this,"narrow",void 0),this._enableMPTE=t,this._strictMode=n,this._log=h.d.Logging.getLogger("position_manager",h.a.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(h.a.LogLevel.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new g.a.Subject,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new g.a.Subject,this.widen=e=>(this._validateRange(e),Object(o.pipe)(e,e=>u.b.alterLeft(e,e.start<=0?0:1),p.b.chain(e=>u.b.alterRight(e,e.end>=this._lenCalc.textLength?0:1)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))),this.narrow=e=>(this._validateRange(e),Object(o.pipe)(e,p.g.fromPredicate(e=>u.b.size(e)>1),p.g.map(e=>Object(o.pipe)(e,e=>u.b.alterLeft(e,e.meta.increasedLeft>0?-1:0),p.b.chain(e=>u.b.alterRight(e,e.meta.increasedRight>0?-1:0)),p.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))))),this._lenCalc=new v(e,this._verifyState),Object(f.r)("positions",()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()})}}},"9raK":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("000W"),i=n("U9Go"),a=n("DTwm"),o=n("FA0h"),s=n("j8jx"),c=i.i,l=i.g,u=i.e;i.j((function(e,t){return e.length===t.length})),i.j((function(e,t){for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;return!0}));var d=i.l,p=d;var m=o.h,f=r.jb,h=i.m;var g=a.identity,b={URI:i.b,literal:function(){return i.h},string:c,number:l,boolean:u,nullable:function(e){return{equals:function(t,n){return null===t||null===n?t===n:e.equals(t,n)}}},type:p,struct:d,partial:function(e){return{equals:function(t,n){for(var r in e){var i=t[r],a=n[r];if(!(void 0===i||void 0===a?i===a:e[r].equals(i,a)))return!1}return!0}}},record:m,array:f,tuple:h,intersect:function(e){return function(t){return{equals:function(n,r){return t.equals(n,r)&&e.equals(n,r)}}}},sum:function(e){return function(t){return{equals:function(n,r){var i=n[e];return i===r[e]&&t[i].equals(n,r)}}}},lazy:function(e,t){return function(e){var t=Object(s.b)(e);return{equals:function(e,n){return t().equals(e,n)}}}(t)},readonly:g}},"A/YC":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return g}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("xk6L"),d=n("phaH"),p=n("iVUr"),m=n("KH+i"),f=n("mgiE"),h=n("0kuo");!function(e){e.id="DraftAIItemId",e.Kind="DraftAIItem",e.eq=f.c.fromEquals((function(e,t){return p.a.PositionState.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState}));e.isDraftAIItem=function(e){return e.id===r.id};e.changePosition=function(e){return function(t){return new b(e.visibilityState,t)}},e.clone=function(e){return new b(e.visibilityState,e.positionState)},e.createCard=function(e){return function(){return Object(c.pipe)(e,f.g.fold((function(){return new b("visible",p.a.PositionState.changeWatched(p.a.PositionState.empty,!0))}),(function(e){return new b(e.visibilityState,e.positionState)})))}}}(r||(r={}));var g,b=function(){function e(t,n){Object(i.a)(this,e),Object(o._)(this,"visibilityState",void 0),Object(o._)(this,"positionState",void 0),Object(o._)(this,"kind",void 0),Object(o._)(this,"id",void 0),Object(o._)(this,"renderOptions",void 0),this.visibilityState=t,this.positionState=n,this.kind=r.Kind,this.id=r.id,this.renderOptions=m.a.defaultOptions}return Object(a.a)(e,[{key:"equals",value:function(e){return r.eq.equals(this,e)}},{key:"hashCode",value:function(){return Object(d.a)({positionState:JSON.stringify(this.positionState),visibilityState:this.visibilityState})}}]),e}();!function(e){var t;!function(e){var n;!function(e){e.draftAIMiniCardClick="draftAIMiniCardClick",e.draftAIMiniCardMount="draftAIMiniCardMount"}(n=e.Kind||(e.Kind={})),function(e){!function(e){e.collapsed="collapsed",e.expanded="expanded"}(e.NextState||(e.NextState={}))}(e.ToggleNonPriorityCards||(e.ToggleNonPriorityCards={}));e.match=function(e){return function(t){switch(t.kind){case n.draftAIMiniCardMount:return e.onMount(t);case n.draftAIMiniCardClick:return e.onCardClick(t);default:return Object(h.c)(t)}}};e.isMiniCardClick=function(e){return e.kind===t.Kind.draftAIMiniCardClick}}(t=e.Event||(e.Event={}));e.create=function(e){var r=new u.a.Subject,i=l.a.create({node:f.g.none,title:e});return r.subscribe(Object(s.flow)(t.match({onMount:n,onCardClick:function(){return s.identity}}),i.modify.bind(i))),{state:i,events:r}};var n=function(e){return function(t){return{node:e.node,title:t.title}}}}(g||(g={}))},AAy5:function(e){e.exports=JSON.parse('{"content":"_07edb9d2-plagiarism-content","loader":"_5d611963-plagiarism-loader","loadingText":"_29746dd2-plagiarism-loadingText","originality100Text":"_3ae74a12-plagiarism-originality100Text _29746dd2-plagiarism-loadingText","illusration":"_8568962c-plagiarism-illusration"}')},AMg5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B8yO"),i=n("7IMz"),a=n("xk6L");function o(e){const{ref:t,onMount:n}=i.a.useElWatcher(),o=r.useMemo(()=>t.pipe(a.a.observeOn(a.a.asapScheduler),a.b.compact,a.a.distinctUntilChanged(),e),[t]);return i.a.useSubscriptionTo(o),{ref:t,onMount:n}}},AVfX:function(e){e.exports=JSON.parse('{"container":"_f04dcf08-gb-uphook-container","content":"_573ae2e4-gb-uphook-content","title":"_df4dc0ed-gb-uphook-title","image":"_dd8cbca1-gb-uphook-image","buttonsContainer":"_ccde066f-gb-uphook-buttonsContainer","ctaButton":"_fcb1b6c9-gb-uphook-ctaButton","dismissButton":"_d410f4aa-gb-uphook-dismissButton"}')},AVzG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("vGXj"),s=n("B8yO"),c=n("DTwm"),l=n("tiWp"),u=n("OwvP"),d=n("4GyQ"),p=n("xk6L"),m=n("yIk2"),f=n("JsWC"),h=n("RRF2"),g=n("0kuo"),b=n("mgiE"),v=n("TKPA"),y=n("2swC"),O=n("XQlQ"),_=n("nWMp"),C=n("7IMz");!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.middle)};case"topRight":return{align:"top",selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.right)};case"topLeft":return{align:"top",selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:f.a.Selector.preferBy("bottom",f.a.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:f.a.Selector.preferBy("bottom",f.a.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:f.a.Selector.preferBy("bottom",f.a.Selector.Placement.left)};case"left":return{align:"left",selector:f.a.Selector.preferBy("left",f.a.Selector.Placement.middle)};case"right":return{align:"right",selector:f.a.Selector.preferBy("right",f.a.Selector.Placement.middle)};case"auto":case"center":return{align:h.c.Rect.Axis.vertical,selector:f.a.Selector.preferBy("top",f.a.Selector.Placement.middle)};default:return Object(g.c)(e)}}}(t=e.Alignment||(e.Alignment={}));var n=e.ByPoint=e=>{var{point:t,className:n}=e,r=Object(o._)(e,["point","className"]);return s.createElement(u.a.div,Object(i._)({"data-role":"positioned-container",style:t.pipe(p.a.map(b.g.mapOrDefault(f.a.toCss,{})))},Object(d.c)(A.wrapper,n,t.pipe(p.a.map(e=>b.g.isNone(e)?A.hidden:""))),r))};const r=e=>{const{rect:t,onMount:r}=C.a.useRectWatcher(),i=m.b.toObservable(e.rect),a=m.b.toObservable(e.pinTargetRect),o=w(e.align);var l;const u=_(i,t,o,null!==(l=e.selector)&&void 0!==l?l:f.a.Selector.preferTopMiddle,a,"relative"===e.position);return s.createElement(n,{mount:r,className:e.className,point:u.pipe(p.a.map(b.g.map(e=>e.tangentialPoint)))},!0===e.withPin&&u.pipe(p.a.map(Object(c.flow)(b.g.chain(e=>e.median),b.g.map(e=>s.createElement(y,{point:e,key:"pin"})),b.g.toNullable))),e.children)};e.ByAbsoluteRect=e=>s.createElement(r,Object(a._)(Object(i._)({},e),{position:"absolute"})),e.ByRelativeRect=e=>s.createElement(r,Object(a._)(Object(i._)({},e),{position:"relative"}));var y=e.Pin=e=>{const t=m.b.toObservable(e.point).pipe(p.a.map(e=>e.side),p.a.map(e=>x[e])),n=m.b.toObservable(e.point).pipe(p.a.map(e=>e.point),p.a.map(({x:e,y:t})=>({top:t,left:e})));return s.createElement(u.a.i,Object(i._)({"data-role":"pin",style:n},Object(d.c)(t,x.wrapper)))};const _=(e,t,n,r,i,a)=>p.a.combineLatestStatic(e,s.useContext(O.a.Context).pipe(p.a.map(e=>e.rect)),t.pipe(p.a.distinctUntilChanged(b.g.getEq(h.c.Box.eq).equals)),i).pipe(p.a.map(([e,t,i,o])=>Object(l.pipe)(i,b.g.map(i=>{const s=f.a.QualifiedVariants.build(t,i,n(e));let c=r(s).point;const u=Object(l.pipe)(f.a.toRect(i,c),b.g.fromEither,b.g.chain(t=>Object(l.pipe)(h.c.Rect.getMedian(e,t),b.g.map(e=>({anchorMedian:e,bodyRect:t})))),b.g.chain(({anchorMedian:e,bodyRect:t})=>{if(void 0!==o){const n=h.c.Rect.stickToSide(h.c.Rect.Side.invert(e.side),o)(t);return c=f.a.fromRect(n),Object(l.pipe)(h.c.Rect.getMedian(o,n),b.g.map(({side:e,point:t})=>({side:e,point:h.c.Rect.Point.relativeTo(t,n)})))}return Object(l.pipe)(b.g.some(e),b.g.map(({side:e,point:n})=>({side:e,point:h.c.Rect.Point.relativeTo(n,t)})))}));return{tangentialPoint:f.a.relativeTo(c,a?e:t),median:u}})))),w=(e=h.c.Rect.Axis.both)=>Object(v.w)(h.c.Rect.Axis,e)?t=>f.a.Variants.byAxis(e,t):t=>({[e]:f.a.Zone.bySide(e,t)})}(r||(r={}));const w={position:"absolute",border:`${_.a.px(7)} solid ${y.a.BackgroundTooltip}`,transform:`translate(${_.a.px(-7)}, ${_.a.px(-7)})`},S={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${_.a.px(7)})`}}},k={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${_.a.px(-7)})`}}},E={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${_.a.px(-7)})`}}},j={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${_.a.px(7)})`}}},x=_.a.stylesheet({wrapper:[w],top:[S],right:[k],bottom:[E],left:[j]}),A=_.a.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},AcQZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("4GyQ"),s=n("2swC"),c=n("NDcT"),l=n("fC5a"),u=n("ySi0"),d=n("nWMp"),p=n("PltQ"),m=n("NbNH");const f=({upgradeAction:e,size:t,title:n,className:s,isEligibleForFreeTrial:d})=>{const p=a.useContext(c.a.Context),m=Boolean(d)?p.tryForFree:p.goPremium,f=Boolean(n)?n:m;return a.createElement(l.a,Object(i._)(Object(r._)({name:"upgrade"},Object(o.c)(s,"big"===t?j.baseBig:"link"===t?j.link:j.baseSmall)),{onClick:e}),"link"===t?a.createElement(u.d.PaidLink,{width:14,className:j.linkIcon}):a.createElement(u.d.Paid,{className:"big"===t?j.bigIcon:j.icon}),f)},h={display:"inline-flex",alignItems:"center",background:s.a.CoreGreen60,borderRadius:d.a.rem(m.t),boxShadow:"0 2px 5px "+d.a.color(p.j).fade(.35).toRGBA().toString(),color:s.a.CoreNeutral0,textTransform:"uppercase",letterSpacing:d.a.rem(m.h),fontWeight:"bold",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:d.a.color(s.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:d.a.color(s.a.CoreGreen60).tint(.2).toRGBA().toString()}}},g={padding:`0 ${d.a.rem(3)} 0 ${d.a.rem(2)}`,fontSize:d.a.rem(.8125),lineHeight:d.a.rem(3)},b={padding:`0 ${d.a.rem(1)} 0 ${d.a.rem(.5)}`,fontSize:d.a.rem(.6875),lineHeight:d.a.rem(2)},v={background:s.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:d.a.color(s.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:d.a.color(s.a.CoreGreen60).tint(.2).toRGBA().toString()}}},y={padding:`0 ${d.a.rem(3)} 0 ${d.a.rem(2)}`,fontSize:d.a.rem(.8125),lineHeight:d.a.rem(3)},O={padding:`0 ${d.a.rem(2)} 0 ${d.a.rem(.5)}`,fontSize:d.a.rem(.6875),lineHeight:d.a.rem(2)},_={fill:s.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:s.a.CoreNeutral0}}},C={marginRight:d.a.rem(.2)},w={display:"inline-flex",alignItems:"center",color:s.a.CoreGreen60,fontSize:d.a.rem(.75),transition:"transform .2s ease-out",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{transform:"scale(1.05)"},"&:not([data-disabled='true']):active":{transition:"none",transform:"scale(1)"}}},S={color:s.a.CoreGreen60},k={fill:s.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:s.a.CoreGreen60}}},E={fill:s.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:s.a.CoreGreen60}}},j=d.a.stylesheet({base:[h],baseBig:[h,g],baseSmall:[h,b],baseUpHookRedesign:[h,v],baseBigUpHookRedesign:[g,v,y],baseSmallUpHookRedesign:[b,v,O],icon:[_],bigIcon:[_,C],link:[w],linkUpHookRedesign:[w,S],linkIconUpHookRedesign:[k],linkIcon:[E]})},AvMM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("JOKA"),a=n("tiWp"),o=n("+vYo"),s=n("uxqH"),c=n("0kuo"),l=n("RRF2"),u=n("mgiE"),d=n("TKPA"),p=n("4UH3");!function(e){var t,n=function(e,n){var r=n.emogenie.popup.intensities;switch(e){case t.VeryStrong:return r.veryStrong;case t.Strong:return r.strong;case t.Moderate:return r.moderate;case t.Slight:return r.slight;default:return Object(c.c)(e)}};!function(e){e[e.Low=1]="Low",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate",e[e.Strong=4]="Strong",e[e.VeryStrong=5]="VeryStrong"}(t||(t={}));var r,m,f,h;e.intensitiesOrder=l.e.keys(t).map((function(e){return t[e]})).filter((function(e){return"number"==typeof e})).sort();!function(e){e.fromConfidence=function(e,n){var r=s.b.unwrap(e);return r<.25?t.Slight:r<.5?t.Moderate:r/n>.5?t.VeryStrong:t.Strong}}(r||(r={})),function(e){e.fromModel=function(e,t,i,o){var s=e.name,c=e.confidence,l=e.feedback,d=e.emoji,m=r.fromConfidence(c,i);return{emoji:d,name:s,intensity:m,intensityCaption:n(m,o),feedback:l,actions:{like:{name:"".concat(s,"-like"),tooltip:o.emogenie.popup.actions.like,active:Object(a.pipe)(l,u.g.exists((function(e){return e===p.a.FeedbackType.Like}))),disabled:u.g.isSome(l),handler:function(){return t(s,p.a.FeedbackType.Like)}},dislike:{name:"".concat(s,"-dislike"),tooltip:o.emogenie.popup.actions.dislike,active:Object(a.pipe)(l,u.g.exists((function(e){return e===p.a.FeedbackType.Dislike}))),disabled:u.g.isSome(l),handler:function(){return t(s,p.a.FeedbackType.Dislike)}}}}}}(m=e.Item||(e.Item={})),function(e){!function(e){e.Report="Report",e.ZeroState="ZeroState"}(e.Type||(e.Type={}));e.isReport=function(e){return e.type===f.Type.Report}}(f=e.View||(e.View={})),function(e){e.fromModel=function(e,t,n){var r=e.reduce((function(e,t){return e+s.b.unwrap(t.confidence)}),0),a=Object(i.a)(e.map((function(e){return m.fromModel(e,t,r,n)}))),o=a[0],c=a.slice(1);return{type:f.Type.Report,primaryItem:o,secondaryItems:c,onPopupClose:d.e,onPopupOpen:d.e}}}(h||(h={})),function(e){e.create=function(e,t,n){return{visualState:o.a.combine(e.emotions,t.documentLength.view("trimmed").view((function(e){return e<120})),(function(t,r){return r||0===t.length?{type:f.Type.ZeroState,tooltipText:r?u.g.some(n.emogenie.popup.textIsTooShortMessage):u.g.none}:h.fromModel(t,e.sendEmotionFeedback,n)}))}}}(e.ViewModel||(e.ViewModel={})),e.getIntensityTitle=n}(r||(r={}))},AyJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("B8yO"),i=n("2swC"),a=n("fC5a"),o=n("k4jz"),s=n("nWMp"),c=n("NbNH");const l=e=>r.createElement(a.a.Animated,Object(a.c)(e,p.gray)),u={position:"relative",display:"inline-block",overflow:"hidden",outline:"none",border:0,verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer"}}},d={overflow:"hidden",padding:"0 "+s.a.rem(.5),borderRadius:s.a.rem(c.t),backgroundColor:i.a.CoreNeutral60,color:i.a.CoreNeutral0,textTransform:"none",letterSpacing:s.a.rem(i.h.ButtonLetterSpacing),fontSize:s.a.rem(i.h.ButtonSize),lineHeight:s.a.rem(i.h.ButtonLineHeight),transitionDuration:s.a.seconds(.2),$nest:{"&[data-active='true'] > i[role='icon'] > svg, &:not([data-disabled='true']):hover > i[role='icon'] > svg, &:not([data-disabled='true'])[data-hovered='true'] > i[role='icon'] > svg":{fill:i.a.CoreNeutral0},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:i.a.CoreNeutral50,color:i.a.CoreNeutral0},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:i.a.CoreNeutral50,color:i.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:i.a.CoreNeutral50,color:i.a.CoreNeutral0}}},"&[data-disabled='true']":{backgroundColor:i.a.CoreNeutral60,color:i.a.CoreNeutral50},[`.${o.g} &`]:{padding:"0 "+s.a.rem(.5),marginRight:s.a.px(2),borderRadius:0,backgroundColor:i.a.CoreNeutral60,$nest:{"&:first-child":{borderRadius:`${s.a.rem(c.t)} 0 0 ${s.a.rem(c.t)}`},"&:last-child":{marginRight:0,borderRight:"none",borderRadius:`0 ${s.a.rem(c.t)} ${s.a.rem(c.t)} 0`},"&[data-active='true']":{backgroundColor:i.a.CoreBlue50,color:i.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:i.a.CoreBlue40,color:i.a.CoreNeutral0}}}}}}},p=s.a.stylesheet({button:[u],gray:[u,d]})},B8sb:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("E+R1"),l=n("DTwm"),u=n("tiWp"),d=n("/edk"),p=n("GMJx"),m=n("B/Ki"),f=n("mgiE"),h=function(){function e(t){var n=this;Object(r.a)(this,e),Object(a._)(this,"_ded",void 0),Object(a._)(this,"_pushChanges",void 0),Object(a._)(this,"_getContents",void 0),this._ded=t,this._pushChanges=function(e){return c.o((function(){return n._ded.pushChanges(d.a.delta(e,n._ded.getTextLength()),"user")}),f.b.toError)},this._getContents=Object(u.pipe)(c.o(this._ded.getContents,f.b.toError),f.l.fromIOEither)}return Object(i.a)(e,[{key:"selectedRange",get:function(){var e=this._ded.getCursor();return{start:e.index,end:e.length+e.index}}},{key:"replaceCurrentSelectionWith",value:function(e){return this.insertContent(e,{onNewLine:!1,replace:!0,preserveSelection:!1})}},{key:"insertContent",value:function(e,t){var n=this;return Object(u.pipe)(f.l.fromIO(this._ded.flushChanges),f.l.apSecond(Object(u.pipe)(f.l.fromIO((function(){var e=n.selectedRange,r=e.start,i=e.end;return{start:r,deleteDelta:t.replace&&i>r?(new p.a).delete(i-r):new p.a}})),f.l.map(Boolean(t.onNewLine)?b:g),f.l.ap(this._getContents))),f.l.chainFirst(Object(l.flow)((function(t){return(new p.a).retain(t.start).concat(e).concat(t.deleteDelta)}),this._pushChanges,f.l.fromIOEither)),f.l.chain((function(r){var i=r.start;return function(){return new Promise((function(r){return requestAnimationFrame((function(){return r(n._ded.setCursor(i,Boolean(t.preserveSelection)?e.length():0))}))}))}})))}}]),e}();function g(e){return function(){return e}}function b(e){var t=e.start,n=function(e){return m.a.isInsertString(e)&&e.insert.includes("\n")},r=m.a.findInDelta(n,(function(e){return e.insert.indexOf("\n")}));return function(i){return Object(u.pipe)(i,(function(e){return e.delta.slice(t)}),r,f.g.getOrElse((function(){return i.delta.length()})),function(e,r){return function(i){var a=r.delta,o=1;if(0===t)1===a.length()&&(o=0);else if(t>0&&n(a.slice(t-1,t).ops[0])){var s=a.slice(t,t+1).ops[0];Boolean(s)?n(s)&&(o=0):o=0}return e+i+o}}(t,i),(function(t){return Object(s._)(Object(o._)({},e),{start:t})}))}}},BFgw:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("OwvP"),s=n("0kuo"),c=n("2swC"),l=n("6Fzp"),u=n("M3t0"),d=n("NDcT"),p=n("fC5a"),m=n("IRug"),f=n("nWMp"),h=n("AyJj");const g={unauthorizedError:(e,t)=>a.createElement(b.UnauthorizedError,{action:t("gotoLogin")}),offline:(e,t)=>a.createElement(b.Offline,{reconnect:t("reconnect"),reconnectTime:e.args.reconnectTime}),serverError:()=>a.createElement(b.ServerError,null),connectionWSError:()=>a.createElement(b.ConnectionWSError,null),clientConnectionError:()=>a.createElement(b.ClientConnectionError,null),documentNotFoundError:(e,t)=>a.createElement(b.DocumentNotFoundError,{navigateToDocuments:t("navigateToDocuments")}),selfUpdate:()=>a.createElement(b.SelfUpdate,null),desktopHardUpdate:(e,t)=>a.createElement(b.DesktopHardUpdate,{reloadMethod:t("reloadMethod")}),desktopHardDownload:(e,t)=>a.createElement(b.DesktopHardDownload,{downloadMethod:t("downloadMethod")}),slowNetwork:()=>a.createElement(b.SlowNetworkError,null),checkingIsDown:()=>a.createElement(b.CheckingIsDownError,null),error:()=>a.createElement(b.Error,null),paymentSuccess:()=>a.createElement(b.PaymentSuccessMessage,null),paymentError:()=>a.createElement(b.PaymentErrorMessage,null),proofitPaymentDeclinedError:(e,t)=>a.createElement(b.ProofitPaymentDeclinedError,{paymentMethod:e.args.paymentMethod,navigateToSubscription:t("navigateToSubscription")}),proofitEmptyDocumentError:()=>a.createElement(b.ProofitEmptyDocumentError,null),proofitComplexInternalStructureError:(e,t)=>a.createElement(b.ProofitComplexInternalStructureError,{navigateToDocuments:t("navigateToDocuments")}),proofitDocumentProofreadError:(e,t)=>a.createElement(b.ProofitDocumentProofreadError,{navigateToDocuments:t("navigateToDocuments")}),copyToClipboardFailed:()=>a.createElement(b.CopyToClipboardError,null),proofitCancelled:()=>a.createElement(b.ProofitCancelled,null),proofitCompleted:e=>a.createElement(b.ProofitCompleted,{documentTitle:e.args.documentTitle,documentDownloadUrl:e.args.documentDownloadUrl,email:e.args.email}),denaliDocumentUploaded:(e,t)=>a.createElement(b.DenaliDocumentUploaded,{navigateToDocuments:t("navigateToDocuments")}),denaliFormattingCompatibility:()=>a.createElement(b.DenaliFormattingCompatibility,null),alertsNothingFound:()=>a.createElement(b.AlertsNothingFound,null),desktopSoftUpdate:(e,t)=>a.createElement(b.DesktopSoftUpdate,{reloadMethod:t("reloadMethod")}),desktopSoftDownload:(e,t)=>a.createElement(b.DesktopSoftDownload,{downloadMethod:t("downloadMethod")}),switchToDenali:()=>a.createElement(b.Generic,{type:_.switchToDenali}),feedbackSend:()=>a.createElement(b.Generic,{type:_.feedbackSend}),statisticsError:()=>a.createElement(b.Generic,{type:_.statisticsError}),copySuccess:e=>a.createElement(b.Generic,{type:"referenceCopied"===e.args.copyType?_.referenceCopied:_.documentCopied}),downloadDocumentNotFoundError:()=>a.createElement(b.DownloadDocumentNotFoundError,null),isTemporaryDownloadError:()=>a.createElement(b.Generic,{type:_.isTemporaryDownloadError}),clipboardNotSupported:e=>a.createElement(b.ClipboardNotSupported,{hotkey:e.args.hotkey}),documentSizeExceeded:e=>a.createElement(b.DocumentSizeExceeded,{os:e.args.os,officeAddinUrl:e.args.officeAddinUrl}),documentUploaded:(e,t)=>a.createElement(b.DocumentUploaded,{navigateToDocument:t("navigateToDocument")}),documentTypeUnsupported:()=>a.createElement(b.DocumentTypeUnsupported,null),trackedChangesIsUnsupported:e=>a.createElement(b.DocumentWithTrackedChangesIsUnsupported,{link:e.args.link}),documentUploadGeneralError:()=>a.createElement(b.Generic,{type:_.documentUploadGeneralError}),documentIsEmpty:()=>a.createElement(b.Generic,{type:_.documentIsEmpty}),noFileToUpload:()=>a.createElement(b.Generic,{type:_.noFileToUpload}),oneDocumentIsAllowed:()=>a.createElement(b.Generic,{type:_.oneDocumentIsAllowed})};var b;!function(e){e.UnauthorizedError=({action:e})=>a.createElement(m.b.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",a.createElement("br",null),a.createElement(h.a,{name:"login",className:O.footerLink,onClick:e},"Log Back In")),e.Offline=({reconnect:e,reconnectTime:t})=>a.createElement(m.b.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. We’ll try to reconnect you in"," ",a.createElement(o.a.span,null,t.view(e=>e))," seconds.",a.createElement("br",null),a.createElement(h.a,{name:"reconnect",className:O.footerLink,onClick:e},"Reconnect Now")),e.ServerError=()=>{const e=t(h.a,"UnknownConnectionError");return a.createElement(m.b.TitledContent,{title:"Sorry, Unexpected Issue"},"A small error has occurred, causing an interruption of service.",a.createElement("br",null),a.createElement(e,{name:"reload-page",className:O.footerLink},"Reload This Page"))},e.ConnectionWSError=()=>{const e=a.useContext(l.a.Context);return a.createElement(m.b.TitledContent,{title:"Can’t Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",a.createElement("br",null),a.createElement(h.a,{name:"troubleshoot",className:O.footerLink,href:e.support.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=()=>{const e=t(h.a,"ClientConnectionErrorNotification");return a.createElement(m.b.TitledContent,{title:"Your Internet Connection Is Unstable"},"Please check your network stability and then reload this page.",a.createElement("br",null),a.createElement(e,{name:"reload-page",className:O.footerLink},"Reload Page Now"))},e.DocumentNotFoundError=({navigateToDocuments:e})=>a.createElement(m.b.TitledContent,{title:"Can’t find this document"},"It looks like this document was removed or URL is incorrect.",a.createElement("br",null),a.createElement(h.a,{name:"goto-docs",className:O.footerLink,onClick:e},"Go to your documents")),e.SelfUpdate=()=>{const e=a.useContext(d.a.Context),n=t(p.a,"SelfUpdateBlocker");return a.createElement(m.b.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",a.createElement(n,{name:"reload-page",className:O.link},"reload")," ","the page ",e.hotkeyLabelR,".")},e.DesktopHardUpdate=({reloadMethod:e})=>{const t=a.useContext(d.a.Context).desktopUpdate;return a.createElement(m.b.TitledContent,{title:t.hardTitle},t.hard,a.createElement("br",null),a.createElement(h.a,{name:"reload-desktop",className:O.footerLink,onClick:e},t.reload))},e.DesktopHardDownload=({downloadMethod:e})=>{const t=a.useContext(d.a.Context).desktopUpdate;return a.createElement(m.b.TitledContent,{title:t.hardTitle},t.hard,a.createElement("br",null),a.createElement(h.a,{name:"download-desktop",className:O.footerLink,onClick:e},t.download))},e.SlowNetworkError=()=>a.createElement(m.b.TitledContent,{title:"Your Internet Connection Is Unstable"},"Grammarly may work slower than normal."),e.CheckingIsDownError=()=>a.createElement(m.b.TitledContent,{title:"Text Checking Is Temporarily Unavailable"},"Grammarly is unable to check your text for errors at this time. We’re working to resolve the issue. Please check back soon."),e.Error=()=>{const e=a.useContext(l.a.Context);return a.createElement(m.b.TitledContent,{title:"Sorry, Something Went Wrong"},"Please try again later or"," ",a.createElement(p.a,{name:"support",className:O.link,href:e.support.login,target:"_blank"},"contact support")," ","now to report the issue.")},e.ProofitPaymentDeclinedError=({paymentMethod:e,navigateToSubscription:t})=>{const n=a.useContext(d.a.Context).proofitPayment,r=function(e,t,n){switch(e){case"creditCard":return t;case"payPal":return n;default:const r="Unknown payment method: "+e;throw u.d.Logging.getLogger("ProofitView").warn(r),new Error(r)}}(e,n.creditCard,n.payPal);return a.createElement(m.b.TitledContent,{title:"Order can not be processed"},a.createElement("div",null,r),"Please update your credit card information in the Manage Subscription section.",a.createElement("br",null),a.createElement(h.a,{name:"manage-subscription",className:O.footerLink,onClick:t},"Go to Manage Subscription"))},e.PaymentSuccessMessage=()=>{const e=a.useContext(d.a.Context).proofitOrderModal.card.paymentSuccess;return a.createElement(m.b.TitledContent,{title:e.title},a.createElement("div",null,e.message))},e.PaymentErrorMessage=()=>{const e=a.useContext(d.a.Context).proofitOrderModal.card.paymentError,t=a.useContext(l.a.Context);return a.createElement(m.b.TitledContent,{title:e.title},a.createElement("div",null,e.message(t.support.login)))},e.ProofitEmptyDocumentError=()=>a.createElement(m.b.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again."),e.ProofitDocumentProofreadError=({navigateToDocuments:e})=>a.createElement(m.b.TitledContent,{title:"This document is a recent submission"},"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.",a.createElement("br",null),a.createElement(h.a,{name:"goto-docs",className:O.footerLink,onClick:e},"Go to your documents")),e.ProofitComplexInternalStructureError=({navigateToDocuments:e})=>a.createElement(m.b.TitledContent,{title:"This document cannot be corrected"},"The text you are trying to send for human proofreading is either too long or has a complex internal structure. Please edit your text (e.g., reduce length, remove significantly long tables) or select another document.",a.createElement("br",null),a.createElement(h.a,{name:"goto-docs",className:O.footerLink,onClick:e},"Go to your documents"));var t=e.withReload=(e,t)=>{class n extends a.Component{render(){return a.createElement(e,Object(i._)(Object(r._)({},this.props),{onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}}))}}return n};e.CopyToClipboardError=()=>{const e=a.useContext(d.a.Context);return a.createElement(m.b.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",e.hotkeyLabelC," instead.")},e.ProofitCancelled=()=>{const e=a.useContext(l.a.Context);return a.createElement(m.b.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",a.createElement(h.a,{name:"support",className:O.footerLink,href:e.support.login,target:"_blank"},"Grammarly support"))},e.ProofitCompleted=({documentTitle:e,documentDownloadUrl:t,email:n})=>a.createElement(m.b.TitledContent,{title:(e||"Your")+" document has been proofread"},"A version of this document with proofreaders’ marks has been emailed to you at ",n," in .docx format.",a.createElement("br",null),a.createElement(h.a,{name:"download",className:O.footerLink,href:t,target:"_blank"},"Download .docx")),e.DenaliFormattingCompatibility=()=>{const e=a.useContext(d.a.Context),t=a.useContext(l.a.Context);return a.createElement(m.b.TitledContent,{title:e.rtfCompatibilityModeNotificationTitle},"To preserve your document’s formatting, Grammarly’s formatting tools are temporarily not available.",a.createElement("br",null),a.createElement(h.a,{name:"support",className:O.footerLink,href:t.support.rtfCompatibilityUrl,target:"_blank"},"Learn more"))},e.DenaliDocumentUploaded=({navigateToDocuments:e})=>{const{denaliDocumentUploadNotification:t}=a.useContext(d.a.Context);return a.createElement(m.b.TitledContent,{title:t.title},t.text," ",a.createElement(p.a,{name:"goto-docs",className:O.link,onClick:e},t.link))},e.AlertsNothingFound=()=>a.createElement(m.b.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!"),e.DesktopSoftUpdate=({reloadMethod:e})=>{const t=a.useContext(d.a.Context).desktopUpdate;return a.createElement(m.b.TitledContent,{title:t.softTitle},t.soft,a.createElement("br",null),a.createElement(h.a,{name:"reload-desktop",className:O.footerLink,onClick:e},t.reload))},e.DesktopSoftDownload=({downloadMethod:e})=>{const t=a.useContext(d.a.Context).desktopUpdate;return a.createElement(m.b.TitledContent,{title:t.softTitle},t.soft,a.createElement("br",null),a.createElement(h.a,{name:"download-desktop",className:O.footerLink,onClick:e},t.download))},e.DownloadDocumentNotFoundError=()=>{const e=a.useContext(d.a.Context);return a.createElement(m.b.TitledContent,{"data-name":"document-not-found",title:e.downloadDocumentNotFoundError})},e.ClipboardNotSupported=({hotkey:e})=>{const t=a.useContext(d.a.Context);return a.createElement(m.b.Content,null,t.hotkeyUnsupported,a.createElement("b",null,e))},e.DocumentSizeExceeded=({os:e,officeAddinUrl:t})=>{const n=a.useContext(d.a.Context).fileSizeExceededNotification;return a.createElement(m.b.TitledContent,{title:n.title},n.body,"windows"===e&&a.createElement(h.a,{name:"officeAddin",className:O.footerLink,href:t,target:"_blank"},n.link))},e.DocumentUploaded=({navigateToDocument:e})=>{const t=a.useContext(d.a.Context).documentUploaded;return a.createElement(m.b.Content,null,t.message,a.createElement("br",null),a.createElement(h.a,{name:"goto-doc",className:O.footerLink,onClick:e},t.link))},e.DocumentTypeUnsupported=()=>{const e=a.useContext(d.a.Context);return a.createElement(m.b.Content,null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},e.DocumentWithTrackedChangesIsUnsupported=({link:e})=>a.createElement(m.b.Content,null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",a.createElement(p.a,{name:"document-accept-tracked-changes",className:O.link,href:e,target:"_blank"},"here")," ","for details.");const n=(e,t)=>{switch(e){case _.switchToDenali:return t.switchToDenali;case _.feedbackSend:return t.feedbackSend;case _.statisticsError:return t.statisticsError;case _.referenceCopied:return t.referenceCopied;case _.documentCopied:return t.documentCopied;case _.isTemporaryDownloadError:return t.isTemporaryDownloadError;case _.documentUploadGeneralError:return t.documentUploadGeneralError;case _.documentIsEmpty:return t.documentIsEmpty;case _.noFileToUpload:return t.noFileToUpload;case _.oneDocumentIsAllowed:return t.oneDocumentIsAllowed;default:return Object(s.c)(e)}};e.Generic=({type:e})=>{const t=a.useContext(d.a.Context);return a.createElement(m.b.TitledContent,{title:n(e,t)})}}(b||(b={}));const v={display:"inline-flex",overflow:"unset",color:c.a.CoreNeutral0,verticalAlign:"baseline",textDecoration:"underline",fontWeight:"bold",cursor:"pointer"},y={marginTop:f.a.rem(.5),textDecoration:"none"},O=f.a.stylesheet({link:[v],footerLink:[v,y]});var _;!function(e){e.switchToDenali="switchToDenali",e.feedbackSend="feedbackSend",e.statisticsError="statisticsError",e.referenceCopied="referenceCopied",e.documentCopied="documentCopied",e.isTemporaryDownloadError="isTemporaryDownloadError",e.documentUploadGeneralError="documentUploadGeneralError",e.documentIsEmpty="documentIsEmpty",e.noFileToUpload="noFileToUpload",e.oneDocumentIsAllowed="oneDocumentIsAllowed"}(_||(_={}))},BSU1:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return j}));var r,i,a=n("Wy1Y"),o=n("uKMM"),s=n("4mQT"),c=n("8O/t"),l=n("t5lx"),u=n("B8yO"),d=n("OwvP"),p=n("4GyQ"),m=n("fC5a"),f=n("ySi0"),h=n("WLOZ"),g=n("wuWi"),b=n("nWMp"),v=n("2swC"),y=n("WSjW"),O={position:"fixed",zIndex:b.d.level5,display:"flex",padding:"0 1rem",width:"28rem",height:"13rem",background:v.a.CoreNeutral0,alignItems:"center"},_={display:"flex",flexDirection:"column",marginTop:"2rem",height:b.a.percent(100),flexBasis:"6rem",alignItems:"center"},C={display:"inline-block",margin:".9rem 1.4rem 0 0",padding:"0 .15rem 0 .25rem",height:"1.125rem",borderTopLeftRadius:".1875rem",borderTopRightRadius:".1875rem",background:b.c.ui200,color:b.c.ui600,textTransform:"uppercase",letterSpacing:b.a.px(1.1),fontSize:".6rem",lineHeight:"1.125rem"},w={display:"flex",flexDirection:"column",height:b.a.percent(100),flexBasis:"19rem"},S=b.a.stylesheet({modalNotification:[O,y.a],modalNotificationReverse:[{flexDirection:"row-reverse"}],topLeft:[{top:".5rem",left:"4.5rem"}],topRight:[{top:".5rem",right:"4.5rem"}],bottomLeft:[{bottom:".5rem",left:"4.5rem"}],bottomRight:[{right:"4.5rem",bottom:".5rem"}],closeIcon:[{position:"absolute",top:0,right:0}],iconSection:[_],icon:[{marginTop:"1.1rem"}],label:[C],contentSection:[w],title:[{display:"block",marginTop:"1.05rem"}],content:[{display:"block",marginTop:".6rem"}],btnGroup:[{display:"flex",marginTop:".65rem"}]});!function(e){e.TopLeft="topLeft",e.TopRight="topRight",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(r||(r={})),function(e){e.Left="Left",e.Right="Right"}(i||(i={}));var k,E,j=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.content,o=t.position,s=t.icon,l=t.iconPosition,h=t.label,b=t.buttons,v=t.isCloseButton;return u.createElement(d.a.Fragment,null,this.props.isVisibleAtom.view((function(t){return t&&u.createElement("div",Object(c._)({role:"status","aria-live":"polite",id:e._id},Object(p.c)(S.modalNotification,l===i.Right?S.modalNotificationReverse:"",S[null!=o?o:r.BottomLeft])),!1!==v&&u.createElement(m.a,{name:"modal-notification-close",className:S.closeIcon,onClick:function(){return e._closeModal()}},u.createElement(f.d.Close,null)),(s||h)&&u.createElement("section",{className:S.iconSection},Boolean(h)?u.createElement("div",{className:S.label},h):null,Boolean(s)?u.createElement("div",{className:S.icon},s):null),u.createElement("section",{className:S.contentSection},u.createElement(g.j,{className:S.title},n),u.createElement(g.a,{className:S.content},a),b&&u.createElement("div",{className:S.btnGroup},b)))})))}},{key:"_id",get:function(){return Boolean(this.props.id)?this.props.id:"modal-notification"}},{key:"_closeModal",value:function(){this.props.isVisibleAtom.set(!1)}}]),n}(u.Component);k=j||(j={}),E=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(h.b,{positionType:"fixed",preventClose:!1,visible:this.props.isVisibleAtom,alignment:"none",overlayType:"transparent"}),u.createElement(j,Object(c._)({key:"modal-notification"},this.props)))}}]),n}(u.Component),k.WithOverlay=E},BXBv:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("KMes");const i=r.a,a=r.b.version},Bf87:function(e){e.exports=JSON.parse('{"fakeToolbarWrapper":"_b57d7ffb-header-fakeToolbarWrapper","fakeToolbarTitle":"_83b0cecd-header-fakeToolbarTitle","fakeToolbarTitleMacEditor":"_a0de5151-header-fakeToolbarTitleMacEditor","toolbarBtn":"_00d699e4-header-toolbarBtn","backIcon":"_11861f7c-header-backIcon"}')},Bl9I:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("B8yO"),a=n("XQlQ"),o=n("xk6L");!function(e){var t=e.navigationHideWidthThreshold=850;e.useCollapsibleNavbarThreshold=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=i.useContext(a.a.Context);return n.pipe(o.a.pluck("rect","width"),o.a.map((function(t){return t<=e})))}}(r||(r={}))},CA3N:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return O}));var r,i,a,o,s=n("Wy1Y"),c=n("uKMM"),l=n("a5gI"),u=n("8O/t"),d=n("X76w"),p=n("hcme"),m=n("tiWp"),f=n("+vYo"),h=n("La5+"),g=n("xk6L"),b=n("mgiE"),v=n("TKPA"),y=n("M3t0");o=r||(r={}),(a=o.Type||(o.Type={})).checking="checking",a.checkingIn="checkingIn",a.checkingOut="checkingOut",(i=o.TextType||(o.TextType={})).loading="loading",i.processing="processing",function(e){e.idle={text:b.g.none,lens:b.g.none,navigation:b.g.none},e.text={text:b.g.some(r.TextType.loading),lens:b.g.none,navigation:b.g.none};var t=e.processing={text:b.g.some(r.TextType.processing),lens:b.g.some(r.Type.checking),navigation:b.g.some(r.Type.checking)};e.lensAndNavigationProcessing=Object(d._)(Object(u._)({},t),{text:b.g.none}),e.loading={text:b.g.some(r.TextType.loading),lens:b.g.some(r.Type.checking),navigation:b.g.some(r.Type.checking)},e.toString=function(e){var t=Object(m.pipe)(e.lens,b.g.filter((function(e){return"checkingOut"!==e})),b.g.fold((function(){return"on"}),(function(){return"off"}))),n=Object(m.pipe)(e.navigation,b.g.filter((function(e){return"checkingOut"!==e})),b.g.fold((function(){return"on"}),(function(){return"off"}))),r=Object(m.pipe)(e.text,b.g.getOrElse((function(){return"off"})));return"text: ".concat(r,"; lens: ").concat(t,"; nav: ").concat(n)}}(o.State||(o.State={}));var O=function(){function e(t,n){Object(s.a)(this,e),Object(l._)(this,"_router",void 0),Object(l._)(this,"_features",void 0),Object(l._)(this,"state",void 0),Object(l._)(this,"_log",void 0),Object(l._)(this,"_metric",void 0),Object(l._)(this,"_subs",void 0),this._router=t,this._features=n,this.state=f.a.create(r.State.idle),this._log=y.d.Logging.getLogger("denali_loader"),this._metric=y.d.TimeSeries.rootFemetrics.getMetric("denali_loader"),this._subs=new h.a.Keeper,this._listenLoading(),Object(m.pipe)(this._router.locationState,b.g.exists((function(e){return!0===e.openSidebar})))||this._features.sidebarOpenedByDefault?this.state.set(r.State.processing):this.state.set(r.State.text)}return Object(c.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"listenEngineErrors",value:function(e){var t=this;this._subs.push(e.pipe(g.b.compact).subscribe(b.b.fold((function(){return t.state.set(r.State.idle)}),v.e)))}},{key:"_listenLoading",value:function(){var e=this;this._subs.push(this.state.subscribe((function(t){e._log.debug("State is changed to ".concat(r.State.toString(t)))})),this._listenTimeseries("text",(function(e){return Object(m.pipe)(e.text,b.g.orUndefined)}),!0),this._listenTimeseries("lens",(function(e){return Object(m.pipe)(e.lens,b.g.filter((function(e){return"checkingOut"!==e})),b.g.map((function(){return"checking"})),b.g.orUndefined)})),this._listenTimeseries("navigation",(function(e){return Object(m.pipe)(e.navigation,b.g.filter((function(e){return"checkingOut"!==e})),b.g.map((function(){return"checking"})),b.g.orUndefined)})))}},{key:"_listenTimeseries",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return this.state.pipe(g.a.skip(1),g.a.map((function(e){return t(e)})),g.a.distinctUntilChanged(),g.a.map((function(t){if(void 0!==t)return n&&r._metric.getCounter("".concat(e,".").concat(t,".start.counter")).increment(),{time:r._metric.getTimer("".concat(e,".").concat(t,".time")).start(),counter:n?r._metric.getCounter("".concat(e,".").concat(t,".stop.counter")):void 0}})),g.a.pairwise()).subscribe((function(e){var t=Object(p._)(e,1)[0];t&&(t.time.stop(),t.counter&&t.counter.increment())}))}}]),e}()},CBmo:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("7IMz"),l=n("xk6L"),u=n("yIk2"),d=n("mgiE"),p=n("NDcT"),m=n("nWMp"),f=n("hldE"),h=n("7Cqk");const g=e=>{const{shade:t}=Object(f.c)(e.visualState),n=a.useContext(p.a.Context),{rect:m,onMount:h}=c.a.useRectWatcher(),g=m.pipe(l.a.map(d.g.exists(e=>e.height>0)));a.useEffect(()=>{Boolean(t)||e.onFocus()},[]);const b=e.theme||{};return a.createElement(o.a.div,{className:b.container},e.header,a.createElement(o.a.div,{className:b.innerContainer},a.createElement(o.a.div,Object(i._)(Object(r._)({},Object(s.c)(S.wrapper,b.wrapper)),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),a.createElement(o.a.div,Object(s.c)(S.grid,b.content),a.createElement(o.a.div,Object(r._)({role:"region","aria-label":u.b.toObservable(e.ariaLabel).pipe(l.a.map(e=>`${n.card.description}: ${e}`))},Object(s.c)(S.mainContent,b.contentBody)),e.body),Boolean(e.footer)?a.createElement(o.a.div,{role:"complementary",mount:h,"aria-hidden":u.b.invert(g),"aria-label":u.b.toObservable(e.ariaLabel).pipe(l.a.map(e=>`${n.card.more}: ${e}`)),className:S.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?a.createElement(o.a.nav,{"aria-label":u.b.toObservable(e.ariaLabel).pipe(l.a.map(e=>`${n.card.cardActions}: ${e}`)),className:S.actions},e.subActions,a.createElement("div",{className:S.spacerOne}),e.navigation,a.createElement("div",{className:S.spacerFloat}),e.mainActions):null)),e.extra))},b={position:"relative"},v={padding:`${m.a.rem(1)} ${m.a.rem(.5)} ${m.a.rem(.75)} ${m.a.rem(1)}`},y={padding:`0 ${m.a.rem(.5)} 0 ${m.a.rem(1)}`,$nest:{"& > * + *":{marginTop:m.a.rem(.75)}}},O={padding:`0 ${m.a.rem(.5)} 0 ${m.a.rem(1)}`,$nest:{"& > * + *":{marginTop:m.a.rem(.75)}}},_={display:"flex",marginLeft:m.a.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},C={width:m.a.rem(1),flexShrink:1},w={$nest:{"& > * + *":{marginTop:m.a.rem(.75)}}},S=Object(i._)(Object(r._)({},m.a.stylesheet({mainContent:[y],footerContent:[O],actions:[_],spacerOne:[C],spacerFloat:[{flex:1}],grid:[w]})),{fullCard:m.a.joinClasses([h.b.fullCardSelector,m.a.style(b)]),wrapper:m.a.joinClasses([h.b.fullCardSelector,m.a.style(b,v)])})},CNxR:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n("B8yO"),i=n("OwvP"),a=n("TKPA"),o=n("ldOx"),s=n("fC5a"),c=n("ySi0"),l=n("3I9b"),u=n("6Fzp"),d=n("NDcT"),p=n("wuWi"),m=n("2swC"),f=n("nWMp"),h=n("NbNH");const g={position:"fixed",bottom:f.a.rem(1),right:f.a.rem(1),zIndex:h.j,width:f.a.rem(20),padding:f.a.rem(2),background:m.a.CoreNeutral0,transition:`transform ${f.a.seconds(.1)} linear ${f.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:f.a.rem(h.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},b={transitionDelay:f.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},v={transform:"perspective(100) rotateY(-90deg)"},y={paddingBottom:f.a.rem(1)},O={marginBottom:f.a.rem(1)},_={width:f.a.percent(100),borderRadius:f.a.rem(h.t),padding:`${f.a.rem(.5)} 0 ${f.a.rem(.5)} ${f.a.rem(.5)}`,lineHeight:f.a.rem(1.3125),margin:"0 2px"},C={width:f.a.rem(1),height:f.a.rem(1),minHeight:f.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:f.a.rem(.25)},w={color:m.a.CoreBlue50,textDecoration:"none"},S={paddingTop:f.a.rem(2),height:f.a.rem(15),flexGrow:1},k={marginBottom:f.a.rem(.5)},E={$nest:{"& ul":{paddingLeft:f.a.rem(2)},"& a":{color:m.a.CoreBlue50,textDecoration:"none"}}},j=f.a.stylesheet({notification:[g],rotateHide:[g,b],rotateShow:[g,v],closeIcon:[{position:"absolute",top:0,right:0}],question:[y],questionText:[O],answerBtn:[_],answer:[{whiteSpace:"normal"}],outcomeIcon:[C],learnMoreLink:[w],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[S],completionHeader:[k],badExperience:[E]}),x=({viewModel:e,onClose:t})=>r.createElement(i.a.div,{className:j.completionScreen},e.state.view(e=>l.a.isSecondAnswerAboutDissatisfaction(e)?r.createElement(I,{reason:e.answer2}):r.createElement(A,null)),r.createElement(s.a.Primary,{name:"survey.done",onClick:t},"done")),A=()=>{const e=r.useContext(d.a.Context).premiumOnboardingSurvey.completion;return r.createElement(r.Fragment,null,r.createElement(c.d.NotificationInfo,{width:40}),r.createElement("div",{className:j.completionContent},r.createElement(p.e,{className:j.completionHeader},e.enjoyment.header),r.createElement(p.a,null,e.enjoyment.sub)))},I=({reason:e})=>{const t=r.useContext(u.a.Context),n=r.useContext(d.a.Context).premiumOnboardingSurvey.completion.badExperience,i=(()=>{switch(e){case l.b.DissatisfactionReason.LowQualitySuggestions:return n.lowQuality;case l.b.DissatisfactionReason.PoorPlagiarismSuggestions:return n.noPlagiarism;case l.b.DissatisfactionReason.NoSupportForDesirableApp:return n.noSupportForDesirableApp(t.extension.chrome.installURL,t.extension.edge.infoURL,t.extension.firefox.installURL,t.extension.safari.installURL,t.funnel.keyboardInstall,t.funnel.desktopAppInstall);case l.b.DissatisfactionReason.AggressivePremiumPromotion:case l.b.DissatisfactionReason.NoPremiumSuggestions:case l.b.DissatisfactionReason.PremiumAndFreeAreIdentical:default:return n.possibleMultipleAccounts}})();return r.createElement("div",null,r.createElement(p.a,{className:j.badExperience},i),r.createElement("br",null))};var T=n("t39C");const M=({answerType:e,viewModel:t,children:n})=>r.createElement(s.a.Flat,{className:j.answerBtn,name:"answer."+e,onClick:()=>t.answer(e)},r.createElement("span",{className:j.answer},n));var P=l.b.Experience;const N=({viewModel:e})=>{const t=r.useContext(d.a.Context).premiumOnboardingSurvey.firstQuestion;return r.createElement("div",{className:j.question},r.createElement(p.e,{className:j.questionText},t.question),r.createElement(M,{answerType:P.VerySatisfied,viewModel:e},r.createElement(T.b,null,"😄")," ",t.answers.verySatisfied),r.createElement(M,{answerType:P.SomewhatSatisfied,viewModel:e},r.createElement(T.b,null,"🙂")," ",t.answers.somewhatSatisfied),r.createElement(M,{answerType:P.Neutral,viewModel:e},r.createElement(T.b,null,"😐")," ",t.answers.neutral),r.createElement(M,{answerType:P.SomewhatDissatisfied,viewModel:e},r.createElement(T.b,null,"🙁")," ",t.answers.somewhatDissatisfied),r.createElement(M,{answerType:P.VeryDissatisfied,viewModel:e},r.createElement(T.b,null,"😞")," ",t.answers.veryDissatisfied))};var B=n("RRF2"),L=l.b.SatisfactionReason,F=l.b.DissatisfactionReason;const R=({viewModel:e})=>r.createElement(i.a.div,{className:j.question},e.state.view(l.a.isSecondQuestionAboutDissatisfaction).view(Object(a.c)(r.createElement(D,{viewModel:e}),r.createElement(H,{viewModel:e})))),D=({viewModel:e})=>{const t=r.useContext(d.a.Context).premiumOnboardingSurvey.secondDissatisfactionQuestion;return r.createElement(r.Fragment,null,r.createElement(p.e,{className:j.questionText},t.question),B.a.shuffle([r.createElement(M,{answerType:F.LowQualitySuggestions,viewModel:e},t.answers.lowQualitySuggestions),r.createElement(M,{answerType:F.PoorPlagiarismSuggestions,viewModel:e},t.answers.poorPlagiarismSuggestions),r.createElement(M,{answerType:F.NoSupportForDesirableApp,viewModel:e},t.answers.noSupportForDesirableApp),r.createElement(M,{answerType:F.AggressivePremiumPromotion,viewModel:e},t.answers.aggressivePremiumPromotion),r.createElement(M,{answerType:F.NoPremiumSuggestions,viewModel:e},t.answers.noPremiumSuggestions),r.createElement(M,{answerType:F.PremiumAndFreeAreIdentical,viewModel:e},t.answers.premiumAndFreeAreIdentical)]))},H=({viewModel:e})=>{const t=r.useContext(u.a.Context),n=r.useContext(d.a.Context).premiumOnboardingSurvey.secondSatisfactionQuestion;return r.createElement(r.Fragment,null,r.createElement(p.e,{className:j.questionText},n.question),B.a.shuffle([r.createElement(M,{answerType:L.PlagiarismChecker,viewModel:e},n.answers.plagiarismChecker," ",r.createElement(c.d.PlagiarismOutcome,{className:j.outcomeIcon})),r.createElement(M,{answerType:L.ClaritySuggestions,viewModel:e},n.answers.claritySuggestions," ",r.createElement(c.d.ClarityOutcome,{className:j.outcomeIcon})),r.createElement(M,{answerType:L.EngagementSuggestions,viewModel:e},n.answers.engagementSuggestions," ",r.createElement(c.d.EngagementOutcome,{className:j.outcomeIcon})),r.createElement(M,{answerType:L.ToneSuggestions,viewModel:e},n.answers.toneSuggestions," ",r.createElement(c.d.DeliveryOutcome,{className:j.outcomeIcon})),r.createElement(M,{answerType:L.UsingMultipleDevices,viewModel:e},r.createElement(r.Fragment,null,n.answers.usingMultipleDevices," ",r.createElement("a",{href:t.funnel.keyboardInstall,onClick:e=>e.stopPropagation(),className:j.learnMoreLink,target:"_blank"},n.learnMoreLink)))]))},V=({viewModel:e,onClose:t})=>r.createElement(U,{viewModel:e},n=>r.createElement(r.Fragment,null,l.a.isFirstQuestion(n)?r.createElement(N,{viewModel:e}):l.a.isSecondQuestion(n)?r.createElement(R,{viewModel:e}):r.createElement(x,{viewModel:e,onClose:t}),r.createElement(s.a,{name:"survey-close",className:j.closeIcon,onClick:t},r.createElement(c.d.Close,null)))),U=({viewModel:e,children:t})=>r.createElement(o.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,r]=e&&l.a.isFirstQuestion(e)&&l.a.isSecondQuestion(t)||e&&l.a.isSecondQuestion(e)&&l.a.isCompleted(t)?[j.rotateHide,j.rotateShow]:[j.notification,j.notification];return{prev:{start:j.notification,end:n},next:{start:r,end:j.notification}}}},e=>r.createElement(i.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:a.e},t(e.state)))},CQgj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i,a,o,s=n("hcme"),c=n("B8yO"),l=n("5AnK"),u=n("fC5a"),d=n("IRug"),p=n("7IMz"),m=n("AyJj"),f=n("mgiE"),h=n("To5e"),g=n("nWMp"),b=n("NbNH"),v=n("2swC"),y=g.a.prefixedStylesheet("obtain_grades",{contentWrapper:[{padding:"".concat(g.a.rem(1)," ").concat(g.a.rem(2.75)," ").concat(g.a.rem(1.25)," ").concat(g.a.rem(1.25)),width:g.a.percent(100),maxWidth:g.a.rem(22.5),borderRadius:g.a.rem(b.t),background:v.a.BackgroundNotification,color:v.a.CoreNeutral0,marginRight:0,marginLeft:"auto"}],icon:[{display:"none"}],header:[{fontSize:g.a.rem(.875),lineHeight:g.a.rem(1.25),fontWeight:700,marginBottom:g.a.rem(.4375)}],body:[{fontSize:g.a.rem(.875),lineHeight:g.a.rem(1.3125),marginBottom:g.a.rem(.9375)}],gradeButtons:[{marginBottom:g.a.rem(.9375)}],gradeButton:[{width:g.a.rem(5),textAlign:"center"}],submitButton:[{fontWeight:700}]});i=r||(r={}),a={content:{wrapper:y.contentWrapper,icon:y.icon}},o=function(e){var t=e.viewModel;return c.createElement(u.a.Group,{sticky:!0},Object.entries(t.grades).map((function(e){var n=Object(s._)(e,2),r=n[0],i=n[1];return c.createElement(m.a,{name:r,className:y.gradeButton,active:t.state.view(f.g.exists((function(e){return l.a.Outcomes.Students.Grade.eq.equals(e,i)}))),onClick:function(){return t.selectScore(i)},key:r},r)})))},i.ObtainGrades=function(e){var t=e.onClose,n=e.onShow,r=e.notification,i=e.viewModel,s=c.useContext(h.a.Context).obtainGrades;return p.a.useEffectOnDidMount((function(){i.show().finally(n)})),c.createElement(d.b.Wrapper,{notification:r,onClose:function(){i.reject().finally(t)},theme:a},c.createElement(d.b.Content,null,c.createElement("div",{className:y.header},s.title),c.createElement("div",{className:y.body},""!==i.document.title?s.titleMessage(i.document.title):s.contentMessage(i.document.content)),c.createElement("div",{className:y.gradeButtons},c.createElement(o,{viewModel:i})),c.createElement(m.a,{name:"submit",className:y.submitButton,disabled:i.state.view(f.g.isNone),onClick:function(){i.submit().finally(t)}},"Submit")))}},CRXm:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("B8yO"),i=n("7LqD"),a=n("tREI"),o=n("XGPX");class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let n,r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)r(t)};for(let t of e)r(t);let i=0;for(let[e,t]of this.keyMap)n?(n.nextKey=e,t.prevKey=n.key):(this.firstKey=e,t.prevKey=void 0),"item"===t.type&&(t.index=i++),n=t,n.nextKey=void 0;this.lastKey=null==n?void 0:n.key}}function c(e){let[t,n]=(0,o.b)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),c=(0,i.b)(e),l=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),u=(0,a.i)(e,(0,r.useCallback)(e=>new s(e,{expandedKeys:t}),[t]),null);(0,r.useEffect)(()=>{null==c.focusedKey||u.getItem(c.focusedKey)||c.setFocusedKey(null)},[u,c.focusedKey]);return{collection:u,expandedKeys:t,disabledKeys:l,toggleKey:e=>{n(function(e,t){let n=new Set(e);n.has(t)?n.delete(t):n.add(t);return n}(t,e))},setExpandedKeys:n,selectionManager:new(0,i.a)(u,c)}}},CcDN:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("nWMp"),c=n("fB2g"),l=n("TKPA"),u=n("2swC"),d=u.a.CoreGreen10;!function(e){e.markHeightStandard="".concat("alerts-","markHeightStandard"),e.markHeightTall="".concat("alerts-","markHeightTall"),e.markSelected="".concat("alerts-","markSelected"),e.markSelectedFocused="".concat("alerts-","markSelectedFocused"),e.markBase="".concat("alerts-","markBase"),e.markAppliedBase="".concat("alerts-","markAppliedBase"),e.markVisible="".concat("alerts-","markVisible"),e.markStart="".concat("alerts-","markStart"),e.correctness="".concat("alerts-","correctness"),e.premium="".concat("alerts-","premium"),e.clarity="".concat("alerts-","clarity"),e.engagement="".concat("alerts-","engagement"),e.delivery="".concat("alerts-","delivery"),e.critical="".concat("alerts-","critical"),e.advanced="".concat("alerts-","advanced"),e.plagiarism="".concat("alerts-","plagiarism"),e.originality="".concat("alerts-","originality"),e.vox="".concat("alerts-","vox"),e.knowledgeHub="".concat("alerts-","knowledgeHub"),e.synonym="".concat("alerts-","synonym"),e.markAnimated="".concat("alerts-","markAnimated"),e.markHidden="".concat("alerts-","markHidden"),e.markApplied="".concat("alerts-","markApplied"),e.markBulkApplied="".concat("alerts-","markBulkApplied"),e.markBulkAppliedAnimation="".concat("alerts-","markBulkAppliedAnimation"),e.markSuccess="".concat("alerts-","markSuccess"),e.noAnimation="".concat("alerts-","noAnimation"),e.markVBar="".concat("alerts-","markVBar"),e.markVBarHighlighted="".concat("alerts-","markVBarHighlighted")}(r||(r={}));var p,m="".concat("alerts-","custom"),f={backgroundPosition:"center calc(100% + ".concat("2px",")"),backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},h={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},g=s.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),b={standard:"calc(".concat(s.a.rem(.45)," - 3px)"),tall:"calc(".concat(s.a.rem(.425)," + 1px)")},v=function(e){return{to:{backgroundColor:e}}},y=function(e,t,n,s){var c;return Object(o._)(Object(a._)({$unique:!0},f),{paddingBottom:"1px",borderBottom:"".concat("2px"," solid ").concat(t),transition:"border-bottom-color .5s linear",$nest:Object(o._)(Object(a._)({},f.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:(c={},Object(i._)(c,"&.".concat(r.markSelected,".").concat(r.markHeightStandard),{paddingTop:b.standard}),Object(i._)(c,"&.".concat(r.markSelected,".").concat(r.markHeightTall),{paddingTop:b.tall}),Object(i._)(c,"&.".concat(r.markSelected),{$unique:!0,borderBottomColor:s,animation:"".concat(e," 1s ease forwards")}),Object(i._)(c,"&.".concat(r.markSelectedFocused),{$unique:!0,borderBottomColor:n}),Object(i._)(c,"&.".concat(r.markSelected," .").concat(r.markBase,":not(.").concat(r.markSelected,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),Object(i._)(c,"&.".concat(r.markSelectedFocused," .").concat(r.markBase,":not(.").concat(r.markSelected,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),c)}})})},O=s.a.keyframes(v(u.a.CoreRed10)),_=s.a.keyframes(v(u.a.CoreYellow10)),C=s.a.keyframes(v(u.a.CoreCyan10)),w=s.a.keyframes(v(u.a.CorePurple10)),S=s.a.keyframes(v(u.a.CoreNeutral10)),k=s.a.keyframes(v(u.a.CoreBlue10)),E=s.a.keyframes(v(u.a.CoreRed10)),j=s.a.keyframes(v(u.a.CoreYellow10)),x=s.a.keyframes(v(u.a.CoreBlue10)),A=s.a.keyframes(v(u.a.CoreGreen10)),I=s.a.keyframes(v(u.a.CorePurple10)),T=s.a.keyframes(v(u.a.CoreGreen10)),M=function(e){var t,n=s.a.color(d).fade(e).toRGBA().toString();return{borderBottomColor:n,backgroundColor:n,$nest:(t={},Object(i._)(t,"&.".concat(r.markHeightStandard),{paddingTop:b.standard}),Object(i._)(t,"&.".concat(r.markHeightTall),{paddingTop:b.tall}),t)}},P=function(e){return{borderBottomColor:"transparent",backgroundColor:s.a.color(d).fade(e).toRGBA().toString()}},N=s.a.keyframes({from:M("100%"),to:M("50%")}),B={borderBottomWidth:"2px",borderBottomColor:"".concat(u.a.CoreNeutral40),borderBottomStyle:"dotted",backgroundColor:"transparent"},L=s.a.keyframes({to:Object(a._)({},M("0%"),B)}),F=s.a.keyframes({from:P("100%"),to:P("50%")}),R={$nest:(p={},Object(i._)(p,"&.".concat(r.markHeightStandard),{paddingTop:b.standard}),Object(i._)(p,"&.".concat(r.markHeightTall),{paddingTop:b.tall}),Object(i._)(p,"&:not(.".concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,")"),{$nest:Object(i._)({},"&.".concat(r.clarity," &.").concat(r.clarity),{borderBottomStyle:"solid",borderBottomColor:u.a.CoreBlue50})}),Object(i._)(p,"&.".concat(r.correctness,", &.").concat(r.markSelected,", &.").concat(r.markSelectedFocused),{$nest:Object(i._)({},".".concat(r.markVisible,":not(.").concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,").").concat(r.clarity," .").concat(r.markVisible,":not(.").concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,").").concat(r.clarity),{})}),Object(i._)(p,"&.".concat(r.clarity),{$nest:Object(i._)({},"& & &:not(.".concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,")"),{borderBottomStyle:"hidden !important"})}),p)},D={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},H=Object(l.l)((function(){return{custom:function(e,t){var n=s.a.color(e).fade(.25).toRGBA().toString(),i=s.a.keyframes(v(n));return[m,r.markBase,s.a.style(y(i,t,t,n)),c.a.style(y(i,t,t,n),h)].join(" ")},markVBar:r.markVBar,markBase:[r.markBase,s.a.style(f),c.a.style(f,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[r.markAppliedBase,r.markBase,s.a.style({paddingBottom:"".concat("1px"),borderBottom:"".concat("2px"," solid ").concat(d)})].join(" "),correctness:[r.correctness,r.markBase,s.a.style(y(E,u.a.CoreRed50,u.a.CoreRed50,u.a.CoreRed10)),c.a.style(y(E,u.a.CoreRed50,u.a.CoreRed50,u.a.CoreRed10),h)].join(" "),premium:[r.premium,r.markBase,s.a.style(y(j,u.a.CoreYellow40,u.a.CoreYellow40,u.a.CoreYellow10)),c.a.style(y(j,u.a.CoreYellow40,u.a.CoreYellow40,u.a.CoreYellow10),h)].join(" "),clarity:[r.clarity,r.markBase,s.a.style(y(x,u.a.CoreBlue50,u.a.CoreBlue50,u.a.CoreBlue10)),c.a.style(y(x,u.a.CoreBlue50,u.a.CoreBlue50,u.a.CoreBlue10),h)].join(" "),markVisible:[r.markVisible,s.a.style(R),c.a.style(R)].join(" "),engagement:[r.engagement,r.markBase,s.a.style(y(A,u.a.CoreGreen50,u.a.CoreGreen50,u.a.CoreGreen10)),c.a.style(y(A,u.a.CoreGreen50,u.a.CoreGreen50,u.a.CoreGreen10),h)].join(" "),delivery:[r.delivery,r.markBase,s.a.style(y(I,u.a.CorePurple50,u.a.CorePurple50,u.a.CorePurple10)),c.a.style(y(I,u.a.CorePurple50,u.a.CorePurple50,u.a.CorePurple10),h)].join(" "),critical:[r.critical,r.markBase,s.a.style(y(O,u.a.CoreRed50,u.a.CoreRed50,u.a.CoreRed10)),c.a.style(y(O,u.a.CoreRed50,u.a.CoreRed50,u.a.CoreRed10),h)].join(" "),advanced:[r.advanced,r.markBase,s.a.style(y(_,u.a.CoreYellow40,u.a.CoreYellow40,u.a.CoreYellow10)),c.a.style(y(_,u.a.CoreYellow40,u.a.CoreYellow40,u.a.CoreYellow10),h)].join(" "),plagiarism:[r.plagiarism,r.markBase,s.a.style(y(C,u.a.CoreCyan50,u.a.CoreCyan50,u.a.CoreCyan10)),c.a.style(y(_,u.a.CoreCyan50,u.a.CoreCyan50,u.a.CoreCyan10),h)].join(" "),originality:[r.originality,r.markBase,s.a.style(y(w,u.a.CorePurple50,u.a.CorePurple50,u.a.CorePurple10)),c.a.style(y(I,u.a.CorePurple50,u.a.CorePurple50,u.a.CorePurple10),h)].join(" "),vox:[r.vox,r.markBase,s.a.style(y(S,u.a.CoreNeutral50,u.a.CoreNeutral50,u.a.CoreNeutral10)),c.a.style(y(S,u.a.CoreNeutral50,u.a.CoreNeutral50,u.a.CoreNeutral10),h)].join(" "),knowledgeHub:[r.knowledgeHub,r.markBase,s.a.style(y(S,u.a.CoreNeutral50,u.a.CoreNeutral50,u.a.CoreNeutral10)),c.a.style(y(S,u.a.CoreNeutral50,u.a.CoreNeutral50,u.a.CoreNeutral10),h)].join(" "),synonym:[r.synonym,r.markBase,s.a.style(y(k,u.a.CoreBlue50,"transparent",u.a.CoreBlue50)),c.a.style(y(k,u.a.CoreBlue50,"transparent",u.a.CoreBlue50),h)].join(" "),markAnimated:[r.markAnimated,s.a.style({animation:"".concat(g," .075s ease")})].join(" "),markHidden:[r.markHidden,s.a.style(D),c.a.style(D)].join(" "),markBulkAppliedAnimation:[r.markBulkAppliedAnimation,r.markBase,s.a.style(M("100%"),B,{animation:"".concat(N," 2s linear forwards,\n          ").concat(L," .25s linear 2s forwards")})].join(" "),markBulkApplied:[r.markBulkApplied,r.markBase,s.a.style(y(T,u.a.CoreNeutral40,u.a.CoreGreen10,u.a.CoreGreen10),B)].join(" "),markApplied:[r.markApplied,s.a.style(M("100%"),{animation:"".concat(N," .25s linear forwards")})].join(" "),markSuccess:[r.markSuccess,s.a.style(P("100%"),{animation:"".concat(F," .25s linear forwards")})].join(" "),noAnimation:[r.noAnimation,s.a.style({animationDuration:"0s !important"})].join(" "),markVBarHighlighted:[r.markVBarHighlighted,s.a.style({backgroundColor:"#DEF7F5",borderBottom:"solid 5px #DEF7F5",borderTop:"solid 5px #DEF7F5"})].join(" "),markSelected:r.markSelected,markSelectedFocused:r.markSelectedFocused,markHeightStandard:r.markHeightStandard,markHeightTall:r.markHeightTall,markStart:r.markStart}}))},CcwN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("4GyQ"),l=n("nWMp");!function(e){e.Top=e=>o.createElement(t,Object(a._)(Object(i._)({},e),{where:"top"})),e.Bottom=e=>o.createElement(t,Object(a._)(Object(i._)({},e),{where:"bottom"}));const t=e=>o.createElement(s.a.div,Object(a._)(Object(i._)({onTransitionEnd:e.onTransitionEnd},Object(c.c)(e.className,"top"===e.where?u.fixedTop:u.fixedBottom)),{"aria-label":e["aria-label"],role:e.role}),e.children)}(r||(r={}));const u=l.a.stylesheet({fixedTop:[{position:"fixed",top:0,height:0}],fixedBottom:[{position:"fixed",bottom:0}]})},"D/bz":function(e,t,n){e.exports=n.p+"files/55c843b0b146c9d1db049e4751172fe1/inter-regular.woff2"},DKll:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n("DTwm"),i=n("cZKX"),a=n("B8yO"),o=n("IMGo"),s=n("7IMz"),c=n("xk6L"),l=n("mgiE"),u=n("0kuo"),d=n("+vYo"),p=n("OwvP"),m=n("l5lb"),f=n("ENBj"),h=n("nWMp"),g=function(e){var t=e.parentKey,n=e.from,r=e.transition,i=e.to,o=e.onAnimationEnd,s=e.renderContent,c=b(r.animateFrom,"from"),l=b(r.animateTo,"to"),u=c.needFullWidth||l.needFullWidth;return a.createElement("div",{className:h.a.joinClasses([v,u?y:""])},n&&a.createElement("div",{onAnimationEnd:function(){return o(r.fromName)},className:h.a.joinClasses(c.className)},s(n,"from-".concat(t),[])),a.createElement("div",{onAnimationEnd:function(){return o(r.toName)},className:h.a.joinClasses(l.className)},s(i,"to-".concat(t),[])))};function b(e,t){switch(e){case"fadeOut":return{className:[_],needFullWidth:!1};case"fadeIn":return{className:[w],needFullWidth:!1};case"slideLeft":return{className:k(t,"left"),needFullWidth:!0};case"slideRight":return{className:k(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var v=h.a.style({position:"relative",overflow:"hidden"}),y=h.a.style({width:"100%"}),O=h.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),_=h.a.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(O," ").concat(h.a.seconds(.3)," ease-out")}),C=h.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),w=h.a.style({animation:"".concat(C," ").concat(h.a.seconds(.3)," ease-out")}),S=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},k=function(e,t){var n="to"===e?0:"".concat(S("left"===t?-1:1)),r="from"===e?0:"".concat(S("left"===t?1:-1)),i=h.a.keyframes({from:{transform:"translateX(".concat(r,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),a=h.a.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=h.a.style({position:"from"===e?"absolute":"relative",animation:"".concat(i," ").concat(h.a.seconds(.3)," ease-out")});return"from"===e?[a,o]:[o]},E=n("pztc"),j=n("pKQL");function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function M(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function P(e){return function(e){if(Array.isArray(e))return e}(e)||I(e)||B(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return x(e)}(e)||I(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var L=function(e){var t=e.content,n=e.prevContent,h=e.transitions,b=e.designSystem,v=e.notify,y=e.onMount,O=e.onAnimationEnd,_=e.sduiRootId,C=e.longFormCardState,w=void 0===C?{viewKind:"collapsed"}:C,S=function(e){return"name"in e},k=function(e){return Object(r.pipe)(e,i.ub((function(e){return"applyAlerts"===e.type&&0===e.alternativeIndex?{type:"applyAlerts",alternativeIndex:I.get()}:"selectAlternative"===e.type?(I.set(e.alternativeIndex),e):e})))},x=function(e,t,n,i,s){return function(c){return Object(r.pipe)(e,l.g.fromNullable,l.g.chain(o.E),l.g.map((function(e){var o=P(e),d=o[0],p=o.slice(1);switch(d.type){case"behavior:strongAlertRef":return x(p,t,n,i,s)((function(e){return a.createElement(b.strongAlertRef,{key:"".concat(t,"-strongAlertRef"),alertIds:d.alertIds,children:c(M(T({},e),{alertRefs:d.alertIds}))})}));case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":return x(p,t,n,i,s)((function(e){return a.createElement(b.animation,M(T({key:"".concat(t,"-animation")},d),{children:c(e)}))}));case"behavior:popoverAnchor":return x(p,t,n,i,s)((function(e){return Object(r.pipe)(l.g.some(d),l.g.filter(j.b.PopoverAnchor.nonEmpty),l.g.fold((function(){return c(e)}),(function(i){var o=i.id,s=i.positionHint,l=i.view;return a.createElement(b.popoverAnchor,{key:"".concat(t,"-popoverAnchor"),inlineWrapper:"inline"===Object(f.c)(n),positionHint:s,popover:B(l.child,l.id,h,O,e),children:c(e),onShow:function(){return Object(r.pipe)(l.onShow,(function(t){return v(o,t||[],e)}))}})})))}));case"behavior:lifecycle":return x(p,t,n,i,s)((function(e){return a.createElement(b.lifecycle,{key:"".concat(t,"-lifecycle"),children:c(T({},e)),onMountHandler:R(e)(d.onMount,i),onUnmountHandler:R(e)(d.onUnmount,i)})}));default:Object(u.c)(d)}})),l.g.getOrElse(Object(r.constant)(c(s))))}},A=new Map,I=d.a.create(0),B=function(e,t,n,o,s){var c=S(e)?n.find((function(t){return t.toName===e.name.value})):void 0;if(void 0!==c){var d=A.get(c.fromName);return a.createElement(g,{key:F(t,e),parentKey:t,renderContent:function(e,t){return B(e,F(t,e),[],r.constVoid,s)},onAnimationEnd:o,from:d,to:e,transition:c})}return x(function(e){return"behaviors"in e}(e)?e.behaviors:void 0,F(t,e),e.type,e.id,s)((function(s){switch(e.type){case"text":return a.createElement(b.text,T({key:F(t,e)},e));case"clickableText":return a.createElement(b.clickableText,M(T({},e),{key:F(t,e),name:e.name.value,textView:b.text,onClick:R(s)(e.onClickActions,e.id)}));case"button":var c=B(e.label,t,n,o,s);return a.createElement(p.a.Fragment,{key:F(t,e)},I.view((function(n){return a.createElement(b.button[e.kind],{key:F(t,e),id:e.id,text:c,name:e.name.value,state:e.name.value===m.a.ComponentKnownName.ButtonAccept&&-1===n?m.a.ButtonState.Hidden:e.state,tooltip:e.tooltip,shape:e.shape,verticalAlign:"block"===e.label.type||"row"===e.label.type?e.label.verticalAlign:void 0,meta:e.meta,horizontalAlign:e.horizontalAlign,onClick:R(s)(e.actions,e.id)})})));case"alternativeChoice":return a.createElement(p.a.Fragment,{key:F(t,e)},I.view((function(n){return a.createElement(b.alternativeChoice,{key:F(t,e),id:e.id,designSystem:b,content:e.alternatives,activeIndex:n,notify:R(s),meta:e.meta})})));case"icon":return L(e.source,e.backgroundColor,F(t,e));case"image":return a.createElement(b.imageSized,T({key:F(t,e)},e));case"count":return a.createElement(b.count,T({key:F(t,e)},e));case"block":return a.createElement(b.block,M(T({key:F(t,e)},e),{children:e.parts.map((function(e,r){return B(e,F(t,{id:r.toString()}),n,o,s)}))}));case"row":return a.createElement(b.row,M(T({key:F(t,e)},e),{left:e.left.map((function(e,r){return B(e,F(t,{id:r.toString()}),n,o,s)})),right:e.right.map((function(e,r){return B(e,F(t,{id:r.toString()}),n,o,s)}))}));case"column":return a.createElement(b.column,M(T({key:F(t,e)},e),{children:e.children.map((function(e,r){return B(e,F(t,{id:r.toString()}),n,o,s)}))}));case"slider":return a.createElement(b.slider,T({key:F(t,e),designSystem:b,onChoiceSelected:R(s)},e));case"alternativeSlider":return a.createElement(b.alternativeSlider,T({key:F(t,e),designSystem:b,activeAltIndex:I.view(),notify:R(s)},e));case"strongAlertRef":var d=M(T({},s),{alertRefs:e.alertIds});return a.createElement(b.strongAlertRef,M(T({key:t},e),{children:B(e.child,t,n,o,d)}));case"scroll":return a.createElement(b.scroll,T({key:F(t,e),children:B(e.child,t,n,o,s)},e));case"box":return a.createElement(b.box,T({key:F(t,e),children:B(e.child,t,n,o,s)},e));case"list":return a.createElement(b.list,T({key:F(t,e),onSelect:function(e){var t=function(e,t){return e&&0!==e.length?Object(r.pipe)(e,i.ib,l.g.map((function(e){switch(e.type){case"behavior:strongAlertRef":return M(T({},t),{alertRefs:e.alertIds});case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":case"behavior:popoverAnchor":case"behavior:lifecycle":return t;default:Object(u.c)(e)}})),l.g.getOrElse((function(){return t}))):t}(e.behaviors,s);return R(t)(e.actions,e.id)()},onClick:function(t){return R(s)([{type:"positionedClick",source:e.type,sourcePosition:t.clickPoint}],e.id)()},renderItem:function(r,i){var c=F(t,e)+"."+i.toString(),l=B(r.label,t,n,o,s);return x(r.behaviors,c,e.type,e.id,s)((function(e){return a.createElement(b.listItem,{key:c,id:r.id,label:l,tooltip:r.tooltip,behaviors:r.behaviors,secondaryButtons:r.secondaryButtons.map((function(t){return M(T({},t),{onClick:R(e)(t.onClickActions,t.id)})})),designSystem:b,meta:r.meta})}))}},e));case"alertsCount":return a.createElement(b.alertsCount,T({key:F(t,e),textView:b.text},e));case"assistantCard":return a.createElement(b.assistantCard,M(T({key:F(t,e)},e),{child:B(e.child,t,n,o,s),footer:e.footer?B(e.footer,t,n,o,s):null}));case"nativeSkillsModal":return a.createElement(b.nativeSkillsModal,T({key:F(t,e)},e));case"nativeSkillsList":return a.createElement(b.nativeSkillsList,T({key:F(t,e),designSystem:b,notify:function(){return v(e.id,e.onSelect,s)}},e));case"nativeSkillsView":return a.createElement(b.nativeSkillsView,T({key:F(t,e)},e));case"nativeToneInsightsModal":return a.createElement(b.nativeToneInsightsModal,T({key:F(t,e)},e));case"nativeLearnMoreModal":return a.createElement(b.nativeLearnMoreModal,T({key:F(t,e)},e));case"nativeSettingsModal":return a.createElement(b.nativeSettingsModal,T({key:F(t,e)},e));case"nativeFeedbackModal":return a.createElement(b.nativeFeedbackModal,T({key:F(t,e)},e));case"nativeGetStartedChecklistModal":return a.createElement(b.nativeGetStartedChecklistModal,T({key:F(t,e),designSystem:b,notify:function(){return v(e.id,e.onComplete,s)}},e));case"nativeKeyTakeawaysAssistantCard":return a.createElement(b.nativeKeyTakeawaysAssistantCard,T({key:F(t,e)},e));case"nativeProofitModal":return a.createElement(b.nativeProofitModal,T({key:F(t,e)},e));case"viewStack":return Object(r.pipe)(l.g.fromNullable(e.views[e.selected]),l.g.fold((function(){return a.createElement("div",null,"unknown selected view, corresponding view is missing")}),(function(e){return B(e,t,n,o,s)})));case"dropDownMenuButton":return a.createElement(b.dropDownMenuButton,T({key:F(t,e),designSystem:b,onClick:R(s)},e));case"selectableDropDownMenu":return a.createElement(b.selectableDropDownMenu,T({key:F(t,e),designSystem:b,onClick:R(s)},e));case"nativeExperimentalGBConsistencyUpsellFooter":return a.createElement(b.nativeExperimentalGBConsistencyUpsellFooter,T({key:F(t,e)},e));case"nativeExperimentalGBToneInsightsUpsellFooter":return a.createElement(b.nativeExperimentalGBToneInsightsUpsellFooter,T({key:F(t,e)},e));case"nativeInlineCardContent":return a.createElement(b.nativeInlineCardContent,T({key:F(t,e)},e));case"inlineCard":return a.createElement(b.inlineCard,M(T({key:F(t,e)},e),{child:B(e.child,t,n,o,s)}));case"radioButtonsGroup":return a.createElement(b.radioButtonsGroup,T({key:F(t,e),designSystem:b,onClick:R(s)},e));case"collapsedCard":return a.createElement(b.collapsedCard,M(T({},e),{child:B(e.child,t,n,o,s),quickActions:e.quickActions?B(e.quickActions,t,n,o,s):null,onHoverChanged:function(t){return v(e.id,[{type:"hoverStateChanged",hovered:t}],s)},onPress:function(t){return R(s)([{type:"positionedClick",source:e.type,sourcePosition:t}],e.id)()}}));case"shortFormCard":return B(e.child,t,n,o,s);case"longFormCard":return a.createElement(b.longFormCard,M(T({},e),{fullContent:B(e.fullContent,t,n,o,s),collapsedContent:B(e.collapsedContent,t,n,o,s),viewKind:w.viewKind}));case"progressBar":return a.createElement(b.progressBar,T({key:F(t,e)},e));case"tooltip":return a.createElement(b.tooltip,{text:e.text,child:B(e.child,t,n,o,s),alignment:e.alignment});case"horizontalRule":return a.createElement(b.horizontalRule,T({key:F(t,e)},e));case"assistantFeed":case"lensesSwitchPanel":case"popoverStack":case"gButton":throw new Error("".concat(e.type," can not be rendered directly"));default:if(Object(f.b)(e))throw new Error("".concat(e.type," component rendering is not implemented here"));return a.createElement("div",null,"unknown element")}}))},L=function(e,t,n){return"known"===e.kind?a.createElement(b.icon[e.name],{key:n,backgroundColor:t}):a.createElement(b.image,M(T({key:n},e),{backgroundColor:t}))},R=function(e){return function(t,n){return function(){return Object(r.pipe)(t,k,(function(t){return v(n,t,e)}))}}};l.g.isSome(n)&&f.a.forEach(l.g.unsafeGet(n),(function(e){S(e)&&A.set(e.name.value,e)}));var D=h.reduce((function(e,t){return A.has(t.fromName)&&(e+=1),e+=1}),0),H=d.a.create([]);s.a.useSubscriptionTo(Object(r.pipe)(H,c.a.first((function(e){return e.length===D})),c.a.filter((function(){return D>0})),c.a.tap(O))),s.a.useEffectOnDidMount(y);return a.createElement(E.a.Context.Provider,{value:{alertIds:[]}},B(t,_,h,(function(e){return H.modify((function(t){return N(t).concat([e])}))}),{alertRefs:[]}))};function F(e,t){return"".concat(e,".").concat(t.id)}},DUEA:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("OwvP"),l=n("4GyQ"),u=n("0Qjk"),d=n("TKPA"),p=n("0kuo"),m=n("mgiE"),f=n("NDcT"),h=n("ldOx"),g=n("nWMp"),b=n("xk6L"),v=n("P9Nt");class y extends h.a{}const O=(e,t)=>{const n=e=>e+" "+M.transitionDelay;return e&&e.type===v.a.SuccessType.large&&t.type===v.a.SuccessType.small?{prev:{start:{main:M.fadeOutEnd,secondary:M.fadeOutEnd},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:M.visible,secondary:M.fadeInStart},end:{main:M.visible,secondary:M.fadeInEnd}}}:e&&e.type===v.a.SuccessType.small&&t.type===v.a.SuccessType.large?{prev:{start:{main:M.fadeOutEnd,secondary:M.fadeOutStart},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:M.visible,secondary:M.visible},end:{main:M.visible,secondary:M.visible}}}:{prev:{start:{main:M.fadeOutStart,secondary:M.fadeOutStart},end:{main:M.fadeOutEnd,secondary:M.fadeOutEnd}},next:{start:{main:n(M.fadeInStart),secondary:n(M.fadeInStart)},end:{main:n(M.fadeInEnd),secondary:n(M.fadeInEnd)}}}},_=(e,t,n,r=!1,i)=>{switch(t){case v.a.SuccessType.zero:return r?a.createElement(e.Birthday,{key:"nothing-to-check",animate:n,onComplete:i}):a.createElement(e.NothingToCheck,{key:"nothing-to-check",animate:n,onComplete:i});case v.a.SuccessType.small:case v.a.SuccessType.large:return a.createElement(e.NoIssuesFound,{key:"no-issues-found",animate:n,onComplete:i});case v.a.SuccessType.applied:case v.a.SuccessType.premiumOnboardingStart:case v.a.SuccessType.premiumOnboardingComplete:return a.createElement(e.EverythingIsClear,{key:"everything-is-clear",animate:n,onComplete:i});default:return Object(p.c)(t)}},C=({state:e,preventAnimation:t,illustrations:n,children:h,scoreStatus:g})=>{const C=a.useContext(f.a.Context),w=e.get(),S=g.view(e=>Object(s.pipe)(e,m.g.map(e=>e===u.a.Message.ScoresStatus.SENSITIVE),m.g.getOrElse(o.constFalse)));return a.createElement(c.a.Fragment,null,n.view(n=>a.createElement(c.a.div,{className:M.successContainer},e.pipe(b.a.pairwise(),b.a.map(([e,r])=>((e,t,n,r=!0,i)=>{switch(t.type){case v.a.SuccessType.zero:return n.type===v.a.SuccessType.large||n.type===v.a.SuccessType.small?!0===t.showBirthday?a.createElement(e.Birthday,{key:"no-issue-found-to-nothing-to-check",animate:r,onComplete:i}):a.createElement(e.NoIssueFoundToNothingToCheck,{key:"no-issue-found-to-nothing-to-check",animate:r}):_(e,t.type,r,t.showBirthday,i);case v.a.SuccessType.applied:return _(e,t.type,r,!1,i);case v.a.SuccessType.large:case v.a.SuccessType.small:return n.type===v.a.SuccessType.zero?a.createElement(e.NothingToNoIssueFound,{key:"nothing-to-no-issue-found",animate:r,onComplete:i}):_(e,t.type,r&&n.type!==v.a.SuccessType.large&&n.type!==v.a.SuccessType.small,!1,i);default:return Object(p.c)(t)}})(n,r,e,!t)),b.a.startWith(_(n,w.type,!t,w.type===v.a.SuccessType.zero&&w.showBirthday))),a.createElement(y,{className:M.animationWrapper,state:e.pipe(b.a.map(e=>((e,t)=>{const n=t.successLens;switch(e.type){case v.a.SuccessType.zero:return!0===e.showBirthday?{type:v.a.SuccessType.zero,title:"It’s our birthday!",firstLine:a.createElement(a.Fragment,null,"Time to let ",a.createElement("s",null,"lose")," loose.")}:Object(i._)(Object(r._)({},n.emptyText),{type:v.a.SuccessType.zero});case v.a.SuccessType.small:return Object(i._)(Object(r._)({},n.smallText),{type:v.a.SuccessType.small});case v.a.SuccessType.large:return Object(i._)(Object(r._)({},n.largeText),{type:v.a.SuccessType.large});case v.a.SuccessType.applied:return{title:n.fixedText.titles[Object(d.q)(9)],type:v.a.SuccessType.applied,secondLine:void 0};default:return Object(p.c)(e)}})(e,C))),stateToClassMapper:O},({state:e,view:t})=>a.createElement("div",{"data-name":"success-lens-text",key:e.type,className:M.textWrapper},a.createElement(c.a.Fragment,null,S.view(n=>n?a.createElement("div",{className:M.successContent},null!=h?a.createElement(c.a.span,Object(l.c)(M.successText,t.pipe(b.a.map(e=>e.main))),h):null):a.createElement(a.Fragment,null,a.createElement(c.a.div,Object(l.c)(M.successTitle,t.pipe(b.a.map(e=>e.main))),e.title),a.createElement("div",{className:M.successContent},a.createElement(c.a.div,{key:"firstLine",className:t.pipe(b.a.map(e=>e.main))},e.firstLine),a.createElement(c.a.div,{key:"secondLine",className:t.pipe(b.a.map(e=>e.secondary))},e.secondLine),null!=h?a.createElement(c.a.span,Object(l.c)(M.successText,t.pipe(b.a.map(e=>e.main))),h):null)))))))))},w={display:"flex",flexDirection:"column",height:g.a.percent(100),justifyContent:"flex-start",alignItems:"center"},S={marginTop:g.a.rem(11.5)},k={marginTop:g.a.rem(2),textAlign:"center",wordSpacing:g.a.rem(.06),fontWeight:"bold",fontSize:g.a.rem(.9375)},E={marginTop:g.a.rem(.8),textAlign:"center",whiteSpace:"pre-line",wordSpacing:g.a.rem(.06),fontSize:g.a.rem(.875),lineHeight:g.a.rem(1.5)},j={position:"relative",display:"flex",width:g.a.percent(100),justifyContent:"center"},x={opacity:1,transition:"opacity "+g.a.seconds(.15)},A={opacity:0,transition:"opacity "+g.a.seconds(.15)},I={transitionDelay:g.a.seconds(.15)},T={right:g.a.rem(-.825)},M=g.a.stylesheet({successContainer:[w],successIcon:[S],successTitle:[k],successContent:[E],animationWrapper:[j],textWrapper:[{position:"absolute"}],fadeOutStart:[x],fadeOutEnd:[x,{opacity:0}],fadeInStart:[A],fadeInEnd:[A,{opacity:1}],visible:[{opacity:1}],transitionDelay:[I],backButton:[T],successText:[{display:"flex",flexDirection:"column",alignItems:"center"}]})},Djdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,i=n("Vv+i"),a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("4mQT"),l=n("x+Pc"),u=n("hcme"),d=n("mMt2"),p=n("t5lx"),m=n("000W"),f=n("DTwm"),h=n("tiWp"),g=n("M5RY"),b=n("B/Ki"),v=n("fr9z"),y=n("gg7t"),O=n("ShUL"),_=n("xk6L"),C=n("yIk2"),w=n("IjjT"),S=n("mgiE"),k=n("0kuo"),E=n("M3t0");!function(e){e.rangeMismatch="range_mismatch",e.partialRemoveMismatch="partial_update_mismatch",e.noMarkInDom="no_mark_in_dom"}(r||(r={}));var j=function(){function e(t,n,i){Object(a.a)(this,e),Object(s._)(this,"action",void 0),Object(s._)(this,"got",void 0),Object(s._)(this,"expected",void 0),Object(s._)(this,"type",void 0),this.action=t,this.got=n,this.expected=i,this.type=r.rangeMismatch}return Object(o.a)(e,[{key:"toString",value:function(){return"".concat(this.type," on action '").concat(this.action,"', expected: ").concat(this.expected,", got: ").concat(this.got)}}]),e}(),x=function(){function e(t,n,i){Object(a.a)(this,e),Object(s._)(this,"action",void 0),Object(s._)(this,"got",void 0),Object(s._)(this,"expected",void 0),Object(s._)(this,"type",void 0),this.action=t,this.got=n,this.expected=i,this.type=r.partialRemoveMismatch}return Object(o.a)(e,[{key:"toString",value:function(){return"".concat(this.type," on action '").concat(this.action,"', expected: ").concat(this.expected,", got: ").concat(this.got)}}]),e}(),A=function(){function e(t,n){Object(a.a)(this,e),Object(s._)(this,"action",void 0),Object(s._)(this,"got",void 0),Object(s._)(this,"type",void 0),this.action=t,this.got=n,this.type=r.noMarkInDom}return Object(o.a)(e,[{key:"toString",value:function(){return"".concat(this.type," on action '").concat(this.action,"' for range: ").concat(this.got)}}]),e}();function I(e,t){return Object(h.pipe)((n=e,S.b.tryCatchError((function(){return n.ops.reduce((function(e,t){var n=e.deltaMarks,r=e.deltaLength;if(!b.a.isInsert(t))throw new Error("Quill marks: insert delta expected ".concat(t));var i=b.a.getInsertLength(t),a=t.attributes||{},o=Object.keys(a);return 0===o.length||o.filter(w.r).forEach((function(e){var t=v.b.create(r,r+i,a[e]);if(n.has(e)){var o=n.get(e);if(o.start>t.end+1)throw new Error("Corrupted partial range. End part1: ".concat(t.end,", start part2: ").concat(o.start));n.set(e,v.b.join(t,o))}else n.set(e,t)})),{deltaMarks:n,deltaLength:r+i}}),{deltaMarks:new Map,deltaLength:0}).deltaMarks}))),S.b.map((function(e){return Object(h.pipe)(t.map((function(t){return Object(h.pipe)(S.g.fromNullable(e.get(Object(w.n)(t.id))),(function(e){return function(e,t){return Object(h.pipe)(t,S.g.fold((function(){return v.b.isEmpty(e.range)?S.g.none:S.g.some(S.b.right(new A(e.action,e.range)))}),(function(t){return e.action===y.a.Change.ActionType.remove&&e.removeType===O.a.Change.RemoveType.partial?v.b.contains(e.range,t)?S.g.none:S.g.some(S.b.left(new x(e.action,e.range,t))):v.b.ord.equals(t,e.range)?S.g.none:S.g.some(v.b.contains(t,e.range)?S.b.right(new j(e.action,e.range,t)):S.b.left(new j(e.action,e.range,t)))})))}(t,e)}))})),m.y.sequence(S.g.option),S.g.getOrElse((function(){return[]})))})));var n}var T=g.import("core/module");function M(e,t){var n;return null===(n=e.getAttribute("data-mark-id"))||void 0===n?void 0:n.startsWith(t.split("|")[0])}var P=function(){function e(t,n,r,i,o){Object(a.a)(this,e),Object(s._)(this,"id",void 0),Object(s._)(this,"_getParentRect",void 0),Object(s._)(this,"_getPosition",void 0),Object(s._)(this,"_getNodeAt",void 0),Object(s._)(this,"_getContents",void 0),Object(s._)(this,"_cachedMarkLength",void 0),Object(s._)(this,"_cachedNodes",void 0),this.id=t,this._getParentRect=n,this._getPosition=r,this._getNodeAt=i,this._getContents=o,this._cachedMarkLength=v.b.size(S.b.getOrElse((function(){return v.b.empty}))(this.range())),this._cachedNodes=null}return Object(o.a)(e,[{key:"fromMarkEvent",value:function(e){return Object(h.pipe)(this._getCachedDomNodes(),S.b.chain(S.g.fold((function(){return S.b.left(new y.a.CollapsedMarkError("cannot animate collapsed mark"))}),(function(e){var t=Object(u._)(e,1)[0];return S.b.right(t)}))),S.b.fold((function(e){return _.a.of(S.b.left(e))}),(function(t){return _.a.fromEvent(t,e).pipe(_.a.map(S.b.right))})))}},{key:"range",get:function(){return this._getPosition(this.id)}},{key:"getRect",value:function(){var e=this;return Object(h.pipe)(this._getCachedDomNodes(),S.b.chain(S.g.fold((function(){return S.b.left(new y.a.CollapsedMarkError("Cannot get rect for collapsed mark"))}),(function(t){var n=Object(u._)(t,2),r=n[0],i=n[1];return Object(h.pipe)(S.f.fromArray(r===i?Array.from(r.getClientRects()):Object(d.a)(Array.from(r.getClientRects())).concat(Object(d.a)(Array.from(i.getClientRects())))),S.g.fold((function(){return S.b.left(new Error("getClientRects returned nothing "))}),(function(t){return S.b.right({rootClientRect:e._getParentRect(),clientRects:t})})))}))))}},{key:"_getCachedDomNodes",value:function(){var e=this;return Object(h.pipe)(this.range(),S.b.fold((function(){return S.b.right(S.g.none)}),(function(t){var n=v.b.size(t);return null!==e._cachedNodes&&null!==e._cachedNodes[0].parentElement&&null!==e._cachedNodes[1].parentElement&&e._cachedMarkLength===n&&M(e._cachedNodes[0],e.id)&&M(e._cachedNodes[1],e.id)?S.b.right(S.g.some(e._cachedNodes)):Object(h.pipe)(e._getUnderlines(),S.b.map(S.g.map((function(t){var r=Object(u._)(t,2),i=r[0],a=r[1];return e._cachedNodes=[i.domNode,a.domNode],e._cachedMarkLength=n,e._cachedNodes}))))})))}},{key:"_getUnderlines",value:function(){var e=this;return Object(h.pipe)(this.range(),S.b.fold((function(){return S.b.right(S.g.none)}),(function(t){return S.b.tryCatchError((function(){var n=t.start,r=t.end,i=e._getNodeAt(n+1)[0],a=e._getNodeAt(r)[0],o=w.g.findUnderlineUp(i),s=w.g.findUnderlineUp(a);return Object(k.f)(null!==o&&null!==s,"Cannot find corresponding Marker. Looks like we are trying to show/hide non-existing alert/underline",(function(){return"id=".concat(e.id,"; first=").concat(o,"; firstNode=").concat(i,"; last=").concat(s,"; lastNode=").concat(a,", getContents=").concat(e._getQuillContents(t,20))})),S.g.some([o,s])}))})))}},{key:"_getQuillContents",value:function(e,t){var n=e.start,r=e.end,i=n-t,a=this._getContents(i<0?0:i,r+t),o=b.a.anonymizeTextAndStringAttrs(a);return JSON.stringify(o)}}]),e}(),N=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e,r){var o;Object(a.a)(this,n),o=t.call(this,e,r),Object(s._)(Object(i.a)(o),"quill",void 0),Object(s._)(Object(i.a)(o),"options",void 0),Object(s._)(Object(i.a)(o),"_subs",void 0),Object(s._)(Object(i.a)(o),"_marks",void 0),Object(s._)(Object(i.a)(o),"_log",void 0),Object(s._)(Object(i.a)(o),"activeMarks",void 0),Object(s._)(Object(i.a)(o),"hoveredMarks",void 0),Object(s._)(Object(i.a)(o),"markChangeApplied",void 0),Object(s._)(Object(i.a)(o),"getMarkById",void 0),Object(s._)(Object(i.a)(o),"changeMarks",void 0),o.quill=e,o.options=r,o._subs=[],o._marks=new Map,o._log=E.d.Logging.getLogger("MarksManager",E.a.LogLevel.DEBUG),o.activeMarks=new _.a.BehaviorSubject(S.g.none),o.hoveredMarks=new _.a.BehaviorSubject(S.g.none),o.markChangeApplied=new _.a.Subject,o.getMarkById=function(e){return Object(h.pipe)(o._marks.get(e),S.b.fromNullable(new Error("Cannot find mark by id: ".concat(e))))},o.changeMarks=function(e){if(0===e.length)return y.a.Change.Result.getEmpty();var t=o._getMarksModels(e);return o._marksValidation(e,Object(w.y)(o.quill.editor.delta),o.options.getOpsHistory()),o.quill.updateContents(Object(w.z)(Object(w.t)(e,o._getMarkAttributes)),g.sources.API),e.forEach((function(e){return e.action===y.a.Change.ActionType.remove&&Object(w.i)(e.id)})),o.markChangeApplied.next(e.map((function(e){return e.id}))),t};var c=Object(w.A)(o.quill).pipe(_.a.share());return o._subs.push(c.pipe(_.a.filter(w.k)).subscribe((function(e){var t=e.delta;o._unwrapMarkExtension(t.ops)})),c.pipe(_.a.filter(w.l),_.a.filter((function(e){var t=e.range;return Boolean(t)&&0===t.length})),_.a.distinctUntilChanged((function(e,t){return e.range.index===t.range.index&&e.range.length===t.range.length})),_.a.map((function(e){var t=e.range;return e.source===g.sources.USER?Object(h.pipe)(S.g.fromNullable(t),S.g.chain((function(e){var t=o.quill.getLeaf(e.index)[0],n=o.quill.getLeaf(e.index+1)[0];if(n!==t&&Boolean(n)){var r=Object(h.pipe)(o._getMarksByBlot(t),S.g.fold((function(){return[]}),f.identity)),i=Object(h.pipe)(o._getMarksByBlot(n),S.g.fold((function(){return[]}),f.identity));return S.f.fromNullableArray(r.concat(i))}return o._getMarksByBlot(t)}))):S.g.none}))).subscribe(o.activeMarks),_.a.combineLatestStatic(_.a.mergeStatic(_.a.fromEvent(o.quill.root,"mouseenter").pipe(_.a.mapTo(!0)),_.a.fromEvent(o.quill.root,"mouseleave").pipe(_.a.mapTo(!1))).pipe(_.a.distinctUntilChanged()),o.options.ongoingSelection).pipe(_.a.switchMap((function(e){var t=Object(u._)(e,2),n=t[0];return t[1]?_.a.of(S.g.none):n?_.a.mergeStatic(r.contentUpdated.pipe(_.a.mapTo(S.g.none)),r.scrollPositionChanged.pipe(_.a.mapTo(S.g.none)),_.a.fromEvent(o.quill.root,"mousemove",{passive:!0}).pipe(_.a.auditTime(50),_.a.map((function(e){var t=document.elementFromPoint(e.clientX,e.clientY);try{var n=g.find(t,!0);return!Boolean(n)||Object(l.a)(n,g)?S.g.none:o._getMarksByBlot(n)}catch(e){return S.g.none}})))):_.a.of(S.g.none).pipe(_.a.delay(200))})),_.a.distinctUntilChanged(S.g.getEq({equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return t[n]===e}))}}).equals)).subscribe(o.hoveredMarks)),o}return Object(o.a)(n,[{key:"_getMarksByBlot",value:function(e){var t=this;return Object(h.pipe)(S.g.fromNullable(w.g.getMarksIdsByBlot(e)),S.g.filterMap(Object(f.flow)(m.V(Object(f.flow)((function(e){return t._marks.get(e)}),S.g.fromNullable)),S.f.fromArray)))}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}},{key:"_marksValidation",value:function(e,t,n){var r=this,i=e.filter((function(e){return!(e.action!==y.a.Change.ActionType.remove&&e.action!==y.a.Change.ActionType.update||v.c.is(e.meta.range())||Object(w.s)(e.id))})).map((function(e){return{id:e.id,action:e.action,range:v.b.copy(e.meta.range())}}));i.length>0&&C.b.Scheduler.inRic(_.a.of(void 0),2e3).pipe(_.a.map((function(){return I(t,i)})),_.a.first()).subscribe({next:S.b.fold((function(e){return r._log.warn("Cannot collect marks to validate",e)}),(function(e){return e.forEach(S.b.fold((function(e){r._log.warn("Got invalid marks",{error:e,opsHistory:n})}),(function(e){return r._log.info("Range does not match with mark",{rangeMismatch:e,opsHistory:n})})))}))})}},{key:"_createMarkModel",value:function(e){var t=this,n=new P(e.id,(function(){return t.quill.container.getBoundingClientRect()}),(function(){return function(){var t=e.meta.range();return v.b.isEmpty(t)?S.b.left(t):S.b.right(t)}}),(function(e){return t.quill.getLeaf(e)}),(function(e,n){return Object(w.y)(t.quill.getContents(e,n))}));return this._marks.set(n.id,n),Object(w.w)(n.id),n}},{key:"_getMarksModels",value:function(e){var t=this;return e.reduce((function(e,n){switch(n.action){case y.a.Change.ActionType.create:var r=t._createMarkModel(n);e.created.set(r.id,S.b.right(r));break;case y.a.Change.ActionType.update:t._marks.has(n.id)?e.created.set(n.id,S.b.right(t._marks.get(n.id))):e.updated.set(n.id,S.b.left(new k.b("Cannot update unknown mark")));break;case y.a.Change.ActionType.remove:if(!t._marks.has(n.id))throw e.removed.set(n.id,S.b.left(new k.b("Cannot remove unknown mark"))),new k.b("Cannot remove unknown mark");t._marks.delete(n.id),t._ensureActive(n.id),e.removed.set(n.id,S.b.right(void 0));break;default:Object(k.c)(n)}return e}),y.a.Change.Result.getEmpty())}},{key:"_getMarkAttributes",value:function(e){var t=Object(w.n)(e.id);switch(e.action){case y.a.Change.ActionType.create:return Object(s._)({},t,{action:y.a.Change.ActionType.create,id:e.id,classes:e.meta.classes,order:e.meta.order});case y.a.Change.ActionType.update:return Object(s._)({},t,{action:y.a.Change.ActionType.update,id:e.id,classes:e.meta.classes,order:e.meta.order});case y.a.Change.ActionType.remove:return Object(s._)({},t,!1);default:return Object(k.c)(e)}}},{key:"_ensureActive",value:function(e){var t=this;Object(h.pipe)(this.activeMarks.getValue(),S.g.filter((function(t){return t.some((function(t){return t.id===e}))})),S.g.map((function(){t.activeMarks.next(S.g.none)}))),Object(h.pipe)(this.hoveredMarks.getValue(),S.g.filter((function(t){return t.some((function(t){return t.id===e}))})),S.g.map((function(){return t.hoveredMarks.next(S.g.none)})))}},{key:"_findInsertsToUnwrap",value:function(e,t){return this.quill.scroll.path(e+1).reduce((function(n,r){var i=Object(u._)(r,2),a=i[0],o=i[1];return Object(l.a)(a,w.e)?((1===o&&!w.g.hasSameIdSibling(a,w.g.LOOKUP_DIRECTION.left)||o+t-1===a.length()&&!w.g.hasSameIdSibling(a,w.g.LOOKUP_DIRECTION.right))&&n.push(O.a.Change.getRemoveAction({range:function(){return v.b.create(e,e+t)}},O.a.Change.RemoveType.partial)(a.markId)),n):n}),[])}},{key:"_unwrapMarkExtension",value:function(e){var t=this,n=e.reduce((function(e,n){var r,i=e.start,a=e.toRemove;Object(w.q)(n)&&(r=a).push.apply(r,Object(d.a)(t._findInsertsToUnwrap(i,b.a.getInsertLength(n))));return{start:i+Object(w.h)(n),toRemove:a}}),{start:0,toRemove:[]}).toRemove;n.length&&this.quill.updateContents(Object(w.z)(Object(w.t)(n,this._getMarkAttributes)),g.sources.API)}}]),n}(T);Object(s._)(N,"DEFAULTS",{})},DkqI:function(e){e.exports=JSON.parse('{"wrapper":"_3995e1ae-order-wrapper","row":"_87694a02-order-row","col":"_d5b7da38-order-col","leftCol":"_88bf7f72-order-leftCol _d5b7da38-order-col"}')},E5C1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return w}));var r,i,a,o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("JOKA"),u=n("tiWp"),d=n("+vYo"),p=n("lXop"),m=n("xk6L"),f=n("bM8p"),h=n("TKPA"),g=n("mgiE"),b=n("0kuo"),v=n("M3t0"),y=n("Eve8"),O=n("txgs"),_=n("s1NC"),C=n("OXKW");function w(e,t,n,r,i,a,o,s,c,l,u){var d=new m.a.Subject;return{viewModel:new S(e,d,t,n,r,i,a,o,s,c,l,u),events:d}}!function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(r||(r={})),function(e){e.close="close",e.myGrammarly="myGrammarly",e.documentHeader="documentHeader",e.newDocument="newDocument",e.uploadFile="uploadFile",e.download="download",e.print="print",e.editHeader="editHeader",e.editorSettings="editorSettings",e.accountHeader="accountHeader",e.userName="userName",e.email="email",e.upgradeToPremium="upgradeToPremium",e.language="language",e.subscription="subscription",e.logout="logout",e.support="support",e.whatsNew="whatsNew",e.feedback="feedback",e.privacyPolicy="privacyPolicy",e.termsOfService="termsOfService",e.reportABug="reportABug"}(i||(i={})),function(e){e.uploadFile="uploadFile",e.accountHeaderLabel="accountHeaderLabel",e.languageSettings="languageSettings",e.whatsNewUpdates="whatsNewUpdates"}(a||(a={}));var S=function(){function e(t,n,i,a,s,p,b,_,w,S,k,E){var j=this;Object(o.a)(this,e),Object(c._)(this,"_scheme",void 0),Object(c._)(this,"_events",void 0),Object(c._)(this,"_textResources",void 0),Object(c._)(this,"_userAccount",void 0),Object(c._)(this,"_dialectSettings",void 0),Object(c._)(this,"_uploadViewModel",void 0),Object(c._)(this,"_environment",void 0),Object(c._)(this,"_notificationsManager",void 0),Object(c._)(this,"_telemetry",void 0),Object(c._)(this,"_documentModel",void 0),Object(c._)(this,"_appRouter",void 0),Object(c._)(this,"_isEditorFocused",void 0),Object(c._)(this,"itemsState",void 0),Object(c._)(this,"visualState",void 0),Object(c._)(this,"items",void 0),Object(c._)(this,"head",void 0),Object(c._)(this,"getHotkeyString",void 0),Object(c._)(this,"getBindings",void 0),Object(c._)(this,"onMenuHovered",void 0),Object(c._)(this,"onGoBackToGrammarlyHome",void 0),Object(c._)(this,"onOpenToolbar",void 0),Object(c._)(this,"_changeDialect",void 0),this._scheme=t,this._events=n,this._textResources=i,this._userAccount=a,this._dialectSettings=s,this._uploadViewModel=p,this._environment=b,this._notificationsManager=_,this._telemetry=w,this._documentModel=S,this._appRouter=k,this._isEditorFocused=E,this.visualState=d.a.create({type:r.Collapsed}),this.items=[],this.getHotkeyString=f.a.HotkeyOptions.toString(this._environment.has(O.b.Flag.isAppleSystem)),this.getBindings=Object(u.pipe)(this._scheme,C.a.Scheme.toBindingProvider((function(e){return j._events.next(e)}),(function(){return j._isEditorFocused.pipe(m.a.combineLatest(j.visualState.pipe(m.a.map((function(e){return e.type===r.Expanded}))),h.o))}))),this.onMenuHovered=function(){j._documentModel.flush().catch((function(e){return v.d.Logging.getLogger("documentSettings").error("Could not flush document from toolbar",e)}))},this.onGoBackToGrammarlyHome=function(){j._telemetry.gnarSpec.backToMyGrammarlyButtonClick(j._telemetry.pageId,"inline"),j._appRouter.navigate(y.a.routes.documents.href())},this.onOpenToolbar=function(){j.visualState.set({type:r.Expanded,scrollTo:g.g.none})},this._changeDialect=function(e){return m.a.from(j._dialectSettings.setDialect(e)).pipe(m.a.tap((function(){Object(u.pipe)(j._environment.actions.dialectChanged(),g.b.mapLeft((function(e){v.d.Logging.getLogger("documentSettings").error("env error during dialect change",e)}))),j._telemetry.gnarSpec.docSettingsLanguageEventFire(e,j._telemetry.pageId)})),m.a.catchError((function(e){return v.d.Logging.getLogger("documentSettings").error("Cannot set language preferences",e),j._notificationsManager.enqueue("error")}))).toPromise()},this.itemsState=d.a.create(t.filter(C.a.isItem).reduce((function(e,t){return e[t.name]=t.initialState,e}),{}));var x=Object(l.a)(t.map((function(e){return j._createViewItem(e)}))),A=x[0],I=x.slice(1);this.head=A,this.items=I}return Object(s.a)(e,[{key:"_createViewItem",value:function(e){var t=this;return C.a.isItem(e)?{name:e.name,title:this._getTitle(e.name),tooltip:this._getTooltip(e.name),nestedItem:this._getNestedItem(e),active:this.itemsState.view(e.name,"active"),disabled:this.itemsState.view(e.name,"disabled"),onClick:function(){return t._events.next({event:e.name,source:C.a.Source.View})}}:e}},{key:"_getNestedItem",value:function(e){var t=this,n=e.name;switch(n){case i.uploadFile:if(this._userAccount.features.demoMode)return g.g.none;var r=_.d.ACCEPTED_UPLOAD_EXTENSIONS.filter((function(e){return".doc"!==e&&".htm"!==e&&".html"!==e})).join(", ");return g.g.some(g.b.right({type:a.uploadFile,uploadViewModel:this._uploadViewModel,label:r}));case i.newDocument:case i.print:case p.d.undo:case p.d.redo:case p.d.cut:case p.d.copy:case p.d.paste:case p.d.selectAll:return Object(u.pipe)(e.hotkey,g.g.map((function(e){return g.b.left(t.getHotkeyString(e[0]))})));case i.accountHeader:return g.g.some(g.b.right({type:a.accountHeaderLabel,denaliUserType:this._userAccount.features.denaliUserType}));case i.language:return g.g.some(g.b.right({type:a.languageSettings,dialectSettings:this._dialectSettings,changeDialect:this._changeDialect}));case i.download:return this._documentModel.rtfMode===_.d.DocumentFeatures.FormattingMode.on?g.g.some(g.b.left(this._textResources.documentSettings.downloadLabel)):g.g.none;case i.close:case i.myGrammarly:case i.documentHeader:case i.editHeader:case i.editorSettings:case i.userName:case i.email:case i.upgradeToPremium:case i.subscription:case i.logout:case i.support:case i.whatsNew:case i.feedback:case i.reportABug:case i.privacyPolicy:case i.termsOfService:return g.g.none;default:return Object(b.c)(n)}}},{key:"_getTitle",value:function(e){var t=this._userAccount.profile.get();switch(e){case i.userName:return t.fullName;case i.email:return t.email;default:return this._textResources.documentSettings[e]}}},{key:"_getTooltip",value:function(e){switch(e){case i.documentHeader:case i.editHeader:case i.accountHeader:case i.email:case i.userName:return g.g.none;default:var t=this._textResources.documentSettings;return g.g.some(e in t.tooltips?t.tooltips[e]:t[e])}}}]),e}()},EBIN:function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return re})),n.d(t,"a",(function(){return Z}));var r={};n.r(r),n.d(r,"sendToSignIn",(function(){return A})),n.d(r,"sendToIdeasGallery",(function(){return I})),n.d(r,"handleGbPrompt",(function(){return T}));var i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("8h56"),c=n("DTwm"),l=n("tiWp"),u=n("O+SZ"),d=n("+vYo"),p=n("0Qjk"),m=n("mgiE"),f=n("0kuo"),h=n("RRF2"),g=n("TKPA"),b=n("skc2"),v=n("00I3"),y=n("M3t0"),O=n("ksEe"),_=n("Hj2R"),C=n("D2TP"),w=n("xk6L"),S=n("La5+"),k=n("ZDrO"),E=n("aODX"),j=n("itj6"),x=n("KZgA");const A=(e,t)=>Object(c.flow)(w.a.filter(e=>e.type===j.b.Type.toSignIn),w.a.map(()=>n=>(e.actions.openUrl(new b.a(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),n))),I=(e,t)=>Object(c.flow)(w.a.filter(j.b.isOpenIdeasGallery),w.a.tap(()=>e.actions.openPopup(new b.a(t.ideas.galleryURL))),w.a.switchMapTo(w.a.EMPTY)),T=(e,t,n)=>r=>w.a.mergeStatic(Object(l.pipe)(r,w.a.filter(j.b.isGbPromptShow),w.a.tap(e=>M(e,n)),w.a.switchMapTo(w.a.EMPTY)),Object(l.pipe)(r,w.a.filter(j.b.isGbPromptApply),w.a.tap(r=>P(e,t,r,n)),w.a.switchMapTo(w.a.EMPTY)),Object(l.pipe)(r,w.a.filter(j.b.isGbPromptCreateRule),w.a.tap(e=>N(e,n)),w.a.switchMapTo(w.a.EMPTY)),Object(l.pipe)(r,w.a.filter(j.b.isGbPromptDismiss),w.a.tap(e=>B(e,n)),w.a.switchMapTo(w.a.EMPTY))),M=({patternName:e},t)=>t.onShow(e),P=(e,t,n,r)=>_.g.isVox(n.gbPrompt)?L(e,t,n,r):D(e,t,n,r),N=(e,t)=>_.g.isVox(e.gbPrompt)?U(e,t):G(),B=(e,t)=>_.g.isVox(e.gbPrompt)?q(e,t):K(e,t),L=(e,t,n,r)=>"redirect"===n.gbPrompt.promptType?F(e,t,n,r):R(),F=(e,t,{gbPrompt:{styleGuideId:n},source:r,target:i,patternName:a},o)=>{e.actions.openPopup(new b.a(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:r,target:i,styleGuideId:n})),o.onAccept(a)},R=()=>{},D=(e,t,n,r)=>"redirect"===n.gbPrompt.promptType?H(e,t,n,r):V(n,r),H=(e,t,{gbPrompt:n,patternName:r},i)=>{e.actions.openPopup(new b.a(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:n.categoryTitle})),i.onAccept(r)},V=({patternName:e},t)=>t.onAccept(e),U=(e,t)=>"redirect"===e.gbPrompt.promptType?W():z(e,t),W=()=>{},z=({patternName:e},t)=>t.onAccept(e),G=()=>{},q=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e),K=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e);var $,Z,Y=n("hzat"),X=n("SOPW"),Q=n("/1wo"),J=n("mDV6"),ee=n("iVUr"),te=n("d3CI"),ne=n("wdnv");!function(e){const t=(e,t,n,r)=>Object(l.pipe)(r(t=>(t.lensId===e.id||C.a.isMainLens(e.id))&&!_.a.isPremium(t),"middleOfTheViewport"),m.g.fold(()=>w.a.EMPTY,r=>Object(l.pipe)(n(e),m.g.filter(e=>e.activeAlert.id===r.alert.id),m.g.fold(()=>w.a.of(r),e=>((e,n)=>Object(l.pipe)(t,m.g.map(t=>t.alignMarkToCard(e,x.a.Animation.ANIMATE_ALL,m.g.none).pipe(w.a.switchMapTo(w.a.EMPTY))),m.g.getOrElse(()=>w.a.of(n))))(Object(c.unsafeCoerce)(e),r)))));e.changeAlertEffect=(e,n,r,i,a,o,s,c)=>({id:"changeAlertEffect",when:C.a.isWithAlertsId,what:te.e.Effect.SwitchAlert.create(n.actionEvents.pipe(w.a.switchMap(n=>{const u=e.get();if(!te.e.hasCards(u))return w.a.throwError(new f.b("Cannot update state without cards"));switch(n.type){case j.b.Type.alertMinicardButtonClick:return Object(l.pipe)(a.getRegistered(n.alertHighlight.alert.id),m.g.fold(()=>(c.error("somehow we got click on non registered alert",{alert:Y.a.snapshot(n.alertHighlight.alert),alertInRepo:Object(l.pipe)(a.getById(n.alertHighlight.alert.id),m.g.map(Y.a.fromModel),m.g.map(Y.a.snapshot)),state:te.e.snapshot(Q.a.snapshot,i)(u)}),w.a.EMPTY),()=>w.a.of(n.alertHighlight)));case j.b.Type.cardMatchesNavigationButtonClick:const e=n.transitionTo;switch(e.kind){case"anotherAlert":return Object(l.pipe)("right"===n.direction?r.nextAlert(e.card):Object(l.pipe)(r.prevAlert(e.card),m.g.orElse(r.anyRegisteredAlert(e.card))),m.g.fold(()=>w.a.EMPTY,e=>w.a.of({alert:e,highlightIndex:0})));case"sameAlert":return Object(l.pipe)(a.getRegistered(e.card.activeAlert.id),m.g.fold(()=>w.a.EMPTY,()=>w.a.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex})));default:return Object(f.c)(e)}case j.b.Type.switchToClosestByViewport:return t(u.currentLens,o,i,s);default:return w.a.EMPTY}}),w.a.map(e=>({alertHighlight:e,alertSource:_.b.sidebar,options:{order:"lensOrder"}}))))});e.createSendActiveAlertFeedbacksEffect=function(e,t,n,r,i){const a=e.pipe(w.a.map(te.e.getActiveAlert(t)),w.a.distinctUntilChanged(m.g.getEq(m.c.fromEquals((e,t)=>Y.a.eq.equals(e,t)&&e.patternName===t.patternName)).equals),w.a.map(Object(c.flow)(m.g.map(h.e.pick("id")),m.g.chain(r.getValidForFeedback))),w.b.compactMap(e=>w.a.Observable.create(()=>(Object(l.pipe)(r.getValidForFeedback(e.id),m.g.tap(()=>Object(l.pipe)(n.applyFeedback(e.id,{kind:p.a.AlertFeedbackType.LOOKED,subtype:p.a.FeedbackSubtype.Sidebar},_.b.sidebar),m.b.fold(e=>i.error("Failed to send LOOKED feedback",e),g.e)))),()=>Object(l.pipe)(r.getValidForFeedback(e.id),m.g.tap(()=>Object(l.pipe)(n.applyFeedback(e.id,{kind:p.a.AlertFeedbackType.CLOSED,subtype:p.a.FeedbackSubtype.Sidebar},_.b.sidebar),m.b.fold(e=>i.error("Failed to send CLOSED feedback: ",e),g.e))))))));return{id:"sendActiveAlertFeedbacksEffect",when:c.constTrue,what:te.e.Effect.Applicator.create(a.pipe(w.a.switchMapTo(w.a.NEVER)))}}}($||($={}));class re{_applyStartVSChange(e,t){return t.reduce((e,[t,n])=>Object(l.pipe)(E.a.update(e,t,e=>this._checksFeedCapabilities.transitionTo(n)(e)),m.b.fold(()=>e,c.identity)),e)}_applyCompleteVSChange(e,t){return t.reduce((e,[t,n])=>Object(l.pipe)(e.items.get(t),m.g.map(({value:e})=>e),m.g.fold(()=>e,r=>J.a.isAnimatable(r)&&"removed"===r.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):Object(l.pipe)(E.a.update(e.items,t,e=>J.a.isAnimatable(e)&&e.visualState.transitionId===n?this._checksFeedCapabilities.completeTransition(n)(e):e),m.b.fold(()=>e,t=>ne.a.Prism.items.set(t,e))))),e)}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(w.a.filter(j.b.isSnippetsOpenExternalLink)).subscribe(({externalLink:e})=>this._platformEnvironment.actions.openPopup(new b.a(e)))}_updateToneAICard(e){return t=>Object(l.pipe)(e,m.b.chainW(({newAlert:e,itemId:n})=>E.a.update(t.currentLens.items,n,this._checksFeedCapabilities.updateWithAlerts([e]))),m.b.fold(e=>(this._log.error("Error updating card with ToneAI alert.",e),t),e=>te.e.Prism.getLens().compose(ne.a.Prism.items).set(e,t)))}_handleAlertFeedbacks(){return this.actionEvents.pipe(w.a.filter(j.b.isAlertFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t}))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(w.a.filter(j.b.isTakeawayDetectionFeedbackAction)).subscribe(({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===j.b.Type.takeawayCorrectlyDetected?_.n.correctlyDetected:t===j.b.Type.takeawayIncorrectlyDetected?_.n.incorrectlyDetected:Object(f.c)(t)))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(w.a.filter(j.b.isTakeawayAction)).subscribe(e=>{switch(e.type){case j.b.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.ACCEPTED,replacementText:e.takeawayText});case j.b.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.IGNORE});case j.b.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.IGNORE,pnameQualifier:e.isLikelyToBeRead?p.a.PNameQualifier.likelyToBeReadTakeaway:p.a.PNameQualifier.unlikelyToBeReadTakeaway});case j.b.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:p.a.AlertFeedbackType.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?p.a.PNameQualifier.likelyToBeReadTakeaway:p.a.PNameQualifier.unlikelyToBeReadTakeaway});default:Object(f.c)(e)}})}_handleEssayDetectionSetAcademicDomainAndCitationStyle(){return this.actionEvents.pipe(w.a.filter(j.c.isSetAcademicDomainAndCitationStyleAction)).subscribe(({citationStyle:e})=>{this._setDocumentCitationStyle(e)})}_handleAlertResolve(){return this.actionEvents.pipe(w.a.filter(j.b.isAlertResolveAction)).subscribe(({alertId:e})=>this._sendFeedback(e,{kind:p.a.AlertFeedbackType.ACKNOWLEDGED}))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(w.a.filter(j.b.isAlertIgnoreFeedbackFormSubmit)).subscribe(({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:p.a.AlertFeedbackType.IGNORE,reason:t})})}_handleApplyFormSubmit(){return this.actionEvents.pipe(w.a.filter(j.b.isAlertApplyFeedbackFormSubmit)).subscribe(e=>{this._applyAlert(Object(o._)(Object(a._)({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach(e=>this.actionEvents.next(e))})}_handleGbPromptDismiss(){return this.actionEvents.pipe(w.a.filter(j.b.isGbPromptDismiss)).subscribe(e=>this._applyAlert(Object(o._)(Object(a._)({},e.alertApplyActionProps),{gbPrompt:{feedback:p.a.GbPromptFeedbackType.DISMISSED,source:e.source,target:e.target,description:e.description}})))}_handleGbPromptApply(){return this.actionEvents.pipe(w.a.filter(j.b.isGbPromptApply)).subscribe(e=>this._applyAlert(Object(o._)(Object(a._)({},e.alertApplyActionProps),{gbPrompt:{feedback:p.a.GbPromptFeedbackType.ACCEPTED,source:e.source,target:e.target,description:e.description}})))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(w.a.filter(j.b.isMutedAlertCardDismissedAction)).subscribe(t=>Object(l.pipe)(e.muteCategories([t.categoryId]),m.b.fold(e=>this._log.error("error calling categories model to commit muted category",e),g.e)))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(w.a.filter(j.b.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return Object(l.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:_.b.sidebar,feedbackSubtype:p.a.FeedbackSubtype.Sidebar,drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),m.b.fold(e=>this._log.error("error calling alert service to apply an alert",e),g.e))}_handleDrilldown(){return this.actionEvents.pipe(w.a.filter(j.f.isDrilldown)).subscribe(e=>this._sendFeedback(e.alertId,{kind:p.a.DrilldownFeedbackType.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId}))}_dismissAlertsBatch(){return this.actionEvents.pipe(w.a.filter(j.d.isDismissAlertsBatchAction)).subscribe(e=>Object(l.pipe)(this._alertsService.dismissBatch(e.alerts,p.a.FeedbackSubtype.Sidebar),m.b.fold(e=>this._log.error("error calling alert service to dismiss alerts batch",e),g.e)))}_newFeatureSeen(){return this.actionEvents.pipe(w.a.filter(j.b.isOnboardingClose)).subscribe(e=>Object(l.pipe)(this._markOnboardingAsSeen(e.value)))}getApplicatorEffects(){return Object(l.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(w.a.filter(j.b.isNavigation),w.a.tap(this._navigationEvents),w.a.switchMapTo(w.a.EMPTY)),"navigationEvents"],...Object(l.pipe)(this._sendToUrl,m.g.getOrElse(Object(c.constant)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"]],m.a.map(([e,t])=>({id:"cardsViewModel.effects."+t,when:C.a.isWithAlertsId,what:te.e.Effect.Applicator.create(e)})))}dispose(){this._subs.dispose()}constructor(e,t,n,r,s,d,h,b,v,C,x,A,I=new O.b,T={bufferTransitions:!0,showGbPrompt:!1},M=g.e){Object(i._)(this,"_ops",void 0),Object(i._)(this,"_navigationEvents",void 0),Object(i._)(this,"_cardFactory",void 0),Object(i._)(this,"_alertsService",void 0),Object(i._)(this,"_alertsReader",void 0),Object(i._)(this,"_markOnboardingAsSeen",void 0),Object(i._)(this,"_markMuteQuotedAdviceAsDismissed",void 0),Object(i._)(this,"_sendToUrlExperiment",void 0),Object(i._)(this,"_getActiveItemWithAlert",void 0),Object(i._)(this,"_checksFeedCapabilities",void 0),Object(i._)(this,"_platformEnvironment",void 0),Object(i._)(this,"_settings",void 0),Object(i._)(this,"_setDocumentCitationStyle",void 0),Object(i._)(this,"_log",void 0),Object(i._)(this,"_subs",void 0),Object(i._)(this,"_flushCompleteTransition",void 0),Object(i._)(this,"_flushPositionAnimation",void 0),Object(i._)(this,"actionEvents",void 0),Object(i._)(this,"completePositionAnimation",void 0),Object(i._)(this,"changePosition",void 0),Object(i._)(this,"_transitionBuffer",void 0),Object(i._)(this,"_positionAnimationBuffer",void 0),Object(i._)(this,"_startTransitionStateChanges",void 0),Object(i._)(this,"_completeTransitionStateChanges",void 0),Object(i._)(this,"_changePositionEffect",void 0),Object(i._)(this,"_transitionEndStateChanges",void 0),Object(i._)(this,"_switchToNextChanges",void 0),Object(i._)(this,"_dismissMuteQuotedAdvice",void 0),Object(i._)(this,"_changeUserInput",void 0),Object(i._)(this,"_shortenItDismissEdit",void 0),Object(i._)(this,"_focusChecksFeedItem",void 0),Object(i._)(this,"_collapseChecklistItem",void 0),Object(i._)(this,"_toneAIChangeToneAlternative",void 0),Object(i._)(this,"_synfonyDrilldown",void 0),Object(i._)(this,"_synfonyBack",void 0),Object(i._)(this,"_sendToUrl",void 0),Object(i._)(this,"_sendFeedback",void 0),Object(i._)(this,"_showSurveyForm",void 0),Object(i._)(this,"_showSurveyFormEffect",void 0),Object(i._)(this,"_showMutedAlertSuccessEffect",void 0),Object(i._)(this,"_undoMutedAlertEffect",void 0),Object(i._)(this,"_handleAlertIgnore",void 0),Object(i._)(this,"_handleApplyAlerts",void 0),Object(i._)(this,"hovered",void 0),Object(i._)(this,"flushTransitionTo",void 0),Object(i._)(this,"flushPositionAnimation",void 0),this._ops=e,this._navigationEvents=t,this._cardFactory=n,this._alertsService=r,this._alertsReader=s,this._markOnboardingAsSeen=d,this._markMuteQuotedAdviceAsDismissed=h,this._sendToUrlExperiment=v,this._getActiveItemWithAlert=x,this._checksFeedCapabilities=A,this._platformEnvironment=I,this._settings=T,this._setDocumentCitationStyle=M,this._log=y.d.Logging.getLogger("CardsViewModelImpl",y.a.LogLevel.DEBUG),this._subs=new S.a.Keeper,this._flushCompleteTransition=new w.a.Subject,this._flushPositionAnimation=new w.a.Subject,this.actionEvents=new w.a.Subject,this.completePositionAnimation=new w.a.Subject,this.changePosition=new w.a.Subject,this._transitionBuffer=w.a.interval(100).pipe(w.a.startWith(0),w.a.merge(this._flushCompleteTransition)),this._positionAnimationBuffer=w.a.interval(100).pipe(w.a.startWith(0),w.a.merge(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(w.a.filter(j.a.isStartTransitionTo),w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t))),this._completeTransitionStateChanges=this.actionEvents.pipe(w.a.filter(j.a.isCompleteTransitionTo),this._settings.bufferTransitions?w.a.buffer(this._transitionBuffer):w.a.map(e=>[e]),w.a.filter(g.n),w.a.map(e=>t=>{const n=t.currentLens,r=this._applyCompleteVSChange(n,e.map(e=>[e.id,e.transitionId]));return this._log.isEnabled(y.a.LogLevel.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:k.a.Sorted.diff(n.items,r.items)}),te.e.Prism.getLens().set(r,t)})),this._changePositionEffect=this.changePosition.pipe(w.a.map(({id:e,height:t})=>n=>{const r=Object(l.pipe)(E.a.update(n.currentLens.items,e,e=>this._checksFeedCapabilities.changePosition(ee.a.PositionState.changeHeight(e.positionState,t))(e)),m.b.fold(()=>n.currentLens.items,c.identity));return Z.itemsLens.set(r,n)})),this._transitionEndStateChanges=this.completePositionAnimation.pipe(w.a.buffer(this._positionAnimationBuffer),w.a.filter(g.n),w.a.map(e=>t=>{const n=t.currentLens.items,r=e.map(e=>[e,!1]).reduce((e,[t,n])=>Object(l.pipe)(E.a.update(e,t,e=>this._checksFeedCapabilities.changePosition(ee.a.PositionState.changeAnimationInProgress(e.positionState,n))(e)),m.b.fold(()=>e,c.identity)),n);return Z.itemsLens.set(r,t)})),this._switchToNextChanges=this.actionEvents.pipe(w.a.filter(e=>e.type===j.b.Type.switchToNext),w.a.map(()=>e=>e.patch({currentLens:Object(l.pipe)(te.e.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):m.g.none,m.g.fold(()=>Object(l.pipe)(te.e.getActiveAlert(this._getActiveItemWithAlert)(e),m.g.fold(()=>{throw new f.b("Can not switch from non-existing card")},t=>this._checksFeedCapabilities.release(t)(e.currentLens))),t=>te.e.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t)(e.currentLens):e.currentLens)),switchOrder:"lensOrder",alertSource:_.b.sidebar}))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(w.a.filter(j.b.isDismissMuteQuotedAdvice),w.a.tap(this._markMuteQuotedAdviceAsDismissed),w.a.map(()=>e=>{const t=e.currentLens.items.filter(Object(c.flow)(this._checksFeedCapabilities.hasActiveAlert,m.g.map(e=>e.alert),m.g.exists(Y.a.isInQuotes))).keys().map(e=>[e,!1]).reduce((e,[t])=>Object(l.pipe)(E.a.update(e,t,this._cardFactory.hideMuteQuotedAdvice),m.b.fold(()=>e,c.identity)),e.currentLens.items);return Z.itemsLens.set(t,e)})),this._changeUserInput=this.actionEvents.pipe(w.a.filter(j.b.isChangeUserInput),w.a.tap(({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)}),w.a.map(({cardId:e,userInput:t})=>n=>{const r=Object(l.pipe)(n.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?m.g.some(t):m.g.none)),m.b.fold(()=>n.currentLens.items,c.identity));return Z.itemsLens.set(r,n)})),this._shortenItDismissEdit=this.actionEvents.pipe(w.a.filter(j.e.isDismissEdit),w.a.map(({alertId:e,group:t,itemId:n})=>r=>Object(l.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),m.b.map(e=>({newAlert:e,itemId:n})),m.b.chainW(({newAlert:e,itemId:t})=>E.a.update(r.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e]))),m.b.fold(e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),r),e=>Z.itemsLens.set(e,r))))),this._focusChecksFeedItem=this.actionEvents.pipe(w.a.filter(j.b.isMiniItemClick),w.a.map(e=>t=>t.patch({currentLens:Object(l.pipe)(t.currentLens.items.find(t=>t.id===e.id),m.g.fold(()=>(this._log.error("Can not switch from non-existing item"),t.currentLens),()=>Object(c.unsafeCoerce)(Object(l.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id))))),switchOrder:"lensOrder",alertSource:_.b.sidebar}))),this._collapseChecklistItem=this.actionEvents.pipe(w.a.filter(j.b.isChecklistItemCollapseButtonClick),w.a.map(()=>e=>e.patch({currentLens:te.e.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:_.b.sidebar}))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(w.a.filter(j.b.isToneAIChangeToneAlternativeAction),w.a.map(({itemId:e,alertId:t,selectedToneAlternativeIdx:n})=>Object(l.pipe)(this._alertsService.changeToneAIToneAlternative(t,n),m.b.map(t=>({newAlert:t,itemId:e})))),w.a.map(e=>this._updateToneAICard(e))),this._synfonyDrilldown=this.actionEvents.pipe(w.a.filter(j.f.isDrilldown),w.a.map(({cardId:e,wordIndex:t})=>n=>Object(l.pipe)(E.a.update(n.currentLens.items,e,e=>{const n=e;return X.a.changeSynfonySelection(Object(l.pipe)(n.synfonySelection,m.g.getOrElse(()=>[]),e=>m.g.some(e.concat([t]))))(n)}),m.b.fold(()=>n,e=>te.e.Prism.getLens().compose(ne.a.Prism.items).set(e,n))))),this._synfonyBack=this.actionEvents.pipe(w.a.filter(j.f.isBack),w.a.map(({cardId:e})=>t=>Object(l.pipe)(E.a.update(t.currentLens.items,e,e=>{const t=e;return X.a.changeSynfonySelection(Object(l.pipe)(t.synfonySelection,m.g.map(e=>e.slice(0,-1))))(t)}),m.b.fold(()=>t,e=>te.e.Prism.getLens().compose(ne.a.Prism.items).set(e,t))))),this._sendToUrl=Object(l.pipe)(this._sendToUrlExperiment,m.g.map(e=>Object.entries(e).filter(([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt).map(([e,t])=>[t(this.actionEvents),e]))),this._sendFeedback=(e,t)=>Object(l.pipe)(e,m.g.fromPredicate(this._alertsReader.isValidForFeedback),m.g.tap(()=>Object(l.pipe)(this._alertsService.applyFeedback(e,Object(o._)(Object(a._)({},t),{subtype:p.a.FeedbackSubtype.Sidebar}),_.b.sidebar),m.b.fold(e=>this._log.error("error calling alert service to send a feedback",e),g.e)))),this._showSurveyForm=new u.a,this._showSurveyFormEffect=Object(l.pipe)(this._showSurveyForm,w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object(a._)({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===j.b.Type.alertApplyFormSubmit?{submitActionType:j.b.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:j.b.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(w.a.filter(j.b.isMuteCategoryAction),w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t))),this._undoMutedAlertEffect=this.actionEvents.pipe(w.a.filter(j.b.isUndoMuteCategoryAction),w.a.map(e=>t=>Z.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t))),this._handleAlertIgnore=Object(c.flow)(ie(({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:p.a.AlertFeedbackType.IGNORE,drilldownSuggestionIds:t}),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(w.a.filter(j.b.isAlertIgnoreAction)).subscribe(t=>e(t)())),this._handleApplyAlerts=Object(c.flow)(ie(e=>()=>this._applyAlert(e),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(w.a.filter(j.b.isAlertApplyAction)).subscribe(t=>e(t)())),this.hovered=this.actionEvents.pipe(w.a.filter(j.b.isHoverAction),w.a.tap(()=>this._ops.flush()),w.a.scan((e,t)=>"hover"===t.kind?m.g.some(t.id):Object(l.pipe)(e,m.g.filter(e=>e!==t.id)),m.g.none),w.a.share()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(C),this._handleAlertResolve(),this._handleApplyAlerts(C),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink(),this._handleEssayDetectionSetAcademicDomainAndCitationStyle()),Object(l.pipe)(b,m.g.tap(({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t))))}}!function(e){e.itemsLens=te.e.Prism.getLens().compose(ne.a.Prism.items);e.Mock=class{constructor(){Object(i._)(this,"animate",d.a.create(!0)),Object(i._)(this,"clockwise",d.a.create(!0)),Object(i._)(this,"toggleAnimations",()=>this.animate.modify(e=>!e)),Object(i._)(this,"completePositionAnimation",new w.a.Subject),Object(i._)(this,"actionEvents",new w.a.Subject),Object(i._)(this,"flushTransitionTo",g.e),Object(i._)(this,"sideEffect",{id:"cardsViewModelMock",when:C.a.isWithAlertsId,what:te.e.Effect.Applicator.create(w.a.EMPTY)}),Object(i._)(this,"changePosition",new w.a.Subject),Object(i._)(this,"dispose",g.e)}};e.Experiments=r}(Z||(Z={}));const ie=(e,t,n)=>r=>i=>Object(l.pipe)(ae(i,n),s.i,v.a.chain(e=>Object(l.pipe)(r,s.h(t=>t?m.g.none:m.g.some(e)))),v.a.fold(()=>e(i),e=>t(e))),ae=(e,t)=>j.b.isAlertApplyAction(e)?oe(e,t):se(e),oe=(e,t)=>Object(l.pipe)(e.eligibleForGbPrompt,m.g.filter(Object(c.constant)(t)),m.g.map(t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t})),m.g.orElse(Object(l.pipe)(e.eligibleForSurvey,m.g.map(t=>({id:e.id,formType:"survey",submitActionType:j.b.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t}))))),se=e=>Object(l.pipe)(e.eligibleForSurvey,m.g.map(t=>({id:e.id,formType:"survey",submitActionType:j.b.Type.alertIgnoreFormSubmit,survey:t})))},EFMT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n("B8yO"),i=n("tiWp"),a=n("RRF2"),o=n("mgiE"),s=n("XGsl"),c=n("vVRF"),l=a.c.classes,u=function(e){return r.createElement("div",{className:l(s.a.akkuratWrapper,e.className),style:e.style},e.children)},d=function(e){var t=e.model;return r.createElement(u,{className:s.a.content},r.createElement("div",{className:s.a.separatorRemover}),r.createElement(c.e,{title:t.title,author:o.g.some(t.author)}),r.createElement(c.b,{stats:t.stats}),r.createElement(c.d,{score:t.score,critical:t.criticalIssues,advanced:t.advancedIssues}),Object(i.pipe)(t.plagiarism,o.g.map((function(e){return r.createElement(c.c,{plagiarismData:e})})),o.g.toNullable),!a.e.isEmptyObject(t.issues)&&r.createElement(c.f,{issues:t.issues}),r.createElement(c.a,{stats:t.stats}))},p=function(e){var t=e.title;return r.createElement(u,{style:{width:"100%",marginLeft:"17.4857px",marginRight:"38.4686px",fontFamily:"Akkurat Std",color:"#becafa",letterSpacing:"0.1px",position:"absolute",top:0}},r.createElement("div",{style:{width:"144px",position:"absolute",top:"15.7351px",left:0}},r.createElement("svg",{"aria-hidden":!0,width:"83.5px",viewBox:"0 0 93 23"},r.createElement("path",{d:"M32.1137999,10.3020362 L32.1137999,10.2761929 C32.1137999,9.3346607 31.3716092,8.67717134 30.4082654,8.67717134 C29.4453916,8.67717134 28.7163619,9.3346607 28.7163619,10.2761929 L28.7163619,10.3020362 C28.7163619,11.2561408 29.4453916,11.9010577 30.4082654,11.9010577 C31.3716092,11.9010577 32.1137999,11.2433355 32.1137999,10.3020362 Z M27.6230525,15.7046709 C27.2846248,15.5761532 27.0632367,15.3053812 27.0632367,14.9440414 C27.0632367,14.5056376 27.4275165,14.1447634 27.8702927,14.1447634 C28.0004933,14.1447634 28.1046069,14.170141 28.1955593,14.2092551 C28.7683012,14.4669891 29.3802912,14.6215829 30.1222469,14.6215829 C31.4757227,14.6215829 32.1137999,13.9771316 32.1137999,12.7389841 L32.1137999,12.4037204 C31.527897,13.1003239 30.8902898,13.5256897 29.8357585,13.5256897 C28.2087204,13.5256897 26.7375,12.352034 26.7375,10.3020362 L26.7375,10.2761929 C26.7375,8.21315707 28.2345725,7.05253935 29.8357585,7.05253935 C30.9159069,7.05253935 31.5539841,7.50398123 32.0874778,8.08394085 L32.0874778,8.07113564 C32.0874778,7.54239686 32.530019,7.10399301 33.0766737,7.10399301 C33.6233284,7.10399301 34.0658696,7.54239686 34.0658696,8.08394085 L34.0658696,12.5327038 C34.0658696,13.7708513 33.7666901,14.6732694 33.1807872,15.2536947 C32.530019,15.8983788 31.527897,16.1821889 30.1744212,16.1821889 C29.2498556,16.1821889 28.4430346,16.0273622 27.6230525,15.7046709 Z M35.5315436,8.05210654 C35.5315436,7.49972039 35.9859169,7.05253935 36.5476701,7.05253935 C37.1089407,7.05253935 37.5633141,7.49972039 37.5633141,8.05210654 L37.5633141,8.36772184 C37.8574624,7.68400743 38.3383791,7.05253935 38.9399473,7.05253935 C39.5680588,7.05253935 39.9285653,7.46053565 39.9285653,8.02574589 C39.9285653,8.55200888 39.5810891,8.8673867 39.1670133,8.9597677 C38.1380977,9.19677603 37.5633141,9.97263396 37.5633141,11.3927841 L37.5633141,13.2608277 C37.5633141,13.8129763 37.1089407,14.2601574 36.5476701,14.2601574 C35.9859169,14.2601574 35.5315436,13.8129763 35.5315436,13.2608277 L35.5315436,8.05210654 Z M39.9285653,12.118996 L39.9285653,12.092591 C39.9285653,10.5651097 41.0750287,9.85971938 42.7113383,9.85971938 C43.406799,9.85971938 43.9094379,9.97736302 44.3988189,10.1471094 L44.3988189,10.0294657 C44.3988189,9.20690326 43.8964126,8.75000271 42.917418,8.75000271 C42.3764007,8.75000271 41.9384233,8.82827463 41.5648749,8.94591827 C41.4488097,8.98505423 41.3713554,8.99825672 41.281341,8.99825672 C40.8303382,8.99825672 40.4695825,8.64556156 40.4695825,8.18842524 C40.4695825,7.8362016 40.6884549,7.53560913 40.997807,7.41796549 C41.6162785,7.18291396 42.2859211,7.05253935 43.2009519,7.05253935 C44.269961,7.05253935 45.042876,7.33992932 45.532257,7.8362016 C46.0476887,8.35817158 46.279819,9.1288671 46.279819,10.0690732 L46.279819,13.2546461 C46.279819,13.7902901 45.8546344,14.2078189 45.3264099,14.2078189 C44.759342,14.2078189 44.3857936,13.8034926 44.3857936,13.3854922 L44.3857936,13.3722897 C43.9094379,13.9079337 43.2523555,14.2601574 42.2989464,14.2601574 C40.997807,14.2601574 39.9285653,13.5029001 39.9285653,12.118996 Z M47.256935,8.09698499 C47.256935,7.54859209 47.7036529,7.10464375 48.2557042,7.10464375 C48.8075183,7.10464375 49.2542362,7.54859209 49.2542362,8.09698499 L49.2542362,8.17549524 C49.713765,7.58772933 50.318483,7.05253935 51.3303003,7.05253935 C52.2498323,7.05253935 52.9463611,7.45711468 53.314079,8.16252808 C53.9316078,7.44414752 54.6675181,7.05253935 55.626906,7.05253935 C57.1117745,7.05253935 58.0052104,7.94043603 58.0052104,9.62498776 L58.0052104,13.2680519 C58.0052104,13.816209 57.5584925,14.2601574 57.0062039,14.2601574 C56.4543898,14.2601574 56.0076719,13.816209 56.0076719,13.2680519 L56.0076719,10.2778252 C56.0076719,9.33758838 55.5875246,8.85426703 54.838329,8.85426703 C54.0893707,8.85426703 53.6298419,9.33758838 53.6298419,10.2778252 L53.6298419,13.2680519 C53.6298419,13.816209 53.183124,14.2601574 52.6308354,14.2601574 C52.0790214,14.2601574 51.6323034,13.816209 51.6323034,13.2680519 L51.6323034,10.2778252 C51.6323034,9.33758838 51.2119188,8.85426703 50.4629605,8.85426703 C49.713765,8.85426703 49.2542362,9.33758838 49.2542362,10.2778252 L49.2542362,13.2680519 C49.2542362,13.816209 48.8075183,14.2601574 48.2557042,14.2601574 C47.7036529,14.2601574 47.256935,13.816209 47.256935,13.2680519 L47.256935,8.09698499 Z M59.4708843,8.09698499 C59.4708843,7.54859209 59.9176023,7.10464375 60.4696536,7.10464375 C61.0214677,7.10464375 61.4681856,7.54859209 61.4681856,8.09698499 L61.4681856,8.17549524 C61.9277144,7.58772933 62.5326696,7.05253935 63.5442497,7.05253935 C64.4637816,7.05253935 65.1603105,7.45711468 65.5280284,8.16252808 C66.1457945,7.44414752 66.8814675,7.05253935 67.8408553,7.05253935 C69.3257239,7.05253935 70.2191598,7.94043603 70.2191598,9.62498776 L70.2191598,13.2680519 C70.2191598,13.816209 69.7724419,14.2601574 69.2201533,14.2601574 C68.6685765,14.2601574 68.2218585,13.816209 68.2218585,13.2680519 L68.2218585,10.2778252 C68.2218585,9.33758838 67.8014739,8.85426703 67.0522784,8.85426703 C66.3033201,8.85426703 65.8437913,9.33758838 65.8437913,10.2778252 L65.8437913,13.2680519 C65.8437913,13.816209 65.3970734,14.2601574 64.8447848,14.2601574 C64.2929707,14.2601574 63.8462528,13.816209 63.8462528,13.2680519 L63.8462528,10.2778252 C63.8462528,9.33758838 63.4261055,8.85426703 62.6769099,8.85426703 C61.9277144,8.85426703 61.4681856,9.33758838 61.4681856,10.2778252 L61.4681856,13.2680519 C61.4681856,13.816209 61.0214677,14.2601574 60.4696536,14.2601574 C59.9176023,14.2601574 59.4708843,13.816209 59.4708843,13.2680519 L59.4708843,8.09698499 Z M70.7077178,12.118996 L70.7077178,12.092591 C70.7077178,10.5651097 71.8542231,9.85971938 73.4903601,9.85971938 C74.1863114,9.85971938 74.6882709,9.97736302 75.1779025,10.1471094 L75.1779025,10.0294657 C75.1779025,9.20690326 74.6757103,8.75000271 73.6964472,8.75000271 C73.1554102,8.75000271 72.7174168,8.82827463 72.3438547,8.94591827 C72.2277853,8.98505423 72.1507933,8.99825672 72.0603103,8.99825672 C71.6092911,8.99825672 71.2487548,8.64556156 71.2487548,8.18842524 C71.2487548,7.8362016 71.4678678,7.53560913 71.776766,7.41796549 C72.3952602,7.18291396 73.0653925,7.05253935 73.979759,7.05253935 C75.0492724,7.05253935 75.8222157,7.33992932 76.3118472,7.8362016 C76.8268326,8.35817158 77.0589714,9.1288671 77.0589714,10.0690732 L77.0589714,13.2546461 C77.0589714,13.7902901 76.6337712,14.2078189 76.10576,14.2078189 C75.538904,14.2078189 75.1653418,13.8034926 75.1653418,13.3854922 L75.1653418,13.3722897 C74.6882709,13.9079337 74.0313971,14.2601574 73.0781857,14.2601574 C71.776766,14.2601574 70.7077178,13.5029001 70.7077178,12.118996 Z M78.5246454,8.05210654 C78.5246454,7.49972039 78.9792601,7.05253935 79.540772,7.05253935 C80.1020425,7.05253935 80.5564159,7.49972039 80.5564159,8.05210654 L80.5564159,8.36772184 C80.8505642,7.68400743 81.3314809,7.05253935 81.9330491,7.05253935 C82.5611606,7.05253935 82.9216671,7.46053565 82.9216671,8.02574589 C82.9216671,8.55200888 82.5741909,8.8673867 82.1603564,8.9597677 C81.1311995,9.19677603 80.5564159,9.97263396 80.5564159,11.3927841 L80.5564159,13.2608277 C80.5564159,13.8129763 80.1020425,14.2601574 79.540772,14.2601574 C78.9792601,14.2601574 78.5246454,13.8129763 78.5246454,13.2608277 L78.5246454,8.05210654 Z M86.930076,16.0926159 C86.6386162,15.9887322 86.293794,15.7541713 86.293794,15.2728277 C86.293794,14.7907791 86.6780997,14.4654962 87.0892063,14.4654962 C87.2480973,14.4654962 87.3407039,14.4915846 87.4203887,14.517438 C87.5926802,14.5696149 87.6986873,14.5957033 87.8446565,14.5957033 C88.2024006,14.5957033 88.374692,14.5305997 88.5601447,14.1789933 L88.6266683,14.0229327 L86.2011873,8.50346419 C86.1483034,8.37349204 86.0951802,8.17794623 86.0951802,8.0482091 C86.0951802,7.48836521 86.5326091,7.09774365 87.0892063,7.09774365 C87.5926802,7.09774365 87.8843792,7.37108473 88.0566707,7.83950155 L89.5941327,11.9010727 L91.0782323,7.85266329 C91.2376019,7.43618832 91.5288223,7.09774365 92.0456967,7.09774365 C92.5628104,7.09774365 93,7.48836521 93,8.00872389 C93,8.16525455 92.9468768,8.38665378 92.9073933,8.47761078 L90.4290285,14.3223623 C89.8324693,15.7412445 89.2361494,16.275 88.0298698,16.275 C87.5792798,16.275 87.2614977,16.2098964 86.930076,16.0926159 Z M83.4102251,5.63428404 C83.4102251,5.09034375 83.8474903,4.65 84.387109,4.65 C84.9274239,4.65 85.364457,5.09034375 85.364457,5.63428404 L85.364457,13.2761072 C85.364457,13.8198136 84.9274239,14.2601574 84.387109,14.2601574 C83.8474903,14.2601574 83.4102251,13.8198136 83.4102251,13.2761072 L83.4102251,5.63428404 Z M44.4248696,11.6618596 L44.4248696,11.3091645 C44.0896995,11.1526206 43.6517221,11.0481795 43.1749012,11.0481795 C42.3373247,11.0481795 41.8223582,11.3876722 41.8223582,12.0145548 L41.8223582,12.0404883 C41.8223582,12.5761323 42.2603356,12.88922 42.8913673,12.88922 C43.8063981,12.88922 44.4248696,12.379981 44.4248696,11.6618596 Z M75.2037215,11.6618596 L75.2037215,11.3091645 C74.8687717,11.1526206 74.4307782,11.0481795 73.9544051,11.0481795 C73.1167979,11.0481795 72.6013474,11.3876722 72.6013474,12.0145548 L72.6013474,12.0404883 C72.6013474,12.5761323 73.0393408,12.88922 73.6708608,12.88922 C74.5854599,12.88922 75.2037215,12.379981 75.2037215,11.6618596 Z",fill:"#2B2D38"}),r.createElement("path",{d:"M22.0875,11.04375 C22.0875,17.1430211 17.1430211,22.0875 11.04375,22.0875 C4.94447894,22.0875 0,17.1430211 0,11.04375 C0,4.94447894 4.94447894,0 11.04375,0 C17.1430211,0 22.0875,4.94447894 22.0875,11.04375 Z M13.08629,12.2595253 C12.6265316,12.2595253 12.2634378,12.6652216 12.3492818,13.1315014 C12.4146868,13.4862794 12.7551774,13.72932 13.1230803,13.72932 L14.2820947,13.72932 L14.9536979,13.6369127 C13.8790847,15.1833207 12.0128791,15.8947626 9.9720999,15.5805306 C8.31100614,15.3247604 6.88387942,14.2231805 6.28200946,12.684316 C4.91523805,9.19122567 7.51749002,5.8563121 10.9086894,5.8563121 C12.6758257,5.8563121 14.2253463,6.86996364 15.1140844,8.09483187 L15.1143248,8.09483187 C15.1145653,8.09483187 15.1148058,8.12076249 15.1152867,8.12123396 C15.3509369,8.45479604 15.8181496,8.55026787 16.1583997,8.31924961 C16.4820581,8.0993108 16.5710281,7.68206354 16.3764964,7.35392332 L16.381546,7.35392332 C15.1523174,5.47301038 12.9436975,4.26912238 10.4599921,4.43224956 C7.22581273,4.64488065 4.60817136,7.23959285 4.42253668,10.4120864 C4.20636365,14.1034282 7.19335071,17.1175092 10.9086894,17.1175092 C12.8600177,17.1175092 14.6069554,16.2844291 15.7974701,14.9365083 L15.6565609,15.7094765 L15.6565609,16.4081889 C15.6565609,16.7688602 15.9044745,17.1026581 16.266366,17.1667774 C16.7419947,17.2509341 17.1558254,16.8949774 17.1558254,16.444256 L17.1558254,12.2595253 L13.08629,12.2595253 Z",fill:"#15C39A"}))),r.createElement("p",{style:{position:"absolute",left:"111.05px",width:"823px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"2px solid #e4e6f2",transform:"scale(0.563)",transformOrigin:"top left",paddingBottom:"21px",top:0,fontSize:"19px"}},"Report: ",t))},m=function(){return r.createElement(u,{style:{marginLeft:"128.8807px",marginRight:"25.4686px",width:"100%",fontFamily:"Akkurat Std",fontSize:"19px",color:"#becafa",letterSpacing:"0.1px",lineHeight:"90px"}},r.createElement("div",{style:{position:"relative",top:"-19px",transform:"scale(0.563)",transformOrigin:"top left",width:"180%",borderTop:"1px solid #e4e6f2"}},r.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1e3}},"Report was generated on ",(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r.createElement("span",{style:{float:"right"}},"Page ",r.createElement("span",{className:"pageNumber"})," of ",r.createElement("span",{className:"totalPages"})))))}},EHAR:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n("TKPA");function i(e){return"sduiItemAdd"===e.kind}function a(e,t){return{kind:"sduiItemAdd",sduiRootId:e,sdui:t}}function o(e){return"sduiItemUpdate"===e.kind}function s(e,t){return{kind:"sduiItemUpdate",sduiRootId:e,sdui:t}}function c(e){return"sduiItemRemove"===e.kind}function l(e){return{kind:"sduiItemRemove",sduiRootId:e}}function u(e){return"sduiItemCollectionReset"===e.kind}function d(){return{kind:"sduiItemCollectionReset"}}Object(r.p)(i,o,c,u)},ENBj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return I}));var r,i=n("DTwm"),a=n("cZKX"),o=n("WBKC"),s=n("9raK"),c=n("w8H4"),l=n("0kuo"),u=n("mgiE"),d=n("TKPA"),p=n("RRF2"),m=n("IMGo"),f=n("l5lb"),h=n("pKQL");function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){if(Array.isArray(e))return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||E(e,t)||O()}function k(e){return function(e){if(Array.isArray(e))return g(e)}(e)||y(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function j(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function x(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(e){return f.c.unsupportedComponents.includes(e.type)}function I(e){switch(e){case"row":return"block";case"button":case"box":return"inline";default:throw new Error("Unsupported component")}}!function(e){var t,n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=k(i).concat([e.id]);switch(r){case t.PreOrder:return n(e,a),Y(e,n,r,a);case t.PostOrder:return Y(e,n,r,a),n(e,a);default:Object(l.c)(r)}},g=function(e){var n,r=arguments;return j(this,(function(i){switch(i.label){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:t.PreOrder,[5,x(B(e,n,[]))];case 1:return i.sent(),[2]}}))},I=function(e,t,n,i){var a=i;return r.forEach(e,(function(e,n){return a=t(a,e,n)}),n),a},T=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return Object(i.pipe)(n(e),(function(e){return z(e,n,r)}));case t.PostOrder:return Object(i.pipe)(z(e,n,r),u.g.map(n));default:Object(l.c)(r)}},M=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return Object(i.pipe)(e,u.g.fromPredicate(n),u.g.chain((function(e){return Object(i.pipe)(G(e,n,r),u.g.map((function(t){return _({},e,t)})))})));case t.PostOrder:return Object(i.pipe)(G(e,n,r),u.g.chain((function(t){return u.g.fromPredicate(n)(_({},e,t))})));default:Object(l.c)(r)}},P=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return Object(i.pipe)(n(e),u.g.chain((function(e){return Object(i.pipe)(q(e,n,r),u.g.map((function(t){return _({},e,t)})))})));case t.PostOrder:return Object(i.pipe)(q(e,n,r),u.g.chain((function(t){return n(_({},e,t))})));default:Object(l.c)(r)}},N=function(e){return M(e,Object(d.m)(W),t.PostOrder)},B=function(e){var n,r,i,a=arguments;return j(this,(function(o){switch(o.label){case 0:switch(n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,r=a.length>2&&void 0!==a[2]?a[2]:[],i=k(r).concat([e.id]),n){case t.PreOrder:return[3,1];case t.PostOrder:return[3,4]}return[3,7];case 1:return[4,e];case 2:return o.sent(),[5,x(F(e,n,i))];case 3:return o.sent(),[3,8];case 4:return[5,x(F(e,n,i))];case 5:return o.sent(),[4,e];case 6:return o.sent(),[3,8];case 7:Object(l.c)(n),o.label=8;case 8:return[2]}}))},L=function(e){var n,r,i,a=arguments;return j(this,(function(o){switch(o.label){case 0:n=a.length>1&&void 0!==a[1]?a[1]:t.PreOrder,r=a.length>2?a[2]:void 0,i=0,o.label=1;case 1:return i<e.length?[5,x(B(e[i],n,r))]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},F=function(e){var n,r,i,a,o,s,c,u,d=arguments;return j(this,(function(p){switch(p.label){case 0:switch(n=d.length>1&&void 0!==d[1]?d[1]:t.PreOrder,r=d.length>2?d[2]:void 0,e.type){case"column":return[3,1];case"assistantCard":return[3,3];case"popoverStack":return[3,8];case"strongAlertRef":return[3,10];case"row":return[3,12];case"block":return[3,15];case"box":case"scroll":case"inlineCard":case"shortFormCard":return[3,17];case"list":return[3,19];case"button":return[3,21];case"alternativeChoice":return[3,23];case"alternativeSlider":return[3,28];case"assistantFeed":return[3,33];case"viewStack":return[3,38];case"collapsedCard":return[3,40];case"longFormCard":return[3,45];case"tooltip":return[3,48];case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return[3,50]}return[3,51];case 1:return[5,x(L(e.children,n,r))];case 2:return p.sent(),[3,52];case 3:return null==e.footer?[3,5]:[5,x(B(e.footer,n,r))];case 4:return p.sent(),[3,6];case 5:null,p.label=6;case 6:return[5,x(B(e.child,n,r))];case 7:return p.sent(),[3,52];case 8:return[5,x(L(Object.values(e.views).map((function(e){return e.child})),n,r))];case 9:return p.sent(),[3,52];case 10:return[5,x(B(e.child,n,r))];case 11:return p.sent(),[3,52];case 12:return[5,x(L(e.left,n,r))];case 13:return p.sent(),[5,x(L(e.right,n,r))];case 14:return p.sent(),[3,52];case 15:return[5,x(L(e.parts,n,r))];case 16:return p.sent(),[3,52];case 17:return[5,x(B(e.child,n,r))];case 18:return p.sent(),[3,52];case 19:return[5,x(L(e.items.map((function(e){return e.label})),n,r))];case 20:return p.sent(),[3,52];case 21:return[5,x(B(e.label,n,r))];case 22:return p.sent(),[3,52];case 23:i=0,p.label=24;case 24:return i<e.alternatives.length?(a=e.alternatives[i],o=a.label,s=a.preview,[5,x(L([o,s],n,r))]):[3,27];case 25:p.sent(),p.label=26;case 26:return i++,[3,24];case 27:return[3,52];case 28:c=0,p.label=29;case 29:return c<e.choices.length?(u=e.choices[c].preview,[5,x(B(u,n,r))]):[3,32];case 30:p.sent(),p.label=31;case 31:return c++,[3,29];case 32:return[3,52];case 33:return null==e.footer?[3,35]:[5,x(B(e.footer,n,r))];case 34:return p.sent(),[3,36];case 35:null,p.label=36;case 36:return[5,x(B(e.header,n,r))];case 37:return p.sent(),[3,52];case 38:return[5,x(L(Object.values(e.views),n,r))];case 39:return p.sent(),[3,52];case 40:return null==e.quickActions?[3,42]:[5,x(B(e.quickActions,n,r))];case 41:return p.sent(),[3,43];case 42:null,p.label=43;case 43:return[5,x(B(e.child,n,r))];case 44:return p.sent(),[3,52];case 45:return[5,x(B(e.collapsedContent,n,r))];case 46:return p.sent(),[5,x(B(e.fullContent,n,r))];case 47:return p.sent(),[3,52];case 48:return[5,x(B(e.child,n,r))];case 49:return p.sent(),[3,52];case 50:return[2];case 51:if(A(e))return[2];Object(l.c)(e),p.label=52;case 52:return[2]}}))};!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.traverse=g,e.reduce=I,e.findFirst=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.TreeTraversal.PreOrder,i=!0,a=!1,o=void 0;try{for(var s,c=g(e,n)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(l.type===t)return u.g.some(l)}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return u.g.none},e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.TreeTraversal.PreOrder,i=!0,a=!1,o=void 0;try{for(var s,c=g(e,n)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(t(l))return u.g.some(l)}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return u.g.none};var R=e.over=function(e,n,r){var a,o=b(a=n)||y(a)||E(a)||O(),s=o[0],c=o.slice(1);return u.a.isEmpty(c)&&s===e.id?r(e):$(e,i.constVoid,t.PreOrder,(function(t){return e.id===s&&t.id===c[0]?R(t,c,r):u.g.some(t)}))};e.map=T,e.filter=M,e.filterMap=P,e.compact=N;var D=e.getAlertRefs=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return u.g.none;case"shortFormCard":return D(e.child);case"longFormCard":return Object(i.pipe)(e.behaviors,a.O(h.b.isStrongAlertRef),m.E);case"strongAlertRef":return u.g.some([e]);case"inlineCard":return Object(i.pipe)(Object(i.pipe)(e.behaviors,u.g.fromNullable,u.g.chain(Object(i.flow)(a.O(h.b.isStrongAlertRef),m.E))));case"list":return Object(i.pipe)(e.items,a.ub((function(e){return Object(i.pipe)(e.behaviors,u.g.fromNullable,u.g.chain(Object(i.flow)(u.a.filter(h.b.isStrongAlertRef),m.E)))})),u.g.sequenceArray,u.g.map(m.A));default:if(A(e))return u.g.none;Object(l.c)(e)}},H=(e.getAlertIds=Object(i.flow)(D,u.g.chain(Object(i.flow)(a.w(p.e.pick("alertIds")),m.F))),e.getAllAlertIds=function(e){return I(e,(function(e,t){return Object(i.pipe)(r.getAlertIds(t),u.g.map((function(t){return e.concat(t)})),u.g.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return u.g.fromNullable(e.id)},e.setPopoverView=function(e,t){return T(e,(function(e){switch(e.type){case"box":case"row":case"button":return Object(i.pipe)(u.g.fromNullable(e.behaviors),u.g.chain(a.S(h.b.isPopoverAnchor)),u.g.fold(Object(i.constant)(e),(function(n){var r=n.view,a=w(n,["view"]);return Object(i.pipe)(u.g.fromNullable(r),u.g.fold((function(){return Object(i.pipe)(t,u.g.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===a.id})),u.g.fold(Object(i.constant)(e),(function(t){return C(_({},e),{behaviors:[C(_({},a),{view:t})]})})))}),(function(n){return Object(i.pipe)(t,u.g.filter((function(e){return p.e.isEqual(e.anchor,n.anchor)})),u.g.fold((function(){return C(_({},e),{behaviors:[a]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:C(_({},e),{behaviors:[C(_({},a),{view:t})]})})))})))})));default:return e}}))},e.removeStrongAlertRef=function(e){return function(t){var n=Object(i.pipe)(t,a.ub((function(e){return e.alertIds})),a.Y,(function(e){return new Set(e)})),r=Object(i.pipe)(t,m.y(h.a.isStrongAlertRefComponent)),o=Object(i.pipe)(t,m.y(h.a.isStrongAlertRefBehavior));return Object(i.pipe)(P(e,V(n,r,o)),u.g.chain(N))}},function(e,t){var n;return C(_({},e),{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?C(_({},e),{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})}),V=function(e,t,n){return function(r){switch(r.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return u.g.some(r);case"shortFormCard":return V(e,t,n)(r.child);case"longFormCard":return u.g.some(C(_({},r),{behaviors:r.behaviors.map((function(t){return h.b.isStrongAlertRef(t)?C(_({},t),{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return Object(i.pipe)(t,u.g.exists((function(e){return e.some((function(e){return U.equals(r,e)}))})))?u.g.none:u.g.some(C(_({},r),{alertIds:r.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return r.behaviors&&r.behaviors.some((function(e){return h.b.isStrongAlertRef(e)&&Object(i.pipe)(n,u.g.exists((function(t){return t.some((function(t){return h.b.StrongAlertRef.eq.equals(e,t)}))})))}))?u.g.none:u.g.some(H(r,e));case"list":var a=r.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return h.b.isStrongAlertRef(e)&&Object(i.pipe)(n,u.g.exists((function(t){return t.some((function(t){return h.b.StrongAlertRef.eq.equals(e,t)}))})))}))}));return 0===a.length?u.g.none:u.g.some(C(_({},r),{items:a.map((function(t){return H(t,e)}))}));default:if(A(r))return u.g.some(r);Object(l.c)(r)}}},U=(e.switchViewStack=function(e,t,n){return Object(i.pipe)(R(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?u.g.some(e):u.g.some(C(_({},e),{selected:n}))})),u.g.fold((function(){return e}),i.identity))},e.toContentMap=function(e){return r.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=c.a(s.a)(f.b.Content)),W=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return a.nb(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":case"shortFormCard":return null==e.child;case"row":return a.nb(e.left)&&a.nb(e.right);case"block":return a.nb(e.parts);case"list":return a.nb(e.items);case"button":return null==e.label;case"alternativeChoice":return a.nb(e.alternatives);case"alternativeSlider":return a.nb(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"viewStack":return p.e.isEmptyObject(e.views);case"longFormCard":return null==e.fullContent;case"tooltip":return null==e.child;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(A(e))return!1;Object(l.c)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type};e.bulkSwitchView=function(e,t,n){var a=null!=n?n:r.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,o=t.where;return Object(i.pipe)(a[o],u.g.fromNullable,u.g.map(p.e.pick("path")),u.g.fold((function(){return e}),(function(t){return r.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((function(e){return e.condition===f.a.ContentAssistantFeedFilteringCondition.EqualTo})).reduce((function(e,t){return C(_({},e),v({},t.property,t.value))}),{})};var z=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return $(e,n,r,T)},G=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return $(e,n,r,M)},q=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return $(e,n,r,P)},K=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;return Object(i.pipe)(e,a.Fb(new Array,(function(e,t){return Object(i.pipe)(o(t,n,r),u.g.fold(i.constVoid,(function(t){return e.push(t)}))),e})))},$=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Object(i.pipe)(K(e.children,n,r,o),(function(t){return C(_({},e),{children:t})}),u.g.some);case"assistantCard":var s=Object(i.pipe)(u.g.fromNullable(e.footer),u.g.chain((function(e){return o(e,n,r)})),u.g.getOrElse((function(){})));return Object(i.pipe)(o(e.child,n,r),u.g.map((function(t){return C(_({},e),{child:t,footer:s})})));case"strongAlertRef":case"scroll":case"inlineCard":case"shortFormCard":case"box":return Object(i.pipe)(o(e.child,n,r),u.g.map((function(t){return C(_({},e),{child:t})})));case"row":var c=K(e.right,n,r,o),d=K(e.left,n,r,o);return u.g.some(C(_({},e),{left:d,right:c}));case"block":return Object(i.pipe)(K(e.parts,n,r,o),(function(t){return C(_({},e),{parts:t})}),u.g.some);case"list":return Object(i.pipe)(e.items,a.ub((function(e){return Object(i.pipe)(o(e.label,n,r),u.g.map((function(t){return C(_({},e),{label:t})})))})),a.O(u.g.isSome),a.ub(u.g.unsafeGet),(function(t){return C(_({},e),{items:t})}),u.g.some);case"button":return Object(i.pipe)(o(e.label,n,r),u.g.map((function(t){return C(_({},e),{label:t})})));case"alternativeChoice":return Object(i.pipe)(e.alternatives,a.ub((function(e){return Object(i.pipe)([o(e.label,n,r),o(e.preview,n,r)],u.g.sequenceArray,u.g.map((function(e){return e})),u.g.map((function(t){var n=S(t,2),r=n[0],i=n[1];return C(_({},e),{label:r,preview:i})})))})),a.O(u.g.isSome),a.ub(u.g.unsafeGet),(function(t){return C(_({},e),{alternatives:t})}),u.g.some);case"alternativeSlider":return Object(i.pipe)(e.choices,a.ub((function(e){return Object(i.pipe)(o(e.preview,n,r),u.g.map((function(t){return C(_({},e),{preview:t})})))})),a.O(u.g.isSome),a.ub(u.g.unsafeGet),(function(t){return C(_({},e),{choices:t})}),u.g.some);case"assistantFeed":return Object(i.pipe)(u.g.fromNullable(e.footer),u.g.chain((function(e){return o(e,n,r)})),u.g.map((function(t){return C(_({},e),{footer:t})})),u.g.alt((function(){return u.g.some(e)})),u.g.chain((function(e){return Object(i.pipe)(o(e.header,n,r),u.g.map((function(t){return C(_({},e),{header:t})})))})));case"popoverStack":return Object(i.pipe)(Object.keys(e.views),a.Fb({},(function(t,a){return Object(i.pipe)(o(e.views[a].child,n,r),u.g.fold((function(){return delete t[a],t}),(function(n){return t[a]=C(_({},e.views[a]),{child:n}),t})))})),(function(t){return C(_({},e),{views:t})}),u.g.some);case"viewStack":return Object(i.pipe)(Object.keys(e.views),a.Fb({},(function(t,a){return Object(i.pipe)(o(e.views[a],n,r),u.g.fold((function(){return delete t[a],t}),(function(e){return t[a]=e,t})))})),(function(t){return C(_({},e),{views:t})}),u.g.some);case"collapsedCard":var p=Object(i.pipe)(u.g.fromNullable(e.quickActions),u.g.chain((function(e){return o(e,n,r)})),u.g.getOrElse((function(){})));return Object(i.pipe)(o(e.child,n,r),u.g.map((function(t){return C(_({},e),{child:t,quickActions:p})})));case"longFormCard":return Object(i.pipe)(o(e.fullContent,n,r),u.g.chain((function(t){return Object(i.pipe)(o(e.collapsedContent,n,r),u.g.map((function(n){return C(_({},e),{fullContent:t,collapsedContent:n})})))})));case"tooltip":return Object(i.pipe)(o(e.child,n,r),u.g.map((function(t){return C(_({},e),{child:t})})));case"globalPart":return Object(i.pipe)(o(e.content,n,r),u.g.map((function(t){return C(_({},e),{content:t})})));case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return u.g.some(e);default:if(A(e))return u.g.some(e);Object(l.c)(e)}},Z=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,a=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,r,i,a)}))},Y=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,a=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Z(e.children,r,i,a);case"assistantCard":return null!=e.footer&&n(e.footer,r,i,a),n(e.child,r,i,a);case"popoverStack":return Z(Object.values(e.views).map((function(e){return e.child})),r,i,a);case"strongAlertRef":return n(e.child,r,i,a);case"row":return Z(e.left,r,i,a),Z(e.right,r,i,a);case"block":return Z(e.parts,r,i,a);case"box":case"scroll":case"inlineCard":case"shortFormCard":return n(e.child,r,i,a);case"list":return Z(e.items.map((function(e){return e.label})),r,i,a);case"button":return n(e.label,r,i,a);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return Z([t,n],r,i,a)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,r,i,a)}));case"assistantFeed":return null!=e.footer&&n(e.footer,r,i,a),n(e.header,r,i,a);case"viewStack":return Z(Object.values(e.views),r,i,a);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,r,i,a),n(e.child,r,i,a);case"longFormCard":return n(e.collapsedContent,r,i,a),n(e.fullContent,r,i,a);case"tooltip":return n(e.child,r,i,a);case"globalPart":return n(e.content,r,i,a);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(A(e))return;Object(l.c)(e)}},X=(e.Functor={map:function(e,n){return T(e,n,t.PreOrder)}},c.a(o.Schemable)(f.b.Content));e.dslRootParser=Object(i.flow)(X.decode,u.b.mapLeft((function(e){return new Error(o.draw(e))})))}(r||(r={}))},EU0x:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("NKDu"),i=n("epuc");function a(e){return e instanceof r.a?e:Object(i.a)(e)}},Ekth:function(e,t,n){e.exports=n.p+"files/ebef654642ae42ba62e081cb7c9799d1/inter-bolditalic.woff"},ElpI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("DTwm"),a=n("0Qjk"),o=n("eGLn"),s=n("xk6L"),c=n("mgiE"),l=n("M3t0");!function(e){e.create=function(e,t,n){var r=l.d.Logging.getLogger("DOXConnector",l.a.LogLevel.DEBUG,l.a.LogColor.Model.getColor("DOXConnector")),u=new s.a.Subject;return{pushChanges:function(t){n.demoMode||(r.debug("Outgoing DeltaChange to DOX",t),u.next(t),c.l.toPromise(e.remoteDocument.pushChanges(t)).catch((function(e){return o.b.isNotConnectedError(e)?r.warn("Could not push changes to DOX",e):r.error("Error on pushing changes to DOX",e)})))},changes:Object(i.pipe)(t,s.a.filter(a.b.DOXEvent.is("change")),s.a.pluck("change"),s.a.startWith(e.initialDelta),s.a.tap((function(e){return r.debug("Incoming Change from DOX",e)}))),outgoingChanges:u}},e.Mock=function(e){var t;return{pushChanges:i.constVoid,changes:(null===(t=e)||void 0===t?void 0:t.changes)||s.a.EMPTY,outgoingChanges:s.a.EMPTY}}}(r||(r={}))},Enf3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("B8yO");const i=function(){return r.useMemo(()=>({name:"forcePopperUpdateEffect",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout(()=>e.forceUpdate(),0);return()=>clearTimeout(t)}}),[])}},"F0/G":function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return J}));var r=n("8O/t"),i=n("X76w"),a=n("09dI"),o=n("k4jz"),s=n("2swC"),c=n("nWMp"),l=n("fB2g"),u=n("NbNH");const d=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:c.a.rem(.5*e)}}}),p=(e,t,n,r)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:"card-list"+t,counterReset:r,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${n}) '. '`}}}}}),m=e=>[p(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),p(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),p(e,5,"lower-roman","card-list6 card-list7 card-list8"),p(e,6,"decimal","card-list7 card-list8"),p(e,7,"lower-alpha","card-list8"),p(e,8,"lower-roman","none")],f="cards-replacements_labels-",h={list:f+"list",item:f+"item",diff:f+"diff",columnList:f+"columnList",itemInsert:f+"itemInsert",deleteAll:f+"deleteAll",crossed:f+"crossed",deleteQuote:f+"deleteQuote",deletePunctuation:f+"deletePunctuation",deleteDoubleComma:f+"deleteDoubleComma",deleteApostrophe:f+"deleteApostrophe",deleteLetter:f+"deleteLetter",deletePunctuationBeforeLetter:f+"deletePunctuationBeforeLetter",itemOriginal:f+"itemOriginal",itemOriginalStrikeThrough:f+"itemOriginalStrikeThrough",itemOriginalContent:f+"itemOriginalContent",spacesOnlyContent:f+"spacesOnlyContent",removeOrContainer:f+"removeOrContainer",itemContext:f+"itemContext",itemContextShifted:f+"itemContextShifted",or:f+"or",arrowInsertsList:f+"arrowInsertsList",cozyArrowInsertsList:f+"cozyArrowInsertsList",inlineHeader:f+"inlineHeader",fullSentenceBackground:f+"fullSentenceBackground",minimalFullSentenceBackground:f+"minimalFullSentenceBackground",fullSentenceDelete:f+"fullSentenceDelete",fullSentenceDeleteCollapsed:f+"fullSentenceDeleteCollapsed",fullSentenceHidden:f+"fullSentenceHidden",fullSentenceListItem:f+"fullSentenceListItem",fullSentenceBulletListItem:f+"fullSentenceBulletListItem",fullSentenceDashedListItem:f+"fullSentenceDashedListItem",fullSentenceOrderedListItem:f+"fullSentenceOrderedListItem",fullSentenceOrderedListItemWithFormatting:f+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:f+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:f+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:f+"fullSentenceInsert",fullSentenceInsertPunctuation:f+"fullSentenceInsertPunctuation",toneAIInsert:f+"toneAIInsert",itemRemove:f+"itemRemove",oneGapInsert:f+"oneGapInsert",oneGapInput:f+"oneGapInput",drilldownInsertGroup:f+"drilldownInsertGroup",drilldownArrowButton:f+"drilldownArrowButton",drilldownIcon:f+"drilldownIcon",drilldownOriginalRow:f+"drilldownOriginalRow",drilldownBackButton:f+"drilldownBackButton",collapsibleDelete:f+"collapsibleDelete",collapsibleInsert:f+"collapsibleInsert",collapsiblePartContent:f+"collapsiblePartContent"},g={position:"relative",overflow:"hidden",margin:`0 ${c.a.rem(.5)} ${c.a.rem(.5)} 0`,padding:`${c.a.rem(.25)} ${c.a.rem(.5)}`,borderRadius:c.a.rem(u.t),color:s.a.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:c.a.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},b={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:c.a.rem(.3125),width:"1px",height:"120%",background:s.a.CoreNeutral0,content:"''",opacity:.8}}},v={position:"relative",marginRight:c.a.rem(.5),whiteSpace:"nowrap"},y=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:c.a.rem(1)+" 0",padding:e?0:c.a.rem(.5),maxHeight:c.a.rem(12),borderRadius:c.a.rem(u.t),background:e?s.a.CoreNeutral0:s.a.CoreNeutral10,color:s.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${u.e}, ${u.f}`}),O={position:"relative",marginRight:c.a.rem(.5),maxWidth:`calc(100% - ${c.a.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:c.a.rem(.5),color:s.a.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},_={textDecoration:"line-through",color:s.a.CoreRed40,textDecorationLine:"line-through"},C=[d(0),d(1),d(2),d(3),d(4),d(5),d(6),d(7),d(8)],w={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${u.e}, ${u.f}`},S=e=>({display:"inline-block",background:e?a.o.SemanticColor.Color.Background.Brand.Default:s.a.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?a.o.Color.Blue80:s.a.CoreGreen50},"&[data-disabled='true']":{background:e?a.o.SemanticColor.Color.Background.Brand.Default:s.a.CoreGreen40,opacity:.4}}}),k={$nest:{"&:after":{transform:"rotate(-25deg)"}}},E={paddingRight:c.a.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},j=e=>({color:e?a.o.SemanticColor.Color.Background.Brand.Default:s.a.CoreGreen60,fontWeight:600}),x={paddingRight:c.a.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},A={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},I={display:"flex",flexBasis:"100%"},T={margin:`0 ${c.a.rem(.5)} ${c.a.rem(.5)} 2px`,color:s.a.CoreNeutral60},M={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},P={marginBottom:c.a.rem(.25),color:s.a.CoreNeutral60,fontWeight:400,fontSize:c.a.rem(.8),lineHeight:c.a.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},N={color:a.o.SemanticColor.Color.Background.Critical.Default,textDecoration:"line-through",fontWeight:600},B=Object(i._)(Object(r._)({},N),{textDecoration:"none"}),L={fontWeight:"bold",color:s.a.CorePurple50},F={background:a.o.SemanticColor.Color.Background.Critical.Default,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:a.o.Color.Red80}}},R={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},D={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},H={width:"100%",marginTop:c.a.rem(.5),marginBottom:c.a.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:s.a.CoreNeutral40}}},V={marginTop:c.a.rem(.5),lineHeight:`calc(${c.a.rem(2)} - ${c.a.px(2)})`,padding:"0 "+c.a.rem(.5),border:c.a.important(`${c.a.px(1)} solid ${s.a.CoreNeutral50}`),color:s.a.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:c.a.important(s.a.CoreNeutral20)}}},U=l.a.style(g,S(!1)),W={margin:`0 ${c.a.rem(.5)} ${c.a.rem(.5)} 0`,$nest:{["& ."+h.itemInsert]:{transitionProperty:"background",margin:0},[`& > .${h.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& ."+h.drilldownArrowButton]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},z={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:c.a.rem(.1875),paddingRight:c.a.rem(.3125)},G={width:c.a.rem(1),height:c.a.rem(1),minWidth:c.a.rem(1),minHeight:c.a.rem(1),verticalAlign:"top",marginTop:c.a.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:c.a.important("white")}}},q={width:c.a.percent(100),marginBottom:c.a.rem(.5),display:"flex",$nest:{"& > *":{marginRight:c.a.rem(.5)}}},K={background:s.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:s.a.CoreNeutral10}}},$={display:"inline-block",width:c.a.rem(1),lineHeight:c.a.rem(.625),height:c.a.rem(.625),margin:"0 "+c.a.rem(.25),verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:c.a.rem(u.u)},Z={lineHeight:c.a.rem(.2),verticalAlign:"super",marginLeft:"1px"},Y=Object(i._)(Object(r._)({},$),{backgroundColor:s.a.CoreRed10}),X=Object(i._)(Object(r._)({},$),{backgroundColor:s.a.CoreGreen10}),Q={list:c.a.joinClasses([h.list,c.a.style(w),l.a.style(w)]),item:c.a.joinClasses([h.item,c.a.style(g),l.a.style(g)]),itemInsert:c.a.joinClasses([h.itemInsert,c.a.style(g,S(!1)),U]),deleteAll:c.a.joinClasses([h.deleteAll,c.a.style({textDecoration:"line-through"}),l.a.style({textDecoration:"line-through"})]),crossed:c.a.joinClasses([h.crossed,c.a.style(b)]),deleteQuote:c.a.joinClasses([h.deleteQuote,c.a.style(b,k),l.a.style(b,k)]),deletePunctuation:c.a.joinClasses([h.deletePunctuation,c.a.style(b,E),l.a.style(b,E)]),deleteDoubleComma:c.a.joinClasses([h.deleteDoubleComma,c.a.style({textDecoration:"line-through"}),l.a.style({textDecoration:"line-through"})]),deleteApostrophe:c.a.joinClasses([h.deleteApostrophe,c.a.style(b,x),l.a.style(b,x)]),deleteLetter:c.a.joinClasses([h.deleteLetter,c.a.style(A),l.a.style(A)]),deletePunctuationBeforeLetter:c.a.joinClasses([h.deletePunctuationBeforeLetter,c.a.style({textDecoration:"line-through"}),l.a.style({textDecoration:"line-through"})]),itemOriginal:c.a.joinClasses([h.itemOriginal,c.a.style(O),l.a.style(O)]),itemOriginalStrikeThrough:c.a.joinClasses([h.itemOriginalStrikeThrough,c.a.style(_),l.a.style(_)]),itemOriginalContent:c.a.joinClasses([h.itemOriginalContent,c.a.style({color:s.a.CoreNeutral90}),l.a.style({color:s.a.CoreNeutral90})]),spacesOnlyContent:c.a.joinClasses([h.spacesOnlyContent,c.a.style({whiteSpace:"pre"})]),removeOrContainer:c.a.joinClasses([h.removeOrContainer,c.a.style(I),l.a.style(I)]),itemContext:c.a.joinClasses([h.itemContext,c.a.style(v)]),itemContextShifted:c.a.joinClasses([h.itemContextShifted,c.a.style(v,{marginRight:"2px"}),l.a.style(v,{marginRight:"2px"})]),or:c.a.joinClasses([h.or,c.a.style(T),l.a.style(T)]),arrowInsertsList:c.a.joinClasses([h.arrowInsertsList,c.a.style(M),l.a.style(M)]),columnList:c.a.joinClasses([h.columnList,c.a.style(M,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),l.a.style(M)]),cozyArrowInsertsList:c.a.joinClasses([h.arrowInsertsList,c.a.style(M,{flex:2,flexBasis:"0%"}),l.a.style(M)]),inlineHeader:c.a.joinClasses([h.inlineHeader,c.a.style(P),l.a.style(P)]),toneAIInsert:c.a.joinClasses([h.toneAIInsert,c.a.style(L),l.a.style(L)]),fullSentenceBackground:c.a.joinClasses([h.fullSentenceBackground,c.a.style(y(!1)),l.a.style(y(!1))]),minimalFullSentenceBackground:c.a.joinClasses([h.minimalFullSentenceBackground,c.a.style(y(!1),{lineHeight:c.a.rem(1.3125)}),l.a.style(y(!1),{lineHeight:c.a.rem(1.3125)})]),fullSentenceDelete:c.a.joinClasses([h.fullSentenceDelete,c.a.style(N),l.a.style(N)]),fullSentenceDeleteCollapsed:c.a.joinClasses([h.fullSentenceDeleteCollapsed,c.a.style(B),l.a.style(B)]),fullSentenceHidden:c.a.joinClasses([h.fullSentenceHidden,c.a.style({display:"none"})]),fullSentenceListItem:c.a.joinClasses([h.fullSentenceListItem,c.a.style(...C),l.a.style(...C)]),fullSentenceBulletListItem:c.a.joinClasses([h.fullSentenceBulletListItem,c.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),l.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:c.a.joinClasses([h.fullSentenceDashedListItem,c.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),l.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:c.a.joinClasses([h.fullSentenceOrderedListItem,c.a.style(...m(""),...C),l.a.style(...m(""),...C)]),fullSentenceOrderedListItemWithFormatting:c.a.joinClasses([h.fullSentenceOrderedListItemWithFormatting,c.a.style(...m("¶"),...C,j(!1)),l.a.style(...m("¶"),...C,j(!1))]),fullSentenceBulletListItemWithFormatting:c.a.joinClasses([h.fullSentenceBulletListItemWithFormatting,c.a.style(...C,D,j(!1)),l.a.style(...C,D)]),fullSentenceDashedListItemWithFormatting:c.a.joinClasses([h.fullSentenceDashedListItemWithFormatting,c.a.style(...C,R,j(!1)),l.a.style(...C,R)]),fullSentenceInsert:c.a.joinClasses([h.fullSentenceInsert,c.a.style(j(!1))]),fullSentenceInsertPunctuation:c.a.joinClasses([h.fullSentenceInsertPunctuation,c.a.style(j(!1))]),diff:c.a.joinClasses([h.diff,c.a.style({fontWeight:"bolder"}),l.a.style({fontWeight:"bolder"})]),itemRemove:c.a.joinClasses([h.itemRemove,c.a.style(g,F)]),oneGapInsert:c.a.joinClasses([h.oneGapInsert,c.a.style(g,S(!1),H),U]),oneGapInput:c.a.joinClasses([h.oneGapInput,c.a.style(V)]),drilldownInsertGroup:c.a.joinClasses([h.drilldownInsertGroup,c.a.style(W)]),drilldownArrowButton:c.a.joinClasses([h.drilldownArrowButton,c.a.style(z)]),drilldownIcon:c.a.joinClasses([h.drilldownIcon,c.a.style(G)]),drilldownOriginalRow:c.a.joinClasses([h.drilldownOriginalRow,c.a.style(q)]),drilldownBackButton:c.a.joinClasses([h.drilldownBackButton,c.a.style(K)]),collapsibleDelete:c.a.joinClasses([h.collapsibleDelete,c.a.style(Y)]),collapsibleInsert:c.a.joinClasses([h.collapsibleInsert,c.a.style(X)]),collapsiblePartContent:c.a.joinClasses([h.collapsiblePartContent,c.a.style(Z)])};c.a.cssRule(`.${h.fullSentenceDelete} + .${h.fullSentenceInsert}`,{marginLeft:c.a.rem(.25)});const J=Object(i._)(Object(r._)({},Q),{itemInsert:c.a.joinClasses([h.itemInsert,c.a.style(g,S(!0)),U,o.l]),oneGapInsert:c.a.joinClasses([h.oneGapInsert,U,c.a.style(g,S(!0),H),o.l]),fullSentenceOrderedListItemWithFormatting:c.a.joinClasses([h.fullSentenceOrderedListItemWithFormatting,l.a.style(...m("¶"),...C,j(!1)),c.a.style(...m("¶"),...C,j(!0))]),fullSentenceBulletListItemWithFormatting:c.a.joinClasses([h.fullSentenceBulletListItemWithFormatting,c.a.style(...C,D,j(!0)),l.a.style(...C,D)]),fullSentenceDashedListItemWithFormatting:c.a.joinClasses([h.fullSentenceDashedListItemWithFormatting,c.a.style(...C,R,j(!0)),l.a.style(...C,R)]),fullSentenceInsert:c.a.joinClasses([h.fullSentenceInsert,c.a.style(j(!0))]),fullSentenceInsertPunctuation:c.a.joinClasses([h.fullSentenceInsertPunctuation,c.a.style(j(!0))]),fullSentenceBackground:c.a.joinClasses([h.fullSentenceBackground,c.a.style(y(!0)),l.a.style(y(!1))]),minimalFullSentenceBackground:c.a.joinClasses([h.minimalFullSentenceBackground,c.a.style(y(!0),{lineHeight:c.a.rem(1.3125)}),l.a.style(y(!0),{lineHeight:c.a.rem(1.3125)})])})},F0Vm:function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));var r=n("OfeG"),i=n("9rYQ"),a=n("a5gI"),o=n("tiWp"),s=n("0kuo"),c=n("mgiE"),l=n("M3t0");class u{constructor(){Object(a._)(this,"_log",l.d.Logging.getLogger("AlertManager.repository",l.a.LogLevel.DEBUG)),Object(a._)(this,"_allAlerts",new Map),Object(a._)(this,"_capiAlertsIdMapping",new Map),Object(a._)(this,"add",e=>{this._allAlerts.set(e.id,e)}),Object(a._)(this,"remove",e=>{this._log.trace("AllAlerts: Clean alert from all alerts",e.toLiteString()),Object(s.f)(0===e.references,"can not dispose alert in use",()=>e.toString()),Object(s.f)(!1===e.isValid,"can not dispose valid alert",()=>e.toString()),Object(s.f)(this._allAlerts.delete(e.id),"alert should exist in alerts list",()=>e.toString()),e.dispose()}),Object(a._)(this,"addToCapiMapping",e=>{e.isValid||Object(o.pipe)(e.rawId,c.g.fold(()=>this._log.debug("skip register of local alert in capi mapping",e),t=>{this._log.trace("register alert in capi mapping",e.toLiteString()),Object(s.f)(void 0===this._capiAlertsIdMapping.get(t),"unexpected overlap of rawid alert",()=>e.toString()),e.validate(),this._capiAlertsIdMapping.set(t,e.id)}))}),Object(a._)(this,"removeFromCapiMapping",e=>{e.isValid&&(Object(o.pipe)(e.rawId,c.g.tap(t=>{this._log.trace("clean valid alert capi mapping for: "+e.toLiteString()),Object(s.f)(this._capiAlertsIdMapping.delete(t),"valid alert should had valid raw id",()=>e.toString())})),e.invalidate())}),Object(a._)(this,"getByAlertId",e=>c.g.fromNullable(this._allAlerts.get(e))),Object(a._)(this,"getByRawAlertId",e=>Object(o.pipe)(c.g.fromNullable(this._capiAlertsIdMapping.get(e)),c.g.chain(this.getByAlertId))),Object(a._)(this,"swapRaw",(e,t)=>{const n=Object(o.pipe)(e.rawId,c.g.exists(e=>this._capiAlertsIdMapping.has(e))),r=Object(o.pipe)(e.rawId,c.g.exists(e=>this._capiAlertsIdMapping.has(e)));Object(s.f)(n||r,"At least one of the swapped alerts should be registered in the system");const i=e._raw;e.silentPatchWithRawAlert(t._raw),t.silentPatchWithRawAlert(i),n&&this._capiAlertsIdMapping.set(c.g.unsafeGet(e.rawId),e.id),r&&this._capiAlertsIdMapping.set(c.g.unsafeGet(t.rawId),t.id)}),Object(a._)(this,"toArray",()=>Array.from(this._allAlerts.values())),Object(a._)(this,"toMap",()=>this._allAlerts),Object(a._)(this,"toJSON",()=>({allAlerts:Array.from(this._allAlerts.entries()),idMapping:Array.from(this._capiAlertsIdMapping.entries())}))}}var d,p=n("8O/t"),m=n("X76w"),f=n("CulD"),h=n("DTwm"),g=n("+vYo"),b=n("0Qjk"),v=n("TKPA"),y=n("RRF2"),O=n("wqt/"),_=n("Qlyw"),C=n("xk6L"),w=n("ZDrO"),S=n("yIk2"),k=n("mEGS"),E=n("mML0"),j=n("fFVt"),x=n("K40b"),A=n("+3dY"),I=n("GVT+"),T=n("/taW");!function(e){var t=e.group=T.b.group;e.eq=T.b.eq;function n(e){return n=>Object(o.pipe)(e,x.a.foldMap(t)(i,a,r),Object(A.a)(t.concat)(n))}e.applyDiff=n,e.fromAlerts=function(e){const t=l.d.Logging.getLogger("DocumentCounters");return e.pipe(C.a.scan((e,t)=>({alerts:t,counters:n(k.a.Diff.toRegistered(k.a.diff(e.alerts,t)))(e.counters)}),{alerts:k.a.empty,counters:T.b.group.empty}),C.a.tap(({counters:e})=>{T.b.isValid(e)||t.error("Counters can not be below zero",T.b.show.show(e))}),C.a.map(({counters:e})=>e))};const r=e=>I.a.toUnmutedOnly(e.counters),i=Object(h.flow)(r,t.inverse),a=(e,n)=>t.concat(r(n),i(e))}(d||(d={}));var M,P=n("wvT7"),N=n("FA0h"),B=n("uxqH"),L=n("D2TP");!function(e){e.empty=new Map,e.eq=c.e.getEq(L.a.Id.ord,B.b.ord);function t(e){const{left:t,right:n}=Object(o.pipe)(e,N.d(c.g.fromNullable),N.e(e=>"GeneralScore"!==e),N.k((e,t)=>{return{lensId:(n=e,n===L.a.SpecialId.Plagiarism?c.b.right(L.a.SpecialId.Plagiarism):L.a.OutcomeId.toOutcomeId(n)),score:B.b.fromNumber(t)};var n}),N.l(Object(P.a)(c.b.either))),r=Object(o.pipe)(n,N.j(({lensId:e,score:t})=>Object(h.tuple)(e,t)),e=>new Map(Object.values(e)));return Object(o.pipe)(c.m.fromOptions(c.g.fromPredicate(Object(h.not)(N.i))(t),c.g.fromPredicate(Object(h.not)(c.e.isEmpty))(r)),c.g.getOrElse(()=>c.m.right(new Map)))}e.fromCapi=function(e){return e.pipe(C.a.filter(Object(v.p)(b.a.CAPIEvent.is("finish"),b.a.CAPIEvent.is("async_check_finished"),b.a.CAPIEvent.is("feedback_ack"))),C.a.map(e=>e.outcomeScores),C.a.filter(v.i),C.a.map(t),C.a.tap(c.m.mapLeft(e=>{N.i(e)||l.d.Logging.getLogger("LensesScores").error("failed to parse capi scores",e)})),C.a.filter(Object(v.p)(c.m.isBoth,c.m.isRight)),C.a.map(e=>e.right))}}(M||(M={}));var F=n("UK5+"),R=n("8h56"),D=n("E+R1"),H=n("/edk"),V=n("GMJx"),U=n("MK74"),W=n("eGLn"),z=n("ebLO"),G=n("AHUV"),q=n("cZKX"),K=n("B/Ki"),$=n("Hj2R");const Z=Object(v.l)(l.d.Logging.getLogger),Y=Object(h.flow)(q.ub(({beingAppliedAlert:e,undo:t,reversedAlternative:n})=>D.o(()=>{const r={action:b.a.AlertFeedbackType.ACCEPTED,commit:()=>Z("AlertManager.ops").debug(`_applyTransformJson(${e.toLiteString()}):commit()`),undo:t,reversedAlternative:e.registerReversedAlternative(n)},i=e.switchToApplied(r),a=$.q.create(i.state.from,G.a.create(e));return[i.id,a]},c.b.toError)),D.l);function X(e){const t=b.a.Alternative.compose(e.alternatives.map(f.c(e=>e.alternative)),e.currentFullText);return Object(o.pipe)(K.a.nonEmpty(t.composedDelta)?c.g.some(t):c.g.none,c.g.map(({composedDelta:t,reversedAlternatives:n})=>({changeWithFormatting:Object(o.pipe)(t,z.a.getEnrichedWithFormattingDelta(e.currentFullText),t=>H.a.delta(t,e.originalTextLength)),correctRevAlternatives:Object(o.pipe)(n,O.a.tapFailure(({rejected:e})=>l.d.Logging.getLogger("AlertManager.ops").error("failed to generate reverse alternative",e)),O.a.foldSuccess(c.a.map(t=>({reversedAlternative:t.reversedAlternative,alternative:f.b(e.alternatives[t.alternativeIndex]),alert:e.alerts[t.alternativeIndex].alert}))))})))}var Q;!function(e){const t=Object(h.flow)((e,t)=>c.b.tryCatch(()=>$.q.create(e,t),c.b.toError),c.b.map(e=>Object(h.tuple)(e[0].id,e)),R.i);e.prepare=R.e(Object(h.tupled)(t)),e.prepareFromAlert=D.d(e=>t(e.state.from,G.a.create(e)))}(Q||(Q={}));function J(e,t,n){return c.b.fromPredicate(e,e=>{const r=new s.b(t,e.toString());return l.d.Logging.getLogger("AlertManager.ops").error(t,{error:r,extra:n}),r})}const ee=(e,t)=>J($.a.isNotDisposed,e,t);function te(e){return D.d(c.g.fold(Object(h.constant)(D.j(void 0)),e))}var ne;(ne||(ne={})).mock={undoApplied:()=>D.j(void 0)};class re{_applyFeedbackToAlert(e,t,n,r){return D.o(()=>{this._alertsRepo.removeFromCapiMapping(e);const i=this._createFeedbackUndoable(e,t,r);return e.changeState($.a.State.Applied.create(i,n,$.a.State.Applied.Method.ByCard,G.a.create(e)))},c.b.toError)}_createFeedbackUndoable(e,t,n){return{action:t,replacement:e.replaceText,commit:n,undo:()=>this._alertsRepo.addToCapiMapping(e)}}_commitFeedbackToCapi(e,t){return Object(o.pipe)(e.rawId,c.g.fold(Object(h.constant)(()=>this._log.debug("skip feedback for local alert",e)),e=>this._sendFeedback(Object(p._)({id:e},t))))}_sendFeedback(e){return()=>{c.l.toPromise(this._capiClient.sendFeedback(e)).catch(this._handleCapiError("alert feedback"))}}_commitShortenItSubmitToCapi(e){return Object(o.pipe)(e.rawId,c.g.fold(Object(h.constant)(()=>this._log.debug("skip shorten-it-submit for local alert",e)),e=>this._shortenItSubmit(e)))}_shortenItSubmit(e){return()=>{c.l.toPromise(this._capiClient.shortenItSubmit(e)).catch(this._handleCapiError("shorten-it-submit"))}}_switchToBeingApplied(e,t,n){return D.o(()=>(this._alertsRepo.removeFromCapiMapping(e),e.switchToBeingAppliedState(t,n)),c.b.toError)}constructor(e,t,n,r){Object(a._)(this,"_positionManager",void 0),Object(a._)(this,"_getContent",void 0),Object(a._)(this,"_capiClient",void 0),Object(a._)(this,"_alertsRepo",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_sendUpdate",void 0),Object(a._)(this,"_sendSingleUpdate",void 0),Object(a._)(this,"_flushChanges",void 0),Object(a._)(this,"changes",void 0),Object(a._)(this,"events",void 0),Object(a._)(this,"undoApplied",void 0),Object(a._)(this,"_dismissBatch",void 0),Object(a._)(this,"_applyAlert",void 0),Object(a._)(this,"_applyTransformJson",void 0),Object(a._)(this,"_alertFeedback",void 0),Object(a._)(this,"_alertBatchFeedback",void 0),Object(a._)(this,"_notifyAlertUpdated",void 0),Object(a._)(this,"_releaseRef",void 0),Object(a._)(this,"_changeMuteState",void 0),Object(a._)(this,"_changeGapValue",void 0),Object(a._)(this,"_confirmApplied",void 0),Object(a._)(this,"_changeTakeawayFeedback",void 0),Object(a._)(this,"_shortenItSummaryNotFound",void 0),Object(a._)(this,"_commitShortenItSummaryRequest",void 0),Object(a._)(this,"_dismissShortenItTransformGroup",void 0),Object(a._)(this,"_changeToneAIToneAlternative",void 0),Object(a._)(this,"_handleCapiError",void 0),Object(a._)(this,"_applyAlertData",void 0),Object(a._)(this,"_sendApplyFeedback",void 0),Object(a._)(this,"_sendApplyTextFeedback",void 0),Object(a._)(this,"_sendApplyTransformJsonFeedback",void 0),this._positionManager=e,this._getContent=t,this._capiClient=n,this._alertsRepo=r,this._log=l.d.Logging.getLogger("AlertManager.ops"),this._sendUpdate=e=>D.o(()=>this.events.next({updated:new Map(e)}),c.b.toError),this._sendSingleUpdate=D.d(e=>this._sendUpdate([e])),this._flushChanges=D.o(()=>this.changes.next(H.a.flush()),c.b.toError),this.changes=new C.a.Subject,this.events=new C.a.Subject,this.undoApplied=(e,t)=>{return Object(o.pipe)(()=>this._positionManager.getTextLength(),R.e(t=>{const r={alertsToUpdate:[],reversedDelta:new V.a,undo:h.constVoid},i=e.filter($.a.isApplied).reduce((e,t)=>{const r=t.state.undoable;return $.p.isWithAlternative(r)?Object(o.pipe)(r.reversedAlternative,c.g.fold(()=>{U.A.withTransformJson(t._raw)&&this._log.error("No reversed delta registered for alert",{alert:t.toLiteString()}),n(e,t)},Object(h.flow)(e=>e(),c.b.map(e=>e.delta),c.b.fold(e=>{this._log.error("Could not retrieve reversed delta",{e,alert:t.toLiteString()})},r=>{n(e,t),Object(o.pipe)(r,b.a.Alternative.fromRawDelta,t=>t.rebase(e.reversedDelta),c.g.fold(()=>{e.reversedDelta=e.reversedDelta.compose(r)},({delta:t})=>{e.reversedDelta=e.reversedDelta.compose(t)}))})))):n(e,t),e},r);return i.alertsToUpdate.length>0?Object(o.pipe)(D.o(()=>{const e=Object(o.pipe)(i.reversedDelta,z.a.getEnrichedWithFormattingDelta(this._getContent()));this.changes.next(H.a.delta(e,t))},c.b.toError),D.a(this._flushChanges),D.a(Object(o.pipe)(i.undo,R.h(c.b.right))),D.b(Object(o.pipe)(i.alertsToUpdate,D.l,D.d(this._sendUpdate)))):D.j(void 0)}));function n(e,n){e.undo=Object(h.flow)(e.undo,n.state.undoable.undo),e.alertsToUpdate.push(Q.prepare(()=>[G.a.create(n),G.a.create(n.changeState(t===$.a.State.Applied.Method.ByCard?$.a.State.init:$.a.State.Removed.create($.a.State.Removed.Reason.bulkAcceptUserResponse)))]))}},this._dismissBatch=(e,t)=>Object(o.pipe)(this._flushChanges,D.b(Object(o.pipe)(e,c.a.map(Object(h.flow)(R.i,R.h(ee("_dismissBatch: Cannot send feedback for already disposed",t)),D.d(e=>this._applyFeedbackToAlert(e,b.a.AlertFeedbackType.IGNORE,$.b.sidebar,this._commitFeedbackToCapi(e,{kind:b.a.AlertFeedbackType.IGNORE,subtype:t}))),Q.prepareFromAlert)),D.l,D.d(this._sendUpdate)))),this._applyAlert=({alert:e,replacementText:t,source:n,method:r,feedbackSubtype:i,reason:a,gbPrompt:s})=>Object(o.pipe)(e,J($.a.isRegistered,"can not apply alert in non registered state"),R.i,D.a(this._flushChanges),D.d(e=>this._switchToBeingApplied(e,n,r)),D.d(({beingAppliedAlert:e,undo:n})=>Object(o.pipe)(e.getReplaceEither.bind(e),D.m,D.c(()=>new Error("Cannot apply alert with tJSON"),r=>{this._log.debug(`_applyAlert(${e.toLiteString()}, rrange: ${r})`);const o=r.start,c=r.end-r.start,l=(new V.a).retain(o).delete(t.length).insert(e.replaceText);return{alert:e,undo:n,reverseDelta:l,replacementText:t,removeLen:c,feedbackSubtype:i,pos:o,reason:a,gbPrompt:s}}))),D.d(this._applyAlertData)),this._applyTransformJson=({alerts:e,source:t,method:n,feedbackSubtype:r,drilldownSuggestionIds:i,reason:a,gbPrompt:s})=>Object(o.pipe)(this._flushChanges,D.b(Object(o.pipe)(e,D.n(e=>Object(o.pipe)(e.alternative,D.i(t=>Object(h.tuple)(t,function(e){switch(e._raw.point){case"AllCapsBoldification":return b.a.AlternativeReversed.fromAlternativeBoldified;case"Lists":return b.a.AlternativeReversed.fromAlternativeListified;default:return b.a.AlternativeReversed.fromAlternative}}(e.alert))))))),D.d(t=>D.o(()=>({alternatives:t,alerts:e,originalTextLength:this._positionManager.getTextLength(),currentFullText:this._getContent()}),c.b.toError)),D.i(X),te(e=>Object(o.pipe)(e.correctRevAlternatives,c.a.map(({alert:e,alternative:c,reversedAlternative:l})=>Object(o.pipe)(this._switchToBeingApplied(e,t,n),D.e(e=>D.k(this._sendApplyTransformJsonFeedback(e.beingAppliedAlert,c.alternativeIndex,r,i,a,s))),D.i(e=>Object(m._)(Object(p._)({},e),{reversedAlternative:l})))),D.l,D.d(t=>Object(o.pipe)(D.o(()=>this.changes.next(e.changeWithFormatting),c.b.toError),D.a(this._flushChanges),R.d(Object(o.pipe)(Y(t),D.d(this._sendUpdate)))))))),this._alertFeedback=(e,t,n)=>{this._log.debug(`_alertFeedback(${e.toLiteString()}, feedbackType: ${t.kind}, source: ${n})`),$.a.isHidden(e)&&this._log.error("Sending feedback for a hidden alert",{alert:e,feedbackType:t.kind});const r=this._commitFeedbackToCapi(e,t);return Object(o.pipe)(e,ee("_alertFeedback: Cannot send feedback for already disposed",t),R.i,D.d(e=>t.kind!==b.a.AlertFeedbackType.LOOKED||e.isRead?b.a.FeedbackType.willRemoveAlert(t.kind)?Object(o.pipe)(this._flushChanges,D.b(this._applyFeedbackToAlert(e,t.kind,n,r)),Q.prepareFromAlert,this._sendSingleUpdate):Object(o.pipe)(r,D.k):Object(o.pipe)(Q.prepare(()=>[G.a.create(e),(e.isRead=!0,G.a.create(e))]),this._sendSingleUpdate,R.c(r))))},this._alertBatchFeedback=(e,t,n)=>Object(o.pipe)(e,c.a.filterMap(e=>e.rawId),c.f.fromArray,c.g.fold(Object(h.constant)(h.constVoid),e=>this._sendFeedback({kind:t,alertIds:e,subtype:n}))),this._notifyAlertUpdated=Object(h.flow)(e=>[[e[0].id,e]],this._sendUpdate),this._releaseRef=(e,t)=>Object(o.pipe)(D.o(()=>{this._log.debug(`_releaseRef ${e} on (${t.toLiteString()}) refs: ${t._refNames}`,{shouldBeRemoved:$.a.shouldBeRemoved(t)}),$.a.shouldBeRemoved(t)&&this.events.next({removed:new Map([[t.id,G.a.create(t)]])})},c.b.toError)),this._changeMuteState=(e,t)=>{const n=Object(o.pipe)(e,O.a.fromArray(Object(h.flow)(ee("_changeMuteState: Cannot send Mute feedback for already disposed",t),c.b.chain(J(e=>c.g.isSome(e.muteCategory)||$.a.belongsToAnySpecialCategory(e),"Alert is not muting")))));return Object(o.pipe)(n,O.a.foldSuccess(c.a.map(e=>Q.prepare(()=>[G.a.create(e),(e.mute=t,G.a.create(e))]))),D.l,D.i(c.f.fromArray),te(this._sendUpdate),D.i(Object(h.constant)(n)))},this._changeGapValue=(e,t)=>Object(o.pipe)(e,J($.a.isOneGap,"can not change gap value for a non one gap alert"),R.i,D.d(e=>Q.prepare(()=>[G.a.create(e),G.a.create(e.changeGapValue(t))])),this._sendSingleUpdate),this._confirmApplied=Object(h.flow)(c.a.map(e=>Q.prepare(()=>[G.a.create(e),G.a.create(e.changeState($.a.State.Removed.create($.a.State.Removed.Reason.bulkAcceptUserResponse)))])),D.l,D.d(this._sendUpdate)),this._changeTakeawayFeedback=(e,t)=>Object(o.pipe)(e,J($.a.isTakeaway,"can not change feedback for non-takeaway alert"),R.i,D.d(e=>{const n=G.a.create(e),r=e.setFeedback(t),i=G.a.create(r);return Object(o.pipe)(Q.prepare(()=>[n,i]),this._sendSingleUpdate,D.i(()=>r))})),this._shortenItSummaryNotFound=e=>Object(o.pipe)(e,ee("_shortenItSummaryNotFound: Cannot change state to not-found for already disposed"),c.b.chain(J($.a.isShortenIt,"cannot change state to not-found for a non shorten-it alert")),R.i,D.d(e=>{const t=G.a.create(e),n=e.changeSummaryState("notFound"),r=G.a.create(n);return Object(o.pipe)(Q.prepare(()=>[t,r]),this._sendSingleUpdate,D.i(()=>n))})),this._commitShortenItSummaryRequest=e=>Object(o.pipe)(e,ee("_commitShortenItSummaryRequest: Cannot send shorten_it_submit message for already disposed"),c.b.chain(J($.a.isShortenIt,"cannot send shorten_it_submit for a non shorten-it alert")),R.i,D.d(e=>{const t=G.a.create(e),n=e.changeSummaryState("requestSent"),r=G.a.create(n);return Object(o.pipe)(Q.prepare(()=>[t,r]),this._sendSingleUpdate,D.i(()=>n),R.c(this._commitShortenItSubmitToCapi(e)))})),this._dismissShortenItTransformGroup=(e,t)=>Object(o.pipe)(e,ee("_dismissShortenItTransformGroup: Cannot dismiss transform group for already disposed",t),c.b.chain(J($.a.isShortenIt,"cannot dismiss transform group for a non shorten-it alert")),R.i,D.d(e=>{const n=G.a.create(e),r=e.dismissTransformGroup(t),i=G.a.create(r);return Object(o.pipe)(Q.prepare(()=>[n,i]),this._sendSingleUpdate,D.i(()=>r))})),this._changeToneAIToneAlternative=(e,t)=>Object(o.pipe)(e,J($.a.isToneAI,"Cannot change tone for a non-ToneAI alert."),R.i,D.d(e=>D.o(()=>{const n=[Object(h.tuple)(e.id,$.q.create(G.a.create(e),G.a.create(e.setSelectedToneAlternativeIdx(t))))];return this.events.next({updated:new Map(n)}),e},c.b.toError))),this._handleCapiError=e=>t=>{W.a.isDroppedError(t)?this._log.debug(`Stopped listening for ${e} message acknowledge`,t):W.b.isNotConnectedError(t)?this._log.warn(`Failed to send ${e} as CAPI was not connected`,t):this._log.error("Failed to send "+e,t)},this._applyAlertData=({pos:e,removeLen:t,reverseDelta:n,undo:r,replacementText:i,alert:a,feedbackSubtype:s,reason:l,gbPrompt:u})=>Object(o.pipe)(D.o(()=>{let o=this._positionManager.getTextLength(),d=!1;const p={action:b.a.AlertFeedbackType.ACCEPTED,replacement:i,commit:()=>{d||this._log.debug(`_applyAlert(${a.toLiteString()}):commit()`)},reversedAlternative:c.g.none,undo:()=>{d=!0,this._log.debug(`_applyAlert(${a.toLiteString()}):undo()`);const e=this._positionManager.getTextLength();e!==o&&this._log.error(`Text has changed while uncommitted apply is present. Expected: ${o}, actual: ${e}`);const t=H.a.delta(n,e);this.changes.next(t),this.changes.next(H.a.flush()),r()}};return this._sendApplyTextFeedback(a,i,s,l,u)(),this.changes.next(H.a.delta((new V.a).retain(e).delete(t).insert(i),o)),this.changes.next(H.a.flush()),o=this._positionManager.getTextLength(),p},c.b.toError),D.d(e=>D.o(()=>a.switchToApplied(e),c.b.toError)),Q.prepareFromAlert,this._sendSingleUpdate),this._sendApplyFeedback=(e,t)=>e.state.method===$.a.State.Applied.Method.ByCard?this._commitFeedbackToCapi(e,t):h.constVoid,this._sendApplyTextFeedback=(e,t,n,r,i)=>this._sendApplyFeedback(e,{kind:b.a.AlertFeedbackType.ACCEPTED,replacementText:t,subtype:n,reason:r,gbPrompt:i}),this._sendApplyTransformJsonFeedback=(e,t,n,r,i,a)=>{const o={kind:b.a.AlertFeedbackType.ACCEPTED,alternativeIndex:t,subtype:n,drilldownSuggestionIds:r,reason:i,gbPrompt:a},s=$.a.isOneGap(e)?Object(m._)(Object(p._)({},o),{gapValue:e.gapValue}):$.a.isShortenIt(e)?Object(m._)(Object(p._)({},o),{dismissedTransformGroups:Array.from(e.dismissedTransformGroups)}):o;return this._sendApplyFeedback(e,s)}}}var ie,ae,oe,se,ce,le=n("000W");(ie||(ie={})).toString=c.b.fold(({id:e})=>"rid:"+e,e=>"aid:"+e.toString()),(ae||(ae={})).match=function(e){return t=>t instanceof $.e?e.alertAddOrUpdate(t):t instanceof Map?e.rangeChange(t):"_tag"in t?e.alertRemove(t):e.alertChange(t)},(oe||(oe={})).defaultValidator=$.a.isDuplicatedBy;class ue{static _prepareUpdate(e,t){const n=Object(m._)(Object(p._)({},e.toRawAlert()),{rev:t.rev});return Object(o.pipe)(t.extraProperties,c.g.tap(e=>n.extra_properties=e)),Object(o.pipe)(t.muted,c.g.tap(e=>n.muted=e)),U.A.withTransformJson(n)&&Object(o.pipe)(t.transformJson,c.g.tap(e=>n.transformJson=e)),n}_processBatch(e){return e.reduce((e,t)=>(ae.match({alertAddOrUpdate:t=>{Object(o.pipe)(t.rawId,c.g.fold(()=>{e.toAdd.set(t.id,t)},n=>{Object(o.pipe)(this._alertsRepo.getByRawAlertId(n),c.g.filter(e=>e.allowUpdate),c.g.map(()=>{Object(o.pipe)(c.g.fromNullable(e.toAddOrUpdate.get(n)),c.g.map(t=>{this._log.debug("got overlap in batch on update"),e.toUpdate.delete(t.id),e.toDispose.set(t.id,t)})),e.toUpdate.set(t.id,t)}),c.g.getOrElse(()=>{Object(o.pipe)(c.g.fromNullable(e.toAddOrUpdate.get(n)),c.g.map(t=>{this._log.info("got overlap in batch on add"),e.toAdd.delete(t.id),e.toDispose.set(t.id,t)})),e.toAdd.set(t.id,t)})),e.toAddOrUpdate.set(n,t)}))},rangeChange:t=>{Object(s.f)(void 0===e.rangeChanges,"unexpected rangeChanges duplicate"),e.rangeChanges=t},alertRemove:t=>{e.toRemoveUnfiltered.push(t)},alertChange:t=>{e.toChangeUnfiltered.push(t)}})(t),e),{toAdd:new Map,toRemoveUnfiltered:[],toChangeUnfiltered:[],toUpdate:new Map,toAddOrUpdate:new Map,rangeChanges:void 0,toDispose:new Map})}_getMergeTarget(e,t){return Object(o.pipe)(e,c.b.swap,c.g.fromEither,c.g.chain(e=>e.mergedIn),c.g.chain(e=>{const n=Object(o.pipe)(this._alertsRepo.getByRawAlertId(e),c.g.map(e=>c.b.right(e)),c.g.alt(()=>Object(o.pipe)(c.g.fromNullable(t.get(e)),c.g.map(e=>c.b.left(e)))));return c.g.isNone(n)&&this._log.warn("Merge from CAPI: Cannot find alert to merge into.",{capiId:e}),n}),c.g.filter(de(e=>!!e.allowUpdate||(this._log.warn("Merge from CAPI: Trying to merge in a non-updatable alert, skipping. ",{target:e.toLiteString()}),!1))))}_addAlerts(e,t){return e.length>0&&this._log.debug("_addAlerts, count = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(o.pipe)(e,le.U(this._validateAlertAdd),le.Jb({alertsToAdd:new Map,alertsToUpdate:new Map,alertsToRemove:t},(e,t)=>{this._log.trace("Adding alert: "+t.toLiteString());const n=this._getAlertsWithMatchingRanges(t.getNotEnclosingHighlightRanges()[0]),r=this._tryToMatchInvalid(t,n);switch(this._log.trace("Adding alert match result",{inc:t.id,match:r}),r.type){case se.Type.Merged:{const n=r.result[1];$.a.isNotRegistered(n.alert)?$.a.isRemoved(n.alert)&&this._log.warn("unexpected merge into removed alert",{alert:n,newAlert:t}):this._alertsRepo.addToCapiMapping(n.alert),e.alertsToUpdate.set(n.id,r.result);break}case se.Type.Restored:{const t=r.result[1];Object(s.f)(!e.alertsToRemove.has(t.id),"can't update alert which we wanted to remove earlier"),this._alertsRepo.addToCapiMapping(t.alert),e.alertsToUpdate.set(t.id,r.result);break}case se.Type.Unmatched:{const t=r.result,i=n.filter(n=>$.a.isDuplicateCandidate(n,c.g.isNone(n.rawId))&&this._alertDuplicateValidator(t,n)&&!e.alertsToRemove.has(n.id));Object(s.f)(t.allowDuplicates||$.a.isApplicableAlert(t),"BaseAlertImpl must allow duplicates or be an ApplicableAlert type");const a=t.allowDuplicates?{result:ce.Add,toRemove:c.g.none}:this._tryAddAlert(t,i);switch(a.result){case ce.Add:case ce.OverwriteExisting:this._log.debug("AllAlerts: Append alert to all alerts",t.toLiteString()),this._alertsRepo.addToCapiMapping(t),Object(s.f)(!e.alertsToRemove.has(t.id),"can't add alert which we wanted to remove earlier",()=>t.toLiteString()),this._alertsRepo.add(t),e.alertsToAdd.set(t.id,G.a.create(t)),Object(o.pipe)(a.toRemove,c.g.tap(t=>{if(e.alertsToAdd.has(t.id)){this._alertsRepo.removeFromCapiMapping(t);const e=t.changeState($.a.State.Removed.create($.a.State.Removed.Reason.canceled));this._terminateAlertChecking(e),this._alertsRepo.remove(e)}else this._log.debug("schedule to remove duplicate",t.toLiteString()),e.alertsToRemove.set(t.id,{alert:t,reason:$.a.State.Removed.Reason.duplicated});e.alertsToAdd.delete(t.id),e.alertsToUpdate.delete(t.id)}));break;case ce.Skip:this._log.debug("Skip alert with low priority",t.id);break;default:Object(s.c)(a.result)}break}default:Object(s.c)(r)}return e}))}_updateAlerts(e,t){this._log.debug("_updateAlerts, to update = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(o.pipe)(e,le.Jb(t,(e,t)=>(this._log.trace("Updating alert: "+t.toLiteString()),Object(o.pipe)(this._alertsRepo.getByRawAlertId(c.g.unsafeGet(t.rawId)),c.g.fold(()=>this._log.warn("tried to update unknown alert",t),n=>{const r=t._raw;t.dispose();const i=e.has(n.id)?e.get(n.id)[0]:G.a.create(n);n.enqueueRawAlertForUpdate(r),e.set(n.id,$.q.create(i,G.a.create(n)))})),e)))}_startAlertsChecking(e,t,n){this._log.debug("_startAlertsChecking, to update = "+e.length,{alerts:e.map(([e,t])=>[e.toLiteString(),t])});const r=(e,t)=>{const n=e.changeState($.a.State.Registered.create($.a.CheckingState.CHECKING));return this._recheckedAlerts.add(e.id),G.a.create(t.size>0?n.enqueueRangesRemove(t):n)};Object(o.pipe)(e,le.Jb({updatedAlerts:t,addedAlerts:n},(e,[t,n])=>(Object(o.pipe)(this._alertsRepo.getByAlertId(t.id),c.g.fold(()=>{this._log.warn("tried to start checking unknown alert",{alert:t,ranges:n})},()=>{if(e.addedAlerts.has(t.id))e.addedAlerts.set(t.id,r(t,n));else{const i=e.updatedAlerts.has(t.id)?e.updatedAlerts.get(t.id)[0]:G.a.create(t);e.updatedAlerts.set(t.id,$.q.create(i,r(t,n)))}})),e)))}_removeAlerts(e,t){e.forEach((e,n)=>{Object(o.pipe)(this._alertsRepo.getByAlertId(n),c.g.fold(()=>{this._log.warn("tried to remove unknown alert",e)},()=>Object(o.pipe)(t.get(n),c.g.fromNullable,c.g.map(f.b),c.g.filter(e=>$.a.isNotDisposed(e.alert)),c.g.alt(()=>Object(o.pipe)(e.alert,c.g.fromPredicate($.a.isNotDisposed),c.g.map(G.a.create))),c.g.tap(r=>{const i=this._applyRemoveToAlert(e);this._terminateAlertChecking(i),t.set(n,$.q.create(r,G.a.create(i)))}))))})}_getAlertsWithMatchingRanges(e){return Object(o.pipe)(this._positionManager.findIntersections(e),le.U(Object(v.b)(F.a.is,F.b.isVisible)),le.U(Object(v.m)(F.b.isEnclosingView)),le.V(e=>this._alertsRepo.getByAlertId(e.meta.alertId)),le.U(e=>!($.a.isApplied(e)&&e.getAppliedRanges().length>0)))}_tryToMatchInvalid(e,t){return Object(s.f)(!e.isValid,"added alert should be invalid"),Object(s.f)($.a.isRegistered(e),"added alert should be in registered state",()=>e.toString()),Object(o.pipe)(c.g.fromNullable(t.find(t=>!t.isValid&&t.canBeMergedWith(e))),c.g.fold(()=>({result:e,type:se.Type.Unmatched}),t=>{Object(s.f)(Object(o.pipe)(t.rawId,c.g.forAll(Object(h.flow)(this._alertsRepo.getByRawAlertId,c.g.isNone))),"CAPI mapping should not contain invalid alerts"),this._log.debug(`Merging new alert (${e}) into the existing one aid(${t})`);const n=G.a.create(t);return t.patchWithRawAlert(e._raw),e.dispose(),t.allowUpdate&&$.a.isCapiDone(t)?{result:$.q.create(n,G.a.create(t.changeState($.a.State.init))),type:se.Type.Restored}:{result:$.q.create(n,G.a.create(t)),type:se.Type.Merged}}))}_tryAddAlert(e,t){return Object(o.pipe)(c.f.fromArray(t),c.g.map(t=>{Object(s.f)(1===t.length,"Only one visible alert to one range is expected while _tryEnqueueAlert",`got ${t.map(e=>e.toString())} with input (${e.toString()})`);const n=t[0];return n.extraProperties.priority<=e.extraProperties.priority?{result:ce.OverwriteExisting,toRemove:c.g.some(n)}:(e.dispose(),{result:ce.Skip,toRemove:c.g.none})}),c.g.getOrElse(()=>({result:ce.Add,toRemove:c.g.none})))}_cleanupPendingAlerts(e){e.removed.forEach(e=>{this._heuristicallyRemovedAlerts.delete(e)&&this._log.info("unexpected alert remove from finish msg",e)}),this._heuristicallyRemovedAlerts.size>0&&this._log.debug("we had heuristically removed alerts which were not confirmed by capi",{size:this._heuristicallyRemovedAlerts.size}),this._heuristicallyRemovedAlerts.clear()}_finishAlertsChecking(){return Object(o.pipe)(Array.from(this._recheckedAlerts.values()),le.V(e=>{const t=this._alertsRepo.getByAlertId(e);c.g.isNone(t)&&(this._log.error("tried to finish checking on missing alert",e),this._recheckedAlerts.delete(e));const n=Object(o.pipe)(t,c.g.filter(e=>$.a.isRegistered(e)),c.g.map(e=>Object(h.tuple)(e.id,this._finishAlertChecking(e))));return c.g.isNone(n)&&this._log.error("tried to update checking state on non-registered alert",e),n}),e=>({updated:new Map(e)}))}constructor(e,t,n){Object(a._)(this,"_positionManager",void 0),Object(a._)(this,"_alertsRepo",void 0),Object(a._)(this,"_alertDuplicateValidator",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_heuristicallyRemovedAlerts",void 0),Object(a._)(this,"process",void 0),Object(a._)(this,"reset",void 0),Object(a._)(this,"_processAlertsBatch",void 0),Object(a._)(this,"_collectChanges",void 0),Object(a._)(this,"_validateAlertAdd",void 0),Object(a._)(this,"_recheckedAlerts",void 0),Object(a._)(this,"_terminateAlertChecking",void 0),Object(a._)(this,"_applyRemoveToAlert",void 0),Object(a._)(this,"_finishAlertChecking",void 0),this._positionManager=e,this._alertsRepo=t,this._alertDuplicateValidator=n,this._log=l.d.Logging.getLogger("AlertManager.pipeline",l.a.LogLevel.DEBUG),this._heuristicallyRemovedAlerts=new Map,this.process=e=>(this._log.trace("process, to process = "+e.length),this._collectChanges(this._processAlertsBatch(e))),this.reset=e=>(this._cleanupPendingAlerts(e),this._finishAlertsChecking()),this._processAlertsBatch=e=>{const{toAdd:t,toUpdate:n,toAddOrUpdate:r,toRemoveUnfiltered:i,toChangeUnfiltered:a,toDispose:l,rangeChanges:u}=this._processBatch(e),d=e=>Object(o.pipe)(this._alertsRepo.getByAlertId(e),c.g.getOrElse(()=>t.get(e)||n.get(e)||l.get(e)));a.forEach(e=>Object(o.pipe)(c.g.fromNullable(r.get(e.id)),c.g.fold(()=>Object(o.pipe)(this._alertsRepo.getByRawAlertId(e.id),c.g.map(t=>{const i=t.copy(!1),a=ue._prepareUpdate(i,e);c.g.isSome(e.transformJson)?i.updateAlertWithManagedData(a):i.patchWithRawAlert(a),n.set(i.id,i),r.set(e.id,i)}),c.g.getOrElse(()=>this._log.info("Change from CAPI: Cannot find internal AlertId."))),t=>{const r=ue._prepareUpdate(t,e);n.has(t.id)?t.patchWithRawAlert(r):t.updateAlertWithManagedData(r)})));const p=i.reduce((e,i)=>{const a=Object(o.pipe)(i,c.b.fold(({id:e})=>Object(o.pipe)(this._alertsRepo.getByRawAlertId(e),c.g.map(e=>$.a.isRegistered(e)?e:void 0),c.g.getOrElse(()=>this._heuristicallyRemovedAlerts.has(e)?void this._heuristicallyRemovedAlerts.delete(e):r.get(e))),d));return void 0===a?(c.b.isLeft(i)?this._log.debug("Remove from CAPI: Cannot find internal AlertId. capiId: #"+JSON.stringify(i.left)):this._log.error("Cannot find existing alert by id",i.right),e):(Object(o.pipe)(this._getMergeTarget(i,r),c.g.filter(de(e=>e.lensId!==a.lensId?(this._log.warn("Trying to merge alerts from different lenses",{source:a,target:e}),!1):c.g.isNone(a.rawId)?(this._log.warn("Trying to merge into local alert",{source:a,target:e}),!1):a.references>e.references)),c.g.fold(()=>{e.set(a.id,{alert:a,reason:Object(o.pipe)(i,c.b.swap,c.g.fromEither,c.g.chain(e=>e.hint),c.g.chain(e=>e===b.a.AlertRemoveHint.NotFixed?c.g.some($.a.State.Removed.Reason.capiDismiss):c.g.none),c.g.getOrElse(()=>$.a.State.Removed.Reason.capiDone))})},c.b.fold(e=>{this._log.debug("swap raw alerts with new alert",{source:a.toString(),newTarget:e.toString()}),this._alertsRepo.swapRaw(a,e);const i=c.g.unsafeGet(a.rawId);Object(s.f)(void 0===n.get(e.id),"Added alert should not be present in the updated alerts map",()=>n.get(e.id).toString());const o=a.copy();n.set(o.id,o),r.set(i,o),t.delete(e.id),l.set(e.id,e)},t=>{this._log.debug("swap raw alerts with existing alert",{source:a.toString(),existingTarget:t.toString()}),this._alertsRepo.swapRaw(a,t),e.set(t.id,{alert:t,reason:$.a.State.Removed.Reason.capiDismiss})}))),e)},new Map),m=new Map;return u&&u.forEach((e,t)=>{Object(o.pipe)(t,d,c.g.fromPredicate(r=>r?$.a.isInteractable(r)?!n.has(r.id)||(this._log.debug("skip range change on updateHolder alert",r.toLiteString()),!1):(this._log.debug("skip range change on non-interactable alert",r.toLiteString()),!1):(this._log.warn("got range changes for unknown alert",{alertId:t,alertRanges:e}),!1)),c.g.chain(n=>Object(o.pipe)(n.onRangeChange(e),c.g.map(e=>{switch(e.state){case $.a.Transition.State.Pending:return m.set(n.id,[n,e.removedRanges]);case $.a.Transition.State.Dispose:return Object(o.pipe)(n.rawId,c.g.fold(()=>this._log.debug("dispose by range change on unknown rid",n.id),e=>this._heuristicallyRemovedAlerts.set(e,n))),p.set(t,{alert:n,reason:$.a.State.Removed.Reason.textChange});default:return Object(s.c)(e)}}))))}),p.forEach(({alert:e})=>{this._log.trace("check cancellations from toRemove: "+e.toLiteString()),Object(o.pipe)(e.rawId,c.g.fold(()=>{t.get(e.id)&&(this._log.debug("cancel add local alert for: "+e.toLiteString()),t.delete(e.id),p.delete(e.id),l.set(e.id,e)),Object(s.f)(!1===n.has(e.id),"Added local alert should not be present in the updated alerts map",()=>n.get(e.id).toString())},i=>{const a=r.get(i);a&&(r.delete(i),t.delete(a.id)?(this._log.debug("cancel add for: "+a.toLiteString()),this._log.debug("cancel remove for: "+e.toLiteString()),p.delete(e.id),l.set(e.id,e),l.set(a.id,a)):n.delete(a.id)?(this._log.debug("cancel update for: "+a.toLiteString()),a.id!==e.id&&(this._log.debug("marking update to dispose: "+a.toLiteString()),l.set(a.id,a))):this._log.error("_addOrUpdateAlert toAdd || toUpdate mapping in unsync state!",a))})),this._log.trace("check if local orphan toRemove: "+e.toLiteString()),Object(o.pipe)(this._alertsRepo.getByAlertId(e.id),c.g.fold(()=>{this._log.debug("cancel delete for: "+e.toLiteString()),p.delete(e.id)},h.constVoid))}),l.size>0&&this._log.debug("_cancelAlerts, to cancel = "+l.size,{alerts:Array.from(l.values()).map(e=>e.toLiteString())}),l.forEach(e=>{m.delete(e.id)&&this._log.debug("cancel startChecking for: "+e.toLiteString());try{e.dispose()}catch(t){this._log.warn("unexpected error on disposing canceled alert",t,e)}}),{toAdd:t,toUpdate:n,toRemove:p,toStartChecking:m}},this._collectChanges=({toAdd:e,toUpdate:t,toRemove:n,toStartChecking:r})=>{const{alertsToAdd:i,alertsToUpdate:a,alertsToRemove:o}=this._addAlerts(Array.from(e.values()),n);return t.size>0&&this._updateAlerts(Array.from(t.values()),a),r.size>0&&this._startAlertsChecking(Array.from(r.values()),a,i),o.size>0&&this._removeAlerts(o,a),{added:i,updated:a}},this._validateAlertAdd=e=>{try{const t=!$.a.isPremium(e)||void 0!==e.categoryHuman;return e._raw.impact!==U.A.Impact.Critical&&e._raw.impact!==U.A.Impact.Advanced&&c.g.isSome(e.rawId)&&this._log.warn("CAPI provides corrupted impact prop",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),t||(this._log.error("CAPI provides corrupted alert",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),e.dispose()),Object(o.pipe)(e.rawId,c.g.exists(e=>c.g.isSome(this._alertsRepo.getByRawAlertId(e))))?(this._log.warn("unexpected overlap on rawId for non-updatable alert",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),e.dispose(),!1):e.lensType===L.a.Type.Plagiarism&&B.b.isMax(e.progress)?(this._log.info("CAPI provides a Plagiarism alert with an invalid progress",{alert:e,raw:U.A.clearUserTextFields(e._raw)}),e.dispose(),!1):t}catch(t){this._log.error("Cannot validate alert",t);try{e.dispose()}catch(e){this._log.warn("Cannot dispose invalid alert",e)}return!1}},this._recheckedAlerts=new Set,this._terminateAlertChecking=({id:e})=>{this._recheckedAlerts.delete(e)&&this._log.debug("Stopped watching checking state for alert",e)},this._applyRemoveToAlert=({alert:e,reason:t})=>(this._alertsRepo.removeFromCapiMapping(e),t!==$.a.State.Removed.Reason.textChange&&t!==$.a.State.Removed.Reason.duplicated&&e.clearCapiId(),e.changeState($.a.State.Removed.create(t))),this._finishAlertChecking=e=>{Object(s.f)(this._recheckedAlerts.delete(e.id),"tried to finish checking on alert which had not been marked as checking"),this._log.debug("Stopped watching checking state for alert",e.id);const t=G.a.create(e);return $.q.create(t,G.a.create(e.changeState($.a.State.Registered.create($.a.CheckingState.IDLE))))}}}function de(e){return c.b.fold(e,e)}!function(e){let t;!function(e){e.Unmatched="Unmatched",e.Merged="Merged",e.Restored="Restored"}(t=e.Type||(e.Type={}))}(se||(se={})),function(e){e.Skip="Skip",e.Add="Add",e.OverwriteExisting="OverwriteExisting"}(ce||(ce={}));var pe=n("cj5G");class me{flushAlerts(){this._flush.next()}loadAlerts(e){const t=new Map;return Object(v.n)(e)&&(this._log.debug(e.length+" external alert(s) where loaded"),e.map(pe.a.splitById).map(({id:e,local:t})=>({id:e,alert:$.a.create(Object(o.pipe)(t,b.a.RawAlert.matchBy(h.identity,e=>Object(m._)(Object(p._)({},e),{transformJson:{highlights:e.transformJson.highlights,alternatives:Object(o.pipe)(e.transformJson.alternatives,c.g.map(b.a.Alternative.Group.fromSerialized))}}),h.identity),this._transformRawAlert),this._ops,this._positionManager,this._alternativeManager)})).forEach(({id:e,alert:n})=>{this._addAlertBuffered(n),e&&t.set(e,n.id)})),t}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{repo:this._alertsRepository}}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_getTypeFilter(e){switch(e){case"alert":return e=>!$.a.isPlagiarism(e);case"plagiarism":return e=>$.a.isPlagiarism(e);default:return Object(s.c)(e)}}_addAlertBuffered(e){this._log.trace(`_addAlert(${e.toLiteString()})`),this._addAlerts.next(e)}_handleFreePremium(e){this._log.trace(`_handleFreePremium(${e.id})`),Boolean(e.updatable)&&Object(o.pipe)(this._alertsRepository.getByRawAlertId(e.id),c.g.filter($.a.isNotDisposed),c.g.tap(()=>this._removeAlertBuffered(c.b.left({id:e.id,mergedIn:c.g.none,hint:c.g.none}))));const t=$.a.create(this._transformRawAlert(e),this._ops,this._positionManager,this._alternativeManager);this.flushAlerts(),this._freePremiumAlerts.next(t)}_changeAlertBuffered(e){this._log.trace(`_changeAlert(${e.id})`),this._changeAlerts.next(e)}_removeAlertBuffered(e){this._log.trace(`_removeAlert(${ie.toString(e)})`),this._removeAlerts.next(e)}_getAllAlertsAsArray(){return this._alertsRepository.toArray().filter($.a.isNotRemoved)}constructor(e,t,n,r,i,s,p,m=oe.defaultValidator,x=new u,A=e.rangeChanged){Object(a._)(this,"_positionManager",void 0),Object(a._)(this,"_alternativeManager",void 0),Object(a._)(this,"_getContent",void 0),Object(a._)(this,"_capiEvents",void 0),Object(a._)(this,"_capiClient",void 0),Object(a._)(this,"_documentCounters",void 0),Object(a._)(this,"_transformRawAlert",void 0),Object(a._)(this,"_alertDuplicateValidator",void 0),Object(a._)(this,"_alertsRepository",void 0),Object(a._)(this,"rangeChanged",void 0),Object(a._)(this,"_state",void 0),Object(a._)(this,"state",void 0),Object(a._)(this,"lensesScores",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"_addAlerts",void 0),Object(a._)(this,"_removeAlerts",void 0),Object(a._)(this,"_changeAlerts",void 0),Object(a._)(this,"_freePremiumAlerts",void 0),Object(a._)(this,"_flush",void 0),Object(a._)(this,"_alertsPerRevision",void 0),Object(a._)(this,"_ops",void 0),Object(a._)(this,"_pipeline",void 0),Object(a._)(this,"changes",void 0),Object(a._)(this,"loadScores",void 0),Object(a._)(this,"undoApplied",void 0),Object(a._)(this,"_invalidateAlerts",void 0),Object(a._)(this,"_removeInvalidAlerts",void 0),Object(a._)(this,"_onCapiEvent",void 0),Object(a._)(this,"_emitDomainEvent",void 0),Object(a._)(this,"_prepareDiff",void 0),Object(a._)(this,"_disposeAlert",void 0),this._positionManager=e,this._alternativeManager=t,this._getContent=n,this._capiEvents=r,this._capiClient=i,this._documentCounters=s,this._transformRawAlert=p,this._alertDuplicateValidator=m,this._alertsRepository=x,this.rangeChanged=A,this._state=g.a.create(j.a.empty),this.state=this._state.view(j.a.toCheckingResult),this.lensesScores=g.a.create(M.empty),this._log=l.d.Logging.getLogger(me.loggerName,l.a.LogLevel.TRACE,l.a.LogColor.Manager.getColor()),this._subs=[],this._addAlerts=new C.a.Subject,this._removeAlerts=new C.a.Subject,this._changeAlerts=new C.a.Subject,this._freePremiumAlerts=new C.a.Subject,this._flush=new C.a.Subject,this._alertsPerRevision=0,this._pipeline=new ue(this._positionManager,this._alertsRepository,this._alertDuplicateValidator),this._invalidateAlerts=()=>{this.flushAlerts();const[e,t]=y.a.partition(this._getAllAlertsAsArray(),e=>e.isValid);this._log.debug("Invalidate alerts...",{valid:e.length,invalid:t.length}),e.forEach(e=>{this._alertsRepository.removeFromCapiMapping(e),e.clearCapiId()}),t.forEach(e=>e.clearCapiId())},this._removeInvalidAlerts=e=>{this._log.debug(`Removing invalid alerts by type '${e}'...`);const t=this._getTypeFilter(e),n=this._getAllAlertsAsArray().filter(e=>!e.isValid&&$.a.isNotDisposed(e)&&$.a.isRegistered(e)&&t(e));n.forEach(e=>this._removeAlertBuffered(c.b.right(e.id))),this._log.debug(n.length+" invalid alerts removed"),this.flushAlerts(),this._log.isEnabled(l.a.LogLevel.TRACE)&&this._log.trace("Removed alerts",n.map(e=>e.toString()))},this._onCapiEvent=e=>{try{switch("alert_received"===e.kind&&this._alertsPerRevision++,e.kind){case"alert_received":case"plagiarism_alert_received":if(!1===e.alert.hidden&&void 0===e.alert.cardLayout)return void this._log.warn("got alert with empty mapping",{pname:e.alert.pname});"unlocked"===e.alert.extra_properties.free_premium?this._handleFreePremium(e.alert):this._addAlertBuffered($.a.create(this._transformRawAlert(e.alert),this._ops,this._positionManager,this._alternativeManager));break;case"alert_removed":this._log.debug(`Remove from capi #${e.alertId}, merged in #${c.g.getOrElse(()=>"None")(e.mergedIn)}, hint: ${c.g.getOrElse(()=>"None")(e.hint)}`);Object(o.pipe)(this._alertsRepository.getByRawAlertId(e.alertId),c.g.exists($.a.isBulkApplied))||this._removeAlertBuffered(c.b.left({id:e.alertId,mergedIn:e.mergedIn,hint:e.hint}));break;case"alert_changed":this._log.debug("Alert change from capi #"+e.alertId),this._changeAlertBuffered({id:e.alertId,rev:e.rev,extraProperties:c.g.fromNullable(e.extraProperties),transformJson:c.g.fromNullable(e.transformJson),muted:c.g.fromNullable(e.muted)});break;case"finish":this._log.debug(`Alerts per revision (#${e.revision}): ${this._alertsPerRevision}`),this._alertsPerRevision=0,"idle"===this._capiClient.checkingState&&this._emitDomainEvent(this._pipeline.reset(e))}}catch(t){_.a.isErrorLike(t)?this._log.error("Cannot handle CAPI event.",t,{capiEvent:e}):this._log.error("Cannot handle CAPI event.",{capiEvent:e,error:t})}},this._emitDomainEvent=e=>{Object(o.pipe)(e,this._prepareDiff,E.a.createDiff,O.a.recover(e=>this._log.error("conflicts on diff creating",e)),e=>(this._log.debug("_emitDomainEvent",k.a.Diff.show.show(e)),e),j.a.applyDiff,c.j.map(O.a.recover(e=>this._log.error("conflicts on diff apply",e))),e=>this._state.modify(e))},this._prepareDiff=({added:e,updated:t=new Map,removed:n=new Map})=>(t.forEach((e,r)=>{Object(o.pipe)(e,f.d,$.a.fromAlertModel,$.a.shouldBeRemoved)&&(t.delete(r),n.set(r,e[0]))}),n.forEach(Object(h.flow)($.a.fromAlertModel,this._disposeAlert)),{added:e,updated:t,removed:n}),this._disposeAlert=e=>{if($.a.isApplied(e)&&e.state.undoable.commit(),$.a.isNotRegistered(e))try{this._alertsRepository.remove(e)}catch(t){this._log.error("Cannot remove alert.",t),$.a.isNotDisposed(e)&&e.dispose()}else this._log.error("unexpected remove of registered alert",e.toString())},this._ops=new re(this._positionManager,this._getContent,this._capiClient,this._alertsRepository),this.loadScores=e=>{this.lensesScores.set(e)},this.undoApplied=this._ops.undoApplied,this.changes=this._ops.changes;const I=this.rangeChanged.pipe(C.a.map(({affected:e})=>e),C.a.filter(e=>e.length>0),C.a.map(e=>w.a.groupBy(e=>e.meta.alertId,e.filter(F.a.is))),C.a.filter(e=>e.size>0),C.a.tap(e=>this._log.debug("Range[s] changed",e)),C.a.share()),T=C.a.interval(250).pipe(C.a.startWith(0),C.a.merge(this._flush)),P=S.b.createIgnoreErrorsSubscriber(this._log);this._subs.push(P("_alertsInvalidation",this._capiEvents.pipe(C.a.filter(e=>b.a.CAPIEvent.is("session_started")(e)&&e.isNewSession),C.a.tap(this._invalidateAlerts),C.a.switchMapTo(C.a.mergeStatic(this._capiEvents.pipe(C.a.filter(b.a.CAPIEvent.is("finish")),C.a.take(1),C.a.mapTo("alert")),this._capiEvents.pipe(C.a.filter(b.a.CAPIEvent.is("async_check_finished")),C.a.take(1),C.a.mapTo("plagiarism")))),C.a.tap(this._removeInvalidAlerts))),P("_capiEvents",this._capiEvents.pipe(C.a.tap(this._onCapiEvent))),P("_alertsProccesing",this._addAlerts.pipe(C.a.merge(this._freePremiumAlerts),C.a.merge(this._removeAlerts),C.a.merge(this._changeAlerts),C.a.merge(I),C.a.buffer(T),C.a.filter(v.n),C.a.map(this._pipeline.process),C.a.tap(this._emitDomainEvent))),P("_alertsBuffer",I.pipe(C.a.merge(this._capiEvents.pipe(C.a.filter(b.a.CAPIEvent.is("before_finish","before_async_check_finish","async_check_finished")))),C.a.mapTo(S.b.voidValue),C.a.tap(this._flush))),P("_alertOpsAlertChanges",this._ops.events.pipe(C.a.tap(this._emitDomainEvent))),P("_lensesScoresChanges",M.fromCapi(this._capiEvents).pipe(C.a.tap(S.b.toAtom(this.lensesScores)))),P("documentCountersChanges",d.fromAlerts(this._state.view(E.a.iso.wrap)).pipe(C.a.tap(S.b.toAtom(this._documentCounters))))),Object(v.r)("alerts",()=>this.toString()),Object(v.r)("triggerRemove",e=>{this._removeAlertBuffered(c.b.right(e))})}}var fe;Object(a._)(me,"loggerName","AlertManager"),(fe||(fe={})).create=function(e){const t=t=>Object(o.pipe)(e.get(),k.a.get(t),c.g.map($.a.fromAlertModel)),n=e=>Object(o.pipe)(t(e),c.g.filter($.a.isInteractable)),r=e=>Object(o.pipe)(t(e),c.g.filter($.a.isRegistered)),i=Object(h.flow)(r,c.g.filter(Object(v.b)($.a.isNotDisposed,Object(h.not)($.a.isInPremiumLens),Object(h.not)($.a.isHidden)))),a=Object(h.flow)(i,c.g.isSome);return{getById:t,getRegistered:r,getInteractable:n,getValidForFeedback:i,isValidForFeedback:a,isRegistered:e=>Object(o.pipe)(r(e),c.g.isSome),isInteractable:e=>Object(o.pipe)(n(e),c.g.isSome)}};var he=n("HOlR"),ge=n("yQCL");class be{apply(e,t){const{alternativeIndex:n,source:r}=t;return this._log.trace("apply",e),Object(o.pipe)(this._findAlert(e),c.b.chain(c.b.fromPredicate($.a.isApplicableAlert,()=>new Error("cannot apply not applicable alert"))),c.b.chain(e=>Object(o.pipe)(c.b.tryCatchError(()=>e.apply(t)),c.b.mapLeft(t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:n,source:r}),t)))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,b.a.AlertsBatchFeedbackType.BULK_ACCEPTED,t);const n=Object(o.pipe)(e,O.a.fromArray(e=>Object(o.pipe)(this._findAlert(e),c.b.mapLeft(t=>Object(h.tuple)(t,{id:e})),c.b.chain(c.b.fromPredicate($.a.isRegisteredApplicableAlert,e=>Object(h.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert()))),c.b.chain(c.b.fromPredicate(e=>U.A.withTransformJson(e._raw),e=>Object(h.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert()))),c.b.mapLeft(([e,t])=>(this._log.error(e.message,t),e)))));return Object(o.pipe)(n,O.a.flatMap(le.kb(),e=>Object(o.pipe)(this._ops._applyTransformJson({alerts:e.map(e=>({alert:e,alternative:$.a.getApplicableAlternative(e,0)})),source:$.b.api,method:$.a.State.Applied.Method.Bulk,feedbackSubtype:t}),D.f(t=>()=>(this._log.error("applyBulk error",t),O.a.of([],e.map(e=>e.id))),()=>()=>O.a.of(e.map(e=>e.id))))()))}confirmApplied(e){return this._log.trace("commitApplied",e),Object(o.pipe)(e,O.a.fromArray(Object(h.flow)(this._findAlert,c.b.map($.e.castApplied))),c.b.mapLeft(e=>new Error("Error on trying to confirm applied alerts: "+e.rejected.join(","))),c.b.chain(e=>this._ops._confirmApplied(e)()))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),Object(o.pipe)(e.map(Object(h.flow)(this._findAlert,c.b.map(e=>[e]))),Object(ge.fold)(ye),c.b.chain(e=>this._ops._dismissBatch(e,t)()))}applyFeedback(e,t,n){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._alertFeedback(e,t,n)()))}sendBatchFeedback(e,t,n){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),Object(o.pipe)(e,O.a.fromArray(this._findAlert),O.a.tapFailure(e=>this._log.error("Cannot send batch feedback for alerts",e.rejected)),O.a.foldSuccess(e=>c.b.right(this._ops._alertBatchFeedback(e,t,n)())))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),Object(o.pipe)(this._findAlert(e.id),c.b.chain(e=>e.takeReference(t)))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),Object(o.pipe)(e,O.a.fromArray(e=>this._findAlert(e.id)),O.a.flatMap(le.kb(),e=>Object(o.pipe)(this._ops._changeMuteState(e,t)(),c.b.mapLeft(e=>(this._log.error("Can not change mute state",e),e)),c.b.unsafeGet)))}changeGapValue(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._changeGapValue(e,t)()))}changeTakeawayFeedback(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._changeTakeawayFeedback(e,t)()))}shortenItSummaryNotFound(e){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._shortenItSummaryNotFound(e)()))}sendShortenItSummaryRequest(e){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._commitShortenItSummaryRequest(e)()))}dismissShortenItTransformGroup(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._dismissShortenItTransformGroup(e,t)()))}changeToneAIToneAlternative(e,t){return Object(o.pipe)(this._findAlert(e),c.b.chain(e=>this._ops._changeToneAIToneAlternative(e,t)()))}constructor(e,t){Object(a._)(this,"_alertsReader",void 0),Object(a._)(this,"_ops",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_findAlert",void 0),Object(a._)(this,"undoBulk",void 0),Object(a._)(this,"getHighlightRanges",void 0),Object(a._)(this,"hasNewRangesForUpdate",void 0),Object(a._)(this,"applyPendingRangesUpdate",void 0),Object(a._)(this,"getAppliedRanges",void 0),this._alertsReader=e,this._ops=t,this._log=l.d.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>Object(o.pipe)(e,this._alertsReader.getById,c.b.fromOption(()=>new Error(`alert ${e} not found in the repo`))),this.undoBulk=Object(h.flow)(q.P(Object(h.flow)(this._alertsReader.getById,c.g.filter($.a.isBulkApplied))),e=>this._ops.undoApplied(e,$.a.State.Applied.Method.Bulk)(),c.b.getOrElse(e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e})),this.getHighlightRanges=Object(h.flow)(this._findAlert,c.b.map(e=>e.getHighlightRanges())),this.hasNewRangesForUpdate=Object(h.flow)(this._findAlert,c.b.map(e=>e.hasNewRangesForUpdate)),this.applyPendingRangesUpdate=Object(h.flow)(this._findAlert,c.b.map(e=>e.applyPendingRangesUpdate())),this.getAppliedRanges=Object(h.flow)(this._alertsReader.getById,c.b.fromOption(()=>new Error("alert not found in the repo")),c.b.filterOrElse($.a.isApplicableAlert,e=>new Error("alert is not applicable: "+e.alertType)),c.b.map(e=>e.getAppliedRanges()))}}const ve=le.kb(),ye=Object(he.getApplyMonoid)(ve);function Oe(e,t,n,a,o){const s=new i.a,c=new r.a,l=new u,d=new me(s,c,e,a,n,o,t,void 0,l),p=fe.create(d.state);return{positionManager:s,altManager:c,alertManager:d,alertsRepository:l,alertsReader:p,alertsService:new be(p,d._ops)}}},F0rY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("tiWp"),a=n("mgiE"),o=n("Hj2R"),s=n("mEGS");!function(e){e.create=e=>({getAlertMuteCategory:t=>Object(i.pipe)(e.getById(t),a.g.chain(e=>e.muteCategory))});e.getAlerts=function(e,t){const n={byCategory:new Map(t.map(e=>[e,[]])),all:[]};return Object(i.pipe)(e.get(),s.a.reduce(n,(e,{alert:n})=>Object(i.pipe)(n.muteCategory,a.g.filter(e=>t.includes(e.id)),a.g.map(e=>e.id),a.g.alt(()=>a.g.fromNullable(t.find(o.a.belongsToSpecialCategory(n)))),a.g.fold(()=>e,t=>(e.byCategory.get(t).push(n),e.all.push(n),e)))))}}(r||(r={}))},FAyr:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={};n.r(r),n.d(r,"fontsProvider",(function(){return l}));var i={};n.r(i),n.d(i,"experimantalFontsProvider",(function(){return p}));var a=n("8O/t"),o=n("B8yO"),s=n("4GyQ"),c=n("nWMp");function l(e,t={withPreload:!0}){return r=>(o.useLayoutEffect(()=>{n("wV17")},[]),o.createElement(o.Fragment,null,t.withPreload?o.createElement(u,{fontStyles:Object(a._)({},d)}):null,o.createElement(e,Object(a._)({},r,Object(s.c)(r.className,Boolean(t.customFontStyle)?t.customFontStyle:d.wrapper)))))}const u=({fontStyles:e})=>o.createElement("div",{className:e.fontsPreload},o.createElement("span",{className:e.italicBold}),o.createElement("span",{className:e.italicRegular}),o.createElement("span",{className:e.italicLight}),o.createElement("span",{className:e.normalBold}),o.createElement("span",{className:e.normalRegular}),o.createElement("span",{className:e.normalLight})),d=c.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]});function p(e){return t=>(o.useLayoutEffect(()=>{n("4MM/")},[]),o.createElement(o.Fragment,null,o.createElement(m,{fontStyles:Object(a._)({},f)}),o.createElement(e,Object(a._)({},t,Object(s.c)(t.className,f.wrapper)))))}const m=({fontStyles:e})=>o.createElement("div",{className:e.fontsPreload},o.createElement("span",{className:e.italicBold}),o.createElement("span",{className:e.italicRegular}),o.createElement("span",{className:e.italicLight}),o.createElement("span",{className:e.normalBold}),o.createElement("span",{className:e.normalRegular}),o.createElement("span",{className:e.normalLight})),f=c.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Grammarly Product BETA', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Grammarly Product BETA'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},Fv8Q:function(e,t,n){"use strict";n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return R})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return L}));var r,i,a,o,s,c,l=n("IMGo"),u=n("cZKX"),d=n("bQod"),p=n("DTwm"),m=n("mgiE"),f=n("xk6L"),h=n("LPyu"),g=n("ENBj"),b=n("HBEw"),v=n("ez9D"),y=n("1MDf"),O=n("pKQL");function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o=r||(r={}),(a=o.EmptyMessage||(o.EmptyMessage={})).fromItem=function(e){return e.alertIds,S(e,["alertIds"])},a.show={show:function(e){var t=e.sduiId,n=e.sduiRootId;return JSON.stringify({sduiId:t,sduiRootId:n})}},(o.EmptyItem||(o.EmptyItem={})).isRootItem=function(e){return e.sduiId===e.sduiRootId},function(e){e.fromSDUI=function(e){return function(r){return g.a.reduce(r.content,(function(i,a){return Object(p.pipe)(i,m.g.chain((function(t){return Object(p.pipe)(a,g.a.getAlertIds,m.g.chain(e),m.g.map(n(t)),m.g.alt((function(){return i})))})),m.g.alt((function(){return Object(p.pipe)(a,g.a.getAlertRefs,m.g.chain(t(r.id,e)))})))}),g.a.TreeTraversal.PreOrder,m.g.none)}};var t=function(e,t){return function(r){return r.reduce((function(r,i){return Object(p.pipe)(r,m.g.map((function(e){return Object(p.pipe)(i.alertIds,t,m.g.fold((function(){return e}),n(e)))})),m.g.alt((function(){return m.g.some({emptyStrongAlertRef:i,sduiId:e,sduiRootId:e,alertIds:new Set(Object(p.pipe)(i.alertIds,t,m.g.getOrElse(Object(p.constant)(m.a.empty))))})})))}),m.g.none)}},n=(e.fromStrongAlertRef=function(e){return function(t,n){return Object(p.pipe)(e(t.alertIds),m.g.map((function(e){return{sduiRootId:n,sduiId:b.a.Item.Id.from(t.id),emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.fromStrongAlertRefBehavior=function(e){return function(t,n,r){return Object(p.pipe)(e(t.alertIds),m.g.map((function(e){return{sduiRootId:r,sduiId:n,emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.show={show:function(e){return"StrAlertRef.Item: { sduiId: ".concat(e.sduiId,", sduiRootId: ").concat(e.sduiRootId,", alertIds: [").concat(Array.from(e.alertIds.values()).join(", "),"]}")}},e.addAlertIds=function(e){return function(t){return t.forEach((function(t){return e.alertIds.add(t)})),e}})}(s=o.Item||(o.Item={})),function(e){e.iso=y.d(),e.empty=function(){return{alertRefMapping:new Map}},e.size=function(e){return e.alertRefMapping.size},e.show={show:function(e){return Array.from(e.alertRefMapping.entries()).map((function(e){var t=k(e,2),n=t[0],r=t[1];return"".concat(n,": [\n").concat(r.map(s.show.show).join("\n"),"\n]")})).join("\n")}};var t=function(e){return function(t){return Object(p.pipe)(t.alertRefMapping.get(e),m.g.fromNullable)}},n=(e.get=function(e){return function(n){return Object(p.pipe)(t(e)(n),m.g.map(m.a.map((function(e){return w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({},e),{alertIds:new Set(e.alertIds)})}))))}},e.updateWithRemovedAlerts=function(e){return function(n){return Object(p.pipe)(e,u.w((function(e){return Object(p.pipe)(n,t(e),m.g.map(m.a.filter((function(t){return t.alertIds.delete(e)&&0===t.alertIds.size}))),m.g.fold((function(){return[]}),(function(t){return n.alertRefMapping.delete(e),t.map(r.EmptyMessage.fromItem)})))})))}},e.add=function(e,t){return function(r){O.a.isStrongAlertRefBehavior(e.emptyStrongAlertRef)?Object(p.pipe)(s.fromStrongAlertRefBehavior(t)(e.emptyStrongAlertRef,e.sduiId,e.sduiRootId),m.g.tap(n(r))):g.a.forEach(e.emptyStrongAlertRef,Object(p.flow)(function(e,t){return function(n){return Object(p.pipe)(n,g.a.getAlertRefs,m.g.fold(Object(p.constant)(u.L),u.P((function(r){return O.a.isStrongAlertRefBehavior(r)?s.fromStrongAlertRefBehavior(t)(r,b.a.Item.Id.from(n.id),e):s.fromStrongAlertRef(t)(r,e)}))))}}(e.sduiRootId,t),m.a.map(n(r))),g.a.TreeTraversal.PostOrder)}},function(e){var t=i(e);return function(e){e.alertIds.forEach((function(n){return t(n,[e])}))}}),i=function(e){return function(t,n){var r=e.alertRefMapping.get(t);e.alertRefMapping.set(t,null!=r?r.concat(n):n)}};e.remove=function(e){return function(n){return Object(p.pipe)(Array.from(e.alertIds.keys()),m.a.reduce(new Array,(function(r,a){return Object(p.pipe)(n,t(a),m.g.map(m.a.filter((function(t){return t.sduiRootId!==e.sduiRootId}))),m.g.fold((function(){r.push("failed to remove SDUI by alertId ".concat(a,", alertRefMapping doesn't contain alertId ").concat(a))}),(function(e){return function(e){return function(t,n){0===n.length?e.alertRefMapping.delete(t):i(e)(t,n)}}(n)(a,e)}))),r})))}}}(c||(c={})),(i=o.Collection||(o.Collection={})).empty=function(){return c.iso.wrap(c.empty())},i.size=function(e){return Object(p.pipe)(c.iso.unwrap(e),c.size)},i.show={show:function(e){return Object(p.pipe)(c.iso.unwrap(e),c.show.show)}},i.get=function(e){return function(t){return Object(p.pipe)(c.iso.unwrap(t),c.get(e))}},i.add=function(e,t){return function(n){return Object(p.pipe)(c.iso.unwrap(n),c.add(e,t))}},i.remove=function(e){return function(t){return Object(p.pipe)(c.iso.unwrap(e),c.remove(t))}},i.updateWithRemovedAlerts=function(e){return function(t){return Object(p.pipe)(c.iso.unwrap(t),c.updateWithRemovedAlerts(e))}};var I=Object(p.flow)(m.a.map(b.a.AlertId.from),m.g.some),T=function(e,t,n,i,a,o,s){var c=e.pipe(f.a.withLatestFrom(n),f.a.tap((function(e){var t=A(e,1),n=A(t[0],2),r=n[0],i=n[1];o.trace("[Optimistic update] emptyAlertsRefReasonTuple > Removed alerts. Reason: ".concat(i,", removedAlertIds: [").concat(r.join(", "),"]"))})),f.a.map((function(e){var t=A(e,2),n=A(t[0],2),i=n[0],a=n[1],s=t[1];return[Object(p.pipe)(s,M(o),r.Collection.updateWithRemovedAlerts(i)),a]})),f.a.tap((function(e){var t=A(e,2),n=t[0],i=t[1];return o.trace("[Optimistic update] emptyAlertsRefReasonTuple > Reason: ".concat(i," found emptyAlertsRef: [").concat(n.map(r.EmptyMessage.show.show).join(", "),"]"))})),f.a.switchMap((function(e){var t=A(e,2),n=t[0],r=t[1];return Object(p.pipe)(n,u.ub((function(e){return[e,r]})),(function(e){return f.a.from(e)}))})),f.a.share()),y=c.pipe(f.a.filter((function(e){var t=A(e,1)[0];return r.EmptyItem.isRootItem(t)})),f.a.map((function(e){var t=A(e,2),n=t[0],r=t[1];return P.toRemovedEvent(r)(h.a.RawSduiItem.Id.create(n.sduiRootId))}))),O=t.pipe(f.a.map((function(e){var t=A(e,2),n=t[0],r=t[1];return P.toRemovedEvent(r)(h.a.RawSduiItem.Id.create(n))}))),_=f.a.mergeStatic(y,O),C=c.pipe(f.a.filter((function(e){var t=A(e,1)[0];return!r.EmptyItem.isRootItem(t)})),f.a.withLatestFrom(n),f.a.map((function(e){var t=A(e,2),n=A(t[0],2),r=n[0],i=n[1],a=t[1],o=h.a.RawSduiItem.Id.create(r.sduiRootId);return Object(p.pipe)(v.a.get(b.a.Item.Id.from(r.sduiRootId))(a),m.g.chain((function(e){return g.a.removeStrongAlertRef(e.content)([r.emptyStrongAlertRef])})),m.g.fold((function(){return P.toRemovedEvent(i)(h.a.RawSduiItem.Id.create(r.sduiRootId))}),(function(e){return P.toUpdatedEvent(i)(e,o)})))})));return{emptyAlertsRefReasonTuple:c,optimisticRemoveSDUIEvent:_,emptyStrongAlertRefUpdate:C,viewStackUpdates:i.pipe(f.a.buffer(s),f.a.filter(m.a.isNonEmpty),f.a.map(Object(p.flow)(l.K((function(e){return e.sduiRootId})),d.V,u.ub((function(e){var t=A(e,2),n=t[0],r=t[1];return r.forEach((function(e){return a.switchView(e)})),L.of(n,"switchView")(m.g.chain((function(e){return Object(p.pipe)(g.a.bulkSwitchView(e,r.map((function(e){return{where:e.where,selected:e.selected,type:"switchView"}}))),m.g.some)})))}))))),activePopoverUpdates:f.a.combineLatestStatic([a.activePopoverView,n.pipe(f.a.map(v.a.sduiRoots()))]).pipe(f.a.map((function(e){var t=A(e,2),n=t[0];return t[1].map((function(e){return L.of(e,"switchView")(m.g.chain((function(e){return g.a.setPopoverView(e,n)})))}))})))}};function M(e){return v.a.reduce(r.Collection.empty(),(function(t,n){return Object(p.pipe)(r.Item.fromSDUI(I)(n),m.g.fold((function(){return e.trace("SDUI item ".concat(b.a.Item.show.show(n)," does not contain AlertRef, skipping it"))}),(function(e){return r.Collection.add(e,I)(t)})),(function(e){return t}))}))}var P,N,B,L,F=function(e){return e.kind==h.a.SduiEventKind.Update},R=function(e){return e.kind==h.a.SduiEventKind.Remove};(N=P||(P={})).fromSource=function(e){return function(t){return x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({},t),{source:e})}},N.toRemovedEvent=function(e){return function(t){return{kind:h.a.SduiEventKind.Remove,sduiRootId:t,source:e,rev:0}}},N.toUpdatedEvent=function(e){return function(t,n){return{kind:h.a.SduiEventKind.Update,sdui:t,sduiRootId:n,source:e,rev:0}}},N.show={show:function(e){return"SduiRootId: ".concat(e.sduiRootId,", Kind: ").concat(e.kind,", Source: ").concat(e.source)}},function(e){e.CAPI="capi",e.TextChange="textChange",e.RemoveAlertsSDUIAction="removeAlerts",e.RemoveRootSDUIAction="removeRoot",e.RemoveDuplicate="removeDuplicate",e.SwitchView="switchView"}(B||(B={})),(L||(L={})).of=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r){return{kind:"sdui_lazy_update",toContent:r,sduiRootId:b.a.Item.Id.from(e),rev:n,source:t}}}},GbV8:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HOlR"),i=n("5FCM"),a=n("DTwm"),o=n("wC8/"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};function c(e,t,n,i,a){return s(this,void 0,void 0,(function*(){try{const o=yield t();r.isLeft(o)?(null==n||n.error("runTaskEither() - error running task",{taskName:e,result:o}),null==a||a(o.left)):(null==n||n.debug("runTaskEither() - task successful",{taskName:e,result:o.right}),null==i||i(o.right))}catch(t){null==a||a(t instanceof Error?t:new Error(String(t))),null==n||n.error("runTaskEither() - promise rejection running task",Object(o.a)(t)?t:new Error(String(t)),{taskName:e})}}))}const l={URI:i.g,map:i.f.map,ap:(e,t)=>Object(a.pipe)(e,i.j(t))}},GllM:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n("B8yO"),i=n("OwvP"),a=n("4GyQ"),o=n("111I"),s=n("2swC"),c=n("NDcT"),l=n("hSa3"),u=n("ySi0"),d=n("xk6L"),p=n("PyEC");const m=e=>o.b.Grid.make(({slots:t})=>r.createElement(i.a.div,Object(a.c)(p.a.wrapper,e),t.body)),f=({alertsCount:e,extendedCard:t})=>{const n=r.useContext(c.a.Context).premiumUpHookCard.title;return r.createElement("div",{className:p.a.title},t?null:r.createElement(u.d.UpgradeHookPanel.TitleDiamond,{className:p.a.icon}),r.createElement("span",{className:p.a.titleText},n.weFound,r.createElement(i.a.span,null,e.pipe(d.a.map(e=>r.createElement("b",null,n.premiumIssues(e))))),t?n.forPremiumExtended:n.forPremium))},h=({alertsCount:e})=>r.createElement(i.a.div,{className:p.a.counter},r.createElement("svg",{"aria-hidden":!0,height:"128",width:"128"},r.createElement("circle",{cx:"50%",cy:"50%",r:"50%",fill:s.a.CoreYellow1}),r.createElement("circle",{cx:"50%",cy:"50%",r:"25%",fill:s.a.CoreYellow20})),e.pipe(d.a.map(e=>r.createElement("div",{className:p.a.counterText},e)))),g=({alert:e})=>r.createElement("div",{key:e.category,className:p.a.alertCategory},r.createElement(l.a.Counter,{count:e.count,type:"yellowPremium"}),r.createElement("div",{className:p.a.categoryHumanContainer},e.categoryHuman))},Gouu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return w}));var r,i,a=n("LzOy"),o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("8O/t"),u=n("X76w"),d=n("mMt2"),p=n("0Uv3"),m=n("tiWp"),f=n("+vYo"),h=n("GMJx"),g=n("/edk"),b=n("0Qjk"),v=n("ebLO"),y=n("xk6L"),O=n("mgiE"),_=n("RRF2"),C=n("M3t0");!function(e){e.Querying="querying",e.SynonymsReady="ready",e.SynonymsEmpty="empty",e.SynonymApplied="applied",e.SynonymsError="error",e.SynonymsNone="none"}(r||(r={})),function(e){e.isReady=function(e){return null!==e&&e.kind===r.SynonymsReady},e.isEmpty=function(e){return null!==e&&e.kind===r.SynonymsEmpty},e.isQuerying=function(e){return null!==e&&e.kind===r.Querying},e.isApplied=function(e){return null!==e&&e.kind===r.SynonymApplied};e.defaultState={kind:r.SynonymsNone,query:{id:-1,start:-1,word:""}}}(i||(i={}));var w,S=function(){function e(t,n,r,a){Object(o.a)(this,e),Object(c._)(this,"positionManager",void 0),Object(c._)(this,"_getContent",void 0),Object(c._)(this,"_capi",void 0),Object(c._)(this,"_ded",void 0),Object(c._)(this,"state",void 0),Object(c._)(this,"changes",void 0),Object(c._)(this,"_log",void 0),this.positionManager=t,this._getContent=n,this._capi=r,this._ded=a,this.state=f.a.create(i.defaultState),this.changes=new y.a.Subject,this._log=C.d.Logging.getLogger("editor.SynonymsModelImpl")}return Object(s.a)(e,[{key:"query",value:function(e){var t=this;return Object(a.a)((function(){return Object(p.c)(this,(function(n){return t._log.trace("SynonymsQuery: "+e.word),t.state.set({kind:r.Querying,query:e}),[2,O.l.toPromise(t._capi.requestSynonyms(e.start,e.word)).then((function(n){var i=_.d.Local.Timestamp.now(),a=Object(m.pipe)(n.synonymsOrGroups,O.g.fold((function(){return{kind:r.SynonymsEmpty,query:e,synonyms:{id:n.id},readyAt:i,stats:w.emptySynonymsStats,pname:n.pname}}),(function(t){return{kind:r.SynonymsReady,query:e,synonyms:Object(u._)(Object(l._)({},n),{synonymsOrGroups:t}),readyAt:i,stats:w.getSynonymsStats(t),pname:n.pname}})));return t._onResponse(a),a})).catch((function(n){return t.abortQuery(),Boolean(n.message)&&-1!==n.message.indexOf("Timeout")?t._log.info("Synonyms timeout",n):t._log.warn("Error getting synonyms",n),{kind:r.SynonymsError,query:e}}))]}))}))()}},{key:"abortQuery",value:function(){var e=this.state.get();i.isQuerying(e)&&this.state.set(i.defaultState)}},{key:"_onResponse",value:function(e){var t=this,n=window.SQT;setTimeout((function(){t._log.trace("_onResponse() newState: "+e);var n=t.state.get();i.isQuerying(n)&&n.query.word===e.query.word?t.state.set(e):t._log.trace("Discarding result for "+e.query.word)}),n)}},{key:"applySynonym",value:function(e,t){var n=this;this._log.debug("_applySynonym(#".concat(e.id,")"));var i=e.range,a=i.start,o=i.end-i.start;this._ded.flushChanges();var s=this.positionManager.getTextLength(),c=Object(m.pipe)((new h.a).retain(a).delete(o).insert(t),v.a.getEnrichedWithFormattingDelta(this._getContent())),l=g.a.delta(c,s),u=c.invert(this._getContent());return this.changes.next(l),O.b.getOrElse((function(e){return n._log.error("Failed to set cursor on synonym apply.",e,{position:a})}))(this._ded.setCursor(a,0)),this.state.set({kind:r.SynonymApplied,target:e}),this._capi.sendFeedback({id:e.id,kind:b.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacementText:t})(),this._ded.flushChanges(),s=this.positionManager.getTextLength(),{action:b.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacement:t,commit:function(){n._log.debug("_applySynonym(#".concat(e.id,"):commit()")),e.dispose()},undo:function(){n._log.debug("_applySynonym(#".concat(e.id,"):undo()"));var t=n.positionManager.getTextLength();if(t===s){var r=g.a.delta(u,t);n.changes.next(r)}else n._log.error("Text has changed while uncommitted apply is present");return e.dispose(),[]}}}},{key:"ignore",value:function(e){var t=this.state.get();(i.isEmpty(t)||i.isReady(t))&&t.synonyms.id===e?this._capi.sendFeedback({id:e,kind:b.a.SynonymFeedbackType.SYNONYM_DISMISSED})():this._log.error("Tried to report ignore for an unknown synonyms id",{reportedId:e,currentState:t})}}]),e}();!function(e){var t=e.emptySynonymsStats={numberOfMeanings:0,numberOfSynonymsByMeanings:[],numberOfSynonymsTotal:0},n=function(e){return{numberOfMeanings:1,numberOfSynonymsByMeanings:[e.length],numberOfSynonymsTotal:e.length}},r=function(e){return e.reduce((function(e,t){return{numberOfMeanings:e.numberOfMeanings+1,numberOfSynonymsByMeanings:Object(d.a)(e.numberOfSynonymsByMeanings).concat([t.words.length]),numberOfSynonymsTotal:e.numberOfSynonymsTotal+t.words.length}}),t)},i=(e.getSynonymsStats=function(e){return Object(m.pipe)(e,O.b.fold(n,r))},function(e,t){var n=t.findIndex((function(t){return t===e}));return{meaningIndex:0,synonymIndexInGroup:n,synonymIndexAbs:n}}),a={meaningIndex:-1,synonymIndexInGroup:-1,synonymIndexAbs:-1};e.getSynonymStats=function(e,t){return Object(m.pipe)(t,O.b.fold((function(t){return i(e,t)}),(function(t){return function(e,t){return t.reduce((function(t,n,r){var a=t.result,o=t.numberOfLookedSynonyms,s=i(e,n.words).synonymIndexInGroup;return s>-1?{result:{meaningIndex:r,synonymIndexInGroup:s,synonymIndexAbs:o+s},numberOfLookedSynonyms:o}:{result:a,numberOfLookedSynonyms:o+n.words.length}}),{result:a,numberOfLookedSynonyms:0}).result}(e,t)})))},e.getTimeToClose=function(e){return Object(m.pipe)(e,(function(e){return _.d.Local.Timestamp.subtract(_.d.Local.Timestamp.now(),e)}),(function(e){return e/1e3}))}}(w||(w={}))},GsAQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("zCOz"),c=n("tREI");let l="undefined"!=typeof window?window.performance:null,u=l&&(l.now||l.webkitNow||l.msNow||l.mozNow);u&&u.bind(l);var d=n("M+v9"),p=n("ZqXC"),m=n("TtyI");let f=null;function h(e,t="assertive",n=7e3){f||(f=new g),f.announce(e,t,n)}class g{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",n=7e3){if(!this.node)return;let r=document.createElement("div");r.textContent=e,"assertive"===t?this.assertiveLog.appendChild(r):this.politeLog.appendChild(r),""!==e&&setTimeout(()=>{r.remove()},n)}clear(e){this.node&&(e&&"assertive"!==e||(this.assertiveLog.innerHTML=""),e&&"polite"!==e||(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}var b=n("Q2+j");function v(e){return e&&e.__esModule?e.default:e}new WeakMap;var y;function O(e,t){var n;let{getRowText:r=(e=>{var r,i,a;return null!==(n=null===(i=(r=t.collection).getTextValue)||void 0===i?void 0:i.call(r,e))&&void 0!==n?n:null===(a=t.collection.getItem(e))||void 0===a?void 0:a.textValue})}=e,i=(0,d.c)(v(y)),a=t.selectionManager.rawSelection,c=(0,o.useRef)(a);(0,s.B)(()=>{var e;if(!t.selectionManager.isFocused)return void(c.current=a);let n=_(a,c.current),o=_(c.current,a),s="replace"===t.selectionManager.selectionBehavior,l=[];if(1===t.selectionManager.selectedKeys.size&&s){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let e=r(t.selectionManager.selectedKeys.keys().next().value);e&&l.push(i.format("selectedItem",{item:e}))}}else if(1===n.size&&0===o.size){let e=r(n.keys().next().value);e&&l.push(i.format("selectedItem",{item:e}))}else if(1===o.size&&0===n.size&&t.collection.getItem(o.keys().next().value)){let e=r(o.keys().next().value);e&&l.push(i.format("deselectedItem",{item:e}))}"multiple"===t.selectionManager.selectionMode&&(0===l.length||"all"===a||a.size>1||"all"===c.current||(null===(e=c.current)||void 0===e?void 0:e.size)>1)&&l.push("all"===a?i.format("selectedAll"):i.format("selectedCount",{count:a.size})),l.length>0&&h(l.join(" ")),c.current=a},[a])}function _(e,t){let n=new Set;if("all"===e||"all"===t)return n;for(let r of e.keys())t.has(r)||n.add(r);return n}function C(e){let t=(0,d.c)(v(y)),n=(0,b.j)(),r=("pointer"===n||"virtual"===n||null==n)&&"undefined"!=typeof window&&"ontouchstart"in window,i=(0,o.useMemo)(()=>{let n=e.selectionManager.selectionMode,i=e.selectionManager.selectionBehavior,a=void 0;return r&&(a=t.format("longPressToSelect")),"replace"===i&&"none"!==n&&e.hasItemActions?a:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,r]);return(0,s.r)(i)}function w(e,t){let{key:n}=e,r=t.selectionManager,i=(0,s.v)(),a=!t.selectionManager.canSelectItem(n),o=t.selectionManager.isSelected(n);return{checkboxProps:{id:i,"aria-label":(0,d.c)(v(y)).format("select"),isSelected:o,isDisabled:a,onChange:()=>r.select(n)}}}y={"ar-AE":{deselectedItem:e=>e.item+" غير المحدد",longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>t.number(e.count)+" عنصر محدد",other:()=>t.number(e.count)+" عنصر محدد"})+".",selectedItem:e=>e.item+" المحدد"},"bg-BG":{deselectedItem:e=>e.item+" не е избран.",longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>t.number(e.count)+" избран елемент",other:()=>t.number(e.count)+" избрани елементи"})+".",selectedItem:e=>e.item+" избран."},"cs-CZ":{deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})+".",selectedItem:e=>`Vybrána položka ${e.item}.`},"da-DK":{deselectedItem:e=>e.item+" ikke valgt.",longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>t.number(e.count)+" element valgt",other:()=>t.number(e.count)+" elementer valgt"})+".",selectedItem:e=>e.item+" valgt."},"de-DE":{deselectedItem:e=>e.item+" nicht ausgewählt.",longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>t.number(e.count)+" Element ausgewählt",other:()=>t.number(e.count)+" Elemente ausgewählt"})+".",selectedItem:e=>e.item+" ausgewählt."},"el-GR":{deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})+".",selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`},"en-US":{deselectedItem:e=>e.item+" not selected.",select:"Select",selectedCount:(e,t)=>t.plural(e.count,{"=0":"No items selected",one:()=>t.number(e.count)+" item selected",other:()=>t.number(e.count)+" items selected"})+".",selectedAll:"All items selected.",selectedItem:e=>e.item+" selected.",longPressToSelect:"Long press to enter selection mode."},"es-ES":{deselectedItem:e=>e.item+" no seleccionado.",longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>t.number(e.count)+" elemento seleccionado",other:()=>t.number(e.count)+" elementos seleccionados"})+".",selectedItem:e=>e.item+" seleccionado."},"et-EE":{deselectedItem:e=>e.item+" pole valitud.",longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>t.number(e.count)+" üksus valitud",other:()=>t.number(e.count)+" üksust valitud"})+".",selectedItem:e=>e.item+" valitud."},"fi-FI":{deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>t.number(e.count)+" kohde valittu",other:()=>t.number(e.count)+" kohdetta valittu"})+".",selectedItem:e=>e.item+" valittu."},"fr-FR":{deselectedItem:e=>e.item+" non sélectionné.",longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>t.number(e.count)+" élément sélectionné",other:()=>t.number(e.count)+" éléments sélectionnés"})+".",selectedItem:e=>e.item+" sélectionné."},"he-IL":{deselectedItem:e=>e.item+" לא נבחר.",longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>t.number(e.count)+" פריטים נבחרו"})+".",selectedItem:e=>e.item+" נבחר."},"hr-HR":{deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>`Stavka ${e.item} je odabrana.`},"hu-HU":{deselectedItem:e=>e.item+" nincs kijelölve.",longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>t.number(e.count)+" elem kijelölve",other:()=>t.number(e.count)+" elem kijelölve"})+".",selectedItem:e=>e.item+" kijelölve."},"it-IT":{deselectedItem:e=>e.item+" non selezionato.",longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>t.number(e.count)+" elemento selezionato",other:()=>t.number(e.count)+" elementi selezionati"})+".",selectedItem:e=>e.item+" selezionato."},"ja-JP":{deselectedItem:e=>e.item+" が選択されていません。",longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"項目が選択されていません",one:()=>t.number(e.count)+" 項目を選択しました",other:()=>t.number(e.count)+" 項目を選択しました"})+"。",selectedItem:e=>e.item+" を選択しました。"},"ko-KR":{deselectedItem:e=>e.item+"이(가) 선택되지 않았습니다.",longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>t.number(e.count)+"개 항목이 선택되었습니다",other:()=>t.number(e.count)+"개 항목이 선택되었습니다"})+".",selectedItem:e=>e.item+"이(가) 선택되었습니다."},"lt-LT":{deselectedItem:e=>e.item+" nepasirinkta.",longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>"Pasirinkta elementų: "+t.number(e.count)})+".",selectedItem:e=>`Pasirinkta: ${e.item}.`},"lv-LV":{deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>"Atlasīto vienumu skaits: "+t.number(e.count),other:()=>"Atlasīto vienumu skaits: "+t.number(e.count)})+".",selectedItem:e=>`Atlasīts vienums ${e.item}.`},"nb-NO":{deselectedItem:e=>e.item+" er ikke valgt.",longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>t.number(e.count)+" element er valgt",other:()=>t.number(e.count)+" elementer er valgt"})+".",selectedItem:e=>e.item+" er valgt."},"nl-NL":{deselectedItem:e=>e.item+" niet geselecteerd.",longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>t.number(e.count)+" item geselecteerd",other:()=>t.number(e.count)+" items geselecteerd"})+".",selectedItem:e=>e.item+" geselecteerd."},"pl-PL":{deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>t.number(e.count)+" zaznaczony element",other:()=>t.number(e.count)+" zaznaczonych elementów"})+".",selectedItem:e=>`Zaznaczono ${e.item}.`},"pt-BR":{deselectedItem:e=>e.item+" não selecionado.",longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"pt-PT":{deselectedItem:e=>e.item+" não selecionado.",longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"ro-RO":{deselectedItem:e=>e.item+" neselectat.",longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Niciun element selectat",one:()=>t.number(e.count)+" element selectat",other:()=>t.number(e.count)+" elemente selectate"})+".",selectedItem:e=>e.item+" selectat."},"ru-RU":{deselectedItem:e=>e.item+" не выбрано.",longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>t.number(e.count)+" элемент выбран",other:()=>t.number(e.count)+" элементов выбрано"})+".",selectedItem:e=>e.item+" выбрано."},"sk-SK":{deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>t.number(e.count)+" vybratá položka",other:()=>"Počet vybratých položiek:"+t.number(e.count)})+".",selectedItem:e=>`Vybraté položky: ${e.item}.`},"sl-SI":{deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>t.number(e.count)+" element je izbran",other:()=>t.number(e.count)+" elementov je izbranih"})+".",selectedItem:e=>`Element ${e.item} je izbran.`},"sr-SP":{deselectedItem:e=>e.item+" nije izabrano.",longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>e.item+" je izabrano."},"sv-SE":{deselectedItem:e=>e.item+" ej markerat.",longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>t.number(e.count)+" markerat objekt",other:()=>t.number(e.count)+" markerade objekt"})+".",selectedItem:e=>e.item+" markerat."},"tr-TR":{deselectedItem:e=>e.item+" seçilmedi.",longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>t.number(e.count)+" öge seçildi",other:()=>t.number(e.count)+" öge seçildi"})+".",selectedItem:e=>e.item+" seçildi."},"uk-UA":{deselectedItem:e=>e.item+" не вибрано.",longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>t.number(e.count)+" елемент вибрано",other:()=>"Вибрано елементів: "+t.number(e.count)})+".",selectedItem:e=>e.item+" вибрано."},"zh-CN":{deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})+"。",selectedItem:e=>`已选择 ${e.item}。`},"zh-TW":{deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})+"。",selectedItem:e=>`已選取「${e.item}」。`}};const S=new WeakMap;function k(e,t){let{id:n}=S.get(e);if(!n)throw new Error("Unknown list");return`${n}-${function(e){return"string"==typeof e?e.replace(/\s*/g,""):""+e}(t)}`}function E(e){let t,n;do{n=e.lastChild(),n&&(t=n)}while(n);return t}function j(e,t){let{key:n}=e;const{checkboxProps:r}=w(e,t);return{checkboxProps:{...r,"aria-labelledby":`${r.id} ${k(t,n)}`}}}var x,A=n("huq3"),I=n("O+SZ"),T=n("4GyQ"),M=n("+vYo"),P=n("xk6L"),N=n("RRF2"),B=n("4lxU"),L=n("zK/v"),F=n("nWMp"),R=n("7IMz");!function(e){function t(e){var{theme:t={},itemAnimationMode:c,assistiveScroll:l=!1,onClick:u}=e;const d=Object(a._)(e,["theme","itemAnimationMode","assistiveScroll","onClick"]),h=Object(A.a)(d),g=o.useRef(null),{gridProps:b}=function(e,t,n){let{isVirtualized:r,keyboardDelegate:i,onAction:a}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:o}=(0,m.d)({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:n,keyboardDelegate:i,isVirtualized:r,selectOnFocus:"replace"===t.selectionManager.selectionBehavior,shouldFocusWrap:e.shouldFocusWrap}),c=(0,s.v)(e.id);S.set(t,{id:c,onAction:a});let l=C({selectionManager:t.selectionManager,hasItemActions:!!a}),u=(0,p.g)(n,{isDisabled:0!==t.collection.size}),d=(0,s.b)(e,{labelable:!0}),f=(0,s.l)(d,{role:"grid",id:c,"aria-multiselectable":"multiple"===t.selectionManager.selectionMode?"true":void 0},0===t.collection.size?{tabIndex:u?-1:0}:o,l);return r&&(f["aria-rowcount"]=t.collection.size,f["aria-colcount"]=1),O({},t),{gridProps:f}}(d,h,g);return o.createElement("ul",Object(r._)(Object(i._)(Object(r._)({},b),{ref:g}),Object(T.c)(f.list,t.list)),Array.from(h.collection).map(e=>o.createElement(n,{key:e.key,item:e,state:h,theme:t.item,animationMode:c,assistiveScroll:l,onClick:u})))}e.List=t,e.LiftedList=function(e){return Object(T.d)(t)(e)};e.Item=c.a;function n({item:e,state:t,animationMode:n,assistiveScroll:c,onClick:u,showCheckbox:h=!1,theme:g={}}){const v=o.useRef(null),{rowProps:y,gridCellProps:O,isPressed:_}=function(e,t,n){let{node:r,isVirtualized:i,shouldSelectOnPressUp:a}=e,{direction:c}=(0,d.b)(),{onAction:l}=S.get(t),u=(0,s.z)(),f=(0,o.useRef)(null),{itemProps:h,...g}=(0,m.c)({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:i,shouldSelectOnPressUp:a,onAction:l?()=>l(r.key):void 0,focus:()=>{(null!=f.current&&r.key!==f.current||!n.current.contains(document.activeElement))&&(0,p.b)(n.current)}}),v=(0,s.l)(h,{role:"row",onKeyDownCapture:e=>{if(!e.currentTarget.contains(e.target))return;let t=(0,p.c)(n.current);switch(t.currentNode=document.activeElement,e.key){case"ArrowLeft":{let r="rtl"===c?t.nextNode():t.previousNode();if(r)e.preventDefault(),e.stopPropagation(),(0,p.b)(r),(0,s.p)(r,{containingElement:(0,s.d)(n.current)});else if(e.preventDefault(),e.stopPropagation(),"rtl"===c)(0,p.b)(n.current),(0,s.p)(n.current,{containingElement:(0,s.d)(n.current)});else{t.currentNode=n.current;let e=E(t);e&&((0,p.b)(e),(0,s.p)(e,{containingElement:(0,s.d)(n.current)}))}break}case"ArrowRight":{let r="rtl"===c?t.previousNode():t.nextNode();if(r)e.preventDefault(),e.stopPropagation(),(0,p.b)(r),(0,s.p)(r,{containingElement:(0,s.d)(n.current)});else if(e.preventDefault(),e.stopPropagation(),"ltr"===c)(0,p.b)(n.current),(0,s.p)(n.current,{containingElement:(0,s.d)(n.current)});else{t.currentNode=n.current;let e=E(t);e&&((0,p.b)(e),(0,s.p)(e,{containingElement:(0,s.d)(n.current)}))}break}case"ArrowUp":case"ArrowDown":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),n.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},onFocus:e=>{f.current=r.key,e.target===n.current||(0,b.c)()||t.selectionManager.setFocusedKey(r.key)},"aria-label":r.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(r.key)?t.selectionManager.isSelected(r.key):void 0,"aria-disabled":t.selectionManager.isDisabled(r.key)||void 0,"aria-labelledby":u&&r.textValue?`${k(t,r.key)} ${u}`:void 0,id:k(t,r.key)});return i&&(v["aria-rowindex"]=r.index+1),{rowProps:v,gridCellProps:{role:"gridcell","aria-colindex":1},descriptionProps:{id:u},...g}}({node:e},t,v),{isFocusVisible:C,focusProps:w}=Object(p.e)(),j=o.useMemo(()=>new I.a,[]),x=o.useCallback(()=>null!=n&&o.createElement(L.b,{mouseDownEvents:j,animationMode:n,className:g.ripple}),[j,n,g.ripple]);o.useEffect(()=>{var e;c&&C&&(null===(e=v.current)||void 0===e||e.scrollIntoView({block:"nearest"}))},[C,c]);const A=h&&"none"!==t.selectionManager.selectionMode&&"toggle"===t.selectionManager.selectionBehavior,{onPointerDown:M}=y,B=Object(a._)(y,["onPointerDown"]),F=Object(s.l)(B,w,{onPointerDown:e=>{var t;j.next({pageX:e.pageX,pageY:e.pageY}),null===(t=M)||void 0===t||t(e)}});return R.a.useEffectOnDidMount(()=>{var e;v.current&&(e=v.current,N.c.findAll(N.c.Guardians.isButtonLike)(e).forEach(e=>{var t;const n=null===(t=e.onpointerdown)||void 0===t?void 0:t.bind(e);e.onpointerdown=e=>{var t;e.stopPropagation(),null===(t=n)||void 0===t||t(e)}}))}),R.a.useSubscriptionTo(j.pipe(P.a.map(t=>{var n;return null===(n=u)||void 0===n?void 0:n({key:e.key,clickPoint:{x:Math.floor(t.pageX),y:Math.floor(t.pageY)}})}))),o.createElement("li",Object(r._)(Object(i._)(Object(r._)({},F),{ref:v}),Object(T.c)("none"!==t.selectionManager.selectionMode?f.selectableItem:f.item,_?g.pressed:void 0,C?g.focused:void 0,g.base)),o.createElement("div",O,A&&o.createElement(l,{item:e,state:t}),e.rendered),x())}function l({item:e,state:t}){const{checkboxProps:n}=j({key:e.key},t);return o.createElement(B.a,Object(i._)(Object(r._)({name:e.textValue+"-checkbox"},n),{checked:M.a.create(Boolean(n.isSelected))}))}const u={position:"relative",overflow:"hidden",$nest:{'& > [role="gridcell"]':{display:"flex",justifyContent:"space-between",alignItems:"center",width:F.a.percent(100)}}},f=F.a.stylesheet({list:[{listStyle:"none",overflow:"auto",padding:0}],item:[u],selectableItem:[u,{cursor:"pointer"}]})}(x||(x={}))},Gwvb:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var r,i,a,o=n("a5gI"),s=n("CulD"),c=n("DTwm"),l=n("tiWp"),u=n("mgiE"),d=n("TKPA"),p=n("0kuo"),m=n("Hj2R"),f=n("D2TP"),h=n("xk6L"),g=n("yIk2"),b=n("LFoX"),v=n("d3CI"),y=n("rtUA");!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(r||(r={})),function(e){e.Mock=class{ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getEnclosingMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}constructor(){Object(o._)(this,"events",new h.a.Subject),Object(o._)(this,"focusAlertHighlight",()=>u.b.left(new Error("Method not implemented."))),Object(o._)(this,"highlightAlertHighlight",()=>u.b.left(new Error("Method not implemented."))),Object(o._)(this,"moveCursorToHighlight",d.e)}},e.getHighlightIndex=function(e,t){return Object(l.pipe)(t,u.b.mapLeft(()=>new Error("Mark is collapsed")),u.b.chain(t=>u.b.tryCatchError(()=>{const n=e.getHighlightRanges(),r=n.length>1?n.findIndex(e=>e.start===t.start&&e.end===t.end):0;return Object(p.f)(-1!==r,"Could not find highlight index by Range for provided Alert",()=>JSON.stringify({alertRanges:n,targetRange:t})),r})))}}(i||(i={})),function(e){var t=e.getHighlightSubscription=(e,t,n)=>e.pipe(h.a.distinctUntilChanged(u.g.getEq(m.d.ord).equals),h.a.switchMap(e=>Object(l.pipe)(e,u.g.fold(()=>h.a.EMPTY,e=>h.a.Observable.create(()=>(n.debug("highlight mark: "+e.id),Object(l.pipe)(t.highlightAlertHighlight(e),u.b.fold(t=>(n.error("Cannot highlight mark",t,{alertId:e.id}),d.e),t=>()=>{n.debug("unhighlight mark: "+e.id),t.dispose()})))))))),n=(e.getHoverAlertHightlightSource=(e,t,n,r)=>Object(l.pipe)(r,h.a.debounceTime(100),h.a.map(Object(c.flow)(u.g.chain(r=>{const i=e.get();return v.e.hasCards(i)?i.currentLens.items.find(e=>Object(l.pipe)(t.hasActiveAlert(e),u.g.map(e=>e.alert),u.g.exists(t=>e.id===r&&n.isRegistered(t.id)))):u.g.none}),u.g.chain(({value:e})=>t.hasActiveAlert(e)),u.g.map(e=>e.alert))),h.a.distinctUntilChanged(u.g.getEq(m.d.ord).equals),h.a.map(u.g.map(t=>({alert:t,highlightIndex:0,source:e.get().alertSource}))),h.a.startWith(u.g.none)),e.highlightMarkByHighlightedCard=(e,n,r,i,a,o)=>{const s=t(e.hovered.pipe(h.a.debounceTime(100),h.a.map(Object(c.flow)(u.g.chain(e=>{const t=n.get();return v.e.hasCards(t)?t.currentLens.items.find(t=>Object(l.pipe)(a.hasActiveAlert(t),u.g.map(e=>e.alert),u.g.exists(n=>t.id===e&&i.isRegistered(n.id)))):u.g.none}),u.g.chain(({value:e})=>a.hasActiveAlert(e)),u.g.map(e=>e.alert)))),r,o);return{id:"highlightMarkByHighlightedAlert",when:f.a.isWithAlertsId,what:v.e.Effect.Applicator.create(s.pipe(h.a.switchMapTo(h.a.NEVER)))}},e.getAlertHighlightSource=e=>t=>Object(l.pipe)(t,h.a.distinctUntilChanged(u.g.getEq(m.d.ord).equals),h.a.map(u.g.map(t=>({alert:t,source:e,highlightIndex:0}))),h.a.startWith(u.g.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(v.e.mapper(({currentLens:e,alertSource:t})=>Object(l.pipe)(n(e),u.g.map(e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))).pipe(h.a.switchMap(g.b.Scheduler.rafScheduler),h.a.skipBy(u.g.getEq(b.a.getEq())),h.a.map(u.g.filter(e=>u.g.isSome(t.getRegistered(e.alert.id))))));e.focusMarkByActiveAlert=(e,t,r,i,a,o=h.a.of(!0))=>{const s=Object(l.pipe)(n(e,r,i),h.a.tap(u.g.tap(e=>a.trace("new alert highlight: ",e))),h.a.withLatestFrom(o),h.a.switchMap(([e,n])=>Object(l.pipe)(e,u.g.fold(()=>(a.debug("Nothing to focus"),h.a.EMPTY),e=>h.a.Observable.create(()=>(a.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===m.b.sidebar&&n&&t.moveCursorToHighlight(e,"start"),Object(l.pipe)(t.focusAlertHighlight(e),u.b.fold(t=>(a.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),d.e),t=>()=>{a.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))));return{id:"focusMarkByActiveAlert",when:f.a.isWithAlertsId,what:v.e.Effect.Applicator.create(s.pipe(h.a.switchMapTo(h.a.NEVER)))}},e.focusAlertByClickedMark=(e,t,n)=>({id:"focusAlertByActiveMark",when:v.e.Effect.When.isSidebarOpen,what:v.e.Effect.SwitchAlert.create(e.pipe(h.a.skip(1),h.b.compact,h.a.withLatestFrom(t.pipe(h.a.filter(v.e.hasCards))),h.a.filter(([e,t])=>m.a.State.isRegistered(e.alert.state)&&Object(l.pipe)(e.alert,y.a.findItemWithAlertInLens(t.currentLens,n),u.g.isSome)),h.a.map(s.b),h.a.map(({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:m.b.text,options:{order:"textOrder"}}))))});e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(h.a.map(e=>n=>e.type===r.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&m.a.isApplicableAlert(e.alert)&&v.e.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n));return{id:"onAlertApply",when:v.e.Effect.When.isSidebarOpen,what:v.e.Effect.Applicator.create(n)}}}(a||(a={}))},H2Tl:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("hcme"),i=n("mMt2"),a=n("B8yO"),o=n("wuWi"),s=n("RRF2"),c=n("a5gI"),l=n("nWMp"),u=n("Frap"),d=n("PltQ"),p=n("2swC").a.CoreNeutral0,m={position:"relative",width:l.a.percent(100),height:l.a.vh(100),boxShadow:"0 -25px 56px 0 rgba(96, 101, 123, .05)"},f={position:"absolute",top:l.a.percent(30),overflow:"hidden",width:l.a.percent(100),height:l.a.rem(24),$nest:Object(c._)({"&::after":{position:"absolute",top:0,left:0,width:l.a.percent(100),height:l.a.percent(100),backgroundImage:"linear-gradient(-180deg, ".concat(p," 5%, ").concat(u.transparent," 50%, ").concat(p," 95%)"),content:"''"}},"@media (".concat(l.d.smallHeightMedia,")"),{top:l.a.percent(15)})},h={opacity:0,animationName:l.a.keyframes({"0%":{opacity:1},"100%":{opacity:0}}),animationDuration:"1s",animationIterationCount:1,$nest:{"&:nth-child(2)":{animationDelay:".1s"},"&:nth-child(3)":{animationDelay:".3s"}}},g={padding:"0 ".concat(l.a.rem(1)),color:d.j,lineHeight:l.a.rem(3),transition:"color .3s",willChange:"color"},b=l.a.stylesheet({wrapper:[m],checkingWrapper:[f],dot:[{transition:"opacity .6s",transitionDelay:".3s",$nest:{"&:nth-child(2)":{transitionDelay:".5s"},"&:nth-child(3)":{transitionDelay:".7s"}}}],dotOptimized:[h],item:[g]}),v=n("No46"),y={position:"absolute",width:l.a.percent(100),$nest:{"&:last-child:after":{position:"absolute",top:l.a.rem(3),width:l.a.percent(100),height:l.a.rem(3),content:"''",pointerEvents:"none"}}},O={transition:"transform ".concat(l.a.seconds(.3))},_=l.a.stylesheet({flowPosition:[y],flowPositionAnimate:[O]}),C=function(e){var t=e.offset,n=e.theme||_,r=n.flowPosition,i=n.flowPositionAnimate;return a.createElement("div",{style:{transform:"translate3d(0, ".concat(t,", 0)")},className:"".concat(r," ").concat(i)},e.children)},w=Object(i.a)(["Conjunctions","Determiners","Fluency","Modifiers","Nouns","Numerals","Prepositions","Pronouns","Punctuation","Syntax","Spelling","Verbs","Word Order"]).concat(Object(i.a)(["Conciseness","References","Voice"]),Object(i.a)(["Formality","Sensitivity","Variety","Vocabulary","Conventions"])).map((function(e){return{id:e,title:e}})),S=function(e){return a.createElement("span",null,a.createElement("span",{className:b.dotOptimized},"."),a.createElement("span",{className:b.dotOptimized},"."),a.createElement("span",{className:b.dotOptimized,onAnimationEnd:e.onTransitionEnd},"."))},k=function(){var e=Object(r._)(a.useState((function(){return s.a.shuffle(w)})),2),t=e[0],n=e[1],i=a.useCallback((function(){n((function(e){var t=e.slice(0),n=t.shift();return n&&t.push(n),t}))}),[]);return a.createElement("div",{className:b.wrapper},a.createElement("div",{className:b.checkingWrapper},t.slice(0,8).map((function(e,t){var n=e.id,r=e.title;return a.createElement(C,{key:n,offset:"".concat(100*t,"%"),theme:v.a},a.createElement(o.a,{className:b.item},r,5===t&&a.createElement(S,{onTransitionEnd:i})))}))))}},HBEw:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("yQCL"),a=n("MHMU"),o=n("cZKX"),s=n("mgiE"),c=n("ENBj");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){!function(e){e.eq=s.c.eqString,e.show=a.e;e.from=function(e){return"".concat(e)}}(e.AlertId||(e.AlertId={})),function(e){var t;!function(e){e.eq=s.c.eqString,e.show=a.e;e.from=function(e){return"".concat(e)}}(t=e.Id||(e.Id={}));var n=e.eqId=s.c.contramap((function(e){return e.id}))(t.eq),r=e.eqContent=s.c.contramap((function(e){return e.content}))(c.a.eq),u=e.eqAlerts=s.c.contramap((function(e){return e.alertIds}))(o.eb(s.c.eqString)),d=e.eqInvalid=s.c.contramap((function(e){return Boolean(e.invalid)}))(s.c.eqBoolean),p=e.eq=Object(i.fold)(s.c.getMonoid())([n,r,u,d]),m=e.show={show:function(e){return"SDUI Item [".concat(Boolean(e.invalid)?"invalid":"valid","] #(").concat(e.id," ").concat(0===e.alertIds.length?"":"with alertIds:"+e.alertIds.join(", "),")")}};e.eqShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},p,m)}(e.Item||(e.Item={}))}(r||(r={}))},HGxo:function(e,t,n){"use strict";var r;function i(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function a(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const n=s(e,t);if(void 0===n)return null;const{from:r,to:i,oldFragment:a,newFragment:o}=n,c=1===o.length&&r>0&&e[r-1]===o,l=1===a.length&&0===o.length&&t[r-1]===a;let u=r,d=o;return(c||l)&&(u=r-1),c&&(d=o+o),l&&(d=a),d.length>3?null:[e.substring(0,u),d,e.substring(i)]}function s(e,t){if(e===t)return;const n=e.length,r=t.length;if(r>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(r-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,r-n)}}if(r<n){if(e.substr(n-r)===t)return{from:0,to:n-r,oldFragment:e.substr(0,n-r),newFragment:""};if(e.substr(0,r)===t)return{from:r,to:n,oldFragment:e.substr(r),newFragment:""}}const i=r<n?r:n,a=function(e,t,n){let r=0;for(;e[r]===t[r]&&r<n;)r+=1;return r}(e,t,i);let o=function(e,t,n,r,i){let a=0;for(;e[n-a-1]===t[r-a-1]&&i-a>=0;)a+=1;return a}(e,t,n,r,i);return a+o>n&&(o-=a+o-n),a+o>r&&(o-=a+o-r),{from:a,to:n-o,oldFragment:e.substr(a,n-o-a),newFragment:t.substr(a,r-o-a)}}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:i(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(r||(r={}))},Hby5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u}));var r,i,a,o=n("8O/t"),s=n("X76w"),c=n("U9Go"),l=n("Hj2R");function u(e){return e.from.visualState===a.initial||e.from.visualState===a.hidden||e.to.visualState===a.highlighted}!function(e){e.eq=Object(c.c)(e=>e.alert)(l.d.ordId),e.isPending=e=>null!==e.state.scheduled&&(e.state.scheduled.visualState!==e.state.current.visualState||e.state.scheduled.updateRanges||e.state.scheduled.forceUpdate),e.isOneOf=(...e)=>t=>e.some(e=>e===t.state.current.visualState);var t=e.notAnyOf=(...e)=>t=>e.every(e=>e!==t.state.current.visualState);e.canBeChanged=e=>n=>Boolean(e)&&a.applied===n.state.current.visualState?e===a.disposed:l.a.State.isBulkApplied(n.alert.state)||t(a.applied,a.disposed)(n),e.isOrWillBe=e=>t=>null===t.state.scheduled?t.state.current.visualState===e:t.state.scheduled.visualState===e,e.willBe=e=>t=>null!==t.state.scheduled&&t.state.scheduled.visualState===e}(r||(r={})),function(e){e.updateRanges=function(e,t){return Object(s._)(Object(o._)({},e),{updateRanges:t})},e.forceUpdate=function(e,t){return Object(s._)(Object(o._)({},e),{forceUpdate:t})},e.updateVisualState=function(e,t){return Object(s._)(Object(o._)({},e),{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(i||(i={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(a||(a={})),(a||(a={})).isApplied=function(e){return e===a.applied}},I1gR:function(e,t,n){e.exports=n.p+"files/7f67ab6aeebccf32e1fdc69b4b9a01de/inter-light.woff2"},IJtK:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return C}));var r=n("a5gI"),i=n("DTwm"),a=n("tiWp"),o=n("mgiE"),s=n("0kuo"),c=n("K40b"),l=n("TKPA"),u=n("M3t0"),d=n("Hj2R"),p=n("D2TP"),m=n("mEGS"),f=n("Nsc4"),h=n("xk6L"),g=n("d3CI"),b=n("wdnv");const v=Object(i.not)(d.a.isMuted),y=()=>g.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:b.a.Closed.create(i.constFalse,o.c.fromEquals(i.constFalse))}),O=()=>g.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:b.a.DraftAI.create()}),_=()=>g.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:b.a.Cheetah.create()});class C{static _mapByActiveLensId(e,t,n,r){if(p.a.isOutcomeId(e))return r();switch(e){case p.a.SpecialId.Plagiarism:return t();case p.a.SpecialId.Premium:return n();case p.a.SpecialId.AllAlerts:case p.a.SpecialId.PredictionTakeaways:case p.a.SpecialId.PredictionEmogenie:case p.a.SpecialId.RealTimeProofit:case p.a.SpecialId.FreePremiumAlerts:return r();default:return Object(s.c)(e)}}_conditionedApplicator(e,t){return n=>r=>e(r,n)?t(n)(r):r}static _filterALEvents(e,t){return n=>h.a.of(Object(a.pipe)(n,m.a.Diff.filter(t=>e(t.alert)),e=>(t.isEnabled(u.a.LogLevel.TRACE)&&t.trace("diff after filter",e),e))).pipe(h.a.filter(Object(i.not)(c.a.isEmpty)))}emptyState(e=p.a.SpecialId.AllAlerts){return g.e.create({currentLens:this._createLens({lensId:e,initialLens:this._lensPreviewVM.getLens(e).get(),visibleAlerts:[],alertHighlight:o.g.none,previousState:o.g.none,alertSource:d.b.api}),alertSource:d.b.api,switchOrder:"lensOrder"})}getLensEventsByLensId(e,t,n={}){const r=this._getActiveLensMeta(t),i=this._lensAlerts(r),s=this._createState(e,o.g.none,r,t,i),c=n.focusBehavior?this._getAlertToFocus(n.focusBehavior,s):o.g.none;e.currentLens.id===t&&g.e.hasItems(e)&&this._capabilities.getActiveAlertsCount(e.currentLens)!==i.length&&this._log.warn("Lens contains inconsistent number of alerts",r.id);const l=g.e.hasItems(s)?Object(a.pipe)(c,o.g.fold(()=>s,n=>this._createState(e,o.g.some(n),r,t,i))):s;return this._generateEventsFromState(l,this._alertsHandlerFactory(t))}getLensEventsByAlert(e,t,n){Object(s.f)(o.g.isSome(this._alertsReader.getById(n.alert.id)),"Can't focus non existing alert",n.alert.id);const r=this._getActiveLensMeta(t),i=e.currentLens.meta.id===t&&e.currentLens.meta.filter(n.alert)&&g.e.hasItems(e)?g.e.Prism.getLensWithItems().modify(this._capabilities.selectItemByAlert(n),e):this._createState(e,o.g.some(n),r,t,this._lensAlerts(r));return this._generateEventsFromState(i,this._alertsHandlerFactory(t))}findNextAlertInTextByLens(e,t){return this._alertSearchService.findNextAlertInText(e,Object(l.b)(this._alertsFilterService.alertVisibleInText(t.id),t=>t.id!==e.alert.id,Object(i.flow)(b.a.findItemWithAlertInLens(t,this._capabilities),o.g.isSome)))}findPremiumAlert(){return this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get().count>0?this._alertSearchService.findPremiumAlert():o.g.none}hasZeroFreeAlerts(e){return 0===this._lensPreviewVM.getLens(e.get()).get().priorityCount}_getMetaChangesObservable(e){return g.e.hasItems(e)&&e.currentLens.kind===g.f.persistent?this._lensPreviewVM.getLens(e.currentLens.id).view(this._updateMetaSource(e.currentLens.id)):g.e.hasItems(e)&&e.currentLens.type===g.i.lensview?this._lenses.pipe(h.a.distinctUntilChanged(f.a.eq.equals),h.a.map(Object(i.flow)(f.a.lookup(e.currentLens.id),o.g.map(this._updateMetaSource(e.currentLens.id)),o.g.getOrElse(()=>g.e.Effect.Applicator.Source.identity)))):g.e.Effect.Applicator.Source.empty}_generateEventsFromState(e,t){return h.a.mergeStatic(this._checkingState.pipe(h.a.pairwise(),h.a.map(([e,t])=>m.a.diff(e,t)),h.a.tap(e=>{this._log.isEnabled(u.a.LogLevel.TRACE)&&this._log.trace("new alerts diff",e)}),h.a.switchMap(C._filterALEvents(e.currentLens.meta.filter,this._log)),h.a.map(this._conditionedApplicator((e,t)=>{const n=this._alertsFilterService.getLensesFilter(e.currentLens.id),r=Object(a.pipe)(t,m.a.Diff.filter(Object(i.not)(({alert:e})=>n(e))));return c.a.isEmpty(r)},this._transformAlertsDiffToApplicator(t)))),this._getMetaChangesObservable(e)).pipe(h.a.startWith(g.e.Effect.Applicator.Source.override(e)))}_getActiveLensMeta(e){const t=C._mapByActiveLensId(e,()=>this._lensPreviewVM.getLens(p.a.SpecialId.Plagiarism).get(),()=>this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get(),()=>this._lensPreviewVM.getLens(e).get());return Object(s.f)(void 0!==t,"unknown lensId:"+e),t}_createState(e,t,n,r,i){Object(s.f)(o.g.forAll(({alert:e})=>o.g.isSome(this._alertsReader.getInteractable(e.id)))(t),"we can create state only with alert in registered state",()=>Object(a.pipe)(t,o.g.fold(()=>"null",e=>e.toString())));const c=e.alertSource,l=e.switchOrder,u=this._createLens({lensId:r,initialLens:n,visibleAlerts:i,alertHighlight:t,alertSource:c,previousState:o.g.some(e.currentLens)});return g.e.create({currentLens:u,alertSource:c,switchOrder:l})}_createLens(e){return this._lensFactory(e.lensId,e.initialLens,e.visibleAlerts,this._focusFirstFilter(e),e.previousState)}_getAlertToFocus(e,t){switch(e.kind){case g.e.Effect.FocusBehaviorType.noFocus:case g.e.Effect.FocusBehaviorType.unFocus:return o.g.none;case g.e.Effect.FocusBehaviorType.focusFirst:return g.e.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):o.g.none;case g.e.Effect.FocusBehaviorType.focusNext:return g.e.hasItems(t)?this._capabilities.findNextAlert(t.currentLens):o.g.none;case g.e.Effect.FocusBehaviorType.focusAlert:return o.g.some(e.alertHighlight);default:Object(s.c)(e)}}constructor(e,t,n,i,o,s,c,l,p,f=g.e.FocusFirstFilter.defaultFilter){Object(r._)(this,"_checkingState",void 0),Object(r._)(this,"_alertsReader",void 0),Object(r._)(this,"_lenses",void 0),Object(r._)(this,"_alertSearchService",void 0),Object(r._)(this,"_lensPreviewVM",void 0),Object(r._)(this,"_lensFactory",void 0),Object(r._)(this,"_alertsHandlerFactory",void 0),Object(r._)(this,"_capabilities",void 0),Object(r._)(this,"_alertsFilterService",void 0),Object(r._)(this,"_focusFirstFilter",void 0),Object(r._)(this,"_transformAlertsDiffToApplicator",void 0),Object(r._)(this,"_log",void 0),Object(r._)(this,"findClosestAlertHighlight",void 0),Object(r._)(this,"findNextAlertInText",void 0),Object(r._)(this,"_updateMetaSource",void 0),Object(r._)(this,"_lensAlerts",void 0),this._checkingState=e,this._alertsReader=t,this._lenses=n,this._alertSearchService=i,this._lensPreviewVM=o,this._lensFactory=s,this._alertsHandlerFactory=c,this._capabilities=l,this._alertsFilterService=p,this._focusFirstFilter=f,this._transformAlertsDiffToApplicator=e=>t=>n=>g.e.hasItems(n)?n.patch({currentLens:e(t,v)(n.currentLens)}):n,this._log=u.d.Logging.getLogger("FocusedLensManagerImpl"),this.findClosestAlertHighlight=this._alertSearchService.findClosestAlertHighlight,this.findNextAlertInText=this._alertSearchService.findNextAlertInText,this._updateMetaSource=e=>t=>n=>e===n.currentLens.id&&g.e.hasItems(n)?g.e.Prism.getLensWithItems().modify(this._capabilities.updateMeta(t),n):n,this._lensAlerts=e=>{const t=this._alertsFilterService.alertVisibleInSidebar(e.id);return Object(a.pipe)(this._checkingState.get(),m.a.reduce([],(e,{alert:n})=>t(n)?[...e,n]:e),e=>e.sort(d.d.ord.compare))}}}},IPPO:function(e){e.exports=JSON.parse('{"wrapper":"_3f5ee219-emotions-wrapper","primaryItemIcon":"_0536cacd-emotions-primaryItemIcon","primaryItem":"_b3d009af-emotions-primaryItem _0536cacd-emotions-primaryItemIcon","primaryItemWrapper":"_3c2f96cf-emotions-primaryItemWrapper","report":"_2d80add7-emotions-report","reportItem":"_3e628060-emotions-reportItem","reportItemAttribute":"_ed268e94-emotions-reportItemAttribute","reportItemEmoji":"_b197dea7-emotions-reportItemEmoji _ed268e94-emotions-reportItemAttribute","reportItemName":"_02fed82b-emotions-reportItemName _ed268e94-emotions-reportItemAttribute","reportItemIntensity":"_f7e646ea-emotions-reportItemIntensity _ed268e94-emotions-reportItemAttribute","reportItemActions":"_daae9b4a-emotions-reportItemActions _ed268e94-emotions-reportItemAttribute","intensityItem":"_6a026c7a-emotions-intensityItem","intensityColor":"_926b0ef1-emotions-intensityColor","intensityNoColor":"_3cddd399-emotions-intensityNoColor","button":"_1ca8451a-emotions-button","zeroStateTooltip":"_72398b9b-emotions-zeroStateTooltip"}')},IRug:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return A}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("4GyQ"),s=n("0kuo"),c=n("2swC"),l=n("NDcT"),u=n("fC5a"),d=n("ySi0"),p=n("wuWi"),m=n("nWMp"),f=n("PltQ"),h=n("NbNH"),g=n("y4Zb");const b={position:"relative",width:m.a.percent(100)},v={position:"relative",margin:"0 0 "+m.a.rem(.5)},y={display:"flex",boxSizing:"border-box",padding:`${m.a.rem(1)} ${m.a.rem(2)} ${m.a.rem(1)} ${m.a.rem(.75)}`,width:m.a.percent(100),borderRadius:m.a.rem(h.t),background:c.a.BackgroundNotification,color:c.a.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},O={width:m.a.percent(100)},_={display:"inline-block",width:m.a.percent(100)},C={margin:`${m.a.rem(-.5)} ${m.a.rem(.75)} ${m.a.rem(-.5)} 0`},w={position:"absolute",top:0,right:0,marginTop:m.a.rem(.5),marginRight:m.a.rem(.4),marginLeft:m.a.rem(.5)},S={stroke:f.i},k={margin:"0 0 "+m.a.rem(.5),color:c.a.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:m.a.rem(c.h.BodySize),lineHeight:m.a.rem(1.25)},E={marginTop:m.a.rem(-.1),marginBottom:m.a.rem(-.25),color:c.a.CoreNeutral0,fontSize:m.a.rem(c.h.BodySize),lineHeight:m.a.rem(1.25)},j=m.a.prefixedStylesheet("notifications",{wrapper:[b],notification:[v],flexibleNotification:[v,{display:"flex",width:"auto"}],contentWrapper:[y],miniContentWrapper:[y,{position:"relative",width:"auto"}],fullWidthNotification:[v,y,O],content:[_],miniContent:[{flex:1}],alertIcon:[C],closeIconWrapper:[w],closeIcon:[S],header:[k],description:[E]});var x,A;!function(e){e.Wrapper=({notification:e,onClose:n,children:o,theme:s={}})=>{a.useEffect(()=>e.actions.next("shown"),[e.actions]);const c={wrapper:Boolean(s.wrapper)?s.wrapper:b.wrapper,content:void 0!==s.content?Object.assign({},b.content,s.content):b.content};return a.createElement("div",Object(i._)(Object(r._)({},g.a.getAriaLiveProps(e)),{className:c.wrapper}),a.createElement(t,{metadata:e.metadata,onClose:n,theme:c.content},o))};var t=e.Base=({metadata:e,onClose:t,theme:r,children:i})=>a.createElement("div",{className:r.wrapper},n(e,r.icon),a.createElement("div",{className:r.content},i),!function(e){return e.priority===g.a.Priority.high||e.priority===g.a.Priority.highest}(e)&&a.createElement(m,{onClick:t,className:r.close}));const n=(e,t)=>{switch(e.icon){case g.a.Icon.sparkles:return a.createElement(d.d.Sparkles,{className:t});case void 0:case g.a.Icon.priority:return a.createElement(c,{priority:e.priority,className:t});default:return Object(s.c)(e.icon)}};e.AdHoc=({title:e,children:t,className:n,onClose:r})=>a.createElement("div",Object(o.c)(b.content.wrapper,n),a.createElement("div",{className:b.content.content},a.createElement(f,{title:e},t)),a.createElement(m,{onClick:r,className:b.content.close}));var c=e.PriorityIcon=({priority:e,className:t})=>{switch(e){case g.a.Priority.lowest:case g.a.Priority.low:return a.createElement(d.d.NotificationInfo,{className:t});case g.a.Priority.average:return a.createElement(d.d.NotificationWarning,{className:t});case g.a.Priority.high:case g.a.Priority.highest:return a.createElement(d.d.NotificationError,{className:t});default:return Object(s.c)(e)}},m=e.CloseButton=({onClick:e,className:t})=>{const n=a.useContext(l.a.Context);return a.createElement(u.a,{name:"closeNotification","aria-label":n.actions.close,className:t,onClick:e},a.createElement(d.d.Close,{className:j.closeIcon,width:12}))},f=e.TitledContent=({title:e,children:t})=>Boolean(t)?a.createElement(a.Fragment,null,a.createElement(p.i,{className:j.header},e),a.createElement(h,null,t)):a.createElement(p.i,{className:j.description},e),h=e.Content=({children:e})=>a.createElement(p.a,{className:j.description},e);const b={wrapper:j.wrapper,content:{wrapper:j.fullWidthNotification,icon:j.alertIcon,content:j.content,close:j.closeIconWrapper}}}(x||(x={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(a.useEffect(()=>e.actions.next("shown"),[e.actions]),a.createElement("div",{className:j.flexibleNotification},a.createElement(x.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:j.miniContentWrapper,icon:j.alertIcon,content:j.miniContent,close:j.closeIconWrapper}},n)))}(A||(A={}))},IjjT:function(e,t,n){"use strict";n.d(t,"t",(function(){return U})),n.d(t,"g",(function(){return W})),n.d(t,"o",(function(){return z})),n.d(t,"h",(function(){return G})),n.d(t,"q",(function(){return q})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return $})),n.d(t,"p",(function(){return Y})),n.d(t,"y",(function(){return X})),n.d(t,"z",(function(){return J})),n.d(t,"A",(function(){return ee})),n.d(t,"l",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"x",(function(){return ie})),n.d(t,"u",(function(){return ae})),n.d(t,"v",(function(){return se})),n.d(t,"c",(function(){return oe})),n.d(t,"b",(function(){return de})),n.d(t,"m",(function(){return pe})),n.d(t,"d",(function(){return be})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return P})),n.d(t,"n",(function(){return N})),n.d(t,"w",(function(){return D})),n.d(t,"i",(function(){return H})),n.d(t,"a",(function(){return le}));var r=n("0Uv3"),i=n("M5RY"),a=n("GMJx"),o=n("B/Ki"),s=n("/edk"),c=n("fr9z"),l=n("gg7t"),u=n("lXop"),d=(n("MBt8"),n("xk6L")),p=n("mgiE"),m=n("RRF2"),f=n("0kuo"),h=n("TKPA"),g=n("DTwm"),b=n("nWMp"),v=n("M3t0"),y=n("tiWp"),O=i.import("parchment"),_=i.import("blots/inline"),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.getOrders=function(e,t){return[_.order.indexOf(e),Boolean(t)&&"object"==typeof t&&"number"==typeof t.order?t.order:-1]},t.prototype._compareWith=function(e,n){if(!Boolean(n))return 0;var r=this.formats()[this.statics.blotName];if(!Boolean(r))return 0;var i,a,o=t.getOrders(this.statics.blotName,r),s=t.getOrders(e,n);return o[0]===s[0]?o[1]===s[1]?(i=this.statics.blotName)>(a=e)?1:i<a?-1:0:o[1]-s[1]:o[0]-s[0]},t.prototype.formatAt=function(t,n,r,i){if(this._compareWith(r,i)<0&&O.query(r,O.Scope.BLOT)){var a=this.isolate(t,n);Boolean(i)&&a.wrap(r,i)}else e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.parent instanceof O.Inline&&this._compareWith(this.parent.statics.blotName,this.parent.formats()[this.parent.statics.blotName])>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}},t}(O.Inline),w=C;C.allowedChildren=[C,O.Inline,O.Embed,O.Text];var S,k,E=function(e){return Array.from(e.attributes).map((function(e){return e.value}))},j=function(e){return Boolean(e.parent)?j(e.parent):e},x=function(e){function t(n){var r=e.call(this,n)||this;return r._unwrapMe=r.allowUnwrap(),r._unwrapMe&&t._logger.warn("Created self-unwrapped blot",E(r.domNode)),r}return Object(r.b)(t,e),Object.defineProperty(t,"_logger",{get:function(){return void 0===t.__logger&&(t.__logger=v.d.Logging.getLogger("DEd.custom_inline_blot")),t.__logger},enumerable:!1,configurable:!0}),t.prototype.allowUnwrap=function(){return this.domNode.childNodes.length>0&&Object.getPrototypeOf(this)===t.prototype&&"SPAN"===this.domNode.tagName},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this._tryUnwrap("optimize")},t.prototype._unwrap=function(e,n){var r=this;return p.b.tryCatchError((function(){t._logger.info("unwrap happened",{source:e,name:n,position:{index:r.length(),length:r.offset(j(r))}});var i=window.getSelection();if(i.isCollapsed&&i.anchorNode&&(i.anchorNode===r.domNode||i.anchorNode.parentNode===r.domNode&&1===r.domNode.childNodes.length)){var a=r.offset(r.parent)+r.length();r.unwrap(),requestAnimationFrame((function(){return Object(y.pipe)(t._restoreSelectionWithinBlot(r.parent,a),p.b.mapLeft((function(e){t._logger.error("Self-unwrapped blot: cannot preserve selection",e,E(r.domNode))})))}))}else i.anchorNode===r.domNode||i.focusNode===r.domNode?(t._logger.error("Self-unwrapped blot: unknown case",E(r.domNode)),r.unwrap()):r.unwrap()}))},t.prototype.formatAt=function(t,n,r,i){e.prototype.formatAt.call(this,t,n,r,i),this._tryUnwrap("formatAt")},t.prototype.update=function(t,n){e.prototype.update.call(this,t,n),this._tryUnwrap("update")},t.prototype._tryUnwrap=function(e){if(this._unwrapMe){if(0===this.children.length)return;Object(y.pipe)(this._unwrap("tryUnwrap: ".concat(e),this.statics.blotName),p.b.mapLeft((function(n){t._logger.warn('Cannot unwrap on "'.concat(e,'"'),n)}))),this._unwrapMe=!1}},t.__logger=void 0,t._restoreSelectionWithinBlot=function(e,t){return p.b.tryCatchError((function(){Object(y.pipe)(p.g.fromNullable(window.getSelection()),p.g.map((function(n){for(var r=0,i=e.children.head;i&&r+i.length()<t;)r+=i.length(),i=i.next;var a=t-r;n.collapse(i.domNode,a)})))}))},t}(w);S=i.import("blots/inline"),k=i.import("blots/block"),S.allowedChildren.push(x),k.allowedChildren.push(x),i.register("blots/inline",x,!0);var A,I=i.import("parchment"),T=b.a.style({animation:"none",transition:"none"}),M="mark_underline";!function(e){e.hasValue=function(e){return!1!==e}}(A||(A={}));var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=v.d.Logging.getLogger("underline"),t}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"markId",{get:function(){return this.statics.markId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataOrder",{get:function(){return this.domNode.__dataOrder||0},enumerable:!1,configurable:!0}),t.create=function(t){var n=this,i=e.create.call(this,t);return i.__lastValue=t,Object(g.pipe)(t,p.g.fromPredicate(A.hasValue),p.g.tap((function(e){i.setAttribute("data-mark-id",e.id),i.__dataId=e.id,i.__dataOrder=e.order||0,void 0!==e.order&&i.setAttribute("data-order","".concat(e.order)),i.className=m.c.classes.apply(m.c,Object(r.d)([n.className],Boolean(e.classes)?e.classes:[],!1))}))),i},t.prototype.wrap=function(t,n){return V(this),e.prototype.wrap.call(this,t,n)},t.prototype.clone=function(){V(this);var t=e.prototype.clone.call(this),n=t.domNode;return n.__dataOrder=this.domNode.__dataOrder,n.__dataId=this.domNode.__dataId,n.__lastValue=this.domNode.__lastValue,t},t.prototype.formatAt=function(t,n,i,a){if(i===this.statics.blotName)if(null==a);else if(!1===a)e.prototype.formatAt.call(this,t,n,i,a);else switch(a.action){case l.a.Change.ActionType.create:this._log.warn("Create actions user for already created mark",a);break;case l.a.Change.ActionType.update:this.domNode.className=m.c.classes.apply(m.c,Object(r.d)([this.statics.className,T],a.classes||[],!1)),0!==t||this.length(),e.prototype.formatAt.call(this,t,n,i,a);break;default:this._log.warn("Got an unknown action")}else e.prototype.formatAt.call(this,t,n,i,a)},t.formats=function(e){return e.__lastValue},t.prototype._tryMergeWithNextIfEq=function(){var e=this.next;return!!(e instanceof t&&e.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(-1!==n.indexOf(M)){var r=e[n],i=t[n];if("object"==typeof r&&"object"==typeof i||r===i)continue;return!1}if(e[n]!==t[n])return!1}return!0}(this.formats(),e.formats()))&&(e.moveChildren(this),e.remove(),!0)},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),F.has(this.domNode.__dataId)?this._tryMergeWithNextIfEq():this.domNode.hasAttribute("data-unwrapped")?this._log.debug("Oops. change in already removed mark",{id:this.markId}):(this._log.warn("Oops. change in already removed mark",{id:this.markId}),(this.domNode.hasAttribute("class")||this.domNode.hasAttribute("style"))&&(this.domNode.setAttribute("data-unwrapped","true"),this.domNode.removeAttribute("class"),this.domNode.removeAttribute("style")))},t}(x);P.tagName="SPAN";var N=function(e){return"".concat(M,"_").concat(e)},B=function(e){return"formats/".concat(N(e))},L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.allowUnwrap=function(){return Object.getPrototypeOf(this)===t.prototype&&"SPAN"===this.domNode.tagName},Object.defineProperty(t.prototype,"logName",{get:function(){return"fake_underline_blot"},enumerable:!1,configurable:!0}),t}(x);var F=new Set;function R(e){i.register("formats/".concat(e.blotName),e,!0)}function D(e){var t=i.imports[B(e)];if(n=t,Boolean(n)&&Object.getPrototypeOf(n)===P)return t;F.add(e);var n,a=function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t}(P);return t.className="mark_underline_".concat(e),t.blotName=N(e),t.markId=e,t}(e);return R(a),a}function H(e){Boolean(i.imports[B(e)])&&R(function(e){return L.blotName=N(e),L.className="mark_underline_".concat(e),L}(e)),F.delete(e)}function V(e){(function(e){return e instanceof P})(e)&&!e.domNode.classList.contains(T)&&e.domNode.classList.add(T),function(e){return e instanceof I.Container}(e)&&e.children.forEach(V)}function U(e,t){for(var n=new a.a,r=0,i=e;r<i.length;r++){var o=i[r],s=o.meta.range();if(s.start!==s.end&&"number"==typeof s.start&&"number"==typeof s.end&&(-1!==s.start||-1!==s.end)){var c=o.meta.range(),l=c.start<0?0:c.start;n=n.compose((new a.a).retain(l).retain(c.end-l,t(o)))}}return n}var W;function z(e,t,n){void 0===n&&(n=100);for(var r=e.length,i=function(e){return/^[\w\-]$/.test(e)},a=t-1,o=t,s=[];a>=0&&i(e[a])&&n>=t-a;)s.unshift(e[a]),a--;for(a++;o<r&&i(e[o])&&n>o-t;)s.push(e[o]),o++;return s.length>0?p.g.some(c.b.create(a,o,{value:s.join("")})):p.g.none}!function(e){function t(e){for(var t=e,n=[];Boolean(t);)t instanceof P&&n.push(t),t=t.parent;return n}var n;e.findUnderlineUp=function(e){return pe(e,(function(e){return e instanceof P&&Boolean(e.domNode.getAttribute("data-mark-id"))}))},e.lookupUnderlinesUp=t,function(e){e[e.left=0]="left",e[e.right=1]="right"}(n=e.LOOKUP_DIRECTION||(e.LOOKUP_DIRECTION={})),e.isUnderlineWithId=function(e){return function(t){return t instanceof P&&t.markId===e}};var i=function(e){return"children"in e},a=function(e){return i(e)&&e.children.head?Object(r.d)([e],a(e.children.head),!0):[e]},o=function(e){return i(e)&&e.children.tail?Object(r.d)([e],o(e.children.tail),!0):[e]};e.getSiblingBlots=function(t,r){var i=r===n.left?Boolean(t.prev)?o(t.prev):void 0:Boolean(t.next)?a(t.next):void 0;return null!=i?i:Boolean(t.parent)?e.getSiblingBlots(t.parent,r):[]},e.hasSameIdSibling=function(t,n){return e.getSiblingBlots(t,n).some(e.isUnderlineWithId(t.markId))},e.getMarksIdsByBlot=function(e){return t(e).map((function(e){return e.markId}))}}(W||(W={}));var G=o.a.getOperationOffset,q=function(e){return o.a.isInsert(e)&&Z(e)},K=function(e){return-1!==e.indexOf(M)},$=function(e){return-1!==e.indexOf(l.a.SynonymMark.id)},Z=function(e){return!o.a.isDelete(e)&&Boolean(e.attributes)&&Object.keys(e.attributes).some((function(e){return K(e)||$(e)}))};function Y(e,t){return void 0===t&&(t="suffix"),!(!o.a.isInsert(e)||"string"!=typeof e.insert)&&("suffix"===t?m.f.isBreakWordChar(e.insert.charCodeAt(0)):m.f.isBreakWordChar(e.insert.charCodeAt(e.insert.length-1)))}var X=function(e){return new a.a(e.ops)},Q=i.import("delta"),J=function(e){return new Q(e.ops)};function ee(e){return d.a.fromEvent(e,"editor-change",(function(e,t,n,r){return"text-change"===e?{name:"text-change",delta:X(t),oldDelta:X(n),source:r}:{name:"selection-change",range:t,oldRange:n,source:r}}))}function te(e){return"selection-change"===e.name}var ne=function(e){return function(t){return"text-change"===t.name&&t.delta.ops.some((function(t){return!o.a.isRetain(t)||!!t.attributes&&Object.keys(t.attributes).some((function(t,n,r){return!K(t)&&!$(t)&&e(t,r)}))}))}};function re(e){return"text-change"===e.name&&e.delta.ops.some((function(e){return!o.a.isRetain(e)}))}function ie(){(Boolean(window.MutationObserver)||n("OVHU"),Boolean(document.getSelection))||(document.getSelection=function(){return null})}function ae(e){for(var t=p.b.unsafeGet(e.text),n=new a.a,r=0,i=0;i<t.length-1;i++)if("\r"===t[i]){var o=i-r;r=i,"\n"!==t[i+1]?(n.retain(o).delete(1).insert("\n"),r++):(n.retain(o).delete(1),r++)}var c=t.length-1,l=c-r;return"\r"===t[c]?n.retain(l).delete(1).insert("\n"):"\n"!==t[c]&&n.retain(l+1).insert("\n"),s.a.delta(n,t.length)}var oe,se=function(e){var t=e[0],n=e[1];if(m.c.Guardians.isBR(t.domNode)){var r=Array.from(t.parent.domNode.childNodes).findIndex((function(e){return e===t.domNode}));return[t.parent.domNode,r+n]}return[t.domNode,n]};!function(e){var t;function n(e){switch(e){case t.bold:case t.italic:case t.underline:case t.strike:case t.header:case t.list:case t.indent:return!1;case t.link:return!0;default:return Object(f.c)(e)}}function r(e){switch(e){case u.e.Type.italic:return{key:t.italic,value:!0};case u.e.Type.bold:return{key:t.bold,value:!0};case u.e.Type.orderedList:return{key:t.list,value:"ordered"};case u.e.Type.bulletList:return{key:t.list,value:"bullet"};case u.e.Type.dashedList:return{key:t.list,value:"dashed"};case u.e.Type.underline:return{key:t.underline,value:!0};case u.e.Type.link:return{key:t.link,value:void 0};case u.e.Type.header1:return{key:t.header,value:1};case u.e.Type.header2:return{key:t.header,value:2};case u.e.Type.strike:return{key:t.strike,value:!0};default:return Object(f.c)(e)}}!function(e){e.italic="italic",e.bold="bold",e.list="list",e.underline="underline",e.link="link",e.header="header",e.strike="strike",e.indent="indent"}(t=e.QuillFormatNames||(e.QuillFormatNames={})),function(e){e.is=function(e){switch(e){case"bold":case"italic":case"underline":case"strike":case"header":case"list":case"link":case"indent":return!0;default:return!1}}}(t=e.QuillFormatNames||(e.QuillFormatNames={})),e.mapEditorFormatToQuill=r,e.getQuillFormattingAsList=function(){return[t.bold,t.italic,t.underline,t.strike,t.header,t.list,t.link]},e.mapQuillFormatToEditor=Object(h.l)((function(e,t){return Object.keys(u.e.Type).find((function(i){var a=r(i);return a.key===e&&(n(e)||a.value===t)}))}),(function(e,t){return n(e)?e:e+"_"+t})),e.mapQuillFormatsToDenali=function(n,r){var a=n.getFormat(r.start,c.b.size(r));return Object.keys(a).reduce((function(o,s){if(t.is(s)){var c=a[s],l=e.mapQuillFormatToEditor(s,c);if(null!=l)if(l===u.e.Type.link){var d=i(n,r,c);d.length>0&&(o[u.e.Type.link]=d)}else o[l]=!0}return o}),{})};var i=function(e,t,n){var r=c.b.size(t);return e.scroll.descendants((function(e){return"A"===e.domNode.nodeName}),r>0?t.start:Math.max(0,t.start-1),r>0?r:1).map((function(t){var r=t.offset(e.scroll);return{url:n,rect:new de(t.domNode,(function(){return e.container.getBoundingClientRect()})),range:c.b.create(r,r+t.length())}}))};e.isBlockFormat=function(e){switch(e){case u.e.Type.bold:case u.e.Type.italic:case u.e.Type.strike:case u.e.Type.underline:case u.e.Type.link:return!1;case u.e.Type.header1:case u.e.Type.header2:case u.e.Type.orderedList:case u.e.Type.bulletList:case u.e.Type.dashedList:return!0;default:return Object(f.c)(e)}}}(oe||(oe={}));var ce,le,ue,de=function(){function e(e,t){this._el=e,this._rootClientRect=t}return e.prototype.getRect=function(){var e=this;return p.b.tryCatch((function(){var t=e._rootClientRect();Object(f.f)(!m.c.Rect.eq.equals(t,m.c.Rect.empty),"Got an empty parent rect");var n=Array.from(e._el.getClientRects());if(!n.length&&e._el instanceof Range&&Boolean(e._el.startContainer)&&e._el.collapsed&&""===e._el.startContainer.textContent){var r=document.createRange();r.selectNodeContents(e._el.startContainer),n=Array.from(r.getClientRects())}return Object(f.f)(!n.every((function(e){return m.c.Rect.eq.equals(e,m.c.Rect.empty)})),"Got an empty Rect"),{rootClientRect:t,clientRects:p.g.unsafeGet(p.f.fromArray(n))}}),p.b.toError)},e}(),pe=function(e,t){for(var n=e;n;){if(Boolean(n)&&t(n))return n;n=n.parent}return null},me=n("09dI"),fe=i.import("blots/block"),he=i.import("blots/break"),ge=function(e,t){var n="".concat(-t,"px * var(--rem)"),r="(".concat(e,"px + ").concat(n,")");return b.a.keyframes({to:{marginTop:"calc(".concat(n," - ").concat(r,")")}})},be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.create=function(n){var r=e.create.call(this,n);return r.setAttribute("data-template-id",n.id),t.setMeta(r,n,0),r.className=t.className,r},t.prototype.clone=function(){var n=e.prototype.clone.call(this),i=n.domNode;return i.className=t.className,t.setMeta(i,Object(r.a)(Object(r.a)({},this.domNode.__meta),{used:!0}),this.domNode.__meta.uuid+1),n},t.prototype.removePlaceholder=function(){var e,n=this;1===this.children.length&&1===(null===(e=this.children.head)||void 0===e?void 0:e.length())?t.fadeOut(this.domNode,200,2,(function(){t.resetClassName(n.domNode)})):t.resetClassName(this.domNode),this.meta.used=!0},Object.defineProperty(t.prototype,"meta",{get:function(){return this.domNode.__meta},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderStyle",{get:function(){var e,t;return this._placeholderStyle||(this._placeholderStyle=(e=this.meta.placeholder,t=2,b.a.style({$nest:{"&:after":{background:me.o.Color.BlueGray0,color:me.o.Color.BlueGray60,overflow:"hidden",content:'"'.concat(e,'"'),userSelect:"none",marginTop:"".concat(b.a.rem(-t)),display:"flex",width:"100%"}}}))),this._placeholderStyle},enumerable:!1,configurable:!0}),t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.meta.used)this.meta.trackable||this.replaceWith("block");else if(0===this.children.length||1===this.children.length&&this.children.head instanceof he){if(this.domNode.classList.contains(this.placeholderStyle))return;this.domNode.classList.add(this.placeholderStyle)}else this.removePlaceholder()},t.prototype.formats=function(){var e;return(e={})[t.blotName]={id:this.meta.id,used:this.meta.used,placeholder:this.meta.placeholder,trackable:this.meta.trackable},e},t}(fe);be.blotName="template_section",be.className="template_section",(ce=be||(be={})).setMeta=function(e,t,n){var r,i;return e.__meta={id:t.id,placeholder:t.placeholder,trackable:null===(r=t.trackable)||void 0===r||r,used:null!==(i=t.used)&&void 0!==i&&i,uuid:n},e.setAttribute("data-uuid","".concat(n)),e},ce.fadeOut=function(e,t,n,r){var i=function(){e.removeEventListener("animationend",i),clearTimeout(a),r(e)};e.classList.add(function(e,t){return b.a.style({$nest:{"&:after":{visibility:"hidden",animation:"".concat(ge(e,t)," ").concat(b.a.seconds(.2)," linear forwards")}}})}(e.offsetHeight,n)),e.addEventListener("animationend",i);var a=setTimeout(i,t)},ce.resetClassName=function(e){e.className!==ce.className&&(e.className=ce.className)},(ue=le||(le={})).getPossibleCaretPosition=function(e,t){return p.b.tryCatchError((function(){var n;if("caretPositionFromPoint"in document)return{node:(n=document.caretPositionFromPoint(e,t)).offsetNode,offset:n.offset};if("caretRangeFromPoint"in document)return null!=(n=document.caretRangeFromPoint(e,t))?{node:n.startContainer,offset:n.startOffset}:{node:document.elementFromPoint(e,t),offset:0};throw new Error("Browser doesn't support range API")}))},ue.fitPositionInViewport=function(e,t,n){return{x:Math.floor(e>=n.right?n.right-1:e<=n.left?n.left+1:e),y:Math.floor(t<=n.top?n.top+1:t>=n.bottom?n.bottom-1:t)}},ue.getPositionByNativeCursor=function(e){return function(t){return i.find(t.node).offset(e)+t.offset}},ue.getNativeCursorByPosition=function(e,t,n,r,i){void 0===i&&(i=!1);var a=ue.fitPositionInViewport(e,t,n),o=a.x,s=a.y;return i&&m.c.renderDot(o,s,"top"),Object(y.pipe)(ue.getPossibleCaretPosition(o,s),p.b.map((function(e){var t,i=e.node,a=e.offset;if(m.c.isParent(r,i))return{node:i,offset:a};if(s<=n.top+1)return{node:m.c.getFirstChild(r),offset:0};var o=m.c.getLastChild(r);return{node:o,offset:(null!==(t=o.textContent)&&void 0!==t?t:"").length}})))}},IrSI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return f}));var r,i=n("B8yO"),a=n("tiWp"),o=n("OwvP"),s=n("111I"),c=n("fC5a"),l=n("PyEC"),u=n("GllM");!function(e){let t;!function(e){e.onMiniShow="onMiniShow"}(t=e.ActionsKind||(e.ActionsKind={}))}(r||(r={}));const d=s.b.Node.make(({view:e,notify:t})=>i.createElement(o.a.div,{mount:t({type:"upgradeHookAction",kind:r.ActionsKind.onMiniShow})},i.createElement(u.d,{alertsCount:e("alertsCount")}))),p=s.b.Grid.make(({slots:e,notify:t})=>i.createElement(i.Fragment,null,i.createElement(c.a,{className:l.a.shadowWrapper,onClick:t("onClick"),name:"upgrade.hook.mini.card"},e.body))),m=s.b.Knot.make(p,{body:s.b.Composite.make(Object(u.b)(l.a.minimizedWrapper),d)}),f=Object(a.pipe)(s.b.squash(m),s.b.contramapState(e=>({body:e})))},Iv1e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B8yO"),i=n("lKCo"),a=n("+vYo");const o=r.createContext({portalContainer:a.a.create(i.none)})},IzGB:function(e,t,n){"use strict";n.d(t,"c",(function(){return dr.a})),n.d(t,"b",(function(){return pt.a})),n.d(t,"d",(function(){return fr})),n.d(t,"a",(function(){return hr}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("8O/t"),s=n("X76w"),c=n("hcme"),l=n("mMt2"),u=n("DTwm"),d=n("mgiE"),p=n("0kuo"),m=n("TKPA"),f=n("cZKX"),h=n("M3t0"),g=n("ksEe"),b=n("Hj2R"),v=n("D2TP"),y=n("itj6"),O=n("fXTi"),_=n("d3CI"),C=n("wdnv"),w=n("La5+"),S=n("xk6L"),k=n("yIk2"),E=n("iVUr"),j=n("HBEw"),x=n("hzat"),A=n("p622"),I=n("9ZiH"),T=n("ez9D"),M=n("K9f1"),P=n("Fv8Q"),N=n("skc2"),B=n("ENBj");function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function V(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new g.b;F(this,e),D(this,"_sduiService",void 0),D(this,"_sduiManager",void 0),D(this,"_sduiFeedManager",void 0),D(this,"_capiClient",void 0),D(this,"_focusedItem",void 0),D(this,"_platformEnvironment",void 0),D(this,"_log",void 0),D(this,"_subs",void 0),D(this,"_sduiAlertIdResolver",void 0),D(this,"sduiActionEvents",void 0),this._sduiService=t,this._sduiManager=n,this._sduiFeedManager=r,this._capiClient=i,this._focusedItem=a,this._platformEnvironment=o,this._log=h.d.Logging.getLogger("SduiViewModelImpl",h.a.LogLevel.DEBUG),this._subs=new w.a.Keeper,this.sduiActionEvents=new S.a.Subject,this._sduiAlertIdResolver=z(this._sduiManager.alertIdResolver,this._log),this._subs.push(this._handleSduiActions(),this._handleSduiCardOnFocus(),this._handleSduiCardOnBlur(),this._handleSduiFeedRemove(),this._handleSduiFeedEmpty(),this._handleSduiOnEmptyEvents())}var t,n,r;return t=e,(n=[{key:"onAssistantClose",value:function(){var e=this;Object(u.pipe)(this._sduiFeedManager.currentFeed,d.g.map((function(e){return e.feedId})),d.g.chain((function(t){return T.a.get(t)(e._sduiManager.state.get())})),d.g.chain((function(e){return Object(u.pipe)(B.a.findFirst(e.content,"assistantFeed"),d.g.filter((function(e){return Array.isArray(e.onAssistantClose)&&e.onAssistantClose.length>0})),d.g.map((function(t){return[t,e]})))})),d.g.map((function(t){var n=U(t,2),r=n[0],i=n[1];return e.sduiActionEvents.next({type:O.a.Type,sourceId:r.id,cardId:i.id,actions:r.onAssistantClose,scope:{alertRefs:i.alertIds}})})))}},{key:"_handleSduiOnEmptyEvents",value:function(){var e=this;return this._sduiManager.onAlertsRefEmpty.pipe(S.a.withLatestFrom(this._focusedItem),S.a.filter((function(e){var t=U(e,2),n=t[0].sduiRootId,r=t[1];return Object(u.pipe)(r,d.g.filter((function(e){return e===n})),d.g.isSome)})),S.a.map((function(e){return U(e,1)[0]}))).subscribe((function(t){var n=t.sduiId,r=t.sduiRootId,i=t.emptyStrongAlertRef;return e.sduiActionEvents.next({type:O.a.Type,sourceId:n,cardId:r,actions:i.onEmpty,scope:{alertRefs:i.alertIds}})}))}},{key:"_handleSduiFeedRemove",value:function(){var e=this;return this._sduiFeedManager.onFeedRemove.subscribe((function(t){Object(p.f)("assistantFeed"===t.content.type),e.sduiActionEvents.next({type:O.a.Type,sourceId:t.id,cardId:t.id,actions:t.content.onRemove,scope:{alertRefs:[]}})}))}},{key:"_handleSduiFeedEmpty",value:function(){var e=this;return this._sduiFeedManager.onFeedEmpty.subscribe((function(t){Object(p.f)("assistantFeed"===t.content.type),t.content.onEmpty&&e.sduiActionEvents.next({type:O.a.Type,sourceId:t.id,cardId:t.id,actions:t.content.onEmpty,scope:{alertRefs:[]}})}))}},{key:"_handleSduiCardOnBlur",value:function(){var e=this;return this._focusedItem.pipe(S.a.pairwise(),S.a.map((function(t){var n=U(t,1)[0];return Object(u.pipe)(n,d.g.chain((function(t){return Object(u.pipe)(e._sduiManager.findFirstCardWithContent(t),d.g.filter(M.a.isAssistantCardContent),d.g.map((function(e){return[e,t]})))})))})),S.b.compact,S.a.tap((function(t){var n=U(t,2),r=n[0],i=r.card,a=r.parentStrongAlertRef,o=n[1];e.sduiActionEvents.next({type:O.a.Type,sourceId:i.id,cardId:o,actions:i.onBlur,scope:{alertRefs:Object(u.pipe)(a,d.g.map((function(e){return e.alertIds})),d.g.getOrElse(Object(u.constant)(d.a.empty)))}})}))).subscribe()}},{key:"_handleSduiCardOnFocus",value:function(){var e=this;return this._focusedItem.pipe(S.b.compact,S.a.map((function(t){return Object(u.pipe)(e._sduiManager.findFirstCardWithContent(t),d.g.map((function(e){return[e,t]})))})),S.b.compact).subscribe((function(t){var n=U(t,2),r=n[0],i=r.card,a=r.parentStrongAlertRef,o=n[1];e._sduiFeedManager.notifyCardFocused(o),e.sduiActionEvents.next({type:O.a.Type,sourceId:i.id,cardId:o,actions:i.onFocus,scope:{alertRefs:Object(u.pipe)(a,d.g.map((function(e){return e.alertIds})),d.g.getOrElse((function(){return[]})))}})}))}},{key:"_handleSduiActions",value:function(){var e=this;return this.sduiActionEvents.pipe(S.a.skipBy(O.a.eq),S.a.tap((function(t){var n=t.cardId,r=t.sourceId,i=t.actions,a=t.scope;e._log.info("sdui card action:",{cardId:n,actions:i,scope:a}),i.forEach((function(t){switch(t.type){case"notify":return void e._sduiService.sendUserAction(t.sourceId||r,t.userAction);case"removeRoot":return void requestAnimationFrame((function(){e._sduiManager.pushRemovedRoot([j.a.Item.Id.from(n),P.c.RemoveRootSDUIAction])}));case"applyAlerts":case"closeCard":return;case"removeAlerts":return void Object(u.pipe)(e._sduiAlertIdResolver(a.alertRefs),d.g.tap((function(){requestAnimationFrame((function(){e._sduiManager.pushRemovedAlerts([a.alertRefs.map(j.a.AlertId.from),P.c.RemoveAlertsSDUIAction])}))})));case"highlightAlert":case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":case"showHighlights":case"hideHighlights":case"stopApplyingAlerts":case"selectAlternative":return;case"openLink":return void e._platformEnvironment.actions.openPopup(new N.a(t.url));case"copyToClipboard":return;case"pushAssistantFeed":return void requestAnimationFrame((function(){return Object(u.pipe)(e._sduiFeedManager.pushFeed(j.a.Item.Id.from(t.feedId),t.cardId),d.b.mapLeft((function(t){return e._log.error(t),t})))}));case"popAssistantFeed":return void requestAnimationFrame((function(){return e._sduiFeedManager.popFeed(d.g.fromNullable(t.fallbackFeed))}));case"focusAssistantCard":return void requestAnimationFrame((function(){return e._sduiFeedManager.focusCard(t.cardId)}));case"switchView":var i={where:t.where,selected:t.selected,sduiRootId:j.a.Item.Id.from(n)};return e._switchCallerCard(i),e._switchActiveCard(i),e._switchActiveFeed(i),void e._switchActivePopover(i);case"newRevision":return;case"interactPopover":var o=e._sduiManager.popoverManager.getInteractionActions(t.rootPopoverId,t.popoverViewId,t.interaction);return void(o.length>0&&e.sduiActionEvents.next({type:O.a.Type,sourceId:t.rootPopoverId,cardId:t.popoverViewId,actions:o,scope:a}));case"closePopover":return e._sduiManager.popoverManager.removePopover(t.rootPopoverId),void e.sduiActionEvents.next({type:O.a.Type,sourceId:t.rootPopoverId,cardId:t.rootPopoverId,actions:[{type:"removeRoot"}],scope:a});case"openGrammarlyGo":case"openPerformanceScore":return;case"enablePlagiarismCheck":return void e._capiClient.enablePlagiarismSearch();case"disablePlagiarismCheck":return void e._capiClient.disablePlagiarismSearch();case"nativeOpenUserSatisfactionFeedback":return;default:Object(p.d)(t)}}))}))).subscribe()}},{key:"_switchCallerCard",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"_switchActiveCard",value:function(e){var t=this;Object(u.pipe)(this._focusedItem.get(),d.g.filter((function(t){return e.sduiRootId!==t})),d.g.tap((function(n){return t._sduiManager.pushSwitchView(V(H({},e),{sduiRootId:j.a.Item.Id.from(n)}))})))}},{key:"_switchActiveFeed",value:function(e){var t=this;Object(u.pipe)(this._sduiFeedManager.currentFeed,d.g.filter((function(t){return t.feedId!==e.sduiRootId})),d.g.tap((function(n){var r=n.feedId;return t._sduiManager.pushSwitchView(V(H({},e),{sduiRootId:r}))})))}},{key:"_switchActivePopover",value:function(e){var t=this;this._sduiManager.popoverManager.activePopoverView.pipe(S.a.first()).subscribe(d.g.tap((function(n){var r=n.rootPopoverId;t._sduiManager.pushSwitchView(V(H({},e),{sduiRootId:r}))})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&R(t.prototype,n),r&&R(t,r),e}();function z(e,t){return function(n){return Object(u.pipe)(n,f.ub(e),f.Qb(d.g.option),d.g.tapLeft((function(){return t.error("Could not resolve strong alert ref for ".concat(JSON.stringify(n)))})),d.g.filter(f.ob),d.g.tapLeft((function(){return t.error("Strong alert refs are empty")})))}}var G=n("+vYo");function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}var ee,te=function(){function e(t,n,r,i,a,o,s,c){var l,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new g.b,m=this;K(this,e),Z(this,"_checksFeedCapabilities",void 0),Z(this,"_lensState",void 0),Z(this,"_alertReader",void 0),Z(this,"_capiClient",void 0),Z(this,"_platformEnvironment",void 0),Z(this,"_sduiViewModel",void 0),Z(this,"sduiActionEvents",void 0),Z(this,"_sduiAlertIdResolver",void 0),Z(this,"_log",void 0),Z(this,"_subs",void 0),Z(this,"actionEvents",void 0),Z(this,"_focusedItem",void 0),Z(this,"_mapToDenaliAlerts",void 0),this._checksFeedCapabilities=n,this._lensState=r,this._alertReader=o,this._capiClient=s,this._platformEnvironment=p,this._log=h.d.Logging.getLogger("SDUICardsViewModelImpl",h.a.LogLevel.DEBUG),this._subs=new w.a.Keeper,this.actionEvents=new S.a.Subject,this._focusedItem=this._lensState.view((function(e){return _.e.hasItems(e)?Object(u.pipe)(e.currentLens.cardIndex,d.g.chain((function(t){return e.currentLens.items.getAt(t)}))):d.g.none})),this._mapToDenaliAlerts=function(e){return Object(u.pipe)(e,f.cc(d.g.option)((function(e){return m._alertReader.getById(m._mapToDenaliAlertId(e))})),d.g.filter(f.ob))},this._sduiAlertIdResolver=z(i.alertIdResolver,this._log);var b=G.a.create(d.g.none);this._sduiViewModel=new W(t,i,a,s,b,p),this.sduiActionEvents=this._sduiViewModel.sduiActionEvents,(l=this._subs).push.apply(l,Q(this._integrateCardsViewModel(c)).concat([Object(u.pipe)(this._focusedItem,S.a.distinctUntilChanged((function(e,t){return d.g.getEq(E.a.eqById).equals(e,t)})),S.a.map(d.g.chain(d.g.fromPredicate(A.a.isSDUIItem))),S.a.map(d.g.map((function(e){return j.a.Item.Id.from(e.id)})))).subscribe(k.b.toAtom(b)),this._sduiViewModel]))}var t,n,r;return t=e,(n=[{key:"_integrateCardsViewModel",value:function(e){return[this.actionEvents.subscribe(e.actionEvents),e.actionEvents.pipe(S.a.filter(O.a.isSduiCardAction)).subscribe(this.sduiActionEvents)]}},{key:"_sduiActionsHandler",value:function(){var e=this;return this.sduiActionEvents.pipe(S.a.skipBy(O.a.eq),S.a.map((function(t){var n=t.cardId,r=t.actions,i=t.scope;return function(t){return e._log.info("sdui card action:",{cardId:n,actions:r}),Object(u.pipe)(r,f.Fb(t,(function(t,r){switch(r.type){case"notify":return t;case"removeRoot":return Object(u.pipe)(t.currentLens.items.get(n),d.g.map((function(e){return e.value})),d.g.map(e._checksFeedCapabilities.remove(u.constTrue,u.constTrue)),d.g.map((function(e){return _.e.Prism.getLens().compose(C.a.Prism.items).set(t.currentLens.items.modifyWith([[e.id,e]],(function(){return e})),t)})),d.g.getOrElse(Object(u.constant)(t)));case"applyAlerts":return Object(u.pipe)(t.currentLens.items.get(n),d.g.map((function(e){return e.value})),d.b.fromOption((function(){return new Error("unknown cardId: ".concat(n))})),d.b.bimap((function(t){return e._log.error("error in processing applyAlerts action",t)}),(function(t){Object(u.pipe)(e._sduiAlertIdResolver(i.alertRefs),d.g.tap((function(n){requestAnimationFrame((function(){Object(u.pipe)(n,e._mapToDenaliAlerts,d.g.map(f.ub((function(n){return e.actionEvents.next({type:y.b.Type.alertApply,id:t.id,eligibleForSurvey:n.acceptSurvey,eligibleForGbPrompt:n.gbPrompt,alertId:n.id,alternativeIndex:r.alternativeIndex,cardType:y.b.getCardType({activeAlert:x.a.fromModel(n)})})}))))}))})))})),(function(){return t.patch({alertSource:b.b.sidebar})}));case"closeCard":return t.patch({currentLens:_.e.hasItems(t)?e._checksFeedCapabilities.unselectItem()(t.currentLens):t.currentLens,switchOrder:"lensOrder",alertSource:b.b.sidebar});case"removeAlerts":return Object(u.pipe)(e._sduiAlertIdResolver(i.alertRefs),d.g.tap((function(t){requestAnimationFrame((function(){Object(u.pipe)(t,e._mapToDenaliAlerts,d.g.map(f.ub((function(t){return e.actionEvents.next({type:y.b.Type.alertIgnore,id:n,alertId:t.id,eligibleForSurvey:t.dismissSurvey})}))))}))}))),t.patch({alertSource:b.b.sidebar});case"highlightAlert":return Object(u.pipe)(e._sduiAlertIdResolver(i.alertRefs),d.g.chain(e._mapToDenaliAlerts),d.g.map((function(e){if(!_.e.hasItems(t))return t;var n=function(e,t){return function(n){return Object(u.pipe)(n.items.update(e,(function(e){return Object(u.pipe)(e,d.g.fromPredicate(I.a.isAlertRefSDUIItem),d.g.chain(I.a.Capabilities.setActiveAlertId(t)),d.g.chain(I.a.Capabilities.setActiveHighlightIndex(r.highlightIndex)),d.g.getOrElse(Object(u.constant)(e)))})),d.b.fold((function(){return n}),(function(e){return Y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},n),{items:e})})))}},i=e[0];return Object(u.pipe)(_.k.getActiveItem(t.currentLens),d.g.map((function(e){return _.e.Prism.getLensWithItems().modify(n(e.id,i.id),t)})),d.g.map((function(e){return e.patch({alertSource:b.b.sidebar})})),d.g.getOrElse(Object(u.constant)(t)))})),d.g.getOrElse(Object(u.constant)(t)));case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":return t;case"showHighlights":case"hideHighlights":case"selectAlternative":case"openLink":case"copyToClipboard":return t;case"pushAssistantFeed":case"popAssistantFeed":case"focusAssistantCard":case"switchView":case"newRevision":return t;case"stopApplyingAlerts":case"closePopover":case"interactPopover":case"openGrammarlyGo":case"enablePlagiarismCheck":case"disablePlagiarismCheck":case"openPerformanceScore":case"nativeOpenUserSatisfactionFeedback":return t;default:Object(p.d)(r)}})))}})))}},{key:"getApplicatorEffects",value:function(){return Object(u.pipe)([[this._sduiActionsHandler(),"sduiActions"]],d.a.map((function(e){var t=X(e,2),n=t[0],r=t[1];return{id:"cardsViewModel.effects.".concat(r),when:v.a.isWithAlertsId,what:_.e.Effect.Applicator.create(n)}})))}},{key:"onAssistantClose",value:function(){this._sduiViewModel.onAssistantClose()}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"_mapToDenaliAlertId",value:function(e){return"".concat(e)}}])&&$(t.prototype,n),r&&$(t,r),e}();!function(e){e.itemsLens=_.e.Prism.getLens().compose(C.a.Prism.items),e.createLegacy=function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new g.b,c={enablePlagiarismSearch:function(){return Promise.resolve(d.b.right(void 0))},disablePlagiarismSearch:function(){return Promise.resolve(d.b.right(void 0))}};return Object(u.pipe)(d.g.sequenceT(e,r,i),d.g.fold((function(){return new ee.Mock}),(function(e){var r=X(e,3),i=r[0],l=r[1],u=r[2];return new te(i,t,n,l,u,a,c,o,s)})))};e.Mock=function e(){K(this,e),Z(this,"actionEvents",new S.a.Subject),Z(this,"sduiActionEvents",new S.a.Subject),Z(this,"sideEffect",{id:"cardsViewModelMock",when:v.a.isWithAlertsId,what:_.e.Effect.Applicator.create(S.a.EMPTY)}),Z(this,"getApplicatorEffects",(function(){return[{id:"cardsViewModelMock",when:v.a.isWithAlertsId,what:_.e.Effect.Applicator.create(S.a.EMPTY)}]})),Z(this,"onAssistantClose",m.e),Z(this,"dispose",m.e)}}(ee||(ee={}));var ne,re,ie,ae=n("pKQL");function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ie=ne||(ne={}),re=ie.PrevNextNavigation||(ie.PrevNextNavigation={}),(re.Events||(re.Events={})).fromSduiCardActions=Object(u.flow)(S.a.map((function(e){var t=Object(u.pipe)(e.actions,f.O(ae.d.Action.isTransitionAction));return e.actions.find((function(e){return"prevCard"===e.type}))?d.g.some({kind:"prevClicked",transitions:t}):e.actions.find((function(e){return"nextCard"===e.type}))?d.g.some({kind:"nextClicked",transitions:t}):d.g.none})),S.b.compact),re.sideEffect=function(e,t,n){return{id:"SingleCardAssistant.prevNextNavigation",when:_.e.Effect.When.isSidebarOpen,what:_.e.Effect.ItemsApplicator.create(Object(u.pipe)(e,S.a.withLatestFrom(t.pipe(S.a.filter(_.e.hasCards))),S.a.map((function(e){var t=se(e,2),n=t[0],r=t[1];return Object(u.pipe)(r.currentLens.cardIndex,d.g.chain((function(e){return r.currentLens.items.getAt("nextClicked"===n.kind?e+1:e-1)})))})),S.b.compact,S.a.map((function(e){return function(t){return _.e.Prism.getLensWithItems().modify(n.selectItemById(e.id),t)}}))))}};var ce,le,ue,de=n("l5lb");function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}function he(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}le=ce||(ce={}),ue=Object(m.l)(h.d.Logging.getLogger),(le.DisablePrevNextButtons||(le.DisablePrevNextButtons={})).create=function(e){var t=ue("SingleCardAssistant.Transformers.disablePrevNextButtons");return function(n){var r=n.state,i=n.metadata;if(!_.e.hasItems(r))return t.trace("state has no feed items, returning original state"),d.b.left({state:r,metadata:i});var a=r;return Object(u.pipe)(a.currentLens.cardIndex,d.g.chain((function(e){return Object(u.pipe)(_.k.getActiveItem(r.currentLens),d.g.map((function(t){return Object(u.tuple)(t,e)})))})),d.g.map((function(t){var n=ge(t,2),i=n[0],o=n[1];return _.e.Prism.getLensWithItems().modify((function(t){if(!A.a.isSDUIItem(i)||!d.g.isSome(i.cardDSL))return t;var n=e.clone(i),a=d.g.unsafeGet(n.cardDSL),s=!1,c=B.a.map(a,(function(e){if("button"===e.type&&e.name.value===de.a.ComponentKnownName.ButtonPrev){var t=0===o?de.a.ButtonState.Disabled:de.a.ButtonState.Enabled;return s=s||t!==e.state,he(fe({},e),{state:t})}if("button"===e.type&&e.name.value===de.a.ComponentKnownName.ButtonNext){var n=o===r.currentLens.items.size-1?de.a.ButtonState.Disabled:de.a.ButtonState.Enabled;return s=s||n!==e.state,he(fe({},e),{state:n})}return e}));return d.g.isSome(c)&&s?(n=Object.assign(n,{cardDSL:c}),he(fe({},t),{items:t.items.add(n)})):t}),a)})),d.g.getOrElse((function(){return r})),(function(e){return d.b.left({state:e,metadata:i})}))}};var be,ve=n("tiWp"),ye=n("JSRc"),Oe=n("Xnm7"),_e=n("mTue"),Ce=n("lXop"),we=n("5OZM"),Se=n("mML0"),ke=n("y9id"),Ee=n("o5hd"),je=n("ZDrO"),xe=n("JLFM"),Ae=n("osAs"),Ie=n("p81r"),Te=n("1CxT"),Me=n("EBIN"),Pe=n("TFiY"),Ne=n("4Pfx"),Be=n("VOhR"),Le=n("SOPW"),Fe=n("4wwO"),Re=n("s4G0"),De=n("IMGo"),He=n("RRF2"),Ve=n("mEGS"),Ue=n("aODX"),We=n("/1wo"),ze=n("e92m");!function(e){var t=e.MIN_ACCEPTABLE_COUNT=4;e.getFocusFirstFilter=(e,t)=>({visibleAlerts:n,alertSource:r,lensId:i,alertHighlight:a})=>Object(ve.pipe)(a,d.g.filter(()=>"text"===r||!v.a.isMainLens(i)||Object(ve.pipe)(n,d.a.map(n=>Object(ve.pipe)(e.getById(n.id),d.g.filter(t.alertIsBulkAcceptable(i)),d.g.map(x.a.fromModel),d.g.filter(Object(m.b)(x.a.isDefault,Object(u.not)(x.a.isBulkApplied))))),d.a.compact).length<be.MIN_ACCEPTABLE_COUNT));let n;!function(e){e.create=(e,n)=>({getBulkAcceptableAlerts:i(n),willShowBulkAccept:Object(u.flow)(_.e.mapper(t=>Object(ve.pipe)(e.get(),i(n)(t.currentLens.id))),d.g.map(e=>e.length>=t),d.g.getOrElse(u.constFalse))})}(n=e.BulkAcceptReader||(e.BulkAcceptReader={}));const r=Object(m.l)(h.d.Logging.getLogger);e.getStateTransformer=(e,t,n,a,c,p)=>{let m=!1;return f=>{const{state:g,metadata:b}=f,y=r("BulkAccept.stateTransformer",h.a.LogLevel.TRACE,h.a.LogColor.Manager.getColor());if(m)return d.b.left({state:g,metadata:b});if(!_.e.hasItems(g)||!v.a.isMainLens(g.currentLens.id)||!_.e.isLensview(g))return d.b.left(f);const O=Object(ve.pipe)(Ue.a.find(g.currentLens.items,ze.a.isBulkAcceptItem),d.g.map(He.e.pick("value")));return Object(ve.pipe)(O,d.g.exists(e=>"dismissed"===e.visibilityState))?(y.debug("Bulk Accept was dismissed by user. The transformer will skip processing the lens state till the end of the session."),m=!0,d.b.left(f)):Object(ve.pipe)(e.get(),i(t)(g.currentLens.id),d.g.map(l(O,n,y)),d.g.map(e=>Object(ve.pipe)(O,d.g.fold(()=>{const t=ze.a.create(e,(n=g.currentLens.id,We.b.toCardRenderOptions(p,n,S.a.of(d.g.none))));var n;if(ze.a.isInAppliedState(t))return g;y.debug("adding new BulkAcceptItem to the current lens");const r="text"===g.alertSource;return c.onShow(e.length,r),r?_.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.add(t),g):_.e.Prism.getLens().set(Object(u.unsafeCoerce)(Object(ve.pipe)(g.currentLens,a.unselectItem(),e=>Object(s._)(Object(o._)({},e),{items:e.items.add(t)}),a.selectItemById(ze.a.id))),g)},t=>{if(ze.a.efficientAlertEq.equals(e,t.alerts))return y.trace("BulkAcceptItem exists and did not change, returning the original state"),g;{const n=Object(ve.pipe)(e,De.M,x.a.isBulkApplied);return Object(ve.pipe)(e,De.M,x.a.isBeingApplied)||n&&ze.a.isInUndoneState(t)?(y.trace("BulkAcceptItem is in undone state, skipping update with applied alerts"),g):ze.a.isInAppliedState(t)?(y.debug("Items changed, removing applied BulkAcceptItem from lens"),_.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.remove(t.id),g)):(y.debug("updating BulkAcceptItem with new alerts"),_.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.add(ze.a.updateAlerts(t,e)),g))}}))),d.g.getOrElse(()=>Object(ve.pipe)(O,d.g.fold(()=>g,e=>ze.a.isInUndoneState(e)?(y.trace("BulkAcceptItem is in undone state, returning original state"),g):(y.debug("removing BulkAcceptItem from the current lens"),_.e.Prism.getLens().compose(C.a.Prism.items).set(g.currentLens.items.remove(e.id),g))))),e=>d.b.left({state:e,metadata:b}))}};const i=e=>n=>r=>Object(ve.pipe)(n,d.g.fromPredicate(v.a.isMainLens),d.g.map(t=>Object(ve.pipe)(r,Ve.a.reduce([],(n,r)=>Object(ve.pipe)(r,d.g.fromPredicate(n=>e.alertIsBulkAcceptable(t)(n.alert)||b.a.State.isBulkApplied(n.state)||b.a.isBeingAppliedinBulk(n.alert)),d.g.map(He.e.pick("alert")),d.g.map(x.a.fromModel),d.g.filter(x.a.isDefault),d.g.fold(()=>n,e=>(n.push(e),n)))))),d.g.map(d.a.partition(x.a.isBulkApplied)),d.g.chain(({left:e,right:n})=>n.length>0?d.g.some(n):e.length>=t?d.g.some(e):d.g.none)),a=(e,t)=>n=>Object(ve.pipe)(e,d.g.map(He.e.pick("alerts")),d.g.chain(f.S(e=>e.id===n.id)),d.g.chain(He.e.pick("diff")),d.g.alt(()=>t(n))),c=(e,t)=>n=>Object(ve.pipe)(n.getTransform(),d.g.map(He.e.pick("content")),d.g.chain(d.g.fromEither),d.g.map(e=>e.alternatives.slice(0,1)),d.g.map(e),d.g.chain(d.b.fold(e=>(t.error("Could not hydrate diff",{e,alert:x.a.snapshot(n)}),d.g.none),f.ib))),l=(e,n,r)=>i=>Object(ve.pipe)(i,f.ub(l=>Object(s._)(Object(o._)({},l),{diff:Object(ve.pipe)(l,a(e,c(n,r))),ignoreAllowed:i.length>t})))}(be||(be={}));var Ge,qe=n("0Qjk"),Ke=n("wqt/"),$e=n("Mi0J"),Ze=n("eAYH");!function(e){const t=Object(m.l)(h.d.Logging.getLogger),n=()=>t("BulkAcceptSideEffects"),r=e=>n().error("Bulk accept item not found in lens state",{effectId:e}),i=(e,t)=>n().error("Alert does not exist in AlertsCollection",{alertId:e,effectId:t});e.selectNextCardOnBulkAcceptConfirmed=(e,t,r,i)=>e.pipe(S.a.filter($e.a.isConfirmAll),S.a.withLatestFrom(r,i),S.a.filter(([,e,n])=>n&&_.e.hasCards(e)&&v.a.isMainLens(e.currentLens.id)&&d.g.isNone(t(e.currentLens))),S.a.map(()=>_.e.Effect.FocusBehavior.focusNext),S.a.tap(e=>n().trace("selectNextCardOnBulkAccept emit: ",e)));const a=e=>Object(ve.pipe)(e.currentLens.items.find(ze.a.isBulkAcceptItem),d.g.map(e=>e.value));e.createEffects=function({actions:e,tracking:t,alertService:s,alertsReader:c,enableMPTE:l=!1}){const p=new Map,h=e=>{l&&(p.has(e.id)&&g(e.id),Object(ve.pipe)(s.takeReference(e,"BulkAccept"),d.b.fold(e=>n().error("failed to hold reference to bulk accepted alert",e),t=>p.set(e.id,t))))},g=e=>{if(l){const t=p.get(e);void 0!==t&&(t.dispose(),p.delete(e))}},v=()=>{l&&(p.forEach(e=>e.dispose()),p.clear())},y=[{actionToHandle:$e.a.Kind.apply,handler:({kind:e})=>i=>(requestAnimationFrame(()=>Object(ve.pipe)(a(i),d.g.map(He.e.pick("alerts")),d.g.map(f.ub(e=>(h(e),e.id))),d.g.fold(()=>r(e),e=>{t.onAccept(e.length),Object(ve.pipe)(s.applyBulk(e,qe.a.FeedbackSubtype.Sidebar),Ke.a.tapFailure(e=>n().error("error calling alert service to apply alerts bulk",e)))}))),i)},{actionToHandle:$e.a.Kind.dismiss,handler:({kind:e})=>n=>Object(ve.pipe)(a(n),d.g.fold(()=>(r(e),n),e=>{t.onDismiss(e.alerts.length);const r=ze.a.dismiss(e);return _.e.Prism.getLens().compose(C.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,r]],()=>r),n)}))},{actionToHandle:$e.a.Kind.bulkUndo,handler:({kind:e})=>n=>Object(ve.pipe)(a(n),d.g.fold(()=>(r(e),n),e=>{v(),t.onBulkUndo(e.alerts.length),requestAnimationFrame(()=>{s.undoBulk(e.alerts.map(e=>e.id),qe.a.FeedbackSubtype.Sidebar)});const r=ze.a.undo(e);return _.e.Prism.getLens().compose(C.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,r]],()=>r),n)}))},{actionToHandle:$e.a.Kind.ignore,handler:({alertId:e,kind:i})=>o=>Object(ve.pipe)(o,((e,t)=>Object(u.flow)(a,d.g.map(He.e.pick("alerts")),d.g.chain(Object(u.flow)(f.S(t=>t.id===e),d.g.tapLeft(()=>t.error("Alert not found in BulkAcceptItem"))))))(e,n()),d.g.fold(()=>(r(i),o),r=>(h(r),t.onIgnore(r.patternName),Object(ve.pipe)(s.applyFeedback(e,{kind:qe.a.AlertFeedbackType.IGNORE,subtype:qe.a.FeedbackSubtype.Sidebar},b.b.text),d.b.fold(e=>n().error("error sending ignore feedback",e),u.constVoid)),o)))},{actionToHandle:$e.a.Kind.individualUndo,handler:({alertId:e,kind:r})=>a=>Object(ve.pipe)(c.getById(e),d.g.fold(()=>(i(e,r),a),r=>(l&&a.currentLens.items.filter(Object(m.b)(Ze.b.isWithAlertsItem,e=>b.a.isRemoved(e.activeAlert))).values().forEach(e=>g(e.activeAlert.id)),t.onRevert(r.patternName),Object(ve.pipe)(s.applyFeedback(e,{kind:qe.a.AlertFeedbackType.IGNORE_BULK_ACCEPTED,subtype:qe.a.FeedbackSubtype.Sidebar},b.b.text),d.b.fold(e=>n().error("error sending undo feedback",e),u.constVoid)),a)))},{actionToHandle:$e.a.Kind.confirmed,handler:({alertId:e,kind:r})=>a=>Object(ve.pipe)(c.getById(e),d.g.fold(()=>(i(e,r),a),e=>(g(e.id),t.onLooksGood(),Object(ve.pipe)(s.confirmApplied([e.id]),d.b.fold(e=>n().error("error during individual confirm",e),u.constVoid)),a)))},{actionToHandle:$e.a.Kind.confirmedAll,handler:({alertIds:e})=>r=>(v(),t.onAllLooksGood(e.length),Object(ve.pipe)(s.confirmApplied(e),d.b.fold(e=>n().error("error during bulk confirm of applied alerts",e),u.constVoid)),r)},{actionToHandle:$e.a.Kind.highlight,handler:({kind:e,alert:n})=>i=>Object(ve.pipe)(a(i),d.g.fold(()=>(r(e),i),e=>{const r=Object(ve.pipe)(_.e.Prism.getLens().compose(C.a.Prism.items).set(i.currentLens.items.add(Object(ve.pipe)(e,ze.a.selectAlert(n.id))),i),e=>({currentLens:e.currentLens,alertSource:b.b.sidebar}));return t.onSuggestionClick(n.patternName),i.patch(r)}))}];return Object(ve.pipe)(y,d.f.map(o(e)))};const o=e=>({actionToHandle:t,handler:n})=>{const r=e.pipe(S.a.map(e=>r=>e.kind===t?n(e)(r):r));return{id:"bulkAcceptSideEffect-"+t,when:v.a.isWithAlertsId,what:_.e.Effect.Applicator.create(r)}}}(Ge||(Ge={}));var Ye,Xe=n("zvK+"),Qe=n("+ySe"),Je=n("KH+i"),et=n("wsul"),tt=n("rtUA"),nt=n("9UJa"),rt=n("IJtK"),it=n("mtPC"),at=n("6YEU");!function(e){e.nothing=d.b.left;e.liftLensState=function(e){return t=>d.b.left(Object(s._)(Object(o._)({},t),{state:e(t.state)}))},e.liftWithItemsState=function(e){return t=>d.b.left(Object(s._)(Object(o._)({},t),{state:_.e.hasItems(t.state)?_.e.Prism.getLensWithItems().modify(e,t.state):t.state}))},e.liftLensView=function(e){return t=>d.b.left(Object(s._)(Object(o._)({},t),{state:_.e.hasCards(t.state)?_.e.Prism.getLens().modify(e,t.state):t.state}))}}(Ye||(Ye={}));var ot,st=n("aaNd"),ct=n("Gwvb"),lt=n("K40b");!function(e){function t(e){return([t,n])=>Object(ve.pipe)(Ve.a.diff(t,n),lt.a.reduce(!1,u.identity,(t,{alert:n})=>b.a.isApplied(n)&&n.state.undoable.action===qe.a.AlertFeedbackType.IGNORE&&d.g.isSome(e.getAlertMuteCategory(n.id)),u.identity))}e.showCardMuteOnboarding=function(e,n,r,i,a,o){return{id:"mutingAlertDismissed",when:u.constTrue,what:_.e.Effect.Applicator.create(n.state.pipe(S.a.takeUntil(e.pipe(S.a.filter(u.identity))),S.a.pairwise(),S.a.filter(t(r)),S.a.scan(e=>e+1,0),S.a.filter(e=>2===e),S.a.switchMap(i),S.a.tap(e=>{"closedByUser"===e?a():"shown"===e&&o()}),S.a.switchMap(()=>S.a.NEVER)))}}}(ot||(ot={}));var ut,dt,pt=n("h+d6"),mt=n("P9Nt"),ft=n("jH4R"),ht=n("Eve8"),gt=n("txgs"),bt=n("s1NC"),vt=n("jSIJ"),yt=n("B8sb"),Ot=n("QYPR"),_t=n("/VNA"),Ct=n("iUFV"),wt=n("1vTd"),St=n("PR1L");!function(e){var t=e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY="OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY";e.create=function({nextPayDate:e,currentPlan:r},i,a=je.c.DenaliStorage.fromLocalStorage(je.c.ls)){Object(m.r)("gbSatisfactionSurveyModelOverrideNextPayDateForDebug",e=>a.setItem(t,e));const o=He.d.Local.parseDate(Object(ve.pipe)(a.getItem(t),d.g.getOrElse(()=>e)));return r?Object(ve.pipe)(d.g.fromEither(o),d.g.map(n),d.g.map(e=>({daysFromInstitutionCreation:e,isAdmin:i.admin,isTrial:!0===r.hasTrial}))):d.g.none};const n=e=>{const t=He.d.Local.Timestamp,n=He.d.Local.daysAgo(e,7);return Math.floor(t.subtract(t.now(),n)/He.d.MS_IN_DAY)}}(ut||(ut={})),function(e){let t=null;e.create=function({currentPlan:e,nextPayDate:i,expirationDate:a}){var o;Object(m.r)("premiumSurveyModelOverridePremiumEndDate",e=>t=e);const s=He.d.Local.parseDate(null!==(o=null!=t?t:i)&&void 0!==o?o:a);return e?Object(ve.pipe)(d.g.fromEither(s),d.g.map(n(e.periodMonths)),d.g.map(t=>({weeksPassedFromLastPayment:t,currentPlanType:r(e)}))):d.g.none};const n=e=>t=>{const n=He.d.Local.Timestamp.toLocal(He.d.Local.monthsAgo(t,e));return He.d.Local.toTimestamp(He.d.Local.subtract(He.d.Local.now(),n))/He.d.MS_IN_WEEK};function r(e){switch(e.periodMonths){case 1:return"Monthly";case 3:return"Quarterly";default:return"Annual"}}}(dt||(dt={}));var kt,Et=n("ykgB"),jt=n("Y8fD"),xt=n("xAs4"),At=n("MKsy");!function(e){e[e.Inactive=0]="Inactive",e[e.ListenCrossSession=1]="ListenCrossSession",e[e.ListenCurrentSession=2]="ListenCurrentSession"}(kt||(kt={}));var It,Tt;!function(e){var t=function(e,t){return{type:e,currentSessionRules:[S.a.EMPTY,t.pipe(S.a.filter(_.e.isLensview),S.a.pairwise(),S.a.filter((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return!At.a.isInGlobalSuccess(n)&&At.a.isInGlobalSuccess(r)})),S.a.debounceTime(2e3))],crossSessionRules:function(e){return S.a.of({counter:e.counter+1})},get defaultData(){return{actual:!0,counter:0,wasClosedAt:d.g.none}},getState:function(e){var t=Date.now()-Object(ve.pipe)(e.wasClosedAt,d.g.fold((function(){return 0}),(function(e){return e.getTime()})));return!e.actual||t<7*He.d.MS_IN_DAY?kt.Inactive:e.counter>=3?kt.ListenCurrentSession:kt.ListenCrossSession},transform:function(e){return jt.a.isCloseAction(e)?{actual:!1}:{wasClosedAt:d.g.some(new Date)}}}};e.getMostActiveUsers=function(e){return{type:vt.p.MostActiveUsers,currentSessionRules:t(vt.p.MostActiveUsers,e).currentSessionRules,crossSessionRules:function(e){return S.a.of({lastThreeVisits:e.lastThreeVisits.concat([(new Date).toISOString()]).slice(-3)})},get defaultData(){return{passed:!1,lastThreeVisits:[]}},getState:function(e){return e.passed?kt.Inactive:e.lastThreeVisits.length<3||Date.now()-new Date(e.lastThreeVisits[0]).getTime()>7*He.d.MS_IN_DAY?kt.ListenCrossSession:kt.ListenCurrentSession},transform:function(){return{passed:!0}}}},e.getDefault=t;var n=function(e){var t=He.d.Local.toTimestamp(e),n=He.d.Local.daysAgo(He.d.Local.now(),14);return t>=He.d.Local.monthsAgo(He.d.Local.now(),12)&&t<=n};e.getProofit=function(e,t,r,i,a){var o=r.modal.pipe(S.a.first(d.g.isSome),S.a.mapTo({actual:!1}));return{type:vt.p.ProofitPromo,crossSessionRules:function(){return S.a.throwError(new p.b("Proofit Survey invalid cross session observable"))},get currentSessionRules(){var s=e.textInfo.pipe(S.a.map(d.g.filter((function(e){return e.wordsCount>=200}))),S.a.concatMap(d.g.fold((function(){return S.a.EMPTY}),(function(){return r.requestStatistics()}))),S.b.compact,S.a.map((function(e){return e.lastCompletedJobDate})),S.b.compact,S.a.filter(n)),c=t.textChangedAfterPaste.pipe(S.a.filter((function(e){return"partial"!==e.type})),S.a.switchMapTo(s));return[o,a.view((function(e){return e===xt.l.enabled})).pipe(S.a.switchMap(k.b.orEmpty(S.a.mergeStatic(i.isUploaded()?s:S.a.EMPTY,c).pipe(S.a.first()))))]},get defaultData(){return{actual:!0}},getState:function(e){return e.actual?kt.ListenCurrentSession:kt.Inactive},transform:function(e){return"getStarted"===e&&r.showOrderModal(),{actual:!1}}}},e.getPremiumOnboarding=function(e){return{type:vt.p.PremiumOnboarding,crossSessionRules:function(){return S.a.throwError(new p.b("Premium Onboarding Survey invalid cross session observable"))},defaultData:{afterFirstWeek:!1,afterSecondWeek:!1},currentSessionRules:[S.a.EMPTY,S.a.of(e).pipe(S.a.filter(d.g.exists((function(e){return e.weeksPassedFromLastPayment>1}))),S.a.delay(2e3))],getState:function(t){return Object(ve.pipe)(e,d.g.fold((function(){return kt.Inactive}),(function(e){var n=e.weeksPassedFromLastPayment;return n>2&&!t.afterSecondWeek||n>1&&!t.afterFirstWeek?kt.ListenCurrentSession:kt.Inactive})))},transform:function(t){return Object(a._)({},Object(ve.pipe)(e,d.g.exists((function(e){return e.weeksPassedFromLastPayment>2})))?"afterSecondWeek":"afterFirstWeek",jt.a.isCloseAction(t))}}},e.getGBSatisfaction=function(e){return{type:vt.p.GBSatisfaction,crossSessionRules:function(){return S.a.throwError(new p.b("GB Satisfaction Survey invalid cross session observable"))},defaultData:{firstAppearance:!1,secondAppearance:!1,surveyCompleted:!1},currentSessionRules:[S.a.EMPTY,S.a.of(e).pipe(S.a.filter(d.g.exists((function(e){return e.daysFromInstitutionCreation>=3}))),S.a.delay(2e3))],getState:function(t){return t.surveyCompleted?kt.Inactive:Object(ve.pipe)(e,d.g.fold((function(){return kt.Inactive}),(function(e){var n=e.daysFromInstitutionCreation;return n>=5&&!t.secondAppearance||n>=3&&!t.firstAppearance?kt.ListenCurrentSession:kt.Inactive})))},transform:function(t){return jt.a.isCloseAction(t)?Object(a._)({},Object(ve.pipe)(e,d.g.exists((function(e){return e.daysFromInstitutionCreation>=5})))?"secondAppearance":"firstAppearance",!0):{surveyCompleted:"completeSurvey"===t}}}}}(It||(It={})),(Tt||(Tt={})).create=function(e,t,n,r){var i=h.d.Logging.getLogger("SurveyManager"),a=t.getSurveyModel(e.type).view(d.g.getOrElse((function(){return e.defaultData}))),o=new S.a.BehaviorSubject(d.g.none),s=[a.view((function(t){return[e.getState(t),t]})).pipe(S.a.distinctUntilChanged((function(e,t){return Object(c._)(e,1)[0]===Object(c._)(t,1)[0]})),S.a.tap((function(){return o.next(d.g.none)})),S.a.switchMap((function(t){var i=Object(c._)(t,2),a=i[0],s=i[1];switch(a){case kt.Inactive:return S.a.EMPTY;case kt.ListenCrossSession:return e.crossSessionRules(s);case kt.ListenCurrentSession:var l=Object(c._)(e.currentSessionRules,2),u=l[0],m=l[1];return u.pipe(S.a.merge(m.pipe(S.a.switchMapTo(n.state),S.a.filter((function(e){return e.length<1})),S.a.take(1),S.a.switchMap((function(){return o.next(d.g.some(e.type)),r(e.type).pipe(S.a.map(e.transform),S.a.take(1),S.a.finalize((function(){o.next(d.g.none)})))})))));default:return Object(p.c)(a)}}))).subscribe((function(n){return t.setSurveyModel(e.type,He.e.update(a.get(),n))}),(function(e){return i.error("Survey error",e)}))];return Object(m.r)("survey",{show:function(){return a.get()},clear:function(){return t.setSurveyModel(e.type,e.defaultData)}}),{dispose:function(){return s.forEach((function(e){return e.unsubscribe()}))}}};var Mt=n("/7y/"),Pt=n("3I9b"),Nt=function(e){return function(t){return{onShow:function(){e.gnarSpec.gbSatisfactionSurveySurveyShow(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onClose:function(){e.gnarSpec.gbSatisfactionSurveySurveyClose(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onFirstAnswer:function(n){e.gnarSpec.gbSatisfactionSurveySurveyAnswerFirst(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onSecondAnswer:function(n){e.gnarSpec.gbSatisfactionSurveySurveyAnswerSecond(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onThirdAnswer:function(n){e.gnarSpec.gbSatisfactionSurveySurveyAnswerThird(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)}}}};function Bt(e,t,n,r,i,a,o,s,c,l,u){var m=Object(ve.pipe)(l.state.get(),(function(e){return Et.a.isOk(e)?dt.create(e.value):d.g.none})),f=Object(ve.pipe)(l.state.get(),(function(e){return Et.a.isOk(e)&&Boolean(e.value.currentPlan)&&d.g.isSome(o.profile.get().institutionInfo)?ut.create(e.value,d.g.unsafeGet(o.profile.get().institutionInfo)):d.g.none})),h=function(e,t,n,r,i){return function(a){return vt.m.mapBySurveyType(a,(function(){return e.state.view(d.g.isNone).pipe(S.a.switchMap(k.b.orEmpty(t.enqueue("proofitPromo").pipe(S.a.filter((function(e){return"shown"!==e}))))))}),(function(e){return t.enqueue("externalSurvey",{surveyType:e}).pipe(S.a.filter((function(e){return"shown"!==e})))}),(function(){return Object(ve.pipe)(n,d.g.map(function(e){return function(t){return{onShow:function(){e.gnarSpec.premiumOnboardingSurveySurveyShow(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onClose:function(){e.gnarSpec.premiumOnboardingSurveySurveyClose(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onFirstAnswer:function(n){e.gnarSpec.premiumOnboardingSurveySurveyAnswerFirst(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)},onSecondAnswer:function(n){e.gnarSpec.premiumOnboardingSurveySurveyAnswerSecond(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)}}}}(i)),d.g.fold((function(){return S.a.EMPTY}),(function(e){return e.onShow(),t.enqueue("premiumOnboardingSurvey",{viewModel:new Pt.c(e)}).pipe(S.a.filter((function(e){return"shown"!==e})),S.a.tap(e.onClose))})))}),(function(){return Object(ve.pipe)(r,d.g.map((function(e){return{isAdmin:e.isAdmin,tracking:Nt(i)(e)}})),d.g.fold((function(){return S.a.EMPTY}),(function(e){var n=e.isAdmin,r=e.tracking;return r.onShow(),t.enqueue("gbSatisfactionSurvey",{viewModel:new Mt.c(r,n)}).pipe(S.a.filter((function(e){return"shown"!==e})),S.a.tap(r.onClose))})))}))}}(s,c,m,f,u);switch(e){case vt.p.FreeClarityAlertsEnabled:case vt.p.FreeClarityAlertsControl:case vt.p.ProofitPromo:return Tt.create(It.getProofit(n,r,i,a,o.features.proofit),o.settings,c,h);case vt.p.PremiumOnboarding:return Tt.create(It.getPremiumOnboarding(m),o.settings,c,h);case vt.p.GBSatisfaction:return Tt.create(It.getGBSatisfaction(f),o.settings,c,h);case vt.p.MostActiveUsers:return Tt.create(It.getMostActiveUsers(t),o.settings,c,h);default:return Object(p.c)(e)}}var Lt=n("3PdT"),Ft=n("/9H4");var Rt,Dt=n("LqyO"),Ht=n("8XoQ"),Vt=n("6uQI"),Ut=h.d.Logging.getLogger("cardsTelemetry"),Wt=h.d.TimeSeries.rootFemetrics.getMetric("card.fullChecking"),zt=function(){function e(t,n,i,o,s){var l=this;Object(r.a)(this,e),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_cardActions",void 0),Object(a._)(this,"_lensState",void 0),Object(a._)(this,"_mutingAlertsReader",void 0),Object(a._)(this,"_activeAlertGetter",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"_focusedCardObservable",void 0),Object(a._)(this,"_cardFeedbackFormDismissed",void 0),Object(a._)(this,"_isFreePremiumAlert",void 0),this._telemetry=t,this._cardActions=n,this._lensState=i,this._mutingAlertsReader=o,this._activeAlertGetter=s,this._subs=new w.a.Keeper,this._focusedCardObservable=this._lensState.pipe(S.a.map(_.e.getActiveItem(this._activeAlertGetter)),S.b.compact,S.a.filter((function(e){return"focused"===e.visualState.transition.type}))),this._cardFeedbackFormDismissed=this._lensState.pipe(S.a.map(_.e.getActiveItem(this._activeAlertGetter)),S.b.compact,S.a.pairwise(),S.a.filter((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return"feedback_form"===n.visualState.transition.type&&n.id!==r.id})),S.a.map((function(){return S.a.from(l._telemetry.gnarSpec.feedbackFormCardFormSkipped((l._telemetry.pageId,l._telemetry.pageSessionId)))}))),this._isFreePremiumAlert=this._lensState.view((function(e){return Object(ve.pipe)(e,_.e.getActiveItem(l._activeAlertGetter),d.g.chain((function(e){return e.activeAlert.freePremium})),d.g.exists((function(e){return"unlocked"===e})))})),this._subs.push(this._cardActions.pipe(S.a.map((function(e){switch(e.type){case y.b.Type.alertCardShow:var t=l._lensState.get();return S.a.from(l._telemetry.gnarSpec.alertCardShow(e.cardType,l._isFreePremiumAlert.get(),t.currentLens.id,l._telemetry.pageId,t.switchOrder,l._telemetry.pageSessionId));case y.b.Type.alertMinicardButtonClick:return S.a.from(l._telemetry.gnarSpec.alertMinicardButtonClick(Object(ve.pipe)(e.alertHighlight.alert.freePremium,d.g.exists((function(e){return"unlocked"===e}))),l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.alertApply:if(e.cardType!==y.b.CardType.superCard&&Object(ve.pipe)(i.get(),_.e.mapper((function(t){return t.currentLens.items.get(e.id)})),d.g.map(He.e.pick("value")),d.g.exists((function(e){return Object(m.p)(Ze.b.isWithAlertsItem,At.a.isAlertRefSDUI)(e)&&1===e.alerts.length})))){var n="timer_cardApply";Object(ve.pipe)(Vt.a.popTimeFromGlobalTimers(n),d.g.fold((function(){return h.d.Logging.getLogger(n).error("Missing start time")}),(function(e){return h.d.TimeSeries.rootFemetrics.getTimer(n).recordTime(Date.now()-e)})))}return S.a.from(l._telemetry.gnarSpec.suggestedReplacementButtonClick(l._isFreePremiumAlert.get(),l._telemetry.pageId,e.cardType,"assistantOn",l._telemetry.pageSessionId));case y.b.Type.openSetGoals:return S.a.from(l._telemetry.gnarSpec.cardActionButtonClick(l._telemetry.pageId));case y.b.Type.alternativeReplacementRadioButtonClick:return S.a.from(l._telemetry.gnarSpec.alternativeReplacementRadioButtonClick(l._telemetry.pageId,e.index));case y.b.Type.cardMatchesNavigationButtonClick:return S.a.from(l._telemetry.gnarSpec.cardMatchesNavigationButtonClick(e.direction,l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.switchToClosestByViewport:return S.a.from(l._telemetry.gnarSpec.moreAlertsButtonClick(e.position,e.cardsAmount,l._telemetry.pageId));case y.b.Type.moreAlertsButtonShow:return S.a.from(l._telemetry.gnarSpec.moreAlertsButtonShow(e.position,e.cardsAmount,l._telemetry.pageId));case y.b.Type.fullSentenceHighlightChangesToggle:return S.a.from(l._telemetry.gnarSpec.fullSentenceCardHighlightChangesToggled(e.showChanges,l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.moreActionsButtonToggle:return"open"===e.mode?S.a.from(l._telemetry.gnarSpec.alertCardThreeDotsMenuClick(l._isFreePremiumAlert.get(),l._telemetry.pageId,l._telemetry.pageSessionId)):S.a.EMPTY;case y.b.Type.alertIgnore:return S.a.from(l._telemetry.gnarSpec.alertCardDismissClick(l._isFreePremiumAlert.get(),l._telemetry.pageId,Object(ve.pipe)(l._mutingAlertsReader,d.g.chain((function(t){return t.getAlertMuteCategory(e.alertId)})),d.g.map((function(e){return e.id})),d.g.getOrElse((function(){}))),l._telemetry.pageSessionId));case y.b.Type.muteAlertCategory:return S.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsCardTurnOffButtonClick(e.categoryId,l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.mutedAlertSuccessShow:return S.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsCardCategoryDeactivatedShow(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.undoMuteAlertCategory:return S.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsTurnBackOnButtonClick(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.mutedAlertSuggestionManagementClick:return S.a.from(l._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(l._telemetry.pageId,"undoPopup",l._telemetry.pageSessionId));case y.b.Type.muteQuotedAdviceShow:return S.a.from(l._telemetry.gnarSpec.muteQuotedAlertsNotificationShown(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.dismissMuteQuotedAdvice:return S.a.from(l._telemetry.gnarSpec.muteQuotedAlertsNotificationDismissed(l._telemetry.pageId,l._telemetry.pageSessionId));case y.b.Type.openPreferences:return S.a.from(l._telemetry.gnarSpec.muteQuotedAlertsSettingsOpened((l._telemetry.pageId,l._telemetry.pageSessionId)));case y.b.Type.alertIgnoreFormSubmit:return Boolean(e.reason)?S.a.EMPTY:S.a.from(l._telemetry.gnarSpec.feedbackFormCardFormSkipped((l._telemetry.pageId,l._telemetry.pageSessionId)));case y.b.Type.alertIgnoreFeedbackFormShow:return S.a.from(l._telemetry.gnarSpec.feedbackFormCardFormOpened((l._telemetry.pageId,l._telemetry.pageSessionId)));default:return S.a.EMPTY}})),S.a.merge(this._cardFeedbackFormDismissed),S.a.switchMap((function(e){return e.pipe(S.a.catchError((function(e){return Ut.warn("Card telemetry request failed",e),S.a.EMPTY})))}))).subscribe(),this._focusedCardObservable.pipe(S.a.distinctUntilChanged((function(e,t){return e.id===t.id})),S.a.switchMap((function(e){if(e.meta.checking===Ht.a.CheckingState.Full){var t=performance.now(),n=!1;return l._focusedCardObservable.pipe(S.a.first((function(e){return e.meta.checking!==Ht.a.CheckingState.Full})),S.a.tap((function(){Wt.getTimer("finished").recordTime(performance.now()-t),n=!0})),S.a.finalize((function(){n||Wt.getTimer("interrupted").recordTime(performance.now()-t)})))}return S.a.EMPTY}))).subscribe())}return Object(i.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}(),Gt=n("wxju"),qt=n("Jr5U"),Kt=n("6x3U"),$t=n("m1oj"),Zt=n("OMUe"),Yt=n("AvMM"),Xt=n("rOJn");(Rt||(Rt={})).updateCitationStyle=function(e,t,n){return function(r){var i=Object(ve.pipe)(e.defaultContext.get(),d.g.getOrElse((function(){return Xt.a.defaultContextFallback}))),a=Object(ve.pipe)(e.context.get(),Xt.a.OutcomeContext.withCitationStyle(r));if(Object(ve.pipe)(a,e.updateContext)){var o=t.enqueue("citationStyleChange",{citationStyle:r}).subscribe();return n.gnarSpec.goalsFormSuccess(Object(ve.pipe)(a.domain,d.g.getOrElse((function(){return i.domain}))),Object(ve.pipe)(a.goals,d.g.getOrElse((function(){return i.goals})),(function(e){return Array.from(e)})),n.pageId,"essayDetectionCard",Object(ve.pipe)(a.outcomeContext,d.g.map(He.e.pick("type")),d.g.toUndefined),void 0,Object(ve.pipe)(a.outcomeContext,d.g.map(He.e.pick("citation")),d.g.toUndefined),void 0),o}return S.a.EMPTY.subscribe()}};var Qt=n("wvT7"),Jt=n("CulD"),en=n("MK74"),tn=h.d.Logging.getLogger("ethicalAICardtelemetry"),nn=function(){function e(t,n,i,o,s,l,p,f){var h=this;Object(r.a)(this,e),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_cardActions",void 0),Object(a._)(this,"_lensState",void 0),Object(a._)(this,"_alertsReader",void 0),Object(a._)(this,"_alertUserEvents",void 0),Object(a._)(this,"_obsCapiClient",void 0),Object(a._)(this,"_checkingDomain",void 0),Object(a._)(this,"_alertsFilterService",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"_alertCardOrBundleTransitionedToRendered",void 0),Object(a._)(this,"_alertCardExpanded",void 0),Object(a._)(this,"_activeAlert",void 0),Object(a._)(this,"_alertHighlightClicked",void 0),this._telemetry=t,this._cardActions=n,this._lensState=i,this._alertsReader=o,this._alertUserEvents=s,this._obsCapiClient=l,this._checkingDomain=p,this._alertsFilterService=f,this._subs=new w.a.Keeper,this._alertCardOrBundleTransitionedToRendered=this._lensState.view((function(e){return Object(ve.pipe)(d.g.fromPredicate(_.e.hasItems)(e),d.g.map((function(e){return e.currentLens.items})),d.g.map((function(e){return e.filter(Object(m.p)(At.a.isAlertCard,At.a.isAlertsBundle))})),d.g.map((function(e){return e.filter((function(e){return"rendered"===e.visualState.transition.type}))})),d.g.map((function(e){return e.values()})))})).pipe(S.b.compact,S.a.startWith([]),S.a.pairwise(),S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1],i=new Set(n.map((function(e){return e.id})));return r.filter((function(e){return!i.has(e.id)}))})),S.a.mergeAll()),this._alertCardExpanded=this._cardActions.pipe(S.a.filter(y.a.isCardExpand),S.a.withLatestFrom(this._lensState),S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return Object(ve.pipe)(d.g.fromPredicate(_.e.hasItems)(r),d.g.chain((function(e){return e.currentLens.items.get(n.id)})))})),S.b.compact,S.a.pluck("value")),this._activeAlert=this._lensState.pipe(S.a.map(Object(u.flow)(d.g.fromPredicate(Object(m.b)(_.e.hasCards,At.a.hasItemUnion)),d.g.filter((function(e){return v.a.isMainLens(e.currentLens.id)})),d.g.chain((function(e){return At.a.getActiveItemWithAlert(e.currentLens)})),d.g.map((function(e){return e.activeAlert}))))),this._alertHighlightClicked=this._alertUserEvents.alertClicked.pipe(S.a.map(d.g.map((function(e){return e.alert}))),S.a.withLatestFrom(this._activeAlert),S.a.map(Object(u.flow)(Object(u.tupled)(Object(Qt.b)(d.g.option)),d.g.filter((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return n.id!==r.id})),d.g.map(Jt.b))),S.b.compact),this._subs.push(S.a.mergeStatic(this._obsCapiClient.events.pipe(S.a.filter(qe.a.CAPIEvent.is("alert_received")),S.a.map((function(e){return e.alert})),S.a.filter(en.A.isEthicalAI),S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAlertTriggered(h._telemetry.pageId,e._getSensitivityType(t.pname),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._checkingDomain.state.pipe(S.a.pairwise(),S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return Ve.a.diff(n,r)})),S.a.map(lt.a.foldMap(d.a.getMonoid())(Object(u.constant)(d.a.empty),Object(u.constant)(d.a.empty),(function(e){return[e]}))),S.a.filter(d.a.isNonEmpty),S.a.mergeAll(),S.a.map((function(e){return e.alert})),S.a.combineLatest(Ae.a.getAlertVisibleInTextFilter(this._alertsFilterService,this._lensState)),S.a.filter((function(e){var t=Object(c._)(e,2),n=t[0];return t[1].filter(n)})),S.a.map((function(e){return Object(c._)(e,1)[0].id})))).pipe(S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAlertUnderlineShow(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._alertHighlightClicked.pipe(S.a.filter(x.a.isEthicalAI),S.a.map((function(e){return e.id})))).pipe(S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAlertUnderlineClick(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._alertCardOrBundleTransitionedToRendered.pipe(S.a.filter(Ze.b.isEthicalAIItem),S.a.map((function(e){return e.activeAlert.id})))).pipe(S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAssistantMiniCardShow(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._cardActions.pipe(S.a.filter(y.b.isAlertCardShow),S.a.map((function(e){return e.alertId})))).pipe(S.a.debounceTime(300),S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardShow(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._cardActions.pipe(S.a.filter(y.b.isEthicalAIOpenExternalLinkAction),S.a.map((function(e){return e.alertId})))).pipe(S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardExternalLinkButtonClick(t.externalLink,h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._alertCardExpanded.pipe(S.a.filter(Ze.b.isEthicalAIItem),S.a.map((function(e){return e.activeAlert.id})))).pipe(S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardLearnMoreButtonClick(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))}))),this._getEthicalAIAlertObservable(this._cardActions.pipe(S.a.filter(y.b.isAlertIgnoreAction),S.a.map((function(e){return e.alertId})))).pipe(S.a.map((function(t){return S.a.from(h._telemetry.gnarSpec.ethicalAIAssistantFullCardDismissButtonClick(h._telemetry.pageId,e._getSensitivityType(t.patternName),h._telemetry.pageSessionId))})))).pipe(S.a.switchMap((function(e){return e.pipe(S.a.catchError((function(e){return tn.warn("EthicalAI card telemetry request failed",e),S.a.EMPTY})))}))).subscribe())}return Object(i.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"_getEthicalAIAlertObservable",value:function(e){return e.pipe(S.a.map(this._alertsReader.getById),S.b.compact,S.a.filter(b.a.isEthicalAI))}}],[{key:"_getSensitivityType",value:function(e){return e.split("/").slice(3).join("/")}}]),e}(),rn=n("55o/"),an=function(e){return{onShow:function(t){return e.gnarSpec.gbPromptFormShow(e.pageId,t,e.pageSessionId)},onAccept:function(t){return e.gnarSpec.gbPromptAcceptClick(e.pageId,t,e.pageSessionId)},onDismiss:function(t){return e.gnarSpec.gbPromptDismissClick(e.pageId,t,e.pageSessionId)}}},on=n("YyPR"),sn=n("KIX2"),cn=n("L4BC"),ln=n("zQvz"),un=n("000W"),dn=n("bQod"),pn=n("V+fo"),mn=n("uxqH"),fn=n("XlqH"),hn=function(){function e(t,n,i,c,l){var d=this;Object(r.a)(this,e),Object(a._)(this,"_lensesList",void 0),Object(a._)(this,"_documentModel",void 0),Object(a._)(this,"_features",void 0),Object(a._)(this,"_alertsFilterService",void 0),Object(a._)(this,"_lensViewMode",void 0),Object(a._)(this,"_transform",void 0),Object(a._)(this,"getLens",void 0),Object(a._)(this,"_outcomes",void 0),Object(a._)(this,"_previews",void 0),Object(a._)(this,"_isDocumentEmpty",void 0),Object(a._)(this,"_outcomeStatusMask",void 0),Object(a._)(this,"getPlagiarismLens",void 0),this._lensesList=t,this._documentModel=n,this._features=i,this._alertsFilterService=c,this._lensViewMode=l,this._transform=bn(vn(this._voxInfo)),this.getLens=Object(m.l)((function(e){switch(e){case v.a.SpecialId.AllAlerts:return this._lensesList.view(gn(v.a.Info.allAlerts,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.AllAlerts)));case v.a.SpecialId.PredictionTakeaways:return this._lensesList.view(gn(v.a.Info.predictionTakeaways,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.PredictionTakeaways)));case v.a.SpecialId.PredictionEmogenie:return this._lensesList.view(gn(v.a.Info.predictionEmogenie,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.PredictionEmogenie)));case v.a.SpecialId.Plagiarism:return this._lensesList.view(this.getPlagiarismLens);case v.a.SpecialId.Premium:return this._lensesList.view(gn(v.a.Info.premium,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.Premium)));case v.a.SpecialId.FreePremiumAlerts:return this._lensesList.view(gn(v.a.Info.freePremium,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(v.a.SpecialId.FreePremiumAlerts)));case v.a.SpecialId.Correctness:case v.a.SpecialId.Clarity:case v.a.SpecialId.Engagement:case v.a.SpecialId.Delivery:case v.a.SpecialId.Vox:case v.a.SpecialId.KnowledgeHub:return this._lensesList.view(gn(v.a.Info.createOutcome(e),v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));case v.a.SpecialId.RealTimeProofit:return this._lensesList.view(gn(v.a.Info.realTimeProofit,v.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));default:return Object(p.c)(e)}})),this._outcomes=[v.a.SpecialId.Correctness,v.a.SpecialId.Clarity,v.a.SpecialId.Engagement,v.a.SpecialId.Delivery,v.a.SpecialId.Vox],this._previews=Object(m.l)((function(){return dn.u(Object(pn.getFirstSemigroup)(),un.y)(d._outcomes,(function(e){return[e,d._getPreview(e)]}))})),this._isDocumentEmpty=this._documentModel.documentLength.view("full").view((function(e){return 0===e})),this._outcomeStatusMask=G.a.combine(this._isDocumentEmpty,this._features.isFree,(function(e,t){var n=0;return e&&(n|=fn.a.IsDocumentEmpty),t&&(n|=fn.a.IsFreeUser),n})),this.getPlagiarismLens=Object(u.flow)(gn(v.a.Info.plagiarism,Object(s._)(Object(o._)({},v.a.Meta.group.empty),{percentile:mn.b.MAX}),this._alertsFilterService.getLensesFilter(v.a.SpecialId.Plagiarism)),v.a.WithAlerts.modifyMeta((function(e){return Object(s._)(Object(o._)({},e),{percentile:mn.b.groupSum.concat(mn.b.MAX,mn.b.groupSum.inverse(e.percentile))})})))}return Object(i.a)(e,[{key:"_voxInfo",get:function(){return this._features.denali.voxInfo}},{key:"_getPreview",value:function(e){return this._transform(Object(o._)(Object(s._)(Object(o._)({},v.a.Info.base),{logo:d.g.none}),this._getOutcomeButtonData(e)))}},{key:"lensPreviews",get:function(){return this._previews()}},{key:"_getOutcomeButtonData",value:function(e){var t=this,n=this.getLens(e),r=n.get().title,i=n.get().type,a=G.a.combine(this._features.isFree.view((function(n){return v.a.isVox(e)&&d.g.isNone(t._voxInfo)||(v.a.isEngagement(e)||v.a.isDelivery(e))&&n})),n,(function(e,t){return 0===t.count&&e})),o=G.a.combine(n.view("count").view((function(e){return 0===e})),a,(function(t,n){return t&&!n||n&&v.a.isVox(e)})),s=Object(fn.b)(e),c=s.description,l=s.stateMessage,p=G.a.combine(this._isDocumentEmpty,o,n.view("percentile"),(function(e,t,n){return e?mn.b.MIN:t?mn.b.MAX:n})).view(mn.a.fromRatio),m=G.a.combine(this._documentModel.scoreStatus.view((function(e){return Object(ve.pipe)(e,d.g.map((function(e){return e===qe.a.Message.ScoresStatus.SENSITIVE})),d.g.getOrElse(u.constFalse))})),n,p,this._outcomeStatusMask,this._lensViewMode.view((function(t){return t(e)===_.h.allAlerts})),l);return{id:e,title:r,description:c,status:m,progress:p,isUnavailable:a,type:i}}}]),e}();function gn(e,t,n){return function(r){return new v.a.LensImpl(e,(i=e.id,a=t,function(e){return Object(ve.pipe)(d.e.lookup(v.a.Id.ord)(i,e),d.g.getOrElse((function(){return a})))})(r),n);var i,a}}var bn=function(e){return function(t){return v.a.isVox(t.id)?Object(s._)(Object(o._)({},t),{logo:e()}):t}},vn=function(e){return function(){return Object(ve.pipe)(e,d.g.chain((function(e){return e.logoUrl})))}},yn=n("jnnb"),On=n("how3"),_n=n("gEtV"),Cn=n("x1PS"),wn=n("NMQX"),Sn=n("8SdM"),kn=n("LzOy"),En=n("0Uv3"),jn=n("4tRT"),xn=n("0IPU");function An(e,t){return S.a.combineLatestStatic([e,t]).pipe(S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return n&&!r})))}function In(){return S.a.of(!0)}function Tn(){return S.a.of(!0)}function Mn(e){var t=e.getText();return Object(ve.pipe)(["Grammarly Premium can give you very helpful feedback on your writing. Passive voice can be fixed by Grammarly, and it can handle classical word-choice mistakes.","Grammarly Premium can give you very helpful feedback on your writing.","Passive voice can be fixed by Grammarly, and it can handle classical word-choice mistakes.","You'll find suggestions that can possibly help you revise a wordy sentence in an effortless manner."],d.a.findFirstMap((function(e){var n=t.indexOf(e);return n>-1?d.g.some({index:n,length:e.length}):d.g.none})))}function Pn(e,t,n,r,i,a,o,s,c){if(xt.j.isHidden(a))return[];var l=Object(u.constant)(o.pipe(S.b.compact,S.a.first(),S.a.mapTo(!0))),m=c.denali.showOnboardingTourA11yUpdates,f=m?function(e){return e.pipe(S.a.switchMap((function(e){return Object(ve.pipe)(e,d.g.fold((function(){return S.a.of(d.g.none)}),(function(e){return e.onboardingViewModels})))})),S.a.switchMap((function(e){return Object(ve.pipe)(e,d.g.fold((function(){return S.a.of(d.g.none)}),(function(e){return e.onboarding.activeStep})))}))).pipe(S.a.map((function(e){return Object(ve.pipe)(e,d.g.fold((function(){return!1}),(function(e){var t;return"initial"===e.name||"initialBTS"===(null===(t=e)||void 0===t?void 0:t.name)})))})))}(s):S.a.of(!1),h={id:pt.a.StepId.Step14,switch:l,gnarName:"Ideas card",skipDot:!0},g={id:pt.a.StepId.Step15,switch:l,gnarName:"Ideas phrase click",skipDot:!0},b={id:pt.a.StepId.Synfony,switch:function(){return n.pipe(S.a.map(_.e.getActiveAlert(i)),S.a.filter(d.g.exists(x.a.isSynfony)),S.a.mapTo(!0))},gnarName:"Synfony drilldown",skipDot:m,isLastStep:!0},v={id:pt.a.StepId.Step11,switch:function(){return function(e,t){return e.view((function(e){return _.e.isSidebarOpened(e)&&d.g.isNone(_.e.getActiveItem(t)(e))})).pipe(S.a.first())}(n,i)},gnarName:"Step 1: Select active card",skipDot:m},y={id:pt.a.StepId.Step4,switch:function(){return An(function(e,t,n){return e.view((function(e){return _.e.isLensview(e)&&e.currentLens.kind===_.f.persistent&&Object(ve.pipe)(e,_.e.getActiveAlert(n),d.g.exists((function(e){return t.isRegistered(e.id)&&x.a.isDefault(e)&&d.g.isSome(e.getTransform())})))}))}(n,r,i),f)},gnarName:"Step 2: Apply alert",skipDot:m},O={id:pt.a.StepId.GrammarlyGORewrite,switch:function(){return function(e,t){return e.pipe(S.a.switchMap(d.g.mapOrDefault((function(e){return e.navigation.isActive.pipe(S.a.map((function(e){return!e&&d.g.isSome(Mn(t))})))}),S.a.of(!1))))}(s,e)},gnarName:"Step 3: Click GrammarlyGO Rewrite",skipDot:m,prepareStep:function(){return Object(ve.pipe)(s.get(),d.g.chain((function(e){var t=e.navigation;return d.g.fromPredicate(Boolean)(!t.isActive.get())})),d.g.chain((function(){return Mn(e)})),d.g.tap((function(t){var n=t.index,r=t.length;e.setCursor(n,r)})),d.g.fold(u.constFalse,u.constTrue))}},C={id:pt.a.StepId.GrammarlyGOIdeationAssistant,switch:function(){return An(function(e){return e.pipe(S.a.switchMap(d.g.mapOrDefault((function(e){return e.navigation.isActive.pipe(S.a.map((function(e){return!e})))}),S.a.of(!1))))}(s),f)},gnarName:"Step 4: Open GrammarlyGO Ideation Assistant",skipDot:m},w={id:pt.a.StepId.Step1,switch:function(){return An(S.a.of(!0),f)},gnarName:"Step 5: Open Set Goals",skipDot:m},E={id:pt.a.StepId.Step8,switch:function(){return An(S.a.of(!0),f)},gnarName:"Step 6: Open Performance",skipDot:m},j={id:pt.a.StepId.Step9,switch:function(){return n=e.contentUpdated.pipe(S.a.mapTo(k.b.voidValue)),r=t.checkingState,S.a.from(r.pipe(S.a.filter((function(e){return"idle"===e})),S.a.first(),S.a.mapTo(!0))).pipe(S.a.merge(n.pipe(S.a.first(),S.a.mapTo(!1))));var n,r},gnarName:"Step 7: See synonyms",skipDot:m},A={id:pt.a.StepId.Step10,switch:In,gnarName:"Step 8: Open left sidebar",skipDot:m},I={id:pt.a.StepId.DocumentTitle,switch:Tn,gnarName:"Step 9: Edit title",skipDot:m};switch(a.content){case xt.j.Content.IdeasOnly:return[h,g];case xt.j.Content.SynfonyOnly:return[b];case xt.j.Content.WithoutInlineCards:return[y,O,C,w,E,A,I,b];case xt.j.Content.Full:return[v,y,O,C,w,E,j,A,I,b];default:return Object(p.c)(a)}}var Nn=[xn.a.Popup,xn.a.Popover];function Bn(e,t,n){e.modify((function(e){var r=e.slice(0);return r[t]=n,r}))}var Ln=function(){function e(t,n,i,o,s,c,l,p,f,g,b,v){var y=this;Object(r.a)(this,e),Object(a._)(this,"_settings",void 0),Object(a._)(this,"_state",void 0),Object(a._)(this,"_ded",void 0),Object(a._)(this,"_sessionChecksModel",void 0),Object(a._)(this,"_alertsReader",void 0),Object(a._)(this,"_mode",void 0),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_draftAIEditorViewModel",void 0),Object(a._)(this,"_getActiveItemWithAlert",void 0),Object(a._)(this,"_getFirstTargetRect",void 0),Object(a._)(this,"_cheetahViewModel",void 0),Object(a._)(this,"_features",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_steps",void 0),Object(a._)(this,"_stepsByIdx",void 0),Object(a._)(this,"_switches",void 0),Object(a._)(this,"_states",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"_stepsSubscriptions",void 0),Object(a._)(this,"_enableState",void 0),Object(a._)(this,"getFirstTargetRect",void 0),Object(a._)(this,"completionTrigger",void 0),Object(a._)(this,"_isPopup",void 0),Object(a._)(this,"_addStep",void 0),this._settings=t,this._state=n,this._ded=i,this._sessionChecksModel=o,this._alertsReader=s,this._mode=c,this._telemetry=l,this._draftAIEditorViewModel=p,this._getActiveItemWithAlert=f,this._getFirstTargetRect=g,this._cheetahViewModel=b,this._features=v,this._log=h.d.Logging.getLogger("OnboardingViewModelImpl",h.a.LogLevel.TRACE),this._steps={},this._stepsByIdx=new Array,this._switches=G.a.create([]),this._states=G.a.create([]),this._subs=[],this._stepsSubscriptions=[],this._enableState=G.a.create(!0),this.getFirstTargetRect=this._getFirstTargetRect,this.completionTrigger=this._state.view(_.e.getActiveItem(this._getActiveItemWithAlert)).view(d.g.isSome),this._isPopup=function(e){return Nn.includes(e)},this._addStep=function(e,t,n){Bn(y._switches,t,!1);var r=y._states.lens(jn.a.index(t).compose(jn.a.withDefault("dummy")));Bn(y._states,t,n.has(e.id)?xn.a.Passed:xn.a.Hidden),y._steps[e.id]={state:r,idx:t,gnarName:e.gnarName,isLastStep:e.isLastStep},y._stepsByIdx[t]=e,y._stepsSubscriptions.push(e.switch().pipe(S.a.combineLatest(y._enableState,(function(e,t){return e&&t}))).subscribe((function(e){return Bn(y._switches,t,e)}),(function(e){y._log.error("onboarding malfunction",e),Bn(y._states,t,xn.a.Passed)})))};var O=xt.j.isForced(c)?new Set:new Set(this._settings.onboardingPassed.get());this._initSteps(O),this._subs.push(this._switches.pipe(S.a.debounceTime(500)).subscribe((function(e){return y._updateStates()}))),this._subs.push(this._states.pipe(S.a.skip(1)).subscribe((function(e){return y._settings.updateOnboardingPassed(Object.keys(y._steps).filter((function(t){return e[y._steps[t].idx]===xn.a.Passed})))}))),this._log.isEnabled(h.a.LogLevel.TRACE)&&this._subs.push(this._states.subscribe((function(e){return y._log.debug("Onboarding states updated: "+e.join(", "))}))),Object(m.r)("fireOnboardingStep",(function(e,t){return Object(u.pipe)(d.g.fromNullable(y._steps[e]),d.g.fold((function(){return console.info("No such step "+e)}),(function(e){return e.state.set(t)})))})),Object(m.r)("onboardingState",this)}return Object(i.a)(e,[{key:"_initSteps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,t=this;this._stepsSubscriptions.forEach((function(e){return e.unsubscribe()})),this._stepsSubscriptions=[],Pn(this._ded,this._sessionChecksModel,this._state,this._alertsReader,this._getActiveItemWithAlert,this._mode,this._draftAIEditorViewModel,this._cheetahViewModel,this._features).forEach((function(n,r){return t._addStep(n,r,e)}))}},{key:"isLastStep",value:function(e){return Boolean(this._steps[e].isLastStep)}},{key:"isStepEnabled",value:function(e){return void 0!==this._steps[e]}},{key:"subscribeForStep",value:function(e){var t=this,n=this._steps[e],r=n.state,i=n.gnarName;if(void 0===r)throw new Error("Illegal onboarding step id "+e);return{id:e,state:r,dotShown:function(){t._telemetry.gnarSpec.onboardingStepDotOnboardingShow(t._telemetry.pageId,i)},dotClicked:function(){Object(p.f)(r.get()===xn.a.Dot,"Should be in dot state"),t._log.info("Dot clicked for: "+e),r.set(xn.a.Popup),t._telemetry.gnarSpec.onboardingStepOnboardingPass(t._telemetry.pageId,i)},popupIgnored:function(){Object(p.f)(t._isPopup(r.get()),"Should be in popup state"),t._log.info("Popup ignored for: "+e),r.set(xn.a.Hidden),t._updateStates()},popupClosed:function(){Object(p.f)(t._isPopup(r.get()),"Should be in popup state"),t._log.info("Popup closed for: "+e),r.set(xn.a.Passed),t._updateStates()},actionTaken:function(){Object(p.f)(t._isPopup(r.get())||r.get()===xn.a.Dot,"Should be in popup or dot state"),t._log.info("Action taken for: "+e),r.set(xn.a.Passed),t._updateStates(),t._telemetry.gnarSpec.onboardingStepOnboardingPass(t._telemetry.pageId,i)}}}},{key:"unsubscribe",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._stepsSubscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"getStepCompletionCallback",value:function(e){var t=this;return function(){if(t.isStepEnabled(e)){var n=t.subscribeForStep(e),r=n.state.get();(r===xn.a.Dot||t._isPopup(r))&&n.actionTaken()}}}},{key:"changeState",value:function(e){this._enableState.set(e)}},{key:"relaunchAllSteps",value:function(){this._initSteps()}},{key:"_updateStates",value:function(){var e=this;return Object(kn.a)((function(){var t,n,r,i,a,o,s,c,l;return Object(En.c)(this,(function(u){switch(u.label){case 0:return[4,Object(m.s)(500)];case 1:for(u.sent(),t=e._switches.get(),e._log.debug("Onboarding switches updated "+t),n=e._states.get().slice(),t.forEach((function(e,t){e||n[t]===xn.a.Hidden||n[t]===xn.a.Passed||(n[t]=xn.a.Hidden)})),r=n.filter((function(t){return e._isPopup(t)||t===xn.a.Dot})).length,i=Math.max(0,1-r),a=0;a<n.length&&!(i<=0);++a)if(n[a]===xn.a.Hidden&&t[a]){if(!(null===(c=null===(o=(s=e._stepsByIdx[a]).prepareStep)||void 0===o?void 0:o.call(s))||void 0===c||c)){n[a]=xn.a.Hidden;continue}e._stepsByIdx[a].skipDot?n[a]=e._features.denali.showOnboardingTourA11yUpdates?xn.a.Popover:xn.a.Popup:n[a]=xn.a.Dot,i--}return l=n.filter((function(t){return e._isPopup(t)||t===xn.a.Dot})).length,Object(p.f)(l<=1,"Should be only ".concat(1," popups and dots visible, now ").concat(l)),e._states.set(n),[2]}}))}))()}}]),e}(),Fn=n("4yB1"),Rn=n("zRh/");function Dn(e){return"lensesSwitchPanel"===e.type}var Hn,Vn,Un,Wn,zn,Gn,qn,Kn=function(){function e(t,n,i){var o=this;Object(r.a)(this,e),Object(a._)(this,"_lensSwitchPanel",G.a.create(d.g.none)),Object(a._)(this,"_subs",new w.a.Keeper),this._subs.push(t.state.pipe(S.a.startWith(T.a.empty),S.a.pairwise(),S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return T.a.diff(n,r)})),S.a.tap(lt.a.forEach((function(e){Dn(e.content)&&o._lensSwitchPanel.set(d.g.none)}),(function(e,t){Dn(t.content)&&o._lensSwitchPanel.set(d.g.some(t.content))}),(function(e){Dn(e.content)&&o._lensSwitchPanel.set(d.g.some(e.content))})))).subscribe(),S.a.combineLatestStatic([n,this._lensSwitchPanel]).pipe(S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return Object(u.pipe)(n,d.g.fromPredicate(v.a.isWithAlertsId),d.g.chain(Hn.outcomeIdToSDUIKind),d.g.chain((function(e){return Object(u.pipe)(r,d.g.chainNullableK((function(t){return t.lensSwitchButtons.find((function(t){return t.kind===e}))})),d.g.map((function(e){return e.onClickActions})),d.g.tap((function(e){requestAnimationFrame((function(){i.next({type:y.b.Type.sduiCardAction,sourceId:"native",cardId:"",actions:e,scope:{alertRefs:[]}})}))})))})))}))).subscribe())}return Object(i.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}();Vn=Hn||(Hn={}),zn=function(e){return d.g.fromNullable(Gn[e])},Un={},Object(a._)(Un,v.a.SpecialId.AllAlerts,de.a.LensKind.AllSuggestions),Object(a._)(Un,v.a.SpecialId.Correctness,de.a.LensKind.Correctness),Object(a._)(Un,v.a.SpecialId.Clarity,de.a.LensKind.Clarity),Object(a._)(Un,v.a.SpecialId.Delivery,de.a.LensKind.Delivery),Object(a._)(Un,v.a.SpecialId.Engagement,de.a.LensKind.Engagement),Object(a._)(Un,v.a.SpecialId.Vox,de.a.LensKind.StyleGuide),Gn=Un,Wn={},Object(a._)(Wn,v.a.SpecialId.AllAlerts,j.a.Item.Id.from("lens-all-suggestions-feed")),Object(a._)(Wn,v.a.SpecialId.Correctness,j.a.Item.Id.from("lens-correctness-feed")),Object(a._)(Wn,v.a.SpecialId.Clarity,j.a.Item.Id.from("lens-clarity-feed")),Object(a._)(Wn,v.a.SpecialId.Delivery,j.a.Item.Id.from("lens-delivery-feed")),Object(a._)(Wn,v.a.SpecialId.Engagement,j.a.Item.Id.from("lens-engagement-feed")),Object(a._)(Wn,v.a.SpecialId.Vox,j.a.Item.Id.from("lens-style-guide-feed")),qn=Wn,Vn.outcomeIdToSDUIKind=zn,Vn.outcomeIdToFeedId=function(e){return d.g.fromNullable(qn[e])},Vn.isSDUIVisibleOutcomesLens=function(e){return Object(u.pipe)(e,d.g.fromPredicate(v.a.isWithAlertsId),d.g.chain(zn),d.g.isSome)};var $n=n("fn2K"),Zn=n("mDV6"),Yn=n("CA3N"),Xn=Object(m.l)(h.d.Logging.getLogger);function Qn(e,t,n,r,i,a,o,s){return{id:"successSwitcher",when:v.a.isMainLens,what:_.e.Effect.SwitchLens.create(e.pipe(S.a.combineLatest(Object(ve.pipe)(t.checkingState,S.a.map((function(e){return"full"!==e}))),(function(e,t){return At.a.isInGlobalSuccess(e)&&"sidebar"!==e.alertSource&&t})),S.a.distinctUntilChanged(),S.a.filter(u.identity),S.a.switchMapTo(t.counters.pipe(S.a.map((function(e){return e.critical+e.advanced>0})),S.a.filter(Boolean),S.a.switchMap(k.b.Scheduler.rafScheduler),S.a.map((function(){var e=s.get(),t=r.getLens(e).get(),i=r.getLens(v.a.SpecialId.Premium).get();return n(t)?d.g.some(e):n(i)?d.g.some(v.a.SpecialId.Premium):d.g.none})),S.b.compact,S.a.first(),S.a.filter(Object(u.not)(v.a.isMainLens)),S.a.filter((function(e){return!(e===v.a.SpecialId.Premium&&d.g.isSome(o.denali.gbUpHook.get()))})),S.a.map((function(e){Xn("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=d.g.isSome(i.state.get());return{lensId:e,alertSource:t?_.c.forceSidebar:_.c.forceText,options:{order:"lensOrder",toFocus:t||!v.a.isMainLens(e)||a.get()?_.e.Effect.FocusBehavior.focusFirst:_.e.Effect.FocusBehavior.noFocus}}}))))))}}function Jn(e,t,n,r,i,a,o,s){return{id:"createFreePremiumSwitcherSideEffect",when:function(e){return e===v.a.SpecialId.FreePremiumAlerts},what:_.e.Effect.SwitchLens.create(e.pipe(S.a.combineLatest(Object(ve.pipe)(t.checkingState,S.a.map((function(e){return"full"!==e}))),(function(e,t){return v.a.isFreePremiumId(e.currentLens.id)&&t})),S.a.distinctUntilChanged(),S.a.filter(u.identity),S.a.switchMapTo(t.counters.pipe(S.a.map((function(e){return 0===e.freePremium})),S.a.filter(Boolean),S.a.switchMap(k.b.Scheduler.rafScheduler),S.a.map((function(){var e=s.get(),t=r.getLens(v.a.SpecialId.Premium).get();return n(t)?d.g.some(v.a.SpecialId.Premium):d.g.some(e)})),S.b.compact,S.a.first(),S.a.filter((function(e){return!(e===v.a.SpecialId.Premium&&d.g.isSome(o.denali.gbUpHook.get()))})),S.a.map((function(e){Xn("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=d.g.isSome(i.state.get());return{lensId:e,alertSource:t?_.c.forceSidebar:_.c.forceText,options:{order:"lensOrder",toFocus:t||!v.a.isMainLens(e)||a.get()?_.e.Effect.FocusBehavior.focusFirst:_.e.Effect.FocusBehavior.noFocus}}}))))))}}function er(e,t,n,r,i,a,o){return{id:"createPremiumToFreePremiumSwitcherSideEffect",when:function(e){return e===v.a.SpecialId.Premium},what:_.e.Effect.SwitchLens.create(e.pipe(S.a.combineLatest(Object(ve.pipe)(t.checkingState,S.a.map((function(e){return"full"!==e}))),(function(e,t){return v.a.isPremiumId(e.currentLens.id)&&t})),S.a.distinctUntilChanged(),S.a.filter(u.identity),S.a.switchMapTo(t.counters.pipe(S.a.filter((function(e){return e.freePremium>0})),S.a.switchMap(k.b.Scheduler.rafScheduler),S.a.map((function(){var e=o.get(),t=r.getLens(v.a.SpecialId.FreePremiumAlerts).get();return n(t)?v.a.SpecialId.FreePremiumAlerts:e})),S.a.first(),S.a.map((function(e){Xn("sideEffects.successSwitcher").debug("Switching from success to "+e);var t=d.g.isSome(i.state.get());return{lensId:e,alertSource:t?_.c.forceSidebar:_.c.forceText,options:{order:"lensOrder",toFocus:t||!v.a.isMainLens(e)||a.get()?_.e.Effect.FocusBehavior.focusFirst:_.e.Effect.FocusBehavior.noFocus}}}))))))}}function tr(e,t,n){return{id:"textPasteSideEffect",when:e,what:_.e.Effect.Applicator.create(t.pipe(S.a.tap(n),S.a.switchMapTo(S.a.NEVER)))}}var nr=function(e,t){return{id:"textPasteSideEffect",when:u.constTrue,what:_.e.Effect.Applicator.create(e.changes.pipe(S.a.map((function(){return e.getTextLength()})),S.a.distinctUntilChanged(),S.a.throttleTime(t),S.a.tap((function(e){h.d.TimeSeries.rootFemetrics.getTimer("text_length").recordTime(e)})),S.a.switchMapTo(S.a.NEVER)))}};var rr;function ir(e,t,n,r,i,a,s,l){var p,m=t.features,f=t.settings,h=Object(ve.pipe)(s,S.a.pairwise(),S.a.filter((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return!v.a.isPremiumId(n)&&v.a.isPremiumId(r)}))),g=Object(ve.pipe)(e.getLens(l.get()).pipe(S.a.map((function(e){return e.count})),S.a.pairwise(),S.a.filter((function(e){var t=Object(c._)(e,2),n=t[0];return 0===t[1]&&n>0})),S.a.delay(1500)),S.a.map((function(){return m.denali.gbUpHook.get()})),S.a.map(d.g.filter(Object(u.not)((function(e){return e.appearancesInLastThreeDays||e.dismissCount>=2||e.dismissedInLastSevenDays})))),S.b.compact,S.a.switchMap((function(e){return Object(ve.pipe)(n.enqueue("gbUpHook",Object(o._)({},e)),S.a.map((function(t){return[t,e]})),S.a.takeUntil(h),S.a.takeWhile(Object(u.not)((function(e){var t=Object(c._)(e,1)[0];return jt.a.isCloseAction(t)||"shown"!==t})),!0))})),S.a.tap((p=Object(kn.a)((function(e){var t,n,o;return Object(En.c)(this,(function(s){switch(s.label){case 0:switch(t=Object(c._)(e,2),n=t[0],o=t[1],n){case"shown":return[3,1];case"dismiss":return[3,3];case"cta":return[3,5]}return[3,6];case 1:return r.gnarSpec.getGBButtonShow(o.type,n,r.pageId,"documentPopup"),[4,f.gbUpHookSeen(o.type)];case 2:return s.sent(),[3,7];case 3:return r.gnarSpec.getGBDismissButtonClick(o.type,n,r.pageId,"documentPopup"),[4,f.dismissGBUpHook(o.type)];case 4:return s.sent(),[3,7];case 5:return r.gnarSpec.getGBButtonClick(o.type,n,r.pageId,"documentPopup"),a.actions.openPopup(i.fromGbUpHookNotification(o.type)),[3,7];case 6:case 7:return[2]}}))})),function(e){return p.apply(this,arguments)})));return{id:"openGBUpHook",when:_.e.Effect.When.isSidebarOpen,what:_.e.Effect.Applicator.create(g.pipe(S.a.switchMapTo(S.a.NEVER)))}}function ar(e,t,n){return{id:"SDUIItemRemoveSideEffect",when:v.a.isWithAlertsId,what:_.e.Effect.Applicator.create(S.a.mergeStatic(e.pipe(S.a.map((function(){return function(e){return Object(ve.pipe)(e.currentLens.id,Hn.outcomeIdToSDUIKind,d.g.map((function(){return _.e.Prism.getLens().compose(C.a.Prism.items).set(e.currentLens.items.clear(),e)})),d.g.getOrElse(Object(u.constant)(e)))}}))),t.pipe(S.a.switchMap((function(e){return e.feed.pipe(S.a.map((function(e){return function(t){var r=Object(ve.pipe)(e.cards,lt.a.reduce([],(function(e,r){return Object(ve.pipe)(t.currentLens.items.get(r.id),d.g.map(He.e.pick("value")),d.g.filter(Object(m.p)(Object(u.not)(Zn.a.isAnimatable),Object(u.not)(Zn.a.isAnimatingRemoval))),d.g.map(n.remove(u.constTrue,u.constTrue)),d.g.fold((function(){return e}),(function(t){return e.push(t),e})))}),u.identity,u.identity));if(r.length>0){var i=t.currentLens.items.add(r);return _.e.Prism.getLens().compose(C.a.Prism.items).set(i,t)}return t}})))})))))}}!function(e){e.defaultNextLensPredicate=function(e){return e.count>0}}(rr||(rr={}));var or=n("cZ4c"),sr=h.d.Logging.getLogger("synfonyTelemetry"),cr=function(e){return e.map((function(e){return e.text})).join()},lr=function(){function e(t,n,i,s){var c=this;Object(r.a)(this,e),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_cardActions",void 0),Object(a._)(this,"_lensState",void 0),Object(a._)(this,"_activeAlertGetter",void 0),Object(a._)(this,"_subs",void 0),this._telemetry=t,this._cardActions=n,this._lensState=i,this._activeAlertGetter=s,this._subs=new w.a.Keeper,this._subs.push(this._cardActions.pipe(S.a.map((function(e){return Object(ve.pipe)(c._lensState.get(),(function(t){return Object(ve.pipe)(t,y.b.isAlertIgnoreAction(e)?Object(u.flow)(d.g.fromPredicate(_.e.hasItems),d.g.chain((function(t){return Ue.a.get(t.currentLens.items,e.id,Ze.b.isSynfonyItem)})),d.g.map((function(e){return e.value}))):_.e.getActiveItem(c._activeAlertGetter))}),d.g.filter(Le.a.isSynfonyView),d.g.chain((function(t){return Object(ve.pipe)(t.transform,d.g.map((function(n){return Object(o._)({transform:n,event:e,selection:d.g.getOrElse((function(){return[]}))(t.synfonySelection)},or.d.getSelectedItems(n,d.g.toUndefined(t.synfonySelection)))})))})))})),S.b.compact,S.a.map((function(e){var t=e.event,n=e.selection,r=e.transform,i=e.activeLabels;switch(t.type){case y.b.Type.alertApply:return c._telemetry.gnarSpec.synonymAcceptButtonClick(t.alternativeIndex,n.length+1,i.length,cr(r.original),c._telemetry.pageId,cr(Object(ve.pipe)(i.filter((function(e){return e.alternativeId===t.alternativeIndex})),d.a.head,d.g.map((function(e){return e.label})),d.g.getOrElse((function(){return[]})))));case y.b.Type.alertIgnore:return c._telemetry.gnarSpec.synonymCardDismiss(i.length,cr(r.original),c._telemetry.pageId);case y.f.Kind.drilldown:return c._telemetry.gnarSpec.synonymDeepDiveClick(n.length+2,cr(r.original),c._telemetry.pageId,cr(i[t.wordIndex].label));default:return null}})),S.a.catchError((function(e){return sr.warn("Card telemetry request failed",e),S.a.EMPTY}))).subscribe())}return Object(i.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}(),ur=n("/u+j"),dr=n("mybP"),pr=n("caai"),mr=function(){function e(t,n,i,o,s,c,l,p,m){var f=this;Object(r.a)(this,e),Object(a._)(this,"_capiEvents",void 0),Object(a._)(this,"_denaliEditorModel",void 0),Object(a._)(this,"_alertsService",void 0),Object(a._)(this,"_checkingState",void 0),Object(a._)(this,"_alertsFilterService",void 0),Object(a._)(this,"_activeLensId",void 0),Object(a._)(this,"_marksVM",void 0),Object(a._)(this,"_inlineManager",void 0),Object(a._)(this,"_isAssistantMode",void 0),Object(a._)(this,"items",void 0),Object(a._)(this,"highlightedVbarAlert",void 0),Object(a._)(this,"alertClickedInAssistantMode",void 0),Object(a._)(this,"isVisibleFeedbackModal",void 0),Object(a._)(this,"_sub",void 0),Object(a._)(this,"_mountedFeedbacks",void 0),Object(a._)(this,"_sendFeedback",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_activeVbarProxy",void 0),this._capiEvents=t,this._denaliEditorModel=n,this._alertsService=i,this._checkingState=o,this._alertsFilterService=s,this._activeLensId=c,this._marksVM=l,this._inlineManager=p,this._isAssistantMode=m,this.items=G.a.create([]),this.highlightedVbarAlert=new S.a.Subject,this.alertClickedInAssistantMode=new S.a.Subject,this.isVisibleFeedbackModal=G.a.create(d.g.none),this._sub=new S.a.Subscription,this._mountedFeedbacks=new Set,this._sendFeedback=function(e,t){return Object(u.pipe)(f._alertsService.applyFeedback(e,t,b.b.text),d.b.fold((function(e){return f._log.error("error sending alert feedback",e)}),u.constVoid))},this._log=h.d.Logging.getLogger("VbarsViewModelImpl",h.a.LogLevel.DEBUG),this._activeVbarProxy=G.a.create(d.g.none),this._sub.add(this._inlineManager.activeVbar.subscribe(k.b.toAtom(this._activeVbarProxy))),this._sub.add(this._createVbarActivationSub()),this._sub.add(this._createVbarItemsSub()),this._sub.add(this._createCAPISub())}return Object(i.a)(e,[{key:"applyAlert",value:function(e){var t=this;setTimeout((function(){return t.onVbarClose()}),0),Object(u.pipe)(this._alertsService.apply(e,{alternativeIndex:0,source:b.b.text,feedbackSubtype:qe.a.FeedbackSubtype.Vbar}),d.b.fold((function(e){return t._log.error("error applying alert",e)}),u.constVoid))}},{key:"dismissAlert",value:function(e){var t=this;setTimeout((function(){return t.onVbarClose()}),0),Object(u.pipe)(this._alertsService.dismissBatch([e],qe.a.FeedbackSubtype.Vbar),d.b.fold((function(e){return t._log.error("error dismissing alert",e)}),u.constVoid))}},{key:"toggleVbarHighlighting",value:function(e,t){var n=this.items.get().find((function(t){return t.alert.id===e}));t?n&&this.highlightedVbarAlert.next(d.g.some(n.alert)):this.highlightedVbarAlert.next(d.g.none)}},{key:"onVbarClick",value:function(e){var t,n=this;this._isAssistantMode.get()?(Object(u.pipe)(this.items.get(),d.a.findFirst((function(t){return t.alert.id===e})),d.g.fold((function(){return n._log.error("Vbar item not found on click in assistant mode")}),(function(e){return n.alertClickedInAssistantMode.next(d.g.some({highlightIndex:0,alert:e.alert}))}))),this._inlineManager.changeActiveVbar.next(d.g.none)):this._inlineManager.changeActiveVbar.next(d.g.some({alertId:e,state:"opened"})),null===(t=this.items.get().find((function(t){return t.alert.id===e})))||void 0===t||t.hoveringService.reset()}},{key:"onVbarMount",value:function(e){var t=this.items.get().find((function(t){return t.alert.id===e}));t&&!this._mountedFeedbacks.has(e)&&(this._sendFeedback(t.alert.id,{kind:qe.a.AlertFeedbackType.RENDERED,subtype:qe.a.FeedbackSubtype.Vbar}),this._mountedFeedbacks.add(e))}},{key:"onVbarMouseEnter",value:function(e){var t=this.items.get().find((function(t){return t.alert.id===e}));t&&(this._sendFeedback(t.alert.id,{kind:qe.a.AlertFeedbackType.LOOKED,subtype:qe.a.FeedbackSubtype.Vbar}),t.hoveringService.htmlElementHandlers.onMouseEnter())}},{key:"onVbarMouseLeave",value:function(e){var t=this.items.get().find((function(t){return t.alert.id===e}));t&&t.hoveringService.htmlElementHandlers.onMouseLeave()}},{key:"onVbarClose",value:function(){this._inlineManager.changeActiveVbar.next(d.g.none)}},{key:"onGiveFeedbackClick",value:function(e){var t=d.g.fromNullable(this.items.get().find((function(t){return t.alert.id===e})));this.isVisibleFeedbackModal.set(Object(u.pipe)(t,d.g.map((function(e){return e.alert}))))}},{key:"onCloseFeedbackModal",value:function(){this.isVisibleFeedbackModal.set(d.g.none)}},{key:"submitFeedback",value:function(e,t){return this.isVisibleFeedbackModal.set(d.g.none),this._sendFeedback(e,{kind:qe.a.AlertFeedbackType.USER_SATISFACTION_FEEDBACK,subtype:qe.a.FeedbackSubtype.Vbar,userSatisfactionDescription:t.detailed}),Promise.resolve()}},{key:"dispose",value:function(){this.highlightedVbarAlert.complete(),this._sub.unsubscribe(),this.items.get().forEach((function(e){return e.hoveringService.reset()}))}},{key:"_createVbarActivationSub",value:function(){var e=this;return this._inlineManager.activeVbar.subscribe((function(t){Object(u.pipe)(t,d.g.fold((function(){e.highlightedVbarAlert.next(d.g.none),e.items.modify((function(e){return e.map((function(e){return Object(s._)(Object(o._)({},e),{state:"visible"})}))}))}),(function(t){var n=e.items.get().findIndex((function(e){return e.alert.id===t.alertId})),r=e.items.get()[n];n>-1&&(e.highlightedVbarAlert.next(d.g.some(r.alert)),e.items.modify((function(e){return e.map((function(e,r){return r===n?Object(s._)(Object(o._)({},e),{state:t.state}):Object(s._)(Object(o._)({},e),{state:"visible"})}))})))})))}))}},{key:"_updateItems",value:function(e,t){var n=this;Object(u.pipe)(this._denaliEditorModel.contentRect,d.g.tap((function(r){var i,a,c,l=function(e,t,n,r){return Object(u.pipe)(e,Object(f.ub)((function(e){return Object(u.pipe)(e.highlightTexts,Object(f.vb)((function(n){return t.getMarkByAlert({alert:e,highlightIndex:n})})),(function(n){return n.concat(t.getEnclosingMarkByAlert(e))}),f.B,(function(e){var t={left:Number.MAX_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER};return Object(u.pipe)(e,Object(f.ub)((function(e){return d.g.fromEither(e.getRect())})),f.B,Object(f.w)((function(e){return e.clientRects})),Object(f.Fb)(t,(function(e,t){return{left:Math.min(t.left-n.left,e.left),top:Math.min(t.top-n.top,e.top),bottom:Math.max(t.top-n.top+t.height,e.bottom)}})))}),(function(t){return Object(s._)(Object(o._)({},t),{alert:e,state:"visible",mode:"replacement",withSticker:r})}))})))}(e,n._marksVM,r,!t);n.items.modify((i=l,a=n._inlineManager,c=n._activeVbarProxy.view(),function(e){var t=[];return i.forEach((function(n){var r=e.find((function(e){return e.alert.id===n.alert.id}));r?t.push(Object(s._)(Object(o._)({},n),{state:r.state,hoveringService:r.hoveringService})):t.push(Object(s._)(Object(o._)({},n),{hoveringService:Object(pr.a)({onHover:function(){Object(u.pipe)(c.get(),d.g.forAll((function(e){return"opened"!==e.state})))&&a.changeActiveVbar.next(d.g.some({alertId:n.alert.id,state:"hovered"}))},onBlur:function(){Object(u.pipe)(c.get(),d.g.fold((function(){return a.changeActiveVbar.next(d.g.none)}),(function(e){e.alertId===n.alert.id&&a.changeActiveVbar.next(d.g.none)})))}},100,300)}))})),t}))})))}},{key:"_createVbarItemsSub",value:function(){var e,t,n,r,i=this;return S.a.combineLatestStatic([(e=this._checkingState,t=this._activeLensId,n=this._alertsFilterService,r=G.a.combine(e,t,(function(e,t){return{checking:e,lensId:t}})),r.view(Object(u.flow)((function(e){var t=e.checking,r=e.lensId;return Object(u.pipe)(t,Ve.a.reduce([],(function(e,t){var i=t.alert,a=Object(m.b)(b.a.isWritingExpert,n.alertVisibleInText(r));return a(i)?Object(l.a)(e).concat([i]):e})))}),(function(e){return e.sort(b.d.ord.compare)}),Object(f.ub)(x.a.fromModel)))),this._isAssistantMode,this._denaliEditorModel.changes.pipe(S.a.startWith(null)),this._denaliEditorModel.viewport]).subscribe((function(e){var t=Object(c._)(e,4),n=t[0],r=t[1];t[2],t[3];return i._updateItems(n,r)}))}},{key:"_createCAPISub",value:function(){var e=this;return this._capiEvents.pipe(S.a.filter((function(e){return"session_started"===e.kind}))).subscribe((function(){e._mountedFeedbacks.clear()}))}}]),e}();var fr=function(e){return function(){return e.getCursor().index}},hr=function(){function e(t,n,i,f,g,O,E,j,x,A,T,M,P,B,L,F,R,D,H,V,U){var W,z,q=this;Object(r.a)(this,e),Object(a._)(this,"_engine",void 0),Object(a._)(this,"_denaliEditorModel",void 0),Object(a._)(this,"_userAccount",void 0),Object(a._)(this,"_upgradeHook",void 0),Object(a._)(this,"_subscription",void 0),Object(a._)(this,"_environment",void 0),Object(a._)(this,"_platformEnvironment",void 0),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_remSizeObs",void 0),Object(a._)(this,"_networkState",void 0),Object(a._)(this,"_docId",void 0),Object(a._)(this,"_uploadViewModel",void 0),Object(a._)(this,"_notificationsManager",void 0),Object(a._)(this,"_dialectSettings",void 0),Object(a._)(this,"_documentLoader",void 0),Object(a._)(this,"_textResources",void 0),Object(a._)(this,"_config",void 0),Object(a._)(this,"_router",void 0),Object(a._)(this,"_telemetryContainerId",void 0),Object(a._)(this,"_bannersFeatures",void 0),Object(a._)(this,"bannersModel",void 0),Object(a._)(this,"capabilities",void 0),Object(a._)(this,"cardsViewModel",void 0),Object(a._)(this,"inlineCardViewModel",void 0),Object(a._)(this,"inlineUpgradeHookViewModel",void 0),Object(a._)(this,"feedUpgradeViewModel",void 0),Object(a._)(this,"cardsListScrollManager",void 0),Object(a._)(this,"lensState",void 0),Object(a._)(this,"lensStateProvider",void 0),Object(a._)(this,"lensPreviewViewModel",void 0),Object(a._)(this,"alignmentViewModel",void 0),Object(a._)(this,"marksViewModel",void 0),Object(a._)(this,"alertUserEvents",void 0),Object(a._)(this,"synonymsViewModel",void 0),Object(a._)(this,"proofitViewModel",void 0),Object(a._)(this,"successLensViewModel",void 0),Object(a._)(this,"onboardingViewModel",void 0),Object(a._)(this,"upgradeViewModel",void 0),Object(a._)(this,"searchViewModel",void 0),Object(a._)(this,"downloadViewModel",void 0),Object(a._)(this,"surveyManager",void 0),Object(a._)(this,"feedbackViewModel",void 0),Object(a._)(this,"navigationViewModel",void 0),Object(a._)(this,"obtainGradesNotificationManager",void 0),Object(a._)(this,"modalManager",void 0),Object(a._)(this,"notificationsManager",void 0),Object(a._)(this,"hotkeyManager",void 0),Object(a._)(this,"formattingViewModel",void 0),Object(a._)(this,"emotionsViewModel",void 0),Object(a._)(this,"vbarsViewModel",void 0),Object(a._)(this,"documentSettingsViewModel",void 0),Object(a._)(this,"autofocusListener",void 0),Object(a._)(this,"documentPlaceholderViewModel",void 0),Object(a._)(this,"showConfetti",void 0),Object(a._)(this,"focus",void 0),Object(a._)(this,"cheetahViewModel",void 0),Object(a._)(this,"cheetahAvailabilityService",void 0),Object(a._)(this,"capiSession",void 0),Object(a._)(this,"_lensStateManager",void 0),Object(a._)(this,"_cheetahInlineAvailabilityProvider",void 0),Object(a._)(this,"_cheetahViewModel",void 0),Object(a._)(this,"_inlineManager",void 0),Object(a._)(this,"_reportViewModel",void 0),Object(a._)(this,"_getAlertClosestToCursor",void 0),Object(a._)(this,"_pageTelemetry",void 0),Object(a._)(this,"_cardsTelemetry",void 0),Object(a._)(this,"_ethicalAICardTelemetry",void 0),Object(a._)(this,"_gbRuleCreatedViewModel",void 0),Object(a._)(this,"_synfonyTelemetry",void 0),Object(a._)(this,"_openInlineAlert",void 0),Object(a._)(this,"_inlineAlertHovered",void 0),Object(a._)(this,"_inlineUpgradeHookClicked",void 0),Object(a._)(this,"_hydrateTransforms",void 0),Object(a._)(this,"_getActiveItemWithAlert",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"_editorWrapperViewport",void 0),Object(a._)(this,"_remSize",void 0),Object(a._)(this,"_focusFirstAlert",void 0),Object(a._)(this,"_autoScrollToNextAlert",void 0),Object(a._)(this,"_openedAfterPaste",void 0),Object(a._)(this,"_shouldShowNewLabel",void 0),Object(a._)(this,"_sduiCardsViewModel",void 0),Object(a._)(this,"_sduiNavigationModel",void 0),Object(a._)(this,"_SDUICardsViewModelObservable",void 0),Object(a._)(this,"_sduiActionEvents",void 0),Object(a._)(this,"_getSDUIApplicatorSource",void 0),Object(a._)(this,"_getSDUIApplicatorEffects",void 0),Object(a._)(this,"_focusSDUIItemByAlert",void 0),this._engine=t,this._denaliEditorModel=n,this._userAccount=i,this._upgradeHook=f,this._subscription=g,this._environment=O,this._platformEnvironment=E,this._telemetry=j,this._remSizeObs=x,this._networkState=A,this._docId=T,this._uploadViewModel=M,this._notificationsManager=P,this._dialectSettings=B,this._documentLoader=L,this._textResources=F,this._config=R,this._router=D,this._telemetryContainerId=H,this._bannersFeatures=V,this.bannersModel=U,this.obtainGradesNotificationManager=d.g.none,this.formattingViewModel=d.g.none,this.emotionsViewModel=d.g.none,this._cheetahViewModel=G.a.create(d.g.none),this._reportViewModel=d.g.none,this._openInlineAlert=new S.a.Subject,this._inlineAlertHovered=new S.a.Subject,this._inlineUpgradeHookClicked=new S.a.Subject,this._hydrateTransforms=Object(Be.b)(this._denaliEditorModel.getContents),this._getActiveItemWithAlert=At.a.getActiveItemWithAlert,this._log=h.d.Logging.getLogger("view_models"),this._subs=new w.a.Keeper,this._editorWrapperViewport=G.a.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=G.a.create(16),this._focusFirstAlert=G.a.create(this._userAccount.features.denali.focusFirstCard),this._autoScrollToNextAlert=this._userAccount.settings.editorPreferences.view("autoScrollToNextAlert").view(je.b.O.unwrap(!this._userAccount.features.denali.autoJumpSettings.isDisabledByDefault)),this._openedAfterPaste=new S.a.Subject,this._shouldShowNewLabel=Object(u.constant)(S.a.of(d.g.none)),this._sduiCardsViewModel=d.g.none,this._sduiNavigationModel=d.g.none,this._SDUICardsViewModelObservable=Object(ve.pipe)(this._engine.sduiFeedManager,d.g.map((function(e){return e.pipe(S.a.switchMap(k.b.Scheduler.rafScheduler),S.a.map((function(){return q._sduiCardsViewModel})),S.b.compact)}))),this._sduiActionEvents=Object(ve.pipe)(this._SDUICardsViewModelObservable,d.g.map(Object(u.flow)(S.a.switchMap((function(e){return e.sduiActionEvents})),S.a.filter((function(e){return!e.actions.some((function(e){return"nextCard"===e.type}))||e.actions.some((function(e){return"notify"===e.type&&"click"===e.userAction}))}))))),this._getSDUIApplicatorSource=function(e){return Object(ve.pipe)(q._SDUICardsViewModelObservable,d.g.map(S.a.switchMap((function(t){return Object(ve.pipe)(t.getApplicatorEffects(),d.a.findFirst((function(t){return t.id===e})),d.g.map((function(e){return e.what.source})),d.g.getOrElse(Object(u.constant)(S.a.of(u.identity))))}))),d.g.getOrElse(Object(u.constant)(S.a.of(u.identity))))},this._getSDUIApplicatorEffects=function(){return Object(ve.pipe)(q._sduiCardsViewModel,d.g.fold(Object(u.constant)(d.a.empty),(function(e){return e.getApplicatorEffects().map((function(e){return Object(s._)(Object(o._)({},e),{what:Object(s._)(Object(o._)({},e.what),{source:q._getSDUIApplicatorSource(e.id)})})}))})))},this._focusSDUIItemByAlert=function(e){Object(ve.pipe)(d.g.sequenceT(q._engine.sduiFeedManager,e),d.g.tap((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1],i=n.get();q._subs.push(i.feed.pipe(S.a.take(1),S.a.pluck("cards"),S.a.tap(Object(u.flow)(lt.a.filter(u.constFalse,u.constFalse,(function(e){return e.alertIds.includes(Object(u.unsafeCoerce)(r.alert.id))})),lt.a.foldMap(d.a.getMonoid())(Object(u.constant)(d.a.empty),Object(u.constant)(d.a.empty),d.a.of),d.a.head,d.g.tap((function(e){requestAnimationFrame((function(){Object(ve.pipe)(i.focusCard(e.id),d.b.fold((function(e){return q._log.warn("Error on focusing SDUI item in a new lens",e)}),u.constVoid))}))}))))).subscribe())})))},this.notificationsManager=this._notificationsManager,this.focus=Pe.a.create({contentFocusChanges:wt.a.create(this._denaliEditorModel),eq:wt.b.eq,ord:wt.b.ord,show:wt.b.show,contentSection:d.g.some(wt.b.create(wt.b.Id.editor))}),this._denaliEditorModel.dontFreezeWhen(this.focus.state.pipe(S.a.map(d.g.exists((function(e){return e.id!==wt.b.Id.editor})))),"focus-manager"),this._subs.push(this._denaliEditorModel.viewport.pipe(S.a.distinctUntilChanged(),S.a.map((function(e){return e.wrapper}))).subscribe(k.b.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(k.b.toAtom(this._remSize)),wt.b.initTracking(this.focus,this._telemetry));var K=this._engine.alertsReader,$=G.a.create(ke.a.defaultState),Z=this._userAccount.features.denali.sdui,Y=this._userAccount.features.denali.feedUpgradeHook,X=this._userAccount.features.denali.premiumUphookCardUI,Q=Ae.a.create(Ae.a.defaultLensFilters,Ae.a.defaultTextFilters),J=Object(ve.pipe)(this._userAccount.features.denali.mutedAlerts,d.g.fromPredicate(u.identity),d.g.map((function(){return q._engine.mutedAlertsModel})));this._engine.checkingDomain.state.pipe((function(e){return ke.a.get(e,q._engine.checkingDomain.lensesScores,Q)})).subscribe(k.b.toAtom($));var ee=G.a.create(_.g.getDefault),re=this._userAccount.settings.editorPreferences.view((function(e){var t=e.suggestionsVisualMode;switch(t){case vt.o.Default:return Je.a.CardVisualMode.RegularLightMode;case vt.o.Accessible:return Je.a.CardVisualMode.ContrastLightMode;default:return Object(p.c)(t)}}));this.lensPreviewViewModel=new hn($.view("lenses"),this._engine.sessionModel,this._userAccount.features,Q,ee);var ie=Object(We.c)(this._hydrateTransforms,K,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel,this._engine.mutingAlertsReader,Le.a.canHydrate),ae=Fe.a.ItemFactory.create(this._hydrateTransforms,this._engine.mutingAlertsReader,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel),oe=at.a.ItemFactory.create(K,this._userAccount.features.denali.cardsRenderOptions),se=At.a.getCapabilities(ie,ae,oe,K,this._hydrateTransforms,this._userAccount.features,this._userAccount.features.denali.cardsRenderOptions),le=At.a.alertIterator(K),ue=At.a.isSelectableItem,de=this._userAccount.features.denali.cardBundles?C.a.WithBundles.getHasAlerts(le,K,(function(){return ue}),se):At.a.hasAlerts(le,K,(function(){return ue}),se);this.capabilities=Object(o._)({},se,de);var pe,me=new it.c(new it.a(At.a.equatable.structEq,At.a.defaultOrd),At.a.equatable.structEq,At.a.defaultOrd),fe=this._userAccount.features.denali.cardBundles?new it.b((function(e){return v.a.isAllAlerts(e.id)}),me,At.a.equatable.structEq,At.a.bundlesOrd):me,he=et.a.ItemFactory.create(this._userAccount.features.denali.cardsRenderOptions,d.g.isSome(this._userAccount.features.denali.getStartedType)&&this._engine.sessionModel.isDemoDocument?"demo":"default"),ge=Object(it.e)(ie,oe,this.capabilities),Se=Y||X?et.a.Handler.withUphookAlertsHandlerFactory(ge,he,ie):ge,De=Object(it.d)(ae,this._userAccount.features.denali.cardsRenderOptions,(function(e){return v.a.isAllAlerts(e)}),Se,this.capabilities),Ve=Object(u.constant)(u.identity),Ue=Object(u.flow)(Hn.outcomeIdToSDUIKind,d.g.isSome),ze=Z?function(e){return Ue(e)?Ve:Se(e)}:this._userAccount.features.denali.cardBundles?De:Se,qe=this._userAccount.features.denali.bulkAccept&&!Z,Ke=Object(ve.pipe)(qe,d.g.fromPredicate(u.identity),d.g.map((function(){return be.getFocusFirstFilter(K,Q)})),d.g.getOrElse((function(){return _.e.FocusFirstFilter.defaultFilter}))),Ze=tt.a.createWithInitialAlerts(fe,ze,Q,Object(u.not)(b.a.isMuted),this.capabilities);if(Z){var ut=tt.a.createWithExternalItems(fe,this.capabilities);pe=function(e,t,n,r,i){return Ue(e)?(q._focusSDUIItemByAlert(r),ut(e,t,n,r,Object(ve.pipe)(i,d.g.filter((function(e){return v.a.isWithAlertsId(e.id)&&Ue(e.id)}))))):Ze(e,t,n,r,i)}}else pe=Ze;var dt=new Ie.a.Impl(this._engine.checkingDomain.state,this._engine.positionManager,K,Q.alertCanBeDisplayed);this.lensStateProvider=new rt.a(this._engine.checkingDomain.state,K,$.view("lenses"),dt,this.lensPreviewViewModel,pe,ze,this.capabilities,Q,Ke),this.searchViewModel=new $n.c(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport);var pt=this._engine.sessionModel.rtfMode===bt.d.DocumentFeatures.FormattingMode.on?d.g.some(Object(wn.c)(this._denaliEditorModel.getCursor.bind(this._denaliEditorModel),(function(e){q._denaliEditorModel.setFormatting(Object(s._)(Object(o._)({},e),{meta:Object(s._)(Object(o._)({},e.meta),{formatting:Object(o._)({},e.meta.formatting)})}))}),this._denaliEditorModel.selectedFormatting,this._denaliEditorModel.isEditorFocused,this._textResources.denali,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment)):d.g.none;this._getAlertClosestToCursor=Object(Re.d)((function(e){switch(e){case"cursor":return fr(q._denaliEditorModel)();case"middleOfTheViewport":return Object(ve.pipe)(q._denaliEditorModel.getPossibleCursorPosition(d.b.left(Ce.c.X.middle),d.b.left(Ce.c.Y.middle)),d.b.getOrElse(fr(q._denaliEditorModel)));default:return Object(p.c)(e)}}),this.lensStateProvider);var kt=v.a.SpecialId.AllAlerts;this.lensState=G.a.create(Object(ve.pipe)(this._router.locationState,d.g.exists((function(e){return!0===e.openSidebar})))||this._userAccount.features.denali.sidebarOpenedByDefault?this.lensStateProvider.emptyState(kt):Object(rt.c)());var Et=this.lensState.view(_.e.getActiveAlertHighlight(this._getActiveItemWithAlert));this.upgradeViewModel=new ur.b(this._engine.checkingDomain,this.lensState,this.lensPreviewViewModel,this._docId,this._platformEnvironment,this._upgradeHook,this._config,this._userAccount.features.denali.uphookFormat,this._userAccount.features.denali.uphookDestination,this._telemetry,(function(){q._router.navigate(ht.a.routes.documents.href())}),(function(){return q._userAccount.features.isEligibleForFreeTrial})),this.feedbackViewModel=new rn.a(this._notificationsManager,(function(e){return h.d.Logging.getLogger("userFeedback").info("Submit form feedback",{briefDescription:e.brief,detailedFeedback:e.detailed}),q._telemetry.gnarSpec.feedbackFormSubmit(e.brief,e.detailed,q._telemetry.pageId)})),this._reportViewModel=this._environment.has(gt.b.Flag.supportsDownloadPDF)?d.g.some(new Rn.a(this._engine,this._userAccount.profile,this._userAccount.features,this._notificationsManager,this._denaliEditorModel.contentUpdated.pipe(S.a.startWith(null),S.a.delay(0),S.a.map(this._denaliEditorModel.getHTML)),this._hydrateTransforms,(function(){return q.lensState}),(function(){return q.marksViewModel}),(function(){return q.navigationViewModel}),$.view("lenses"),this._telemetry)):d.g.none,this.modalManager=new we.b(new Ft.c(this._userAccount,this._textResources,this._engine.sessionModel,this.upgradeViewModel,this._config,this._platformEnvironment,this.feedbackViewModel,this._notificationsManager,this._engine.sessionModel,this._reportViewModel,this._telemetry,this._engine.mutedAlertsModel,this.bannersModel,this._bannersFeatures,this._userAccount.logout));var jt=Ae.a.getAlertVisibleInTextFilter(Q,this.lensState);this.marksViewModel=new On.a(this._denaliEditorModel,this._engine.checkingDomain,K,this._engine.alertsService,this._engine.alertsService,this._environment.has(gt.b.Flag.highHighlights),new st.a(Et),Q,jt,this._userAccount.settings.editorPreferences.view("suggestionsVisualMode"),Et),this.cardsListScrollManager=new Xe.a((function(){return d.b.right(void 0)}));var xt=Te.d.getSuperScrollMapper(this.lensState,this.cardsListScrollManager,this._remSize),It=Te.e.getMapper(this.marksViewModel,this._denaliEditorModel,this._log.getLogger("getMarkPosition")),Tt=At.a.alignMarkToGetter(It,xt,this._remSize),Mt=At.a.alignItemToMarkGetter(It,xt);this.alignmentViewModel=new Te.c(xt,Tt,Mt);var Pt,Nt=(Pt=this._telemetry,{onShow:function(e,t){return Pt.gnarSpec.bulkAcceptPanelShowed(e,t,Pt.pageId,Pt.pageSessionId)},onAccept:function(e){return Pt.gnarSpec.bulkAcceptAcceptAllClicked(e,Pt.pageId,Pt.pageSessionId)},onDismiss:function(e){return Pt.gnarSpec.bulkAcceptDismissClicked(e,Pt.pageId,Pt.pageSessionId)},onBulkUndo:function(e){return Pt.gnarSpec.bulkAcceptAllUndoClicked(e,Pt.pageId,Pt.pageSessionId)},onRevert:function(e){return Pt.gnarSpec.bulkAcceptRevertClicked(Pt.pageId,e,Pt.pageSessionId)},onIgnore:function(e){return Pt.gnarSpec.bulkAcceptIgnoreClicked(Pt.pageId,e,Pt.pageSessionId)},onSuggestionClick:function(e){return Pt.gnarSpec.bulkAcceptPanelAlertClicked(Pt.pageId,e,Pt.pageSessionId)},onLooksGood:function(){return Pt.gnarSpec.bulkAcceptLooksGoodClicked(Pt.pageId,Pt.pageSessionId)},onAllLooksGood:function(){return Pt.gnarSpec.bulkAcceptAllLooksGoodClicked(Pt.pageId,Pt.pageSessionId)}}),Ht=Object(Be.a)(this._denaliEditorModel.getContents),Vt=Object(qt.a)(this._engine.obsCapiClient,this._engine.latestCAPIMessageByActionName),Ut=Vt.capiService,Wt=Vt.capiMessages;this.capiSession=new Dt.a(Wt);var Xt=G.a.create({enabled:!1});this._subs.push(Wt.pipe(S.a.filter((function(e){return"start"===e.action})),S.a.filter((function(e){var t;return null===(t=e.allowedFeatures)||void 0===t?void 0:t.includes(ye.a)})),S.a.map(Object(u.flow)((function(e){return d.g.fromNullable(e.cheetahState)}),d.g.fold((function(){return{enabled:!1}}),(function(e){return{enabled:!0,userState:e}})))),S.a.take(1)).subscribe(k.b.toAtom(Xt))),this.cheetahAvailabilityService=new Oe.a(Ut,Xt);var Qt=this.cheetahAvailabilityService.availability.view(_e.a.isVisible);this._subs.push(this._trackPlagiarismAlertsEditing());var Jt=new Sn.a(this._telemetry,this.modalManager,this.lensState,this._userAccount.features,this._getAlertClosestToCursor,this._engine.sessionModel,J,(function(){return Sn.b.outcomesList.filter(Sn.b.lensPreviewFilter(q._userAccount.features)).reduce((function(e,t){return e[t]=q.lensPreviewViewModel.lensPreviews[t],e}),{})}),re,Qt,this.capabilities,(function(e){return q.lensPreviewViewModel.getLens("advanced"===e?v.a.SpecialId.Premium:v.a.SpecialId.FreePremiumAlerts)}));this.navigationViewModel=Jt,this.cardsViewModel=new Me.c({flush:this._denaliEditorModel.flushChanges},this.navigationViewModel.events,ie,this._engine.alertsService,this._engine.alertsReader,(function(e){return q._userAccount.settings.markFeatureOnboarded(e).then((function(){return q._telemetry.gnarSpec.featureOnboardingEventClose(q._telemetry.pageId)}))}),(function(){return q._userAccount.settings.markFeatureOnboarded(Ee.a.MuteQuotedAdvice)}),Object(ve.pipe)(J,d.g.map((function(e){return{model:e,openSuggestionsManagement:function(){return q._platformEnvironment.actions.openPopup(new N.a(q._config.account.suggestions))}}}))),d.g.some({sendToSignIn:Me.a.Experiments.sendToSignIn(this._platformEnvironment,this._config),handleGbPrompt:Me.a.Experiments.handleGbPrompt(this._platformEnvironment,this._config,an(this._telemetry))}),this._userAccount.features.denali.dismissFeedbackFormSuppressed,this._getActiveItemWithAlert,this.capabilities,this._platformEnvironment,{bufferTransitions:!0,showGbPrompt:this._userAccount.features.denali.gbPrompt},Object(u.flow)(Rt.updateCitationStyle(this._engine.sessionModel,this._notificationsManager,this._telemetry),this._subs.push.bind(this._subs)));var en=function(){return Object(ve.pipe)(d.g.sequenceT(q._engine.sduiService,q._engine.sduiManager,q._engine.sduiFeedManager),d.g.map((function(e){var t,n=Object(c._)(e,3),r=n[0],i=n[1],a=n[2],l=new te(r,q.capabilities,q.lensState,i.get(),a.get(),q._engine.alertsReader,q._engine.obsCapiClient,(t=Object(s._)(Object(o._)({},q.cardsViewModel.actionEvents),{next:function(e){y.b.isAlertIgnoreAction(e)||q.cardsViewModel.actionEvents.next(e)}}),Object.defineProperty(t,"pipe",{value:q.cardsViewModel.actionEvents.pipe.bind(q.cardsViewModel.actionEvents)}),Object.defineProperty(t,"subscribe",{value:q.cardsViewModel.actionEvents.subscribe.bind(q.cardsViewModel.actionEvents)}),{actionEvents:t}),q._platformEnvironment);return{navigationModel:new Kn(i.get(),q.lensState.view("currentLens","id"),l.actionEvents),cardsViewModel:l}})))},tn=function(){Object(ve.pipe)(d.g.sequenceT(q._sduiCardsViewModel,q._sduiNavigationModel),d.g.tap((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];n.dispose(),r.dispose()})));var e=en();d.g.isSome(e)?(q._sduiCardsViewModel=d.g.some(e.value.cardsViewModel),q._sduiNavigationModel=d.g.some(e.value.navigationModel)):(q._sduiCardsViewModel=d.g.none,q._sduiNavigationModel=d.g.none)};tn(),this._subs.push(this.lensState.view("currentLens","id").pipe(S.a.tap((function(e){return Object(ve.pipe)(e,d.g.fromPredicate(v.a.isWithAlertsId),d.g.chain(Hn.outcomeIdToSDUIKind),d.g.tapLeft((function(){q._engine.resetSDUI("feedOnly","switch to a native lens")(),tn()})))}))).subscribe(),Object(ve.pipe)(this._engine.sduiFeedManager,d.g.getOrElse(Object(u.constant)(Object(u.unsafeCoerce)(S.a.NEVER))),S.a.skip(1),S.a.withLatestFrom(this.lensState)).subscribe((function(e){var t=Object(c._)(e,2)[1];_.e.hasItems(t)&&Hn.isSDUIVisibleOutcomesLens(t.currentLens.id)&&q._focusSDUIItemByAlert(q.capabilities.getActiveAlert(t.currentLens)),tn()}))),this._cardsTelemetry=new zt(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.mutingAlertsReader,this._getActiveItemWithAlert),this._synfonyTelemetry=new lr(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._getActiveItemWithAlert),this.alertUserEvents=new xe.a(this._denaliEditorModel,this.marksViewModel,K,Et,this.lensState.view((function(e){return e.currentLens.meta.filter}))),this._ethicalAICardTelemetry=new nn(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.alertsReader,this.alertUserEvents,this._engine.obsCapiClient,this._engine.checkingDomain,Q),this._gbRuleCreatedViewModel=new on.a(this._config,this._engine.obsCapiClient,this._notificationsManager,this._telemetry),this.downloadViewModel=new Zt.a(this._engine.sessionModel,this._notificationsManager),this.documentSettingsViewModel=Object(_n.b)(this._denaliEditorModel,this._router,this._textResources.denali,this._userAccount,this._dialectSettings,this.downloadViewModel,this.upgradeViewModel,this.modalManager,this._uploadViewModel,this._environment,this._notificationsManager,this.searchViewModel,this._telemetry,this._docId,this._engine.sessionModel);var un=Ct.a.create();this._subs.push(this._denaliEditorModel.clickedWord.pipe(S.a.map(d.g.filter((function(e){return 2===e.meta.clicks}))),S.a.withLatestFrom(this.alertUserEvents.alertClicked.pipe(S.a.startWith(d.g.none)),(function(e,t){return d.g.isNone(t)?e:d.g.none})),S.b.compact).subscribe(un.doubleClickedWord)),this._cheetahInlineAvailabilityProvider=Gt.a.create(this.navigationViewModel,this.documentSettingsViewModel.viewModel.visualState,this.cheetahAvailabilityService.availability,this._userAccount.features.denali),this._inlineManager=Object(cn.a)(this._denaliEditorModel,this.alertUserEvents,K,pt,un,this._cheetahInlineAvailabilityProvider);var dn=sn.a.ViewModel.getInlineHighlightFilter(this.lensState),pn=Object(u.flow)(this.marksViewModel.getMarkByAlert,d.b.fromOption((function(){return new Error("mark not found")})),d.b.chain((function(e){return e.getRect()})),d.l.fromEither);this.inlineCardViewModel=new sn.b(this._inlineManager,pn,S.a.mergeStatic(this._denaliEditorModel.contentUpdated.pipe(S.a.mapTo(k.b.voidValue))),this._engine.checkingDomain,K,this._engine.alertsService,this._telemetry,this._openInlineAlert,this._inlineAlertHovered,this._hydrateTransforms,dn);var mn=this._userAccount.features.denali.fontAccessibilityTesting;if(d.g.isSome(mn))var fn=Object(ve.pipe)(this._engine.sessionModel.checkingState,S.a.map((function(e){if("idle"===e){if("inlineCard"===mn.value){var t=q._engine.alertsReader.getById("local_7");if(d.g.isSome(t)){var n={alert:t.value,highlightIndex:0},r=q.marksViewModel.getMarkByAlert(n);d.g.isSome(r)&&q._denaliEditorModel.hoveredMarks.next(d.g.some([r.value]))}}if("assistantCard"===mn.value){var i=q._engine.alertsReader.getById("local_2");if(d.g.isSome(i)){var a={alert:i.value,highlightIndex:0};q._lensStateManager.focusAlert(a,b.b.api)}}fn.unsubscribe()}}))).subscribe();this.inlineUpgradeHookViewModel=new ln.b(this._inlineManager,pn,this._denaliEditorModel.contentUpdated.pipe(S.a.mapTo(k.b.voidValue)),this._engine.checkingDomain,this._inlineUpgradeHookClicked,this._userAccount.settings,this.upgradeViewModel),this.feedUpgradeViewModel=new et.a.ViewModel.UpgradeHookItemViewModelImpl(this.cardsViewModel,this.upgradeViewModel,S.a.NEVER,bt.i.Place.DenaliDocument.editorDenaliChecksFeed,et.a.ViewModel.EventHandlers.empty),this.successLensViewModel=new mt.b(this.lensState,this._engine.sessionModel,(function(e){return q._telemetry.gnarSpec.sidebarSuccessStateShow(q.lensState.get().currentLens.id,q._telemetry.pageId,e)}),this.capabilities,this._userAccount.features.denali.mutedAlertsOnSuccessView?d.g.some(void 0):d.g.none,At.a.isInSuccess,this._userAccount.features.denali.showGrammarlyBDGift);var gn=Object(ve.pipe)(qe,d.g.fromPredicate(u.identity),d.g.map((function(){return $e.a.create(q.cardsViewModel.actionEvents,q.inlineCardViewModel.events)})));this.vbarsViewModel=this._userAccount.features.denali.writingExpertVbarsEnabled?d.g.some(new mr(this._engine.obsCapiClient.events,this._denaliEditorModel,this._engine.alertsService,this._engine.checkingDomain.state,Q,this.lensState.view((function(e){return e.currentLens.id})),this.marksViewModel,this._inlineManager,this.lensState.view(Object(u.not)(_.e.is(v.a.SpecialId.Closed))))):d.g.none;var bn,vn,yn,kn,En,jn,xn,An,In,Tn,Mn,Pn,Nn,Bn=G.a.create(v.a.SpecialId.AllAlerts),Dn=rr.defaultNextLensPredicate,Vn=[(In=this._engine.sessionModel.asyncChecksState.view("plagiarism"),Tn=this._engine.plagiarismModel,Mn=this._autoScrollToNextAlert,Pn=this.capabilities,Nn=In.pipe(S.a.filter((function(e){return"idle"===e})),S.a.mapTo((function(e){return!_.e.hasItems(e)||d.g.isSome(At.a.getActiveItemWithAlert(e.currentLens))?e:Object(ve.pipe)(Pn.findNextAlert(e.currentLens),d.g.map((function(t){return e.patch({currentLens:Pn.selectItemByAlert(t)(e.currentLens)})})),d.g.getOrElse((function(){return e})))}))),{id:"plagiarismSideEffect",when:function(e){return e===v.a.SpecialId.Plagiarism},what:_.e.Effect.Applicator.create(S.a.Observable.create((function(){return Tn.enable()})).pipe(S.a.startWith(k.b.voidValue),S.a.switchMapTo(Mn.pipe(S.a.switchMap(Object(m.c)(Nn,Nn.pipe(S.a.first())))))))}),Qn(this.lensState,this._engine.sessionModel,Dn,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,Bn),Jn(this.lensState,this._engine.sessionModel,Dn,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,Bn),er(this.lensState,this._engine.sessionModel,Dn,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,Bn)].concat(Object(l.a)(Z?[]:ft.c.create(this._engine.checkingDomain,K,this.lensState,this._getActiveItemWithAlert,(function(e){return Object(ft.d)((function(){return q._notificationsManager.enqueue("alertUndo",{params:Object(ft.e)(e)}).pipe(S.a.tap((function(e){return"undo"===e&&q._telemetry.gnarSpec.undoNotificationUndoButtonClicked(q._telemetry.pageId)})))}),(function(){return q._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",q._telemetry.pageId)}),(function(){return q._denaliEditorModel.flushChanges(),q._denaliEditorModel.contentUpdated}))}),this._log.getLogger("sideEffects.undo"))),[tr(_.e.Effect.When.always,this._denaliEditorModel.textChangedAfterPaste,(function(e){var t=e.type,n=e.source,r=e.tags,i=e.len;switch(t){case"initial":h.d.TimeSeries.rootFemetrics.getTimer("text_paste_initial").recordTime(i);break;case"reset":h.d.TimeSeries.rootFemetrics.getTimer("text_paste_reset").recordTime(i);break;case"partial":h.d.TimeSeries.rootFemetrics.getTimer("text_paste_partial").recordTime(i);break;default:Object(p.c)(t)}q._telemetry.gnarSpec.pasteEventFire(i,q._telemetry.pageId,n,r,t)})),tr(_.e.Effect.When.isSidebarClosed,this._denaliEditorModel.textChangedAfterPaste,(function(e){var t=e.type;"initial"!==t&&"reset"!==t||(q.navigationViewModel.events.next({type:"toggleSidebar",actionSource:b.b.api}),q._openedAfterPaste.next())})),(kn=this._denaliEditorModel,En=this._notificationsManager,jn=function(){return q._telemetry.gnarSpec.undoTextRemovedNotificationShow(q._telemetry.pageId)},xn=function(){return q._telemetry.gnarSpec.undoTextRemovedHotkeyPress()},An=function(){return q._telemetry.gnarSpec.undoTextRemovedButtonClick(q._telemetry.pageId)},{id:"textRemovedSideEffect",when:u.constTrue,what:_.e.Effect.Applicator.create(kn.contentUpdated.pipe(S.a.filter(Ce.b.isTextMaybeWithFormatting),S.a.map((function(){return kn.getTextLength()})),S.a.startWith(kn.getTextLength()),S.a.pairwise(),S.a.filter((function(e){var t=Object(c._)(e,2);return t[0]-t[1]>500})),S.a.exhaustMap((function(){return S.a.timer(1e3).pipe(S.a.takeUntil(kn.shortcutUsed),S.a.switchMapTo(En.enqueue("textRemoved").pipe(S.a.takeUntil(kn.shortcutUsed.pipe(S.a.tap(xn))),S.a.tap((function(e){"shown"===e?jn():"undo"===e&&(kn.undo(),An())})),S.a.takeWhile((function(e){return"undo"!==e})))),S.a.mapTo(_.e.Effect.Applicator.Source.identity))}))))}),(vn=this._openedAfterPaste,yn=this._documentLoader.state,{id:"afterPasteLoadingSideEffect",when:_.e.Effect.When.isSidebarOpen,what:_.e.Effect.Applicator.create(vn.pipe(S.a.tap((function(){return yn.set(Yn.a.State.lensAndNavigationProcessing)})),S.a.switchMapTo(S.a.NEVER)))}),nr(this._denaliEditorModel,5*He.d.MS_IN_MIN)],Object(l.a)(this.cardsViewModel.getApplicatorEffects()),Object(l.a)(this._getSDUIApplicatorEffects()),[Me.b.changeAlertEffect(this.lensState,this.cardsViewModel,ie,this._getActiveItemWithAlert,K,d.g.none,this._getAlertClosestToCursor,this._log.getLogger("CardsViewModelEffects.changeAlertEffect")),Qe.b.freezeActiveCardOnCardsListUpdate(this.lensState,this.cardsListScrollManager,this.capabilities),Qe.b.moveNearestItemIntoViewport(this.focus.focusEvents.pipe(S.a.filter((function(e){return e.section.id===wt.b.Id.checksFeed&&e.kind===Pe.a.FocusEvent.navigationBackwards}))),this.lensState,xt,this.cardsListScrollManager,this.capabilities),Qe.b.manageCardsVisibility(this.lensState,this.cardsListScrollManager,this.capabilities,Object(u.unsafeCoerce)(this.cardsViewModel.actionEvents)),Te.a.createAlignmentSideEffect(this.lensState,this.cardsViewModel.actionEvents,Re.a.getFirstApiAlignmentOverride(),At.a.getActiveAlignableItem,this.capabilities,Tt,Mt),Te.a.createAlignmentOnTypingEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel.contentUpdated,this._getActiveItemWithAlert,this.capabilities),Te.a.createAlignOnDisjointedAreasEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel,this.cardsListScrollManager),Te.a.createAlignOnResizeSideEffect(this.lensState,this.alignmentViewModel,this._userAccount.settings.editorPreferences.view("fontSize").pipe(S.a.skip(1)),this._getActiveItemWithAlert,this.capabilities),Jt.lensChangeEffects,Jt.alertChangeEffects,ct.a.focusAlertByClickedMark(S.a.mergeStatic(this.alertUserEvents.alertClicked,Object(ve.pipe)(this.vbarsViewModel,d.g.map((function(e){return e.alertClickedInAssistantMode})),d.g.getOrElse((function(){return S.a.EMPTY})))),this.lensState,this.capabilities),(bn=this._openInlineAlert,{id:"openInlineAlert",when:_.e.Effect.When.isSidebarClosed,what:_.e.Effect.SwitchAlert.create(bn.pipe(S.a.map((function(e){return{alertHighlight:e,alertSource:b.b.text,options:{order:"textOrder"}}}))))})],Object(l.a)([ct.a.focusMarkByActiveAlert(this.lensState,this.marksViewModel,K,At.a.getActiveFocusableItem,this._log.getLogger("MarksEffects.focusMarkByActiveAlert"),this.focus.state.pipe(S.a.map(d.g.exists((function(e){return e.id===wt.b.Id.editor}))))),ct.a.highlightMarkByHighlightedCard(this.cardsViewModel,this.lensState,this.marksViewModel,K,this.capabilities,this._log.getLogger("MarksEffects.highlightMarkByHighlightedCard")),sn.a.Effects.highlightMarkByInlineAlert(this._inlineAlertHovered.pipe(S.a.filter(dn)),this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineAlert"),"highlightMarkByInlineAlert"),ln.a.Effects.highlightMarkByInlineUpgradeHook(this._inlineUpgradeHookClicked,this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineUpgradeHook"))]),Object(l.a)(d.g.isNone(this._engine.sduiManager)?[Me.b.createSendActiveAlertFeedbacksEffect(this.lensState,this._getActiveItemWithAlert,this._engine.alertsService,K,this._log.getLogger("CardsViewModelEffects.createSendActiveAlertFeedbacksEffect"))]:[]),[ct.a.createOnAlertApplySideEffect(this.marksViewModel.events,this.capabilities),ir(this.lensPreviewViewModel,this._userAccount,this._notificationsManager,this._telemetry,this._upgradeHook,this._platformEnvironment,this.lensState.view("currentLens","id"),Bn),this.successLensViewModel.applicatorEffects]);Object(ve.pipe)(this.vbarsViewModel,d.g.tap((function(e){Vn.push(sn.a.Effects.highlightMarkByInlineAlert(e.highlightedVbarAlert,q.marksViewModel,q._log.getLogger("WritingExpert.vbarMarksHighlight"),"highlightMarkByVbarInlineAlert"))}))),Object(ve.pipe)(this._sduiActionEvents,d.g.map((function(e){return[ne.PrevNextNavigation.sideEffect(ne.PrevNextNavigation.Events.fromSduiCardActions(e),q.lensState,q.capabilities)].concat(Object(l.a)(Object(ve.pipe)(d.g.sequenceT(q._engine.sduiFeedManager,q._engine.sduiManager),d.g.fold((function(){return[]}),(function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return[I.a.SideEffects.createSDUIFeedSideEffect(Object(s._)(Object(o._)({},q.capabilities),{findNextAlert:Object(u.constant)(d.g.none),selectItemByAlert:function(){return u.identity}}),n.pipe(S.a.switchMap((function(e){return e.feed})),S.a.withLatestFrom(q.lensState),S.a.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1];return Object(ve.pipe)(n,d.g.fromPredicate((function(e){return _.e.hasItems(r)&&Ue(r.currentLens.id)&&Object(ve.pipe)(Hn.outcomeIdToFeedId(r.currentLens.id),d.g.exists((function(t){return t===e.feedId})))})),d.g.map((function(e){return Object(s._)(Object(o._)({},e),{cards:Object(ve.pipe)(e.cards,lt.a.filter(u.constFalse,u.constTrue,u.constTrue))})})),d.g.getOrElse(Object(u.constant)(n)))}))),At.a.sduiToChecksFeedOrd(q.capabilities),q._engine.alertsReader),ar(r,n,q.capabilities)]})))))})),d.g.tap((function(e){return(W=Vn).push.apply(W,Object(l.a)(e))}))),Object(ve.pipe)(this._engine.mutingAlertsReader,d.g.tap((function(e){Vn.push(ot.showCardMuteOnboarding(q._userAccount.settings.featuresOnboardingSeen.view((function(e){return e.has(Ee.a.CardMute)&&!q._userAccount.features.denali.enforceFeaturesOnboarding.has(Ee.a.CardMute)})),q._engine.checkingDomain,e,(function(){return q._notificationsManager.enqueue("cardMuteOnboarding")}),(function(){return q._userAccount.settings.markFeatureOnboarded(Ee.a.CardMute)}),(function(){return q._telemetry.gnarSpec.deactivatedSuggestionsOnboardingNotificationShow(q._telemetry.pageId,q._telemetry.pageSessionId)})))}))),Object(ve.pipe)(gn,d.g.tap((function(e){var t,n;(t=Vn).push.apply(t,Object(l.a)(ft.b.create(e,K,q._engine.checkingDomain,Nt)).concat(Object(l.a)(ft.a.create(e,K,q._engine.checkingDomain))));var r=Ge.createEffects({actions:e,alertService:q._engine.alertsService,tracking:Nt,alertsReader:K});(n=Vn).push.apply(n,Object(l.a)(r))})));var Un=Object(ve.pipe)(gn,d.g.map((function(e){return[Ge.selectNextCardOnBulkAcceptConfirmed(e,q._getActiveItemWithAlert,q.lensState,q._autoScrollToNextAlert)]})),d.g.getOrElse((function(){return[]}))),Wn=Object(ve.pipe)(gn,d.g.fold((function(){return G.a.create(!1)}),(function(){return q.lensState.view(_.e.mapper((function(e){return Object(ve.pipe)(e.currentLens,_.k.getActiveItemOfType(At.a.isBulkAcceptItem))}))).view(d.g.isSome)}))),zn={bigPaste:this._denaliEditorModel.textChangedAfterPaste.pipe(S.a.filter((function(e){return"reset"===e.type||"initial"===e.type})),S.a.map((function(){})))},Gn=Object(ve.pipe)((z=S.a).mergeStatic.apply(z,Object(l.a)(Object(l.a)(Un)).concat([Z?Re.c.focusFirstCardAfterBigCheck(this.lensState,this._engine.sessionModel.checkingState,this._focusFirstAlert,zn):Re.a.focusFirstCardAfterBigCheck(this.lensState,this._engine.sessionModel.checkingState,this._focusFirstAlert,zn,Wn)])),(function(e){return Z?Re.c.getSideEffect(e,q.capabilities):Re.a.getSideEffect(e,q.capabilities)}));Vn.push(Gn),this.autofocusListener=new Re.b(this._engine.sessionModel.checkingState,this.lensState);var qn=Re.a.getDefaultBehavior(this._getActiveItemWithAlert,this.capabilities),Zn=function(){return d.g.isNone(q._userAccount.features.denali.gbUpHook.get())&&!Y},Xn=Object(Re.f)(this.lensStateProvider,this._getAlertClosestToCursor,Bn,this.capabilities,At.a.isInGlobalSuccess,Zn),or=this._userAccount.features.denali.cardBundles?Object(Re.e)((function(e){return v.a.isMainLens(e.currentLens.id)}),Xn,this.capabilities):Xn,sr=Z?Re.c.getStateTransformer(qn,Object(Re.g)(this.lensStateProvider,Bn,this.capabilities,At.a.isInGlobalSuccess,Zn),this.capabilities,Re.c.getShouldAutoFocus(this._autoScrollToNextAlert,this.capabilities),(function(e){return e.kind===_.e.Effect.FocusBehaviorType.focusFirst&&q._telemetry.gnarSpec.focusFirstCardShow(q._telemetry.pageId)}),Bn):Re.a.getStateTransformer(qn,or,K,this.capabilities,Re.a.getShouldAutoFocus(this._autoScrollToNextAlert,K,this._getActiveItemWithAlert),(function(e){return e.kind===_.e.Effect.FocusBehaviorType.focusFirst&&q._telemetry.gnarSpec.focusFirstCardShow(q._telemetry.pageId)}),Bn),cr=C.a.Items.getItemsPositionsUpdateTransformer(this.capabilities),dr=Z?C.a.Items.getRemoveDisposedItemsTransformer(this.capabilities):Ye.nothing,pr=Object(ve.pipe)(gn,d.g.map((function(){return be.getStateTransformer(q._engine.checkingDomain.state,Q,Ht,q.capabilities,Nt,q._userAccount.features.denali.cardsRenderOptions)})),d.g.getOrElse((function(){return Ye.nothing}))),hr=Z?ce.DisablePrevNextButtons.create(this.capabilities):Ye.nothing,gr=Object(u.flow)(dr,d.b.chainLeft(sr),d.b.chainLeft(pr),d.b.chainLeft(hr),d.b.chainLeft(cr));this._lensStateManager=new nt.a(this.lensState,this.lensStateProvider,K,this._engine.alertsService,Vn,this._getActiveItemWithAlert,gr),Object(m.r)("getLensStateSnapshot",(function(){return _.e.snapshot(We.a.snapshot,q._getActiveItemWithAlert)(q.lensState.get())})),Object(m.r)("getLensState",(function(){return q.lensState.get()})),Object(m.r)("getLensesCollection",(function(){return $.view("lenses").get()})),this._pageTelemetry=new Fn.a(this.lensState,this._telemetry),this.synonymsViewModel=new Lt.a(this._inlineManager,this._engine.positionManager,this._engine.synonymsModel,this._networkState,this._denaliEditorModel,this._notificationsManager,Et,(function(){return q._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",q._telemetry.pageId)}),(function(e,t){q._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,q._telemetry.pageId,e)}),(function(e,t,n){q._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,q._telemetry.pageId,e)}),(function(e,t,n){q._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,q._telemetry.pageId,e)})),this.proofitViewModel=new St.b(this._subscription,this._engine.sessionModel,this._denaliEditorModel,this._userAccount,this._notificationsManager,this._router,this._config);this.surveyManager=Object(ve.pipe)(this._userAccount.features.denali.surveyType,d.g.map((function(e){return Bt(e,q.lensState,q._engine.sessionModel,q._denaliEditorModel,q.proofitViewModel,q._uploadViewModel,q._userAccount,q.modalManager,q._notificationsManager,q._subscription,q._telemetry)}))),this.formattingViewModel=Object(ve.pipe)(d.g.sequenceT(pt,this._engine.formattingModel),d.g.map((function(e){var t=Object(c._)(e,2),n=t[0],r=t[1],i=Cn.a.createManager(q._denaliEditorModel,r,q._inlineManager);return q._subs.push(n,i),{toolbarViewModel:n.viewModel,linksManager:i}}))),this.documentPlaceholderViewModel=new $t.a(this._uploadViewModel,this._denaliEditorModel,this._userAccount,this._environment),this.emotionsViewModel=Object(ve.pipe)(this._engine.emotionsModel,d.g.map((function(e){return Yt.a.ViewModel.create(e,q._engine.sessionModel,q._textResources.denali)})));var br=Object(ve.pipe)(pt,d.g.map((function(e){return[e.viewModel,q.searchViewModel,q.documentSettingsViewModel.viewModel]})),d.g.getOrElse((function(){return[q.searchViewModel,q.documentSettingsViewModel.viewModel]})));this.hotkeyManager=new Ne.a(d.a.UniqueArray.from(br),this._environment.has(gt.b.Flag.isAppleSystem),this._environment.platform===gt.b.Platform.IPAD),this._subs.push(this._handleFocusUserInputInCards()),this._subs.push(Me.a.Experiments.sendToIdeasGallery(this._platformEnvironment,this._config)(this.cardsViewModel.actionEvents).subscribe()),this.showConfetti=G.a.create(!1);var vr=function(){var e,t=q.successLensViewModel.successState.get(),n=q.lensState.get();return At.a.isInSuccess(n)&&t.type===mt.a.SuccessType.zero&&!(null===(e=t.showBirthday)||void 0===e||!e)};this._subs.push(Qt.pipe(S.a.switchMap((function(e){if(e){var t=new Ot.a(q.navigationViewModel,q._denaliEditorModel),n=new yt.a(q._denaliEditorModel),r=new _t.a(q._denaliEditorModel,q._engine.positionManager),i=G.a.create(d.g.none),a=G.a.create(!1),o=Object(qt.e)(q._denaliEditorModel,n,r,(function(){a.set(!0)}),i),s=Object(qt.d)(q._telemetryContainerId,q._environment,t);return S.a.from(Kt.a.create({capi:q._engine.obsCapiClient,sessionModel:q._engine.sessionModel,capiService:Ut,denaliEditorModel:q._denaliEditorModel,userAccount:q._userAccount,navigation:t,dialect:q._dialectSettings,isDemoDocument:q._engine.sessionModel.isDemoDocument,availabilityService:q.cheetahAvailabilityService,telemetry:q._telemetry,inlineManager:q._inlineManager,platformEnvironment:q._platformEnvironment,config:q._config,modalManager:q.modalManager,upgradeVM:q.upgradeViewModel,selectionRange:i,textEditorService:o,usedDuringSession:a,lifecycleService:s})).pipe(S.a.take(1),S.a.map(d.g.some))}return S.a.of(d.g.none)})),S.a.map(d.g.tap((function(e){return q._subs.push(S.a.fromEvent(window,"beforeunload").subscribe((function(){return e.dispose()})))})))).subscribe(k.b.toAtom(this._cheetahViewModel))),this.cheetahViewModel=this._cheetahViewModel.view(),this.onboardingViewModel=new Ln(this._userAccount.settings,this.lensState,this._denaliEditorModel,this._engine.sessionModel,K,this._userAccount.features.onboardingMode(this._engine.sessionModel),this._telemetry,G.a.create(d.g.none),this._getActiveItemWithAlert,(function(){return q.marksViewModel.getFirstMark().pipe(S.b.compact,S.a.map((function(e){return d.g.fromEither(e.getRect())})))}),this.cheetahViewModel,this._userAccount.features),this._subs.push(this.successLensViewModel.successState.pipe(S.a.debounceTime(2e3),S.a.filter(vr)).subscribe((function(){q._userAccount.settings.markBDayGiftSeen(),q._telemetry.gnarSpec.bdayGiftAnimationShow(q._telemetry.pageId),S.a.timer(4e3).subscribe((function(){vr()&&q.showConfetti.set(!0)}))})))}return Object(i.a)(e,[{key:"dispose",value:function(){this._engine.shutdown(),Object(ve.pipe)(this.vbarsViewModel,d.g.tap((function(e){return e.dispose()}))),this.searchViewModel.dispose(),this.successLensViewModel.dispose(),this._lensStateManager.dispose(),this.marksViewModel.dispose(),this.synonymsViewModel.dispose(),d.g.option.map(this._reportViewModel,(function(e){return e.dispose()})),this.downloadViewModel.dispose(),this.navigationViewModel.dispose(),Object(ve.pipe)(this.surveyManager,d.g.map((function(e){return e.dispose()}))),this.documentSettingsViewModel.dispose(),Object(ve.pipe)(this.obtainGradesNotificationManager,d.g.map((function(e){return e.dispose()}))),this.proofitViewModel.dispose(),this._pageTelemetry.dispose(),this._cardsTelemetry.dispose(),this._ethicalAICardTelemetry.dispose(),this._gbRuleCreatedViewModel.dispose(),this._synfonyTelemetry.dispose(),this.inlineCardViewModel.dispose(),this.cardsViewModel.dispose(),Object(ve.pipe)(this._sduiCardsViewModel,d.g.tap((function(e){return e.dispose()}))),Object(ve.pipe)(this._sduiNavigationModel,d.g.tap((function(e){return e.dispose()}))),this.autofocusListener.dispose(),this.hotkeyManager.dispose(),this.cheetahAvailabilityService.dispose(),Object(ve.pipe)(this.cheetahViewModel.get(),d.g.tap((function(e){return e.dispose()}))),this._subs.dispose()}},{key:"_handleFocusUserInputInCards",value:function(){return this._denaliEditorModel.dontFreezeWhen(this.lensState.pipe(S.a.map(Object(u.flow)(_.e.getActiveItem(this._getActiveItemWithAlert),d.g.filter((function(e){return At.a.isAlertCard(e)})),d.g.filter(Object(m.p)(Le.a.hasBackgroundGbPrompt,Object(m.b)(Ze.b.isDefaultItem,Le.a.hasOneGapTransform))),d.g.fold(u.constFalse,u.constTrue))),S.a.startWith(!1),S.a.distinctUntilChanged()),"userInput")}},{key:"_trackPlagiarismAlertsEditing",value:function(){var e=this;return this._engine.checkingDomain.state.pipe(S.a.filter(Object(u.flow)(Se.a.iso.get,(function(e){return e.latestChangeDiff}),lt.a.filter(u.constFalse,(function(e,t){return t.alert.lensType===v.a.Type.Plagiarism&&t.state.type===b.a.State.Type.REMOVED&&(t.state.reason===b.a.State.Removed.Reason.capiDone||t.state.reason===b.a.State.Removed.Reason.textChange)}),u.constFalse),Object(u.not)(lt.a.isEmpty))),S.a.tap((function(){return e._telemetry.gnarSpec.plagiarismAlertEdit(e._docId,e._telemetry.pageId,e._telemetry.pageSessionId)}))).subscribe()}},{key:"createLoaderViewModel",value:function(e){return new yn.b(this._documentLoader.state,this.lensState,this._engine.sessionModel,e,this._denaliEditorModel,this._userAccount.features)}}]),e}()},JLFM:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,i,a=n("a5gI"),o=n("000W"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("mgiE"),d=n("RRF2"),p=n("TKPA"),m=n("D2TP"),f=n("xk6L"),h=n("hzat");!function(e){const t=e=>t=>Object(c.pipe)(t,u.g.map(Object(s.flow)(o.V(t=>e.getAlertByMark(t)),o.Xb(u.h.contramap(({alert:{lensType:e,lensPriority:t}})=>({type:e,priority:t}))(m.a.ord)))));e.fromMarksEvents=(e,n)=>({activeHighlights:Object(c.pipe)(n.activeMarks,f.a.map(t(e))),hoveredHighlights:Object(c.pipe)(n.hoveredMarks,f.a.map(t(e)))})}(r||(r={})),function(e){e.Mock=class{constructor(){Object(a._)(this,"alertHovered",new f.a.Subject),Object(a._)(this,"alertClicked",new f.a.Subject),Object(a._)(this,"highlightedAlert",l.a.create(u.g.none))}}}(i||(i={}));class g{constructor(e,t,n,i,o,s){Object(a._)(this,"_ded",void 0),Object(a._)(this,"_markAlertMapper",void 0),Object(a._)(this,"_alertsReader",void 0),Object(a._)(this,"_activeAlertChanges",void 0),Object(a._)(this,"_alertFilter",void 0),Object(a._)(this,"_resolveClickedAlert",void 0),Object(a._)(this,"_impl",void 0),Object(a._)(this,"alertHovered",void 0),Object(a._)(this,"alertClicked",void 0),this._ded=e,this._markAlertMapper=t,this._alertsReader=n,this._activeAlertChanges=i,this._alertFilter=o,this._resolveClickedAlert=s,this._impl=new b(r.fromMarksEvents(this._markAlertMapper,this._ded),this._alertsReader,this._activeAlertChanges,this._alertFilter,this._resolveClickedAlert),this.alertHovered=this._impl.alertHovered,this.alertClicked=this._impl.alertClicked}}class b{constructor(e,t,n,r,i){Object(a._)(this,"_highlightEvents",void 0),Object(a._)(this,"_alertsReader",void 0),Object(a._)(this,"_activeAlertChanges",void 0),Object(a._)(this,"_alertFilter",void 0),Object(a._)(this,"_resolveClickedAlert",void 0),Object(a._)(this,"alertHovered",void 0),Object(a._)(this,"alertClicked",void 0),this._highlightEvents=e,this._alertsReader=t,this._activeAlertChanges=n,this._alertFilter=r,this._resolveClickedAlert=i,this.alertHovered=this._highlightEvents.hoveredHighlights.pipe(f.a.map(u.g.map(o.zb(({alert:e})=>e))),f.a.scan((e,t)=>Object(c.pipe)(t,u.g.chain(t=>Object(c.pipe)(e,u.g.filter(e=>-1!==t.indexOf(e)),u.g.fold(()=>u.g.fromNullable(t[0]),u.g.some)))),u.g.none),f.a.map(u.g.filter(e=>this._alertsReader.isInteractable(e.id)&&!h.a.isPlagiarism(e))),f.a.distinctUntilChanged()),this.alertClicked=this._highlightEvents.activeHighlights.pipe(f.a.withLatestFrom(this._activeAlertChanges,this._alertFilter),f.a.scan((e,[t,n,r])=>{const i=t=>Object(c.pipe)(e,u.g.exists(e=>e.alert.id===t.alert.id)),a=e=>Object(c.pipe)(n,u.g.exists(t=>t.alert.id===e.alert.id)),o=e=>r(e.alert);var s;return Object(c.pipe)(t,u.g.chain(e=>Object(c.pipe)(e,null!==(s=this._resolveClickedAlert)&&void 0!==s?s:d.a.findByPredicateList([Object(p.b)(i,a),a,Object(p.b)(i,o),o,i]),u.g.fold(()=>u.g.fromNullable(e[0]),u.g.some),u.g.map(e=>d.e.update(e,{highlightIndex:e.alert.hasNestedHighlights?0:e.highlightIndex})))))},u.g.empty()),f.a.shareReplay({refCount:!0,bufferSize:1}))}}},JOlZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=void 0;var r=n("pQHw"),i=n("leaS"),a=function(){function e(e,t,n){this._propertiesUrl=r.config(t).url.properties+"/properties",this._httpClient=new i.HttpClient(e,n)}return e.prototype.getAll=function(){return this._httpClient.get(this._propertiesUrl)},e.prototype.getOne=function(e){var t=this._propertiesUrl+"/"+e;return this._httpClient.get(t)},e.prototype.set=function(e){return this._httpClient.post(this._propertiesUrl,e)},e}();t.PropertiesClient=a},JRBS:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"c",(function(){return re})),n.d(t,"b",(function(){return ie})),n.d(t,"e",(function(){return oe})),n.d(t,"f",(function(){return le})),n.d(t,"d",(function(){return ue})),n.d(t,"g",(function(){return me}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("4GyQ"),l=n("+vYo"),u=n("OwvP"),d=n("jY3z"),p=n("sX1a"),m=n("RRF2"),f=n("0kuo"),h=n("TKPA"),g=n("mgiE"),b=n("NDcT"),v=n("fC5a"),y=n("zK/v"),O=n("L8Yl"),_=n("ySi0"),C=n("Butu"),w=n("wuWi"),S=n("h+d6"),k=n("xk6L"),E=n("cZ4c"),j=n("KH+i"),x=n("N5Ay"),A=n("6+at"),I=n("F0/G"),T=n("HGxo");const M=e=>e?I.a:I.b,P=({theme:e,children:t})=>a.createElement(w.j,{className:e.list},t),N=({transform:e,title:t,disabled:n,boldifier:r=W,classes:i,onClick:o})=>a.createElement(v.a,{animationMode:y.a.FromClickPoint,name:"apply-insert",role:"insertion",tag:O.b.div,onClick:o,title:t,disabled:n,className:i.itemInsert},e.map((e,t)=>a.createElement(a.Fragment,{key:t},r(e,i.diff)))),B=({transform:e,theme:t,showOnboarding:n,onClick:i,onExpand:o})=>{const s=a.useContext(b.a.Context),l=e.label.map((e,t)=>a.createElement(a.Fragment,{key:t},e.text)),u=a.createElement(v.a,Object(r._)({animationMode:y.a.FromClickPoint,name:"expand-insert",onClick:o,title:s.synfony.drilldownTooltip(l)},Object(c.c)(t.itemInsert,t.drilldownArrowButton)),a.createElement(_.d.Arrow,{direction:_.a.right,className:t.drilldownIcon}));return a.createElement("div",{className:t.drilldownInsertGroup},a.createElement(v.a,{animationMode:y.a.FromClickPoint,name:"apply-insert",role:"insertion",tag:O.b.div,onClick:i,title:s.synfony.applyTooltip,className:t.itemInsert},l),Boolean(e.subLabels.length)&&(n?a.createElement(ae,null,u):u))},L=({transform:e,title:t,theme:n,onClick:r})=>a.createElement(v.a,{animationMode:y.a.FromClickPoint,name:"apply-remove",role:"deletion",tag:O.b.div,onClick:r,title:t,className:n.itemRemove},e.map((e,t)=>a.createElement(G,{key:t,element:e,theme:n}))),F=({transform:e,title:t,theme:n,onClick:r,children:i})=>a.createElement("div",{className:n.removeOrContainer},e.map((i,o)=>"text"===i.type?a.createElement("span",{key:o,className:o===e.length-1?n.itemContextShifted:n.itemContext},i.text):a.createElement(v.a,{key:o,animationMode:y.a.FromClickPoint,name:"apply-remove-or",role:"deletion",tag:O.b.div,onClick:r,title:t,className:n.itemRemove},a.createElement(G,{element:i,theme:n}))),i),R=e=>a.createElement("span",{className:e.classes.or},a.useContext(b.a.Context).card.or),D=({transform:e,replacements:t,boldifier:n=W,theme:r,strikeThrough:i=!0})=>{var o;const l=e.every(e=>null===e.text.match(/\n/)),u=e.map(e=>e.text).join(""),d=1===t.length?t[0].map(e=>e.text).join(""):"",p=Object(T.e)(u,d),f=Object(s.pipe)(null===(o=p)||void 0===o?void 0:o.oldFragment,e=>Boolean(e)&&m.f.containsSpacesOnly(e)),h=l&&f;return a.createElement("div",Object(c.c)(r.itemOriginal,i&&r.itemOriginalStrikeThrough),a.createElement("span",Object(c.c)(r.itemOriginalContent,h&&r.spacesOnlyContent),e.map((e,t)=>a.createElement(a.Fragment,{key:t},n(e,r.diff)))))},H=()=>{const e=a.useContext(b.a.Context);return a.createElement(d.a.Regular,{a11yContrast:!0},e.beta)},V=({transform:e,boldifier:t=W,header:n,classes:r,onClick:i,beta:o})=>a.createElement(v.a,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n,Boolean(o)&&a.createElement(H,null)):null,e.map((e,n)=>a.createElement(a.Fragment,{key:n},t(e,r.diff)))),U=({transform:e,boldifier:t=W,header:n,classes:r,onClick:i,beta:s})=>a.createElement(v.a,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n,Boolean(s)&&a.createElement(H,null)):null,a.createElement(p.Typography.Base,{className:r.transform},e.filter(e=>[E.k.Text,E.k.Insert].includes(e.type)).map((e,n)=>a.createElement(a.Fragment,{key:n},t(Object(o.unsafeCoerce)(e),r.diff))))),W=m.e.pick("text"),z=({text:e,type:t},n)=>"text"===t?e:a.createElement("span",{className:n},e),G=({element:e,strikeClass:t,theme:n})=>"delete"===e.type?a.createElement("span",Object(c.c)(T.a.getClass(n,e.text),t),e.text):a.createElement(a.Fragment,null,e.text);function q({labels:e,original:t,onlyReplacements:n},r,i,o,s){const c=1===t.length,[l]=c?[t[0].text,e[0][0].text].map((e=>(t,n)=>r=>a.createElement(ne,{index:n,oldText:t,newText:r.text,theme:e}))(o)):[z,z];return a.createElement(P,{theme:o},!n&&a.createElement(D,{transform:t,theme:o,replacements:e}),a.createElement("div",{className:i===j.a.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map((e,t)=>a.createElement(N,{key:t,title:r,onClick:s(t),transform:e,boldifier:l,classes:o}))))}const K=/^\W/,$=(e,t)=>{switch(e.type){case E.k.Delete:return t.fullSentenceDelete;case E.k.Insert:return K.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case E.k.Text:case E.k.List:return"";default:return Object(f.c)(e)}},Z=(e,t)=>{switch(e.type){case E.k.Delete:return t.fullSentenceHidden;case E.k.List:case E.k.Text:case E.k.Insert:return"";default:return Object(f.c)(e)}},Y=(e,t)=>{switch(e.type){case E.k.Delete:return t.fullSentenceHidden;case E.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case E.k.Insert:case E.k.Text:return"";default:return Object(f.c)(e)}},X=(e,t)=>{switch(e.type){case E.k.Delete:return t.fullSentenceHidden;case E.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case E.k.Insert:case E.k.Text:return"";default:return Object(f.c)(e)}},Q=({p:e,theme:t})=>{const n=l.a.create(e.shouldBeCollapsed);return a.createElement(u.a.Fragment,null,n.view(Object(h.c)(a.createElement("span",{className:e.type===E.k.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>n.set(!1),role:"button",tabIndex:0},a.createElement("span",{className:t.collapsiblePartContent},"…")),a.createElement(a.Fragment,null,e.text))))},J=(e,t,n)=>{var r;if(null===(r=e.shouldBeCollapsed)||void 0===r||!r)return e.text;switch(e.type){case E.k.Insert:case E.k.Delete:return t?a.createElement(Q,{p:e,theme:n}):e.text;case E.k.Text:return a.createElement("span",null," … ");default:Object(f.c)(e)}},ee=e=>{const t=Object(s.pipe)(e.showDiff,Object(h.c)($,Z),t=>t(e.transformPart,e.theme));return a.createElement("span",{className:t},J(e.transformPart,e.showDiff,e.theme))},te=e=>{const t=Object(s.pipe)(e.showDiff,Object(h.c)(Y,X),t=>t(e.transformPart,e.theme));return e.transformPart.type===E.k.List?a.createElement("span",{className:t,"data-indent":e.transformPart.indent}):a.createElement("span",{className:t},J(e.transformPart,e.showDiff,e.theme))},ne=({index:e=0,oldText:t,theme:n,newText:r})=>{const i=Object(T.b)(t,r),o=!!i&&m.f.containsSpacesOnly(i[1]);return a.createElement(a.Fragment,null,i?[i[0],a.createElement("span",{key:e,className:o?n.spacesOnlyContent:n.diff},i[1]),i[2]]:r)},re=e=>{const{onMount:t,maxHeight:n}=Object(x.b)(),r=M(e.a11yContrast);return a.createElement(w.a,{mount:t,style:{maxHeight:n.pipe(k.a.map(g.g.getOrElse(o.constUndefined)))},tabIndex:0,className:Object(s.pipe)(e.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>r.minimalFullSentenceBackground,()=>r.fullSentenceBackground))},e.replacements.kind===E.f.WithFormatting?e.replacements.labels.map((t,n)=>a.createElement(te,{showDiff:e.showDiff,transformPart:t,key:n,theme:r})):e.replacements.labels.map((t,n)=>a.createElement(ee,{showDiff:e.showDiff,transformPart:t,key:n,theme:r})))},ie=({replacements:e,layoutDensity:t,a11yContrast:n,selection:r,onClick:i,onDive:o,onBack:s})=>{const c=a.useContext(b.a.Context),{activeLabels:l,original:u}=E.d.getSelectedItems(e,r),d=M(n);return a.createElement(P,{theme:d},a.createElement("div",{className:d.drilldownOriginalRow},r.length>0&&a.createElement(v.a.Ghost,{name:"go-back",title:c.synfony.back,onClick:s,className:d.drilldownBackButton},a.createElement(_.d.Arrow,{direction:_.a.left})),a.createElement(D,{transform:u,theme:d,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),a.createElement("div",{className:t===j.a.Density.cozy?d.cozyArrowInsertsList:d.arrowInsertsList},l.map((e,t)=>a.createElement(B,{key:t,transform:e,showOnboarding:2===t,theme:d,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)}))))},ae=e=>{const t=a.useContext(b.a.Context);return a.createElement(A.b,{alignment:"topLeft",eventType:"onclick",stepId:S.a.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:A.a.rightCenter}},e.children)},oe=e=>{const t=a.useContext(b.a.Context).card,n=""===e.gapValue,r=M(e.a11yContrast);return a.createElement(a.Fragment,null,a.createElement(C.b,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),a.createElement(N,{title:n?"":t.todoAction(e.replacements.tooltipText),boldifier:z,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:n,transform:se(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},se=(e,t,n)=>[...e,{type:E.k.Insert,text:ce(e)+(t||"…")+ce(n)},...n],ce=e=>e.length?" ":"",le=({replacementsLabels:e,layoutDensity:t,a11yContrast:n,onClick:r})=>{const i=a.useContext(b.a.Context).card.todoAction(e.tooltipText),o=M(n);switch(e.type){case E.j.Type.InsertList:return a.createElement(P,{theme:o},e.labels.map((e,t)=>a.createElement(N,{key:t,title:i,onClick:r(t),transform:e,classes:o})));case E.j.Type.DeleteList:return a.createElement(P,{theme:o},e.labels.map((e,t)=>a.createElement(L,{key:t,title:i,onClick:r(t),transform:e,theme:o})));case E.j.Type.Arrow:return q(e,i,t,o,r);case E.j.Type.InsertOr:return a.createElement(P,{theme:o},a.createElement(N,{transform:e.labels[0],title:i,onClick:r(0),boldifier:z,classes:o}),a.createElement(R,{classes:o}),a.createElement(N,{transform:e.labels[1],title:i,onClick:r(1),boldifier:z,classes:o}));case E.j.Type.DeleteOr:return a.createElement(P,{theme:o},e.labels.map((t,n)=>a.createElement(F,{key:n,title:i,onClick:r(n),theme:o,transform:t},n===e.labels.length-2&&a.createElement(R,{classes:o}))));case E.j.Type.Citation:case E.j.Type.FullSentence:case E.j.Type.OneGap:case E.j.Type.Drilldown:case E.j.Type.ShortenIt:case E.j.Type.ToneAI:return null;default:return Object(f.c)(e)}},ue=({replacementsLabels:e,onClick:t,header:n,customStyle:r,a11yContrast:i,beta:o})=>{const s=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,c=M(i);switch(e.type){case E.j.Type.DeleteList:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>a.createElement(V,{key:i,onClick:t(i),classes:{item:r.itemRemove,inlineHeader:s,diff:c.diff},boldifier:e=>a.createElement(G,{element:e,strikeClass:r.strike,theme:c}),transform:e,header:0===i?n:""})));case E.j.Type.InsertList:case E.j.Type.InsertOr:case E.j.Type.Arrow:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>a.createElement(V,{key:i,onClick:t(i),classes:{item:r.itemInsert,inlineHeader:s,diff:c.diff},transform:e,boldifier:e=>z(e,r.diff),header:0===i?n:""})));case E.j.Type.FullSentence:return a.createElement("div",{className:r.inlineWrappedList},a.createElement(U,{onClick:t(0),classes:{item:r.itemInsert,inlineHeader:s,diff:c.diff,transform:r.transform},transform:e.labels,boldifier:e=>z(e,r.diff),header:n,beta:o}));case E.j.Type.DeleteOr:case E.j.Type.OneGap:case E.j.Type.Drilldown:case E.j.Type.ShortenIt:case E.j.Type.ToneAI:case E.j.Type.Citation:return null;default:return Object(f.c)(e)}},de=({label:e,a11yContrast:t})=>{const n=e.findIndex(e=>e.type===E.k.Delete);let o=e.reduce((e,t)=>e=e.concat(t.text.split(" ").map(e=>({word:e,isDelete:t.type===E.k.Delete,shouldHighlight:!1}))),[]).filter(e=>""!==e.word);return o=0===n?o.filter(e=>!e.isDelete).map((e,t)=>{let n=!1;return t-2<0&&(n=!0),Object(i._)(Object(r._)({},e),{shouldHighlight:n})}):n===e.length-1?o.filter(e=>!e.isDelete).map((e,t,n)=>{let a=!1;return t+2>=n.length&&(a=!0),Object(i._)(Object(r._)({},e),{shouldHighlight:a})}):o.map((e,t,n)=>{let a=!1;return(void 0!==n[t+1]&&n[t+1].isDelete||void 0!==n[t-1]&&n[t-1].isDelete)&&(a=!0),Object(i._)(Object(r._)({},e),{shouldHighlight:a})}).filter(e=>!e.isDelete),a.createElement(a.Fragment,null,o.map((e,n,r)=>a.createElement("span",{key:`${e.word}-${n}`,className:e.shouldHighlight?M(t).toneAIInsert:void 0},e.word,void 0===r[n+1]||Object(T.c)(r[n+1].word)?"":" ")))},pe=({label:e,a11yContrast:t})=>a.createElement(a.Fragment,null,e.filter(e=>e.type!==E.k.Delete).map(e=>a.createElement("span",{key:e.text,className:e.type===E.k.Insert?M(t).toneAIInsert:void 0},e.text))),me=({label:e,className:t,a11yContrast:n})=>{let r;return r=!e.some(e=>e.type===E.k.Insert)?a.createElement(de,{label:e,a11yContrast:n}):a.createElement(pe,{label:e,a11yContrast:n}),a.createElement("div",{className:t},r)}},JSRc:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="cheetah:"+n("KMes").b.version,i="CHEETAH"},JUw6:function(e){e.exports=JSON.parse('{"secondTier":"_fff97a92-document-view-secondTier","secondTierLoader":"_28c5f0ad-document-view-secondTierLoader _fff97a92-document-view-secondTier","invisibleSecondTier":"_3bf7ac70-document-view-invisibleSecondTier _fff97a92-document-view-secondTier","horizontal":"_4a6e6106-document-view-horizontal","horizontalEditorWrapper":"_62489cd6-document-view-horizontalEditorWrapper","fixedHorizontal":"_b15ab221-document-view-fixedHorizontal","inlineCardWrapper":"_3d817d93-document-view-inlineCardWrapper","baseLoaderClass":"_6a85d163-document-view-baseLoaderClass","textLoaderWrap":"_23159c5b-document-view-textLoaderWrap","fixedLoader":"_fcc28cfc-document-view-fixedLoader","overlayVisible":"_27da620b-document-view-overlayVisible","fixedOverlay":"_085dcda9-document-view-fixedOverlay","withPlaceForScrollbar":"_0981226d-document-view-withPlaceForScrollbar","documentContainer":"_f95a18f5-document-view-documentContainer","documentPlaceholder":"_ab1c6375-document-view-documentPlaceholder"}')},JcQk:function(e,t,n){"use strict";n.d(t,"a",(function(){return je}));var r=n("B8yO"),i=n("DTwm"),a=n("tiWp"),o=n("OwvP"),s=n("xk6L"),c=n("SOPW"),l=n("eAYH"),u=n("KH+i"),d=n("LqiM"),p=n("8O/t"),m=n("X76w"),f=n("+vYo"),h=n("ukVJ"),g=n("sX1a"),b=n("mgiE"),v=n("TKPA"),y=n("0kuo"),O=n("M3t0"),_=n("NDcT"),C=n("fC5a"),w=n("ySi0"),S=n("Butu"),k=n("wuWi"),E=n("Hj2R"),j=n("ZDrO"),x=n("hzat"),A=n("itj6"),I=n("CBmo"),T=n("2swC"),M=n("nWMp");const P=M.a.style({margin:M.a.rem(1)+" 0"}),N=(M.a.style({marginLeft:M.a.rem(.5),lineHeight:M.a.rem(1.3125),fontSize:M.a.rem(.875),color:T.a.CoreNeutral90}),M.a.style({marginLeft:M.a.rem(1)})),B={color:T.a.CoreRed60,fontSize:M.a.rem(.75),lineHeight:M.a.rem(1.125)},L=M.a.style(B),F=M.a.style(B,{visibility:"hidden"}),R=M.a.style({padding:0}),D=M.a.style({paddingTop:M.a.rem(1),paddingLeft:M.a.rem(1),paddingRight:M.a.rem(1),display:"flex"}),H=M.a.style({minWidth:M.a.rem(1)}),V=M.a.style({paddingTop:M.a.rem(.25),paddingLeft:M.a.rem(.5)}),U=M.a.style({paddingLeft:M.a.rem(.5),paddingRight:M.a.rem(1),marginTop:M.a.rem(.5)}),W=M.a.style({display:"flex",alignItems:"center",gap:M.a.rem(.75),marginTop:M.a.rem(1)}),z=M.a.style({flexGrow:1}),G=M.a.style({marginTop:M.a.rem(1.5)}),q=M.a.style({fontWeight:"bold",paddingBottom:M.a.rem(.25)}),K=M.a.style({height:M.a.rem(2.5),paddingLeft:M.a.rem(.5)}),$=M.a.style({height:M.a.rem(6),paddingLeft:M.a.rem(.5)}),Z=M.a.style({paddingTop:M.a.rem(1.5),color:T.a.CoreNeutral50}),Y=M.a.style({display:"flex",flexDirection:"row",columnGap:M.a.rem(.5),alignItems:"center",paddingLeft:M.a.rem(.5),paddingRight:M.a.rem(1),paddingBottom:M.a.rem(.5)}),X=M.a.style({flex:3,textAlign:"center"}),Q=M.a.style({color:T.a.CoreNeutral50,border:"1px solid "+T.a.CoreNeutral20,borderRadius:M.a.rem(.25)});var J=n("jEie");const ee=({card:e,actions:t})=>Object(a.pipe)(e.visualState.transition,b.g.fromPredicate(e=>"feedback_form"===e.type),b.g.fold(()=>(O.d.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null),n=>"survey"===n.formType?r.createElement(te,{card:e,data:n,actions:t}):r.createElement(ne,{card:e,data:n,actions:t}))),te=({card:e,data:t,actions:n})=>{const i=r.useContext(_.a.Context).card.feedbackForm,a=f.a.create(void 0),s=f.a.create(!1),c=r=>n.next(Object(p._)({alertId:e.activeAlert.id,reason:r},t.submitActionType===A.b.Type.alertApplyFormSubmit?{type:A.b.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:A.b.Type.alertIgnoreFormSubmit})),l="survey-title-"+e.id;return r.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>n.next({type:A.b.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:Object(J.b)(e.renderOptions),visualState:e.visualState,body:r.createElement(r.Fragment,null,r.createElement(k.g,{id:l,className:P},t.survey.question||i.dismissReason),r.createElement(h.b.Group,{id:"survey-"+e.id,selectedItemIndex:a,"aria-labelledby":l,items:t.survey.options.map(e=>e.text),onChange:()=>s.set(!1)})),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null,r.createElement(o.a.div,{"aria-hidden":s,className:s.view(Object(v.c)(L,F))},i.error),r.createElement("div",null,r.createElement(C.a.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=a.get();return void 0===e?s.set(!0):j.d.callOnce(()=>c(t.survey.options[e].key))()}},i.submit),r.createElement(C.a.Ghost,{className:N,name:"skipCardFeedbackForm",onClick:j.d.callOnce(()=>c("skipped"))},i.skip))),subActions:r.createElement(r.Fragment,null)})},ne=({card:e,data:t,actions:n})=>{const i=ae(e,t),a="background"===t.gbPrompt.promptType&&E.g.isVox(t.gbPrompt),[o,s]=r.useState("initial"),[c,l]=r.useState(i.source),[u,d]=r.useState(i.target),[f,h]=r.useState(""),b=!("createRule"!==o||c&&u),v=r=>{const i={alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt,patternName:e.activeAlert.patternName,source:c,target:u,description:f};switch(r){case A.b.Type.gbPromptDismiss:n.next(Object(m._)(Object(p._)({},i),{type:r,step:o}));break;case A.b.Type.gbPromptApply:case A.b.Type.gbPromptCreateRule:n.next(Object(m._)(Object(p._)({},i),{type:r}));break;default:Object(y.c)(r)}},O="initial"===o?t.gbPrompt.description:r.createElement(r.Fragment,null,r.createElement("div",{className:W},r.createElement("div",{className:z},r.createElement(g.Typography.Base,{className:q},"Original"),r.createElement(S.b,{name:"gbprompt-source",className:K,value:c,onChange:e=>l(e.target.value)})),r.createElement(g.Typography.Paper,{className:Z},"→"),r.createElement("div",{className:z},r.createElement(g.Typography.Base,{className:q},"Change to"),r.createElement(S.b,{name:"gbprompt-target",className:K,value:u,onChange:e=>d(e.target.value)}))),r.createElement("div",{className:G},r.createElement(g.Typography.Base,{className:q},"Explanation"),r.createElement(S.c,{className:$,value:f,onChange:e=>h(e.target.value),placeholder:"Add it here...",blockExtension:!0})));return r.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>n.next({type:A.b.Type.gbPromptShow,patternName:e.activeAlert.patternName}),theme:Object(m._)(Object(p._)({},Object(J.b)(e.renderOptions)),{wrapper:R}),visualState:e.visualState,header:r.createElement("div",{className:D},r.createElement(w.d.StyleGuide,null),r.createElement(k.g,{className:V},t.gbPrompt.title)),body:r.createElement("div",{className:U},O),mainActions:r.createElement(r.Fragment,null),footer:r.createElement("div",{className:Y},r.createElement(re,{step:o,disabled:b,onClick:()=>{"initial"===o&&a?(s("createRule"),v(A.b.Type.gbPromptCreateRule)):v(A.b.Type.gbPromptApply)}}),r.createElement(ie,{step:o,onClick:()=>v(A.b.Type.gbPromptDismiss)})),subActions:r.createElement(r.Fragment,null)})},re=({step:e,disabled:t,onClick:n})=>{const i=r.useContext(_.a.Context).card.gbPrompt;return"initial"===e?r.createElement(C.a.Primary,{name:"submitGbPromptFeedbackForm",className:X,disabled:t,onClick:j.d.callOnce(n)},r.createElement(w.d.StyleGuideWhite,{width:18,className:H}),i.addRule):r.createElement(C.a.Primary,{name:"submitGbPromptFeedbackForm",className:X,disabled:t,onClick:j.d.callOnce(n)},i.saveRule)},ie=({step:e,onClick:t})=>{const n=r.useContext(_.a.Context).card.gbPrompt;return"initial"===e?r.createElement(C.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Q,onClick:j.d.callOnce(t)},n.dismiss):r.createElement(C.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Q,onClick:j.d.callOnce(t)},n.cancelSavingRule)},ae=(e,t)=>{const n=e.activeAlert,r=t.alertApplyActionProps.alternativeIndex;return x.a.isSuper(n)?E.g.isVox(t.gbPrompt)?oe(n,r):se(n,r):{source:"",target:""}},oe=(e,t)=>{const n=e.labels;return{source:n.filter((e,n)=>n!==t).map(ce)[0],target:ce(n[t])}},se=(e,t)=>({source:"",target:e.labels[t].label}),ce=({replacementTexts:e})=>[...e].sort()[0];var le=n("XVhX"),ue=n("5eEL"),de=n("7IMz"),pe=n("TXN2");const me=M.a.style({marginRight:M.a.rem(-.5),marginTop:M.a.rem(.5)}),fe=M.a.style({padding:`0 ${M.a.rem(1.625)} !important`,marginRight:M.a.rem(.125)}),he=M.a.style({marginRight:0}),ge=({card:e,actions:t,showLabel:n=!0})=>{const i=r.useRef(f.a.create(!1));de.a.useEffectOnWillUnmount(()=>{i.current.get()||Object(a.pipe)(e.muteCategory,b.g.map(n=>t.next({type:A.b.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id})))});const o=r.useContext(_.a.Context).card.mutedAlertCard;return r.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:A.b.Type.mutedAlertSuccessShow}),theme:Object(J.b)(e.renderOptions),visualState:e.visualState,body:r.createElement(r.Fragment,null,n?r.createElement(pe.i,{alert:e.activeAlert,options:e.renderOptions}):null,r.createElement(k.a,null,o.description(Object(a.pipe)(e.muteCategory,b.g.fold(()=>"",e=>e.description))))),mainActions:r.createElement(r.Fragment,null),footer:r.createElement("div",{className:me},r.createElement(C.a.Primary,{name:"gotIt",className:fe,onClick:()=>j.d.callOnce(()=>t.next({type:A.b.Type.switchToNext}))()},o.successButtonLabel),r.createElement(C.a.Ghost,{name:"turnBackOn",onClick:j.d.callOnce(()=>{i.current.set(!0),Object(a.pipe)(e.muteCategory,b.g.map(n=>t.next({type:A.b.Type.undoMuteAlertCategory,categoryId:n.id,viewType:e.activeAlert.type,id:e.id})))})},o.undoButtonLabel,r.createElement(w.d.Undo,{color:T.a.CoreBlue50,className:he}))),subActions:r.createElement(C.a.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:A.b.Type.mutedAlertSuggestionManagementClick})},o.settingsLabel,r.createElement(w.d.OuterLink,null))})};var be=n("cqTd"),ve=n("eveZ"),ye=n("9bwL"),Oe=n("eM7Q");function _e(e,t,n){const{activeAlert:r,activeHighlightIndex:i}=t,a=r.getHighlightRanges(),o=(i+("left"===e?a.length-1:1))%a.length;n.next({type:A.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const Ce=({card:e,actions:t,selectedLabelIndex:n,isChecking:i})=>{const a=r.useContext(_.a.Context),o=f.a.create(!1);return de.a.useSubscriptionTo(i.pipe(s.a.tap(e=>o.set(e)))),r.createElement(pe.q,{applyMessage:e.activeAlert.todoAction,checkingMessage:a.card.checking,title:a.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:A.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:c.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:c.a.isEligibleForGbPrompt(e),cardType:A.b.getCardType(e)})}})},we=({card:e,actions:t})=>r.createElement(Oe.a,{onLeftClick:()=>_e("left",e,t),onRightClick:()=>_e("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var Se=n("zpyO");const ke=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const i=r.useContext(_.a.Context);return r.createElement("div",{className:Se.a.optionsContainer},e.labels.map((a,o)=>r.createElement(r.Fragment,{key:"option-"+o},r.createElement(h.b.Item,{id:`${e.id}-${o}`,className:Se.a.optionLabel,onChange:()=>{t.set(o),n.next({type:A.b.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view(e=>e===o)},a.label),r.createElement(k.l,{className:Se.a.optionExample},a.replacementTexts.join("; ")),r.createElement(k.l,{className:Se.a.optionSecondaryAttribute},i.card.matchesNavigation.numberOfMatches(a.matches)))))},Ee=({card:e,actions:t,isChecking:n,isCheckingGlobal:i})=>{const a=f.a.create(0);return r.createElement(I.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:A.b.Type.alertCardShow,cardType:A.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(p._)({wrapper:(o=e.renderOptions,o.hasOwnProperty("features")&&o.features.has(u.a.Features.sduiContainerStyle)?Se.a.sduiSuperWrapper:Se.a.superWrapper),content:i.pipe(s.a.map(Object(v.c)(Se.a.loadingWrapperInvisible,Se.a.loadingWrapper)))},Object(J.a)(e.renderOptions.layoutDensity)),extra:r.createElement(pe.c,{isChecking:i}),body:r.createElement(r.Fragment,null,r.createElement(pe.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(pe.p,{alert:e.activeAlert}),r.createElement(pe.k,{card:e,isChecking:n}),r.createElement(pe.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),r.createElement(ke,{activeAlert:e.activeAlert,selectedLabelIndex:a,actions:t})),mainActions:r.createElement(pe.e,{card:e,feedbackActions:t}),footer:r.createElement(r.Fragment,null,r.createElement(pe.g,{card:e}),r.createElement(Ce,{selectedLabelIndex:a,card:e,actions:t,isChecking:n})),navigation:r.createElement(we,{card:e,actions:t}),subActions:r.createElement(ye.a,{actions:t,card:e,mode:"mini"})});var o};var je;!function(e){e.Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:a,transform:l}=c.a.useCardStates(e),u=e=>r.createElement(le.a,{card:e,actions:t,isChecking:n,transform:l,isCheckingGlobal:a});return r.createElement(o.a.Fragment,null,e.pipe(s.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()),s.a.map(Object(i.flow)(c.a.match({super:e=>r.createElement(Ee,{card:e,actions:t,isChecking:n,isCheckingGlobal:a}),takeaway:u,synfony:u,shortenIt:u,toneAI:u,ethicalAI:u,suggestedSnippet:u,knowledgeHubSuggestedTerm:u,default:u}),c.a.foldCard))))},e.Mini=({card:e,actions:i})=>r.createElement(o.a.Fragment,null,e.pipe(s.a.map(e=>u.a.Density.matchL(()=>r.createElement(t,{card:e,actions:i}),()=>r.createElement(n,{card:e,actions:i}),()=>r.createElement(n,{card:e,actions:i}))(e.renderOptions.layoutDensity))));var t=e.MiniSingleLined=({card:e,actions:t})=>{function n(e){return r.createElement(ue.a.Standard,{card:e,actions:t})}return Object(a.pipe)(e,c.a.match({super:n,takeaway:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return r.createElement(be.a.Mini,{card:e,actions:t})},suggestedSnippet:n,knowledgeHubSuggestedTerm:n,default:n}),c.a.foldCard)},n=e.MiniTwoLined=({card:e,actions:t})=>{function n(e){return r.createElement(ue.a.TwoLined,{card:e,actions:t})}return Object(a.pipe)(e,c.a.match({super:n,takeaway:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return r.createElement(be.a.Mini,{card:e,actions:t,twoLined:!0})},suggestedSnippet:n,knowledgeHubSuggestedTerm:n,default:n}),c.a.foldCard)};e.Success=({cardData:e,actions:t,isLastCard:n})=>{function i(){return r.createElement(d.a.Success,{actions:t,isLastCard:n})}return Object(a.pipe)(e,l.b.match({takeaway:i,default:i,synfony:i,super:i,shortenIt:i,toneAI:i,ethicalAI:i,suggestedSnippet:function(e){return r.createElement(ve.a.Success,{card:e,actions:t})},knowledgeHubSuggestedTerm:i}),c.a.foldCard)},e.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return r.createElement(ee,{card:e,actions:t})}return Object(a.pipe)(e,l.b.match({takeaway:n,default:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,suggestedSnippet:n,knowledgeHubSuggestedTerm:n}),c.a.foldCard)},e.MutedAlert=({cardData:e,actions:t})=>{function n(e){return r.createElement(ge,{card:e,actions:t})}return Object(a.pipe)(e,l.b.match({takeaway:n,default:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,suggestedSnippet:n,knowledgeHubSuggestedTerm:n}),c.a.foldCard)}}(je||(je={}))},Je0D:function(e,t,n){e.exports=n.p+"files/2fdff5731e4f939b623f3e6d82b7eacf/mutedAlerts.mp4"},Jqms:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return I}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("09dI"),s=n("OwvP"),c=n("4GyQ"),l=n("koeM"),u=n("ySi0"),d=n("nWMp"),p=n("xk6L"),m=n("mgiE");const f={position:"absolute",alignItems:"end",overflow:"visible",cursor:"pointer",width:d.a.rem(1),$nest:{"&:after":{content:'""',position:"absolute",left:"0",top:"0",right:d.a.rem(-.625),height:"100%",backgroundColor:"transparent",zIndex:1}}},h={backgroundColor:o.o.Color.Green60,width:d.a.px(4),borderRadius:d.a.px(2),position:"absolute",top:0,right:0,bottom:0},g=Object(i._)(Object(r._)({},h),{bottom:`calc(${d.a.rem(1.5)} + 1px)`}),b={position:"absolute",left:0,top:d.a.px(1),padding:d.a.rem(.25),boxShadow:o.o.Elevation.Elevation100.boxShadow,borderRadius:d.a.rem(.5),fontSize:d.a.rem(.75),background:"white",display:"flex",alignItems:"center",justifyContent:"center",$nest:{div:{width:"fit-content",display:"flex"}},width:"max-content",minHeight:d.a.rem(2.625),minWidth:d.a.rem(8),maxWidth:d.a.rem(16)},v=Object(i._)(Object(r._)({},b),{borderTopLeftRadius:0}),y={right:0,position:"absolute",width:d.a.rem(1.5),height:d.a.rem(1.5),cursor:"pointer"},O=Object(i._)(Object(r._)({},y),{bottom:0,zIndex:999,overflow:"visible"}),_=Object(i._)(Object(r._)({},y),{top:0,border:`${d.a.px(.5)} solid ${o.o.SemanticColor.Color.Border.Base.Subdued}`,borderRadius:`${d.a.rem(1)} ${d.a.rem(1)} 0 ${d.a.rem(1)}`,boxShadow:o.o.Elevation.Elevation100.boxShadow,display:"flex",alignItems:"center",justifyContent:"center",background:"white"}),C=Object(i._)(Object(r._)({},_),{borderRadius:`${d.a.rem(1)} 1px ${d.a.rem(1)} ${d.a.rem(1)}`}),w={$nest:{svg:{width:d.a.rem(1.25)}}},S={marginRight:d.a.rem(.25),marginLeft:0},k=d.a.stylesheet({vbarWrapper:[f],vbarLine:[h],vbarLineWithSticker:[g],vbarStickerReplacementExpanded:[b],vbarStickerInsertionExpanded:[v],vbarStickerContainer:[O],vbarStickerInsertion:[_],vbarStickerReplacement:[C],vbarActionIcon:[w],vbarSuggestionText:[S]}),E=({model:e,inlineCard:t,suggestionFeedback:n})=>{const r=e.isVisibleFeedbackModal.view(m.g.isSome);return a.createElement(a.Fragment,null,a.createElement(s.a.Fragment,null,e.isVisibleFeedbackModal.view(t=>m.g.isSome(t)?n({visible:r,alert:t.value,submitFeedback:n=>e.submitFeedback(t.value.id,n),close:()=>e.onCloseFeedbackModal()}):null)),a.createElement(s.a.Fragment,null,e.items.pipe(p.a.map(n=>a.createElement(a.Fragment,null,n.map(n=>a.createElement(j,{key:n.alert.id,model:n,applyAlert:()=>e.applyAlert(n.alert.id),giveFeedback:()=>e.onGiveFeedbackClick(n.alert.id),dismissAlert:()=>e.dismissAlert(n.alert.id),onMount:()=>e.onVbarMount(n.alert.id),onClick:()=>e.onVbarClick(n.alert.id),onClose:e.onVbarClose.bind(e),onMouseEnter:()=>e.onVbarMouseEnter(n.alert.id),onMouseLeave:()=>e.onVbarMouseLeave(n.alert.id),inlineCard:t,withSticker:n.withSticker})))))))},j=({model:e,applyAlert:t,dismissAlert:n,giveFeedback:o,onClick:u,onClose:d,onMount:m,onMouseEnter:f,onMouseLeave:h,inlineCard:g,withSticker:b})=>{a.useEffect(()=>{m()},[m]);const v=a.useContext(l.a.Context),y=I(e);return"opened"===e.state?g({alert:e.alert,position:y.card,applyAlert:t,dismissAlert:n,giveFeedback:o,title:e.alert.title,close:d}):a.createElement(s.a.div,Object(i._)(Object(r._)({role:"button",onClick:u,onMouseEnter:f,onMouseLeave:h,key:e.alert.id},Object(c.c)(k.vbarWrapper)),{style:Object(r._)({},y.vbar)}),a.createElement("div",{className:b?k.vbarLineWithSticker:k.vbarLine,style:{visibility:y.isVbarTooShort&&b?"hidden":"visible"}}),b&&v.pipe(p.a.map(e=>16===e?"medium":e>16?"large":"small"),p.a.map(t=>a.createElement(x,{mode:"replacement",size:t,text:e.alert.miniCardTitle,isExpanded:"hovered"===e.state}))))},x=({isExpanded:e,text:t,mode:n,size:r})=>a.createElement("div",{className:k.vbarStickerContainer},e?a.createElement("div",{className:"insertion"===n?k.vbarStickerInsertionExpanded:k.vbarStickerReplacementExpanded},a.createElement("div",{className:k.vbarActionIcon},"replacement"===n?a.createElement(u.g.Replacement,null):a.createElement(u.g.Insertion,null)),a.createElement("div",Object(c.c)(k.vbarSuggestionText),t),a.createElement("div",null,a.createElement(o.g,{icon:o.m,size:r,accessibilityLabel:"Open suggestion"}))):a.createElement("div",{className:"insertion"===n?k.vbarStickerInsertion:k.vbarStickerReplacement},"replacement"===n?a.createElement(u.g.Replacement,null):a.createElement(u.g.Insertion,null))),A=1;function I(e){const t=e.bottom-e.top<40;return{card:{left:`calc(${d.a.px(e.left)} - ${d.a.rem(A)})`,top:e.bottom+"px"},vbar:{left:`calc(${d.a.px(e.left)} - ${d.a.rem(1)} - ${d.a.rem(.25)})`,top:e.top+"px",height:t&&e.withSticker?d.a.rem(1.75).toString():d.a.px(e.bottom-e.top)},isVbarTooShort:t}}},Jr5U:function(e,t,n){"use strict";n.d(t,"b",(function(){return ut})),n.d(t,"e",(function(){return pt})),n.d(t,"a",(function(){return mt})),n.d(t,"g",(function(){return ft})),n.d(t,"f",(function(){return ht})),n.d(t,"c",(function(){return gt})),n.d(t,"d",(function(){return bt})),n.d(t,"h",(function(){return vt}));var r=n("LzOy"),i=n("8O/t"),a=n("X76w"),o=n("0Uv3"),s=n("DTwm"),c=n("pbOK"),l=n("wvT7"),u=n("HOlR"),d=n("cZKX"),p=n("IMGo"),m=n("ZZle"),f=n("5FCM"),h=n("L1No"),g=n("Jvac"),b=n("0Qjk"),v=n("La5+"),y=n("yIk2"),O=n("xk6L"),_=n("0kuo"),C=n("mgiE"),w=n("TKPA"),S=n("+vYo"),k=n("7bSy"),E=n("lKCo");function j(e){return Object(s.pipe)(E.fromNullable(e.changesSummary),E.filter(({title:e})=>""!==e),E.chain(({title:e,description:t})=>Object(s.pipe)(p.F(t),E.map(t=>({title:e,description:t})))))}var x,A=n("+lox"),I=n("KMes");!function(e){let t;function n(e){switch(e){case"sensitiveResult":return{header:"Assistance is unavailable",text:"Assistance is unavailable for that text or prompt.\nTry something else."};case"overload":return{header:"Couldn’t generate text",text:"We’re handling a lot of prompts right now and couldn’t generate that text.\nPlease try again later."};case"unsupportedLanguage":return{header:"Hmm, don’t know that language",text:"Assistance is currently only available for English."};case"critical":case"timeout":case"emptyResult":case"truncatedResult":case"usageExceeded":return{header:"Something went wrong",text:"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."};default:return Object(s.absurd)(e)}}!function(e){e.create=function(e){switch(e){case I.c.ErrorKind.Generic:return"critical";case I.c.ErrorKind.Overflow:return"truncatedResult";case I.c.ErrorKind.PromptsLimitExceeded:return"usageExceeded";case I.c.ErrorKind.SensitiveContent:return"sensitiveResult";case I.c.ErrorKind.ServerOverloaded:return"overload";case I.c.ErrorKind.UnsupportedLanguage:return"unsupportedLanguage";default:return Object(s.absurd)(e)}}}(t=e.Reason||(e.Reason={})),e.create=function(e){const r=t.create(e.kind),i=Object(s.pipe)(l.a(E.Applicative)({header:Object(s.pipe)(E.fromNullable(e.title),E.filter(e=>""!==e.trim())),text:Object(s.pipe)(E.fromNullable(e.text),E.filter(e=>""!==e.trim()))}),E.getOrElse(()=>n(r)));return Object.assign({reason:r},i)},e.createCriticalError=function(e){return{reason:"critical",header:"Something went wrong",text:e?"We’re not sure what happened.\nPlease try again later.":"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."}},e.createEmptyResultError=function(){return Object.assign({reason:"emptyResult"},n("emptyResult"))}}(x||(x={}));var T=n("o2Co"),M=n("b03l");var P=n("SD/g"),N=n("RXDX"),B=n("vqgI");function L(e){return B.a.isRewriteOrQuickRewrite(e.mode)}function F(e){return B.a.isQuickReply(e.mode)}function R(e){return B.a.isPushRewrite(e.mode)}var D,H=n("GMJx");!function(e){const t={"Cheetah/_System/Push/SimplifyRewrite":{copiablePrompt:E.none,iconUrl:E.some("https://assets.grammarly.com/cheetah/v1/actions/simplify.svg"),label:"Simplify your text"},"Cheetah/_System/Push/ImproveParagraph":{copiablePrompt:E.none,iconUrl:E.some("https://assets.grammarly.com/cheetah/v1/actions/improve.svg"),label:"Improve your text"}};e.toPreviousText=function(e){return Object(s.pipe)(e,E.fromPredicate(e=>e.alertPname in t),E.map(e=>({kind:"writerExpert",suggestionId:e.alertId,pname:e.alertPname,text:e.replacementText})))},e.getInitialResult=function(e,n){const r=u.left((new H.a).insert(e.replacementText));return Object(s.pipe)(E.fromNullable(t[e.alertPname]),E.map(t=>({kind:"complete",id:P.a.Id.create(0),header:t,replacementDelta:r,text:e.replacementText,references:E.none,source:E.none,changesSummary:E.none,timestamp:Date.now(),supportedActions:new Set([P.a.SupportedAction.insert].concat(n?[P.a.SupportedAction.copy]:[])),boundaryContextId:E.none})))}}(D||(D={}));var V=n("wC8/"),U=n("GbV8"),W=n("g76U"),z=n("PiEC"),G=n("N0Y4"),q=n("yKm6");var K=n("yuAa");const $={CheetahFetchSkills:new K.Gate("cheetah_fetch_skills")};var Z,Y=n("hHDN"),X=n("u8VC"),Q=n("QpYi"),J=n("V+fo");!function(e){let t,n;e.fromOuterContext=function(e){var n,r,i,a;const o=e=>Object(s.pipe)(E.fromNullable(null==e?void 0:e.from),E.chain(d.ib),E.fold(()=>t.empty,t.fromNameAndEmailString)),c=e=>Object(s.pipe)(E.fromNullable(null==e?void 0:e.to),E.chain(p.F),E.map(p.R(t.fromNameAndEmailString)),E.getOrElseW(()=>[])),l=Object(s.pipe)(E.fromNullable(e.items),E.chain(d.ib),E.getOrElseW(()=>{}));return{previousMessageInfo:{author:o(null==l?void 0:l.people),directRecipients:c(null==l?void 0:l.people),text:null!==(n=null==l?void 0:l.text)&&void 0!==n?n:""},title:null!==(r=e.title)&&void 0!==r?r:"",author:o(e.people),directRecipients:c(e.people),indirectRecipients:Object(s.pipe)(E.fromNullable(null===(i=e.people)||void 0===i?void 0:i.cc),E.chain(p.F),E.map(p.R(t.fromNameAndEmailString)),E.getOrElseW(()=>[])),undisclosedRecipients:Object(s.pipe)(E.fromNullable(null===(a=e.people)||void 0===a?void 0:a.bcc),E.chain(p.F),E.map(p.R(t.fromNameAndEmailString)),E.getOrElseW(()=>[]))}},e.toOuterContext=function(t){return{title:t.title,people:{from:[e.Person.extractNameAndEmailString(t.author)],to:t.directRecipients.map(e.Person.extractNameAndEmailString),cc:t.indirectRecipients.map(e.Person.extractNameAndEmailString),bcc:t.undisclosedRecipients.map(e.Person.extractNameAndEmailString)},items:[{text:t.previousMessageInfo.text,people:{from:[e.Person.extractNameAndEmailString(t.previousMessageInfo.author)],to:t.previousMessageInfo.directRecipients.map(e.Person.extractNameAndEmailString)}}]}},e.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(e){e.empty={name:"",email:""},e.fromNameAndEmailString=function(t){return Object(s.pipe)(E.fromNullable(t.match(/^([^<]*)<(.*)>$/)),E.map(e=>{var t,n,r,i;return{name:null!==(n=null===(t=e[1])||void 0===t?void 0:t.trim())&&void 0!==n?n:"",email:null!==(i=null===(r=e[2])||void 0===r?void 0:r.trim())&&void 0!==i?i:""}}),E.getOrElse(()=>e.empty))},e.extractNameAndEmailString=function(e){const t=""!==e.email?`<${e.email}>`:"";return[e.name,t].filter(e=>""!==e).join(" ")}}(t=e.Person||(e.Person={})),function(e){e.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=e.PreviousMessageInfo||(e.PreviousMessageInfo={}))}(Z||(Z={}));var ee=n("OX5W"),te=n("r53K");const ne=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function re(e,t,n,r,i){let a,o,s,c,l,u,d,p,m,f,h,g,b;for(;i>=64;){for(a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],p=t[7],f=0;f<16;f++)h=r+4*f,e[f]=(255&n[h])<<24|(255&n[h+1])<<16|(255&n[h+2])<<8|255&n[h+3];for(f=16;f<64;f++)m=e[f-2],g=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=e[f-15],b=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,e[f]=(g+e[f-7]|0)+(b+e[f-16]|0);for(f=0;f<64;f++)g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&d)|0)+(p+(ne[f]+e[f]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&s^o&s)|0,p=d,d=u,u=l,l=c+g|0,c=s,s=o,o=a,a=g+b|0;t[0]+=a,t[1]+=o,t[2]+=s,t[3]+=c,t[4]+=l,t[5]+=u,t[6]+=d,t[7]+=p,r+=64,i-=64}return r}class ie{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,t=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(re(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=re(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this}finish(e){if(!this.finished){const e=this.bytesHashed,t=this.bufferLength,n=e/536870912|0,r=e<<3,i=e%64<56?64:128;this.buffer[t]=128;for(let e=t+1;e<i-8;e++)this.buffer[e]=0;this.buffer[i-8]=n>>>24&255,this.buffer[i-7]=n>>>16&255,this.buffer[i-6]=n>>>8&255,this.buffer[i-5]=n>>>0&255,this.buffer[i-4]=r>>>24&255,this.buffer[i-3]=r>>>16&255,this.buffer[i-2]=r>>>8&255,this.buffer[i-1]=r>>>0&255,re(this.temp,this.state,this.buffer,0,i),this.finished=!0}for(let t=0;t<8;t++)e[4*t+0]=this.state[t]>>>24&255,e[4*t+1]=this.state[t]>>>16&255,e[4*t+2]=this.state[t]>>>8&255,e[4*t+3]=this.state[t]>>>0&255;return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let t=0;t<this.state.length;t++)this.state[t]=e[t];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);var ae=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};function oe(e,t){switch(e.historyStatus){case N.a.HistoryStatus.restoreDisabled:return e.historyStatus;case N.a.HistoryStatus.unknown:case N.a.HistoryStatus.noHistory:case N.a.HistoryStatus.hasHistory:return void 0!==t?t>0?N.a.HistoryStatus.hasHistory:N.a.HistoryStatus.noHistory:N.a.HistoryStatus.unknown;case N.a.HistoryStatus.historyRequested:case N.a.HistoryStatus.historyRestored:return"started"===e.kind&&void 0!==e.results.find(P.a.isHistory)?N.a.HistoryStatus.historyRestored:N.a.HistoryStatus.restoreDisabled;default:Object(_.d)(e.historyStatus)}}function se(e,t=!1){return Object(s.pipe)(e.replacementDelta,u.fold(s.identity,({preferVoice:e,generic:n,user:r})=>t?e===P.a.GeneratedTextVoice.generic?n:r:n),e=>Object(ee.a)(e,""))}function ce(e){return f.J(()=>"started"===e.kind?u.right(e):u.left(new Error("Session not started")))}function le(e,t,n,r){var i;const a=Object(s.pipe)(N.a.toStarted(n),C.g.fold(()=>[],e=>e.voiceProfile.roles));return{kind:"newVoiceProfile",userName:e.userName,title:e.title,subTitle:e.subTitle,profiles:e.profiles,isEnabledByDefault:e.myVoiceIsEnabledByDefault.state,isEnabledByDefaultLabel:e.myVoiceIsEnabledByDefault.label,dialects:q.a.Dialect.all(),roles:Object(s.pipe)(null!==(i=t.roles)&&void 0!==i?i:[],d.ub(e=>({id:q.a.Role.Id.create(e),label:e})),e=>e.length>0?e:a),selectedDialect:Object(s.pipe)(N.a.toStarted(n),C.g.fold(()=>q.a.Dialect.Id.create(r),e=>e.voiceProfile.selectedDialect)),selectedRole:Object(s.pipe)(C.g.fromNullable(t.selectedRole),C.g.map(e=>e.trim()),C.g.filter(e=>""!==e),C.g.map(q.a.Role.Id.create)),needsSetup:!1}}function ue(e,t,n){var r,i;const a=Object(s.pipe)(N.a.toStarted(t),C.g.map(e=>e.voiceProfile),C.g.chain(q.a.toLegacyVoiceProfile),C.g.fold(()=>[],e=>e.styles)),o=Object(s.pipe)(N.a.toStarted(t),C.g.fold(()=>[],e=>e.voiceProfile.roles)),c=Object(s.pipe)(null!==(r=e.styles)&&void 0!==r?r:[],d.ub(e=>({id:q.a.Style.Id.create(e.button.label),label:e.button.label,iconUrl:e.button.iconUrl,tones:e.tones.map(e=>({id:q.a.Tone.Id.create(e.label),label:e.label,iconUrl:e.iconUrl,description:e.description})),maxTones:e.maxTones,description:e.button.description})),e=>e.length>0?e:a),l=q.a.Style.Id.create(e.selectedStyle),u=c.find(e=>q.a.Style.Id.eq.equals(e.id,l));return{kind:"legacyVoiceProfile",styles:c,roles:Object(s.pipe)(null!==(i=e.roles)&&void 0!==i?i:[],d.ub(e=>({id:q.a.Role.Id.create(e),label:e})),e=>e.length>0?e:o),selectedStyle:l,selectedTonesPerStyle:(new Map).set(l,new Set(e.selectedTones.filter(e=>null==u?void 0:u.tones.map(e=>e.id.toString()).includes(e)))),selectedRole:Object(s.pipe)(C.g.fromNullable(e.selectedRole),C.g.map(e=>e.trim()),C.g.filter(e=>""!==e),C.g.map(q.a.Role.Id.create)),dialects:q.a.Dialect.all(),selectedDialect:Object(s.pipe)(N.a.toStarted(t),C.g.fold(()=>q.a.Dialect.Id.create(n),e=>e.voiceProfile.selectedDialect)),needsSetup:e.needSetup}}function de(e,t,n,r,i){return[...Object(s.pipe)(t,d.ub(n=>k.a.createFollowUpQuestionActionInputOrQuickActionInput(n,t,r,i,e)),d.B),...n.map(e=>k.a.createSkillAction(e,r))]}function pe(e,t){const n=Object(s.pipe)(e.args,d.ib,C.g.map(t=>({id:k.a.Id.create(e.id),kind:"userPrompt",arg:{id:k.b.Id.create(t.name),kind:"string",label:t.label,hints:Object(s.pipe)(C.g.fromNullable(t.hint),C.g.map(e=>({header:e.header,items:e.text})))},generatesTextType:C.g.some(I.c.ActionDefGeneratesTextType.Insertable),useReferences:C.g.none,omitReferenceIds:C.g.none,disabled:void 0!==e.disabled,notificationOnAttempt:Object(s.pipe)(C.g.fromNullable(e.disabled),C.g.chain(({onActionNotification:e})=>C.g.fromNullable(e)),C.g.map(({text:e})=>e))})));return C.g.isNone(n)&&t.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args",{promptAction:e}),n}function me(e){return{kind:"quickRewrite",id:k.a.Id.create(e.id),label:Object(Q.sanitize)(e.label,{ALLOWED_TAGS:te.a}),iconUrl:e.iconUrl,generatesTextType:C.g.fromNullable(e.generatesTextType),disabled:void 0!==e.disabled,notificationOnAttempt:Object(s.pipe)(C.g.fromNullable(e.disabled),C.g.chain(({onActionNotification:e})=>C.g.fromNullable(e)),C.g.map(({text:e})=>e))}}function fe(e){return Object(s.pipe)(C.g.fromNullable(e),C.g.map(e=>Object(Q.sanitize)(e,{ALLOWED_TAGS:[...te.a,"person"]})),C.g.map(e=>e.trim()),C.g.filter(e=>e.length>0))}function he(e){return{kind:P.a.isComplete(e)?"regular":P.a.isHistory(e)?"history":Object(_.d)(e),text:se(e)}}function ge(e){return Object(s.pipe)(C.g.fromNullable(e.references),C.g.map(t=>t.map(t=>{var n;return Object.assign(Object.assign({},t),{id:z.a.Id.create(t.id),url:C.g.fromNullable(t.url),contextText:Object(s.pipe)(C.g.fromNullable(null===(n=e.metadata)||void 0===n?void 0:n.knowledge_engine_references),C.g.chainNullableK(e=>{const n=Array.isArray(e)?e.find(e=>e.id===t.id):void 0,r=null==n?void 0:n.contextText;return"string"==typeof r?r:void 0}))})})))}const be=C.g.fromNullable;function ve(e){switch(e){case"ideation":return I.c.GenerationMode.Ideation;case"rewrite":return I.c.GenerationMode.Rewrite;case"quickRewrite":return I.c.GenerationMode.QuickRewrite;case"quickReply":return I.c.GenerationMode.QuickReply;case"pushRewrite":return I.c.GenerationMode.PushRewrite;default:return Object(_.d)(e)}}function ye(e){const t=Object(s.pipe)(e,C.g.fromPredicate(e=>function(e){return B.a.isIdeation(e.mode)}(e)&&!!e.documentUrl),C.g.map(e=>e.documentUrl),C.g.chain(C.g.fromNullable),C.g.chain(_e),C.g.map(e=>({pageIdHash:e}))),n=Object(s.pipe)(e,C.g.fromPredicate(F),C.g.map(e=>Z.toOuterContext(e.quickReplyContext)));return C.g.getMonoid(Object(J.getFirstSemigroup)()).concat(t,n)}function Oe(e){return Object(s.pipe)(e.quickReplyContext,C.g.map(Z.toOuterContext))}function _e(e){var t;return Object(s.pipe)(null!==(t=function(e){var t;return null===(t=e.match(/^https:\/\/docs.google.com\/[a-zA-Z0-9-_]+\/d\/([a-zA-Z0-9-_]+)/))||void 0===t?void 0:t[1]}(e))&&void 0!==t?t:function(e){var t;const n=null!==(t=e.match(/^https:\/\/([a-zA-Z0-9-_]+).atlassian.net\/wiki\/spaces\/[a-zA-Z0-9-_]+\/pages\/([0-9]+)/))&&void 0!==t?t:[];return n[1]&&n[2]?`${n[1]}:${n[2]}`:void 0}(e),C.g.fromNullable,C.g.map(Ce))}function Ce(e){const t=(new TextEncoder).encode(e);return X.Buffer.from(function(e){const t=(new ie).update(e),n=t.digest();return t.clean(),n}(t)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function we(e,t,n,r,i){var a,o;return ae(this,void 0,void 0,(function*(){if((null==i?void 0:i.contextUpdatesServer)&&!A.a.isPending(e)&&n.textRevision===C.g.toUndefined(e.textRevision)){const i=Object(s.pipe)(C.g.isNone(n.selectedRange)?Object(s.pipe)(C.g.fromNullable(null===(a=t.context)||void 0===a?void 0:a.textScope),C.g.filter(e=>e.start!==e.end)):Object(s.pipe)(l.a(C.g.option)({currentSelectionRange:n.selectedRange,backendSelectionRange:C.g.fromNullable(null===(o=t.context)||void 0===o?void 0:o.textScope)}),C.g.filter(({currentSelectionRange:e,backendSelectionRange:t})=>e.start!==t.start||e.end!==t.end),C.g.map(({backendSelectionRange:e})=>e)),C.g.toUndefined);if(i){if(i.start===i.end)return u.right(C.g.none);{const t=yield r(i)();return u.right(Object(s.pipe)(C.g.fromEither(t),C.g.map(e=>({text:e,range:i})),C.g.alt(()=>e.selection)))}}return u.left(void 0)}return u.left(void 0)}))}var Se=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Ee{constructor(e){var t,n,r,i,a;if(this._params=e,this._subs=new v.a.Keeper,this._session=S.a.create(N.a.Starting.initial(this._params.startSessionOptions.mode)),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._historyResultIdByGetContextMessageId=new Map,this._contextMessageIdsTriggeredBySelectionChanges=new Set,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=S.a.create(q.a.Dialect.Id.create("american")),this._cheetahAckIds=new Set,this._searchReferencesUrlsById=new Map,this._cheetahAckHandlers=new Array,this._resultTimeout=void 0,this._contextTimeout=void 0,this._historyTimeout=void 0,this._cheetahAckTimeout=void 0,this._historyAckHandler=void 0,this._skills=[],this._resultTimeoutMs=null!==(t=this._params.resultTimeoutMs)&&void 0!==t?t:2e4,this._contextTimeoutMs=null!==(n=this._params.contextTimeoutMs)&&void 0!==n?n:2e4,this._historyTimeoutMs=null!==(r=this._params.historyTimeoutMs)&&void 0!==r?r:2e4,this._cheetahAckTimeoutMs=null!==(i=this._params.cheetahAckTimeoutMs)&&void 0!==i?i:2e4,this._logger=null!==(a=this._params.logger)&&void 0!==a?a:new Y.a(Ee.name),this._notificationHandler=null,this.session=this._session.view(),this._handleCAPIMessage=e=>{switch(e.action){case"error":return this._handleError(e);case"cheetah":return this._handleCheetahAck(e);case"cheetah:setContext":return void this._handleCheetahSetContext(e);case"cheetah:chunk":return this._handleCheetahChunk(e);case"cheetah:result":return void this._handleCheetahResult(e);case"cheetah:error":return this._handleCheetahError(e);case"cheetah:setUserState":return this._handleCheetahSetUserState(e);case"cheetah:searchReferencesResult":return this._handleCheetahSearchReferencesResult(e);case"cheetah:invalidateContext":return this._getContext();case"cheetah:setHistory":return this._handleCheetahSetHistory(e);case"show_survey":case"emotions":case"finished":case"async_check_finished":return;default:return this._logger.warn("Received unexpected CAPI message",e),Object(_.d)(e)}},L(this._params.startSessionOptions)){const e=this._params.textEditorService.selectedRange.get();Object(s.pipe)(e,C.g.fold(()=>this._init(),e=>Object(U.b)("getText",this._params.textEditorService.getText(e),this._logger,t=>this._init({selectedRange:e,selectedText:t}),t=>{this._logger.warn("getText() - failed to get text from host, defaulting to empty text",{selectedRange:e,error:t}),this._params.monitoringService.notify(Object(T.a)(Object(M.f)({textRange:e,rawError:Object(V.b)(t)}))),this._init()})))}else this._init()}registerNotificationHandler(e){this._notificationHandler=e}_pushNotification(e){var t;null===(t=this._notificationHandler)||void 0===t||t.call(this,e)}_init(e){var t,n;this._session.set({kind:"starting",mode:this._params.startSessionOptions.mode,selectedRange:C.g.fromNullable(null==e?void 0:e.selectedRange),selectedText:Object(s.pipe)(C.g.fromNullable(null==e?void 0:e.selectedText),C.g.filter(e=>e.length>0)),quickReplyContext:C.g.fromNullable(F(this._params.startSessionOptions)?this._params.startSessionOptions.quickReplyContext:void 0),writingExpertContext:C.g.fromNullable(R(this._params.startSessionOptions)?this._params.startSessionOptions.writingExpertContext:void 0),historyStatus:N.a.HistoryStatus.unknown,error:C.g.none,textRevision:0,selectionContextStatus:this._params.selectionContextAvailability&&(null===(t=this._params.selectionContextAvailability.get())||void 0===t?void 0:t.contextUpdatesClient)?N.a.SelectionContextStatus.dynamic:N.a.SelectionContextStatus.static}),this._subs.push(this._params.capiService.relevantInboundCAPIMessages.subscribe(e=>this._handleCAPIMessage(e))),this._subs.push(this._params.userService.user.view("dialect").view(q.a.Dialect.Id.create).subscribe(y.b.toAtom(this._upstreamDialect))),this._subs.push(this._upstreamDialect.subscribe(e=>this._handleUpstreamDialectChange(e))),this._subs.push(this._session.subscribe(e=>this._logger.debug("Session updated:",e))),this._subs.push(this._session.pipe(Object(h.a)((e,t)=>e.kind===t.kind),Object(g.a)(e=>"started"===e.kind)).subscribe(()=>{this._params.trackingService.trackReadyToInteract()})),this._params.selectionContextAvailability&&this._setUpSelectionAvailabilityChangeHandlers(this._params.selectionContextAvailability),this._params.selectionContextAvailability&&null===this._params.selectionContextAvailability.get()?O.a.raceStatic([this._params.selectionContextAvailability.pipe(O.a.filter(e=>null!==e)),O.a.timer(null!==(n=this._params.selectionContextAvailabilityWaitTimeoutMs)&&void 0!==n?n:2e3)]).pipe(O.a.take(1)).subscribe(()=>{this._startSession(this._params.startSessionOptions)}):this._startSession(this._params.startSessionOptions)}_startSession(e,t){Object(U.b)("flush",this._params.textEditorService.flush(),this._logger,()=>{var n,r;const i=L(e)?this._params.textEditorService.selectedRange.get():C.g.fromNullable(void 0),a=ye(e),o=C.g.fromNullable(R(e)?e.writingExpertContext:void 0),c={generationMode:ve(e.mode),selectedRange:C.g.toUndefined(i),outerContext:C.g.toUndefined(a),stateBlob:t,metadata:e.metadata,previousText:Object(s.pipe)(o,C.g.chain(D.toPreviousText),C.g.toUndefined),includeDisabledActions:this._params.selectionContextAvailability&&(null===(n=this._params.selectionContextAvailability.get())||void 0===n?void 0:n.contextUpdatesServer)&&(null===(r=this._params.selectionContextAvailability.get())||void 0===r?void 0:r.contextUpdatesClient)};if(this._params.skillService){const e={skills:this._params.skillService.getSkills(),shouldShowSkills:Object(s.pipe)(this._params.experimentService?this._params.experimentService.isGateEnabled($.CheetahFetchSkills):f.eb(!1),f.bb(e=>new Error(e)))};Object(U.b)("getSkills",l.a(U.a)(e),this._logger,({skills:e,shouldShowSkills:t})=>{t&&(this._skills=e,Object(s.pipe)(N.a.toStarted(this._session.get()),C.g.filter(e=>!e.activeContext.availableActions.some(e=>"skillAction"===e.kind)),C.g.tap(e=>this._session.set(Object.assign(Object.assign({},e),{activeContext:Object.assign(Object.assign({},e.activeContext),{availableActions:e.activeContext.availableActions.concat(this._skills.map(e=>k.a.createSkillAction(e,this._session.get().mode)))}),activeBoundaryContext:Object.assign(Object.assign({},e.activeBoundaryContext),{availableActions:e.activeBoundaryContext.availableActions.concat(this._skills.map(e=>k.a.createSkillAction(e,this._session.get().mode)))})})))))},e=>this._params.monitoringService.notify(Object(T.a)(Object(G.a)({rawError:Object(V.b)(e)}))))}this._getContext(c)})}_setUpSelectionAvailabilityChangeHandlers(e){const t=e.pipe(O.a.map(e=>!!(null==e?void 0:e.contextUpdatesClient)));this._subs.push(t.pipe(O.a.switchMap(e=>e?this._params.textEditorService.selectedRange.pipe(O.a.skip(1),O.b.compact,O.a.auditTime(500),O.a.tap(e=>{this._handleSelectedRangeUpdate(e)})):O.a.EMPTY)).subscribe()),this._subs.push(t.pipe(O.a.switchMap(e=>e?O.a.from(this._params.textEditorService.textUpdated).pipe(O.a.tap(()=>{this._handleTextUpdated()})):O.a.EMPTY)).subscribe()),this._subs.push(t.pipe(O.a.tap(e=>{this._session.modify(t=>Object.assign(Object.assign({},t),{selectionContextStatus:e?N.a.SelectionContextStatus.dynamic:N.a.SelectionContextStatus.static}))})).subscribe())}_handleSelectedRangeUpdate(e){this._logger.debug("_handleSelectedRangeUpdate()",{selectedRange:e}),Object(U.b)("getText",this._params.textEditorService.getText(e),this._logger,t=>{t.trim().length?(this._session.modify(N.a.fold({starting:s.identity,started:n=>Object.assign(Object.assign({},n),{mode:"rewrite",activeContext:Object.assign(Object.assign({},n.activeContext),{kind:"pending",isBoundary:!0,textRevision:C.g.some(n.textRevision),selection:C.g.some({text:t,range:e})}),activeBoundaryContext:Object.assign(Object.assign({},n.activeBoundaryContext),{kind:"pending",isBoundary:!0,textRevision:C.g.some(n.textRevision),selection:C.g.some({text:t,range:e})}),selectedRange:C.g.some(e),selectedText:Object(s.pipe)(C.g.some(t),C.g.filter(e=>e.length>0))})})),this._getContext(void 0,void 0,!0)):this._session.modify(e=>Object.assign(Object.assign({},e),{selectedRange:C.g.none,selectedText:C.g.none}))})}_handleTextUpdated(){this._logger.debug("_handleTextUpdated()"),this._session.modify(N.a.fold({starting:s.identity,started:e=>Object.assign(Object.assign({},e),{textRevision:e.textRevision+1})}))}submitAction(e,t){this._logger.debug("submitAction()",{actionValue:e,selectedVoice:t}),this._submitAction(e,void 0,void 0,void 0,void 0,t)}setVoiceProfile(e){return this._logger.debug("setVoiceProfile()",{voiceProfileSelections:e}),Object(s.pipe)(ce(this._session.get()),f.ab(t=>(this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),e),activeContext:Object.assign(Object.assign({},t.activeContext),{kind:"pending"})})),t)),f.u(t=>Object(s.pipe)(this._params.capiService.cheetahSetVoice({voice:{selectedStyle:e.selectedStyle,selectedTones:Array.from(e.selectedTonesPerStyle.get(e.selectedStyle)||[]),selectedRole:Object(s.pipe)(e.selectedRole,C.g.toUndefined),needSetup:!1}}),f.p(e=>new Error("CAPIService.cheetahSetVoice error: "+e.message),()=>!q.a.Dialect.Id.eq.equals(t.voiceProfile.selectedDialect,e.selectedDialect)),f.u(t=>t?l.b(f.b)(Object(s.pipe)(this._params.capiService.set_context({documentContext:{dialect:e.selectedDialect}}),f.bb(e=>new Error("CAPIService.setContext error: "+e.message))),Object(s.pipe)(this._params.userService.setDialect(e.selectedDialect),f.bb(e=>new Error("CAPIService.setDialect error: "+e.message)))):f.cb(null)),f.p(e=>(this._params.monitoringService.notify(Object(T.a)(Object(M.r)({rawError:Object(V.b)(e)}))),e),s.constVoid))))}setNewVoiceProfile(e){var{selectedDialect:t}=e,n=ke(e,["selectedDialect"]);return this._logger.debug("setNewVoiceProfile()",{dialect:t,voiceProfile:n}),Object(s.pipe)(ce(this._session.get()),f.ab(e=>(this._session.set(Object.assign(Object.assign({},e),{activeContext:Object.assign(Object.assign({},e.activeContext),{kind:"pending"})})),e)),f.u(e=>Object(s.pipe)(this._params.capiService.cheetahSetVoiceProfile({role:Object(s.pipe)(n.selectedRole,C.g.toUndefined),isEnabledByDefault:n.isEnabledByDefault,profiles:n.profiles}),f.p(e=>new Error("CAPIService.cheetahSetVoice error: "+e.message),()=>!q.a.Dialect.Id.eq.equals(e.voiceProfile.selectedDialect,t)),f.u(e=>e?l.b(f.b)(Object(s.pipe)(this._params.capiService.set_context({documentContext:{dialect:t}}),f.bb(e=>new Error("CAPIService.setContext error: "+e.message))),Object(s.pipe)(this._params.userService.setDialect(t),f.bb(e=>new Error("CAPIService.setDialect error: "+e.message)))):f.cb(null)),f.p(e=>(this._params.monitoringService.notify(Object(T.a)(Object(M.q)({rawError:Object(V.b)(e)}))),e),s.constVoid))))}stopInProgressResult(){return this._logger.debug("stopInProgressResult()"),Object(s.pipe)(this._session.get(),f.M(N.a.isStartedWithInProgressResult,()=>new Error("Session has no in-progress result.")),f.u(e=>(this._clearResultRelatedTimeouts(),this._session.modify(t=>Object.assign(Object.assign({},t),{activeContext:Object(s.pipe)(e.results.length>0?this._extractLatestResultContext(e):this._extractInitialContext(),C.g.getOrElse(()=>e.activeContext)),inProgressResult:P.a.isInProgressPending(e.inProgressResult.value)?C.g.some(Object.assign(Object.assign({},e.inProgressResult.value),{kind:"inProgressInterrupted"})):P.a.isInProgressInterrupted(e.inProgressResult.value)?e.inProgressResult:P.a.isInProgressOngoing(e.inProgressResult.value)?C.g.none:Object(_.d)(e.inProgressResult.value)})),Object(s.pipe)(e.inProgressResult.value,C.g.fromPredicate(P.a.isInProgressOngoing),C.g.fold(()=>f.cb(-1),e=>this._params.capiService.cheetahInterrupt({promptId:P.a.Id.toPrimitive(e.id)}))))),f.p(e=>(this._params.monitoringService.notify(Object(T.a)(Object(M.s)({rawError:Object(V.b)(e)}))),e),s.constVoid))}regenerateResult(e,t,n){this._logger.debug("regenerateResult()",{resultId:e,options:t,selectedVoice:n}),Object(s.pipe)(N.a.toStarted(this._session.get()),C.g.tapLeft(()=>this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping",{session:this._session.get(),resultId:e})),C.g.chain(t=>Object(s.pipe)(C.g.fromNullable(this._resultById.get(e)),C.g.filter(P.a.isComplete),C.g.filter(e=>e.supportedActions.has(P.a.SupportedAction.rephrase)),C.g.map(e=>({session:t,result:e})),C.g.tapLeft(()=>{this._logger.warn("regenerateResult() - could not find a rephraseable result for provided result ID, skipping",{session:t,resultId:e}),this._params.monitoringService.notify(Object(T.a)(Object(M.l)({resultId:e,reason:"not-found"})))}))),C.g.chain(({session:t,result:n})=>Object(s.pipe)(l.a(C.g.option)({resultSource:n.source,boundaryContextId:n.boundaryContextId}),C.g.map(({resultSource:e,boundaryContextId:r})=>({resultSource:e,boundaryContextId:r,resultText:se(n),session:t})),C.g.tapLeft(()=>{this._logger.warn("regenerateResult() - trying to regenerate result without source action or boundaryContext",{session:t,result:n}),this._params.monitoringService.notify(Object(T.a)(Object(M.l)({resultId:e,reason:"no-source-action"})))}))),C.g.map(({resultSource:r,boundaryContextId:i,resultText:a})=>{const o=r.actionValue,c=C.g.getMonoid(p.H()).concat,l=Object(s.pipe)(o,C.g.fromPredicate(k.a.isUserPromptActionValue),C.g.fold(Object(s.constant)(o),e=>Object.assign(Object.assign({},e),{omitReferenceIds:c(e.omitReferenceIds,t.omitReferenceIds)}))),u=this._contextIdByResultId.get(e);void 0===u&&this._params.monitoringService.notify(Object(T.a)({kind:"warn",source:"core",name:"regenerateResultContextNotFound",data:null})),this._submitAction(l,r.contextId,u,i,{kind:"regular",text:a},n),this._params.trackingService.trackResultRephrase(u)}))}searchReferences(e){const t=this._session.get();"started"===t.kind?t.detectedReferences.has(e)||(this._session.set(Object.assign(Object.assign({},t),{detectedReferences:new Map(t.detectedReferences).set(e,C.g.none)})),this._setupCheetahAckHandler("searchReferences",t=>{this._searchReferencesUrlsById.set(t,e)}),Object(U.b)("cheetahSearchReferences",this._params.capiService.cheetahSearchReferences({url:e}),this._logger)):this._logger.warn("searchReferences() - trying to search a reference with a session that is not `started`, skipping",{session:t})}dismissResult(e){this._logger.debug("dismissResult()",{resultId:e});const t=this._session.get();let n=null;if("started"===t.kind){if(this._resultById.delete(e)){const r=t.results.findIndex(t=>t.id===e);n=t.results[r];let i=t.activeContext,a=t.activeBoundaryContext,o=null;if(0===r&&t.results.length>1){this._logger.debug("dismissResult() - dismissing latest result, will try to restore context from previous result",{session:t,resultId:e});const n=C.g.toUndefined(this._extractPreviousResultContext(t)),r=Object(s.pipe)(this._extractPreviousResultBoundaryContext(t),C.g.alt(()=>C.g.fromNullable(this._initialReceivedContext)),C.g.toUndefined),c=C.g.toUndefined(this._extractLatestResultBoundaryContext(t));n?r!==c?(this._logger.debug("dismissResult() - previous result was for different boundary context, will keep currently active boundary context",{session:t,resultId:e}),i=t.activeBoundaryContext):(this._logger.debug("dismissResult() - found context for previous result, will restore its context",{session:t,resultId:e,previousResultContext:n}),i=n,r&&(a=r)):t.results[1]&&P.a.isHistory(t.results[1])&&Object(s.pipe)(C.g.fromNullable(this._contextIdByResultId.get(t.results[1].id)),C.g.chain(e=>C.g.fromNullable(this._contextById.get(e))),C.g.isNone)?o=t.results[1].id:this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated",{session:t,resultId:e})}else 1===t.results.length&&(i=t.activeBoundaryContext);this._session.set(Object.assign(Object.assign({},t),{activeContext:Object.assign(Object.assign({},i),{kind:null!==o?"pending":i.kind,availableActions:o?[]:i.availableActions}),activeBoundaryContext:a,results:t.results.filter(t=>!P.a.Id.eq.equals(t.id,e))}));const c=this._contextIdByResultId.get(e);this._params.trackingService.trackResultDismiss(c,P.a.isHistory(n)?e:void 0),"aiUsageNotification"===n.kind&&this._params.trackingService.trackAINotificationDismiss("document"),o&&this._getContext(void 0,o)}else this._logger.warn("dismissResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissError(){this._logger.debug("dismissError()"),this._session.lens("error").set(C.g.none)}restoreHistory(){this._getHistory()}trackResultInsert(e,t=!1){this._logger.debug("trackResultInsert()",{resultId:e});const n=this._resultById.get(e);if(n){const r=this._contextIdByResultId.get(e);this._params.trackingService.trackResultInsert(r,P.a.isHistory(n)?n.id:void 0,t)}else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping",{resultId:e})}trackResultCopy(e){this._logger.debug("trackResultCopy()",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.trackingService.trackResultCopy(n,P.a.isHistory(t)?t.id:void 0)}else this._logger.warn("trackResultCopy() - could not find result for provided result ID, skipping",{resultId:e})}_trackResultGenerationCompleted(e){this._logger.debug("trackResultGenerationCompleted()",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.trackingService.trackResultGenerationCompleted(n,P.a.isHistory(t)?t.id:void 0)}else this._logger.warn("trackResultGenerationCompleted() - could not find result for provided result ID, skipping",{resultId:e})}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{resultId:e});const t=this._resultById.get(e);if(t){const n=this._contextIdByResultId.get(e);this._params.trackingService.trackResultOffensive(n,P.a.isHistory(t)?t.id:void 0)}else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping",{resultId:e})}trackActionsOffensive(){this._logger.debug("trackActionsOffensive()");const e=this._session.get();if("started"!==e.kind)return this._logger.warn("trackActionsOffensive() - tracking actions as offensive with a session that is not `started`, skipping");this._params.trackingService.trackActionsOffensive(e.activeContext.id)}getContextById(e){return C.g.fromNullable(this._contextById.get(e))}dismissActiveBoundaryContext(){if(this._logger.debug("dismissActiveBoundaryContext()"),Object(s.pipe)(N.a.toStarted(this._session.get()),C.g.forAll(e=>e.activeContext.id!==e.activeBoundaryContext.id)))return this._logger.warn("dismissActiveBoundaryContext() - there are results within this boundary, can't remove");const e=C.g.toNullable(Object(s.pipe)(this._session.get(),N.a.toStarted,C.g.chain(e=>this._extractLatestResultContext(e)))),t=C.g.toNullable(Object(s.pipe)(this._session.get(),N.a.toStarted,C.g.chain(e=>this._extractLatestResultBoundaryContext(e)),C.g.alt(()=>this._extractInitialContext())));this._session.modify(N.a.fold({starting:s.identity,started:n=>e&&t?Object.assign(Object.assign({},n),{mode:n.results.length?n.mode:"ideation",activeContext:e,activeBoundaryContext:t}):Object.assign(Object.assign({},n),{kind:"starting",activeContext:Object.assign(Object.assign({},n.activeContext),{selection:C.g.none,kind:"pending"}),activeBoundaryContext:void 0,selectedRange:C.g.none,selectedText:C.g.none})})),e&&t||this._getContext()}dispose(){this._subs.dispose()}_getContext(e,t,n=!1){var r,i;this._logger.debug("_getContext()",{data:e,fetchContextForHistoryCardId:t}),this._setupCheetahAckHandler("getContext",e=>{this._setupContextTimeout("getContext"),void 0!==t&&this._historyResultIdByGetContextMessageId.set(e,t),n&&this._contextMessageIdsTriggeredBySelectionChanges.add(e)});const a=this._session.get();Object(U.b)("cheetahGetContext",this._params.capiService.cheetahGetContext(null!=e?e:{generationMode:ve(n?"rewrite":a.mode),selectedRange:C.g.toUndefined(a.selectedRange),outerContext:C.g.toUndefined(Oe(a)),stateBlob:Object(s.pipe)(N.a.toStarted(a),C.g.map(e=>e.activeContext),C.g.fold(s.constUndefined,e=>this._stateBlobByContextId.get(e.id))),previousText:!n&&"started"===a.kind&&a.results.length>0&&P.a.isStandardCompletedResult(a.results[0])?he(a.results[0]):void 0,includeDisabledActions:this._params.selectionContextAvailability&&(null===(r=this._params.selectionContextAvailability.get())||void 0===r?void 0:r.contextUpdatesServer)&&(null===(i=this._params.selectionContextAvailability.get())||void 0===i?void 0:i.contextUpdatesClient)}),this._logger,()=>this._params.monitoringService.notify(Object(T.a)({kind:"info",source:"core",name:"getContextSuccessful",data:null})),()=>{const e=x.createCriticalError(Object(s.pipe)(N.a.toStarting(this._session.get()),C.g.isSome));this._session.modify(N.a.fold({starting:t=>Object.assign(Object.assign({},t),{error:C.g.some(e)}),started:t=>Object.assign(Object.assign({},t),{error:C.g.some(e),inProgressResult:C.g.none})})),this._params.monitoringService.notify(Object(T.a)(Object(M.d)()))})}_handleCheetahSetContext(e){var t,n;return Se(this,void 0,void 0,(function*(){this._logger.debug("_handleCheetahSetContext()",{message:e}),this._clearContextTimeout();const r=this._session.get(),i=Object(s.pipe)(C.g.fromNullable(null===(t=e.context)||void 0===t?void 0:t.voiceProfileSettings),C.g.fold(()=>ue(e.context.voice,r,this._upstreamDialect.get()),t=>le(t,e.context.voice,r,this._upstreamDialect.get()))),a={id:A.a.Id.create(e.context.id),availableActions:de(A.a.Id.create(e.context.id),e.context.availableActions,this._skills,r.mode,r.selectedText),userPromptAction:pe(e.context.promptAction,this._logger),quickRewriteAction:me(e.context.quickRewriteAction),intent:fe(e.context.intent),documentOverview:be(e.context.documentOverview),specialView:C.g.fromNullable(e.context.specialView),selection:this._historyResultIdByGetContextMessageId.has(e.promptId)?C.g.none:Object(s.pipe)(l.a(C.g.option)({text:r.selectedText,range:r.selectedRange})),textRevision:C.g.some(r.textRevision)},o=0===this._contextById.size;let c=e.progressMessage?Object.assign(Object.assign({},a),{kind:"pending",isBoundary:!1}):Object.assign(Object.assign({},a),{kind:"received",isBoundary:o||this._contextMessageIdsTriggeredBySelectionChanges.has(e.promptId)});if(this._shouldSkipContextUpdate(e))return void this._logger.debug("skipping context update for missing history card");const d=yield we(c,e,this._session.get(),e=>this._params.textEditorService.getText(e),null===(n=this._params.selectionContextAvailability)||void 0===n?void 0:n.get());c=Object(s.pipe)(C.g.fromEither(d),C.g.fold(()=>c,t=>Object.assign(Object.assign({},c),{isBoundary:!0,selection:t,availableActions:de(A.a.Id.create(e.context.id),e.context.availableActions,this._skills,r.mode,Object(s.pipe)(t,C.g.map(({text:e})=>e)))}))),0===this._contextById.size&&A.a.isReceived(c)&&(this._initialReceivedContext=c),this._contextById.set(c.id,c),this._stateBlobByContextId.set(c.id,e.context.stateBlob),this._bindContextToHistoryCardIfNeeded(e,c.id);const p=Object(s.pipe)(r.writingExpertContext,C.g.chain(e=>D.getInitialResult(e,void 0!==this._params.textEditorService.copyText)),C.g.tap(e=>{this._resultById.set(e.id,e),this._contextIdByResultId.set(e.id,c.id)}),C.g.fold(()=>[],e=>[e]));if(this._session.set(Object.assign(Object.assign({},r),{kind:"started",voiceProfile:i,activeContext:c,activeBoundaryContext:c.isBoundary?c:"started"===r.kind?r.activeBoundaryContext:c,inProgressResult:"started"===r.kind?Object(s.pipe)(r.inProgressResult,C.g.map(e=>Object.assign(Object.assign({},e),{boundaryContextId:c.isBoundary?C.g.some(c.id):e.boundaryContextId}))):C.g.none,results:"started"===r.kind?r.results:p,detectedReferences:"started"===r.kind?r.detectedReferences:new Map,selectedRange:Object(s.pipe)(d,u.fold(()=>r.selectedRange,e=>Object(s.pipe)(e,C.g.map(({range:e})=>e)))),selectedText:Object(s.pipe)(d,u.fold(()=>r.selectedText,e=>Object(s.pipe)(e,C.g.map(({text:e})=>e))))})),Object(s.pipe)(C.g.fromNullable(e.context.contextNotification),C.g.tap(({text:t})=>{this._pushNotification(W.a.create("information",t,"contextNotification:"+e.id,!0)),this._params.trackingService.trackContexNotification("context")})),o&&B.a.isQuickRewrite(r.mode)){const t=k.a.QuickRewriteActionValue.fromInput(me(e.context.quickRewriteAction));this._logger.debug("_handleCheetahSetContext() - received initial context for quick rewrite session, submitting quick rewrite action",{session:r,message:e,quickRewriteAction:t}),this._submitAction(t)}}))}_shouldSkipContextUpdate(e){return Object(s.pipe)(C.g.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),C.g.fold(s.constFalse,e=>Object(s.pipe)(N.a.toStarted(this._session.get()),C.g.map(e=>e.results),C.g.fold(s.constTrue,t=>!t.some(t=>t.id===e)))))}_bindContextToHistoryCardIfNeeded(e,t){Object(s.pipe)(C.g.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),C.g.filter(e=>Object(s.pipe)(C.g.fromNullable(this._contextIdByResultId.get(e)),C.g.fold(s.constTrue,e=>void 0===this._contextById.get(e)))),C.g.tap(e=>this._contextIdByResultId.set(e,t)))}_handleCheetahSetUserState(e){this._logger.debug("_handleCheetahUserState()",{message:e}),this._session.modify(t=>Object.assign(Object.assign({},t),{historyStatus:oe(t,e.state.historyItems)}))}_getHistory(){if(this._logger.debug("_getHistory()"),void 0!==this._historyAckHandler)return this._logger.warn("_getHistory() called when a cheetah:getHistory request hasn't been ack'ed yet, skipping");this._historyAckHandler=()=>{this._historyAckHandler=void 0,this._setupHistoryTimeout()},this._setupCheetahAckHandler("getHistory",this._historyAckHandler),this._session.lens("historyStatus").set(N.a.HistoryStatus.historyRequested),Object(U.b)("cheetahGetHistory",this._params.capiService.cheetahGetHistory(),this._logger,()=>this._params.monitoringService.notify(Object(T.a)({kind:"info",source:"core",name:"getHistorySuccessful",data:null})),()=>this._params.monitoringService.notify(Object(T.a)(Object(M.e)())))}_handleCheetahSetHistory(e){void 0!==this._historyAckHandler&&(this._removeCheetahAckHandler(this._historyAckHandler),this._historyAckHandler=void 0),this._clearHistoryTimeout();const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahSetHistory() - trying to handle `cheetah:setHistory` result with a session that is not `started`, skipping",{session:t});Object(s.pipe)(e.cards,d.ub(e=>P.a.History.createFromCard(e,void 0!==this._params.textEditorService.copyText)),d.Kb,p.F,C.g.fold(()=>this._session.lens("historyStatus").set(N.a.HistoryStatus.noHistory),e=>{e.forEach(e=>this._resultById.set(e.id,e)),this._session.set(Object.assign(Object.assign({},t),{activeContext:Object.assign(Object.assign({},t.activeContext),{kind:"pending",textRevision:C.g.none,availableActions:[],selection:C.g.none}),historyStatus:N.a.HistoryStatus.historyRestored,results:[...t.results,...e],selectedRange:C.g.none,selectedText:C.g.none})),this._getContext(void 0,e[0].id)}))}_handleCheetahChunk(e){this._logger.debug("_handleCheetahChunk()",{message:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping",{session:t,message:e});const n=P.a.Id.create(e.promptId);Object(s.pipe)(t.inProgressResult,C.g.filter(P.a.isInProgressOngoing),C.g.filter(e=>P.a.Id.eq.equals(e.id,n)),C.g.fold(()=>{const e=Object(s.pipe)(t.inProgressResult,C.g.filter(P.a.isInProgressOngoing),C.g.map(e=>e.id),C.g.toNullable);this._params.monitoringService.notify(Object(T.a)({kind:"warn",source:"core",name:"unexpectedChunkReceived",data:{expectedInProgressResultId:e,receivedInProgressResultId:n}}))},n=>{this._clearResultRelatedTimeouts(),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:C.g.some(Object.assign(Object.assign({},n),{text:n.text+e.token}))})),this._setupResultTimeout()}))}_handleCheetahResult(e){return Se(this,void 0,void 0,(function*(){this._logger.debug("_handleCheetahResult()",{message:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping",{session:t,message:e});const n=P.a.Id.create(e.promptId);try{yield Object(s.pipe)(t.inProgressResult,C.g.filter(P.a.isInProgressOngoing),C.g.filter(e=>P.a.Id.eq.equals(e.id,n)),C.g.fold(()=>{const e=Object(s.pipe)(t.inProgressResult,C.g.filter(P.a.isInProgressOngoing),C.g.map(e=>e.id),C.g.toNullable);return this._params.monitoringService.notify(Object(T.a)({kind:"warn",source:"core",name:"unexpectedResultReceived",data:{expectedInProgressResultId:e,receivedInProgressResultId:n}})),Promise.resolve(void 0)},n=>Se(this,void 0,void 0,(function*(){var r,i,a,o;if(this._clearResultRelatedTimeouts(),e.error||!e.text||""===e.text.plain){const n=e.error?x.create(e.error):x.createEmptyResultError();this._logger.warn("_handleCheetahResult() - received result with error, adding error to session",{session:t,message:e,error:n}),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:C.g.none,error:C.g.some(n)}))}else if(e.text.interrupted)this._logger.debug("_handleCheetahResult() - received result with interrupted text, skipping",{session:t,message:e});else{let c,l,d,p;c="aiUsageAlert"===(null===(i=null===(r=e.context)||void 0===r?void 0:r.specialView)||void 0===i?void 0:i.kind)?P.a.AIUsageNotification.fromInProgressResult(n,e.text.plain):Object.assign(Object.assign({},n),{text:e.text.plain,kind:"complete",timestamp:Date.now(),replacementDelta:P.a.ResultDelta.createFromResultMessage(e),supportedActions:Object(s.pipe)((o=n.source,Object(s.pipe)(o,C.g.map(e=>e.actionValue.generatesTextType),C.g.filter(C.g.contains(I.c.ActionDefGeneratesTextType.Insertable)),C.g.fold(()=>m.e,()=>m.k(new Set([P.a.SupportedAction.rephrase,P.a.SupportedAction.insert]))))),this._params.textEditorService.copyText?m.p(C.c.eqString)(P.a.SupportedAction.copy):s.identity),references:ge(e),changesSummary:j(e)}),this._logger.debug("_handleCheetahResult() - received complete result, saving complete result into history",{session:t,message:e,result:c});let f=u.left(void 0);if(e.context){const r=e.context;d=r.voiceProfileSettings?le(r.voiceProfileSettings,r.voice,t,this._upstreamDialect.get()):ue(r.voice,t,this._upstreamDialect.get()),l={kind:"received",id:A.a.Id.create(r.id),availableActions:de(A.a.Id.create(e.context.id),r.availableActions,this._skills,t.mode,t.selectedText),userPromptAction:pe(r.promptAction,this._logger),intent:fe(r.intent),documentOverview:be(r.documentOverview),specialView:C.g.fromNullable(r.specialView),selection:this._historyResultIdByGetContextMessageId.has(e.promptId)?C.g.none:Object(s.pipe)(n.boundaryContextId,C.g.chain(e=>Object(s.pipe)(C.g.fromNullable(this._contextById.get(e)),C.g.chain(({selection:e})=>e)))),isBoundary:!1,textRevision:Object(s.pipe)(Object(s.pipe)(n.boundaryContextId,C.g.chain(e=>C.g.fromNullable(this._contextById.get(e))),C.g.chain(({textRevision:e})=>e)))},f=yield we(l,e,this._session.get(),e=>this._params.textEditorService.getText(e),null===(a=this._params.selectionContextAvailability)||void 0===a?void 0:a.get()),l=Object(s.pipe)(C.g.fromEither(f),C.g.fold(()=>l,e=>Object.assign(Object.assign({},l),{isBoundary:!0,selection:e,availableActions:de(A.a.Id.create(r.id),r.availableActions,this._skills,t.mode,Object(s.pipe)(e,C.g.map(({text:e})=>e)))}))),l.isBoundary&&(c=Object.assign(Object.assign({},c),{boundaryContextId:C.g.some(l.id)})),p=r.stateBlob,this._logger.debug("_handleCheetahResult() - received result with context, will update voice profile and context accordingly",{session:t,message:e,voiceProfile:d,context:l})}else this._logger.warn("_handleCheetahResult() - received result without context, keeping latest voice profile and context",{session:t,message:e}),d=t.voiceProfile,l=t.activeContext,p=this._stateBlobByContextId.get(t.activeContext.id);this._contextById.set(l.id,l),void 0!==p&&this._stateBlobByContextId.set(l.id,p),this._resultById.set(c.id,c),this._contextIdByResultId.set(c.id,l.id),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:d,activeContext:l,inProgressResult:C.g.none,results:[c,...t.results],selectedRange:Object(s.pipe)(f,u.fold(()=>t.selectedRange,e=>Object(s.pipe)(e,C.g.map(({range:e})=>e)))),selectedText:Object(s.pipe)(f,u.fold(()=>t.selectedText,e=>Object(s.pipe)(e,C.g.map(({text:e})=>e))))})),this._trackResultGenerationCompleted(c.id)}}))))}catch(e){return this._logger.warn("_handleCheetahResult() - cannot handle cheetah result",{session:t,incomingResultId:n,error:e})}}))}_handleCheetahSearchReferencesResult(e){const t=this._session.get();if("started"===t.kind){const n=this._searchReferencesUrlsById.get(e.promptId);if(n){const r=e.references[0];r&&this._session.set(Object.assign(Object.assign({},t),{detectedReferences:new Map(t.detectedReferences).set(n,C.g.some(z.a.create(r)))}))}else this._logger.warn("_handleCheetahSearchReferencesResult() - trying to handle a search references result that did not have a corresponding cheetah:searchReferences request, skipping",{message:e})}else this._logger.warn("_handleCheetahSearchReferencesResult() - trying to handle a search references result with a session that is not `started`, skipping",{session:t})}_handleCheetahError(e){this._logger.debug("_handleCheetahError",{message:e}),this._clearAllTimeouts();const t=x.create(e.error);this._logger.warn("_handleCheetahError - received error, adding error to session",{error:t}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none,error:C.g.some(t)}))}_handleUpstreamDialectChange(e){this._logger.debug("_handleUpstreamDialectChange()",{upstreamDialect:e});const t=this._session.get();if("started"===t.kind){const n=q.a.Dialect.Id.create(e);this._logger.debug("_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",{session:t,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(e){this._logger.debug("_handleCheetahAck()",{message:e}),this._clearCheetahAckTimeout(),this._cheetahAckIds.add(e.id);const t=this._cheetahAckHandlers.length>0?this._cheetahAckHandlers[0]:void 0;t&&(this._logger.debug("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it",{message:e,cheetahAckHandlers:this._cheetahAckHandlers}),this._cheetahAckHandlers=this._cheetahAckHandlers.slice(1),t(e.id))}_handleError(e){if(this._cheetahAckIds.has(e.id))if(this._clearAllTimeouts(),e.error===b.a.ErrorCode.SESSION_NOT_INITIALIZED){const t=Object(s.pipe)(N.a.toStarted(this._session.get()),C.g.map(e=>this._stateBlobByContextId.get(e.activeContext.id)),C.g.toUndefined);this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none})),this._startSession(this._params.startSessionOptions,t),this._params.monitoringService.notify(Object(T.a)({kind:"warn",source:"core",name:"capiErrorHandled",data:{capiError:e}}))}else{const t=x.createCriticalError(Object(s.pipe)(N.a.toStarting(this._session.get()),C.g.isSome));this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none,error:C.g.some(t)})),this._params.monitoringService.notify(Object(T.a)(Object(M.b)({capiError:e})))}else this._params.monitoringService.notify(Object(T.a)(Object(M.b)({capiError:e})))}_submitAction(e,t,n,r,i,a){var o,c;this._logger.debug("_submitAction()",{actionValue:e,contextId:t,triggerContextId:n,boundaryContextId:r,previousText:i,selectedVoice:a});const l=this._session.get();if("started"===l.kind){const u=null!==(o=null!=t?t:null==e?void 0:e.contextId)&&void 0!==o?o:l.activeContext.id,d=null!=n?n:u,m=null!=r?r:l.activeBoundaryContext.id,h=(null!=i?i:void 0!==(null==e?void 0:e.contextId))?void 0:l.results.length>0&&P.a.isStandardCompletedResult(l.results[0])?he(l.results[0]):void 0,g=this._stateBlobByContextId.get(u);if(void 0===g)return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping",{session:l,contextId:u,triggerContextId:n,contextStateBlob:g});const b="aiUsageNotification"===(null===(c=l.results[0])||void 0===c?void 0:c.kind)?l.results.slice(1):l.results;this._session.set(Object.assign(Object.assign({},l),{results:b,historyStatus:N.a.HistoryStatus.restoreDisabled,activeContext:Object.assign(Object.assign({},l.activeContext),{kind:"pending"}),inProgressResult:C.g.isSome(e.generatesTextType)?C.g.some({kind:"inProgressPending",header:{label:k.a.isUserPromptActionValue(e)?e.arg.value:e.label,iconUrl:k.a.isUserPromptActionValue(e)||""===e.iconUrl.trim()?C.g.none:C.g.some(e.iconUrl),copiablePrompt:k.a.isUserPromptActionValue(e)&&""!==e.arg.value.trim()?C.g.some(e.arg.value):C.g.none},text:"",source:C.g.some({contextId:u,actionValue:e}),boundaryContextId:C.g.some(m)}):C.g.none,error:C.g.none})),this._setupCheetahAckHandler("action",e=>{Object(s.pipe)(N.a.toStarted(this._session.get()),C.g.chain(e=>e.inProgressResult),C.g.filter(Object(w.p)(P.a.isInProgressPending,P.a.isInProgressInterrupted)),C.g.fold(()=>(this._logger.warn("received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",{ackId:e}),f.cb(void 0)),t=>{if(P.a.isInProgressInterrupted(t))return this._logger.info("received `cheetah:ack` related to in-progress-interrupted result, sending `cheetah:interrupt`",{ackId:e}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none})),this._params.capiService.cheetahInterrupt({promptId:e});if(P.a.isInProgressPending(t)){this._setupContextTimeout("action"),this._setupResultTimeout();const n=Object.assign(Object.assign({},t),{kind:"inProgressOngoing",id:P.a.Id.create(e)});return this._logger.debug("received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",{ackId:e,inProgressResult:n}),this._resultById.set(n.id,n),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.some(n)})),f.cb(void 0)}Object(_.d)(t)}))()});const v=Object.assign({contextId:u,triggerContextId:d,actionId:e.id,args:k.a.isUserPromptActionValue(e)?[{name:e.arg.id,value:e.arg.value}]:Object(s.pipe)(p.F(e.args),C.g.fold(()=>[],e=>e.map(e=>({name:e.id,value:e.value})))),stateBlob:g,previousText:h},a?{metadata:{selectedVoice:a}}:null),y=Object(s.pipe)(e,C.g.fromPredicate(k.a.isUserPromptActionValue),C.g.fold(Object(s.constant)(v),e=>Object.assign(Object.assign({},v),{useReferences:C.g.toUndefined(e.useReferences),omitReferenceIds:C.g.toUndefined(e.omitReferenceIds)})));this._logger.debug("_submitAction() - sending `cheetah:action` to CAPI",{data:y}),Object(U.b)("cheetahAction",this._params.capiService.cheetahAction(y),this._logger,()=>this._params.monitoringService.notify(Object(T.a)(function(e){return{kind:"info",source:"core",name:"actionSuccessful",data:e}}({actionId:e.id}))),()=>this._params.monitoringService.notify(Object(T.a)(Object(M.a)({actionId:e.id}))))}else this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping",{session:l,actionValue:e,contextId:t})}_extractLatestResultContext(e){return this._extractContextFromResults(e,0)}_extractLatestResultBoundaryContext(e){return this._extractBoundaryContextFromResults(e,0)}_extractPreviousResultContext(e){return this._extractContextFromResults(e,1)}_extractPreviousResultBoundaryContext(e){return this._extractBoundaryContextFromResults(e,1)}_extractContextFromResults(e,t){const n=Object(s.pipe)(C.g.fromNullable(e.results[t]),C.g.map(e=>e.id),C.g.chain(e=>C.g.fromNullable(this._contextIdByResultId.get(e))),C.g.chain(e=>C.g.fromNullable(this._contextById.get(e))));return C.g.isNone(n)&&this._logger.warn("_extractContextFromResults() - could not find context for result",{session:e,resultIndex:t}),n}_extractBoundaryContextFromResults(e,t){return Object(s.pipe)(C.g.fromNullable(e.results[t]),C.g.filter(P.a.isComplete),C.g.chain(({boundaryContextId:e})=>e),C.g.chain(e=>C.g.fromNullable(this._contextById.get(e))),C.g.tapLeft(()=>{this._logger.warn("_extractBoundaryContext() - could not find boundary context for result index")}))}_extractInitialContext(){return null!==this._initialReceivedContext?C.g.some(this._initialReceivedContext):(this._logger.warn("_extractInitialContext() - could not find initial context"),C.g.none)}_setupResultTimeout(){this._clearResultTimeout(),this._resultTimeout=O.a.timer(this._resultTimeoutMs).subscribe(()=>{this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none,error:C.g.some(x.createCriticalError(Object(s.pipe)(N.a.toStarting(this._session.get()),C.g.isSome)))})),this._params.monitoringService.notify(Object(T.a)(Object(M.x)()))})}_setupContextTimeout(e){this._logger.debug("_setupContextTimeout()",{sourceCommand:e}),this._clearContextTimeout(),this._contextTimeout=O.a.timer(this._contextTimeoutMs).subscribe(()=>{const t=x.createCriticalError(Object(s.pipe)(N.a.toStarting(this._session.get()),C.g.isSome));this._logger.warn("waited too long to receive `cheetah:setContext`, adding error to session",{error:t}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none,error:C.g.some(t)})),this._params.monitoringService.notify(Object(T.a)(Object(M.v)({sourceCommand:e})))})}_setupHistoryTimeout(){this._clearHistoryTimeout(),this._historyTimeout=O.a.timer(this._historyTimeoutMs).subscribe(()=>{const e=x.createCriticalError(Object(s.pipe)(N.a.toStarting(this._session.get()),C.g.isSome));this._logger.warn("waited too long to receive `cheetah:setHistory`, adding error to session",{error:e}),this._session.modify(t=>Object.assign(Object.assign({},t),{inProgressResult:C.g.none,error:C.g.some(e)})),this._params.monitoringService.notify(Object(T.a)(Object(M.w)()))})}_setupCheetahAckTimeout(e){this._logger.debug("_setupCheetahAckTimeout()",{sourceCommand:e}),this._clearCheetahAckTimeout(),this._cheetahAckTimeout=O.a.timer(this._cheetahAckTimeoutMs).subscribe(()=>{const t=x.createCriticalError(Object(s.pipe)(N.a.toStarting(this._session.get()),C.g.isSome));this._logger.warn("waited too long to receive an ACK for a `cheetah:*` command, adding error to session",{error:t}),this._session.modify(e=>Object.assign(Object.assign({},e),{inProgressResult:C.g.none,error:C.g.some(t)})),this._params.monitoringService.notify(Object(T.a)(Object(M.u)({sourceCommand:e})))})}_clearResultTimeout(){var e;null===(e=this._resultTimeout)||void 0===e||e.unsubscribe(),this._resultTimeout=void 0}_clearContextTimeout(){var e;null===(e=this._contextTimeout)||void 0===e||e.unsubscribe(),this._contextTimeout=void 0}_clearHistoryTimeout(){var e;null===(e=this._historyTimeout)||void 0===e||e.unsubscribe(),this._historyTimeout=void 0}_clearCheetahAckTimeout(){var e;null===(e=this._cheetahAckTimeout)||void 0===e||e.unsubscribe(),this._cheetahAckTimeout=void 0}_clearResultRelatedTimeouts(){this._clearContextTimeout(),this._clearResultTimeout(),this._clearCheetahAckTimeout()}_clearAllTimeouts(){this._clearResultTimeout(),this._clearContextTimeout(),this._clearHistoryTimeout(),this._clearCheetahAckTimeout()}_setupCheetahAckHandler(e,t){this._setupCheetahAckTimeout(e),this._cheetahAckHandlers.push(t)}_removeCheetahAckHandler(e){this._cheetahAckHandlers=this._cheetahAckHandlers.filter(t=>t!==e),0===this._cheetahAckHandlers.length&&this._clearCheetahAckTimeout()}}var je=n("nD6t"),xe=n("pFSi"),Ae=n("Wy1Y"),Ie=n("a5gI"),Te=n("WBKC"),Me=n("B/Ki"),Pe=n("hcme"),Ne=n("eXH8"),Be=n("gIH0"),Le=n("RRF2");function Fe(e){return{encode:function(t){var n=Object.entries(e).filter((function(e){return Object(Pe._)(e,1)[0]in t})).map((function(e){var n=Object(Pe._)(e,2),r=n[0],i=n[1];return Object(s.pipe)(void 0===t[r]?f.eb(void 0):i.encode(t[r]),f.ab((function(e){return[r,e]})))}));return Object(s.pipe)(f.hb(n),f.ab((function(e){return Le.e.fromEntries(e)})))}}}var Re=Fe,De=Re;function He(){return{encode:function(e){return f.eb(e)}}}var Ve=function(e){return null===e?"null":void 0===e?"undefined":Object(Ne.a)(e)},Ue=function(e,t){if(void 0!==e&&void 0!==t){var n=Ve(e),r=Ve(t);if("object"===n||"object"===r)return Object.assign({},e,t)}return t},We={URI:"io-ts/EncoderAsync",literal:function(){return He()},string:He(),number:He(),boolean:He(),nullable:function(e){return{encode:function(t){return null===t?f.eb(null):e.encode(t)}}},type:De,struct:Re,partial:Fe,record:function(e){return{encode:function(t){var n=Object.entries(t).map((function(t){var n=Object(Pe._)(t,2),r=n[0],i=n[1];return Object(s.pipe)(e.encode(i),f.ab((function(e){return[r,e]})))}));return Object(s.pipe)(f.hb(n),f.ab((function(e){return Le.e.fromEntries(e)})))}}},array:function(e){return{encode:function(t){return f.hb(t.map((function(t){return e.encode(t)})))}}},tuple:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{encode:function(e){return f.hb(t.map((function(t,n){return t.encode(e[n])})))}}},intersect:function(e){return function(t){return{encode:function(n){return Object(s.pipe)(t.encode(n),f.u((function(t){return Object(s.pipe)(e.encode(n),f.ab((function(e){return Ue(t,e)})))})))}}}},sum:Be.sum,lazy:function(e,t){return Be.lazy(t)},readonly:Be.readonly},ze=n("8Z+1"),Ge=n("Vv+i"),qe=n("uKMM"),Ke=n("4mQT"),$e=n("t5lx"),Ze=function(e){Object(Ke.a)(n,e);var t=Object($e.a)(n);function n(e,r){var i;return Object(Ae.a)(this,n),i=t.call(this,"DLP Sanitizer: Schema mismatch error. ".concat(e)),Object(Ie._)(Object(Ge.a)(i),"decodeError",void 0),i.decodeError=r,i}return Object(qe.a)(n,[{key:"toString",value:function(){return"Decode error:\n      Message: ".concat(this.message,"\n      Details: ").concat(this.decodeError)}}]),n}(_.a),Ye=function e(t){var n=this;Object(Ae.a)(this,e),Object(Ie._)(this,"_sanitizationFunctions",void 0),Object(Ie._)(this,"sanitizeMessage",void 0),Object(Ie._)(this,"unsanitizeMessage",void 0),Object(Ie._)(this,"replaceInDelta",void 0),Object(Ie._)(this,"sanitizeDelta",void 0),Object(Ie._)(this,"unsanitizeDelta",void 0),Object(Ie._)(this,"sensitiveDecoder",void 0),Object(Ie._)(this,"sanitizingEncoder",void 0),Object(Ie._)(this,"unsanitizingEncoder",void 0),Object(Ie._)(this,"getMessageHandler",void 0),this._sanitizationFunctions=t,this.sanitizeMessage=function(e,t){var r=n.getMessageHandler(t);return Object(s.pipe)(r.decode(e),u.fold((function(e){return f.X(new Ze("Sanitization failed",Te.draw(e)))}),(function(e){return r.sanitizer.encode(e)})))},this.unsanitizeMessage=function(e,t){var r=n.getMessageHandler(t);return Object(s.pipe)(r.decode(e),u.fold((function(e){return f.X(new Ze("Unsanitization failed",Te.draw(e)))}),(function(e){return r.unsanitizer.encode(e)})))},this.replaceInDelta=function(e,t){return Object(s.pipe)(f.hb(e.ops.map((function(e){return Me.a.isInsertString(e)?Object(s.pipe)(t(e.insert),f.ab((function(t){return Object(a._)(Object(i._)({},e),{insert:t})}))):f.eb(e)}))),f.ab((function(e){return{ops:e}})))},this.sanitizeDelta=function(e){return n.replaceInDelta(e,n._sanitizationFunctions.sanitizeText)},this.unsanitizeDelta=function(e){return n.replaceInDelta(e,n._sanitizationFunctions.unsanitizeText)},this.sensitiveDecoder=ze.a.extend(Qe)({any:Te.id(),sensitiveString:Te.string,sensitiveDelta:Te.id()}),this.sanitizingEncoder=ze.a.extend(We)({any:He(),sensitiveString:{encode:this._sanitizationFunctions.sanitizeText},sensitiveDelta:{encode:this.sanitizeDelta}}),this.unsanitizingEncoder=ze.a.extend(We)({any:He(),sensitiveString:{encode:this._sanitizationFunctions.unsanitizeText},sensitiveDelta:{encode:this.unsanitizeDelta}}),this.getMessageHandler=function(e){return Object(a._)(Object(i._)({},ze.a.interpreter(n.sensitiveDecoder)(e)),{sanitizer:ze.a.interpreter(n.sanitizingEncoder)(e),unsanitizer:ze.a.interpreter(n.unsanitizingEncoder)(e)})}},Xe=function e(){Object(Ae.a)(this,e),Object(Ie._)(this,"sanitizeMessage",(function(e,t){return f.eb(e)})),Object(Ie._)(this,"unsanitizeMessage",(function(e,t){return f.eb(e)}))},Qe=Object(a._)(Object(i._)({},Te.Schemable),{struct:Te.Schemable.partial,type:Te.Schemable.partial});class Je{constructor(e){this._params=e,this.relevantInboundCAPIMessages=this._getRelevantInboundCAPIMessagesObs();const t=e.dlpOptions;this._dlpSanitizer=t?new Ye({sanitizeText:e=>f.sb(()=>t.sanitizeText(e),V.b),unsanitizeText:e=>f.sb(()=>t.unsanitizeText(e),V.b)}):new Xe}cheetahGetContext(e){return Object(s.pipe)(this._sanitizeOutboundCheetahMessage("cheetah:getContext",e,I.a.MessageGetContext),f.u(e=>this._params.sendCAPIMessage({action:"cheetah:getContext",shouldInjectRev:!0,data:e,shouldInjectSessionId:!1})))}cheetahAction(e){return Object(s.pipe)(this._sanitizeOutboundCheetahMessage("cheetah:action",e,I.a.MessageAction),f.u(e=>this._params.sendCAPIMessage({action:"cheetah:action",shouldInjectRev:!0,data:e,shouldInjectSessionId:!1})))}cheetahGetHistory(){return this._params.sendCAPIMessage({action:"cheetah:getHistory",shouldInjectRev:!1,data:{},shouldInjectSessionId:!1})}cheetahGetUserState(){return this._params.sendCAPIMessage({action:"cheetah:getUserState",data:{},shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahInterrupt(e){return this._params.sendCAPIMessage({action:"cheetah:interrupt",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSearchReferences(e){return this._params.sendCAPIMessage({action:"cheetah:searchReferences",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSetVoice(e){return this._params.sendCAPIMessage({action:"cheetah:setVoice",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}cheetahSetVoiceProfile(e){return this._params.sendCAPIMessage({action:"cheetah:setVoiceProfile",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}user_action(e){return this._params.sendCAPIMessage({action:"user_action",data:e,shouldInjectRev:!1,shouldInjectSessionId:!0})}set_context(e){return this._params.sendCAPIMessage({action:"set_context",data:e,shouldInjectRev:!0,shouldInjectSessionId:!1})}submit_survey_result(e){return this._params.sendCAPIMessage({action:"submit_survey_result",data:e,shouldInjectRev:!0,shouldInjectSessionId:!1})}feedback(e){return this._params.sendCAPIMessage({action:"feedback",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}toggle_checks(e){return this._params.sendCAPIMessage({action:"toggle_checks",data:e,shouldInjectRev:!1,shouldInjectSessionId:!1})}_getRelevantInboundCAPIMessagesObs(){return this._params.inboundCAPIMessages.pipe(O.a.filter(je.a.is),O.a.concatMap(e=>O.a.from(Object(s.pipe)(e,e=>{switch(e.action){case"cheetah:setContext":return this._dlpSanitizer.unsanitizeMessage(e,I.a.MessageSetContext);case"cheetah:chunk":return this._dlpSanitizer.unsanitizeMessage(e,I.a.MessageChunk);case"cheetah:result":return this._dlpSanitizer.unsanitizeMessage(e,I.a.MessageResult);default:return f.eb(e)}},f.F(t=>(this._params.monitoringService.notify(Object(T.a)(Object(M.t)({capiMessageAction:e.action,rawError:Object(V.b)(t)}))),xe.of(e)),xe.of),e=>e()))))}_sanitizeOutboundCheetahMessage(e,t,n){return Object(s.pipe)(this._dlpSanitizer.sanitizeMessage(t,n),f.bb(t=>(this._params.monitoringService.notify(Object(T.a)(Object(M.p)({capiMessageAction:e,rawError:Object(V.b)(t)}))),t)))}}function et(e){return{source:"userSurvey",kind:"error",name:"submitSurveyFailed",data:e}}var tt=n("KJnl");class nt{constructor(e){this._params=e,this._subs=new v.a.Keeper,this._activeSurvey=S.a.create(E.none),this.activeSurvey=this._activeSurvey.view(),this._init()}dispose(){this._subs.dispose()}submitSurveyResult(e){Object(U.b)("submitSurveyResult",this._params.capiService.submit_survey_result({placement:e.placement,score:e.rating,stage:tt.a.Stage.toCAPIStage(e.stage),open_answer:E.getOrElse(()=>"")(e.openAnswer),detailed_placement:e.detailedPlacement,type:e.type}),void 0,void 0,()=>this._params.monitoringService.notify(Object(T.a)(et({surveyType:e.type,surveyPlacement:e.placement,surveyDetailedPlacement:e.detailedPlacement}))))}dismissSurvey(e){Object(U.b)("submitSurveyResult",this._params.capiService.submit_survey_result({placement:e.placement,score:"declined",stage:tt.a.Stage.toCAPIStage(e.stage),detailed_placement:e.detailedPlacement,type:e.type}),void 0,void 0,()=>this._params.monitoringService.notify(Object(T.a)(et({surveyType:e.type,surveyPlacement:e.placement,surveyDetailedPlacement:e.detailedPlacement}))))}_init(){this._subs.push(this._params.capiService.relevantInboundCAPIMessages.pipe(O.a.filter(je.a.ShowSurvey.is)).subscribe(e=>this._handleShowSurvey(e)))}_handleShowSurvey(e){Object(s.pipe)(e.survey,E.fromPredicate(e=>e.placement===b.a.Message.Survey.Data.BaseSurvey.Placement.ggo),E.chain(e=>"open_answer_score"===e.type?E.some(e):E.none),E.chain(e=>{var t;return"string"==typeof e.detailed_placement&&2===(null===(t=e.detailed_placement)||void 0===t?void 0:t.split(":").length)?E.some({survey:e,detailedPlacement:e.detailed_placement}):E.none}),E.chain(({survey:e,detailedPlacement:t})=>{const[n,r]=t.split(":"),i=Math.abs(Number.parseInt(r,10));return Number.isNaN(i)?E.none:E.some({survey:e,detailedPlacement:t,sessionId:n,resultId:P.a.Id.create(i)})}),E.fold(()=>this._params.monitoringService.notify(Object(T.a)({source:"userSurvey",kind:"warn",name:"unexpectedSurveyFormatReceived",data:{surveyType:e.survey.type,surveyPlacement:e.survey.placement,surveyDetailedPlacement:e.survey.detailed_placement}})),({survey:e,detailedPlacement:t,resultId:n})=>{this._activeSurvey.modify(()=>E.some({placement:e.placement,title:e.title,detailedPlacement:t,type:b.a.Message.Survey.Data.OpenAnswerScoreSurvey.type,resultId:n,maxScore:e.max_score,boxText:E.fromNullable(e.box_text),ratingLabels:e.score_labels,acknowledgmentTitle:E.fromNullable(e.acknowledgment_title),acknowledgment:E.fromNullable(e.acknowledgment),skipOpenAnswerFrom:e.skip_open_answer_from,openAnswer:E.fromNullable({placeholder:e.open_answer.placeholder,maxLen:e.open_answer.max_len,minLen:E.fromNullable(e.open_answer.min_len)})}))}))}}var rt,it,at=n("skc2"),ot=n("M3t0"),st=n("2HlN"),ct=n("xAs4"),lt=n("fjQv"),ut=function(e){return function(t){var n=t.startOptions,r=t.textEditorService;return new Ee({startSessionOptions:n,textEditorService:r,capiService:e.capiService,trackingService:e.trackingService,userService:e.userService,monitoringService:lt.a.getInstance(),selectionContextAvailability:e.selectionContextAvailability})}},dt=ot.d.Logging.getLogger("Cheetah.TextInsertion"),pt=function(e,t,n,r,i){return{getText:function(t){return Object(s.pipe)(C.b.tryCatchError((function(){return e.getText().substring(t.start,t.end)})),C.l.fromEither)},flush:function(){return C.l.tryCatch((function(){return Promise.resolve(e.flushChanges())}),C.b.toError)},insertText:function(e){return dt.info("Inserting text"),Object(s.pipe)((new H.a).insert(e),(function(e){return t.replaceCurrentSelectionWith(e)}),C.l.bimap((function(e){return dt.error("Text insertion error",e),e}),(function(){r(),dt.info("Text inserted")})))},setContextHighlight:function(e,t){n.setContextHighlight(e,t)},selectedRange:i,textUpdated:e.contentUpdated.pipe(O.a.mapTo(void 0))}},mt=(c.z({action:c.w}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e){return n&&"user_action"===e.action},o=new O.a.Subject;e.registerExternalMessageHandler((function(e){return o.next(e),Object(w.p)(je.b,r)(e)?b.a.ExternalHandler.Result.STOP_HANDLING:b.a.ExternalHandler.Result.CONTINUE_HANDLING}));var s=function(){return Object.values(t.get())},c=new Je({inboundCAPIMessages:O.a.concatStatic(O.a.defer((function(){return O.a.from(s())})).pipe(O.a.filter(je.c)),o),sendCAPIMessage:function(t){var n=t.action,r=t.data,o=t.shouldInjectRev,s=t.shouldInjectSessionId;return e.enqueueExternalCommand((function(e){var t=e.id,c=e.sessionId,l=e.currentRevision;return Object(a._)(Object(i._)({action:n,id:t},r),{rev:!0===o?l:void 0,sessionId:!0===s?c:void 0})}))},monitoringService:lt.a.getInstance()});return{capiService:c,capiMessages:o}}),ft=function(e,t){return{user:S.a.combine(e.profile,t.dialectOrDefault,(function(t,n){return{id:t.id,isPremium:ct.e.isPremium(e.features.denaliUserType),dialect:n,institution:t.institutionInfo,email:t.email}})),setDialect:function(e){return Object(s.pipe)(C.l.tryCatch((function(){return t.setDialect(e)}),C.b.toError),C.l.map(w.e))}}},ht=function(e,t,n,r){var i=ot.d.Logging.getLogger("Cheetah.Uphooks");return{reportUphookShow:function(t){var n=t.isPremium;return C.l.fromTask((function(){return n?Promise.resolve():e.gnarSpec.getPremiumButtonShow(e.pageId,void 0,"grammarlyGoPrompts")}))},reportUphookClick:function(a){var o=a.isPremium;return C.l.fromTask((function(){return o?(Object(s.pipe)(C.b.tryCatchError((function(){return new at.a(n.support.newRequest)})),C.b.chain(t.actions.openPopup),C.b.getOrElse((function(e){return i.fatal("unexpected error on support page navigation from Grammarly GO",e)}))),Promise.resolve()):(r.fromGrammarlyGO(),e.gnarSpec.getPremiumButtonClick(e.pageId,void 0,"grammarlyGoPrompts"))}))}}},gt=function(e){return{domain:S.a.create(null),submitFeedback:function(t){return C.l.fromTask((function(){return e.gnarSpec.feedbackFormSubmit("",null!==(rt=t.message)&&void 0!==rt?rt:"",e.pageId,t.mood)}))}}},bt=(it=Object(r.a)((function(e,t,n,r){var i,a;return Object(o.c)(this,(function(o){switch(o.label){case 0:return i=Object(st.b)().env,[4,e.getContainerId().catch((function(){return""}))];case 1:return a=o.sent(),[2,{hostInfo:{clientType:t.names.tracking,clientVersion:t.buildVersion.toString(),containerId:a,environment:"fb"===i||"dev"===i?"dev":i},sizeBehavior:r?S.a.create(r):y.a.getResizeObservable(document.documentElement).pipe(O.a.pluck("height"),O.a.map((function(e){return e-100})),O.a.debounceTime(100),O.a.startWith(550),O.a.map((function(e){return{heightBehavior:{kind:"fitContent",maxHeight:e},widthBehavior:{kind:"fitContainer"}}}))),dragBehavior:S.a.create({kind:"notDraggable"}),visuallyReady:function(){return Promise.resolve(void 0)},readyToDrag:function(){return Promise.resolve(void 0)},focusStateChanged:function(){return Promise.resolve()},starting:function(){return Promise.resolve([])},close:function(){return n.closeCheetahLens(),Promise.resolve()}}]}}))})),function(e,t,n,r){return it.apply(this,arguments)}),vt=function(e){return new nt({capiService:e,monitoringService:lt.a.getInstance()})}},JsWC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("hcme"),o=n("000W"),s=n("FA0h"),c=n("V+fo"),l=n("tiWp"),u=n("9tCC"),d=n("0kuo"),p=n("mgiE");!function(e){var t,n=function(e,n){var r=n.position,a=n.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return u.Rect.validate(t.match((function(){return Object(i._)({top:a.y,right:a.x,bottom:a.y+o.height,left:a.x-o.width},o)}),(function(){return Object(i._)({top:a.y-o.height,right:a.x,bottom:a.y,left:a.x-o.width},o)}),(function(){return Object(i._)({top:a.y-o.height,right:a.x+o.width,bottom:a.y,left:a.x},o)}),(function(){return Object(i._)({top:a.y,right:a.x+o.width,bottom:a.y+o.height,left:a.x},o)}))(r))},m=function(e){return g(u.Rect.Point.normalize({x:e.left,y:e.top}))};!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),(t=e.Position||(e.Position={})).match=function(e,n,r,i){return function(a){switch(a){case t.topRight:return e();case t.bottomRight:return n();case t.bottomLeft:return r();case t.topLeft:return i();default:return Object(d.c)(a)}}};var f,h,g=e.topLeft=function(e){return{position:t.topLeft,point:u.Rect.Point.normalize(e)}},b=e.topRight=function(e){return{position:t.topRight,point:u.Rect.Point.normalize(e)}},v=e.bottomRight=function(e){return{position:t.bottomRight,point:u.Rect.Point.normalize(e)}},y=e.bottomLeft=function(e){return{position:t.bottomLeft,point:u.Rect.Point.normalize(e)}};e.relativeTo=function(e,t){return{position:e.position,point:u.Rect.Point.relativeTo(e.point,t)}},e.empty=g(u.Rect.Point.empty);e.toRect=n,e.fromRect=m,e.inRect=function(e,t){var n=t.point;return u.Rect.hasPoint(e,n)},e.toCss=function(e){var n=e.position,r=e.point;return t.match((function(){return{top:r.y,right:r.x}}),(function(){return{right:r.x,bottom:r.y}}),(function(){return{bottom:r.y,left:r.x}}),(function(){return{top:r.y,left:r.x}}))(n)},function(e){e.create=function(e,t){return Object(d.f)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]};e.bySide=function(e,t){return u.Rect.Side.match((function(){return f.create(y({x:Math.ceil(t.left),y:Math.ceil(t.top)}),v({x:Math.floor(t.right),y:Math.ceil(t.top)}))}),(function(){return f.create(g({x:Math.floor(t.right),y:Math.ceil(t.top)}),y({x:Math.floor(t.right),y:Math.floor(t.bottom)}))}),(function(){return f.create(g({x:Math.ceil(t.left),y:Math.floor(t.bottom)}),b({x:Math.floor(t.right),y:Math.floor(t.bottom)}))}),(function(){return f.create(b({x:Math.ceil(t.left),y:Math.ceil(t.top)}),v({x:Math.ceil(t.left),y:Math.floor(t.bottom)}))}))(e)}}(f=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return s.g(Object(c.getFirstSemigroup)(),o.y)(u.Rect.Axis.toSides(e).map((function(e){return[e,f.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(e){e.empty={quality:0,point:r.empty};function t(e,t){return Object(l.pipe)(u.Rect.intersection(e,t),p.g.map((function(e){var n=e.width/t.width,r=e.height/t.height,i=(Number.isNaN(n)?0:n/2)+(Number.isNaN(r)?0:r/2);return Object(d.f)(i>=0,"quality can not be negavite: ".concat(i)),Object(d.f)(i<=1,"quality can be higher than 1: ".concat(i)),i})))}e.qualityOfIntersection=t,e.byViewport=function(e,n){return{quality:Object(l.pipe)(t(e,n),p.g.getOrElse((function(){return 0})))+Object(l.pipe)(u.Rect.scale(2,n),p.b.chain(u.Rect.normalize),p.g.fromEither,p.g.chain((function(n){return t(e,n)})),p.g.getOrElse((function(){return 0}))),point:m(n)}},e.fromZone=function(e,t,r){return Object(l.pipe)(o.y.traverse(p.b.either)(r,(function(e){return n(t,e)})),p.b.chain((function(e){var t=Object(a._)(e,2),n=t[0],r=t[1];return u.Rect.join(n,r)})),p.b.chain((function(e){return u.Box.placeIntoRect(t,e)})),p.b.map((function(t){return t.map((function(t){return h.byViewport(e,t)}))})))}}(h=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,n){return Object(l.pipe)(n,s.j((function(n){return h.fromZone(e,t,n)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={}));e.takeBy=function(e,t){return function(n){return Object(l.pipe)(n,s.n({point:h.empty,side:e},(function(n,r,i){return Object(l.pipe)(i,p.b.map((function(i){return i.filter((function(r,i){return t.toString().includes(i.toString())&&e===n})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:n}:e}),r)})),p.b.unsafeGet)}))).point}};var n=e.preferBy=function(e,t){return function(n){return Object(l.pipe)(n,s.n({point:h.empty,side:e},(function(n,r,i){return Object(l.pipe)(i,p.b.map((function(i){return i.reduce((function(r,i,a){return i.quality>r.point.quality||i.quality===r.point.quality&&t.toString().includes(a.toString())&&e===n?{point:i,side:n}:r}),r)})),p.b.unsafeGet)}))).point}};e.preferTopMiddle=n("top",t.middle),e.preferTopEdges=n("top",t.edges)}(e.Selector||(e.Selector={}))}(r||(r={}))},K5qu:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n("B8yO"),i=n.n(r);const a={prefix:String(Math.round(1e10*Math.random())),current:0},o=i.a.createContext(a),s=i.a.createContext(!1);let c=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),l=new WeakMap;function u(e=!1){let t=(0,r.useContext)(o),n=(0,r.useRef)(null);if(null===n.current&&!e){var a,s;let e=null===(a=i.a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===a||null===(s=a.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let n=l.get(e);null==n?l.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,l.delete(e))}n.current=++t.current}return n.current}const d="function"==typeof i.a.useId?function(e){let t=i.a.useId(),[n]=(0,r.useState)(h());return e||`${n?"react-aria":"react-aria"+a.prefix}-${t}`}:function(e){let t=(0,r.useContext)(o);t!==a||c||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=u(!!e),i="react-aria"+t.prefix;return e||`${i}-${n}`};function p(){return!1}function m(){return!0}function f(e){return()=>{}}function h(){return"function"==typeof i.a.useSyncExternalStore?i.a.useSyncExternalStore(f,p,m):(0,r.useContext)(s)}},K9f1:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return D}));var r,i,a,o=n("cZKX"),s=n("IMGo"),c=n("DTwm"),l=n("+vYo"),u=n("mgiE"),d=n("wqt/"),p=n("K40b"),m=n("RRF2"),f=n("0kuo"),h=n("TKPA"),g=n("M3t0"),b=n("HBEw"),v=n("Fv8Q"),y=n("1MDf");function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i=r||(r={})).iso=function(){return y.d()},i.empty=function(){return{sduiQueue:new Map}},i.removeAllBySduiId=function(e){return function(t){return Object(c.pipe)(r.toQueueValuesArray(t),u.a.filter((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))})),(function(e){return r.removeItems(e)(t),e}))}},i.removeEarlierItemsBySduiId=function(e){return function(t){return Object(c.pipe)(r.toQueueValuesArray(t),u.a.filter((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))&&t.order<e.order})),(function(e){return r.removeItems(e)(t),e}))}},i.addItem=function(e){return function(t){t.sduiQueue.set(e.id,e)}},i.removeItems=function(e){return function(t){e.forEach((function(e){return t.sduiQueue.delete(e.id)}))}},i.toQueueValuesArray=function(e){return Array.from(e.sduiQueue.values())},function(e){var t,n,i,a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};i=0,(n="QueueCounter")in(t=a)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i;e.show={show:function(e){return Array.from(r.iso().unwrap(e).sduiQueue.entries()).map((function(e){var t=_(e,2),n=t[0],r=t[1];return"".concat(n," - { id: ").concat(r.id," sduiRootId: ").concat(r.event.sduiRootId,", kind: ").concat(r.event.kind)})).join(";\n")}};!function(e){var t;!function(e){e.from=function(e){return"".concat(e)}}(t=e.Id||(e.Id={}));e.fromEvent=function(e){return{id:t.from("".concat(e.sduiRootId,"_").concat(++a.QueueCounter)),order:a.QueueCounter,event:e}}}(e.Item||(e.Item={}));e.empty=function(){return r.iso().wrap(r.empty())},e.removeAllBySduiId=function(e){return function(t){return Object(c.pipe)(r.iso().unwrap(t),r.removeAllBySduiId(e))}},e.addItem=function(e){return function(t){return Object(c.pipe)(r.iso().unwrap(t),r.addItem(e))}},e.removeItems=function(e){return function(t){return Object(c.pipe)(r.iso().unwrap(t),r.removeItems(e))}},e.removeEarlierItemsBySduiId=function(e){return function(t){return Object(c.pipe)(r.iso().unwrap(t),r.removeEarlierItemsBySduiId(e))}},e.toQueueValuesArray=function(e){return Object(c.pipe)(r.iso().unwrap(e),r.toQueueValuesArray)}}(a||(a={}));var C,w=n("ez9D"),S=n("g6gm"),k=n("xk6L"),E=n("La5+"),j=n("LPyu"),x=n("ENBj"),A=n("v8A7");function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.create=function(e,t){return{card:e,parentStrongAlertRef:t}},e.isAssistantCardContent=function(e){return"assistantCard"===e.card.type},e.isInlineCardContent=function(e){return"inlineCard"===e.card.type}}(C||(C={}));var F,R,D=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new A.a,i=this;T(this,e),P(this,"alertIdResolver",void 0),P(this,"popoverManager",void 0),P(this,"_state",void 0),P(this,"state",void 0),P(this,"_onAlertsRefEmpty",void 0),P(this,"_removedAlerts",void 0),P(this,"_removedRoot",void 0),P(this,"_switchView",void 0),P(this,"_sessionEvents",void 0),P(this,"_reviseSduiQueue",void 0),P(this,"_flush",void 0),P(this,"_flushViewSwitch",void 0),P(this,"_subs",void 0),P(this,"_log",void 0),P(this,"loadItems",void 0),P(this,"_arrayToDiff",void 0),P(this,"findFirstCardWithContent",void 0),P(this,"notifyAlertsChanged",void 0),P(this,"onSessionStarted",void 0),P(this,"onFirstCheckingFinished",void 0),P(this,"_processEvents",void 0),P(this,"_getAllAlertsIdsFromEvent",void 0),P(this,"_getAlertsIdsFromAlertRef",void 0),P(this,"_getAlertsIdsFromDSL",void 0),P(this,"_resolveAlertIds",void 0),P(this,"_hasAllAlerts",void 0),P(this,"_toInternalDiff",void 0),P(this,"_preserveViewStackForCAPIUpdates",void 0),P(this,"_normalizeSDUIEvents",void 0),P(this,"_toSDUIItem",void 0),P(this,"_emitDomainEvent",void 0),P(this,"_debugLogState",void 0),P(this,"_getBufferObs",void 0),this.alertIdResolver=n,this.popoverManager=r,this._state=l.a.create(S.a.empty),this.state=this._state.view((function(e){return S.a.iso.wrap(e)})),this._onAlertsRefEmpty=new k.a.Subject,this._removedAlerts=new k.a.Subject,this._removedRoot=new k.a.Subject,this._switchView=new k.a.Subject,this._sessionEvents=new k.a.Subject,this._reviseSduiQueue=new k.a.Subject,this._flush=new k.a.Subject,this._flushViewSwitch=new k.a.Subject,this._subs=new E.a.Keeper,this._log=g.d.Logging.getLogger("SDUIManager",g.a.LogLevel.TRACE,g.a.LogColor.Manager.getColor()),this.loadItems=function(e){var t=Object(c.pipe)(e,o.yb((function(e){return"popoverStack"===e.content.type}))),n=t.right,r=t.left;n.forEach((function(e){var t=e.content;"popoverStack"===t.type&&i.popoverManager.addPopover(t)})),Object(c.pipe)(r,o.ub((function(e){return B(N({},e),{invalid:!0})})),i._arrayToDiff,S.a.applyDiff,u.j.map(d.a.recover((function(e){return i._log.error("conflicts on diff apply",e)}))),(function(e){return i._state.modify(e)}))},this._arrayToDiff=function(e){return p.a.fromMutation((function(t){return o.ub((function(e){t.set(e.id,u.m.right(e))}))(e)}))},this.findFirstCardWithContent=function(e){return Object(c.pipe)(i.state.get(),w.a.get(e),u.g.map((function(e){var t=e.content;return x.a.reduce(t,(function(e,t){return Object(c.pipe)(e,u.b.fold((function(e){return"strongAlertRef"===t.type?u.b.left(u.g.some(t)):"assistantCard"===t.type||"inlineCard"===t.type?u.b.right(C.create(t,e)):u.b.left(e)}),u.b.right))}),x.a.TreeTraversal.PreOrder,u.b.left(u.g.none))})),u.g.chain(u.g.fromEither))},this.notifyAlertsChanged=function(){return i._reviseSduiQueue.next()},this.onSessionStarted=function(){return i._sessionEvents.next(R.Start)},this.onFirstCheckingFinished=function(){return i._sessionEvents.next(R.FirstCheckingFinished)},this._processEvents=function(e){return function(t,n){var r=Object(c.pipe)(n,u.b.fold((function(n){return Object(c.pipe)(a.toQueueValuesArray(t),u.a.filter(e))}),(function(n){if(n.kind===j.a.SduiEventKind.Remove){i._log.debug("[IN - ".concat(n.kind,", {id: ").concat(n.sduiRootId,"}] removeAllBySduiId"));var r=a.Item.fromEvent(n);return a.removeAllBySduiId(r)(t),[r]}var o=a.Item.fromEvent(n);return e(o)?(i._log.debug("[IN - ".concat(o.event.kind," {sduiRootId: ").concat(o.event.sduiRootId,", id: ").concat(o.id," refs: ").concat(JSON.stringify(x.a.getAlertIds(o.event.sdui)),"}, ] hasAllAlerts")),[o]):(a.addItem(o)(t),i._log.debug("[IN - ".concat(o.event.kind," {sduiRootId: ").concat(o.event.sduiRootId,", id: ").concat(o.id," refs: ").concat(JSON.stringify(x.a.getAlertIds(o.event.sdui)),"}] add to queue, [queue]: ").concat(a.show.show(t))),[])})),(function(e){return i._log.debug("[completeItems] ".concat(e.map((function(e){return e.id})).join(", "),", [queue]: ").concat(a.show.show(t))),a.removeItems(e)(t),e.forEach((function(e){return a.removeEarlierItemsBySduiId(e)(t)})),e}),u.a.map(m.e.pick("event")));return B(N({},t),{completeEvents:r})}},this._getAllAlertsIdsFromEvent=function(e,t){return Object(c.flow)((function(e){return e.sdui}),i._getAlertsIdsFromDSL(e,t))},this._getAlertsIdsFromAlertRef=function(e,t){return function(n){return Object(c.pipe)(n,x.a.getAlertIds,u.g.tapLeft((function(){return t===F.Silent?{}:i._log.error("Provided SDUI dsl doesn't contain alertIds array. StrongAlertRef: ".concat(JSON.stringify({id:n.id,type:n.type,name:n.name,alertIds:n.alertIds})))})),u.g.fold((function(){return[]}),c.identity),i._resolveAlertIds(e,t))}},this._getAlertsIdsFromDSL=function(e,t){return function(n){return Object(c.pipe)(n,x.a.getAllAlertIds,(function(e){return Array.from(new Set(e))}),(function(e){return o.nb(e)?(i._log.trace("Provided SDUI dsl doesn't contain any alertIds references. DSL id: ".concat(n.id)),e):e}),i._resolveAlertIds(e,t))}},this._resolveAlertIds=function(e,t){return function(n){return Object(c.pipe)(n,o.ub((function(n){return Object(c.pipe)(b.a.AlertId.from(n),e,u.g.tapLeft((function(){return t===F.Silent?{}:i._log.error("Alert with raw id ".concat(n,", can not be found. It was either deleted or was not added yet."))})))})),o.Qb(u.g.option))}},this._hasAllAlerts=function(e,t){return Object(c.flow)(i._getAllAlertsIdsFromEvent(e,t),u.g.isSome)},this._toInternalDiff=function(e){return function(t){var n=L(t,2),r=n[0],a=n[1],o=S.a.MutableInternalDiff.empty();return Object(c.pipe)(r,s.Z(o,(function(t,n){return n.kind===j.a.SduiEventKind.Remove?i._handleSDUIRemove(n,a,t):Object(c.pipe)(i._getAllAlertsIdsFromEvent(e,F.Silent)(n),u.g.map(i._toSDUIItem(n)),u.g.fold((function(){return i._log.trace(H.internalDiffParsingError([x.a.getAllAlertIds(n.sdui).join(", "),n.sduiRootId]))}),(function(e){var r=n.kind;switch(r){case j.a.SduiEventKind.Add:i._handleSDUIAdd(e,n.rev,a,t);break;case j.a.SduiEventKind.Update:i._handleSDUIUpdate(e,a,t);break;default:Object(f.c)(r)}})),(function(e){return t}))})))}},this._preserveViewStackForCAPIUpdates=function(e){return Object(c.pipe)(e,s.R((function(e){return e.kind!==j.a.SduiEventKind.Update||e.source!==v.c.CAPI?e:v.b.of(e.sduiRootId,e.source,e.rev)(u.g.fold((function(){return u.g.some(e.sdui)}),Object(c.flow)(x.a.toContentMap,(function(t){return Object(c.pipe)(t,Object.values,u.a.filterMap((function(e){var t=e.content;return"viewStack"===t.type?u.g.some({type:"switchView",where:t.id,selected:t.selected}):u.g.none})),(function(n){return x.a.bulkSwitchView(e.sdui,n,t)}))}),u.g.some)))})))},this._normalizeSDUIEvents=function(e){var t=L(e,2),n=t[0],r=t[1];return Object(c.pipe)(n,o.P((function(e){return"sdui_lazy_update"!==e.kind?u.g.some(e):i._handleSDUILazyUpdate(e,r)})))},this._toSDUIItem=function(e){return function(t){return{id:b.a.Item.Id.from(e.sduiRootId),content:e.sdui,alertIds:t}}},this._emitDomainEvent=function(e){i._log.debug("internalDiff",S.a.InternalDiff.show.show(e)),Object(c.pipe)(e,S.a.createDiff,d.a.recover((function(e){return i._log.error("conflicts on diff creating",e)})),(function(e){return i._log.debug("SDUIItemsCollectionDiff",S.a.diffShow.show(e)),e}),S.a.applyDiff,u.j.map(d.a.recover((function(e){return i._log.error("conflicts on diff apply",e)}))),(function(e){return i._state.modify(e)}))},this._debugLogState=function(e){return i._log.debug("[SDUIManagerState] (SDUIItemsCollection)","_latestChangeDiff: ".concat(S.a.diffShow.show(e.latestChangeDiff),",\n _entriesIds: ").concat(S.a.InternalDiff.showMapKeys.show(e.entries),"}"))},this._getBufferObs=function(){return{bufferObsForSDUIEvents:k.a.mergeStatic(k.a.interval(100).pipe(k.a.startWith(0)),i._flush),bufferObsForViewSwitchEvents:k.a.mergeStatic(k.a.interval(100).pipe(k.a.startWith(0)),i._flushViewSwitch)}};var y=t.pipe(k.a.map(v.a.fromSource(v.c.CAPI))),O=this._getBufferObs(),_=O.bufferObsForSDUIEvents,I=O.bufferObsForViewSwitchEvents,M=Object(v.d)(this._removedAlerts.asObservable(),this._removedRoot.asObservable(),this.state,this._switchView.asObservable(),this.popoverManager,this._log,I),D=M.emptyAlertsRefReasonTuple,V=M.optimisticRemoveSDUIEvent,U=M.emptyStrongAlertRefUpdate,W=M.viewStackUpdates,z=M.activePopoverUpdates,G=k.a.mergeStatic(y,V,U).pipe(k.a.tap((function(e){return i._log.debug("Received SDUI event: ".concat(v.a.show.show(e)," from: ").concat(e.source))})),k.a.scan((function(e,t){var n=t.source;switch(n){case v.c.RemoveAlertsSDUIAction:case v.c.RemoveRootSDUIAction:case v.c.RemoveDuplicate:case v.c.TextChange:return t.kind===j.a.SduiEventKind.Remove&&e.optRemovedSDUIRootIds.add(t.sduiRootId),B(N({},e),{event:u.g.some(t)});case v.c.CAPI:return Object(c.pipe)(t,u.g.fromPredicate((function(t){return e.optRemovedSDUIRootIds.has(t.sduiRootId)})),u.g.tap((function(t){return e.optRemovedSDUIRootIds.delete(t.sduiRootId)})),u.g.chain(u.g.fromPredicate(Object(h.p)(v.f,v.e))),u.g.fold((function(){return B(N({},e),{event:u.g.some(t)})}),(function(t){return t.kind===j.a.SduiEventKind.Remove?B(N({},e),{event:u.g.none}):B(N({},e),{event:u.g.some(B(N({},t),{kind:j.a.SduiEventKind.Add}))})})));case v.c.SwitchView:return B(N({},e),{event:u.g.some(t)});default:Object(f.c)(n)}}),{optRemovedSDUIRootIds:new Set,event:u.g.none}),k.a.map(m.e.pick("event")),k.b.compact,k.a.map(u.b.right)),q=Object(c.flow)(m.e.pick("event"),this._hasAllAlerts(this.alertIdResolver,F.Silent)),K=k.a.mergeStatic(G,this._reviseSduiQueue.pipe(k.a.map(u.b.left))).pipe(k.a.scan(this._processEvents(q),B(N({},a.empty()),{completeEvents:[]})),k.a.map(m.e.pick("completeEvents"))),$=k.a.mergeStatic(K,W,z).pipe(k.a.buffer(_),k.a.map((function(e){return o.Y(e)})),k.a.filter(o.ob)),Z=$.pipe(k.a.map(this._preserveViewStackForCAPIUpdates),k.a.withLatestFrom(this._state),k.a.map(this._normalizeSDUIEvents),k.a.filter(o.ob)),Y=this._sessionEvents.pipe(k.a.filter((function(e){return e===R.Start})),k.a.withLatestFrom(this._state),k.a.map((function(e){var t=L(e,2);t[0];return t[1]})),k.a.filter((function(e){return e.entries.size>0})),k.a.map(S.a.MutableInternalDiff.fromState((function(e,t){var n=B(N({},t),{invalid:!0});return b.a.Item.eq.equals(t,n)||e.updated.set(t.id,[t,n]),e})))),X=this._sessionEvents.pipe(k.a.filter((function(e){return e===R.FirstCheckingFinished})),k.a.withLatestFrom(this._state),k.a.map((function(e){var t=L(e,2);t[0];return t[1]})),k.a.filter((function(e){return e.entries.size>0})),k.a.map(S.a.MutableInternalDiff.fromState((function(e,t){var n;return null!==(n=t.invalid)&&void 0!==n&&n&&e.removed.set(t.id,t),e})))),Q=k.a.mergeStatic(Y,X);this._subs.push(this._state.pipe(k.a.tap(this._debugLogState)).subscribe(),D.subscribe((function(e){var t=L(e,1)[0];return i._onAlertsRefEmpty.next(t)})),Z.pipe(k.a.withLatestFrom(this._state),k.a.map(this._toInternalDiff(this.alertIdResolver)),k.a.filter(Object(c.not)(S.a.InternalDiff.isEmpty)),k.a.map(this._emitDomainEvent)).subscribe(),Q.subscribe(this._emitDomainEvent))}var t,n,r;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._onAlertsRefEmpty.asObservable()}},{key:"pushRemovedRoot",value:function(e){this._removedRoot.next(e)}},{key:"pushRemovedAlerts",value:function(e){this._removedAlerts.next(e)}},{key:"pushSwitchView",value:function(e){this._switchView.next(e)}},{key:"flush",value:function(){this._flush.next(),this._flushViewSwitch.next(),this._flush.next()}},{key:"resolveStrongAlertRefAlerts",value:function(e){var t=this;return Object(c.pipe)(this._getAlertsIdsFromAlertRef(this.alertIdResolver,F.Error)(e),u.g.tapLeft((function(){return t._log.error("Alert ids from the provided component were not removed, because AlertIds for the provided DSL was not resolved. SDUI content ".concat(JSON.stringify({id:e.id,type:e.type,name:e.name,alertIds:e.alertIds})))})))}},{key:"_handleSDUIAdd",value:function(e,t,n,r){var i=this;return"popoverStack"===e.content.type?(this.popoverManager.addPopover(e.content,t),S.a.MutableInternalDiff.empty()):(Object(c.pipe)(n,S.a.get(e.id),u.g.fold((function(){if(Object(f.f)(!r.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection",(function(){return S.a.InternalDiff.show.show(r)+S.a.diffShow.show(S.a.diff(S.a.empty,n))})),r.removed.has(e.id))return i._log.trace(H.actionOnRemovedItem([e.id,"added"]));r.added.set(e.id,e)}),(function(t){if(Object(f.f)(!r.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection",(function(){return S.a.InternalDiff.show.show(r)+S.a.diffShow.show(S.a.diff(S.a.empty,n))})),r.removed.has(e.id))return i._log.trace(H.actionOnRemovedItem([e.id,"added"]));r.updated.set(e.id,[t,e])}))),r)}},{key:"_handleSDUIUpdate",value:function(e,t,n){var r=this;return Object(c.pipe)(t,S.a.get(e.id),u.g.fold((function(){return Object(f.f)(!n.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection"+S.a.InternalDiff.show.show(n)+S.a.diffShow.show(S.a.diff(S.a.empty,t))),n.removed.has(e.id)?r._log.trace(H.actionOnRemovedItem([e.id,"updated"])):n.added.has(e.id)?(r._log.trace(H.updateIdMissingFound([e.id])),void n.added.set(e.id,e)):r._log.error(H.updateIdMissingNotFound([e.id]))}),(function(i){return Object(f.f)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+S.a.InternalDiff.show.show(n)+S.a.diffShow.show(S.a.diff(S.a.empty,t))),n.removed.has(e.id)?r._log.trace(H.actionOnRemovedItem([e.id,"update"])):b.a.Item.eq.equals(i,e)?r._log.trace(H.updateItemsAreEqual([e.id])):void n.updated.set(e.id,[i,e])}))),n}},{key:"_handleSDUIRemove",value:function(e,t,n){var r=this,i=b.a.Item.Id.from(e.sduiRootId);return this.popoverManager.removePopover(i,e.rev),Object(c.pipe)(t,S.a.get(i),u.g.fold((function(){if(Object(f.f)(!n.updated.has(i),"SDUI item can not be in the diff.updated until it gets to the collection"+S.a.InternalDiff.show.show(n)+S.a.diffShow.show(S.a.diff(S.a.empty,t))),!n.added.has(i))return r._log.trace(H.removeIdMissingNotFound([i]));r._log.trace(H.removeIdMissingFound([i])),n.added.delete(i)}),(function(e){Object(f.f)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+S.a.InternalDiff.show.show(n)+S.a.diffShow.show(S.a.diff(S.a.empty,t))),n.updated.delete(i)?r._log.trace(H.idRemovedFrom([i,"diff.updated"])):Object(c.constVoid)(),n.removed.set(i,e)}))),n}},{key:"_handleSDUILazyUpdate",value:function(e,t){var n=this;return Object(c.pipe)(t,S.a.get(e.sduiRootId),u.g.tapLeft((function(){return n._log.trace("SDUI Item with sduiRootId ".concat(e.sduiRootId,"  was not found"))})),u.g.fold((function(){return e.toContent(u.g.none)}),(function(t){var r=t.content;return Object(c.pipe)(e.toContent(u.g.some(r)),u.g.filter((function(e){return!x.a.eq.equals(e,r)})),u.g.tapLeft((function(){return n._log.trace("SDUI Update event ".concat(JSON.stringify(e)," will be skipped, because the new DSL is the same as an old one"))})))})),u.g.map((function(t){return{kind:j.a.SduiEventKind.Update,sdui:t,sduiRootId:j.a.RawSduiItem.Id.create(e.sduiRootId),rev:e.rev,source:e.source}})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&M(t.prototype,n),r&&M(t,r),e}(),H={removeIdMissingFound:function(e){var t=L(e,1)[0];return"[Remove] SDUI item with ID ".concat(t," was found in the added messages. Removing it.")},removeIdMissingNotFound:function(e){var t=L(e,1)[0];return"[Remove] It is not possible to remove SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.add, probably it was deleted earlier. Skipping the message")},idRemovedFrom:function(e){var t=L(e,2),n=t[0],r=t[1];return"[Remove] SDUI item with ID ".concat(n," is going to be removed. ").concat(r," contains the item with ID ").concat(n," too. Remove ").concat(n," from ").concat(r)},actionOnRemovedItem:function(e){var t=L(e,2),n=t[0],r=t[1];return"[".concat(r,"] It is not possible to ").concat(r," SDUI item with ID ").concat(n,". Because it was already removed. Skipping the ").concat(r,".")},viewStackUpdateIdMissing:function(e){var t=L(e,1)[0];return"[ViewStackUpdate] SDUI item with ID ".concat(t," was found. Skipping the update.")},updateIdMissingFound:function(e){var t=L(e,1)[0];return"[Update] SDUI item with ID ".concat(t," was found in added messages. Updating it in added messages")},updateIdMissingNotFound:function(e){var t=L(e,1)[0];return"[Update] It is not possible to update SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.added, probably it was deleted earlier. Skipping the message")},updateItemsAreEqual:function(e){var t=L(e,1)[0];return"[Update] Received sdui item (sduiId: ".concat(t,") is the same as in the state. Skipping the update message")},internalDiffMissingAlertsIds:function(){return"missing AlertIDs"},internalDiffParsingError:function(e){var t=L(e,2),n=t[0],r=t[1];return"toInternalDiff, either can not resolve ".concat(n," for ").concat(r," or id of the sdui item is missing . The item will be skipped")}};!function(e){e.Silent="Silent",e.Error="Error"}(F||(F={})),function(e){e.Start="Start",e.FirstCheckingFinished="FirstCheckingFinished"}(R||(R={}))},KIX2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return E}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("hcme"),u=n("DTwm"),d=n("tiWp"),p=n("0Qjk"),m=n("Hj2R"),f=n("D2TP"),h=n("mEGS"),g=n("PYgo"),b=n("xk6L"),v=n("La5+"),y=n("yIk2"),O=n("d3CI"),_=n("Gwvb"),C=n("mgiE"),w=n("TKPA"),S=n("0kuo"),k=n("M3t0");!function(e){!function(e){e.getInlineHighlightFilter=function(e){return function(t){return!e.view(O.e.isSidebarOpened).get()||Object(d.pipe)(t,C.g.map((function(e){return m.a.State.isBulkApplied(e.state)})),C.g.getOrElse(u.constTrue))}}}(e.ViewModel||(e.ViewModel={})),function(e){e.highlightMarkByInlineAlert=function(e,t,n,r){return{id:r,when:Object(w.p)(f.a.isClosedId,f.a.isMainLens),what:O.e.Effect.Applicator.create(_.a.getHighlightSubscription(e,t,n).pipe(b.a.switchMapTo(b.a.NEVER)))}}}(e.Effects||(e.Effects={}))}(r||(r={}));var E=function(){function e(t,n,r,a,p,f,O,_,w,E,j){var x=this;Object(i.a)(this,e),Object(o._)(this,"_inlineManager",void 0),Object(o._)(this,"_alertMarkRectGetter",void 0),Object(o._)(this,"_closeEvent",void 0),Object(o._)(this,"_checkingDomain",void 0),Object(o._)(this,"_alertsReader",void 0),Object(o._)(this,"_alertsService",void 0),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"_openInlineAlert",void 0),Object(o._)(this,"_hovered",void 0),Object(o._)(this,"hydrate",void 0),Object(o._)(this,"_inlineHighlightFilter",void 0),Object(o._)(this,"_subs",void 0),Object(o._)(this,"events",void 0),Object(o._)(this,"_emitCloseWhen",void 0),Object(o._)(this,"_toMarkAndAlert",void 0),Object(o._)(this,"state",void 0),Object(o._)(this,"_log",void 0),Object(o._)(this,"_sendFeedback",void 0),this._inlineManager=t,this._alertMarkRectGetter=n,this._closeEvent=r,this._checkingDomain=a,this._alertsReader=p,this._alertsService=f,this._telemetry=O,this._openInlineAlert=_,this._hovered=w,this.hydrate=E,this._inlineHighlightFilter=j,this._subs=new v.a.Keeper,this.events=new b.a.BehaviorSubject({type:g.b.Type.closed}),this._emitCloseWhen=b.b.listenWhenSome((function(e){return x._checkingDomain.state.pipe(b.a.map(h.a.get(e.id)),b.a.filter(C.g.isNone),b.a.merge(x._closeEvent),b.a.tap(x._inlineManager.closeCards))})),this._toMarkAndAlert=Object(u.flow)(C.g.filter((function(e){return C.g.isSome(x._alertsReader.getInteractable(e.id))})),C.g.map((function(e){Object(S.f)(!m.a.isInPremiumLens(e),"Can't hover plagiarism alert");var t={alert:e,highlightIndex:0};return Object(c._)(Object(s._)({},t),{getMarkRect:x._alertMarkRectGetter(t)})}))),this.state=b.a.combineLatestStatic(this._inlineManager.hoveredMarkAlert.pipe(b.a.filter(this._inlineHighlightFilter),b.a.switchMap(this._emitCloseWhen)),this.events.pipe(b.a.tap((function(e){"unhovered"===e.type&&x._telemetry.gnarSpec.alertUnderlineHover(x._telemetry.pageId,"assistantOff",x._telemetry.pageSessionId)})))).pipe(b.a.debounce((function(e){var t=Object(l._)(e,2),n=t[0],r=t[1];return b.a.timer(C.g.isNone(n)&&"closed"!==r.type?300:0)})),b.a.switchMap((function(e){var t=Object(l._)(e,2),n=t[0],r=t[1];return Object(d.pipe)(n,C.g.fold((function(){return"hovered"===r.type?b.a.EMPTY:(x._hovered.next(C.g.empty()),b.a.of(C.g.none))}),(function(e){switch(x._hovered.next(C.g.some(e)),r.type){case g.b.Type.closed:return y.b.delay(C.g.some(e),300);case g.b.Type.opened:case g.b.Type.unhovered:case g.b.Type.hovered:case g.b.Type.addedToDictionary:case g.b.Type.ignored:case g.b.Type.applied:case g.b.Type.confirmed:case g.b.Type.undone:case g.b.Type.mounted:case g.b.Type.looked:return b.a.of(C.g.some(e));default:return Object(S.c)(r)}})))})),b.a.distinctUntilChanged(C.g.getEq(m.d.ordId).equals),b.a.map(this._toMarkAndAlert),b.a.share()),this._log=k.d.Logging.getLogger("InlineCardViewModelImpl",k.a.LogLevel.DEBUG),this._sendFeedback=function(e,t){return Object(d.pipe)(x._alertsService.applyFeedback(e,t,m.b.text),C.b.fold((function(e){return x._log.error("error sending alert feedback",e)}),u.constVoid))},this._subs.push(this._listenAlertOpenings(),this._listenAlertIgnores(),this._listenAlertAddedToDictionary(),this._listenAlertApplies(),this._listenCardLooks())}return Object(a.a)(e,[{key:"_openAlert",value:function(e){this._openInlineAlert.next(e)}},{key:"_listenAlertIgnores",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertIgnoreAction)).subscribe((function(t){return e._sendFeedback(t.alertId,{kind:p.a.AlertFeedbackType.IGNORE,subtype:p.a.FeedbackSubtype.Inline})}))}},{key:"_listenAlertAddedToDictionary",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertAddToDictionaryAction)).subscribe((function(t){return e._sendFeedback(t.alertId,{kind:p.a.AlertFeedbackType.ADD_TO_DICTIONARY,subtype:p.a.FeedbackSubtype.Inline})}))}},{key:"_listenAlertOpenings",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertOpenAction)).subscribe((function(t){e._openAlert(t.alert)}))}},{key:"_listenAlertApplies",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isAlertApplyAction)).subscribe((function(t){Object(d.pipe)(e._alertsService.apply(t.alertId,{alternativeIndex:t.alternativeIndex,source:m.b.text,feedbackSubtype:p.a.FeedbackSubtype.Inline}),C.b.fold((function(t){return e._log.error("error applying alert",t)}),(function(){var n=Object(d.pipe)(e._alertsReader.getById(t.alertId),C.g.chain((function(e){return e.extraProperties.freePremium})),C.g.exists((function(e){return"unlocked"===e})));e._telemetry.gnarSpec.suggestedReplacementButtonClick(n,e._telemetry.pageId,"defaultCard","assistantOff",e._telemetry.pageSessionId)})))}))}},{key:"_listenCardLooks",value:function(){var e=this;return this.events.pipe(b.a.filter(g.b.isLookedAction),b.a.pluck("alertId"),b.a.filter(this._alertsReader.isValidForFeedback)).subscribe((function(t){return e._sendFeedback(t,{kind:p.a.AlertFeedbackType.LOOKED,subtype:p.a.FeedbackSubtype.Inline})}))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){var t=e.DATA_NAME="inline-card";e.isInlineCard=function(e){return!!e&&e.getAttribute("data-name")===t}}(r||(r={}))},KJnl:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("0Qjk"),a=n("0kuo");!function(e){let t;!function(e){let t;!function(e){e.Rating="rating",e.Feedback="feedback",e.Completed="completed",e.Closed="closed"}(t=e.Type||(e.Type={})),e.isOpen=e=>e!==t.Closed,e.toCAPIStage=e=>{switch(e){case t.Rating:return i.a.Message.Survey.Data.OpenAnswerScoreSurvey.scoreStage;case t.Feedback:case t.Closed:case t.Completed:return i.a.Message.Survey.Data.OpenAnswerScoreSurvey.submitStage;default:Object(a.d)(e)}}}(t=e.Stage||(e.Stage={}))}(r||(r={}))},KMes:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));var r={};n.r(r),n.d(r,"ActionDefGeneratesTextType",(function(){return a})),n.d(r,"AvailableVoiceProfileSectionTagState",(function(){return o})),n.d(r,"ErrorKind",(function(){return s})),n.d(r,"GenerationMode",(function(){return c})),n.d(r,"NotificationKind",(function(){return l})),n.d(r,"VoiceProfileSettingsStatus",(function(){return u}));var i={};n.r(i),n.d(i,"ClientMessage",(function(){return b})),n.d(i,"ProtocolMessage",(function(){return v})),n.d(i,"ServerMessage",(function(){return y})),n.d(i,"StartMessage",(function(){return O})),n.d(i,"StartedMessage",(function(){return _})),n.d(i,"TextLike",(function(){return C})),n.d(i,"Root",(function(){return w})),n.d(i,"ActionArg",(function(){return S})),n.d(i,"ActionArgDef",(function(){return k})),n.d(i,"ActionArgDefStringHint",(function(){return E})),n.d(i,"ActionArgDefString",(function(){return j})),n.d(i,"ActionArgDefRadioButtonGroupHint",(function(){return x})),n.d(i,"ActionArgDefRadioButtonGroup",(function(){return A})),n.d(i,"ActionDefGeneratesTextType",(function(){return I})),n.d(i,"ActionDefDisabled",(function(){return T})),n.d(i,"ActionDef",(function(){return M})),n.d(i,"ActionInfo",(function(){return P})),n.d(i,"AvailableVoiceProfileSectionTagState",(function(){return N})),n.d(i,"AvailableVoiceProfileSectionTag",(function(){return B})),n.d(i,"AvailableVoiceProfileSection",(function(){return L})),n.d(i,"AvailableVoiceProfile",(function(){return F})),n.d(i,"AvailableVoiceProfiles",(function(){return R})),n.d(i,"Context",(function(){return D})),n.d(i,"DocumentOverview",(function(){return H})),n.d(i,"ErrorKind",(function(){return V})),n.d(i,"Error",(function(){return U})),n.d(i,"GeneratedText",(function(){return W})),n.d(i,"GenerationMode",(function(){return z})),n.d(i,"Message",(function(){return G})),n.d(i,"MessageGetContext",(function(){return q})),n.d(i,"MessageInvalidateContext",(function(){return K})),n.d(i,"MessageAction",(function(){return $})),n.d(i,"MessageSetVoice",(function(){return Z})),n.d(i,"MessageSetVoiceProfile",(function(){return Y})),n.d(i,"MessageInterrupt",(function(){return X})),n.d(i,"MessageGetUserState",(function(){return Q})),n.d(i,"MessageSearchReferences",(function(){return J})),n.d(i,"MessageGetHistory",(function(){return ee})),n.d(i,"MessageError",(function(){return te})),n.d(i,"MessageSetContext",(function(){return ne})),n.d(i,"MessageSearchReferencesResult",(function(){return re})),n.d(i,"MessageChunk",(function(){return ie})),n.d(i,"MessageResultChangesSummary",(function(){return ae})),n.d(i,"MessageResult",(function(){return oe})),n.d(i,"MessageSetUserState",(function(){return se})),n.d(i,"MessageSetHistoryCardTitle",(function(){return ce})),n.d(i,"MessageSetHistoryCardTitleUserPrompt",(function(){return le})),n.d(i,"MessageSetHistoryCardTitleAction",(function(){return ue})),n.d(i,"MessageSetHistoryCard",(function(){return de})),n.d(i,"MessageSetHistory",(function(){return pe})),n.d(i,"Metadata",(function(){return me})),n.d(i,"NotificationKind",(function(){return fe})),n.d(i,"Notification",(function(){return he})),n.d(i,"OuterContextItem",(function(){return ge})),n.d(i,"OuterContext",(function(){return be})),n.d(i,"PreviousText",(function(){return ve})),n.d(i,"PreviousTextRegular",(function(){return ye})),n.d(i,"PreviousTextHistory",(function(){return Oe})),n.d(i,"PreviousTextWriterExpert",(function(){return _e})),n.d(i,"Reference",(function(){return Ce})),n.d(i,"ReferencePrivacyLevel",(function(){return we})),n.d(i,"ReferencePrivacyLevelPublic",(function(){return Se})),n.d(i,"ReferencePrivacyLevelRestricted",(function(){return ke})),n.d(i,"SpecialView",(function(){return Ee})),n.d(i,"SpecialViewAiUsageAlert",(function(){return je})),n.d(i,"Style",(function(){return xe})),n.d(i,"Text",(function(){return Ae})),n.d(i,"TextRange",(function(){return Ie})),n.d(i,"Toggle",(function(){return Te})),n.d(i,"UrlReference",(function(){return Me})),n.d(i,"Usage",(function(){return Pe})),n.d(i,"UserStateSettings",(function(){return Ne})),n.d(i,"UserState",(function(){return Be})),n.d(i,"Voice",(function(){return Le})),n.d(i,"VoiceProfileSettingsMyVoiceIsEnabledByDefault",(function(){return Fe})),n.d(i,"VoiceProfileSettingsStatus",(function(){return Re})),n.d(i,"VoiceProfileSettings",(function(){return De})),n.d(i,"ClientMessageImplementations",(function(){return He})),n.d(i,"ServerMessageImplementations",(function(){return Ve})),n.d(i,"make",(function(){return ze})),n.d(i,"interpreter",(function(){return Ge})),n.d(i,"extend",(function(){return qe})),n.d(i,"encoderSchemable",(function(){return Ke}));var a,o,s,c,l,u,d={};n.r(d),n.d(d,"version",(function(){return $e})),function(e){e.Insertable="insertable",e.NonInsertable="non_insertable"}(a||(a={})),function(e){e.Active="active",e.Snoozed="snoozed"}(o||(o={})),function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(s||(s={})),function(e){e.Ideation="ideation",e.PushRewrite="pushRewrite",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(c||(c={})),function(e){e.Generic="generic",e.Info="info"}(l||(l={})),function(e){e.Initial="initial",e.Seen="seen",e.Updated="updated"}(u||(u={}));var p=n("0Uv3"),m=n("gIH0"),f=n("j8jx"),h=n("w8H4"),g=n("DTwm"),b=ze((function(e){return We(v(e),e.struct({}))(e)})),v=ze((function(e){return e.struct({id:e.number})})),y=ze((function(e){return We(v(e),e.struct({}))(e)})),O=ze((function(e){return e.intersect(e.partial({docIdIsTransient:e.boolean}))(e.struct({}))})),_=ze((function(e){return e.struct({cheetahState:Be(e)})})),C=ze((function(e){return e.struct({plain:e.sensitiveString,delta:e.sensitiveDelta})})),w=ze((function(e){return G(e)})),S=ze((function(e){return e.struct({name:e.string,value:e.sensitiveString})})),k=ze((function(e){var t;return e.sum("valueType")(((t={}).string=j(e),t.radioButtonGroup=A(e),t))})),E=ze((function(e){return e.struct({header:e.string,text:e.readonly(e.array(e.string))})})),j=ze((function(e){return e.intersect(e.partial({hint:E(e)}))(e.struct({valueType:e.literal("string"),label:e.string,name:e.string}))})),x=ze((function(e){return e.struct({header:e.string,text:e.readonly(e.array(e.string))})})),A=ze((function(e){return e.intersect(e.partial({hint:x(e)}))(e.struct({valueType:e.literal("radioButtonGroup"),label:e.string,name:e.string,radioButtonGroupValues:e.readonly(e.array(e.string))}))})),I=Ue(a),T=ze((function(e){return e.intersect(e.partial({onActionNotification:he(e)}))(e.struct({}))})),M=ze((function(e){return e.intersect(e.partial({generatesTextType:I(e)}))(e.intersect(e.partial({disabled:T(e)}))(e.struct({id:e.string,iconUrl:e.string,group:e.string,label:e.string,searchTags:e.readonly(e.array(e.string)),args:e.readonly(e.array(k(e)))})))})),P=ze((function(e){return e.intersect(e.partial({useReferences:e.readonly(e.array(Me(e)))}))(e.intersect(e.partial({omitReferenceIds:e.readonly(e.array(e.string))}))(e.struct({contextId:e.string,triggerContextId:e.string,actionId:e.string,args:e.readonly(e.array(S(e)))})))})),N=Ue(o),B=ze((function(e){return e.struct({name:e.string,state:N(e)})})),L=ze((function(e){return e.struct({name:e.string,tags:e.readonly(e.array(B(e)))})})),F=ze((function(e){return e.struct({name:e.string,summary:e.string,selected:e.boolean,sections:e.readonly(e.array(L(e)))})})),R=ze((function(e){return e.readonly(e.array(F(e)))})),D=ze((function(e){return e.intersect(e.partial({voiceProfileSettings:De(e)}))(e.intersect(e.partial({intent:e.sensitiveString}))(e.intersect(e.partial({documentOverview:H(e)}))(e.intersect(e.partial({specialView:Ee(e)}))(e.intersect(e.partial({textScope:Ie(e)}))(e.intersect(e.partial({contextNotification:he(e)}))(e.intersect(e.partial({metadata:me(e)}))(e.struct({id:e.string,voice:Le(e),availableActions:e.readonly(e.array(M(e))),parentAction:P(e),stateBlob:e.string,promptAction:M(e),quickRewriteAction:M(e)}))))))))})),H=ze((function(e){return e.struct({title:e.string,summary:e.string})})),V=Ue(s),U=ze((function(e){return e.struct({kind:V(e),title:e.string,text:e.string})})),W=ze((function(e){return We(C(e),e.struct({plain:e.sensitiveString,interrupted:e.boolean,renderDiff:e.boolean,delta:e.sensitiveDelta}))(e)})),z=Ue(c),G=ze((function(e){var t;return We(v(e),e.sum("action")(((t={})["cheetah:getContext"]=q(e),t["cheetah:invalidateContext"]=K(e),t["cheetah:action"]=$(e),t["cheetah:setVoice"]=Z(e),t["cheetah:setVoiceProfile"]=Y(e),t["cheetah:interrupt"]=X(e),t["cheetah:getUserState"]=Q(e),t["cheetah:searchReferences"]=J(e),t["cheetah:getHistory"]=ee(e),t["cheetah:error"]=te(e),t["cheetah:setContext"]=ne(e),t["cheetah:searchReferencesResult"]=re(e),t["cheetah:chunk"]=ie(e),t["cheetah:result"]=oe(e),t["cheetah:setUserState"]=se(e),t["cheetah:setHistory"]=pe(e),t)))(e)})),q=ze((function(e){return We(b(e),e.intersect(e.partial({outerContext:be(e)}))(e.intersect(e.partial({selectedRange:Ie(e)}))(e.intersect(e.partial({stateBlob:e.string}))(e.intersect(e.partial({previousText:ve(e)}))(e.intersect(e.partial({includeDisabledActions:e.boolean}))(e.intersect(e.partial({metadata:me(e)}))(e.struct({action:e.literal("cheetah:getContext"),rev:e.number,generationMode:z(e)}))))))))(e)})),K=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:invalidateContext")}))(e)})),$=ze((function(e){return We(b(e),e.intersect(e.partial({useReferences:e.readonly(e.array(Me(e)))}))(e.intersect(e.partial({omitReferenceIds:e.readonly(e.array(e.string))}))(e.intersect(e.partial({previousText:ve(e)}))(e.intersect(e.partial({metadata:me(e)}))(e.struct({action:e.literal("cheetah:action"),rev:e.number,contextId:e.string,triggerContextId:e.string,actionId:e.string,stateBlob:e.string,args:e.readonly(e.array(S(e)))}))))))(e)})),Z=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:setVoice"),voice:Le(e)}))(e)})),Y=ze((function(e){return We(b(e),e.intersect(e.partial({role:e.string}))(e.intersect(e.partial({isEnabledByDefault:e.boolean}))(e.intersect(e.partial({profiles:R(e)}))(e.struct({action:e.literal("cheetah:setVoiceProfile")})))))(e)})),X=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:interrupt"),promptId:e.number}))(e)})),Q=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:getUserState")}))(e)})),J=ze((function(e){return We(b(e),e.intersect(e.partial({url:e.string}))(e.struct({action:e.literal("cheetah:searchReferences")})))(e)})),ee=ze((function(e){return We(b(e),e.struct({action:e.literal("cheetah:getHistory")}))(e)})),te=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:error"),promptId:e.number,error:U(e)}))(e)})),ne=ze((function(e){return We(y(e),e.intersect(e.partial({progressMessage:e.string}))(e.struct({action:e.literal("cheetah:setContext"),promptId:e.number,context:D(e),usage:Pe(e)})))(e)})),re=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:searchReferencesResult"),promptId:e.number,references:e.readonly(e.array(Ce(e)))}))(e)})),ie=ze((function(e){return We(y(e),e.intersect(e.partial({metadata:me(e)}))(e.struct({action:e.literal("cheetah:chunk"),promptId:e.number,token:e.sensitiveString})))(e)})),ae=ze((function(e){return e.struct({title:e.string,description:e.readonly(e.array(e.string))})})),oe=ze((function(e){return We(y(e),e.intersect(e.partial({metadata:me(e)}))(e.intersect(e.partial({context:D(e)}))(e.intersect(e.partial({error:U(e)}))(e.intersect(e.partial({text:W(e)}))(e.intersect(e.partial({withVoiceText:W(e)}))(e.intersect(e.partial({showVoiceTextByDefault:e.boolean}))(e.intersect(e.partial({references:e.readonly(e.array(Ce(e)))}))(e.intersect(e.partial({changesSummary:ae(e)}))(e.struct({action:e.literal("cheetah:result"),promptId:e.number,usage:Pe(e)}))))))))))(e)})),se=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:setUserState"),state:Be(e)}))(e)})),ce=ze((function(e){var t;return e.sum("kind")(((t={}).userPrompt=le(e),t.action=ue(e),t))})),le=ze((function(e){return e.struct({kind:e.literal("userPrompt"),text:e.string})})),ue=ze((function(e){return e.struct({kind:e.literal("action"),iconUrl:e.string,label:e.string})})),de=ze((function(e){return e.intersect(e.partial({showVoiceTextByDefault:e.boolean}))(e.struct({id:e.string,text:Ae(e),withVoiceText:Ae(e),title:ce(e),references:e.readonly(e.array(Ce(e)))}))})),pe=ze((function(e){return We(y(e),e.struct({action:e.literal("cheetah:setHistory"),cards:e.readonly(e.array(de(e)))}))(e)})),me=ze((function(e){return e.any})),fe=Ue(l),he=ze((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({kind:fe(e),text:e.string}))})),ge=ze((function(e){return e.intersect(e.partial({title:e.sensitiveString}))(e.intersect(e.partial({people:e.readonly(e.record(e.readonly(e.array(e.sensitiveString))))}))(e.struct({text:e.sensitiveString})))})),be=ze((function(e){return e.intersect(e.partial({pageIdHash:e.string}))(e.intersect(e.partial({title:e.sensitiveString}))(e.intersect(e.partial({people:e.readonly(e.record(e.readonly(e.array(e.sensitiveString))))}))(e.intersect(e.partial({items:e.readonly(e.array(ge(e)))}))(e.struct({})))))})),ve=ze((function(e){var t;return e.sum("kind")(((t={}).regular=ye(e),t.history=Oe(e),t.writerExpert=_e(e),t))})),ye=ze((function(e){return e.struct({kind:e.literal("regular"),text:e.string})})),Oe=ze((function(e){return e.struct({kind:e.literal("history"),text:e.string})})),_e=ze((function(e){return e.struct({kind:e.literal("writerExpert"),text:e.string,suggestionId:e.string,pname:e.string})})),Ce=ze((function(e){return e.intersect(e.partial({url:e.string}))(e.struct({id:e.string,privacyLevel:we(e),title:e.string,iconUrl:e.string}))})),we=ze((function(e){var t;return e.sum("kind")(((t={}).public=Se(e),t.restricted=ke(e),t))})),Se=ze((function(e){return e.struct({kind:e.literal("public")})})),ke=ze((function(e){return e.struct({kind:e.literal("restricted")})})),Ee=ze((function(e){var t;return e.sum("kind")(((t={}).aiUsageAlert=je(e),t))})),je=ze((function(e){return e.struct({kind:e.literal("aiUsageAlert")})})),xe=ze((function(e){return e.struct({button:Te(e),tones:e.readonly(e.array(Te(e))),maxTones:e.number})})),Ae=ze((function(e){return We(C(e),e.struct({}))(e)})),Ie=ze((function(e){return e.struct({start:e.number,end:e.number})})),Te=ze((function(e){return e.struct({iconUrl:e.string,label:e.string,description:e.string})})),Me=ze((function(e){return e.struct({url:e.string,referenceId:e.string})})),Pe=ze((function(e){return e.struct({promptsRemaining:e.number,promptsAllocated:e.number,refillDate:e.string})})),Ne=ze((function(e){return e.struct({inlineQuickReplyEnabled:e.boolean,inlineRewriteEnabled:e.boolean})})),Be=ze((function(e){return e.intersect(e.partial({historyItems:e.number}))(e.struct({settings:Ne(e),usage:Pe(e)}))})),Le=ze((function(e){return e.intersect(e.partial({styles:e.readonly(e.array(xe(e)))}))(e.intersect(e.partial({selectedRole:e.string}))(e.intersect(e.partial({roles:e.readonly(e.array(e.string))}))(e.struct({selectedStyle:e.string,selectedTones:e.readonly(e.array(e.string)),needSetup:e.boolean}))))})),Fe=ze((function(e){return e.struct({state:e.boolean,label:e.string})})),Re=Ue(u),De=ze((function(e){return e.intersect(e.partial({status:Re(e)}))(e.struct({userName:e.string,myVoiceIsEnabledByDefault:Fe(e),title:e.string,subTitle:e.string,profiles:R(e)}))})),He=ze((function(e){var t;return e.sum("action")(((t={})["cheetah:getContext"]=q(e),t["cheetah:action"]=$(e),t["cheetah:setVoice"]=Z(e),t["cheetah:setVoiceProfile"]=Y(e),t["cheetah:interrupt"]=X(e),t["cheetah:getUserState"]=Q(e),t["cheetah:searchReferences"]=J(e),t["cheetah:getHistory"]=ee(e),t))})),Ve=ze((function(e){var t;return e.sum("action")(((t={})["cheetah:invalidateContext"]=K(e),t["cheetah:error"]=te(e),t["cheetah:setContext"]=ne(e),t["cheetah:searchReferencesResult"]=re(e),t["cheetah:chunk"]=ie(e),t["cheetah:result"]=oe(e),t["cheetah:setUserState"]=se(e),t["cheetah:setHistory"]=pe(e),t))}));function Ue(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],r=t.slice(1);return ze((function(e){return e.literal.apply(e,Object(p.d)([n],r,!1))}))}function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ze((function(t){return e.reduce((function(e,n){return t.intersect(n)(e)}))}))}function ze(e){return f.b(e)}var Ge=Object(g.unsafeCoerce)(h.a);function qe(e){return function(t){return Object(p.a)(Object(p.a)({},e),t)}}var Ke={URI:m.URI,literal:function(){return m.id()},string:m.id(),number:m.id(),boolean:m.id(),nullable:m.nullable,type:m.type,struct:m.struct,partial:m.partial,record:m.record,array:m.array,tuple:m.tuple,intersect:m.intersect,sum:m.sum,lazy:function(e,t){return m.lazy(t)},readonly:m.readonly},$e="16.2.0"},KYWP:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return N}));var r=n("8O/t"),i=n("X76w"),a=n("2swC"),o=n("nWMp"),s=n("PltQ"),c=n("NbNH");const l="0 1px 8px rgba(109, 117, 141, .18)",u={$nest:{"&:before":{top:o.a.rem(.85),left:0}}},d=o.a.joinClasses(["miniTwoLinedHighlightedText",o.a.style({overflow:"hidden",marginTop:o.a.rem(-.25),color:a.a.CoreNeutral90,textOverflow:"ellipsis"})]),p={height:o.a.rem(3.25),borderRadius:o.a.rem(c.s),boxShadow:l,$nest:{"&:hover":{boxShadow:l},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},m={top:o.a.rem(.7)},f={top:o.a.rem(.1)},h={fontWeight:o.a.important(400),fontSize:o.a.rem(.75)},g={position:"absolute",left:o.a.rem(.5),minWidth:"initial",minHeight:"initial",background:a.a.CoreNeutral0},b=Object(i._)(Object(r._)({},g),{top:o.a.rem(.6)}),v=o.a.stylesheet({dot:[u],invisibleDot:[u,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[p],miniContainer:[{flexDirection:"column"}],cardLogo:[m],lensIcon:[f],subTitle:[h],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[b],takeawayIconStandard:[g]}),y={height:o.a.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},O={$nest:{"&:before":{top:o.a.px(1),bottom:0,left:0}}},_={$nest:{"&:before":{top:o.a.px(1),bottom:0,left:0,visibility:"hidden"}}},C={height:o.a.important(o.a.rem(2.5)),borderRadius:o.a.rem(c.s)},w={color:a.a.CoreNeutral50,display:"flex",width:o.a.rem(2),height:o.a.percent(100),justifyContent:"center",alignItems:"center"},S={overflow:"hidden",color:a.a.CoreNeutral90,textOverflow:"ellipsis"},k={display:"inline-block",padding:"0 "+o.a.rem(.5)},E={top:0,bottom:0,left:o.a.rem(.5),margin:"auto"},j=o.a.stylesheet({wrapper:[y],dot:[O],invisibleDot:[O,_],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[C],alertsCounter:[w],highlightedText:[S],middleDot:[k],cardLogo:[E]}),x={color:a.a.CoreNeutral50,fontWeight:300},A={position:"absolute",left:o.a.rem(.5),width:o.a.rem(1),height:o.a.rem(1),background:s.e},I={left:o.a.rem(0)},T={marginLeft:o.a.rem(.5)},M={marginLeft:o.a.rem(-.5)},P={minHeight:"auto",left:o.a.rem(.4)},N=o.a.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[x],cardLogo:[A],lensIcon:[M],outcomesCardLogo:[A,I],newLabel:[T],diamondIcon:[P]})},KZgA:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("DTwm"),a=n("lXop"),o=n("mgiE"),s=n("0kuo"),c=n("M3t0"),l=n("xk6L"),u=n("yIk2"),d=n("YqdJ"),p=n("KH+i");!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const n=c.d.Logging.root.getLogger("AlignmentViewModel");function m(e,t){return Object(i.pipe)(e,o.b.fold(({kind:e,reason:t})=>{switch(e){case"error":n.error("Cannot align card to mark",{reason:t});break;case"notFound":n.info("Item does not exist, alignment is canceled",{reason:t});break;default:Object(s.c)(e)}return l.a.EMPTY},e=>l.a.of({mark:t,card:e})))}e.alignMarkToItem=function(e,r){return({animation:s,suggestedPosition:c})=>({id:f,renderOptions:{features:h},activeHighlightIndex:g,activeAlert:b})=>Object(i.pipe)(e.getMarkAlertPosition({alert:b,highlightIndex:g}),l.b.compact,l.a.map(e=>({mark:e,cardPosition:r.getCardSuggestedPositionInViewport(f,h.has(p.a.Features.showLabel),o.g.none,"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>m(e,t)),l.a.switchMap(({card:e,mark:t})=>r.setCardPosition(f,h.has(p.a.Features.showLabel),!1,d.b.FromWindowTop.ISO.modify(d.a.concatC(-e.contentOffset))(t)).pipe(l.a.distinctUntilChanged(),l.a.mapTo(Object(i.pipe)(c,o.g.filter(t=>r.willFitViewport(f,d.b.FromWindowTop.ISO.modify(d.a.concatC(-e.contentOffset))(t))),o.g.getOrElse(()=>d.b.FromWindowTop.ISO.modify(d.a.concatC(e.contentOffset))(e.top)))))),l.a.switchMap(n=>e.moveAlertHighlightInViewport({alert:b,highlightIndex:g},n,s===t.ANIMATE_ALL?a.a.fake:a.a.none)),l.a.mapTo(u.b.voidValue),l.a.catchError(e=>(n.error("Cannot align mark to card",e),l.a.EMPTY)),l.a.share())},e.alignItemToMark=function(e,t){return({animation:s,fitCardIntoViewport:c})=>({id:f,renderOptions:{features:h},activeAlert:g,activeHighlightIndex:b})=>Object(i.pipe)(e.getMarkAlertPosition({alert:g,highlightIndex:b}),l.a.switchMap(o.g.fold(()=>l.a.EMPTY,e=>l.a.of(e))),l.a.map(e=>({mark:e,cardPosition:t.getCardSuggestedPositionInViewport(f,h.has(p.a.Features.showLabel),o.g.some(e),"cardContentTop")})),l.a.switchMap(({cardPosition:e,mark:t})=>m(e,t)),l.a.switchMap(({card:n,mark:i})=>l.a.mergeStatic(t.setCardPosition(f,h.has(p.a.Features.showLabel),s===r.Animation.ANIMATE_ALL,d.b.FromWindowTop.ISO.modify(d.a.concatC(-n.contentOffset))(i)),u.b.orEmpty(e.moveAlertHighlightInViewport({alert:g,highlightIndex:b},d.b.FromWindowTop.ISO.modify(d.a.concatC(n.contentOffset))(n.top),s===r.Animation.ANIMATE_ALL?a.a.initial:a.a.none))(c))),l.a.mapTo(u.b.voidValue),l.a.catchError(e=>(n.error("Cannot align card to mark",e),l.a.EMPTY)),l.a.share())}}(r||(r={}))},KoUC:function(e){e.exports=JSON.parse('{"mark":"_f5a63458-view-model-mark"}')},KpDw:function(e,t,n){"use strict";n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"f",(function(){return Q})),n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return be}));var r,i,a,o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("l5lb"),u=n("nWMp"),d=n("PKYJ"),p=n("2swC"),m=n("3n8C"),f=n("xZAf"),h=n("Bl9I"),g=u.a.percent(80),b=u.a.vh(20),v=u.a.percent(80),y=u.a.rem(20),O=m.a.maxWidth(h.a.navigationHideWidthThreshold),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{transition:"".concat(u.a.seconds(e)," transform linear, ").concat(u.a.seconds(e)," opacity linear"),transitionDelay:u.a.seconds(t)}},C=u.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),w={position:"relative",height:u.a.percent(100)},S={display:"flex",$nest:Object(o._)({},m.a.print,{display:"none"})},k={position:"relative",zIndex:u.d.level0,width:u.a.rem(f.a-1),marginRight:"calc(".concat(u.a.rem(1)," + 3px)")},E={position:"relative",zIndex:u.d.level0,marginRight:u.a.rem(u.d.navigationWidth),width:u.a.rem(u.d.sidebarWidth),transition:"opacity .2s",$nest:(r={},Object(o._)(r,m.a.tiny,{width:u.a.rem(u.d.sidebarWidthTiny)}),Object(o._)(r,m.a.xs,{width:u.a.rem(u.d.sidebarWidthXs),marginRight:u.a.rem(u.d.navigationWidthXs)}),Object(o._)(r,m.a.xsLower,{width:u.a.rem(u.d.sidebarWidthXs),marginRight:u.a.rem(u.d.navigationWidthXs-1)}),Object(o._)(r,O,{width:u.a.rem(u.d.sidebarWidthXs),marginRight:0}),Object(o._)(r,m.a.xss,{width:u.a.rem(u.d.sidebarWidthXss),$nest:Object(o._)({},'& button[data-name*="'.concat(l.a.ComponentKnownName.ButtonPrev,'"], & button[data-name*="').concat(l.a.ComponentKnownName.ButtonNext,'"]'),{display:"none"})}),r)},j={width:y},x={marginRight:u.a.rem(u.d.navigationWidth),$nest:(i={"&:before":{position:"absolute",left:u.a.rem(-1.5),display:"block",marginTop:u.a.rem(-4),paddingTop:u.a.rem(4),width:u.a.rem(1.5),height:u.a.percent(100),background:p.a.CoreNeutral0,content:"''"}},Object(o._)(i,m.a.xs,{marginRight:u.a.rem(u.d.navigationWidthXs)}),Object(o._)(i,m.a.xsLower,{marginRight:u.a.rem(u.d.navigationWidthXs-1)}),Object(o._)(i,O,{marginRight:0}),i)},A={position:"absolute",top:0,right:0,height:u.a.percent(100),pointerEvents:"auto",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"8fr 2fr"},I={position:"absolute",zIndex:u.d.level1,opacity:1},T={position:"absolute",zIndex:u.d.level0,display:"none"},M={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(".concat(g,"))")},"&.lensMoveUp":{transform:"translateY(-".concat(g,"))")}}},P={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(".concat(b,")")},"&.lensMoveUp":{transform:"translateY(-".concat(b,")")}}},N={position:"absolute",visibility:"hidden",opacity:.1,pointerEvents:"none"},B={opacity:.1,pointerEvents:"none"},L={animation:"".concat(C," ").concat(u.d.cardAnimationTime,"ms")},F={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(-".concat(g,"))")},"&.lensMoveUp":{transform:"translateY(".concat(g,"))")}}},R={opacity:.5,$nest:{"&.lensMoveDown":{transform:"translateY(-".concat(b,")")},"&.lensMoveUp":{transform:"translateY(".concat(b,")")}}},D={position:"absolute",zIndex:u.d.level0,opacity:0,pointerEvents:"none",$nest:{"&.lensMoveDown":{transform:"translateY(".concat(b,")")},"&.lensMoveUp":{transform:"translateY(-".concat(b,")")}}},H={position:"absolute",zIndex:u.d.level0},V={position:"absolute",zIndex:u.d.level1,opacity:1},U={opacity:0,$nest:{"&.lensMoveDown":{transform:"translateY(-".concat(b,")")},"&.lensMoveUp":{transform:"translateY(".concat(b,")")}}},W={position:"absolute",zIndex:u.d.level1,opacity:1},z={position:"absolute",opacity:0,transform:"translateX(".concat(v,")")},G={opacity:0,transform:"translateX(".concat(v,")")},q={position:"absolute",zIndex:u.d.level0,opacity:0,transform:"translateX(".concat(v,")")},K={opacity:0,transform:"translateX(".concat(v,")")},$={transform:"translateX(0)"},Z={opacity:1},Y={opacity:0,transform:"translateX(".concat(v,")")},X={opacity:0,transform:"translateX(".concat(v,")"),pointerEvents:"none"},Q={transform:"translateX(0)"},J={position:"absolute",top:u.a.rem(-3),left:u.a.rem(-.1),fontWeight:"bold"},ee={position:"absolute",top:0,right:0,width:"auto",height:"100vh",pointerEvents:"all",$nest:Object(o._)({},O,{width:u.a.rem(12),transition:"transform .25s"})},te={width:0,$nest:Object(o._)({},O,{width:0})},ne={$nest:Object(o._)({},m.a.maxWidth(h.a.navigationHideWidthThreshold),{transform:"translateX(".concat(u.a.rem(11),")")})},re={$nest:Object(o._)({},O,{transform:"translateX(0)"})},ie={display:"none",cursor:"pointer",position:"absolute",left:u.a.rem(-1.65),top:u.a.rem(1),zIndex:u.d.level1,background:p.a.CoreNeutral0,borderRadius:u.a.px(5),border:"none",width:u.a.rem(2),height:u.a.rem(2),boxShadow:d.a.z100,margin:0,padding:0,overflow:"visible",textTransform:"none","-webkit-appearance":"none","-moz-appearance":"none",$nest:Object(c._)(Object(s._)((a={},Object(o._)(a,O,{display:"block"}),Object(o._)(a,"& i",{transform:"rotateZ(270deg)"}),Object(o._)(a,"&:active path",{stroke:p.a.CoreBlue50}),Object(o._)(a,"&:hover path",{stroke:p.a.CoreBlue50}),a),Object(m.c)({$nest:{"& path":{stroke:p.a.CoreBlue50}}}).$nest),{"&:focus:not(:focus-visible)":{boxShadow:d.a.z100}})},ae={zIndex:u.d.level2,height:"auto"},oe={position:"absolute",width:u.a.percent(100)},se={padding:"".concat(u.a.rem(11)," ").concat(u.a.rem(u.d.assistantSuccessLensPaddingRight)," 0 0"),width:u.a.percent(100),$nest:Object(o._)({},m.a.xssHeight,{padding:"".concat(u.a.rem(6)," ").concat(u.a.rem(u.d.assistantSuccessLensPaddingRight)," 0 0")})},ce={display:"flex",flexDirection:"column",width:u.a.percent(100),height:"100vh",justifyContent:"center"},le={height:u.a.rem(20)},ue={position:"absolute",top:u.a.rem(1),width:u.a.percent(100)},de={marginTop:u.a.rem(.5)},pe={marginLeft:u.a.rem(.25),padding:0,textTransform:"none",lineHeight:p.h.BodyLineHeight,$nest:{"&[data-textpos='everywhere']":{padding:0},"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{background:"none"}}},me={margin:"".concat(u.a.rem(2)," auto 0")},fe={position:"relative",opacity:1},he={width:u.a.percent(100),position:u.a.important("static")},ge=u.a.prefixedStylesheet("assistant",{fullHeight:[w],sidebarWrapper:[w,S],wrapper:[E],oggyWrapper:[k],draftAIWrapper:[E,{marginRight:0}],iPadWrapper:[E,j],loaderWrapper:[E,x],fadedWrapper:[E,{opacity:0}],hiddenWrapper:[{position:"absolute",top:0,right:0,pointerEvents:"none"}],actionsWrapper:[A],lensLeaveStart:[I],lensLeaveStartTitle:[{opacity:1,transform:"translateY(0)"}],lensLeaveStartContent:[{opacity:1}],lensLeave:[_(.2),T],lensLeaveTitle:[_(.1),M],lensLeaveContent:[_(.2/3),P],lensHideStart:[N],lensHide:[N,{opacity:0,transition:"opacity .01s"}],contentHideStart:[B],contentHide:[B,{opacity:0,transition:"opacity .01s"}],lensEnter:[_(.2),{position:"absolute",opacity:1}],lensEnterTitle:[_(.1,.1),{opacity:1,transform:"translateY(0)"}],lensEnterContent:[_(.2),{opacity:1}],draftAILensContent:[L],lensEnterStart:[{opacity:0}],lensEnterStartTitle:[F],lensEnterStartContent:[R],stateLeave:[_(.2),D],stateLeaveStart:[H],stateEnter:[_(.2),V],stateEnterStart:[U],sidebarEnterLeft:[_(.2),W],titleEnterLeft:[_(.2),{}],sidebarEnterLeftStart:[z],titleEnterLeftStart:[G],sidebarLeaveRight:[_(.2),q],titleLeaveRight:[_(.2),K],sidebarLeaveRightStart:[$],navigationEnterLeft:[_(.2/3.1,.2-.2/3.1),Z],navigationEnterLeftStart:[Y],navigationLeaveRight:[_(.2/3.1),X],navigationLeaveRightStart:[Q],allAlerts:[J],allAlertsVisible:[J,{transition:"opacity .2s ease .1s, transform .2s ease-out"}],allAlertsHidden:[J,{opacity:0,transition:"opacity .1s, transform .2s ease-out",transform:"scale(.75)",pointerEvents:"none"}],navigationWrapperTier:[ee],hiddenNavigationWrapperTier:[ee,te],expandedNavWrapperTier:[ee,re],collapsedNavWrapperTier:[ee,ne],navCollapseButton:[ie,{$nest:{"& i":{transform:"rotateZ(90deg)"}}}],navExpandButton:[ie],sidebarTier:[ae],absoluteAssistant:[oe],successLens:[se],successLensContent:[{}],successLensIPad:[ce],successLensContentIPad:[le],successLensHeader:[ue],toAllAlerts:[de],mutedSuggestions:[{display:"inline-flex"}],reviewButton:[pe],upgradeButton:[me],newSuccessContainerContainer:[{position:"relative"}],onboardingWrapper:[he]}),be=u.a.stylesheet({sidebarLoaderBase:[fe],checkingInStart:[z,fe],checkingInEnd:[W,fe],checkingOutStart:[$,fe],checkingOutEnd:[q,fe],checkingStart:[{opacity:.99}],checkingEnd:[{opacity:1,transition:"opacity .01s"}],hideStart:[{pointerEvents:"none"}],hideEnd:[{opacity:0,transition:"opacity .01s",pointerEvents:"none"}]})},KySh:function(e,t,n){e.exports=n.p+"files/2126cfb653b81bad8401da0a98c6bd25/inter-bold.woff2"},Kz57:function(e){e.exports=JSON.parse('{"optionsTable":"_3e7e5fe2-compare-options-optionsTable","optionsHeadCell":"_8728f2da-compare-options-optionsHeadCell","optionsTableColumn1":"_81366118-compare-options-optionsTableColumn1","optionsTableColumn2":"_93696e3e-compare-options-optionsTableColumn2 _8728f2da-compare-options-optionsHeadCell","optionsTableColumn3":"_1bcd23c5-compare-options-optionsTableColumn3 _8728f2da-compare-options-optionsHeadCell","columnTitle":"_5dcaa0c3-compare-options-columnTitle","columnDescription":"_9f7056f1-compare-options-columnDescription","optionCell":"_462f147b-compare-options-optionCell","option":"_dce003a6-compare-options-option","optionTitle":"_e0473725-compare-options-optionTitle","optionTitleTextWithBadge":"_7c9d94b7-compare-options-optionTitleTextWithBadge","questionMarkIcon":"_80eb6777-compare-options-questionMarkIcon","optionDescription":"_90458b05-compare-options-optionDescription","optionChecked":"_6e31babc-compare-options-optionChecked _462f147b-compare-options-optionCell","optionCheckedIcon":"_a5231352-compare-options-optionCheckedIcon"}')},L4BC:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,i=n("a5gI"),a=n("hcme"),o=n("mMt2"),s=n("000W"),c=n("yQCL"),l=n("DTwm"),u=n("+vYo"),d=n("fr9z"),p=n("lXop"),m=n("Hj2R"),f=n("xk6L"),h=n("yIk2"),g=n("hzat"),b=n("LFoX"),v=n("mgiE"),y=n("TKPA"),O=n("M3t0"),_=n("x1PS"),C=n("NMQX");function w(e,t,n,c,p,g){var w,S=u.a.create(r.idle),k=u.a.create(new Set([r.Type.idle])),E=O.d.Logging.getLogger("inlineManager");E.isEnabled(O.a.LogLevel.DEBUG)&&S.subscribe((function(e){return E.debug("state change to",e)}));var j,x=new f.a.Subject,A=new f.a.Subject,I=new f.a.Subject,T=new f.a.Subject,M=new f.a.Subject,P=new f.a.Subject,N=Object(l.pipe)(c,v.g.fold((function(){return f.a.EMPTY}),(function(e){return C.b.fromToolbar(e.linkEvents)})),f.a.share()),B=(j={},Object(i._)(j,r.Type.idle,r.Scheme.monoid.empty),Object(i._)(j,r.Type.formattingLink,r.Scheme.forFormattingLink(e,N,I)),Object(i._)(j,r.Type.upgradeHook,r.Scheme.forUpgradeHook(t,n,T)),Object(i._)(j,r.Type.synonymsCard,r.Scheme.forSynonymsState(p,A)),Object(i._)(j,r.Type.inlineCard,r.Scheme.forCardState(t,n,x)),Object(i._)(j,r.Type.cheetahInlineButton,r.Scheme.forCheetahInlineButton(e,g,M)),Object(i._)(j,r.Type.vbarCard,r.Scheme.forVbarCard(P)),j),L=k.view(Array.from).view(s.gb(r.Scheme.monoid)((function(e){return B[e]}))),F=f.a.combineLatestStatic([L,S.view("type")]).pipe(f.a.switchMap((function(e){var t=Object(a._)(e,2),n=t[0],r=t[1];return(w=f.a).mergeStatic.apply(w,Object(o.a)(n[r]))})),f.a.scan((function(e,t){var n=Object(a._)(t(e),2),r=n[0],i=n[1];return E.debug("state change",{prevState:e,changeReason:r,nextState:i}),i}),r.idle),f.a.tap(h.b.toAtom(S)),f.a.startWith(r.idle),f.a.share()),R=function(e){return f.a.Observable.create((function(){return k.modify((function(t){return new Set(t).add(e)})),function(){return k.modify((function(t){var n=new Set(t);return n.delete(e),n}))}})).pipe(f.a.startWith(h.b.voidValue))};return{doubleClickedWord:R(r.Type.synonymsCard).pipe(f.a.switchMapTo(F.pipe(f.a.map((function(e){return e.type===r.Type.synonymsCard?v.g.some(e.word):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(d.a.ord).equals),f.a.share()),closeSynonyms:A,hoveredMarkAlert:R(r.Type.inlineCard).pipe(f.a.switchMapTo(F.pipe(f.a.map((function(e){return e.type===r.Type.inlineCard?v.g.some(e.alert):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(m.d.ord).equals),f.a.share()),closeCards:x,formattingLinkState:R(r.Type.formattingLink).pipe(f.a.switchMapTo(F.pipe(f.a.map((function(e){return e.type===r.Type.formattingLink?v.g.some(e.link):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(_.a.LinkState.eq).equals),f.a.share()),closeLinks:I,upgradeHookState:R(r.Type.upgradeHook).pipe(f.a.switchMapTo(F.pipe(f.a.map((function(e){return e.type===r.Type.upgradeHook?v.g.some(e.alert):v.g.none})))),f.a.distinctUntilChanged(v.g.getEq(b.a.eq).equals),f.a.share()),closeUpgradeHooks:T,cheetahInlineButtonState:R(r.Type.cheetahInlineButton).pipe(f.a.switchMapTo(F.pipe(f.a.map((function(e){return e.type===r.Type.cheetahInlineButton?v.g.some(Object(y.e)()):v.g.none})),f.a.share()))),closeCheetahInlineButton:M,activeVbar:R(r.Type.vbarCard).pipe(f.a.switchMapTo(F.pipe(f.a.map((function(e){return e.type===r.Type.vbarCard?e.vbar:v.g.none})))),f.a.share()),changeActiveVbar:P}}function S(e){var t=Object(a._)(f.a.partitionStatic(e.pipe(f.a.share()),v.g.isSome),2),n=t[0],r=t[1];return[n.pipe(f.a.map(v.g.unsafeGet)),r.pipe(f.a.mapTo(h.b.voidValue))]}!function(e){!function(e){e.idle="idle",e.inlineCard="inline-card",e.synonymsCard="synonyms-card",e.formattingLink="formatting-link",e.upgradeHook="upgrade-hook",e.cheetahInlineButton="cheetah-inline-button",e.vbarCard="vbar-card"}(e.Type||(e.Type={}));e.idle={type:r.Type.idle};!function(e){var t;e.monoid=c.getStructMonoid((t={},Object(i._)(t,r.Type.idle,s.kb()),Object(i._)(t,r.Type.formattingLink,s.kb()),Object(i._)(t,r.Type.upgradeHook,s.kb()),Object(i._)(t,r.Type.synonymsCard,s.kb()),Object(i._)(t,r.Type.inlineCard,s.kb()),Object(i._)(t,r.Type.cheetahInlineButton,s.kb()),Object(i._)(t,r.Type.vbarCard,s.kb()),t));e.forCardState=function(e,t,n){var a,o=S(e.alertHovered.pipe(f.a.map(v.g.filter((function(e){return t.isInteractable(e.id)&&g.a.isHoverableInline(e)}))))),s=o[0].pipe(f.a.map((function(e,t){return function(){return["fromDed:markAlertHover:set(".concat(t,")"),{type:r.Type.inlineCard,alert:e}]}}))),c=o[1].pipe(f.a.map(k(r.Type.inlineCard,"Ded"))),l=n.pipe(f.a.map(k(r.Type.inlineCard,"Ext")));return a={},Object(i._)(a,r.Type.idle,[s]),Object(i._)(a,r.Type.formattingLink,[]),Object(i._)(a,r.Type.upgradeHook,[]),Object(i._)(a,r.Type.synonymsCard,[]),Object(i._)(a,r.Type.inlineCard,[s,c,l]),Object(i._)(a,r.Type.cheetahInlineButton,[]),Object(i._)(a,r.Type.vbarCard,[]),a},e.forSynonymsState=function(e,t){var n,a=e.doubleClickedWord.pipe(f.a.map((function(e,t){return function(){return["fromDed:synonyms:set(".concat(t,")"),{type:r.Type.synonymsCard,word:e}]}}))),o=t.pipe(f.a.map(k(r.Type.synonymsCard,"Ext")));return n={},Object(i._)(n,r.Type.idle,[a]),Object(i._)(n,r.Type.formattingLink,[a]),Object(i._)(n,r.Type.upgradeHook,[a]),Object(i._)(n,r.Type.synonymsCard,[a,o]),Object(i._)(n,r.Type.inlineCard,[a]),Object(i._)(n,r.Type.cheetahInlineButton,[a]),Object(i._)(n,r.Type.vbarCard,[a]),n},e.forFormattingLink=function(e,t,n){var a,o=t.pipe(f.a.map((function(e,t){return function(){return["fromUI:links:set(".concat(t,")"),{type:r.Type.formattingLink,link:e}]}}))),s=S(C.b.fromDenaliEditor(e.selectedFormatting)),c=s[0].pipe(f.a.map((function(e,t){return function(){return["fromDed:links:set(".concat(t,")"),{type:r.Type.formattingLink,link:e}]}}))),l=s[1].pipe(f.a.map(k(r.Type.formattingLink,"Ded"))),u=n.pipe(f.a.map(k(r.Type.formattingLink,"Ext")));return a={},Object(i._)(a,r.Type.idle,[o,c]),Object(i._)(a,r.Type.formattingLink,[o,c,l,u]),Object(i._)(a,r.Type.upgradeHook,[o,c,l,u]),Object(i._)(a,r.Type.synonymsCard,[o]),Object(i._)(a,r.Type.inlineCard,[o]),Object(i._)(a,r.Type.cheetahInlineButton,[o]),Object(i._)(a,r.Type.vbarCard,[o]),a},e.forUpgradeHook=function(e,t,n){var o,s=Object(a._)(S(e.alertClicked.pipe(f.a.map(v.g.filter((function(e){var n=e.alert;return t.isRegistered(n.id)&&m.a.isInPremiumLens(n)}))))),2),c=s[0],l=s[1],u=c.pipe(f.a.map((function(e,t){return function(){return["fromDed:markAlertClick:set(".concat(t,")"),{type:r.Type.upgradeHook,alert:e}]}}))),d=l.pipe(f.a.map(k(r.Type.upgradeHook,"Ded"))),p=n.pipe(f.a.map(k(r.Type.upgradeHook,"Ext")));return o={},Object(i._)(o,r.Type.idle,[u]),Object(i._)(o,r.Type.formattingLink,[u]),Object(i._)(o,r.Type.upgradeHook,[u,d,p]),Object(i._)(o,r.Type.synonymsCard,[u]),Object(i._)(o,r.Type.inlineCard,[u]),Object(i._)(o,r.Type.cheetahInlineButton,[u]),Object(i._)(o,r.Type.vbarCard,[u]),o},e.forCheetahInlineButton=function(e,t,n){var o,s=e.selection.pipe(f.a.distinctUntilChanged(p.g.eqRange.equals),f.a.map((function(t){return e.getText().slice(t.index,t.index+t.length)}))),c=t.isAvailable(s).pipe(f.a.map(Object(y.c)(v.g.some(Object(y.e)()),v.g.none))),l=Object(a._)(S(c),2),u=l[0],d=l[1],m=u.pipe(f.a.map((function(e,t){return function(){return["fromDed:cheetah:set(".concat(t,")"),{type:r.Type.cheetahInlineButton}]}}))),h=d.pipe(f.a.map(k(r.Type.cheetahInlineButton,"Ded"))),g=n.pipe(f.a.map(k(r.Type.cheetahInlineButton,"Ext")));return o={},Object(i._)(o,r.Type.idle,[m]),Object(i._)(o,r.Type.formattingLink,[]),Object(i._)(o,r.Type.upgradeHook,[]),Object(i._)(o,r.Type.synonymsCard,[]),Object(i._)(o,r.Type.inlineCard,[]),Object(i._)(o,r.Type.cheetahInlineButton,[m,h,g]),Object(i._)(o,r.Type.vbarCard,[]),o},e.forVbarCard=function(e){var t,n=Object(a._)(S(e),2),o=n[0],s=n[1],c=o.pipe(f.a.map((function(e,t){return function(){return["fromDed:activeVbar:set(".concat(t,")"),{type:r.Type.vbarCard,vbar:v.g.some(e)}]}}))),l=s.pipe(f.a.map(k(r.Type.vbarCard,"Ded")));return t={},Object(i._)(t,r.Type.idle,[c]),Object(i._)(t,r.Type.formattingLink,[]),Object(i._)(t,r.Type.upgradeHook,[]),Object(i._)(t,r.Type.synonymsCard,[]),Object(i._)(t,r.Type.inlineCard,[]),Object(i._)(t,r.Type.cheetahInlineButton,[]),Object(i._)(t,r.Type.vbarCard,[c,l]),t}}(e.Scheme||(e.Scheme={}))}(r||(r={}));var k=function(e,t){return function(n,i){return function(n){return n.type===e?["from".concat(t,":").concat(e,":reset(").concat(i,")"),r.idle]:["from".concat(t,":").concat(e,":skipReset(").concat(i,")"),n]}}}},LFoX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("U9Go"),a=n("mgiE");!function(e){var t=e.eq=Object(i.l)({alert:Object(i.c)(e=>e.id)(i.h),highlightIndex:i.h});e.getEq=()=>t,e.getHighlightRange=e=>a.a.lookup(e.highlightIndex)(e.alert.getHighlightRanges())}(r||(r={}))},LPyu:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){var t;!function(e){!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={}))}(e.RawSduiItem||(e.RawSduiItem={})),function(e){e.Add="sdui_add",e.Remove="sdui_remove",e.Update="sdui_update"}(t=e.SduiEventKind||(e.SduiEventKind={})),e.isSduiEvent=function(e){return e.kind===t.Add||e.kind===t.Remove||e.kind===t.Update}}(r||(r={}))},Lnjj:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return S}));var r=n("mMt2"),i=n("B8yO"),a=n("tiWp"),o=n("OwvP"),s=n("NDcT"),c=n("jY3z"),l=n("fC5a"),u=n("wuWi"),d=n("sX1a"),p=n("nWMp"),m=n("mgiE"),f=n("To5e"),h=n("Gouu"),g=n("3ewz"),b=(n("B4nd"),n("jVAy")),v=function(e){var t=e.word,n=e.apply;return i.createElement(l.a.Primary,{name:"accept-synonym",className:b.item,onClick:n(t)},t)},y=function(e){var t=e.synonyms,n=e.apply;return i.createElement("div",{className:b.row},t.map((function(e,t){return i.createElement(v,{word:e,key:t,apply:n})})))},O=function(e){var t=e.result.synonymsOrGroups,n=e.apply,r=i.useContext(f.a.Context);return i.createElement(o.a.div,{className:b.wrapper},i.createElement(u.a,{className:b.title},r.synonyms.title),Object(a.pipe)(t,m.b.fold((function(e){return i.createElement(y,{key:"single",synonyms:e,apply:n})}),(function(e){return i.createElement("ol",{className:b.list},e.map((function(e,t){var r=e.meaning,a=e.words;return i.createElement(d.Typography,{key:t,styleType:d.Typography.Type.Base,nodeType:"li",className:b.group},i.createElement(u.a,{className:b.groupTitle},r),i.createElement(y,{key:"single",synonyms:a,apply:n}))})))}))))},_=p.a.style({position:"absolute",top:p.a.rem(.8),right:p.a.rem(1),margin:0}),C=function(e){var t=e.result.synonymsOrGroups,n=e.apply,l=i.useContext(s.a.Context),d=i.useContext(f.a.Context);return i.createElement(o.a.div,{className:b.wrapper},i.createElement(u.a,{className:b.title},d.synonyms.symfony.title),i.createElement(c.a.Regular,{className:_},l.beta),Object(a.pipe)(t,m.b.fold((function(e){return i.createElement(y,{key:"single",synonyms:e,apply:n})}),(function(e){return i.createElement(y,{key:"single",synonyms:e.reduce((function(e,t){var n=t.words;return Object(r.a)(e).concat(Object(r.a)(n))}),[]),apply:n})}))))},w=function(e){var t=e.synonymsInfo,n=e.apply;return h.a.isEmpty(t.synonymsState)?i.createElement(g.a,{activeWord:t.activeWord.meta.value}):i.createElement(O,{key:"synonymsCard",apply:n,result:t.synonymsState.synonyms})},S=function(e){var t=e.synonymsInfo,n=e.apply;return h.a.isEmpty(t.synonymsState)?i.createElement(g.b,{activeWord:t.activeWord.meta.value}):i.createElement(C,{key:"synonymsCard",apply:n,result:t.synonymsState.synonyms})}},LqiM:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var r=n("a5gI"),i=n("B8yO"),a=n("DTwm"),o=n("tiWp"),s=n("OwvP"),c=n("+vYo"),l=n("mgiE"),u=n("5aph"),d=n("itj6"),p=n("sfTT"),m=n("mp9r"),f=n("hldE");const h=({children:e,mount:t})=>i.createElement(s.a.div,{"data-role":"animation-wrapper",className:p.a.animationWrapper,mount:t},e),g=e=>Object(o.pipe)(l.g.fromNullable(e.activeAlert),l.g.fold(()=>e.id,e=>e.id));class b extends i.Component{_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:d.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return i.createElement(h,{mount:this.props.mount},i.createElement(s.a.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const r=n||f.c,{main:b,shade:v}=r(t.visualState),y=c.a.create(void 0===v?l.g.none:Object(o.pipe)(t.visualState.from,l.g.map(e=>({state:e,className:v}))));return!Boolean(b)&&l.g.isNone(y.get())&&requestAnimationFrame(()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId})),i.createElement(u.a.Context.Provider,{value:this._elementState},i.createElement(h,{mount:this.props.mount},y.view(Object(a.flow)(l.g.map(({state:n,className:r})=>i.createElement(s.a.div,{className:r,key:"shade"+n+g(t),onAnimationEnd:n=>{m.b.get(n.animationName)!==r&&p.b.get(n.animationName)!==r||(e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame(()=>y.set(l.g.none)))}},this._stateToElement(n))),l.g.toUndefined)),i.createElement(s.a.div,{className:b,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:d.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:d.a.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}constructor(...e){super(...e),Object(r._)(this,"_elementState",u.a.emptyWithName("card"))}}var v=n("8O/t"),y=n("4GyQ"),O=n("2swC"),_=n("ySi0"),C=n("wuWi"),w=n("nWMp"),S=n("PltQ"),k=n("NbNH");class E extends i.Component{componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:a,className:o,hideActivateButton:c,hideDot:l}=this.props;return i.createElement(s.a.div,Object(v._)({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const r=e();n.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:r},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(y.c)(o,F.wrapper,null!=l&&l?null:F.miniCard)),i.createElement(C.a,Object(y.c)(F.contentWrapper,null!=l&&l?F.contentWrapperWithoutDot:F.contentWrapperWithDot),r),i.createElement("div",{className:F.iconContainer},a&&i.createElement("div",{className:j},a),null!=c&&c?null:i.createElement("div",{className:x},i.createElement(_.d.Arrow,{className:F.activeTopIcon}),i.createElement(_.d.Arrow,{className:F.activeBottomIcon}))))}constructor(...e){super(...e),Object(r._)(this,"_ref",i.createRef()),Object(r._)(this,"_createCardToggler",e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId}))}}const j=w.a.joinClasses(["baseMiniCounterContainer",w.a.style({position:"absolute",height:w.a.percent(100),top:0,right:0,zIndex:k.i,margin:"auto 0",background:O.a.CoreNeutral0,opacity:1})]),x=w.a.joinClasses(["baseMiniActivateBtnSelector",w.a.style({position:"absolute",top:0,right:0,height:w.a.percent(100),zIndex:k.i,display:"flex",flexDirection:"column",margin:"auto 0",background:O.a.CoreNeutral0,opacity:0,justifyContent:"center"})]),A={position:"relative",display:"flex",overflow:"hidden",borderRadius:w.a.rem(k.t),background:O.a.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:O.a.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:w.a.seconds(.2)},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},I={overflow:"hidden",color:S.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:w.a.rem(1.5)},T={margin:`0 ${w.a.rem(3)} 0 ${w.a.rem(2)}`},M={paddingLeft:w.a.rem(.5)},P={position:"absolute",top:0,right:w.a.rem(.5),bottom:0,display:"flex"},N={display:"flex",margin:`${w.a.rem(.1)} 0 ${w.a.rem(-1.25)}`,transform:"rotate(180deg)"},B={$nest:{"&:before":{position:"absolute",width:w.a.px(10),height:w.a.px(10),borderRadius:w.a.percent(50),content:"''",transform:"scale(.5)"}}},L={$nest:{"&:before":{margin:"auto 0 auto "+w.a.rem(.75)}}},F=w.a.stylesheet({wrapper:[A],contentWrapper:[I],contentWrapperWithDot:[T],contentWrapperWithoutDot:[M],iconContainer:[P],activeTopIcon:[N],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[B],miniCard:[B,L]});var R=n("PKYJ");class D extends i.Component{componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:a,className:o,hideActivateButton:c,hideDot:l,sduiStyle:u}=this.props;return i.createElement(s.a.div,Object(v._)({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const r=e();n.next({type:d.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:r},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(y.c)(o,null!=u&&u?X.sduiWrapper:X.wrapper,null!=l&&l?null:X.miniCard)),i.createElement(C.a,Object(y.c)(X.contentWrapper,null!=l&&l?X.contentWrapperWithoutDot:X.contentWrapperWithDot),r),i.createElement("div",{className:X.iconContainer},a&&i.createElement("div",{className:H},a),null!=c&&c?null:i.createElement("div",{className:V},i.createElement(_.d.Arrow,{className:X.activeTopIcon}),i.createElement(_.d.Arrow,{className:X.activeBottomIcon}))))}constructor(...e){super(...e),Object(r._)(this,"_ref",i.createRef()),Object(r._)(this,"_createCardToggler",e=>()=>this.props.actions.next({type:d.b.Type.hover,kind:e,id:this.props.cardId}))}}const H=w.a.joinClasses(["baseMiniCounterContainer",w.a.style({position:"absolute",height:w.a.percent(100),top:0,right:0,zIndex:k.i,margin:"auto 0",background:O.a.CoreNeutral0,opacity:1})]),V=w.a.joinClasses(["baseMiniActivateBtnSelector",w.a.style({position:"absolute",top:0,right:0,height:w.a.percent(100),zIndex:k.i,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),U={position:"relative",display:"flex",overflow:"hidden",borderRadius:w.a.rem(w.d.radius2),background:O.a.CoreNeutral0,boxShadow:R.a.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:O.a.CoreNeutral10,transitionDuration:w.a.seconds(.2)},"&:focus":{background:O.a.CoreNeutral10,boxShadow:R.a.z100+", 0 0 0 2px rgb(99 142 235)",outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},W={boxShadow:R.b.llamaShadowToken},z={overflow:"hidden",color:S.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:w.a.rem(1.5)},G={margin:`0 ${w.a.rem(3)} 0 ${w.a.rem(2)}`},q={paddingLeft:w.a.rem(.5)},K={position:"absolute",top:0,right:w.a.rem(.5),bottom:0,display:"flex"},$={display:"flex",margin:`${w.a.rem(.1)} 0 ${w.a.rem(-1.25)}`,transform:"rotate(180deg)"},Z={$nest:{"&:before":{position:"absolute",width:w.a.px(10),height:w.a.px(10),borderRadius:w.a.percent(50),content:"''",transform:"scale(.5)"}}},Y={$nest:{"&:before":{margin:"auto 0 auto "+w.a.rem(.75)}}},X=w.a.stylesheet({wrapper:[U],sduiWrapper:[U,W],contentWrapper:[z],contentWrapperWithDot:[G],contentWrapperWithoutDot:[q],iconContainer:[K],activeTopIcon:[$],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[Z],miniCard:[Z,Y]});var Q,J=n("X76w"),ee=n("TKPA"),te=n("NDcT"),ne=n("fC5a"),re=n("xk6L"),ie=n("7Cqk");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(Q||(Q={}));const ae=({actions:e,isLastCard:t})=>{const n=i.useContext(te.a.Context).successLens.fixedText.titles,r=c.a.create(Q.stage0),a=()=>e.next({type:d.b.Type.switchToNext});return i.createElement(s.a.div,{className:me.successWrapper},i.createElement(C.i,{className:me.successText,onAnimationEnd:()=>{r.set(Q.stage1)}},n[Object(ee.q)(n.length)]),i.createElement(s.a.span,null,r.view(e=>e>=Q.stage1&&i.createElement("span",{onAnimationEnd:()=>r.set(Q.stage2)},i.createElement(_.d.CheckmarkAnimated,{className:me.successCheckMark})))),i.createElement(s.a.span,{className:me.successBtnHolder},t.pipe(re.a.combineLatest(r,(e,t)=>t<Q.stage2?null:e?i.createElement(ne.a.Caps,{className:me.doneBtn,name:"done",key:"done-btn",onClick:a},"Done"):i.createElement(ne.a.Caps,{className:me.successBtn,name:"next",key:"next-card",onClick:a},"Next")))))},oe=w.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),se={fontWeight:"bold",lineHeight:w.a.rem(2),animation:`${oe} ${w.a.seconds(.2)} linear forwards`},ce={position:"relative",borderRadius:w.a.rem(k.s),background:O.a.CoreNeutral0,boxShadow:`0 ${w.a.rem(.625)} ${w.a.rem(k.a)} 0 rgba(198, 203, 222, .45)`},le={display:"flex",padding:`${w.a.rem(1.5)} ${w.a.rem(2)}`,alignItems:"center"},ue={marginLeft:w.a.rem(1),minWidth:0,minHeight:0,width:w.a.rem(1.325),height:w.a.rem(1.325),animation:`${oe} ${w.a.seconds(.2)} linear forwards`},de={float:"right",width:w.a.rem(4),textAlign:"center",animation:`${oe} ${w.a.seconds(.2)} linear forwards`},pe={backgroundColor:O.a.CoreGreen50,color:O.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:S.a}}},me=Object(J._)(Object(v._)({},w.a.stylesheet({successText:[se],successCheckMark:[ue],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[de],doneBtn:[de,pe]})),{fullCard:w.a.joinClasses([ie.b.fullCardSelector,w.a.style(ce)]),successWrapper:w.a.joinClasses([ie.b.successWrapperSelector,w.a.style(ce,le)])});var fe,he;(he=fe||(fe={})).Mini=E,he.MiniContrast=D,he.Card=b,he.Success=ae},LqyO:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Wy1Y"),i=n("a5gI"),a=n("+vYo"),o=n("xk6L"),s=n("yIk2"),c=function e(t){Object(r.a)(this,e),Object(i._)(this,"sessionUuid",a.a.create("")),t.pipe(o.a.filter((function(e){return"start"===e.action})),o.a.map((function(e){return e.sessionUuid})),o.a.take(1)).subscribe(s.b.toAtom(this.sessionUuid))}},Lsxp:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("a5gI"),i=n("8O/t"),a=n("nWMp"),o=n("2swC"),s=n("3n8C"),c=a.a.seconds(.2),l=function(e){return{$nest:Object(r._)({},s.a.compactSidebar,e)}},u={padding:"".concat(a.a.rem(.5)," 0"),width:a.a.rem(9),whiteSpace:"normal",lineHeight:a.a.rem(1)},d={position:"relative",display:"block",borderRadius:a.a.rem(a.d.radius2),fontWeight:500,lineHeight:a.a.rem(1.5),transition:"background-color ".concat(c),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:o.a.CoreNeutral10},"&[data-active='true']":{backgroundColor:o.a.CoreNeutral10}}},p=Object(i._)({margin:a.a.rem(.5),padding:"".concat(a.a.rem(o.g.ButtonOutcomeY)," ").concat(a.a.rem(o.g.ButtonOutcomeX))},l({display:"flex",alignItems:"center",$nest:{"& div":{top:"auto"}}})),m={boxSizing:"border-box",margin:"".concat(a.a.rem(.25)," ").concat(a.a.rem(1)),padding:a.a.rem(.75),borderRadius:a.a.rem(a.d.radius2),$nest:Object(r._)({"&[data-active='true']":{backgroundColor:o.a.CoreBlue1,border:"1px solid ".concat(o.a.CoreBlue50),color:o.a.CoreBlue60,fontWeight:600}},s.a.xs,{paddingTop:a.a.rem(.5),paddingBottom:a.a.rem(.5)})},f=Object(i._)({display:"block",color:o.h.SmallLightColor,whiteSpace:"normal",letterSpacing:a.a.rem(o.h.SmallLightLetterSpacing),fontWeight:o.h.SmallLightWeight},l(s.e)),h={overflow:"hidden",marginBottom:a.a.rem(-.25),width:a.a.percent(400),borderRadius:a.a.rem(.375),transition:"background-color ".concat(c),transform:"scale(.25)",transformOrigin:"left"},g={marginLeft:a.a.percent(-100),width:a.a.percent(100),height:a.a.rem(.75),transition:"transform .5s, background-color ".concat(c)},b={stroke:"none",fill:o.a.CoreNeutral40},v={position:"absolute",top:a.a.rem(.25),width:a.a.rem(1),height:a.a.rem(1),stroke:"none",$nest:{"&:not([data-disabled='true'])[data-active='true']":b,"&:not([data-disabled='true'])[data-hovered='true']":b,"&[data-disabled='true']":b}},y={position:"absolute",top:a.a.rem(.25),right:a.a.rem(.5),padding:a.a.rem(.5),width:a.a.rem(2),height:a.a.rem(2),objectFit:"contain"},O={right:a.a.rem(.5)},_={position:"absolute",top:a.a.rem(.25),right:a.a.rem(.5),padding:a.a.rem(.5),width:a.a.rem(2),height:a.a.rem(2),objectFit:"contain"},C={right:a.a.rem(.25),opacity:0,transition:"opacity ".concat(c),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{opacity:1}}},w=Object(r._)({},s.a.xs,{paddingTop:a.a.rem(.25),paddingBottom:a.a.rem(.25)}),S=a.a.prefixedStylesheet("navigation",{tooltip:[u],outcomeBtn:[d,p],outcomeBtnBorders:[m],outcomeStatus:[f],progressBarBg:[h],progressBar:[g],icon:[v],voxLogo:[y],checkmarkIcon:[v,O],voxIconLeft:[_],infoIcon:[v,C],counterContent:[],inactive:[]}),k=function(e,t){var n,i;return{$nest:(i={},Object(r._)(i,"& .".concat(S.checkmarkIcon),{fill:e,$nest:{"&:not([data-disabled='true'])[data-active='true']":{fill:e},"&:not([data-disabled='true'])[data-hovered='true']":{fill:e}}}),Object(r._)(i,"& .".concat(S.progressBarBg),{backgroundColor:t}),Object(r._)(i,"& .".concat(S.progressBar),{backgroundColor:e}),Object(r._)(i,"&:not([data-disabled='true'])[data-active='true']",{$nest:Object(r._)({},"& .".concat(S.progressBarBg),{backgroundColor:o.a.CoreNeutral0})}),Object(r._)(i,"&:not([data-disabled='true'])[data-hovered='true']",{$nest:Object(r._)({},"& .".concat(S.progressBarBg),{backgroundColor:o.a.CoreNeutral0})}),Object(r._)(i,"&.".concat(S.inactive),{$nest:(n={},Object(r._)(n,"& .".concat(S.checkmarkIcon),{fill:t}),Object(r._)(n,"& .".concat(S.progressBarBg),{backgroundColor:o.a.CoreNeutral0}),Object(r._)(n,"& .".concat(S.progressBar),{backgroundColor:t}),Object(r._)(n,"&:not([data-disabled='true'])[data-active='true']",{$nest:Object(r._)({},"& .".concat(S.progressBar),{backgroundColor:e})}),Object(r._)(n,"&:not([data-disabled='true'])[data-hovered='true']",{$nest:Object(r._)({},"& .".concat(S.progressBar),{backgroundColor:e})}),n)}),i)}},E={position:"absolute",top:a.a.rem(.5),right:a.a.rem(.5),left:"auto",fill:o.a.CoreYellow20,$nest:Object(r._)({},"& .".concat(S.counterContent),{fill:o.a.CoreYellow80})},j=Object(i._)({},a.a.prefixedStylesheet("navigation",{correctness:[d,k(o.a.CoreRed50,o.a.CoreRed10)],clarity:[d,k(o.a.CoreBlue50,o.a.CoreBlue10)],engagement:[d,k(o.a.CoreGreen50,o.a.CoreGreen10)],delivery:[d,k(o.a.CorePurple50,o.a.CorePurple10)],vox:[d,k(o.a.CoreNeutral50,o.a.CoreNeutral10)],knowledgeHub:[d,k(o.a.CoreNeutral50,o.a.CoreNeutral10)],plagiarism:[d,k(o.a.CoreCyan50,o.a.CoreCyan10)],counterWrapper:[E],premium:[w]}),S)},LvjW:function(e){e.exports=JSON.parse('{"wrapper":"_4e776e00-search_bar-wrapper","view":"_0b54df74-search_bar-view","searchInputWrapper":"_b64bef22-search_bar-searchInputWrapper","searchInput":"_3d4f0e89-search_bar-searchInput","searchIcon":"_8b70d1e9-search_bar-searchIcon","counter":"_7b81c65e-search_bar-counter","closeButton":"_83b88492-search_bar-closeButton","roundButton":"_6fdeb332-search_bar-roundButton","lessIcon":"_8bcca6bd-search_bar-lessIcon","lessIconUp":"_f2f84543-search_bar-lessIconUp _8bcca6bd-search_bar-lessIcon","overlayContentBase":"_90ddf0bf-search_bar-overlayContentBase","overlayContent":"_4e77fff3-search_bar-overlayContent _90ddf0bf-search_bar-overlayContentBase","overlayContentFaded":"_7c4ff6ad-search_bar-overlayContentFaded _90ddf0bf-search_bar-overlayContentBase"}')},"M+v9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return E}));var r=n("B8yO"),i=n.n(r),a=n("K5qu");class o{getStringForLocale(e,t){let n=this.strings[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let r=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[r])return t[r];for(let e in t)if(e.startsWith(r+"-"))return t[e];return t[n]}(t,this.strings,this.defaultLocale),this.strings[t]=n);let r=n[e];if(!r)throw new Error(`Could not find intl message ${e} in ${t} locale`);return r}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const s=new Map,c=new Map;class l{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"==typeof n?n(t,this):n}plural(e,t,n="cardinal"){let r=t["="+e];if(r)return"function"==typeof r?r():r;let i=this.locale+":"+n,a=s.get(i);return a||(a=new Intl.PluralRules(this.locale,{type:n}),s.set(i,a)),r=t[a.select(e)]||t.other,"function"==typeof r?r():r}number(e){let t=c.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),c.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"==typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}n("f9tp");new Map;new Map;const u=["hours","minutes","seconds"];new Map;n("zCOz");new Map;let d=!1;try{d="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(e){}let p=!1;try{p="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(e){}new RegExp("^.*\\(.*\\).*$");new Map;new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);const m=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),f=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function h(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return m.has(t)}let t=e.split("-")[0];return f.has(t)}function g(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:h(e)?"rtl":"ltr"}}let b=g(),v=new Set;function y(){b=g();for(let e of v)e(b)}function O(){let e=(0,a.a)(),[t,n]=(0,r.useState)(b);return(0,r.useEffect)(()=>(0===v.size&&window.addEventListener("languagechange",y),v.add(n),()=>{v.delete(n),0===v.size&&window.removeEventListener("languagechange",y)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const _=i.a.createContext(null);function C(){let e=O();return(0,r.useContext)(_)||e}const w=new WeakMap;function S(e){let{locale:t}=C(),n=(0,r.useMemo)(()=>function(e){let t=w.get(e);return t||(t=new o(e),w.set(e,t)),t}(e),[e]);return(0,r.useMemo)(()=>new l(t,n),[t,n])}let k=new Map;function E(e){let{locale:t}=C(),n=t+(e?Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:1).join():"");if(k.has(n))return k.get(n);let r=new Intl.Collator(t,e);return k.set(n,r),r}},M5RY:function(e,t,n){(function(t){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),a=n(19),o=n(45),s=n(46),c=n(47),l=n(48),u=n(49),d=n(12),p=n(32),m=n(33),f=n(31),h=n(1),g={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:r.default,Format:i.default,Leaf:a.default,Embed:l.default,Scroll:o.default,Block:c.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:m.default,Store:f.default}};t.default=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return i(t,e),t}(Error);t.ParchmentError=a;var o,s={},c={},l={},u={};function d(e,t){var n;if(void 0===t&&(t=o.ANY),"string"==typeof e)n=u[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof e)e&o.LEVEL&o.BLOCK?n=u.block:e&o.LEVEL&o.INLINE&&(n=u.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=c[r[i]])break;n=n||l[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new a("Unable to create "+e+" blot");var r=n,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(i,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new a("Invalid definition");if("abstract"===r.blotName)throw new a("Cannot register abstract class");if(u[r.blotName||r.attrName]=r,"string"==typeof r.keyName)s[r.keyName]=r;else if(null!=r.className&&(c[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var i=Array.isArray(r.tagName)?r.tagName:[r.tagName];i.forEach((function(e){null!=l[e]&&null!=r.className||(l[e]=r)}))}return r}},function(e,t,n){var r=n(51),i=n(11),a=n(3),o=n(20),s=String.fromCharCode(0),c=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};c.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},c.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},c.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},c.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},c.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},c.prototype.filter=function(e){return this.ops.filter(e)},c.prototype.forEach=function(e){this.ops.forEach(e)},c.prototype.map=function(e){return this.ops.map(e)},c.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},c.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},c.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},c.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},c.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=o.iterator(this.ops),i=0;i<t&&r.hasNext();){var a;i<e?a=r.next(e-i):(a=r.next(t-i),n.push(a)),i+=o.length(a)}return new c(n)},c.prototype.compose=function(e){var t=o.iterator(this.ops),n=o.iterator(e.ops),r=[],a=n.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var s=a.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),r.push(t.next());a.retain-s>0&&n.next(a.retain-s)}for(var l=new c(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),p=n.next(u);if("number"==typeof p.retain){var m={};"number"==typeof d.retain?m.retain=u:m.insert=d.insert;var f=o.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(m.attributes=f),l.push(m),!n.hasNext()&&i(l.ops[l.ops.length-1],m)){var h=new c(t.rest());return l.concat(h).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&l.push(p)}return l.chop()},c.prototype.concat=function(e){var t=new c(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},c.prototype.diff=function(e,t){if(this.ops===e.ops)return new c;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),a=new c,l=r(n[0],n[1],t),u=o.iterator(this.ops),d=o.iterator(e.ops);return l.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),a.push(d.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),a.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),c=d.next(n);i(s.insert,c.insert)?a.retain(n,o.attributes.diff(s.attributes,c.attributes)):a.push(c).delete(n)}t-=n}})),a.chop()},c.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),r=new c,i=0;n.hasNext();){if("insert"!==n.peekType())return;var a=n.peek(),s=o.length(a)-n.peekLength(),l="string"==typeof a.insert?a.insert.indexOf(t,s)-s:-1;if(l<0)r.push(n.next());else if(l>0)r.push(n.next(l));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new c}}r.length()>0&&e(r,{},i)},c.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),r=o.iterator(e.ops),i=new c;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var a=Math.min(n.peekLength(),r.peekLength()),s=n.next(a),l=r.next(a);if(s.delete)continue;l.delete?i.push(l):i.retain(a,o.attributes.transform(s.attributes,l.attributes,t))}else i.retain(o.length(n.next()));return i.chop()},c.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),a=n.peekType();n.next(),"delete"!==a?("insert"===a&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.exports=c},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(t in e);return void 0===t||n.call(e,t)},c=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,a,u,d=arguments[0],p=1,m=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)r=l(d,n),d!==(i=l(t,n))&&(f&&i&&(s(i)||(a=o(i)))?(a?(a=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},c(d,{name:n,newValue:e(f,u,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=d(n(3)),o=d(n(2)),s=d(n(0)),c=d(n(16)),l=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"attach",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var a=s.default.create(g.blotName);this.parent.insertBefore(a,0===e?this:this.next),a.insertAt(0,n.slice(0,-1))}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(s.default.Embed);h.scope=s.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),b(t))}),new o.default).insert("\n",b(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,a){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,a):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,a),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var a=n.split("\n"),o=a.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;a.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof c.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var a=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},a}}]),t}(s.default.Block);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,a.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:b(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[l.default,s.default.Embed,u.default],t.bubbleFormats=b,t.BlockEmbed=h,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var o=g(n(2)),s=g(n(14)),c=g(n(8)),l=g(n(9)),u=g(n(0)),d=n(15),p=g(d),m=g(n(3)),f=g(n(10)),h=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,f.default)("quill"),O=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,e),this.options=_(t,r),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,(function(e){e===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(c.default.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;C.call(n,(function(){return n.editor.update(null,t,i)}),e)}));var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),a(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,a=w(e,t,n),o=i(a,4);return e=o[0],t=o[1],n=o[3],C.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return C.call(this,(function(){var r=n.getSelection(!0),i=new o.default;if(null==r)return i;if(u.default.query(e,u.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,b({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,b({},e,t))}return n.setSelection(r,c.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,a){var o,s=this,c=w(e,t,n,r,a),l=i(c,4);return e=l[0],t=l[1],o=l[2],a=l[3],C.call(this,(function(){return s.editor.formatLine(e,t,o)}),a,e,0)}},{key:"formatText",value:function(e,t,n,r,a){var o,s=this,c=w(e,t,n,r,a),l=i(c,4);return e=l[0],t=l[1],o=l[2],a=l[3],C.call(this,(function(){return s.editor.formatText(e,t,o)}),a,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return C.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),a,t)}},{key:"insertText",value:function(e,t,n,r,a){var o,s=this,c=w(e,0,n,r,a),l=i(c,4);return e=l[0],o=l[2],a=l[3],C.call(this,(function(){return s.editor.insertText(e,t,o)}),a,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,a=w(e,t,n),o=i(a,4);return e=o[0],t=o[1],n=o[3],C.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return C.call(this,(function(){e=new o.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.applyDelta(e),a=i.ops[i.ops.length-1];return null!=a&&"string"==typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var a=w(t,n,r),o=i(a,4);t=o[0],n=o[1],r=o[3],this.selection.setRange(new d.Range(t,n),r),r!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return C.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function _(e,t){if((t=(0,m.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==O.DEFAULTS.theme){if(t.theme=O.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=h.default;var n=(0,m.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=O.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,m.default)(!0,{},O.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function C(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===c.default.sources.USER)return new o.default;var i=null==n?null:this.getSelection(),a=this.editor.delta,s=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=S(i,s,t):0!==r&&(i=S(i,n,r,t)),this.setSelection(i,c.default.sources.SILENT)),s.length()>0){var l,u,d=[c.default.events.TEXT_CHANGE,s,a,t];(l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(d)),t!==c.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function w(e,t,n,i,a){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(a=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(a=i,i=n,n=t,t=0),"object"===(void 0===n?"undefined":r(n))?(o=n,a=i):"string"==typeof n&&(null!=i?o[n]=i:a=n),[e,t,o,a=a||c.default.sources.API]}function S(e,t,n,r){if(null==e)return null;var a=void 0,s=void 0;if(t instanceof o.default){var l=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==c.default.sources.USER)})),u=i(l,2);a=u[0],s=u[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===c.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),m=i(p,2);a=m[0],s=m[1]}return new d.Range(a,s-a)}O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=c.default.events,O.sources=c.default.sources,O.version="1.3.7",O.imports={delta:o.default,parchment:u.default,"core/module":l.default,"core/theme":h.default},t.expandConfig=_,t.overload=w,t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,a){if(t.compare(this.statics.blotName,r)<0&&o.default.query(r,o.default.Scope.BLOT)){var s=this.isolate(e,n);a&&s.wrap(r,a)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,a)}},{key:"optimize",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);u.allowedChildren=[u,o.default.Embed,a.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default.Text);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){s.log.apply(s,arguments),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(a.default);c.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},c.sources={API:"api",SILENT:"silent",USER:"user"},t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.quill=t,this.options=n};i.DEFAULTS={},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function a(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=console)[e].apply(t,a)}}function o(e){return r.reduce((function(t,n){return t[n]=a.bind(console,n,e),t}),{})}a.level=o.level=function(e){i=e},t.default=o},function(e,t,n){var r=Array.prototype.slice,i=n(52),a=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var l,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=r.call(e),t=r.call(t),o(e,t,n));if(c(e)){if(!c(t))return!1;if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var d=i(e),p=i(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),l=d.length-1;l>=0;l--)if(d[l]!=p[l])return!1;for(l=d.length-1;l>=0;l--)if(u=d[l],!o(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function c(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=d(n(2)),s=d(n(0)),c=d(n(4)),l=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(l.default);h.blotName="code",h.tagName="CODE";var g=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(u.default,this.length()-1),o=r(i,1)[0];null!=o&&o.deleteAt(o.length()-1,1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,i){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+n)){var o=this.newlineIndex(e,!0)+1,c=a-o+1,l=this.isolate(o,c),u=l.next;l.format(r,i),u instanceof t&&u.formatAt(0,e-o+n-c,r,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(u.default,e),a=r(i,2),o=a[0],s=a[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(c.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=h,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n(2)),s=b(n(20)),c=b(n(0)),l=b(n(13)),u=b(n(24)),d=n(4),p=b(d),m=b(n(16)),f=b(n(21)),h=b(n(11)),g=b(n(3));function b(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return a(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var a=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var l=o.retain||o.delete||o.insert.length||1,u=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var m=o.insert;m.endsWith("\n")&&n&&(n=!1,m=m.slice(0,-1)),e>=a&&!m.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,m);var f=t.scroll.line(e),h=i(f,2),b=h[0],v=h[1],y=(0,g.default)({},(0,d.bubbleFormats)(b));if(b instanceof p.default){var O=b.descendant(c.default.Leaf,v),_=i(O,1)[0];y=(0,g.default)(y,(0,d.bubbleFormats)(_))}u=s.default.attributes.diff(y,u)||{}}else if("object"===r(o.insert)){var C=Object.keys(o.insert)[0];if(null==C)return e;t.scroll.insertAt(e,C,o.insert[C])}a+=l}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,l,n,u[n])})),e+l}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var a=n.scroll.lines(e,Math.max(t,1)),o=t;a.forEach((function(t){var a=t.length();if(t instanceof l.default){var s=e-t.offset(n.scroll),c=t.newlineIndex(s+o)-s+1;t.formatAt(s,c,i,r[i])}else t.format(i,r[i]);o-=a}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])})),this.update((new o.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=i(e,1)[0];t instanceof p.default?n.push(t):t instanceof c.default.Leaf&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(c.default.Leaf,e,t));var a=[n,r].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=O((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,a)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new o.default).retain(e).insert(t,(0,f.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof m.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),a=i(r,2),s=a[0],c=a[1],u=0,d=new o.default;null!=s&&(u=s instanceof l.default?s.newlineIndex(c)-c+1:s.length()-c,d=s.delta().slice(c,c+u-1).insert("\n"));var p=this.getContents(e,t+u).diff((new o.default).insert(n).concat(d)),m=(new o.default).retain(e).concat(p);return this.applyDelta(m)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&c.default.find(t[0].target)){var i=c.default.find(t[0].target),a=(0,d.bubbleFormats)(i),s=i.offset(this.scroll),l=t[0].oldValue.replace(u.default.CONTENTS,""),p=(new o.default).insert(l),m=(new o.default).insert(i.value()),f=(new o.default).retain(s).concat(p.diff(m,n));e=f.reduce((function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)}),new o.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,h.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function O(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(21)),s=l(n(11)),c=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,l(n(10)).default)("quill:selection"),m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new m(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,c.default.sources.USER),1)})),this.emitter.on(c.default.events.EDITOR_CHANGE,(function(e,t){e===c.default.events.TEXT_CHANGE&&t.length()>0&&r.update(c.default.sources.SILENT)})),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(c.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,a=n.startOffset,o=n.endNode,s=n.endOffset;r.setNativeRange(i,a,o,s)}})),this.update(c.default.sources.SILENT)}return i(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(c.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(e,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=a.default.find(n.start.node,!1);if(null==r)return;if(r instanceof a.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,a=this.scroll.leaf(e),o=r(a,2),s=o[0],c=o[1];if(null==s)return null;var l=s.position(c,!0),u=r(l,2);i=u[0],c=u[1];var d=document.createRange();if(t>0){d.setStart(i,c);var p=this.scroll.leaf(e+t),m=r(p,2);if(s=m[0],c=m[1],null==s)return null;var f=s.position(c,!0),h=r(f,2);return i=h[0],c=h[1],d.setEnd(i,c),d.getBoundingClientRect()}var g="left",b=void 0;return i instanceof Text?(c<i.data.length?(d.setStart(i,c),d.setEnd(i,c+1)):(d.setStart(i,c-1),d.setEnd(i,c),g="right"),b=d.getBoundingClientRect()):(b=s.domNode.getBoundingClientRect(),c>0&&(g="right")),{bottom:b.top+b.height,height:b.height,left:b[g],right:b[g],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=r(e,2),i=n[0],o=n[1],s=a.default.find(i,!0),c=s.offset(t.scroll);return 0===o?c:s instanceof a.default.Container?c+s.length():c+s.index(i,o)})),o=Math.min(Math.max.apply(Math,u(i)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(i)));return new m(s,o-s)}},{key:"normalizeNative",value:function(e){if(!h(this.root,e.startContainer)||!e.collapsed&&!h(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],a=this.scroll.length();return n.forEach((function(e,n){e=Math.min(a-1,e);var o,s=t.scroll.leaf(e),c=r(s,2),l=c[0],u=c[1],d=l.position(u,0!==n),p=r(d,2);o=p[0],u=p[1],i.push(o,u)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,a=this.scroll.line(Math.min(t.index,i)),o=r(a,1)[0],s=o;if(t.length>0){var c=this.scroll.line(Math.min(t.index+t.length,i));s=r(c,1)[0]}if(null!=o&&null!=s){var l=e.getBoundingClientRect();n.top<l.top?e.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(e.scrollTop+=n.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var a=document.getSelection();if(null!=a)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||i||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||r!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),a.removeAllRanges(),a.addRange(s)}}else a.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,u(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,t=this.lastRange,n=this.getRange(),i=r(n,2),a=i[0],l=i[1];if(this.lastRange=a,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[c.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(u=this.emitter).emit.apply(u,[c.default.events.EDITOR_CHANGE].concat(p)),e!==c.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function h(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=m,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertInto",value:function(e,n){0===e.children.length?function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default.Embed);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),o=n(30),s=n(1),c=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return i(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var r=this.children.find(n),i=r[0],a=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,a]:i instanceof t?i.descendant(e,a):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],a=r;return this.children.forEachAt(n,r,(function(n,r,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,a))),a-=o})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],a=r[1];if(i)i.insertAt(a,t,n);else{var o=null==n?s.create("text",t):s.create(t,n);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],a=r[1],o=[[this,e]];return i instanceof t?o.concat(i.path(a,n)):(null!=i&&o.push([i,a]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,r,i){e=e.split(r,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=l(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))}))},t}(o.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),o=n(31),s=n(17),c=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return i(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=c.query(e);n instanceof a.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(s.default);t.default=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=o.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,n){var r=n(11),i=n(3),a={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i(!0,{},t);for(var a in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(r[a]=e[a]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=a.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=a},function(e,n){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{i=Promise}catch(e){i=function(){}}function a(o,c,l,u,d){"object"==typeof c&&(l=c.depth,u=c.prototype,d=c.includeNonEnumerable,c=c.circular);var p=[],m=[],f=void 0!==t;return void 0===c&&(c=!0),void 0===l&&(l=1/0),function o(l,h){if(null===l)return null;if(0===h)return l;var g,b;if("object"!=typeof l)return l;if(e(l,n))g=new n;else if(e(l,r))g=new r;else if(e(l,i))g=new i((function(e,t){l.then((function(t){e(o(t,h-1))}),(function(e){t(o(e,h-1))}))}));else if(a.__isArray(l))g=[];else if(a.__isRegExp(l))g=new RegExp(l.source,s(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(a.__isDate(l))g=new Date(l.getTime());else{if(f&&t.isBuffer(l))return g=t.allocUnsafe?t.allocUnsafe(l.length):new t(l.length),l.copy(g),g;e(l,Error)?g=Object.create(l):void 0===u?(b=Object.getPrototypeOf(l),g=Object.create(b)):(g=Object.create(u),b=u)}if(c){var v=p.indexOf(l);if(-1!=v)return m[v];p.push(l),m.push(g)}for(var y in e(l,n)&&l.forEach((function(e,t){var n=o(t,h-1),r=o(e,h-1);g.set(n,r)})),e(l,r)&&l.forEach((function(e){var t=o(e,h-1);g.add(t)})),l){var O;b&&(O=Object.getOwnPropertyDescriptor(b,y)),O&&null==O.set||(g[y]=o(l[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(y=0;y<_.length;y++){var C=_[y];(!(S=Object.getOwnPropertyDescriptor(l,C))||S.enumerable||d)&&(g[C]=o(l[C],h-1),S.enumerable||Object.defineProperty(g,C,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var S,k=w[y];(S=Object.getOwnPropertyDescriptor(l,k))&&S.enumerable||(g[k]=o(l[k],h-1),Object.defineProperty(g,k,{enumerable:!1}))}}return g}(o,l)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},a.__getRegExpFlags=s,a}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=m(n(0)),s=m(n(8)),c=n(4),l=m(c),u=m(n(16)),d=m(n(13)),p=m(n(25));function m(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof l.default||e instanceof c.BlockEmbed}var h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),o=r(i,2),s=o[0],l=o[1],p=this.line(e+n),m=r(p,1)[0];if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=m&&s!==m&&l>0){if(s instanceof c.BlockEmbed||m instanceof c.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===m)return void this.optimize()}else if(m instanceof d.default){var h=m.newlineIndex(0);h>-1&&m.split(h+1)}var g=m.children.head instanceof u.default?null:m.children.head;s.moveChildren(m,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,i){(null==this.whitelist||this.whitelist[r])&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==o.default.query(n,o.default.Scope.BLOCK)){var i=o.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var s=o.default.create(n,r);this.appendChild(s)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var r=o.default.create(this.statics.defaultChild);r.appendChild(e),e=r}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,r){var i=[],a=r;return t.children.forEachAt(n,r,(function(t,n,r){f(t)?i.push(t):t instanceof o.default.Container&&(i=i.concat(e(t,n,a))),a-=r})),i};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);h.blotName="scroll",h.className="ql-editor",h.tagName="DIV",h.defaultChild="block",h.allowedChildren=[l.default,c.BlockEmbed,p.default],t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(21)),s=h(n(11)),c=h(n(3)),l=h(n(2)),u=h(n(20)),d=h(n(0)),p=h(n(5)),m=h(n(10)),f=h(n(9));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,m.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:t.keys.ENTER,shiftKey:null},S),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0},C)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},C)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},w),r.addBinding({key:t.keys.DELETE},{collapsed:!1},w),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"match",value:function(e,t){return t=j(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),a(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=j(e);if(null==r||null==r.key)return b.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,c.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var a=n.which||n.keyCode,o=(e.bindings[a]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var c=e.quill.getSelection();if(null!=c&&e.quill.hasFocus()){var l=e.quill.getLine(c.index),u=i(l,2),p=u[0],m=u[1],f=e.quill.getLeaf(c.index),h=i(f,2),g=h[0],b=h[1],v=0===c.length?[g,b]:e.quill.getLeaf(c.index+c.length),y=i(v,2),O=y[0],_=y[1],C=g instanceof d.default.Text?g.value().slice(0,b):"",w=O instanceof d.default.Text?O.value().slice(_):"",S={collapsed:0===c.length,empty:0===c.length&&p.length()<=1,format:e.quill.getFormat(c),offset:m,prefix:C,suffix:w};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,s.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix)||null!=t.suffix&&!t.suffix.test(S.suffix)||!0===t.handler.call(e,c,S))}))&&n.preventDefault()}}}}))}}]),t}(f.default);function O(e,t){var n,r=e===y.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;e===y.keys.RIGHT&&(r+=n.length+1);var a=this.quill.getLeaf(r);return!(i(a,1)[0]instanceof d.default.Embed&&(e===y.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))})),n}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=i(n,1)[0],a={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=i(o,1)[0];if(null!=s&&s.length()>1){var c=r.formats(),l=this.quill.getFormat(e.index-1,1);a=u.default.attributes.diff(c,l)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index-d,d,a,p.default.sources.USER),this.quill.focus()}}function C(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},a=0,o=this.quill.getLine(e.index),s=i(o,1)[0];if(t.offset>=s.length()-1){var c=this.quill.getLine(e.index+1),l=i(c,1)[0];if(l){var d=s.formats(),m=this.quill.getFormat(e.index,1);r=u.default.attributes.diff(d,m)||{},a=l.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+a-1,n,r,p.default.sources.USER)}}function w(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),i=t[t.length-1].formats();n=u.default.attributes.diff(i,r)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function S(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",r,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function k(e){return{key:y.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,a=t.length,o=this.quill.scroll.descendant(n,r),s=i(o,2),c=s[0],l=s[1];if(null!=c){var u=this.quill.getIndex(c),m=c.newlineIndex(l,!0)+1,f=c.newlineIndex(u+l+a),h=c.domNode.textContent.slice(m,f).split("\n");l=0,h.forEach((function(t,i){e?(c.insertAt(m+l,n.TAB),l+=n.TAB.length,0===i?r+=n.TAB.length:a+=n.TAB.length):t.startsWith(n.TAB)&&(c.deleteAt(m+l,n.TAB.length),l-=n.TAB.length,0===i?r-=n.TAB.length:a-=n.TAB.length),l+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(r,a,p.default.sources.SILENT)}}}}function E(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function j(e){if("string"==typeof e||"number"==typeof e)return j({key:e});if("object"===(void 0===e?"undefined":r(e))&&(e=(0,o.default)(e,!1)),"string"==typeof e.key)if(null!=y.keys[e.key.toUpperCase()])e.key=y.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:E("bold"),italic:E("italic"),underline:E("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new l.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],a=n[1],o=(0,c.default)({},r.formats(),{list:"checked"}),s=(new l.default).retain(e.index).insert("\n",o).retain(r.length()-a-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=i(n,2),a=r[0],o=r[1],s=(new l.default).retain(e.index).insert("\n",t.format).retain(a.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),a=i(r,2),o=a[0],s=a[1];if(s>n)return!0;var c=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new l.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:c});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],a=n[1],o=(new l.default).retain(e.index+r.length()-a-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,p.default.sources.USER)}},"embed left":O(y.keys.LEFT,!1),"embed left shift":O(y.keys.LEFT,!0),"embed right":O(y.keys.RIGHT,!1),"embed right shift":O(y.keys.RIGHT,!0)}},t.default=y,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),s=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"value",value:function(){}}]),a(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,a=0;null!=r&&r.statics.scope!==o.default.Scope.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,a=void 0,c=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];i=l[0],a=l[1],c=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=a){var d=[a,c].map((function(e){return Math.max(0,Math.min(i.data.length,e-1))})),p=r(d,2);return a=p[0],c=p[1],{startNode:i,startOffset:a,endNode:i,endOffset:c}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=n(4),a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);l.allowedChildren=[a.default,i.BlockEmbed,l],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(o.default.Attributor.Style),u=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),d=new l("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=u,t.ColorStyle=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return u(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);function u(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var c=0;function l(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),l(this.label,"aria-expanded"),l(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case a.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(0)),i=b(n(5)),a=n(4),o=b(a),s=b(n(16)),c=b(n(25)),l=b(n(24)),u=b(n(35)),d=b(n(6)),p=b(n(22)),m=b(n(7)),f=b(n(55)),h=b(n(42)),g=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":o.default,"blots/block/embed":a.BlockEmbed,"blots/break":s.default,"blots/container":c.default,"blots/cursor":l.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":m.default,"modules/clipboard":f.default,"modules/history":h.default,"modules/keyboard":g.default}),r.default.register(o.default,s.default,l.default,d.default,p.default,m.default),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var a=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&i)a.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var o=r.create(this.statics.scope);a.wrap(o),o.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?r.create("text",t):r.create(t,n),a=this.split(e);this.parent.insertBefore(i,a)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(32),a=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=i.default.keys(this.domNode),s=a.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function a(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){a(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function a(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[a(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[a(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[a(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(0)),a=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split("\ufeff").join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,r),t={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data="\ufeff",t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}]),t}(i.default.Embed);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new a.default.Attributor.Attribute("align","align",o),c=new a.default.Attributor.Class("align","ql-align",o),l=new a.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=c,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o=n(26),s=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),c=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},s=new a.default.Attributor.Attribute("direction","dir",o),c=new a.default.Attributor.Class("direction","ql-direction",o),l=new a.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=c,t.DirectionStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new o.default.Attributor.Class("font","ql-font",l),d=new(function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style))("font","font-family",l);t.FontStyle=d,t.FontClass=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},o=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(0)),a=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,i){e!==a.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==a.default.sources.USER?r.transform(t):r.record(t,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],a.default.sources.USER),this.ignoreChange=!1;var r=c(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function c(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(3)),a=m(n(2)),o=m(n(8)),s=m(n(23)),c=m(n(34)),l=m(n(59)),u=m(n(60)),d=m(n(28)),p=m(n(61));function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],O=["1","2","3",!1],_=["small",!1,"large","huge"],C=function(e){function t(e,n){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),r}return g(t,e),r(t,[{key:"addModule",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&S(e,b),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&S(e,v,"background"===n?"#ffffff":"#000000"),new l.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?S(e,y):e.classList.contains("ql-header")?S(e,O):e.classList.contains("ql-size")&&S(e,_)),new d.default(e)})),this.quill.on(o.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);C.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(r.index).delete(r.length).insert({image:n.target.result}),o.default.sources.USER),e.quill.setSelection(r.index+1,o.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var w=function(e){function t(e,n){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return g(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,o.default.sources.USER)),this.quill.root.scrollTop=r;break;case"video":t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var i=this.quill.getSelection(!0);if(null!=i){var a=i.index+i.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),n,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(a+1," ",o.default.sources.USER),this.quill.setSelection(a+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)}))}t.BaseTooltip=w,t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,i=this.find(e),a=i[0],o=e-i[1],s=this.iterator(a);(r=s())&&o<e+t;){var c=r.length();e>o?n(r,e-o,Math.min(t,o+c-e)):n(r,0,Math.min(c,e+t-o)),o+=c}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&s(e.parent))},c=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof a.default&&e.children.forEach(c),e.optimize(n))},l=t,u=0;l.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=o.find(e,!1);s(t,!1),t instanceof a.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(c),i=(l=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==r&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(a.default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach((function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||o.query(r,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){var r=o.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,i){null!=o.query(r,o.Scope.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t),a=o.create(n,r);i.parent.insertBefore(a,i)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(a.default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],a=0;a<r;a++)if(t=n[a],e.call(i,t,a,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){function n(e,t,o){if(e==t)return e?[[0,e]]:[];(o<0||e.length<o)&&(o=null);var c=i(e,t),l=e.substring(0,c);c=a(e=e.substring(c),t=t.substring(c));var u=e.substring(e.length-c),d=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[-1,e]];var s=e.length>t.length?e:t,c=e.length>t.length?t:e,l=s.indexOf(c);if(-1!=l)return o=[[1,s.substring(0,l)],[0,c],[1,s.substring(l+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=-1),o;if(1==c.length)return[[-1,e],[1,t]];var u=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,s,c,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(l,u+1));){var p=i(e.substring(n),t.substring(u)),m=a(e.substring(0,n),t.substring(0,u));d.length<m+p&&(d=t.substring(u-m,u)+t.substring(u,u+p),r=e.substring(0,n-m),o=e.substring(n+p),s=t.substring(0,u-m),c=t.substring(u+p))}return 2*d.length>=e.length?[r,o,s,c,d]:null}var s,c,l,u,d,p=o(n,r,Math.ceil(n.length/4)),m=o(n,r,Math.ceil(n.length/2));if(!p&&!m)return null;s=m?p&&p[4].length>m[4].length?p:m:p,e.length>t.length?(c=s[0],l=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],c=s[2],l=s[3]);var f=s[4];return[c,l,u,d,f]}(e,t);if(u){var d=u[0],p=u[1],m=u[2],f=u[3],h=u[4],g=n(d,m),b=n(p,f);return g.concat([[0,h]],b)}return function(e,t){for(var n=e.length,i=t.length,a=Math.ceil((n+i)/2),o=a,s=2*a,c=new Array(s),l=new Array(s),u=0;u<s;u++)c[u]=-1,l[u]=-1;c[o+1]=0,l[o+1]=0;for(var d=n-i,p=d%2!=0,m=0,f=0,h=0,g=0,b=0;b<a;b++){for(var v=-b+m;v<=b-f;v+=2){for(var y=o+v,O=(k=v==-b||v!=b&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1)-v;k<n&&O<i&&e.charAt(k)==t.charAt(O);)k++,O++;if(c[y]=k,k>n)f+=2;else if(O>i)m+=2;else if(p&&(w=o+d-v)>=0&&w<s&&-1!=l[w]){var _=n-l[w];if(k>=_)return r(e,t,k,O)}}for(var C=-b+h;C<=b-g;C+=2){for(var w=o+C,S=(_=C==-b||C!=b&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-C;_<n&&S<i&&e.charAt(n-_-1)==t.charAt(i-S-1);)_++,S++;if(l[w]=_,_>n)g+=2;else if(S>i)h+=2;else if(!p&&(y=o+d-C)>=0&&y<s&&-1!=c[y]){var k=c[y];if(O=o+k-y,k>=(_=n-_))return r(e,t,k,O)}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return l&&d.unshift([0,l]),u&&d.push([0,u]),function e(t){t.push([0,""]);for(var n,r=0,o=0,s=0,c="",l="";r<t.length;)switch(t[r][0]){case 1:s++,l+=t[r][1],r++;break;case-1:o++,c+=t[r][1],r++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(n=i(l,c))&&(r-o-s>0&&0==t[r-o-s-1][0]?t[r-o-s-1][1]+=l.substring(0,n):(t.splice(0,0,[0,l.substring(0,n)]),r++),l=l.substring(n),c=c.substring(n)),0!==(n=a(l,c))&&(t[r][1]=l.substring(l.length-n)+t[r][1],l=l.substring(0,l.length-n),c=c.substring(0,c.length-n))),0===o?t.splice(r-s,o+s,[1,l]):0===s?t.splice(r-o,o+s,[-1,c]):t.splice(r-o-s,o+s,[-1,c],[1,l]),r=r-o-s+(o?1:0)+(s?1:0)+1):0!==r&&0==t[r-1][0]?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,s=0,o=0,c="",l=""}""===t[t.length-1][1]&&t.pop();var u=!1;for(r=1;r<t.length-1;)0==t[r-1][0]&&0==t[r+1][0]&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),u=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),u=!0)),r++;u&&e(t)}(d),null!=o&&(d=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,r=0;r<e.length;r++){var i=e[r];if(-1===i[0]||0===i[0]){var a=n+i[1].length;if(t===a)return[r+1,e];if(t<a){e=e.slice();var o=t-n,s=[i[0],i[1].slice(0,o)],c=[i[0],i[1].slice(o)];return e.splice(r,1,s,c),[r+1,e]}n=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=n[1],i=n[0],a=r[i],o=r[i+1];if(null==a)return e;if(0!==a[0])return e;if(null!=o&&a[1]+o[1]===o[1]+a[1])return r.splice(i,2,o,a),s(r,i,2);if(null!=o&&0===o[1].indexOf(a[1])){r.splice(i,2,[o[0],a[1]],[0,a[1]]);var c=o[1].slice(a[1].length);return c.length>0&&r.splice(i+2,0,[o[0],c]),s(r,i,3)}return e}(d,o)),d=function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=2;r<e.length;r+=1)0===e[r-2][0]&&(i=e[r-2][1]).charCodeAt(i.length-1)>=55296&&i.charCodeAt(i.length-1)<=56319&&-1===e[r-1][0]&&n(e[r-1][1])&&1===e[r][0]&&n(e[r][1])&&(t=!0,e[r-1][1]=e[r-2][1].slice(-1)+e[r-1][1],e[r][1]=e[r-2][1].slice(-1)+e[r][1],e[r-2][1]=e[r-2][1].slice(0,-1));var i;if(!t)return e;var a=[];for(r=0;r<e.length;r+=1)e[r][1].length>0&&a.push(e[r]);return a}(d)}function r(e,t,r,i){var a=e.substring(0,r),o=t.substring(0,i),s=e.substring(r),c=t.substring(i),l=n(a,o),u=n(s,c);return l.concat(u)}function i(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(a,i)==t.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(e.length-i,e.length-a)==t.substring(t.length-i,t.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}var o=n;function s(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],a=e[r+1];i[0]===a[1]&&e.splice(r,2,[i[0],i[1]+a[1]])}return e}o.INSERT=1,o.DELETE=-1,o.EQUAL=0,e.exports=o},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,s=new Array(o);a<o;a++)s[a]=i[a].fn;return s},o.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,o),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,m=u.length;for(l=0;l<m;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},o.prototype.on=function(e,t,n){var i=new a(t,n||this),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(e,t,n){var i=new a(t,n||this,!0),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,a){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new i:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||a&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=r,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n(3)),s=y(n(2)),c=y(n(0)),l=y(n(5)),u=y(n(10)),d=y(n(9)),p=n(36),m=n(37),f=y(n(13)),h=n(26),g=n(38),b=n(39),v=n(40);function y(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,u.default)("quill:clipboard"),C="__ql-matcher",w=[[Node.TEXT_NODE,L],[Node.TEXT_NODE,N],["br",function(e,t){return A(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===x(e).fontStyle&&(n.italic=!0),r.fontWeight&&(x(e).fontWeight.startsWith("bold")||parseInt(x(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=j(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=c.default.query(e);if(null==n||"list-item"!==n.blotName||!A(t,"\n"))return t;for(var r=-1,i=e.parentNode;!i.classList.contains("ql-clipboard");)"list"===(c.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],S=[p.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[p.AlignStyle,m.BackgroundStyle,h.ColorStyle,g.DirectionStyle,b.FontStyle,v.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),E=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],w.concat(r.options.matchers).forEach((function(e){var t=i(e,2),a=t[0],o=t[1];(n.matchVisual||o!==B)&&r.addMatcher(a,o)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,O({},f.default.blotName,t[f.default.blotName]))}var r=this.prepareMatching(),a=i(r,2),o=a[0],c=a[1],l=function e(t,n,r){return t.nodeType===t.TEXT_NODE?r.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(i,a){var o=e(a,n,r);return a.nodeType===t.ELEMENT_NODE&&(o=n.reduce((function(e,t){return t(a,e)}),o),o=(a[C]||[]).reduce((function(e,t){return t(a,e)}),o)),i.concat(o)}),new s.default):new s.default}(this.container,o,c);return A(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),_.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,l.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout((function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,l.default.sources.USER),t.quill.setSelection(r.length()-n.length,l.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(r){var a=i(r,2),o=a[0],s=a[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[C]=e[C]||[],e[C].push(s)}))}})),[t,n]}}]),t}(d.default);function j(e,t,n){return"object"===(void 0===t?"undefined":r(t))?Object.keys(t).reduce((function(e,n){return j(e,n,t[n])}),e):e.reduce((function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,o.default)({},O({},t,n),r.attributes))}),new s.default)}function x(e){return e.nodeType!==Node.ELEMENT_NODE?{}:e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function A(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function I(e){if(0===e.childNodes.length)return!1;var t=x(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,n){return j(n,e,!0)}function M(e,t){var n=c.default.Attributor.Attribute.keys(e),r=c.default.Attributor.Class.keys(e),i=c.default.Attributor.Style.keys(e),a={};return n.concat(r).concat(i).forEach((function(t){var n=c.default.query(t,c.default.Scope.ATTRIBUTE);null!=n&&(a[n.attrName]=n.value(e),a[n.attrName])||(null==(n=S[t])||n.attrName!==t&&n.keyName!==t||(a[n.attrName]=n.value(e)||void 0),null==(n=k[t])||n.attrName!==t&&n.keyName!==t||(n=k[t],a[n.attrName]=n.value(e)||void 0))})),Object.keys(a).length>0&&(t=j(t,a)),t}function P(e,t){var n=c.default.query(e);if(null==n)return t;if(n.prototype instanceof c.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new s.default).insert(r,n.formats(e)))}else"function"==typeof n.formats&&(t=j(t,n.blotName,n.formats(e)));return t}function N(e,t){return A(t,"\n")||(I(e)||t.length()>0&&e.nextSibling&&I(e.nextSibling))&&t.insert("\n"),t}function B(e,t){if(I(e)&&null!=e.nextElementSibling&&!A(t,"\n\n")){var n=e.offsetHeight+parseFloat(x(e).marginTop)+parseFloat(x(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function L(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!x(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&I(e.parentNode)||null!=e.previousSibling&&I(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&I(e.parentNode)||null!=e.nextSibling&&I(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}E.DEFAULTS={matchers:[],matchVisual:!0},t.default=E,t.matchAttributor=M,t.matchBlot=P,t.matchNewline=N,t.matchSpacing=B,t.matchText=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2)),o=u(n(0)),s=u(n(5)),c=u(n(10)),l=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,c.default)("quill:toolbar"),m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(a.options.container)){var o=document.createElement("div");h(o,a.options.container),e.container.parentNode.insertBefore(o,e.container),a.container=o}else"string"==typeof a.options.container?a.container=document.querySelector(a.options.container):a.container=a.options.container;return a.container instanceof HTMLElement?(a.container.classList.add("ql-toolbar"),a.controls=[],a.handlers={},Object.keys(a.options.handlers).forEach((function(e){a.addHandler(e,a.options.handlers[e])})),[].forEach.call(a.container.querySelectorAll("button, select"),(function(e){a.attach(e)})),a.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&a.update(t)})),a.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=a.quill.selection.getRange(),t=r(e,1)[0];a.update(t)})),a):(i=p.error("Container required for toolbar",a.options),d(a,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var c=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var l=e.options[e.selectedIndex];c=!l.hasAttribute("selected")&&(l.value||!1)}else c=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=r(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,c);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(c=prompt("Enter "+n)))return;t.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,c)),s.default.sources.USER)}else t.quill.format(n,c,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=r(n,2),a=i[0],o=i[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[a])s=o.querySelector("option[selected]");else if(!Array.isArray(t[a])){var c=t[a];"string"==typeof c&&(c=c.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+c+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var l=t[a]===o.getAttribute("value")||null!=t[a]&&t[a].toString()===o.getAttribute("value")||null==t[a]&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else o.classList.toggle("ql-active",null!=t[a])}))}}]),t}(l.default);function f(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function h(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):f(n,t,r)}})),e.appendChild(n)}))}m.DEFAULTS={},m.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=m,t.addControls=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildItem",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(28),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"selectItem",value:function(e,n){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),a=0;if(i.right>r.right&&(a=r.right-i.right,this.root.style.left=t+a+"px"),i.left<r.left&&(a=r.left-i.left,this.root.style.left=t+a+"px"),i.bottom>r.bottom){var o=i.bottom-i.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(3)),s=m(n(8)),c=n(43),l=m(c),u=m(n(27)),d=n(15),p=m(n(41));function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return g(t,e),a(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(l.default);v.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(t,e),a(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===s.default.sources.USER){var a=e.quill.scroll.descendant(u.default,t.index),o=r(a,2),c=o[0],l=o[1];if(null!=c){e.linkRange=new d.Range(t.index-l,c.length());var p=u.default.formats(c.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(c.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=B(n(29)),i=n(36),a=n(38),o=n(64),s=B(n(65)),c=B(n(66)),l=n(67),u=B(l),d=n(37),p=n(26),m=n(39),f=n(40),h=B(n(56)),g=B(n(68)),b=B(n(27)),v=B(n(69)),y=B(n(70)),O=B(n(71)),_=B(n(72)),C=B(n(73)),w=n(13),S=B(w),k=B(n(74)),E=B(n(75)),j=B(n(57)),x=B(n(41)),A=B(n(28)),I=B(n(59)),T=B(n(60)),M=B(n(61)),P=B(n(108)),N=B(n(62));function B(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":f.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":o.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":S.default,"formats/header":c.default,"formats/list":u.default,"formats/bold":h.default,"formats/code":w.Code,"formats/italic":g.default,"formats/link":b.default,"formats/script":v.default,"formats/strike":y.default,"formats/underline":O.default,"formats/image":_.default,"formats/video":C.default,"formats/list/item":l.ListItem,"modules/formula":k.default,"modules/syntax":E.default,"modules/toolbar":j.default,"themes/bubble":P.default,"themes/snow":N.default,"ui/icons":x.default,"ui/picker":A.default,"ui/icon-picker":T.default,"ui/color-picker":I.default,"ui/tooltip":M.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=new(function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=c(n(0)),o=c(n(4)),s=c(n(25));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==m.blotName||n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);p.blotName="list-item",p.tagName="LI";var m=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),i=a.default.find(t.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof p)i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),a=this.split(r);a.parent.insertBefore(e,a)}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);m.blotName="list",m.scope=a.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[p],t.ListItem=p,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(56);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(0),s=(r=o)&&r.__esModule?r:{default:r},c=n(27);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["alt","height","width"],p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,c.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);p.blotName="image",p.tagName="IMG",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=n(4),s=n(27),c=(r=s)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["height","width"],p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return c.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(35)),a=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,null,[{key:"create",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var p=function(e){function t(){c(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),r(t,null,[{key:"register",value:function(){a.default.register(d,!0)}}]),t}(o.default);t.FormulaBlot=d,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(n(13)).default);d.className="ql-syntax";var p=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),m=function(e){function t(e,n){c(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return u(t,e),r(t,null,[{key:"register",value:function(){a.default.register(p,!0),a.default.register(d,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(o.default);m.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=d,t.CodeToken=p,t.default=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(3)),o=d(n(8)),s=n(43),c=d(s),l=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=h);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return f(t,e),i(t,[{key:"extendToolbar",value:function(e){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(c.default);g.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){p(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===o.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var a=r.quill.getLines(t.index,t.length);if(1===a.length)r.position(r.quill.getBounds(t));else{var s=a[a.length-1],c=r.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-c),d=r.quill.getBounds(new l.Range(c,u));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return f(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=b,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=n()}).call(this,n("u8VC").Buffer)},"M9C+":function(e){e.exports=JSON.parse('{"wrapper":"_d8e791ff-paidview-wrapper","info":"_639643ca-paidview-info","text":"_370700ba-paidview-text","advancedBlockWrapper":"_6cdbc5d2-paidview-advancedBlockWrapper","advancedBlock":"_537e27f2-paidview-advancedBlock","counter":"_7cd16ef7-paidview-counter","counterContent":"_112e0fd9-paidview-counterContent","upgradeBlock":"_56213ecc-paidview-upgradeBlock","footer":"_6192d80c-paidview-footer","footerText":"_72d57f3b-paidview-footerText","footerLogo":"_65c8168b-paidview-footerLogo","alertList":"_b1fdde39-paidview-alertList","alertBlock":"_05c653f0-paidview-alertBlock","graphBlock":"_4fd15b27-paidview-graphBlock","graphCircle":"_dcc27901-paidview-graphCircle","graphCircle1":"_3eb8f1f7-paidview-graphCircle1 _dcc27901-paidview-graphCircle","graphCircle2":"_06a48dfd-paidview-graphCircle2 _dcc27901-paidview-graphCircle","graphCircleInvisible":"_172a0c73-paidview-graphCircleInvisible","graphCircle2IPad":"_012c22de-paidview-graphCircle2IPad _172a0c73-paidview-graphCircleInvisible _06a48dfd-paidview-graphCircle2 _dcc27901-paidview-graphCircle","graphCounter":"_f6d15ec9-paidview-graphCounter","graphCounterWin":"_88bb6bb5-paidview-graphCounterWin","opacity90":"_0c71a17d-paidview-opacity90","opacity80":"_4b2a47bc-paidview-opacity80","opacity70":"_81416aba-paidview-opacity70","opacity60":"_026bff35-paidview-opacity60","opacity50":"_026a825d-paidview-opacity50","headerTitle":"_f5a045d4-paidview-headerTitle","paidViewIPad":"_db5a6d7c-paidview-paidViewIPad","paidView":"_da62b330-paidview-paidView","contentWrapper":"_4ff01e36-paidview-contentWrapper","secondaryCta":"_07cef47a-paidview-secondaryCta"}')},MKsy:function(e,t,n){"use strict";n.d(t,"a",(function(){return Et}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("9ZiH"),s=n("p622"),c=n("B8yO"),l=n("cZKX"),u=n("DTwm"),d=n("OwvP"),p=n("xk6L"),m=n("111I"),f=n("itj6"),h=n("vb6D"),g=n("DKll"),b=n("yIk2"),v=n("N4IK"),y=n("7IMz"),O=n("nWMp"),_=n("TPDJ"),C=n("0kuo");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t,n,r){if(n.some((function(e){return"positionedClick"===e.type}))){var i=n[0];switch(i.source){case"collapsedCard":return 1===t.alerts.length?{type:f.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:t.alerts[0]},clickPoint:i.sourcePosition}:{type:f.b.Type.miniItemClick,id:t.id};case"list":return{type:f.b.Type.listItemClick,clickPoint:i.sourcePosition};default:return{type:f.b.Type.miniItemClick,id:t.id}}}else if(n.some((function(e){return"hoverStateChanged"===e.type}))){var a=n[0];return{type:f.b.Type.hover,id:t.id,kind:a.hovered?"hover":"unhover"}}return{type:f.b.Type.sduiCardAction,sourceId:e,cardId:t.id,actions:n,scope:r}}var E=function(e){var t=e.inert,n=S(e,["inert"]),r=c.useRef(null);return y.a.useSubscriptionTo(t.pipe(p.a.tap((function(e){var t,n;return e?null===(t=r.current)||void 0===t?void 0:t.setAttribute("inert","true"):null===(n=r.current)||void 0===n?void 0:n.removeAttribute("inert")})))),c.createElement(d.a.div,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({mount:r},n))},j=m.b.Grid.make((function(e){var t=e.view,n=e.slots;return c.createElement(E,{className:b.b.chooseWhen(t("hovered"))(B.listWrapperFocused,B.listWrapper),inert:t("inert")},n.card)})),x=m.b.Grid.make((function(e){var t=e.view,n=e.slots;return c.createElement(E,{className:B.listWrapperFocused,inert:t("inert")},n.card)})),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a;return m.b.Node.make((function(r){var i=r.view,a=r.notify,o=i("view").pipe(p.a.distinctUntilChanged((function(e,t){return e.equals(t)}))),s=[];return c.createElement(d.a.Fragment,null,o.pipe(p.a.map((function(r){return c.createElement(n,{key:r.id,sduiRootId:r.id,content:r.cardDSL.value,designSystem:t,notify:function(e,t,n){return a(k(e,r,t,n))()},transitions:s,prevContent:r.prevCardDSL,onAnimationEnd:u.constVoid,onMount:u.constVoid,longFormCardState:{viewKind:e}})}))))}))},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Knot.make(j,{card:A("collapsed",e,t)})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Knot.make(x,{card:A("focused",e,t)})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Union.make("kind",{collapsed:I(e,t),focused:T(e,t),hidden:m.b.Node.empty})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return _.a.make(M(e,t))},N={background:v.e.Base.Surface.Primary.Default,borderRadius:O.a.rem(v.d.Radius1)},B=O.a.stylesheet({listWrapper:[N,{border:"0.5px solid ".concat(v.e.Base.Boundaries.Primary.Default)}],listWrapperFocused:[N,v.c.Elevation300]});function L(e){switch(e){case"focused":case"expanded":case"success":case"presuccess":case"feedback_form":return"focused";case"added":case"rendered":return"collapsed";case"hidden":case"removed":case"muted":return"hidden";default:return Object(C.c)(e)}}var F=n("dn08"),R=n("mgiE");function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V,U,W=function(e){return function(t){var n=function(n){return p.a.combineLatestStatic([n.pipe(p.a.pluck("action"),p.a.tap((function(t){return e.next(t)})),p.a.filter((function(e){return"hover"===e.type})),p.a.map((function(e){return"hover"===e.kind})),p.a.startWith(!1)),t]).pipe(p.a.map((function(e){var t=H(e,2),n=t[0],r=t[1];return{root:{inert:r.positionState.inert,hovered:n},card:{kind:"alertRefSDUI",view:r}}})))},r={collapsed:n,focused:n,hidden:Object(u.constant)(p.a.of(void 0))},i=m.a.composeUnion(r,(function(){return t.pipe(p.a.map((function(e){return{kind:L(e.visualState.transition.type)}})))})),a=m.a.composeUnion(r,(function(){return t.pipe(p.a.map((function(e){return{kind:Object(u.pipe)(e.visualState.from,R.g.fold((function(){return"collapsed"}),L))}})))}));return F.a.flow(t,i,a)}};(U=V||(V={})).ListCard=A,U.AnimatedListCard=P,U.animatedListCardFlowFactory=W,U.CollapsedCardWrapper=j,U.FocusedCardWrapper=x,U.SingleCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Node.make((function(n){var r=n.view,i=n.notify,a=r("view");return c.createElement(d.a.Fragment,null,a.pipe(p.a.distinctUntilChanged((function(e,t){return e.equals(t)})),p.a.map((function(n){return c.createElement(t,{key:n.id,sduiRootId:n.id,content:n.cardDSL.value,designSystem:e,notify:function(e,t,r){return i({type:f.b.Type.sduiCardAction,sourceId:e,cardId:n.id,actions:t,scope:r})()},transitions:l.bc(n.transitions),prevContent:n.prevCardDSL,onAnimationEnd:i({type:f.a.Kind.completeTransitionTo,id:n.id,transitionId:n.visualState.transitionId}),onMount:u.constVoid})}))))}))},U.SquashedListCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return m.b.Node.make((function(n){var r=n.view,i=n.notify,a=r("view").pipe(p.a.distinctUntilChanged((function(e,t){return e.equals(t)}))),o=new p.a.Subject;return y.a.useSubscriptionTo(o.pipe(p.a.tap((function(e){return i(e)()})))),m.b.mount(P(e,t),Object(u.pipe)(W(o)(a),F.a.extend((function(e){return o.next(e)}))))}))};var z,G=n("yQCL"),q=n("024v"),K=n("tiWp"),$=n("Hj2R"),Z=n("D2TP"),Y=n("pQeY"),X=n("wnit"),Q=n("/56L"),J=n("Njvd"),ee=n("koAX"),te=n("LqiM");(z||(z={})).Card=e=>m.b.Node.make(({view:t})=>{const n=t("view"),r=Object(J.c)(n,e),i=Object(J.a)(n,e);return c.createElement(d.a.Fragment,null,n.pipe(p.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),p.a.map(t=>c.createElement(te.a.Card,{miniCard:m.b.mount(ee.b,r),fullCard:m.b.mount(ee.a,i),actions:e,card:t}))))});var ne=n("9bwL"),re=n("CBmo"),ie=n("jEie"),ae=n("NDcT"),oe=n("fC5a"),se=n("ySi0"),ce=n("wuWi"),le=n("sX1a"),ue=n("ZDrO"),de=n("VY6k"),pe=n("2swC"),me=n("PltQ"),fe=n("NbNH");const he={display:"block",color:pe.a.CoreNeutral90,fontWeight:"bold"},ge={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},be={display:"block",color:pe.a.CoreBlue50,fontWeight:"normal"},ve={color:me.k},ye={color:me.k},Oe={color:pe.a.CoreCyan50,fontWeight:"bold",fontSize:O.a.rem(.9375)},_e={marginTop:O.a.rem(.3),color:pe.a.CoreNeutral90},Ce={position:"relative",marginLeft:O.a.rem(-.5)},we={position:"absolute",top:0,left:0,display:"flex",margin:`${O.a.rem(.5625)} 0 0 ${O.a.rem(.4375)}`,color:me.k,pointerEvents:"none"},Se={display:"block",padding:`${O.a.rem(1.4375)} 0 0 ${O.a.rem(.4375)}`,borderRadius:O.a.rem(fe.t),backgroundColor:me.f,transitionDuration:O.a.seconds(0),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:me.g}}},ke={display:"flex",color:pe.a.CoreBlue50,pointerEvents:"all",alignItems:"center"},Ee={minWidth:O.a.rem(1),minHeight:O.a.rem(1),stroke:pe.a.CoreBlue50},je={width:O.a.percent(100),pointerEvents:"all"},xe={color:pe.a.CoreBlue50,textDecoration:"none"},Ae={position:"absolute",right:0,bottom:0,marginLeft:O.a.rem(.5)},Ie={$nest:{"& i":{color:me.j}}},Te=O.a.stylesheet({plagiarismTitle:[he],plagiarismTitleContent:[ge],titleUrl:[ge,be],titleBy:[ve],plagiarismP2:[ye],percent:[Oe],textToCopy:[ge,_e],referenceWrapper:[Ce],referenceData:[we],copyableReference:[Se],citationStyleSelect:[ke],citationStyleIcon:[Ee],citationStyleDdlButton:[je],descriptionLink:[xe],expandBtn:[Ae],more:[Ie]}),Me=e=>ue.d.setInnerHTML(e,{allowedTags:["b","i","br"]}),Pe=({card:e})=>{const t=c.useContext(ae.a.Context);return c.createElement(ce.a,{className:Te.plagiarismP2},t.plagiarism.percentileDescription(c.createElement("span",{className:Te.percent},e.meta.percentile,"%")))},Ne=({title:e,url:t})=>c.createElement(ce.j,{className:Te.plagiarismTitle},c.createElement("div",Object(i._)({className:Te.plagiarismTitleContent},Me(e))),Object(K.pipe)(t,R.g.map(e=>c.createElement(oe.a,{name:"url-button",href:e,target:"_blank",rel:"noopener noreferrer",styleType:le.Typography.Type.Base,className:Te.titleUrl},e)),R.g.toNullable)),Be=({title:e,authors:t})=>c.createElement(ce.j,{className:Te.plagiarismTitle},c.createElement("div",Object(i._)({className:Te.plagiarismTitleContent},Me(e))),Object(K.pipe)(t,R.g.map(e=>c.createElement(ce.a,{className:Te.plagiarismTitleContent}," ",c.createElement("span",{className:Te.titleBy},"by")," ",c.createElement("span",Me(e)))),R.g.toNullable)),Le=({alert:e})=>"publication"===e.plagiarismType.source?c.createElement(Be,{title:e.title,authors:e.plagiarismType.authors}):c.createElement(Ne,{title:e.title,url:e.plagiarismType.url}),Fe=()=>{const e=c.useContext(ae.a.Context);return c.createElement(ce.a,null,e.plagiarism.cardDescription(Object(de.a)(Te.descriptionLink)))},Re=({card:e,dismissActions:t})=>{const n=c.useContext(ae.a.Context),r=e.alerts.map(e=>e.id);return c.createElement(oe.a.Ghost,{name:"ignore",title:n.dismiss,"aria-label":n.dismiss,onClick:ue.d.callOnce(()=>t.next({type:f.d.Kind.dismissBatch,alerts:r}))},c.createElement(se.d.Ignore,null))},De=({visualState:e})=>c.createElement(ne.b,{visualState:e,className:Te.more},c.createElement(Fe,null));var He=n("eM7Q");const Ve=({card:e,actions:t})=>c.createElement(He.a,{onLeftClick:()=>t.next({type:f.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"left"}),onRightClick:()=>t.next({type:f.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"right"}),currentMatch:e.activeAlertIndex,totalMatch:e.alerts.length,style:{}});var Ue=n("+vYo"),We=n("RRF2"),ze=n("L8Yl"),Ge=n("VrFq"),qe=n("CRC+");const Ke=({textToCopy:e,children:t})=>c.createElement(Ge.a.Context.Consumer,null,n=>{return c.createElement(oe.a.Flat,{key:"copy_title",name:"copy_title",title:"Click to copy",tag:ze.b.div,className:Te.copyableReference,onClick:()=>n(e,"referenceCopied")},t,c.createElement("div",Object(i._)({className:Te.textToCopy},(r=e,ue.d.setInnerHTML(r,{allowedTags:["b","i","br"]})))));var r}),$e={mla:"MLA",apa:"APA",chicago:"Chicago"},Ze=We.e.keys($e);class Ye extends c.Component{static _renderPublication(e){const t=Ue.a.create("mla");return c.createElement(d.a.div,{key:"publication",className:Te.referenceWrapper},t.view(n=>c.createElement(c.Fragment,null,c.createElement(Ke,{key:"rf1"+n,textToCopy:e.citationStyle[n]}),c.createElement(ce.l,{className:Te.referenceData},c.createElement(ae.a.Context.Consumer,null,({plagiarism:e})=>e.publicationReferenceDescription(c.createElement(qe.a,{vAlign:"top",name:"plagiarism",label:c.createElement(oe.a,{name:"citation-style-select",active:!1,className:Te.citationStyleSelect,tag:ze.b.div},$e[n])},Ze.map(e=>c.createElement(oe.a.Flat,{className:Te.citationStyleDdlButton,key:e,name:"citation-button-"+e,active:t.view(t=>t===e),onClick:()=>t.set(e)},$e[e])))))))))}static _renderWeb(e,t){return c.createElement("div",{key:"web",className:Te.referenceWrapper},c.createElement(Ke,{textToCopy:e+Object(K.pipe)(t.url,R.g.fold(()=>"",e=>". "+e))},c.createElement(ae.a.Context.Consumer,null,({plagiarism:e})=>c.createElement(ce.l,{className:Te.referenceData},e.webReferenceDescription))))}render(){const e=this.props.alert;return"publication"===e.plagiarismType.source?Ye._renderPublication(e.plagiarismType):Ye._renderWeb(e.title,e.plagiarismType)}}const Xe=({card:e,actions:t})=>c.createElement(re.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:f.b.Type.alertCardShow,cardType:f.b.CardType.defaultCard,alertId:e.activeAlert.id}),theme:Object(ie.b)(e.renderOptions),body:c.createElement(c.Fragment,null,c.createElement(Pe,{card:e}),c.createElement(Le,{alert:e.activeAlert}),c.createElement(Ye,{alert:e.activeAlert})),mainActions:c.createElement(Re,{card:e,dismissActions:t}),footer:c.createElement(De,{visualState:e.visualState}),navigation:c.createElement(Ve,{actions:t,card:e}),subActions:c.createElement(ne.a,{actions:t,card:e,mode:"mini"})});var Qe,Je=n("4GyQ"),et=n("TKPA"),tt=n("KH+i");!function(e){e.Card=({card:e,actions:r})=>tt.a.Density.matchL(()=>c.createElement(t,{card:e,actions:r}),()=>c.createElement(n,{card:e,actions:r}),()=>c.createElement(n,{card:e,actions:r}))(e.renderOptions.layoutDensity);const t=({card:e,actions:t})=>{const n=e.alerts[0];return c.createElement(te.a.MiniContrast,Object(a._)(Object(i._)({cardId:e.id,getActiveAlert:()=>n},Object(Je.c)(mt.wrapper,mt.dot,mt.dotOutcomesPlagiarism)),{actions:t,inert:e.positionState.inert,sduiStyle:e.renderOptions.features.has(tt.a.Features.sduiContainerStyle)}),c.createElement("div",{className:mt.miniContainer},c.createElement("span",Object(i._)({key:"title"},Object(Je.c)(mt.text,"publication"===n.plagiarismType.source&&mt.fullText)),n.title),"web"===n.plagiarismType.source?Object(K.pipe)(n.plagiarismType.url,R.g.map(We.f.urlToDomain),R.g.filter(et.n),R.g.map(e=>c.createElement("span",{key:"url",className:mt.domain}," — ",e)),R.g.toNullable):Object(K.pipe)(n.plagiarismType.authors,R.g.map(e=>c.createElement("span",{key:"publication",className:mt.publication}," — ",e)),R.g.toNullable)))},n=({card:e,actions:t})=>{const n=e.alerts[0],r="web"===n.plagiarismType.source?Object(K.pipe)(n.plagiarismType.url,R.g.map(We.f.urlToDomain),R.g.filter(et.n)):n.plagiarismType.authors;return c.createElement(te.a.Mini,Object(a._)(Object(i._)({cardId:e.id,getActiveAlert:()=>n},Object(Je.c)(ot.wrapper,mt.dotOutcomesPlagiarism,Object(K.pipe)(r,R.g.fold(()=>ot.dotInTheMiddle,()=>ot.dot)))),{actions:t,inert:e.positionState.inert}),c.createElement("div",{className:ot.miniContainer},Object(K.pipe)(r,R.g.map(e=>c.createElement("span",{className:ot.subTitle},e)),R.g.toNullable),c.createElement("span",Object(i._)({key:"title"},Object(Je.c)(ot.text)),n.title)))}}(Qe||(Qe={}));const nt={overflow:"hidden",color:pe.a.CoreNeutral90,textOverflow:"ellipsis"},rt={height:O.a.rem(3.5)},it={overflow:"hidden",marginBottom:O.a.rem(-.25),textOverflow:"ellipsis",fontSize:O.a.rem(.75)},at={$nest:{"&:before":{top:O.a.rem(.85),bottom:0}}},ot=O.a.stylesheet({text:[nt],wrapper:[rt],miniContainer:[{display:"flex",flexDirection:"column"}],dotInTheMiddle:[{top:0,bottom:0,left:0}],subTitle:[it],dot:[at]}),st={overflow:"hidden",color:pe.a.CoreNeutral90,textOverflow:"ellipsis"},ct={maxWidth:O.a.percent(100),flexShrink:0},lt={height:O.a.rem(3)},ut={overflow:"hidden",maxWidth:O.a.percent(100),textOverflow:"ellipsis",flexShrink:0},dt={$nest:{"&:before":{top:O.a.px(1),bottom:0}}},pt={$nest:{"&:before":{backgroundColor:pe.a.CoreCyan50}}},mt=O.a.stylesheet({text:[st],fullText:[ct],wrapper:[lt],miniContainer:[{display:"flex"}],domain:[ut],publication:[{overflow:"hidden",textOverflow:"ellipsis"}],dot:[dt],dotOutcomesPlagiarism:[pt]});var ft,ht;!function(e){function t(e){return{mini:()=>e,full:()=>e,hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for PlagiarismCard");default:Object(C.c)(e)}}e.flow=function(e){return m.a.composeUnion(t(e),()=>e.pipe(p.a.map(e=>({plagiarismCardKind:n(e.visualState.transition.type)}))))},e.shadeFlow=function(e){return m.a.composeUnion(t(e),()=>e.pipe(p.a.map(e=>({plagiarismCardKind:Object(u.pipe)(e.visualState.from,R.g.fold(()=>"hidden",n))}))))}}(ft||(ft={})),function(e){e.Card=m.b.Node.make(({view:e,notify:r})=>{const i=e("view"),a=new p.a.Subject;return y.a.useSubscriptionTo(a.pipe(p.a.tap(e=>r(e)()))),m.b.mount(_.a.make(function(e){return m.b.Union.make("plagiarismCardKind",{mini:t(e),full:n(e),hidden:m.b.Node.empty})}(a)),Object(u.pipe)(F.a.flow(i,ft.flow(i),ft.shadeFlow(i),e=>e.activeAlert.id),F.a.extend(e=>a.next(e))))});function t(e){return m.b.Node.make(({state:t})=>c.createElement(d.a.Fragment,null,t.pipe(p.a.map(t=>c.createElement(Qe.Card,{card:t,actions:e})))))}function n(e){return m.b.Node.make(({state:t})=>c.createElement(d.a.Fragment,null,t.pipe(p.a.map(t=>c.createElement(Xe,{card:t,actions:e})))))}}(ht||(ht={}));var gt,bt,vt=n("Wj65"),yt=n("TDJj"),Ot=n("wsul");!function(e){function t(e,t){return{mini:m.a.fromSideEffect(e=>{"onClick"===e.action&&t.next({type:f.b.Type.miniItemClick,id:Ot.a.id})},e),full:m.a.fromSideEffect(e=>{"upgrade"===e.kind&&t.next({type:"upgradeHookAction",kind:yt.a.ActionsKind.onUpgrade}),"onUpgradeButtonMount"===e.kind&&t.next({type:"upgradeHookAction",kind:yt.a.ActionsKind.onUpgradeButtonMount,element:e.element})},e),hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for UpgradeHookCard");default:Object(C.c)(e)}}e.flow=function(e,r){return Object(u.pipe)(m.a.composeUnion(t(e,r),()=>e.pipe(p.a.map(e=>({cardKind:n(e.visualState.transition.type)})))))},e.shadeFlow=function(e,r){return m.a.composeUnion(t(e,r),()=>e.pipe(p.a.map(e=>({cardKind:Object(u.pipe)(e.visualState.from,R.g.fold(()=>"hidden",n))}))))}}(gt||(gt={})),(bt||(bt={})).ListCard=m.b.Node.make(({view:e,notify:t})=>{const n=Object(u.pipe)(e("view"),p.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),r=new p.a.Subject;return y.a.useSubscriptionTo(r.pipe(p.a.tap(e=>t(e)()))),m.b.mount(_.a.make(m.b.Union.make("cardKind",{mini:Object(u.pipe)(vt.a,m.b.contramapState(e=>({alertsCount:e.alerts.length}))),full:Object(u.pipe)(yt.b,m.b.contramapState(e=>({showCloseButton:!1,alertsState:{count:e.alerts.length,alerts:e.groupedAlerts}}))),hidden:m.b.Node.empty})),Object(u.pipe)(F.a.flow(n,gt.flow(n,r),gt.shadeFlow(n,r)),F.a.extend(e=>r.next(e))))});var _t,Ct,wt=n("UUXv"),St=n("IrSI");!function(e){function t(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for UpgradeHookCard");default:Object(C.c)(e)}}e.flow=function(e,n){return Object(u.pipe)(m.a.composeUnion({mini:m.a.fromSideEffect(e=>{"onClick"===e.action?n({type:f.b.Type.miniItemClick,id:Ot.a.id})():e.action.kind===St.a.ActionsKind.onMiniShow&&n({type:"upgradeHookAction",kind:St.a.ActionsKind.onMiniShow})()},e),full:m.a.fromSideEffect(e=>{e.kind===wt.a.ActionsKind.onFullShow?n({type:"upgradeHookAction",kind:wt.a.ActionsKind.onFullShow})():e.kind===wt.a.ActionsKind.onUpgrade?n({type:"upgradeHookAction",kind:wt.a.ActionsKind.onUpgrade})():e.kind===wt.a.ActionsKind.onContinueWithFreePlan&&n({type:"upgradeHookAction",kind:wt.a.ActionsKind.onContinueWithFreePlan})()},e),hidden:()=>e},()=>e.pipe(p.a.map(e=>({cardKind:t(e.visualState.transition.type)})))))},e.shadeFlow=function(e){return m.a.composeUnion({mini:()=>e,full:()=>e,hidden:()=>e},()=>e.pipe(p.a.map(e=>({cardKind:Object(u.pipe)(e.visualState.from,R.g.fold(()=>"hidden",t))}))))}}(_t||(_t={})),function(e){e.ListCard=m.b.Node.make(({view:e,notify:r})=>{const i=Object(u.pipe)(e("view"),p.a.distinctUntilChanged((e,t)=>e.alerts.length===t.alerts.length&&e.groupedAlerts===t.groupedAlerts&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type));return m.b.mount(_.a.make(m.b.Union.make("cardKind",{mini:t,full:n,hidden:m.b.Node.empty})),Object(u.pipe)(F.a.flow(i,_t.flow(i,r),_t.shadeFlow(i)),F.a.extend(e=>r(e)())))});const t=Object(u.pipe)(St.b,m.b.contramapState(e=>({alertsCount:e.alerts.length}))),n=Object(u.pipe)(wt.b,m.b.contramapState(e=>({alertsState:{count:e.alerts.length,alerts:e.groupedAlerts,documentType:e.documentType}})))}(Ct||(Ct={}));var kt,Et,jt=n("KZgA"),xt=n("SOPW"),At=n("8XoQ"),It=n("4wwO"),Tt=n("/1wo"),Mt=n("+ySe"),Pt=n("eAYH"),Nt=n("iVUr"),Bt=n("mDV6"),Lt=n("e92m"),Ft=n("d3CI"),Rt=n("wdnv"),Dt=n("6YEU"),Ht=n("To5e"),Vt=n("A/YC"),Ut=n("hdYN"),Wt=n("ZCrp"),zt=n.n(Wt),Gt=n("UnJg"),qt=function(e){var t=e.title,n=e.onClick,r=Object(ie.b)({layoutDensity:"minimal"});return c.createElement(Ut.b,Object(a._)(Object(i._)({},Object(Je.c)(r.container,Kt.container)),{onClick:n}),c.createElement("div",{className:r.wrapper},c.createElement(le.Typography.Base,{className:Kt.label},c.createElement("img",{className:Gt.a.titleIcon,src:zt.a,alt:"","aria-hidden":!0}),t)))},Kt=O.a.prefixedStylesheet("draft_ai_mini_card",{label:[{color:pe.a.CoreNeutral90,textOverflow:"ellipsis",position:"relative",lineHeight:O.a.rem(2),marginLeft:O.a.rem(1),userSelect:"none"}],container:[{cursor:"pointer"}]});(kt||(kt={})).DraftAI=m.b.Node.make((function(e){var t=e.view,n=e.notify,r=t("view"),i=c.useRef(null),a=c.useContext(Ht.a.Context).draftAI.cardTitle;return c.createElement(d.a.div,{forwardRef:i,mount:function(e){return n({kind:Vt.b.Event.Kind.draftAIMiniCardMount,node:R.g.fromNullable(e)})()}},r.pipe(p.a.distinctUntilChanged(Vt.a.eq.equals),p.a.mapTo(c.createElement(qt,{title:a,onClick:n({kind:Vt.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:i.current?i.current.getBoundingClientRect().top:0}})}))))})),function(e){var t=function(e,t,n,i,a,s,c){var l;return Ft.e.Items.mapper((function(e){return e.kind}),(l={},Object(r._)(l,xt.a.Kind,e),Object(r._)(l,It.a.Kind,t),Object(r._)(l,Dt.a.Kind,n),Object(r._)(l,Lt.a.Kind,i),Object(r._)(l,Vt.a.Kind,a),Object(r._)(l,Ot.a.Kind,s),Object(r._)(l,o.a.Kind,c),l))},n=function(e){return e.kind===xt.a.Kind},c=function(e){return e.kind===It.a.Kind},l=function(e){return e.kind===Dt.a.Kind},d=function(e){return e.kind===Lt.a.Kind},f=function(e){return e.kind===Vt.a.Kind},h=function(e){return Ot.a.isUpgradeHookItem(e)},g=function(e){return e.kind===o.a.Kind},b=function(e){return n(e)&&Pt.b.isEthicalAIItem(e)},v=function(e){return c(e)&&Pt.b.isEthicalAIItem(e)},y=function(e){return{viewState:function(t,n){return function(n){switch(n.kind){case xt.a.Kind:return{view:n,isLastCard:t,kind:"alertCard",visibleViewportHeight:R.g.none};case It.a.Kind:return{view:n,isLastCard:t,kind:"alertsBundle",visibleViewportHeight:R.g.none};case Dt.a.Kind:return{view:n,kind:"plagiarismCard"};case Lt.a.Kind:return{view:n,kind:"bulkAccept"};case Vt.a.Kind:return{view:n,kind:"draftAI"};case Ot.a.Kind:return e.denali.premiumUphookCardUI?{view:n,kind:"upgradeHookCardExp"}:{view:n,kind:"upgradeHookCard"};case o.a.Kind:return{kind:"alertRefSDUI",view:n};default:return Object(C.c)(n)}}}}},O=function(e){var n=xt.a.Capabilities.getChangePosition(e),r=Dt.a.Capabilities.getChangePosition();return{changePosition:function(e){return t(n.changePosition(e),It.a.changePosition(e),r.changePosition(e),(function(t){return Lt.a.changePosition(t)(e)}),(function(t){return Vt.a.changePosition(t)(e)}),Ot.a.Capabilities.changePosition(e),o.a.Capabilities.changePosition(e))}}},_=function(){return{updateUserInput:function(e){return t(xt.a.updateUserInput(e),It.a.changeUserInput(e),u.identity,u.identity,u.identity,u.identity,u.identity)}}},w=function(e,n){var r=xt.a.Capabilities.getAnimatable(e),i=It.a.Capabilities.getAnimatable(n),a=Dt.a.Capabilities.getAnimatable();return{shouldAnimatePositionChange:function(e,n){return t(u.constTrue,u.constTrue,u.constTrue,u.constTrue,u.constTrue,u.constTrue,(function(t){return!(n&&Nt.a.PositionState.verticalEq.equals(e,t.positionState)&&!Object(et.b)(Bt.a.isAnimatable,Bt.a.isInTransition)(t))&&(0!==t.positionState.height&&!Object(et.b)(Bt.a.isAnimatable,Bt.a.isAnimatingAdded)(t))}))},completeTransition:function(e){return t(r.completeTransition(e),i.completeTransition(e),a.completeTransition(e),(function(t){return Lt.a.completeTransition(t,e)}),u.identity,Ot.a.Capabilities.animatable.completeTransition(e),o.a.Capabilities.animatable.completeTransition(e))},transitionTo:function(e){return t(r.transitionTo(e),i.transitionTo(e),a.transitionTo(e),(function(t){return Lt.a.transitionTo(t,e)}),u.identity,Ot.a.Capabilities.animatable.transitionTo(e),o.a.Capabilities.animatable.transitionTo(e))},changeVisualState:function(e){return t(r.changeVisualState(e),i.changeVisualState(e),a.changeVisualState(e),Lt.a.changeVisualState(e),u.identity,Ot.a.Capabilities.animatable.changeVisualState(e),o.a.Capabilities.animatable.changeVisualState(e))}}},S=function(e,n,r,s){var c=It.a.getCardHydrator(s),l=It.a.getSelect(n,r,c),d=It.a.getSelectByAlert(n,r,c),p=xt.a.Capabilities.getSelect(e),m=Dt.a.Capabilities.getSelect(n,r),f=Ot.a.Capabilities.getSelect(n,r);return{select:function(e,n){return t(p.select(e,n),l(e,n),m.select(e,n),(function(t){return Lt.a.select(t,e)}),u.identity,f.select(e,n),o.a.Capabilities.select.select(e,n))},selectByAlert:function(e,n,r){return t(p.selectByAlert(e,n,r),d(n,e,r),m.selectByAlert(e,n,r),(function(t){return Lt.a.select(t,e)}),u.identity,f.selectByAlert(e,n,r),Object(u.flow)(o.a.Capabilities.select.selectByAlert(e,n,r),(function(e){return Object(K.pipe)(e,T(R.g.some(n)),R.g.getOrElse((function(){return Object(a._)(Object(i._)({},e),{activeAlert:n.alert,activeHighlightIndex:n.highlightIndex,meta:At.a.empty(void 0)})})))})))},unselect:function(e,n){return t(p.unselect(e,n),It.a.unselect(e,n),m.unselect(e,n),(function(t){return Lt.a.unselect(t,e)}),u.identity,f.unselect(e,n),o.a.Capabilities.select.unselect(e,n))}}},k=function(e,r,i,a){return{removeAlertFromItem:function(o,s){return t((function(t){return xt.a.Capabilities.getRemoveAlerts(e,s.itemsOrd)(o,Ft.k.getActiveItemOfType(n)(s))(t)}),(function(e){return It.a.Capabilities.getRemoveAlertsCapability(r,i,a,s.itemsOrd)(o,Ft.k.getActiveItemOfType(c)(s))(e)}),Dt.a.Capabilities.getRemoveAlert(Ft.k.getActiveItem,s.itemsOrd).removeAlertFromItem(o,s),u.identity,u.identity,u.identity,u.identity)}}},E=function(e,n,r){var i=xt.a.Capabilities.getRemove(e);return{remove:function(e,a){return t(i.remove(e,a),(function(t){return Boolean(e(t))?It.a.Capabilities.getRemove(n,r)([t.activeAlert],a(t))(t):t}),(function(t){return Boolean(e(t))?Dt.a.Capabilities.remove([t.activeAlert],a(t))(t):t}),u.identity,u.identity,Ot.a.Capabilities.remove.remove(e,a),o.a.Capabilities.remove.remove(e,a))}}},j=function(e,n,r,i){var a=xt.a.Capabilities.getUpdateWithAlert(e),o=It.a.Capabilities.getUpdatableWithAlertsCapability(n,i),s=Dt.a.Capabilities.getUpdateWithAlert(r);return{updateWithAlerts:function(e){return t(a.updateWithAlerts(e),o(e),s.updateWithAlerts(e),u.identity,u.identity,u.identity,u.identity)}}},x=function(e){var n=Tt.a.getCardSelections(e);return{nextAlert:t(n.nextAlert,n.nextAlert,n.nextAlert,(function(){return R.g.none}),(function(){return R.g.none}),(function(){return R.g.none}),(function(){return R.g.none})),prevAlert:t(n.prevAlert,n.prevAlert,n.prevAlert,(function(){return R.g.none}),(function(){return R.g.none}),(function(){return R.g.none}),(function(){return R.g.none}))}},A=(e.hasItemUnion=Ft.e.hasItems,Object(et.p)(n,c,l)),I=e.isSelectableItem=Object(et.p)(n,c,l,g),T=function(e){return function(t){return Object(K.pipe)(e,R.g.chain((function(e){return Object(K.pipe)(o.a.Capabilities.toAlertItem(t),R.g.map((function(t){return Object(a._)(Object(i._)({},t),{activeHighlightIndex:e.highlightIndex})})))})),R.g.alt((function(){return Pt.a.is(t)?R.g.some(t):o.a.Capabilities.toAlertItem(t)})))}},M=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(g)(e),R.g.chain(T(R.g.none)))};e.getActiveItemWithAlert=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(A)(e),R.g.alt((function(){return M(e)})))},e.getActiveAlignableItem=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(Object(et.p)(n,c,l,d,h))(e),R.g.alt((function(){return M(e)})))},e.getActiveFocusableItem=function(e){return Object(K.pipe)(Ft.k.getActiveItemOfType(Object(et.p)(n,h,c,l,Object(et.b)(d,(function(e){return e.hasMarkFocusable}))))(e),R.g.alt((function(){return M(e)})))},e.checksFeedItemsMapper=t,e.isAlertCard=n,e.isAlertsBundle=c,e.isPlagiarismCard=l,e.isBulkAcceptItem=d,e.isDraftAIItem=f,e.isUpgradeHook=h,e.isAlertRefSDUI=g,e.isEthicalAIAlertCard=b,e.isEthicalAIAlertsBundle=v;e.defaultOrd=Object(G.fold)(R.h.getMonoid())([Object(K.pipe)(R.h.ordBoolean,R.h.contramap(Object(u.not)(b))),Object(K.pipe)(R.h.ordBoolean,R.h.contramap(h)),Object(K.pipe)(R.h.ordBoolean,R.h.contramap(n)),xt.a.ord]);e.sduiToChecksFeedOrd=function(e){return function(t){return R.h.fromCompare((function(n,r){return s.a.isSDUIItem(n)&&s.a.isSDUIItem(r)?s.a.getOrd(t).compare(n,r):P(e).compare(n,r)}))}};var P=e.getByActiveAlertPositionOrd=function(e){return Object(G.fold)(R.h.getMonoid())([Object(K.pipe)($.d.ordHRange,R.h.contramap((function(t){return Object(K.pipe)(e.hasActiveAlert(t),R.g.map((function(e){return e.alert})),R.g.getOrElse((function(){return{getHighlightRanges:function(){return[{start:0,end:0}]}}})))})))])};e.byActiveAlertPositionOrd=Object(G.fold)(R.h.getMonoid())([Object(K.pipe)(R.h.ordBoolean,R.h.contramap(h)),Object(K.pipe)(R.h.ordBoolean,R.h.contramap(n)),xt.a.ord]),e.bundlesOrd=Object(G.fold)(R.h.getMonoid())([Object(K.pipe)(R.h.ordBoolean,R.h.contramap(Object(u.not)(v))),Object(K.pipe)(R.h.ordBoolean,R.h.contramap(n)),It.a.ord]),e.item=function(e){return m.b.Union.make("kind",{alertCard:Y.a.Card(e),alertsBundle:Q.a.Card(e),plagiarismCard:ht.Card,bulkAccept:z.Card(e),draftAI:kt.DraftAI,upgradeHookCard:bt.ListCard,upgradeHookCardExp:Ct.ListCard,alertRefSDUI:V.SquashedListCard()})},e.upgradeHookOnlyItem=function(){return m.b.Union.make("kind",{alertCard:m.b.Node.empty,upgradeHookCardExp:Ct.ListCard})};e.viewState=y;e.createCardListFlow=function(e,t,n){return Object(X.b)((function(r){switch(r.key){case"draftAI":Object(K.pipe)(t,R.g.tap((function(e){e.next(r.action)})));break;case"plagiarismCard":e.actionEvents.next(r.action);break;case"upgradeHookCard":case"upgradeHookCardExp":switch(r.action.type){case"upgradeHookAction":Object(K.pipe)(n,R.g.tap((function(e){return e.next(r.action)})));break;default:e.actionEvents.next(r.action)}break;case"alertRefSDUI":e.actionEvents.next(r.action);break;default:Object(C.d)(r)}}))},e.listItemOrd=function(e){return Object(q.contramap)((function(e){return e.cell.item.view}))(e).compare};var N={equals:function(e,t){return e.kind===t.kind&&Nt.a.eqById.equals(e,t)}},B=function(e,t,n,i,a,s,c){return{equals:function(l,u){var d,p,m,f=(d={},Object(r._)(d,xt.a.Kind,e),Object(r._)(d,It.a.Kind,t),Object(r._)(d,Dt.a.Kind,n),Object(r._)(d,Lt.a.Kind,i),Object(r._)(d,Vt.a.Kind,a),Object(r._)(d,Ot.a.Kind,s),Object(r._)(d,o.a.Kind,c),d);return N.equals(l,u)&&(p=function(e){return e.kind},m=f,function(e,t){return m[p(e)].equals(e,t)})(l,u)}}},L=Object(G.fold)(R.c.getMonoid())([Bt.a.eq,Nt.a.verticalPositionEq,N]),F=e.equatable={structEq:B(xt.a.eq,It.a.eq,Dt.a.eq,Lt.a.eq,Vt.a.eq,Ot.a.eq,o.a.eq),idEq:B(N,N,N,N,N,N,N),visualStateEq:B(L,L,L,Lt.a.visualStateEq,Vt.a.eq,Ot.a.eq,o.a.eq)},D=e.cloneable=function(){var e=Nt.a.Capabilities.getPojoCloneable().clone;return{clone:t(xt.a.Capabilities.getCloneable().clone,e,e,Lt.a.clone,Vt.a.clone,e,e)}};e.changePosition=O,e.hasUserInput=_;var H=e.disposable={isScheduledToDispose:t((function(e){return Pt.b.willBeDisposed(e,e.removedAlertsIds)}),(function(e){return Pt.b.willBeDisposed(e,e.removedAlertsIds)}),(function(e){return Pt.b.willBeDisposed(e,e.removedAlertsIds)}),u.constFalse,u.constFalse,u.constFalse,o.a.Capabilities.disposable.isScheduledToDispose)},U=e.hidable={isHidden:t(Bt.a.isHidden,Bt.a.isHidden,Bt.a.isHidden,Bt.a.isHidden,(function(e){return"hidden"===e.visibilityState}),Bt.a.isHidden,Bt.a.isHidden)};e.animatableItem=w;var W=e.queries={isSelectableByAlert:function(e){return t((function(t){return Object(K.pipe)(t.lensId,R.g.exists((function(e){return e!==Z.a.SpecialId.Premium})))&&Pt.b.hasAlert(e.alert.id)(t)}),Pt.b.hasAlert(e.alert.id),Pt.b.hasAlert(e.alert.id),u.constFalse,u.constFalse,Pt.b.hasAlert(e.alert.id),Object(et.b)(o.a.Capabilities.hasAlerts.isSelectableByAlert(e),Object(u.not)(H.isScheduledToDispose)))},hasAlert:function(e){return t(Pt.b.hasAlert(e),Pt.b.hasAlert(e),Pt.b.hasAlert(e),Lt.a.hasAlert(e),u.constFalse,Pt.b.hasAlert(e),o.a.Capabilities.hasAlerts.hasAlert(e))},useReferenceHeightOnRemove:u.constFalse,hasActiveAlert:t(Pt.b.hasActiveAlert,Pt.b.hasActiveAlert,Pt.b.hasActiveAlert,R.g.empty,R.g.empty,Pt.b.hasActiveAlert,o.a.Capabilities.hasAlerts.hasActiveAlert)};e.select=S,e.removeAlert=k,e.remove=E,e.updateWithAlert=j;var J=e.releaseAlert=function(e,t,n,r){return Rt.a.Capabilities.getAlertReleaser(Object(i._)({},k(e,t,n,r),H))},ee=e.unselectable=function(e,t,n,r){return Rt.a.Capabilities.getUnselectable(Ft.k.getActiveItem,Object(i._)({},S(e,t,n,r),H))},te=e.selectableByAlert=function(e,t,n,r,a){return Rt.a.Capabilities.getSelectableByAlert((function(e){return Object(K.pipe)(e.items.find(Object(et.b)(Bt.a.isAnimatable,Bt.a.isFocused)),R.g.map(We.e.pick("value")))}),Object(i._)({},W,S(e,t,n,r),a.denali.feedUpgradeHook||a.denali.premiumUphookCardUI?{willShowChecksFeed:u.constTrue}:Rt.a.Capabilities.getHasChecksFeed(),H))},ne=e.selectableById=function(e,t,n,r){return Rt.a.Capabilities.getSelectableById(Ft.k.getActiveItem,Object(i._)({},S(e,t,n,r),H))},re=e.updateMeta=function(e){return{updateMeta:function(t){return Object(G.fold)(Object(G.getEndomorphismMonoid)())([Rt.a.Plagiarism.updateCardsWithLensMeta(e),Rt.a.Capabilities.getMetaUpdatable().updateMeta(t)])}}},ie=e.animatableFeed=function(e,t,n,r){return Rt.a.Capabilities.getAnimatable(e,Object(i._)({},k(e,t,n,r),w(e,r),Rt.a.Capabilities.getHasChecksFeed()))},ae=function(e){return["focused","expanded"].includes(e.visualState.transition.type)&&!Boolean(H.isScheduledToDispose(e))},oe=e.alignable={isValidToAlign:t(ae,ae,ae,ae,u.constFalse,ae,ae)};e.alertIterator=x;var se=e.itemReleaser=function(){return Rt.a.Capabilities.getItemReleaser()},ce=e.hasAlerts=Rt.a.Capabilities.getHasAlerts,le=(e.draftAITest=f,e.isInSuccess=Rt.a.WithSuccess.State.isInSuccess(H),e.isInGlobalSuccess=Rt.a.WithSuccess.State.isInGlobalSuccess(H),e.verifiable=function(){return Rt.a.Capabilities.getVerifiable(H)}),ue=(e.alignMarkToGetter=function(e,n,r){var i=jt.a.alignMarkToItem(e,n),a=Lt.a.alignMarkToBulkItem(e,n),o=Mt.a.ContentOffset.contentOffsetGetter();return function(e){return t(i(e),i(e),i(e),R.g.isSome(e.suggestedPosition)?a({suggestedPosition:R.g.unsafeGet(e.suggestedPosition)}):Lt.a.moveToViewportTop(n,o(!1,r.get())),(function(){return p.a.EMPTY}),(function(){return p.a.EMPTY}),i(e))}},e.alignItemToMarkGetter=function(e,n){var r=jt.a.alignItemToMark(e,n);return function(e){return t(r(e),r(e),r(e),(function(){return p.a.EMPTY}),(function(){return p.a.EMPTY}),r(e),r(e))}},{getFeatures:t((function(){return[]}),(function(){return[]}),(function(){return[]}),(function(){return[]}),(function(){return[]}),(function(){return[]}),(function(e){return o.a.Item.isBulkDismissSDUI(e)?[o.a.Features.BulkDismiss]:o.a.Item.isBulkAcceptSDUI(e)?[o.a.Features.BulkAccept]:[]}))});e.getCapabilities=function(e,t,n,r,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tt.b.Default;return Object(i._)({},y(o),H,U,F,_(),O(e),w(e,a),S(e,r,s,a),E(e,s,a),k(e,r,s,a),j(e,t,s,a),W,oe,J(e,r,s,a),ee(e,r,s,a),te(e,r,s,a,o),ne(e,r,s,a),re(n),ie(e,r,s,a),se(),le(),D(),ue,ce(x(r),r,(function(){return I}),Object(i._)({},W,H)))}}(Et||(Et={}))},Mi0J:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("0kuo"),a=n("PYgo"),o=n("xk6L"),s=n("itj6");!function(e){let t;!function(e){e.apply="apply",e.dismiss="dismiss",e.bulkUndo="bulkUndo",e.ignore="ignore",e.highlight="highlight",e.individualUndo="individualUndo",e.confirmed="confirmed",e.confirmedAll="confirmedAll"}(t=e.Kind||(e.Kind={})),e.isApply=function(e){return e.kind===t.apply},e.isBulkUndo=function(e){return e.kind===t.bulkUndo},e.isConfirmAll=function(e){return e.kind===t.confirmedAll},e.isHighlight=function(e){return e.kind===t.highlight},e.isIndividualUndo=function(e){return e.kind===t.individualUndo};e.create=(e,n)=>o.a.mergeStatic(e.pipe(o.a.filter(s.b.isBulkAction),o.a.map(e=>{switch(e.type){case s.b.Type.bulkApply:return{kind:t.apply,alertIds:e.alertIds};case s.b.Type.bulkDismiss:return{kind:t.dismiss};case s.b.Type.bulkHighlight:return{kind:t.highlight,alert:e.alert,clickPoint:e.clickPoint};case s.b.Type.bulkIgnore:return{kind:t.ignore,alertId:e.alertId};case s.b.Type.bulkIndividualUndo:return{kind:t.individualUndo,alertId:e.alertId};case s.b.Type.bulkLooksGood:return{kind:t.confirmedAll,alertIds:e.alertIds};case s.b.Type.bulkUndo:return{kind:t.bulkUndo,alertIds:e.alertIds};default:Object(i.c)(e)}})),n.pipe(o.a.filter(a.b.isBulkAction),o.a.map(e=>{switch(e.type){case a.b.Type.confirmed:return{kind:t.confirmed,alertId:e.alertId};case a.b.Type.undone:return{kind:t.individualUndo,alertId:e.alertHighlight.alert.id};default:Object(i.c)(e)}})))}(r||(r={}))},MibW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("mMt2");!function(e){var t=function(){function e(t){Object(i.a)(this,e),Object(o._)(this,"_predicate",void 0),Object(o._)(this,"_queueMap",void 0),Object(o._)(this,"_queue",void 0),this._predicate=t,this._queueMap=new Set,this._queue=[]}return Object(a.a)(e,[{key:"put",value:function(e){var t,n=this,r=new Set,i=e.reduce((function(e,t){return r.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(r.add(t.id),e.push(t)),e}),[]);(t=this._queue).push.apply(t,Object(s.a)(i)),i.forEach((function(e){var t=e.id;return n._queueMap.add(t)}))}},{key:"take",value:function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var r=this._queue[t];this._predicate(r)&&n.push(r),this._queueMap.delete(r.id),t++}return this._queue=this._queue.slice(t),n}},{key:"order",value:function(e){this._queue.sort(e)}},{key:"length",get:function(){return this._queue.length}},{key:"nonEmpty",get:function(){return this._queue.length>0}}]),e}();e.LazyPredicateUniq=t}(r||(r={}))},N0Y4:function(e,t,n){"use strict";function r(e){return{kind:"error",source:"skill",name:"getSkillsFailed",data:e}}function i(e){return{kind:"error",source:"skill",name:"initSkillFailed",data:e}}function a(e){return{kind:"error",source:"skill",name:"terminateSkillFailed",data:e}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},N4IK:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var r={};n.r(r),n.d(r,"CoreNeutral90",(function(){return l})),n.d(r,"CoreNeutral80",(function(){return u})),n.d(r,"CoreNeutral70",(function(){return d})),n.d(r,"CoreNeutral60",(function(){return p})),n.d(r,"CoreNeutral50",(function(){return m})),n.d(r,"CoreNeutral40",(function(){return f})),n.d(r,"CoreNeutral30",(function(){return h})),n.d(r,"CoreNeutral20",(function(){return g})),n.d(r,"CoreNeutral10",(function(){return b})),n.d(r,"CoreNeutral1",(function(){return v})),n.d(r,"CoreNeutral0",(function(){return y})),n.d(r,"CoreGreen70",(function(){return O})),n.d(r,"CoreGreen60",(function(){return _})),n.d(r,"CoreGreen50",(function(){return C})),n.d(r,"CoreGreen40",(function(){return w})),n.d(r,"CoreGreen30",(function(){return S})),n.d(r,"CoreGreen20",(function(){return k})),n.d(r,"CoreGreen10",(function(){return E})),n.d(r,"CoreGreen1",(function(){return j})),n.d(r,"CoreBlue70",(function(){return x})),n.d(r,"CoreBlue60",(function(){return A})),n.d(r,"CoreBlue50",(function(){return I})),n.d(r,"CoreBlue40",(function(){return T})),n.d(r,"CoreBlue30",(function(){return M})),n.d(r,"CoreBlue20",(function(){return P})),n.d(r,"CoreBlue10",(function(){return N})),n.d(r,"CoreBlue1",(function(){return B})),n.d(r,"CoreRed70",(function(){return L})),n.d(r,"CoreRed60",(function(){return F})),n.d(r,"CoreRed50",(function(){return R})),n.d(r,"CoreRed40",(function(){return D})),n.d(r,"CoreRed30",(function(){return H})),n.d(r,"CoreRed20",(function(){return V})),n.d(r,"CoreRed10",(function(){return U})),n.d(r,"CoreRed1",(function(){return W})),n.d(r,"CoreYellow80",(function(){return z})),n.d(r,"CoreYellow70",(function(){return G})),n.d(r,"CoreYellow60",(function(){return q})),n.d(r,"CoreYellow50",(function(){return K})),n.d(r,"CoreYellow40",(function(){return $})),n.d(r,"CoreYellow30",(function(){return Z})),n.d(r,"CoreYellow20",(function(){return Y})),n.d(r,"CoreYellow10",(function(){return X})),n.d(r,"CoreYellow1",(function(){return Q})),n.d(r,"CorePurple60",(function(){return J})),n.d(r,"CorePurple50",(function(){return ee})),n.d(r,"CorePurple40",(function(){return te})),n.d(r,"CorePurple30",(function(){return ne})),n.d(r,"CorePurple20",(function(){return re})),n.d(r,"CorePurple10",(function(){return ie})),n.d(r,"CorePurple1",(function(){return ae})),n.d(r,"CoreCyan60",(function(){return oe})),n.d(r,"CoreCyan50",(function(){return se})),n.d(r,"CoreCyan40",(function(){return ce})),n.d(r,"CoreCyan30",(function(){return le})),n.d(r,"CoreCyan20",(function(){return ue})),n.d(r,"CoreCyan10",(function(){return de})),n.d(r,"CoreCyan1",(function(){return pe})),n.d(r,"CoreSky70",(function(){return me})),n.d(r,"CoreSky60",(function(){return fe})),n.d(r,"CoreSky50",(function(){return he})),n.d(r,"CoreSky40",(function(){return ge})),n.d(r,"CoreSky30",(function(){return be})),n.d(r,"CoreSky20",(function(){return ve})),n.d(r,"CoreSky10",(function(){return ye})),n.d(r,"CoreSky1",(function(){return Oe})),n.d(r,"CoreIndigo70",(function(){return _e})),n.d(r,"CoreIndigo60",(function(){return Ce})),n.d(r,"CoreIndigo50",(function(){return we})),n.d(r,"CoreIndigo40",(function(){return Se})),n.d(r,"CoreIndigo30",(function(){return ke})),n.d(r,"CoreIndigo20",(function(){return Ee})),n.d(r,"CoreIndigo10",(function(){return je})),n.d(r,"CoreIndigo1",(function(){return xe})),n.d(r,"CoreMagenta70",(function(){return Ae})),n.d(r,"CoreMagenta60",(function(){return Ie})),n.d(r,"CoreMagenta40",(function(){return Te})),n.d(r,"CoreMagenta30",(function(){return Me})),n.d(r,"CoreMagenta10",(function(){return Pe})),n.d(r,"CoreMagenta1",(function(){return Ne})),n.d(r,"CoreCoral60",(function(){return Be})),n.d(r,"CoreCoral50",(function(){return Le})),n.d(r,"CoreCoral40",(function(){return Fe})),n.d(r,"CoreCoral30",(function(){return Re})),n.d(r,"CoreCoral10",(function(){return De})),n.d(r,"CoreCoral1",(function(){return He})),n.d(r,"CoreYellowBrand50",(function(){return Ve})),n.d(r,"CoreYellowBrand40",(function(){return Ue})),n.d(r,"CoreYellowBrand30",(function(){return We})),n.d(r,"CoreYellowBrand20",(function(){return ze})),n.d(r,"CoreYellowBrand10",(function(){return Ge})),n.d(r,"CoreYellowBrand1",(function(){return qe})),n.d(r,"CoreLime50",(function(){return Ke})),n.d(r,"CoreLime40",(function(){return $e})),n.d(r,"CoreLime30",(function(){return Ze})),n.d(r,"CoreLime20",(function(){return Ye})),n.d(r,"CoreLime10",(function(){return Xe})),n.d(r,"CoreLime1",(function(){return Qe}));var i={};n.r(i),n.d(i,"Blue0",(function(){return Je})),n.d(i,"Blue10",(function(){return et})),n.d(i,"Blue20",(function(){return tt})),n.d(i,"Blue30",(function(){return nt})),n.d(i,"Blue40",(function(){return rt})),n.d(i,"Blue60",(function(){return it})),n.d(i,"Blue80",(function(){return at})),n.d(i,"Blue90",(function(){return ot})),n.d(i,"Blue100",(function(){return st})),n.d(i,"BlueGray0",(function(){return ct})),n.d(i,"BlueGray5",(function(){return lt})),n.d(i,"BlueGray10",(function(){return ut})),n.d(i,"BlueGray20",(function(){return dt})),n.d(i,"BlueGray30",(function(){return pt})),n.d(i,"BlueGray35",(function(){return mt})),n.d(i,"BlueGray40",(function(){return ft})),n.d(i,"BlueGray50",(function(){return ht})),n.d(i,"BlueGray60",(function(){return gt})),n.d(i,"BlueGray70",(function(){return bt})),n.d(i,"BlueGray80",(function(){return vt})),n.d(i,"BlueGray90",(function(){return yt})),n.d(i,"BlueGray100",(function(){return Ot})),n.d(i,"Gold0",(function(){return _t})),n.d(i,"Gold10",(function(){return Ct})),n.d(i,"Gold20",(function(){return wt})),n.d(i,"Gold30",(function(){return St})),n.d(i,"Gold40",(function(){return kt})),n.d(i,"Gold60",(function(){return Et})),n.d(i,"Gold80",(function(){return jt})),n.d(i,"Gold90",(function(){return xt})),n.d(i,"Gold100",(function(){return At})),n.d(i,"Green0",(function(){return It})),n.d(i,"Green10",(function(){return Tt})),n.d(i,"Green20",(function(){return Mt})),n.d(i,"Green30",(function(){return Pt})),n.d(i,"Green40",(function(){return Nt})),n.d(i,"Green60",(function(){return Bt})),n.d(i,"Green80",(function(){return Lt})),n.d(i,"Green90",(function(){return Ft})),n.d(i,"Green100",(function(){return Rt})),n.d(i,"Magenta0",(function(){return Dt})),n.d(i,"Magenta10",(function(){return Ht})),n.d(i,"Magenta20",(function(){return Vt})),n.d(i,"Magenta30",(function(){return Ut})),n.d(i,"Magenta40",(function(){return Wt})),n.d(i,"Magenta60",(function(){return zt})),n.d(i,"Magenta80",(function(){return Gt})),n.d(i,"Magenta90",(function(){return qt})),n.d(i,"Magenta100",(function(){return Kt})),n.d(i,"NeutralGray0",(function(){return $t})),n.d(i,"NeutralGray5",(function(){return Zt})),n.d(i,"NeutralGray10",(function(){return Yt})),n.d(i,"NeutralGray20",(function(){return Xt})),n.d(i,"NeutralGray30",(function(){return Qt})),n.d(i,"NeutralGray35",(function(){return Jt})),n.d(i,"NeutralGray40",(function(){return en})),n.d(i,"NeutralGray50",(function(){return tn})),n.d(i,"NeutralGray60",(function(){return nn})),n.d(i,"NeutralGray70",(function(){return rn})),n.d(i,"NeutralGray80",(function(){return an})),n.d(i,"NeutralGray90",(function(){return on})),n.d(i,"NeutralGray100",(function(){return sn})),n.d(i,"Purple0",(function(){return cn})),n.d(i,"Purple10",(function(){return ln})),n.d(i,"Purple20",(function(){return un})),n.d(i,"Purple30",(function(){return dn})),n.d(i,"Purple40",(function(){return pn})),n.d(i,"Purple60",(function(){return mn})),n.d(i,"Purple80",(function(){return fn})),n.d(i,"Purple90",(function(){return hn})),n.d(i,"Purple100",(function(){return gn})),n.d(i,"Red0",(function(){return bn})),n.d(i,"Red10",(function(){return vn})),n.d(i,"Red20",(function(){return yn})),n.d(i,"Red30",(function(){return On})),n.d(i,"Red40",(function(){return _n})),n.d(i,"Red60",(function(){return Cn})),n.d(i,"Red80",(function(){return wn})),n.d(i,"Red90",(function(){return Sn})),n.d(i,"Red100",(function(){return kn})),n.d(i,"Teal0",(function(){return En})),n.d(i,"Teal10",(function(){return jn})),n.d(i,"Teal20",(function(){return xn})),n.d(i,"Teal30",(function(){return An})),n.d(i,"Teal40",(function(){return In})),n.d(i,"Teal60",(function(){return Tn})),n.d(i,"Teal80",(function(){return Mn})),n.d(i,"Teal90",(function(){return Pn})),n.d(i,"Teal100",(function(){return Nn})),n.d(i,"White",(function(){return Bn}));var a={};n.r(a),n.d(a,"Color",(function(){return Ln})),n.d(a,"Base",(function(){return Fn})),n.d(a,"Emphasized",(function(){return Rn})),n.d(a,"Interface",(function(){return Dn})),n.d(a,"SuggestionCategories",(function(){return Hn}));var o={};n.r(o),n.d(o,"SpaceQuarter",(function(){return Vn})),n.d(o,"SpaceHalf",(function(){return Un})),n.d(o,"Space0",(function(){return Wn})),n.d(o,"Space1",(function(){return zn})),n.d(o,"Space2",(function(){return Gn})),n.d(o,"Space3",(function(){return qn})),n.d(o,"Space4",(function(){return Kn})),n.d(o,"Space5",(function(){return $n})),n.d(o,"Space6",(function(){return Zn})),n.d(o,"Space8",(function(){return Yn})),n.d(o,"Space10",(function(){return Xn})),n.d(o,"Space12",(function(){return Qn})),n.d(o,"Space14",(function(){return Jn})),n.d(o,"Space16",(function(){return er})),n.d(o,"Space18",(function(){return tr})),n.d(o,"Space20",(function(){return nr}));var s={};n.r(s),n.d(s,"Elevation100",(function(){return rr})),n.d(s,"Elevation200",(function(){return ir})),n.d(s,"Elevation300",(function(){return ar}));var c={};n.r(c),n.d(c,"RadiusHalf",(function(){return or})),n.d(c,"Radius1",(function(){return sr})),n.d(c,"Radius2",(function(){return cr})),n.d(c,"Radius3",(function(){return lr}));const l="#0E101A",u="#1F243C",d="#333954",p="#4D536E",m="#6D758D",f="#9FA6BF",h="#C6CBDE",g="#E7E9F5",b="#F0F2FC",v="#F9FAFF",y="#FFFFFF",O="#0D8065",_="#11A683",C="#15C39A",w="#41D9B5",S="#87E8D1",k="#AAF2E1",E="#D7F7F0",j="#EBFFFA",x="#26307D",A="#3659B5",I="#4A6EE0",T="#638EEB",M="#79A8F2",P="#99C2FF",N="#DBEBFF",B="#EDF5FF",L="#A50018",F="#CE1331",R="#EA1537",D="#EE445F",H="#F27388",V="#FF99AB",U="#FFDBE3",W="#FDF0F3",z="#8C5404",G="#BB6E00",q="#F29100",K="#FFA600",$="#FFB619",Z="#FFC940",Y="#FFDF80",X="#FFF0D4",Q="#FFF8EC",J="#7E3DAD",ee="#8F4CBF",te="#A963DA",ne="#BD79ED",re="#D3A1F7",ie="#F2E0FF",ae="#F9F0FF",oe="#09A4B2",se="#28BAC7",ce="#4DD0DB",le="#75E1EB",ue="#93EDF5",de="#DBFCFF",pe="#EDFEFF",me="#10627B",fe="#157C9B",he="#1995BB",ge="#40A7C7",be="#67B9D2",ve="#8ECBDE",ye="#B5DDE9",Oe="#DDEFF5",_e="#494393",Ce="#5B55B8",we="#6E66DE",Se="#8780E4",ke="#9F9AE9",Ee="#B8B4EF",je="#D1CEF4",xe="#E9E8FA",Ae="#9A335C",Ie="#C24173",Te="#EE6C9F",Me="#F18AB2",Pe="#F8C6DA",Ne="#FCE4EE",Be="#C44242",Le="#EC5050",Fe="#EF6E6E",Re="#F28C8C",De="#F9C7C7",He="#FCE5E5",Ve="#F6DF6C",Ue="#F8E485",We="#F9EA9E",ze="#FBEFB7",Ge="#FCF5D0",qe="#FEFAE9",Ke="#ADD04F",$e="#BBD86D",Ze="#C9E08B",Ye="#D7E8A9",Xe="#E5F0C7",Qe="#F3F8E5",Je="#E5EBFF",et="#D7E0FE",tt="#B8C8FB",nt="#8CA6F6",rt="#5679E8",it="#2551DA",at="#02289E",ot="#001862",st="#000A26",ct="#F4F4F6",lt="#E2E4E9",ut="#CDD1DC",dt="#C2C6D4",pt="#ADB2C3",mt="#99A0B3",ft="#878DA2",ht="#798096",gt="#646B81",bt="#565B6C",vt="#474B58",yt="#27282E",Ot="#161719",_t="#FFF4E0",Ct="#FFEAC2",wt="#FFDD9D",St="#FFC444",kt="#FFA600",Et="#D67400",jt="#BD5B00",xt="#794100",At="#261900",It="#DEF7F5",Tt="#B1F0E8",Mt="#73E1D4",Pt="#2CC9B6",Nt="#16AC9A",Bt="#018374",Lt="#017467",Ft="#014C43",Rt="#00231F",Dt="#FFE5F0",Ht="#FEC8DD",Vt="#FAACCB",Ut="#F079A8",Wt="#E14683",zt="#D21861",Gt="#990C43",qt="#600428",Kt="#26000F",$t="#F5F5F5",Zt="#E6E6E6",Yt="#D7D7D7",Xt="#CECECE",Qt="#BCBCBC",Jt="#A9A9A9",en="#979797",tn="#858585",nn="#727272",rn="#616161",an="#4F4F4F",on="#2B2B2B",sn="#191919",cn="#F3E0FF",ln="#E6CCFB",un="#DABAF2",dn="#C194E2",pn="#A469CF",mn="#8943BC",fn="#60258A",hn="#3A1058",gn="#180426",bn="#FFEBEE",vn="#FECDD5",yn="#FBABB8",On="#F1768A",_n="#E5425C",Cn="#D31332",wn="#990921",Sn="#600312",kn="#260006",En="#E0FCFF",jn="#B2F4FA",xn="#7DE5EF",An="#2AC6D5",In="#1CA5B2",Tn="#128D99",Mn="#09646C",Pn="#034349",Nn="#002326",Bn="#FFFFFF",Ln={Background:{Addition:{Default:"var(--color-background-addition-default)",Subdued:"var(--color-background-addition-subdued)"},Base:{Default:"var(--color-background-base-default)",Subdued:"var(--color-background-base-subdued)"},Brand:{Default:"var(--color-background-brand-default)",Subdued:"var(--color-background-brand-subdued)"},Business:{Default:"var(--color-background-business-default)",Subdued:"var(--color-background-business-subdued)"},Clarity:{Default:"var(--color-background-clarity-default)",Subdued:"var(--color-background-clarity-subdued)"},Correctness:{Default:"var(--color-background-correctness-default)",Subdued:"var(--color-background-correctness-subdued)"},Critical:{Default:"var(--color-background-critical-default)",Subdued:"var(--color-background-critical-subdued)"},Deletion:{Default:"var(--color-background-deletion-default)",Subdued:"var(--color-background-deletion-subdued)"},Delivery:{Default:"var(--color-background-delivery-default)",Subdued:"var(--color-background-delivery-subdued)"},Engagement:{Default:"var(--color-background-engagement-default)",Subdued:"var(--color-background-engagement-subdued)"},Neutral:{Default:"var(--color-background-neutral-default)"},Plagiarism:{Default:"var(--color-background-plagiarism-default)",Subdued:"var(--color-background-plagiarism-subdued)"},Premium:{Default:"var(--color-background-premium-default)",Subdued:"var(--color-background-premium-subdued)"},Success:{Default:"var(--color-background-success-default)",Subdued:"var(--color-background-success-subdued)"},Warning:{Default:"var(--color-background-warning-default)",Subdued:"var(--color-background-warning-subdued)"}},Border:{Addition:{Default:"var(--color-border-addition-default)",Subdued:"var(--color-border-addition-subdued)"},Base:{Default:"var(--color-border-base-default)",Subdued:"var(--color-border-base-subdued)",Inverse:"var(--color-border-base-inverse)"},Brand:{Default:"var(--color-border-brand-default)",Subdued:"var(--color-border-brand-subdued)"},Business:{Default:"var(--color-border-business-default)",Subdued:"var(--color-border-business-subdued)"},Critical:{Default:"var(--color-border-critical-default)",Subdued:"var(--color-border-critical-subdued)"},Deletion:{Default:"var(--color-border-deletion-default)",Subdued:"var(--color-border-deletion-subdued)"},Premium:{Default:"var(--color-border-premium-default)",Subdued:"var(--color-border-premium-subdued)"},Success:{Default:"var(--color-border-success-default)",Subdued:"var(--color-border-success-subdued)"},Warning:{Default:"var(--color-border-warning-default)",Subdued:"var(--color-border-warning-subdued)"}},Icon:{Addition:{Default:"var(--color-icon-addition-default)"},Base:{Default:"var(--color-icon-base-default)",Inverse:"var(--color-icon-base-inverse)"},Brand:{Default:"var(--color-icon-brand-default)"},Business:{Default:"var(--color-icon-business-default)"},Critical:{Default:"var(--color-icon-critical-default)"},Deletion:{Default:"var(--color-icon-deletion-default)"},Premium:{Default:"var(--color-icon-premium-default)"},Success:{Default:"var(--color-icon-success-default)"},Warning:{Default:"var(--color-icon-warning-default)"}},Text:{Addition:{Default:"var(--color-text-addition-default)"},Base:{Default:"var(--color-text-base-default)",Subdued:"var(--color-text-base-subdued)",Inverse:"var(--color-text-base-inverse)"},Brand:{Default:"var(--color-text-brand-default)"},Business:{Default:"var(--color-text-business-default)"},Critical:{Default:"var(--color-text-critical-default)"},Deletion:{Default:"var(--color-text-deletion-default)"},Premium:{Default:"var(--color-text-premium-default)"},Success:{Default:"var(--color-text-success-default)"},Warning:{Default:"var(--color-text-warning-default)"}}},Fn={Boundaries:{Primary:{Default:"var(--base-boundaries-primary-default)"},Secondary:{Default:"var(--base-boundaries-secondary-default)"}},Content:{OnPrimary:{Default:"var(--base-content-onprimary-default)"},Primary:{Default:"var(--base-content-primary-default)"},Secondary:{Default:"var(--base-content-secondary-default)"}},Surface:{Primary:{Default:"var(--base-surface-primary-default)"},Secondary:{Default:"var(--base-surface-secondary-default)"}}},Rn={Content:{OnPrimary:{Default:"var(--emphasized-content-onprimary-default)"},Primary:{Default:"var(--emphasized-content-primary-default)"},Secondary:{Default:"var(--emphasized-content-secondary-default)"}},DangerAndDeletion:{Primary:{Default:"var(--emphasized-dangeranddeletion-primary-default)",Hover:"var(--emphasized-dangeranddeletion-primary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--emphasized-interactivebranded-primary-default)",Hover:"var(--emphasized-interactivebranded-primary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--emphasized-interactiveneutral-primary-default)",Hover:"var(--emphasized-interactiveneutral-primary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--emphasized-successandaddition-primary-default)",Hover:"var(--emphasized-successandaddition-primary-hover)"}},Surface:{Primary:{Default:"var(--emphasized-surface-primary-default)"}},Warning:{Primary:{Default:"var(--emphasized-warning-primary-default)",Hover:"var(--emphasized-warning-primary-hover)"}}},Dn={DangerAndDeletion:{Primary:{Default:"var(--interface-dangeranddeletion-primary-default)",Hover:"var(--interface-dangeranddeletion-primary-hover)"},Secondary:{Default:"var(--interface-dangeranddeletion-secondary-default)",Hover:"var(--interface-dangeranddeletion-secondary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--interface-interactivebranded-primary-default)",Hover:"var(--interface-interactivebranded-primary-hover)"},Secondary:{Default:"var(--interface-interactivebranded-secondary-default)",Hover:"var(--interface-interactivebranded-secondary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--interface-interactiveneutral-primary-default)",Hover:"var(--interface-interactiveneutral-primary-hover)"},Secondary:{Default:"var(--interface-interactiveneutral-secondary-default)",Hover:"var(--interface-interactiveneutral-secondary-hover)"}},Premium:{Primary:{Default:"var(--interface-premium-primary-default)",Hover:"var(--interface-premium-primary-hover)"},Secondary:{Default:"var(--interface-premium-secondary-default)",Hover:"var(--interface-premium-secondary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--interface-successandaddition-primary-default)",Hover:"var(--interface-successandaddition-primary-hover)"},Secondary:{Default:"var(--interface-successandaddition-secondary-default)",Hover:"var(--interface-successandaddition-secondary-hover)"}},Warning:{Primary:{Default:"var(--interface-warning-primary-default)",Hover:"var(--interface-warning-primary-hover)"},Secondary:{Default:"var(--interface-warning-secondary-default)",Hover:"var(--interface-warning-secondary-hover)"}}},Hn={Business:{Primary:{Default:"var(--suggestioncategories-business-primary-default)",Hover:"var(--suggestioncategories-business-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-business-secondary-default)",Hover:"var(--suggestioncategories-business-secondary-hover)"}},Clarity:{Primary:{Default:"var(--suggestioncategories-clarity-primary-default)",Hover:"var(--suggestioncategories-clarity-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-clarity-secondary-default)",Hover:"var(--suggestioncategories-clarity-secondary-hover)"}},Correctness:{Primary:{Default:"var(--suggestioncategories-correctness-primary-default)",Hover:"var(--suggestioncategories-correctness-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-correctness-secondary-default)",Hover:"var(--suggestioncategories-correctness-secondary-hover)"}},Delivery:{Primary:{Default:"var(--suggestioncategories-delivery-primary-default)",Hover:"var(--suggestioncategories-delivery-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-delivery-secondary-default)",Hover:"var(--suggestioncategories-delivery-secondary-hover)"}},Engagement:{Primary:{Default:"var(--suggestioncategories-engagement-primary-default)",Hover:"var(--suggestioncategories-engagement-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-engagement-secondary-default)",Hover:"var(--suggestioncategories-engagement-secondary-hover)"}},Plagiarism:{Primary:{Default:"var(--suggestioncategories-plagiarism-primary-default)",Hover:"var(--suggestioncategories-plagiarism-primary-hover)"},Secondary:{Default:"var(--suggestioncategories-plagiarism-secondary-default)",Hover:"var(--suggestioncategories-plagiarism-secondary-hover)"}}},Vn=.0625,Un=.125,Wn=0,zn=.25,Gn=.5,qn=.75,Kn=1,$n=1.25,Zn=1.5,Yn=2,Xn=2.5,Qn=3,Jn=3.5,er=4,tr=4.5,nr=5,rr={boxShadow:"0px 1px 4px 0.5px var(--color-border-base-default-f3)",border:"0.5px solid var(--color-border-base-default-1)"},ir={boxShadow:"0px 1px 8px 0.5px var(--color-border-base-default-f5)",border:"0.5px solid var(--color-border-base-default-1)"},ar={boxShadow:"0px 2px 12px 0.5px var(--color-border-base-default-f5)",border:"0.5px solid var(--color-border-base-default-1)"},or=.125,sr=.25,cr=.5,lr=.75},N5Ay:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}));var r,i=n("B8yO"),a=n("DTwm"),o=n("mgiE"),s=n("koeM"),c=n("xk6L"),l=n("7IMz");function u(e=12){const{ref:t,onMount:n}=l.a.useElWatcher(),{cardHeight:u,cardVisibleViewportHeight:d}=i.useContext(r.Context),p=i.useContext(s.a.Context);return{onMount:n,maxHeight:i.useRef(t.pipe(c.a.switchMap(o.g.fold(Object(a.constant)(c.a.of(o.g.none)),e=>u.pipe(c.a.take(1),c.a.withLatestFrom(d),c.a.map(([t,n])=>Object(a.pipe)(n,o.g.map(n=>e.offsetHeight+Math.max(0,n-t))))))),c.a.startWith(o.g.none),c.a.withLatestFrom(p.pipe(c.a.startWith(void 0),c.a.map(o.g.fromNullable))),c.a.map(([t,n])=>Object(a.pipe)(t,o.g.alt(()=>Object(a.pipe)(n,o.g.map(t=>e*t))))),c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals))).current,ref:t}}!function(e){var t=e.Context=i.createContext({cardHeight:c.a.EMPTY,cardVisibleViewportHeight:c.a.of(o.g.none)});e.Provider=e=>{const{ref:n,onMount:r}=l.a.useElWatcher(),a=i.useRef({cardHeight:e.card.pipe(c.a.switchMapTo(n.pipe(c.b.compact,c.a.map(e=>e.offsetHeight))),c.a.distinctUntilChanged(),c.a.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:e.cardVisibleViewportHeight.pipe(c.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals),c.a.shareReplay({bufferSize:1,refCount:!0}))});return i.createElement(t.Provider,{value:a.current},e.children(r))}}(r||(r={}))},NG8v:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return w}));var r=n("B8yO"),i=n("m7tF"),a=n("5lyU"),o=n("+ndJ"),s=n("lKCo"),c=n("DTwm"),l=n("N4IK"),u=n("0zLI"),d=n("nWMp"),p=n("xk6L"),m=n("4GyQ"),f=n("Enf3"),h=n("Rc7N"),g=n("Iv1e"),b=n("j+t9"),v=n("6lUw"),y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const O=Object(m.d)(i.b),_=r.createContext({closePopover:c.constVoid});var C;!function(e){e.umount="unmount",e.interactOutside="interactOutside",e.closeButtonClick="closeButtonClick"}(C||(C={}));const w=e=>{var t,n,i,c,l,m,h,w,{reference:T,title:M,body:P,footer:N,className:B,placement:L,offset:F,containerPadding:R,onClose:D,onMount:H}=e,V=y(e,["reference","title","body","footer","className","placement","offset","containerPadding","onClose","onMount"]);const U=r.useRef(null),[W,z]=r.useState(null),[G,q]=r.useState(null),K=Object(f.a)(),{styles:$,attributes:Z,state:Y}=Object(a.a)(T,W,{placement:null!=L?L:"top",modifiers:[{name:"offset",options:{offset:[0,6+(null!=F?F:0)]}},{name:"arrow",options:{element:G,padding:12}},{name:"preventOverflow",options:{padding:null!=R?R:5}},K]}),X=null!==(w=null===(h=null===(m=null===(l=null===(c=null===(i=null===(n=null===(t=$.arrow)||void 0===t?void 0:t.transform)||void 0===n?void 0:n.replace("translate3d(",""))||void 0===i?void 0:i.replace("translate(",""))||void 0===c?void 0:c.replace(")",""))||void 0===l?void 0:l.split(","))||void 0===m?void 0:m.map(e=>e.trim()))||void 0===h?void 0:h.map(e=>parseInt(e,10)))&&void 0!==w?w:[],Q=r.useRef(new p.a.Subject),J=r.useRef(null),ee=Object(o.a)({defaultOpen:!1,onOpenChange:e=>{const t=J.current;null!==t&&clearTimeout(t),e||(J.current=setTimeout(()=>Q.current.next(void 0),500))}}),{overlayProps:te,underlayProps:ne}=Object(v.a)({isOpen:ee.isOpen,onClose:ee.close,shouldCloseOnBlur:!0,isDismissable:!0,shouldCloseOnInteractOutside:(e,t)=>{const n=null==t?void 0:t.composedPath();let r=!1;return r=!n||!n.some(e=>e instanceof Node&&(null==W?void 0:W.contains(e))),r&&(U.current=C.interactOutside),r}},{current:W}),{portalContainer:re}=r.useContext(g.a);r.useEffect(()=>{const e=p.a.timer(0).subscribe(()=>ee.open());return()=>e.unsubscribe()},[]),r.useEffect(()=>{ee.isOpen&&W&&(null==H||H(W))},[ee.isOpen,W]),r.useEffect(()=>{const e=Q.current.subscribe(()=>{var e;return null==D?void 0:D(null!==(e=U.current)&&void 0!==e?e:C.umount)});return()=>e.unsubscribe()},[Q]);const ie=r.useCallback(e=>{U.current=e,ee.close()},[ee]);return T?r.createElement(O,{portalContainer:re.view(s.toUndefined)},r.createElement(u.a,{in:ee.isOpen},(e,t)=>{var n,i;return r.createElement(r.Fragment,null,ee.isOpen&&r.createElement("div",Object.assign({},ne,{className:k})),r.createElement("div",Object.assign({},V,Z.popper,te,{ref:e=>z(e),style:Object.assign(Object.assign({},$.popper),te.style),className:d.a.joinClasses([E,B,e]),onTransitionEnd:e=>{if(e.target===W&&(t(),!ee.isOpen)){const e=J.current;null!==e&&clearTimeout(e),Q.current.next(void 0)}}}),r.createElement("div",{ref:q},r.createElement("svg",{className:I,"data-placement":(null===(n=null==Y?void 0:Y.placement)||void 0===n?void 0:n.startsWith("bottom"))?"bottom":(null==Y?void 0:Y.placement.startsWith("top"))?"top":(null==Y?void 0:Y.placement.startsWith("right"))?"right":(null===(i=null==Y?void 0:Y.placement)||void 0===i?void 0:i.startsWith("left"))?"left":void 0,viewBox:"0 0 12 12",style:{position:"absolute",left:0!==X[0]&&Number.isFinite(X[0])?X[0]:void 0,top:0!==X[1]&&Number.isFinite(X[1])?X[1]:void 0}},r.createElement("path",{d:"M0 0 L6 6 L12 0"}))),r.createElement(_.Provider,{value:{closePopover:ie}},r.createElement(b.a,{style:S,onClick:()=>ie(C.closeButtonClick),name:"tooltipClose"}),M?r.createElement("div",{className:j},M):null,P?r.createElement("div",{className:x},P):null,N?r.createElement("div",{className:A},N):null)))})):null},S={default:{position:"absolute",top:d.a.rem(l.f.Space2),right:d.a.rem(l.f.Space2)}},k=d.a.style({position:"fixed",inset:0}),E=d.a.style({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:d.a.rem(l.f.SpaceHalf),background:h.a.PopoverBackgroundBaseSubdued,border:"1px solid "+l.e.Color.Border.Base.Default,color:l.e.Color.Text.Base.Inverse,borderRadius:d.a.rem(l.d.Radius2),minWidth:d.a.rem(9.375),maxWidth:d.a.rem(15),fontSize:d.a.rem(.875),lineHeight:d.a.rem(1.375),padding:d.a.rem(l.f.Space4),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}}),j=d.a.style({fontWeight:700,color:l.e.Color.Text.Base.Inverse}),x=d.a.style({color:l.e.Color.Border.Base.Subdued}),A=d.a.style({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:d.a.rem(l.f.Space2),marginTop:d.a.rem(l.f.Space4-l.f.SpaceHalf),width:"100%"}),I=d.a.style({position:"absolute",stroke:l.e.Color.Border.Base.Default,fill:h.a.PopoverBackgroundBaseSubdued,strokeWidth:"1px",width:d.a.rem(.75),height:d.a.rem(.75),$nest:{'&[data-placement="top"]':{top:"100%",transform:"translateX(-50%)"},'&[data-placement="bottom"]':{bottom:"100%",transform:"translateX(-50%) rotate(180deg)"},'&[data-placement="left"]':{left:"100%",transform:"translateY(-50%) rotate(-90deg)"},'&[data-placement="right"]':{right:"100%",transform:"translateY(-50%) rotate(90deg)"}}})},NMQX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return i}));var r,i,a=n("Wy1Y"),o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("hcme"),u=n("IMGo"),d=n("bQod"),p=n("DTwm"),m=n("tiWp"),f=n("+vYo"),h=n("lXop"),g=n("MBt8"),b=n("xk6L"),v=n("yIk2"),y=n("bM8p"),O=n("IjjT"),_=n("mgiE"),C=n("0kuo"),w=n("TKPA"),S=n("M3t0"),k=n("txgs"),E=n("OXKW");function j(e,t,n,i,a,o,s,c){var d=[{name:"head",hotkey:_.g.none,initialState:{active:!1,disabled:!1}},{name:h.e.Type.bold,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"B"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.italic,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"I"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.underline,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"U"}]),initialState:{active:!1,disabled:!1}},"separator",{name:h.e.Type.header1,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.alt]),key:"1"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.header2,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.alt]),key:"2"}]),initialState:{active:!1,disabled:!1}},"separator",{name:h.e.Type.link,hotkey:u.E([{modifiers:new Set([g.a.short]),key:"K"}]),initialState:{active:!1,disabled:!1}},"separator",{name:h.e.Type.orderedList,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.shift]),key:"7"}]),initialState:{active:!1,disabled:!1}},{name:h.e.Type.bulletList,hotkey:u.E([{modifiers:new Set([g.a.short,g.a.shift]),key:"8"}]),initialState:{active:!1,disabled:!1}},"separator",{name:"clear",hotkey:u.E([{modifiers:new Set([g.a.short]),key:"\\"}]),initialState:{active:!1,disabled:!1}}],p=d.filter(Object(w.b)(E.a.isItem,(function(e){return e.name!==h.e.Type.link}))),m=r.initHandlers(p),f=function(e,t,n,i,a,o,s){var c=r.ToolbarViewModel.create(n,i,s,t),u=E.a.toMenuEvents(e,c.events).pipe(b.a.tap((function(e){var t=Object(l._)(e,3),n=t[0],r=(t[1],t[2]);a.rtfMenuEventFire(n,o,r)})));return{viewModel:c,formattingEvents:u}}(e,i,d,a,o,s,c),v=f.formattingEvents,y=f.viewModel,O=Object(l._)(b.a.partitionStatic(v,(function(e){return e[0]!==h.e.Type.link})),2),C=O[0],k=O[1],j=function(e,t,n,i,a){var o=n(e,a),s=S.d.Logging.getLogger("formattingMenuManager"),c=E.a.linkEvents(i,o).pipe(b.a.catchError((function(e,t){return s.error("Error handling formatting event",e),t}))),l=r.ToolbarViewModel.stateManager(t,a),u=c.pipe(b.a.merge(l)).subscribe();return{dispose:function(){u.unsubscribe()}}}(t,n,m,C,y);return{dispose:function(){j.dispose()},viewModel:y,linkEvents:k}}!function(e){var t,n;!function(e){e.asMenuScheme=function(e){return e.slice(1)}}(t=e.Scheme||(e.Scheme={})),function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(n=e.VisualState||(e.VisualState={})),function(e){e.create=function(e,r,i,a){var o=function(e){return r.toolbar.formatting[e]},s=function(e){return _.g.some(r.toolbar.formatting.tooltips[e])},c=function(e,t){return Object(m.pipe)(s(e.name),_.g.map((function(e){return"".concat(r.toolbar.formatting.tooltips.head," ").concat(e)})),_.g.map((function(e){return Object(m.pipe)(t,_.g.map(_.b.fold(p.identity,p.constVoid)),_.g.map((function(t){return"".concat(e,", shortcut ").concat(t)})),_.g.getOrElse(Object(p.constant)(e)))})),_.g.toUndefined)},l=y.a.HotkeyOptions.toString(i.has(k.b.Flag.isAppleSystem)),u=new b.a.Subject,d=f.a.create({menu:n.Expanded,items:e.filter(E.a.isItem).reduce((function(e,t){return e[t.name]=t.initialState,e}),{})}),h=e[0];return{getBindings:Object(m.pipe)(e,t.asMenuScheme,E.a.Scheme.toBindingProvider((function(e){return u.next(e)}),(function(){return a}))),head:{name:h.name,title:o(h.name),tooltip:s(h.name),nestedItem:_.g.none,active:d.view("items",h.name,"active"),disabled:d.view("items",h.name,"disabled"),onClick:function(){return u.next({event:h.name,source:E.a.Source.View})}},list:t.asMenuScheme(e).map((function(e){if(E.a.isItem(e)){var t=Object(m.pipe)(e.hotkey,_.g.map((function(e){return _.b.left(l(e[0]))})));return{name:e.name,title:o(e.name),tooltip:s(e.name),nestedItem:t,ariaLabel:c(e,t),active:d.view("items",e.name,"active"),disabled:d.view("items",e.name,"disabled"),onClick:function(){return u.next({event:e.name,source:E.a.Source.View})}}}return e})),visualState:d.view("menu"),state:d,events:u}},e.stateManager=function(e,t){var n=t.state;return e.pipe(b.a.tap((function(e){n.lens("items").modify(Object(d.F)((function(t,n){return t===h.e.Type.bulletList?Object(c._)(Object(s._)({},n),{active:!0===e[h.e.Type.bulletList]||!0===e[h.e.Type.dashedList]}):t===h.e.Type.link?n:h.e.is(t)?Object(c._)(Object(s._)({},n),{active:!0===e[t]}):n})))})),b.a.mapTo(v.b.voidValue))}}(e.ToolbarViewModel||(e.ToolbarViewModel={}));var r=function(e,t){var r=t.state;return function(t){var i;switch(t.name){case"head":return function(){return r.lens("menu").modify((function(e){return e===n.Collapsed?n.Expanded:n.Collapsed}))};case"clear":return function(t){e({index:t.start,length:t.end-t.start,meta:{source:h.g.Meta.Source.api,formatting:{bold:!1,italic:!1,underline:!1,bulletList:!1,dashedList:!1,header1:!1,header2:!1,orderedList:!1,strike:!1}}})};case h.e.Type.bold:case h.e.Type.bulletList:case h.e.Type.header1:case h.e.Type.header2:case h.e.Type.italic:case h.e.Type.orderedList:case h.e.Type.underline:return i=t.name,function(t){var n,a=r.get().items[i].active,l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e({index:t.start,length:t.end-t.start,meta:{source:h.g.Meta.Source.api,formatting:Object(c._)(Object(s._)({},n),Object(o._)({},i,!a))}})};O.c.isBlockFormat(i)?l((n={},Object(o._)(n,h.e.Type.header1,!1),Object(o._)(n,h.e.Type.header2,!1),Object(o._)(n,h.e.Type.orderedList,!1),Object(o._)(n,h.e.Type.bulletList,!1),Object(o._)(n,h.e.Type.dashedList,!1),n)):l()};default:return Object(C.c)(t.name)}}};e.initHandlers=function(e){return function(t,n){var i=r(t,n);return e.reduce((function(e,t){return e[t.name]=i(t),e}),{})}}}(r||(r={})),function(e){e.fromToolbar=function(e){return e.pipe(b.a.map((function(e){return{range:Object(l._)(e,2)[1],source:"toolbar"}})))},e.fromDenaliEditor=function(e){return e.pipe(b.a.map((function(e){return h.e.LinkPayload.is(e)?_.g.some({range:e[h.e.Type.link][0].range,source:"selection"}):_.g.none})))}}(i||(i={})),function(e){!function(e){e.Mock=function e(){Object(a.a)(this,e),Object(o._)(this,"viewModel",void 0),Object(o._)(this,"linkEvents",new b.a.Subject),Object(o._)(this,"changes",new b.a.Subject)}}(e.Manager||(e.Manager={}))}(r||(r={}))},NbbF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("0kuo"),i=n("TKPA"),a=n("M3t0"),o=n("cZ4c");const s=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){Object(r.f)(Object(i.n)(e),"transforms should have at least one element");const[n]=e;return c(n)>-1?o.a.create(l(n),e.map(u),t,!0):o.g.create(e,t)}(e.content.map(e=>[{type:o.k.Insert,text:e}]),t);case"transform":return function(e,t){Object(r.f)(Object(i.n)(e),"transforms should have at least one element");const[n]=e;return c(n)>-1?o.a.create(l(n),e.map(u),t):function(e){return 2===e.length&&p(e)}(e)?o.i.create(e[0],e[1],t):p(e)?o.g.create(e,t):o.b.create(e,t)}(e.content.map(h),t);default:return Object(r.c)(e.kind)}};function c(e){return e.findIndex(e=>"arrow"===e.type)}function l(e){return e.slice(0,c(e))}function u(e){return e.slice(c(e)+1)}function d(e){return e.every(e=>"delete"!==e.type)}function p(e){return e.every(d)}function m(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const f=[m("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Delete,text:e[2]})),m("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Insert,text:e[2]})),m("(→)",e=>({type:o.k.Arrow})),m("([^<>→]+)",e=>({type:o.k.Text,text:e[1]}))];function h(e){function t(e){for(const t of f){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(n.findIndex(e=>0===e)>0)throw new Error("Couldn't parse transform: "+e);if(n=n.filter(e=>e>0),Object(i.n)(n)){const e=Math.min(...n);return[{type:o.k.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:o.k.Text,text:t},""]}const r=[];let s=e,c=!1,l=0,u=void 0;for(;Object(i.n)(s);){const e=t(s);void 0===e&&(c=!0);const[i,a]=e||n(s);u&&u.type===o.k.Text&&i.type===o.k.Text?u.text+=i.text:(u&&u.type===o.k.Delete&&i.type===o.k.Insert&&(r.push({type:o.k.Arrow}),l++),r.push(i)),i.type===o.k.Arrow&&l++,u=r[r.length-1],s=a}return(c||!Object(i.n)(r)||l>1)&&a.d.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:r.length,arrowCount:l}),r}},Njvd:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b}));var r=n("8O/t"),i=n("X76w"),a=n("wvT7"),o=n("DTwm"),s=n("tiWp"),c=n("mgiE"),l=n("RRF2"),u=n("111I"),d=n("yIk2"),p=n("xk6L"),m=n("hzat"),f=n("e92m");const h=(e,t)=>u.a.composeKnot({title:w(e),root:C(e,t),suggestions:_(e,t),controls:v(e,t)}),g=(e,t)=>u.a.composeKnot({root:u.a.fromSideEffect(e=>{t.next(e)},e),title:w(e)}),b=e=>u.a.animatingFlow(()=>d.b.toObservable(Object(s.pipe)(e,c.g.fromPredicate(m.a.isBulkApplied),c.g.map(o.constVoid))),(e,t)=>Object(s.pipe)(t,c.g.fold(()=>c.g.some(c.m.left("invisible")),()=>Object(s.pipe)(e,c.g.chain(o.identity),c.g.fold(()=>c.g.some(c.m.right("visible")),()=>c.g.none))))),v=(e,t)=>u.a.composeKnot({apply:y(e,t),dismiss:O(e,t)}),y=(e,t)=>u.a.composeKnot({root:u.a.fromSideEffect(e=>{t.next(e)},e),content:S(u.a.fromSideEffect(o.constVoid,e.pipe(p.a.map(c.g.some))))}),O=(e,t)=>u.a.fromSideEffect(e=>{t.next(e.action)},e),_=(e,t)=>u.a.fromSideEffect(e=>{t.next(e.action)},e.pipe(p.a.skipBy(f.a.eqByAlerts),p.a.map(e=>Object(s.pipe)(e,l.e.pick("alerts"),c.f.map(t=>Object(i._)(Object(r._)({},t),{a11yContrast:e.a11yContrast})))))),C=(e,t)=>u.a.fromSideEffect(e=>{t.next(e)},e),w=e=>S(u.a.fromSideEffect(o.constVoid,e.pipe(p.a.map(c.g.some)))),S=e=>u.a.animatingFlow(e,(e,t)=>Object(s.pipe)(Object(o.tuple)(Object(s.pipe)(e,c.g.chain(o.identity)),t),Object(o.tupled)(a.b(c.g.option)),c.g.filter(([e,t])=>f.a.isInAppliedState(e)!==f.a.isInAppliedState(t)),c.g.map(()=>c.m.both("fadeOut","fadeIn"))))},NknG:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n("8O/t"),i=n("X76w"),a=n("hcme"),o=n("B8yO"),s=n("OhII"),c=n("lKCo"),l=n("tiWp"),u=n("09dI"),d=n("4GyQ"),p=n("OwvP"),m=n("0Qjk"),f=n("fC5a"),h=n("VOhR"),g=n("mgiE"),b=n("nWMp"),v={width:b.a.rem(1.5),position:"absolute",alignItems:"end",overflow:"visible"},y={background:"white",zIndex:99999,display:"flex",flexDirection:"column",width:b.a.rem(40),borderRadius:b.a.rem(.5),border:"0.5px solid #CDD1DC",position:"absolute",padding:"0 ".concat(b.a.rem(.875)," ").concat(b.a.rem(.875)," ").concat(b.a.rem(.875)),boxShadow:"0px 1px ".concat(b.a.rem(.5)," 0.5px rgba(135, 141, 162, 0.5);")},O={display:"flex",minHeight:b.a.rem(2.5),alignItems:"center"},_={marginRight:b.a.rem(.5)},C={fontSize:b.a.rem(.875),lineHeight:b.a.rem(1),padding:b.a.rem(.25),color:"#646B81",flex:6},w={flex:1,minWidth:b.a.rem(4)},S={position:"absolute",right:b.a.rem(1.125),top:b.a.rem(.875),cursor:"pointer",background:"white"},k={fontSize:b.a.rem(.875),lineHeight:b.a.rem(1.3125)},E=Object(i._)(Object(r._)({},k),{paddingBottom:b.a.rem(.625)}),j=Object(i._)(Object(r._)({},k),{background:"white",color:"#027E6F",border:"#027E6F solid 1px",marginRight:b.a.rem(.5),padding:"".concat(b.a.rem(.25)," ").concat(b.a.rem(.5))}),x=Object(i._)(Object(r._)({},k),{background:"white",color:"#646B81",padding:"".concat(b.a.rem(.25)," ").concat(b.a.rem(.5))}),A={marginLeft:b.a.rem(.25),marginRight:b.a.rem(.25),$nest:{svg:{verticalAlign:"middle"}}},I={backgroundColor:u.o.Color.Green60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:u.o.Color.Green80},path:{stroke:u.o.SemanticColor.Color.Icon.Base.Inverse}}},T=b.a.stylesheet({vbarWrapper:[v],vbarInlineCard:[y],vbarInlineCardTitle:[O],vbarInlineCardTitleIcon:[_],vbarInlineCardTitleText:[C],vbarInlineCardTitleClose:[S],vbarInlineCardAlert:[E],vbarInlineCardToolbar:[{display:"flex",justifyContent:"space-between"}],vbarInlineCardReplaceBtn:[j],vbarInlineCardDismissBtn:[x],feedbackIcon:[A],feedbackButton:[I],insertedTextBold:[{fontWeight:"bold"}],retainedText:[{textDecoration:"none"}],vbarBetaLabel:[w]});var M=function(e,t,n){return function(b){var v=b.alert,y=b.position,O=b.applyAlert,_=b.giveFeedback,C=b.title,w=b.close,S=b.dismissAlert,k=Object(l.pipe)(v.getTransform(),g.g.chain((function(e){return g.g.fromEither(e.content)})),g.g.map((function(e){return n=s.P(e.alternatives),i=function(e,t){var n=Object(h.c)(t);return Object(l.pipe)(e.getTransform(),Object(c.chain)((function(e){return Object(c.fromEither)(e.content)})),Object(c.map)((function(e){var t=e.alternatives[0];if(m.a.Alternative.hasOptionalContext(t.ops)){var r=Object(a._)(t.ops,1)[0],i=m.a.AlternativeOperation.length(r);return n(i,t.lengthAffected-i)}return n(0,t.lengthAffected)})),Object(c.getOrElse)((function(){return e.highlightTexts[0]})))}(v,t),u=function(e){return e.split("\n").reduce((function(e,t,n){return e.concat(0===n?o.createElement(o.Fragment,{key:n},t):o.createElement(o.Fragment,{key:n},o.createElement("br",null),t))}),[])},p=0,f=n.ops.filter((function(e){return!m.a.AlternativeOperation.isOptionalContextRetain(e)})),g=0!==f.filter(m.a.AlternativeOperation.isDelete).length||f.filter(m.a.AlternativeOperation.isSignificant).length>1,f.map((function(e,t){if(m.a.AlternativeOperation.isInsertString(e))return o.createElement("span",Object(r._)({key:t},Object(d.c)(g?T.insertedTextBold:null)),u(e.insert));if(m.a.AlternativeOperation.isDelete(e))return p+=e.delete,null;if(m.a.AlternativeOperation.isRetain(e)){var n=m.a.AlternativeOperation.isSignificant(e)?o.createElement("span",Object(r._)({key:t},Object(d.c)(T.retainedText)),u(i.substr(p,e.retain))):t>0?"…":"";return p+=e.retain,n}return null}));var n,i,u,p,f,g})));return o.createElement(p.a.div,Object(i._)(Object(r._)({},Object(d.c)(T.vbarInlineCard)),{style:Object(i._)(Object(r._)({},y),{maxWidth:e})}),o.createElement("div",Object(d.c)(T.vbarInlineCardTitle),o.createElement("div",Object(d.c)(T.vbarInlineCardTitleIcon),o.createElement(u.g,{icon:u.f,accessibilityLabel:C})),o.createElement("div",Object(d.c)(T.vbarInlineCardTitleText),C),o.createElement("div",Object(d.c)(T.vbarBetaLabel),o.createElement(u.n,{variant:"neutral",label:"BETA"})),o.createElement(f.a,Object(r._)({onClick:function(){return w()}},Object(d.c)(T.vbarInlineCardTitleClose)),o.createElement(u.g,{icon:u.i,accessibilityLabel:"Close suggestion",size:"small"}))),o.createElement("div",Object(d.c)(T.vbarInlineCardAlert),Object(l.pipe)(k,g.g.toNullable)),o.createElement("div",Object(d.c)(T.vbarInlineCardToolbar),o.createElement("div",null,o.createElement(f.a.White,Object(i._)(Object(r._)({},Object(d.c)(T.vbarInlineCardReplaceBtn)),{onClick:function(){return O()}}),"Apply"),o.createElement(f.a.White,Object(i._)(Object(r._)({},Object(d.c)(T.vbarInlineCardDismissBtn)),{onClick:function(){return S()}}),"Dismiss")),n.writingExpertFeedback&&o.createElement("div",null,o.createElement(f.a.Primary,Object(i._)(Object(r._)({},Object(d.c)(T.feedbackButton)),{onClick:function(){return _()}}),o.createElement("span",Object(d.c)(T.feedbackIcon),o.createElement(u.g,{icon:u.k,variant:"inverse",accessibilityLabel:"Give feedback",size:"small"})),"Give feedback"))))}}},No46:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return k}));var r,i=n("a5gI"),a=n("nWMp"),o=n("Frap"),s=n("3n8C"),c=n("Bl9I"),l=a.a.seconds(.3),u=a.a.keyframes({from:{opacity:0},to:{opacity:1}}),d="".concat(u," .2s linear forwards"),p={position:"relative",zIndex:a.d.level2,display:"grid",gridTemplateRows:"auto auto 5fr auto",width:a.a.rem(a.d.navigationWidth),height:a.a.vh(100),$nest:(r={},Object(i._)(r,s.a.xs,{width:a.a.rem(a.d.navigationWidthXs)}),Object(i._)(r,s.a.maxWidth(c.a.navigationHideWidthThreshold),{"& > *":{paddingRight:a.a.rem(1)}}),r)},m={marginTop:a.a.rem(.25),borderTop:"".concat(a.a.rem(.02)," solid ").concat(o.transparent)},f=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),h={transformOrigin:"top",animation:"".concat(f," ").concat(l," linear")},g={position:"absolute",width:a.a.percent(100),willChange:"transform",$nest:{"&:last-child:after":{position:"absolute",top:a.a.rem(3),width:a.a.percent(100),height:"@top",content:"''",pointerEvents:"none"}}},b={transition:"transform ".concat(l)},v={margin:"".concat(a.a.rem(5)," auto 0")},y={height:a.a.rem(3),whiteSpace:"pre-line",animation:d},O={marginTop:a.a.rem(.5),marginBottom:a.a.rem(1.3),animation:d},_={display:"block",height:a.a.percent(100)},C={right:a.a.rem(3),marginTop:a.a.rem(.5)},w=function(e){return"calc(".concat(e,"px - ").concat(a.a.rem(1),")")},S="calc(-100% - 1rem)",k=a.a.prefixedStylesheet("navigation",{wrapper:[p],allAlertsBtn:[m],allAlertsOnboardingWrapper:[{display:"block"}],itemListBox:[{position:"absolute"}],lensBtnAnimate:[h],counterWrapper:[{marginLeft:"auto"}],flowPosition:[g],flowPositionAnimate:[b],lensesZero:[Object(s.d)("zero","svg"),v],advancedBtn:[y],advancedDelimiter:[O],onboardingContainer:[_],onboardingNotification:[C]})},Npab:function(e){e.exports=JSON.parse('{"wrapper":"_2e5a3ce8-mute_onboarding-wrapper","media":"_a28a5f5f-mute_onboarding-media","description":"_1473303e-mute_onboarding-description","btn":"_7b75030f-mute_onboarding-btn"}')},Nsc4:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n("DTwm"),a=n("tiWp"),o=n("mgiE"),s=n("K40b"),c=n("+3dY"),l=n("GVT+"),u=n("AHUV");(r||(r={})).modelToCounters=function(e){return u.a.isRegistered(e)?e.counters:l.a.empty};var d,p=n("D2TP");!function(e){e.monoid=o.e.getMonoid(p.a.Id.ord,p.a.Meta.group),e.eq=o.e.getEq(p.a.Id.ord,p.a.Meta.eq),e.isEmpty=o.e.isEmpty,e.lookup=o.e.lookup(p.a.Id.ord),e.applyDiff=e=>t=>r=>Object(a.pipe)(t,s.a.foldMap(d.monoid)(l(e),u(e),n(e)),Object(c.a)(d.monoid.concat)(r),o.e.filter(Object(i.not)(p.a.Meta.isEmpty))),e.updatePercentiles=e=>t=>{let n=t;return e.forEach((e,t)=>{n=Object(a.pipe)(n,o.e.modifyAt(p.a.Id.ord)(t,p.a.Meta.ratioToPercentile(e)),o.g.fold(()=>Object(a.pipe)(n,o.e.insertAt(p.a.Id.ord)(t,p.a.Meta.fromPercentile(e))),i.identity))}),n};const t=Object(i.flow)(r.modelToCounters,p.a.Meta.fromAlertCounters),n=e=>n=>m(e)(n,t),l=e=>n=>m(e)(n,Object(i.flow)(t,p.a.Meta.group.inverse)),u=e=>(t,r)=>d.monoid.concat(n(e)(r),l(e)(t)),m=e=>(t,n)=>Object(a.pipe)(e,o.e.filter(e=>e(t.alert)),o.e.map(()=>n(t)))}(d||(d={}))},O2Mh:function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"b",(function(){return ce.a}));var r,i,a,o,s,c,l,u,d,p=n("Vv+i"),m=n("Wy1Y"),f=n("uKMM"),h=n("a5gI"),g=n("14g4"),b=n("PDPC"),v=n("4mQT"),y=n("8O/t"),O=n("X76w"),_=n("hcme"),C=n("mMt2"),w=n("t5lx"),S=n("000W"),k=n("U9Go"),E=n("DTwm"),j=n("tiWp"),x=n("M5RY"),A=n("+vYo"),I=n("/edk"),T=n("B/Ki"),M=n("GMJx"),P=n("lXop"),N=n("fr9z"),B=n("ShUL"),L=n("SXX6"),F=n("pHLr"),R=n("h0/Q"),D=n("La5+"),H=n("xk6L"),V=n("Sqy8"),U=n("yIk2"),W=n("4HQk"),z=n("IjjT"),G=n("RRF2"),q=n("mgiE"),K=n("0kuo"),$=n("TKPA"),Z=n("M3t0"),Y=n("ZbAF"),X=n("ElpI"),Q=n("kPsJ"),J=n("ivjH"),ee=n("cdwJ"),te=n("Djdf"),ne=n("+8xi"),re=(n("ATMU"),n("n8j0")),ie=function(e,t){var n=Boolean(x.imports[e])?x.import(e):null;return x.register(e,t,!0),function(){x.imports[e]===n&&(Boolean(n)?x.register(e,n,!0):delete x.imports[e])}};i=r||(r={}),l=i.withDefaultThemeClasses=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{editor:G.c.classes(re.editor,e.editor),containerClass:null!==(a=e.containerClass)&&void 0!==a?a:"",scrollWrap:null!==(o=e.scrollWrap)&&void 0!==o?o:"",markExtraClass:null!==(s=e.markExtraClass)&&void 0!==s?s:"",markClassesTheme:null!==(c=e.markClassesTheme)&&void 0!==c?c:Object(F.b)()}},i.getDefaultThemeClasses=function(){return l({})},function(e){e.api="api",e.dox="dox",e.user="user"}(u||(u={})),(u||(u={})).toQuillSources=function(e){switch(e){case u.dox:return"user";default:return e}},(d||(d={})).isLocalDelta=function(e){return"dox"!==e.source&&I.a.isDelta(e.change)};var ae,oe,se=function(){function e(t,n,i,a,o){var s=this;Object(m.a)(this,e),Object(h._)(this,"_allowedAttrs",void 0),Object(h._)(this,"_allowedEmbeds",void 0),Object(h._)(this,"_options",void 0),Object(h._)(this,"_log",void 0),Object(h._)(this,"_freezeFocus",void 0),Object(h._)(this,"_subs",void 0),Object(h._)(this,"_editorEl",void 0),Object(h._)(this,"_scrollEl",void 0),Object(h._)(this,"_viewportRect",void 0),Object(h._)(this,"_wrapper",void 0),Object(h._)(this,"_quillEditorChange",void 0),Object(h._)(this,"_scrollTo",void 0),Object(h._)(this,"_textLength",void 0),Object(h._)(this,"_outgoingChanges",void 0),Object(h._)(this,"_changesSyncTimer",void 0),Object(h._)(this,"_marker",void 0),Object(h._)(this,"_history",void 0),Object(h._)(this,"_allowNavigationTo",void 0),Object(h._)(this,"_clipboard",void 0),Object(h._)(this,"_contentChange",void 0),Object(h._)(this,"_isFlushBlocked",void 0),Object(h._)(this,"quill",void 0),Object(h._)(this,"textChangedAfterPaste",void 0),Object(h._)(this,"shortcutUsed",void 0),Object(h._)(this,"_deltaFilter",void 0),Object(h._)(this,"_userClasses",void 0),Object(h._)(this,"flushChanges",void 0),Object(h._)(this,"_flush",void 0),Object(h._)(this,"_changes",void 0),Object(h._)(this,"changes",void 0),Object(h._)(this,"_contentUpdatedInternal",void 0),Object(h._)(this,"contentUpdated",void 0),Object(h._)(this,"selection",void 0),Object(h._)(this,"selectedFormatting",void 0),Object(h._)(this,"clickedWord",void 0),Object(h._)(this,"scrollPosition",void 0),Object(h._)(this,"activeMarks",void 0),Object(h._)(this,"hoveredMarks",void 0),Object(h._)(this,"markChangeApplied",void 0),Object(h._)(this,"scrollPercentage",void 0),Object(h._)(this,"ongoingSelection",void 0),Object(h._)(this,"viewport",void 0),Object(h._)(this,"viewportRange",void 0),Object(h._)(this,"isEditorFocused",void 0),Object(h._)(this,"_execCommandAfterFocus",void 0),Object(h._)(this,"_validateSelection",void 0),Object(h._)(this,"_documentRangeCache",void 0),Object(h._)(this,"_getDocumentRange",void 0),Object(h._)(this,"_setNativeSelection",void 0),Object(h._)(this,"_restoreFocus",void 0),Object(h._)(this,"_scrollToCursor",void 0),Object(h._)(this,"restoreFocus",void 0),Object(h._)(this,"_getAnimation",void 0),Object(h._)(this,"_applyingExternalChanges",void 0),Object(h._)(this,"_pushChanges",void 0),Object(h._)(this,"pushChanges",void 0),Object(h._)(this,"_text",void 0),Object(h._)(this,"getText",void 0),Object(h._)(this,"getHTML",void 0),Object(h._)(this,"getTextLength",void 0),Object(h._)(this,"getContents",void 0),Object(h._)(this,"setCursor",void 0),Object(h._)(this,"scrollToTitle",void 0),Object(h._)(this,"_getScrollRect",void 0),Object(h._)(this,"_getScroll",void 0),Object(h._)(this,"_normalizeScrollOffset",void 0),Object(h._)(this,"_setScroll",void 0),Object(h._)(this,"_calculateViewport",void 0),Object(h._)(this,"containsElement",void 0),Object(h._)(this,"getPossibleCursorPosition",void 0),Object(h._)(this,"setFormatting",void 0),Object(h._)(this,"_getFormattingFn",void 0),this._allowedAttrs=i,this._allowedEmbeds=a,this._options=o,this._log=Z.d.Logging.getLogger("DEd",Z.a.LogLevel.DEBUG,Z.a.LogColor.Model.getColor("DEd")),this._freezeFocus=new R.a.Impl("freezeFocus",!0===this._options.freezeFocusFeature?R.a.everyTrue:function(){return!1}),this._subs=new D.a.Keeper,this._editorEl=document.createElement("div"),this._scrollEl=new H.a.BehaviorSubject(q.g.none),this._scrollTo=new H.a.Subject,this._textLength=0,this._outgoingChanges=void 0,this._isFlushBlocked=!1,this.shortcutUsed=new H.a.Subject,this._deltaFilter=T.a.cleanDelta(this._allowedEmbeds,this._allowedAttrs),this._userClasses=this._options.classes?this._options.classes.view(r.withDefaultThemeClasses):A.a.create(r.getDefaultThemeClasses()),this.flushChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.api;if(!s._isFlushBlocked&&void 0!==s._outgoingChanges){s._log.trace("flushChanges");var t=s._outgoingChanges;s._outgoingChanges=void 0,void 0!==s._changesSyncTimer&&(clearTimeout(s._changesSyncTimer),s._changesSyncTimer=void 0),Boolean(t.isEmpty)||(s._log.debug("emit changes",{textLength:s.getTextLength(),deltaLength:t.length,deltaAmount:t.amount,deltaTargetLen:t.prevLen}),s._changes.next({change:t,source:e}))}},this._flush=function(){s.flushChanges(),s._changes.next({change:I.a.flush(),source:u.api})},this._changes=new H.a.ReplaySubject,this.changes=this._changes.pipe(H.a.pluck("change")),this._contentUpdatedInternal=new H.a.Subject,this.contentUpdated=this._contentUpdatedInternal.pipe(H.a.delay(1)),this.selection=new H.a.BehaviorSubject(P.g.empty),this.selectedFormatting=H.a.mergeStatic(this._contentUpdatedInternal.pipe(H.a.filter((function(e){return e.type===P.b.Type.onlyFormatting})),H.a.withLatestFrom(this.selection,(function(e,t){return t}))),this.selection).pipe(H.a.map((function(e){return s.getFormatting(P.g.toTextRange(e))})),H.a.shareReplay({bufferSize:1,refCount:!0})),this.clickedWord=new H.a.Subject,this.scrollPosition=new H.a.BehaviorSubject(0),this.ongoingSelection=new H.a.BehaviorSubject(!1),this.viewport=new H.a.BehaviorSubject({text:G.c.Rect.empty,wrapper:G.c.Rect.empty}),this.isEditorFocused=new H.a.BehaviorSubject(!0),this._execCommandAfterFocus=new H.a.Subject,this._validateSelection=function(e){var t=e.index,n=e.length;return q.b.tryCatchError((function(){return Object(K.f)(t+n>=0,"Selection is less than zero",(function(){return"index: ".concat(t,", length: ").concat(n)})),Object(K.f)(t+n<s._textLength,"Selection is greater than text length",(function(){return"index: ".concat(t,", length: ").concat(n,", text length: ").concat(s._textLength)})),{index:t,length:n}}))},this._documentRangeCache=W.DocumentRange.createCache(5),this._getDocumentRange=Object(E.flow)(this._validateSelection,q.b.chain((function(e){return Object(j.pipe)(s._documentRangeCache.get(e),q.g.fold((function(){return Object(j.pipe)(e,W.DocumentRange.BoundaryPoint.getPoints((function(e){return Object(z.v)(s.quill.getLeaf(e))})),q.b.chain(W.DocumentRange.BoundaryPoint.toNativeRange))}),q.b.right),q.b.map((function(t){return s._documentRangeCache.set(e,t),t})))}))),this._setNativeSelection=Object(E.flow)(this._getDocumentRange,q.b.map((function(e){var t=window.getSelection()||document.selection;t.removeAllRanges(),t.addRange(e),s.quill.focus()}))),this._restoreFocus=function(){return Object(j.pipe)(s.getCursor(),s._setNativeSelection,q.b.getOrElse((function(e){return s._log.error("Cannot reset focus",e)})))},this._scrollToCursor=function(){return Object(j.pipe)(s._getCursorRect(),q.b.getOrElse((function(e){return s._log.warn("Scroll to cursor: Cannot get cursor rect",e),q.g.none})),q.g.chain((function(e){return Object(j.pipe)(s._getScrollRect(),q.g.map((function(t){return{cursorRect:e,wrapperRect:t}})))})),q.g.tap((function(e){var t=e.cursorRect,n=e.wrapperRect;return s._scrollToPosition({scrollTop:Math.round(t.top-n.top-n.height/2),animate:P.a.initial})})))},this.restoreFocus=function(){s._restoreFocus(),s._scrollToCursor()},this._getAnimation=function(e,t){switch(e.animate){case P.a.none:return H.a.of(e.scrollTop);case P.a.fast:return V.a.createAnimationObservable(t,e.scrollTop,100);case P.a.initial:return V.a.createAnimationObservable(t,e.scrollTop,200);case P.a.fake:return function(e,t,n){return H.a.Observable.create((function(r){var i=Math.abs(e-t)<250?0:e-t>0?Math.min(e-t,250):Math.max(e-t,-250);n.style.transform="translateY(".concat(i,"px)"),n.style.transition="",r.next(e);var a=requestAnimationFrame((function(){n.style.transition="transform ".concat(150,"ms linear"),n.style.transform=""}));return function(){cancelAnimationFrame(a),n.style.transition="",n.style.transform=""}}))}(e.scrollTop,t,s._wrapper);default:return Object(K.c)(e.animate)}},this._applyingExternalChanges=!1,this._pushChanges=function(e,t){s._log.trace("pushChanges",e),I.a.isFlush(e)?s.flushChanges(t):I.a.isReset(e)?(s._log.debug("get reset",{source:t,textLength:s.getTextLength(),deltaLength:e.length}),s._outgoingChanges=void 0,s.setContents(e,t)):(s._log.debug("get changes",{source:t,textLength:s.getTextLength(),deltaLength:e.length,deltaAmount:e.amount,deltaTargetLen:e.prevLen,change:e}),Object(K.f)(void 0===s._outgoingChanges,"There should be no outgoing changes in the editor when pushChanges() is called. Use flush()"),e.prevLen!==s._textLength&&s._log.error("Incoming change for a wrong text len",{expected:s._textLength,incoming:e.prevLen}),s._ensureSelection((function(){s._history.commit((function(){s._applyingExternalChanges=!0,T.a.splitToDeleteThenInsert(e.delta).filter(T.a.nonEmpty).forEach((function(e){s.quill.updateContents(Object(z.z)(e),u.toQuillSources(t))})),s._applyingExternalChanges=!1,s.flushChanges(t)}))})))},this.pushChanges=function(e,t){s._pushChanges(e,"api"===t?u.api:u.user)},this._text=null,this.getText=function(){return null===s._text&&(s._text=s.quill.getText()),s._text},this.getHTML=function(){return s.flushChanges(),s._editorEl.outerHTML},this.getTextLength=function(){return s._textLength},this.getContents=function(e,t){return I.a.unsafeRes(s._deltaFilter(Object(z.y)(s.quill.getContents(e,t))))},this.setCursor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";return q.b.map((function(){return s.quill.setSelection(e,t,n)}))(s._setNativeSelection({index:e,length:t,meta:{source:"api"===n?P.g.Meta.Source.api:P.g.Meta.Source.user,formatting:s.getFormatting(N.b.create(e,t))}}))},this.scrollToTitle=function(){s._scrollTo.next(s._getAnimation({scrollTop:0,animate:P.a.initial},s._getScroll()))},this._getScrollRect=function(){return Object(j.pipe)(s._scrollEl.getValue(),q.g.map((function(e){return e.getBoundingClientRect()})))},this._getScroll=function(){return Object(K.f)(q.g.isSome(s._scrollEl.getValue()),"DEd should be attached"),q.g.unsafeGet(s._scrollEl.getValue()).scrollTop},this._normalizeScrollOffset=function(e){Object(K.f)(q.g.isSome(s._scrollEl.getValue()),"DEd should be attached");var t=q.g.unsafeGet(s._scrollEl.getValue()),n=t.scrollTop,r=t.scrollHeight-t.offsetHeight;return e+n<r?e+n>0?e:-n:r-n},this._setScroll=function(e){return Object(K.f)(q.g.isSome(s._scrollEl.getValue()),"DEd should be attached"),q.g.unsafeGet(s._scrollEl.getValue()).scrollTop=e},this._calculateViewport=function(e){var t=s.quill.root.getBoundingClientRect();return{text:Object(j.pipe)(G.c.Rect.intersection(e,t),q.g.getOrElse((function(){return t}))),wrapper:e}},this.containsElement=function(e){return G.c.isParent(s.quill.root,e)},this.getPossibleCursorPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s.viewport.value.text,i=Object(j.pipe)(e,q.b.fold(P.c.X.toViewport(r),E.identity)),a=Object(j.pipe)(t,q.b.fold(P.c.Y.toViewport(r),E.identity));return Object(j.pipe)(z.a.getNativeCursorByPosition(i,a,r,s.quill.root,s._log.isEnabled(Z.a.LogLevel.TRACE)||n),q.b.map(z.a.getPositionByNativeCursor(s.quill.root)))},this.setFormatting=function(e){var t=Array.from(Object.entries(e.meta.formatting));0!==t.length&&(t.length===P.e.asList.length&&t.every((function(e){var t=Object(_._)(e,2),n=(t[0],t[1]);return!1===n||void 0===n}))?s.clearFormatting(P.g.toTextRange(e)):Object(j.pipe)(t,q.a.partition((function(e){var t=Object(_._)(e,2);t[0];return t[1]})),(function(t){var n=t.left,r=t.right;n.forEach((function(t){var n=Object(_._)(t,1)[0];return s.removeFormatting(P.g.toTextRange(e),n)})),r.forEach((function(t){var n=Object(_._)(t,1)[0];return s.addFormatting(P.g.toTextRange(e),n)}))})))},this._getFormattingFn=function(e){return(z.c.isBlockFormat(e)?s.quill.formatLine:s.quill.formatText).bind(s.quill)},this._allowNavigationTo=o.allowNavigationTo||function(){return!1},this.quill=this._initQuill(this._userClasses,t),this._marker=this.quill.getModule("marks"),this._history=this.quill.getModule("history"),this._clipboard=this.quill.getModule("clipboard"),this.textChangedAfterPaste=this._clipboard.textChangedAfterPaste,this.activeMarks=this._marker.activeMarks,this.hoveredMarks=this._marker.hoveredMarks,this.markChangeApplied=this._marker.markChangeApplied,this._quillEditorChange=Object(z.A)(this.quill).pipe(H.a.share()),this._contentChange=this._quillEditorChange.pipe(H.a.filter(Object(z.j)(this._allowedAttrs)),H.a.share()),this._log.isEnabled(Z.a.LogLevel.DEBUG)&&function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.g.some,i=e[t].bind(e);e[t]=function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return Object(j.pipe)(r.apply(void 0,Object(C.a)(a)),q.g.tap((function(e){return n.debug("trace call of ".concat(t),{args:e,stack:(new Error).stack})}))),i.apply(void 0,Object(C.a)(a))}}(this.quill,"updateContents",this._log.getLogger("quill.core"),(function(e,t){return"user"!==t&&T.a.calcDiffLength(e)<0?q.g.some({delta:T.a.anonymizeTextAndStringAttrs(e),source:t}):q.g.none})),this.scrollPercentage=this.scrollPosition.pipe(H.a.combineLatest(this._scrollEl.pipe(H.a.combineLatest(H.a.mergeStatic(H.a.fromEvent(window,"resize"),this._contentChange).pipe(H.a.debounceTime(500),H.a.startWith(U.b.voidValue)),(function(e){return e})),H.a.map((function(e){return Object(j.pipe)(e,q.g.chain((function(e){var t=e.scrollHeight-e.clientHeight;return t>0?q.g.some(t):q.g.none})))})),H.a.distinctUntilChanged(q.g.getEq(k.g).equals))),H.a.map((function(e){var t=Object(_._)(e,2),n=t[0],r=t[1];return Object(j.pipe)(r,q.g.map((function(e){return n/e})))})),H.a.distinctUntilChanged(q.g.getEq(k.g).equals),H.a.shareReplay({bufferSize:1,refCount:!0}));var c=this._quillEditorChange.pipe(H.a.filter(z.l),H.a.filter((function(e){return Boolean(e)&&Boolean(e.range)})));this._subs.push(this._contentChange.subscribe((function(e){var t=e.delta,n=e.source;void 0!==t.ops&&(s._text=null,n===x.sources.USER?s._pushDelta(t):s._log.debug("skip emit",{source:n,textLength:s.getTextLength(),deltaLength:T.a.calcDiffLength(t),delta:T.a.anonymizeTextAndStringAttrs(t)}),s._setTextLength(s._textLength+T.a.calcDiffLength(t),n))})),this._contentChange.pipe(H.a.take(1)).subscribe((function(){return Object(Y.a)("dedChangeContent")})),H.a.mergeStatic(this._history.changed.pipe(H.a.filter((function(e){return"keyboard"===e.source}))),this._clipboard.clipboardShortcutUsed).pipe(H.a.mapTo(void 0)).subscribe(this.shortcutUsed),this._contentChange.pipe(H.a.map((function(e){return{type:e.delta.ops.some((function(e){return!T.a.isRetain(e)}))?P.b.Type.textMaybeWithFormatting:P.b.Type.onlyFormatting,source:e.source,delta:e.delta}}))).subscribe(this._contentUpdatedInternal),c.pipe(H.a.map((function(e){var t=e.range,n=t.index,r=t.length,i=e.source;return{index:n,length:r,meta:{source:Boolean(i)?i:P.g.Meta.Source.user,formatting:s.getFormatting(N.b.create(n,n+r))}}})),H.a.distinctUntilChanged(P.g.eq.equals)).subscribe(this.selection),H.a.mergeStatic(H.a.fromEvent(this.quill.root,"mousedown",{passive:!0}).pipe(H.a.mapTo(!0)),H.a.fromEvent(document,"mouseup",{passive:!0}).pipe(H.a.mapTo(!1)),H.a.fromEvent(document,"dragend",{passive:!0}).pipe(H.a.mapTo(!1)),H.a.fromEvent(document,"click",{passive:!0}).pipe(H.a.mapTo(!1))).pipe(H.a.switchMap(Object($.c)(H.a.fromEvent(document,"mousemove",{passive:!0}).pipe(H.a.auditTime(50),H.a.filter((function(){return!window.getSelection().isCollapsed})),H.a.first(),H.a.mapTo(!0)),H.a.of(!1)))).subscribe(this.ongoingSelection),n.changes.subscribe((function(e){return s._pushChanges(e,u.dox)})),this._changes.pipe(H.a.filter(d.isLocalDelta),H.a.pluck("change")).subscribe(n.pushChanges)),this.viewportRange=this.viewport.pipe(H.a.distinctUntilChanged(),H.a.combineLatest(this.scrollPosition),H.a.debounceTime(300),H.a.map((function(e){var t=Object(_._)(e,1)[0].text;return Object(j.pipe)(Object(E.tuple)(Object(j.pipe)(z.a.getNativeCursorByPosition(t.left,t.top,s.viewport.value.text,s.quill.root),q.b.map(z.a.getPositionByNativeCursor(s.quill.root))),Object(j.pipe)(z.a.getNativeCursorByPosition(t.right,t.bottom,s.viewport.value.text,s.quill.root),q.b.map(z.a.getPositionByNativeCursor(s.quill.root)))),q.b.map2(N.b.create),q.b.fold((function(e){return s._log.error("Cannot calculate viewportRange",e),N.b.empty}),E.identity))})),H.a.shareReplay({bufferSize:1,refCount:!0}))}return Object(f.a)(e,[{key:"_initQuill",value:function(e,t){var n=this,r=Object(C.a)(Object.entries(t.modules).map((function(e){var t=Object(_._)(e,2),n=t[0],r=t[1];return ie("modules/".concat(n),r)}))).concat(Object(C.a)(t.formats.map((function(e){return ie("formats/".concat(e.blotName),e)}))),[ie("themes/denali",t.theme)]),i=Object(O._)(Object(y._)({},Object.keys(t.modules).reduce((function(e,t){return e[t]=!0,e}),{})),{toolbar:!1,keyboard:!0,clipboard:{className:re.editorClipboard,maxAllowedTextLength:1e5,lengthExceededCallback:function(){return alert("Oops, Document size exceeded!")},flush:this._flush,deltaFilter:this._deltaFilter},history:{userOnly:!0,delay:1e3,maxStack:100,flush:this._flush},marks:{scrollPositionChanged:this.scrollPosition.pipe(H.a.distinctUntilChanged(),H.a.mapTo(U.b.voidValue),H.a.skip(1)),contentUpdated:this.contentUpdated,scrollContainer:this._scrollEl,ongoingSelection:this.ongoingSelection.pipe(H.a.distinctUntilChanged()),getOpsHistory:function(){return n._history.getAnonymizedOperationsHistory()}}}),a=new x(this._editorEl,{modules:i,theme:"denali",classes:e});return r.forEach((function(e){return e()})),a}},{key:"_pushDelta",value:function(e){void 0===this._outgoingChanges?this._outgoingChanges=I.a.delta(this._deltaFilter(e),this._textLength):this._outgoingChanges.delta=this._outgoingChanges.delta.compose(this._deltaFilter(e));var t=T.a.calcAmountLength(e);!Boolean(this._outgoingChanges.isEmpty)&&(t>100||this._textLength-t<=1||void 0!==e.ops.find((function(e){return Object(z.p)(e)||Object(z.q)(e)}))||q.g.isSome(this.activeMarks.getValue()))?this._applyingExternalChanges||this.flushChanges():(void 0!==this._changesSyncTimer&&clearTimeout(this._changesSyncTimer),this._changesSyncTimer=setTimeout(this.flushChanges,1500))}},{key:"_setTextLength",value:function(e,t){var n=this._textLength-e;this._textLength=e;var r="api"===t?P.g.Meta.Source.api:P.g.Meta.Source.user,i="api"===t?{}:this.getFormatting(N.b.create(e-1,0)),a=this.getCursor(),o=a.index,s=a.length;o>=e?this.selection.next({index:e-1,length:0,meta:{source:r,formatting:i}}):o+s>=e&&this.selection.next({index:o,length:s-n,meta:{source:r,formatting:i}})}},{key:"_handleFreezeFocus",value:function(){var e=this,t=function(t,n){return t===n||e._allowNavigationTo(t)},n=H.a.fromEvent(document,"click").pipe(H.a.filter((function(n){return!t(n.target,e.quill.root)})),H.a.observeOn(H.a.asapScheduler),H.a.filter((function(){return!t(document.activeElement,e.quill.root)})),H.a.tap(this._restoreFocus));return this._freezeFocus.state.pipe(H.a.switchMap(U.b.Scheduler.rafScheduler),H.a.tap((function(t){return t?e._restoreFocus():e.quill.blur()})),H.a.switchMap(U.b.orEmpty(n)),H.a.catchError((function(t){return e._log.warn("unexpected exception in freezeFocus",t),H.a.EMPTY}))).subscribe()}},{key:"attach",value:function(e,t,n){var r=this;if(Boolean(this._wrapper))throw new Error("Editor already attached");this._wrapper=e,this._scrollEl.next(q.g.some(t)),this._viewportRect=n,e.appendChild(this._editorEl),this._textLength?q.b.getOrElse((function(e){return r._log.error("Failed to reset cursor on ded attach ".concat(e))}))(this.setCursor(0,0)):this.quill.root.focus(),Object($.r)("dedBlockFlush",(function(){return r._isFlushBlocked=!0})),Object($.r)("dedAllowFlush",(function(){return r._isFlushBlocked=!1})),Object($.r)("dedForceFlush",(function(){return r.flushChanges()})),Object($.r)("dedGetText",this.getText),Object($.r)("dedSetCursor",(function(e,t){return q.b.getOrElse((function(e){return r._log.error(e)}))(r.setCursor(e,t,x.sources.USER))})),Object($.r)("dedType",(function(e){r.flushChanges(),r._pushChanges(I.a.ins(r.getCursor().index,e,r.getText().length),u.user)})),Object($.r)("dedQuill",this.quill),Object($.r)("ded",this),Object($.r)("getPossibleCursorPosition",(function(e,t,n){return r.getPossibleCursorPosition("string"==typeof e?q.b.left(e):q.b.right(e),"string"==typeof t?q.b.left(t):q.b.right(t),n)})),this._subs.push(this._handleFreezeFocus(),H.a.fromEvent(this.quill.root,"mouseup").pipe(H.a.map((function(e){return{clicks:e.detail,range:q.g.fromNullable(r.quill.getSelection())}})),H.a.map((function(e){var t=e.clicks,n=e.range;return Object(j.pipe)(n,q.g.chain((function(e){return Object(z.o)(r.quill.getText(),e.index)})),q.g.filter((function(e){return""!==e.meta.value})),q.g.map(N.a.create(t)))}))).subscribe(this.clickedWord),this._scrollTo.pipe(H.a.switchAll()).subscribe((function(e){return r._setScroll(e)})),this._scrollEl.pipe(H.b.compact,H.a.switchMap((function(e){return H.a.fromEvent(e,"scroll").pipe(H.a.map((function(){return r._getScroll()})))}))).subscribe(this.scrollPosition),H.a.combineLatestStatic(this._contentChange.pipe(H.a.filter((function(e){return e.source===x.sources.USER}))),this._viewportRect).subscribe((function(e){var t=Object(_._)(e,2)[1];requestAnimationFrame((function(){Object(j.pipe)(r._getCursorRect(),q.b.fold((function(e){return r._log.warn("Typing enhancer: Cannot get cursor rect",e),q.g.none}),E.identity),q.g.tap((function(e){var n=Math.ceil(e.top+e.height),i=Math.ceil(.7*Math.max(t.top+t.height));n>i&&r._scrollTo.next(r._getAnimation({scrollTop:r._getScroll()+Math.round(n-i),animate:P.a.initial},r._getScroll()))})))}))})),H.a.combineLatestStatic(this._scrollEl.pipe(H.b.compact),this._history.changed,(function(e,t){return e})).subscribe((function(e){return requestAnimationFrame((function(){Object(j.pipe)(r._getCursorRect(),q.b.fold((function(e){return r._log.warn("Undo/Redo: Cannot get cursor rect",e),q.g.none}),E.identity),q.g.tap((function(t){var n=e.getBoundingClientRect();(t.top<n.top||t.top>n.bottom)&&r._scrollTo.next(r._getAnimation({scrollTop:r._getScroll()+Math.round(t.top-n.top-n.height/2),animate:P.a.none},r._getScroll()))})))}))})),H.a.combineLatestStatic(this._viewportRect,this.scrollPosition.pipe(H.a.debounceTime(150))).pipe(H.a.map(S.nb),H.b.compactMap(Object(E.flow)(this._calculateViewport,H.a.of))).subscribe(this.viewport),H.a.mergeStatic(H.a.fromEvent(this.quill.root,"blur").pipe(H.a.mapTo(!1)),H.a.fromEvent(this.quill.root,"focus").pipe(H.a.mapTo(!0))).subscribe(this.isEditorFocused),this._execCommandAfterFocus.pipe(H.a.withLatestFrom(this.isEditorFocused)).subscribe((function(e){var t=Object(_._)(e,2),n=t[0];t[1]||r._restoreFocus(),document.execCommand(n)})))}},{key:"dispose",value:function(){this._subs.dispose(),this._marker.dispose(),this._history.dispose(),this.quill.emitter.removeAllListeners()}},{key:"setContents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.api,n=Object(z.u)(e),r=void 0!==this._outgoingChanges,i=e.delta.compose(n.delta),a=T.a.calcDiffLength(i),o=this._deltaFilter(i),s=T.a.calcDiffLength(o);this._log.debug("reset content",{shouldNormalizeCRLF:!n.isEmpty,hasOutgoingChanges:r,deltaLength:a,deltaWithoutAttrsLength:s,deltaLengthMismatch:a!==s}),this.quill.setContents(Object(z.z)(o),"api"),this._setTextLength(a,t),"api"!==t?this._changes.next({change:I.a.unsafeRes(i),source:t}):n.isEmpty||this._changes.next({change:n,source:t})}},{key:"getCursor",value:function(){var e=this.selection.getValue();return Object(O._)(Object(y._)({},e),{meta:Object(O._)(Object(y._)({},e.meta),{formatting:this.getFormatting(P.g.toTextRange(e))})})}},{key:"getLastPossibleCursorPosition",value:function(){return this._textLength-1}},{key:"getSelectionRect",value:function(e){var t=this;return Object(j.pipe)(this._getDocumentRange(e||this.getCursor()),q.b.map((function(e){return new z.b(e,(function(){return t.quill.container.getBoundingClientRect()}))})))}},{key:"changeMarks",value:function(e){this.flushChanges(),this._log.debug("change marks",e.map(B.a.Change.addRange));var t=this._marker.changeMarks(e);return this.isEditorFocused.getValue()&&this._restoreFocus(),t}},{key:"_scrollToPosition",value:function(e){var t=this,n=this._getScroll(),r=this._normalizeScrollOffset(e.scrollTop-this._getScrollTop());this._scrollTo.next(this._getAnimation({scrollTop:n+r,animate:e.animate},n).pipe(H.a.finalize((function(){var e=t._getScroll();t._scrollTo.next(t._getAnimation({scrollTop:e,animate:P.a.none},e))}))))}},{key:"contentRect",get:function(){return Object(j.pipe)(q.g.fromNullable(this._wrapper),q.g.map((function(e){return e.getBoundingClientRect()})))}},{key:"getMarkRect",value:function(e){return Object(j.pipe)(this._marker.getMarkById(e),q.b.chain((function(e){return e.getRect()})))}},{key:"getMarkById",value:function(e){return this._marker.getMarkById(e)}},{key:"scrollToMark",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{animate:P.a.none,paddingTop:0},n=this;return Object(j.pipe)(this._marker.getMarkById(e),q.b.chain((function(e){return n._getMarkRect(e)})),q.b.fold((function(e){return n._log.error("Cannot scroll to given mark",e),H.a.throwError(e)}),(function(e){var r=t.animate||P.a.none,i=n._getScrollTop(),a=n._normalizeScrollOffset(e.top-(t.paddingTop?t.paddingTop:i));return new H.a.Observable((function(e){return e.next(void 0),n._scrollTo.next(n._getAnimation({scrollTop:n._getScroll()+a,animate:r},n._getScroll()).pipe(H.a.finalize((function(){e.complete()})))),function(){n._scrollTo.next(n._getAnimation({scrollTop:n._getScroll(),animate:P.a.none},n._getScroll()))}}))})))}},{key:"undo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";this._history.undo(e)}},{key:"canUndo",value:function(){return this._history.canUndo()}},{key:"clearHistory",value:function(){this._history.clear()}},{key:"redo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";this._history.redo(e)}},{key:"canRedo",value:function(){return this._history.canRedo()}},{key:"cut",value:function(){this._execCommandAfterFocus.next("cut")}},{key:"copy",value:function(){this._execCommandAfterFocus.next("copy")}},{key:"dontFreezeWhen",value:function(e,t){return!0===this._options.freezeFocusFeature?this._freezeFocus.watch(U.b.invert(e),t):D.a.EMPTY}},{key:"_getScrollTop",value:function(){return Object(j.pipe)(this._getScrollRect(),q.g.fold((function(){return 0}),(function(e){return e.top})))}},{key:"_getMarkRect",value:function(e){return Object(j.pipe)(e.getRect(),q.b.map(L.b.relativeToViewport),q.b.map((function(e){return{top:e.top,bottom:e.bottom}})))}},{key:"_getCursorRect",value:function(){var e=this;return q.b.tryCatch((function(){var t=e.quill.getSelection();if(Boolean(t)&&0===t.length){var n=e.quill.container.getBoundingClientRect(),r=e.quill.getBounds(t.index,1);return q.g.some({bottom:r.bottom+n.top,height:r.height,left:r.left+n.left,right:r.right+n.left,top:r.top+n.top,width:r.width})}return q.g.none}),(function(e){return e}))}},{key:"_ensureSelection",value:function(e){var t=this,n=this.quill.getSelection();e(),Boolean(n)&&n.length>0&&this._clearSelection((function(){t.quill.setSelection(n.index,n.length,x.sources.API)}))}},{key:"_clearSelection",value:function(e){var t=Boolean(window.getSelection)?window.getSelection():document.selection;Boolean(t)&&(Boolean(t.removeAllRanges)?t.removeAllRanges():Boolean(t.empty)&&t.empty()),e&&requestAnimationFrame(e)}},{key:"addFormatting",value:function(e,t,n){t===P.e.Type.link?this._applyFormatting(P.e.Type.link,e,n):this._applyFormatting(t,e)}},{key:"removeFormatting",value:function(e,t){t===P.e.Type.link?this._applyFormatting(P.e.Type.link,e,!1):this._applyFormatting(t,e,!1)}},{key:"clearFormatting",value:function(e){var t=this;N.b.isEmpty(e)&&(P.e.asList.forEach((function(e){var n=z.c.mapEditorFormatToQuill(e).key;t.quill.format(n,!1,"user")})),this._contentUpdatedInternal.next({type:P.b.Type.onlyFormatting,source:"user",delta:new M.a})),this.quill.removeFormat(e.start,N.b.size(e),"user")}},{key:"_applyFormatting",value:function(e,t,n){var r=z.c.mapEditorFormatToQuill(e),i=r.key,a=r.value,o=void 0!==n?n:a;if(N.b.isEmpty(t)){if(e===P.e.Type.link)return;this.quill.format(i,o,"user"),this._contentUpdatedInternal.next({type:P.b.Type.onlyFormatting,source:"user",delta:new M.a})}else{this._getFormattingFn(e)(t.start,N.b.size(t),i,o,"user")}}},{key:"getFormatting",value:function(e){return z.c.mapQuillFormatsToDenali(this.quill,e)}}]),e}();ae=se||(se={}),oe=function(e){Object(v.a)(n,e);var t=Object(w.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_MODULES,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.a.skipAny,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.a.skipAny,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.a.Mock();return Object(m.a)(this,n),Object(z.x)(),e=t.call(this,r,s,i,a,o),Object(h._)(Object(p.a)(e),"markChangeApplied",void 0),Object(h._)(Object(p.a)(e),"selectedFormatting",void 0),Object(h._)(Object(p.a)(e),"_envSupportsSelection",void 0),e.markChangeApplied=e._marker.markChangeApplied,e.selectedFormatting=new H.a.Subject,e._envSupportsSelection=Boolean(window.getSelection),e._envSupportsSelection||Object.assign(e.quill,{setSelection:function(e,t){if(null!==e){var n="object"==typeof e?e.index:e;Object(K.f)(n>=0,"range selection can not accept negative values")}}}),e}return Object(f.a)(n,[{key:"fakeAttach",value:function(){this.attach(document.createElement("div"),document.createElement("div"),H.a.of(G.c.Rect.empty))}},{key:"mutationObserverPeriod",get:function(){return Boolean(MutationObserver._period)?MutationObserver._period:n.defaultMutationObserverPeriod}},{key:"container",get:function(){return this.quill.root}},{key:"setContents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.api;Object(g.a)(Object(b.a)(n.prototype),"setContents",this).call(this,e,t)}},{key:"getCursor",value:function(){return this._envSupportsSelection?Object(g.a)(Object(b.a)(n.prototype),"getCursor",this).call(this):P.g.empty}}],[{key:"create",value:function(e){var t=e.modules,r=e.allowedAttrs,i=e.allowedEmbeds,a=e.options,o=e.dox;return new n(t,r,i,a,o?X.a.Mock(o):void 0)}}]),n}(se),Object(h._)(oe,"defaultMutationObserverPeriod",100),Object(h._)(oe,"DEFAULT_MODULES",{theme:ne.a,modules:{history:J.a,clipboard:Object(Q.b)(!1,[]),keyboard:ee.a.getKeyboardWithBindings(ee.a.Bindings.plainTextBindings),marks:te.a},formats:[]}),ae.Mock=oe;var ce=n("bOc0")},OMUe:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("x+Pc"),c=n("I76W"),l=n("La5+"),u=n("xk6L"),d=n("mgiE"),p=n("TKPA"),m=n("M3t0"),f=n("s1NC"),h=function(){function e(t,n){var r=this;Object(i.a)(this,e),Object(o._)(this,"_documentModel",void 0),Object(o._)(this,"_notificationsManager",void 0),Object(o._)(this,"_subs",void 0),Object(o._)(this,"_log",void 0),Object(o._)(this,"_handleDownloadError",void 0),this._documentModel=t,this._notificationsManager=n,this._subs=new l.a.Keeper,this._log=m.d.Logging.getLogger("downloadViewModel"),this._handleDownloadError=function(e){return r._log.error("downloadDocument failed",e),Object(s.a)(e,c.a.UnauthorizedError)?r._notificationsManager.enqueue("unauthorizedError"):Object(s.a)(e,c.a.DocumentNotFoundError)?r._notificationsManager.enqueue("downloadDocumentNotFoundError"):Object(s.a)(e,c.a.TooManyRequestsError)||Object(s.a)(e,c.a.ConnectionError)?r._notificationsManager.enqueue("isTemporaryDownloadError"):r._notificationsManager.enqueue("error")}}return Object(a.a)(e,[{key:"downloadOriginal",value:function(){this._subs.push(u.a.from(this._documentModel.downloadOriginal(this._documentModel.rtfMode===f.d.DocumentFeatures.FormattingMode.on?d.g.some("docx"):d.g.none)).pipe(u.a.catchError(this._handleDownloadError)).subscribe())}},{key:"downloadProofread",value:function(){this._subs.push(u.a.from(this._documentModel.downloadProofread()).pipe(u.a.catchError(this._handleDownloadError)).subscribe())}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){e.Mock=function e(){Object(i.a)(this,e),Object(o._)(this,"dispose",p.e),Object(o._)(this,"downloadOriginal",p.e),Object(o._)(this,"downloadProofread",p.e)}}(r||(r={}))},OQWN:function(e){e.exports=JSON.parse('{"full":"_4d8e3185-new_toggler-full","widthTransition":"_3d28e15e-new_toggler-widthTransition","background":"_5010b49c-new_toggler-background","labelReveal":"_c8dc0c53-new_toggler-labelReveal","fadeIn":"_df89482d-new_toggler-fadeIn","edgeBackground":"_6af1dd0a-new_toggler-edgeBackground _5010b49c-new_toggler-background"}')},OVHU:function(e,t){window.MutationObserver=window.MutationObserver||function(e){function t(e){this.i=[],this.m=e}function n(t){var n,r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)r[n]!==e&&t[n]!==e&&(r[n]=t[n]);return r}function r(t,r){var s=a(t,r);return function(l){var u,d=l.length;r.a&&3===t.nodeType&&t.nodeValue!==s.a&&l.push(new n({type:"characterData",target:t,oldValue:s.a})),r.b&&s.b&&i(l,t,s.b,r.f),(r.c||r.g)&&(u=function(t,r,a,s){function l(e,r,a,o,c){var l,d,p,m=e.length-1;for(c=-~((m-c)/2);p=e.pop();)l=a[p.j],d=o[p.l],s.c&&c&&Math.abs(p.j-p.l)>=m&&(t.push(n({type:"childList",target:r,addedNodes:[l],removedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),c--),s.b&&d.b&&i(t,l,d.b,s.f),s.a&&3===l.nodeType&&l.nodeValue!==d.a&&t.push(n({type:"characterData",target:l,oldValue:d.a})),s.g&&u(l,d)}function u(r,a){for(var p,m,f,h,g,b=r.childNodes,v=a.c,y=b.length,O=v?v.length:0,_=0,C=0,w=0;C<y||w<O;)(h=b[C])===(g=(f=v[w])&&f.node)?(s.b&&f.b&&i(t,h,f.b,s.f),s.a&&f.a!==e&&h.nodeValue!==f.a&&t.push(n({type:"characterData",target:h,oldValue:f.a})),m&&l(m,r,b,v,_),s.g&&(h.childNodes.length||f.c&&f.c.length)&&u(h,f),C++,w++):(d=!0,p||(p={},m=[]),h&&(p[f=o(h)]||(p[f]=!0,-1===(f=c(v,h,w,"node"))?s.c&&(t.push(n({type:"childList",target:r,addedNodes:[h],nextSibling:h.nextSibling,previousSibling:h.previousSibling})),_++):m.push({j:C,l:f})),C++),g&&g!==b[C]&&(p[f=o(g)]||(p[f]=!0,-1===(f=c(b,g,C))?s.c&&(t.push(n({type:"childList",target:a.node,removedNodes:[g],nextSibling:v[w+1],previousSibling:v[w-1]})),_--):m.push({j:f,l:w})),w++));m&&l(m,r,b,v,_)}var d;return u(r,a),d}(l,t,s,r)),(u||l.length!==d)&&(s=a(t,r))}}function i(t,r,i,a){for(var o,s,c={},l=r.attributes,d=l.length;d--;)s=(o=l[d]).name,a&&a[s]===e||(u(r,o)!==i[s]&&t.push(n({type:"attributes",target:r,attributeName:s,oldValue:i[s],attributeNamespace:o.namespaceURI})),c[s]=!0);for(s in i)c[s]||t.push(n({target:r,type:"attributes",attributeName:s,oldValue:i[s]}))}function a(e,t){var n=!0;return function e(r){var i={node:r};return!t.a||3!==r.nodeType&&8!==r.nodeType?(t.b&&n&&1===r.nodeType&&(i.b=s(r.attributes,(function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=u(r,n)),e}))),n&&(t.c||t.a||t.b&&t.g)&&(i.c=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}(r.childNodes,e)),n=t.g):i.a=r.nodeValue,i}(e)}function o(e){try{return e.id||(e.mo_id=e.mo_id||d++)}catch(t){try{return e.nodeValue}catch(e){return d++}}}function s(e,t){for(var n={},r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function c(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,n){for(var i={b:!!(n.attributes||n.attributeFilter||n.attributeOldValue),c:!!n.childList,g:!!n.subtree,a:!(!n.characterData&&!n.characterDataOldValue)},a=this.i,o=0;o<a.length;o++)a[o].s===e&&a.splice(o,1);n.attributeFilter&&(i.f=s(n.attributeFilter,(function(e,t){return e[t]=!0,e}))),a.push({s:e,o:r(e,i)}),this.h||function(e){!function n(){var r=e.takeRecords();r.length&&e.m(r,e),e.h=setTimeout(n,t._period)}()}(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var l=document.createElement("i");l.style.top=0;var u=(l="null"!=l.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},d=1;return t}(void 0)},OX5W:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("lKCo"),i=n("DTwm"),a=n("pbOK"),o=n("GMJx"),s=n("B/Ki");const c=a.s(a.z({ops:a.t(a.B([a.z({insert:a.s(a.w)}),a.z({retain:a.s(a.q)}),a.z({delete:a.s(a.q)})]))}));function l(e){return Object(i.pipe)(e,r.fromPredicate(c.is),r.map(e=>new o.a([...e.ops])))}function u(e,t){return e.reduce((e,t)=>(s.a.isInsertString(t)?(e.text=`${e.text.substring(0,e.index)}${t.insert}${e.text.substring(e.index)}`,e.index+=t.insert.length):s.a.isDelete(t)?e.text=`${e.text.substring(0,e.index)}${e.text.substring(e.index+t.delete)}`:s.a.isRetain(t)?e.index+=t.retain:function(e){var t;return s.a.isInsertEmbed(e)&&!0===(null===(t=e.insert)||void 0===t?void 0:t.linebreak)}(t)&&(e.text=`${e.text.substring(0,e.index)}\n${e.text.substring(e.index)}`,e.index+=1),e),{text:t,index:0}).text}},OXKW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("hcme"),a=n("DTwm"),o=n("lXop"),s=n("xk6L"),c=n("yIk2"),l=n("mgiE");!function(e){!function(e){e.toBindingProvider=function(e,t){return function(n){return function(i){return Object(a.pipe)(n,l.a.filter(r.isItem),l.a.chain((function(n){return Object(a.pipe)(n.hotkey,l.g.map((function(a){return a.map((function(a){return{action:n.name,hotkey:i(a),isActive:t(n.name),bind:s.a.tap((function(){return e({event:n.name,source:r.Source.Hotkey})}))}}))})),l.g.getOrElse((function(){return[]})))})))}}}}(e.Scheme||(e.Scheme={}));e.isItem=function(e){return"string"!=typeof e};!function(e){e.isViewItem=function(e){return"string"!=typeof e}}(e.Item||(e.Item={})),function(e){e.isView=function(e){return e.source===r.Source.View},e.isHotkey=function(e){return e.source===r.Source.Hotkey}}(e.MenuEvent||(e.MenuEvent={})),function(e){e.Hotkey="Hotkey",e.View="View"}(e.Source||(e.Source={}));e.toMenuEvents=function(e,t){return t.pipe(s.a.map((function(t){return[t.event,o.g.toTextRange(e()),t.source]})))};e.linkEvents=function(e,t){return e.pipe(s.a.mergeMap((function(e){var n=Object(i._)(e,3),r=n[0],a=n[1],o=n[2];return c.b.toObservable(t[r].call(null,a,o))})))}}(r||(r={}))},Oegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTreatmentsWithType=void 0;var r=function(e){return"string"==typeof e};t.validateTreatmentsWithType=function(e){return Array.isArray(e)&&e.reduce((function(e,t){return e&&(r((n=t).experimentName)&&r(n.groupName)&&r(n.experimentId)&&r(n.type));var n}),!0)}},OfeG:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return i}));var r,i,a=n("a5gI"),o=n("tiWp"),s=n("0Qjk"),c=n("/edk"),l=n("mgiE"),u=n("TKPA"),d=n("0kuo"),p=n("M3t0");!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=l.c.getStructEq({alternative:s.a.Alternative.eq,alternativeId:l.c.eqString,alertId:l.c.eqString})}(r||(r={}));class m{pushChanges(e){c.a.isDelta(e)&&this._alternatives.forEach(t=>{Object(o.pipe)(t.alternative.rebase(e.delta),l.g.fold(u.e,e=>t.alternative=e))})}registerAlternative(e,t){const n=m.getAlternativeId(t),r={alternative:e,alternativeId:n,alertId:t};return this._alternatives.set(n,r),r}deregisterAlternative(e){return Object(o.pipe)(this.getAlternative(e),l.b.chain(({alternative:e,alternativeId:t})=>l.b.tryCatchError(()=>(Object(d.f)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))}constructor(){Object(a._)(this,"_log",p.d.Logging.getLogger("alternative_manager",p.a.LogLevel.DEBUG)),Object(a._)(this,"_alternatives",new Map),Object(a._)(this,"getAlternative",e=>{const t=this._alternatives.get(e);if(t)return l.b.right(t);{const t="Tried to retrieve non-registered alternative: "+e;return this._log.error(t),l.b.left(new Error(t))}})}}Object(a._)(m,"_alternativeCounter",0),Object(a._)(m,"getAlternativeId",e=>`alt-${e}-${m._alternativeCounter++}`),function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:m.getAlternativeId(t),alertId:t}),getAlternative:()=>l.b.left(new Error("Not implemented in mock")),deregisterAlternative:()=>l.b.right(s.a.Alternative.create([]))}}(i||(i={}))},Olv4:function(e,t,n){e.exports=n.p+"files/88b63c27cdce33467477f6b31373c11b/inter-italic.woff"},"Ow/n":function(e){e.exports=JSON.parse('{"firstTier":"_b7b0ef4d-view-firstTier","firstTierLoader":"_363949ce-view-firstTierLoader _b7b0ef4d-view-firstTier","editor":"_7897b0b2-view-editor","invisible":"_1e7ceae4-view-invisible"}')},P9Nt:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("tiWp"),o=n("+vYo"),s=n("0Qjk"),c=n("mgiE"),l=n("D2TP"),u=n("xk6L"),d=n("yIk2"),p=n("d3CI"),m=n("wdnv");class f{dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_listenSuccessStateChange(){const e=e=>e.type===r.SuccessType.applied||e.type===r.SuccessType.zero?u.a.of(e):this._documentModel.checkingState.pipe(u.a.filter(e=>"checking"!==e),u.a.first(),u.a.mapTo(e));return this._lensSwitch.pipe(u.b.compactMap(t=>this.textAmount.pipe(u.a.map(this._textAmountToSuccessType),u.a.startWith(t.prevLensType===p.i.lensview?{type:r.SuccessType.applied,isAllAlerts:t.isAllAlerts}:this._textAmountToSuccessType(this.textAmount.get())),u.a.pairwise(),u.a.map(([e,t])=>e.type===r.SuccessType.applied&&t.type!==r.SuccessType.zero?e:t),u.a.switchMap((t,n)=>0===n?u.a.of(t):e(t)),u.a.tap(e=>{this._trackSuccessStateChanged(e.type===r.SuccessType.applied?"applied":e.type===r.SuccessType.zero?"nothingToCheck":"noIssues")})))).subscribe(d.b.toAtom(this.successState))}constructor(e,t,n,f,h,g=m.a.WithSuccess.State.isInSuccess(f),b){Object(i._)(this,"_state",void 0),Object(i._)(this,"_documentModel",void 0),Object(i._)(this,"_trackSuccessStateChanged",void 0),Object(i._)(this,"_capabilities",void 0),Object(i._)(this,"mutedAlertsOptions",void 0),Object(i._)(this,"isInSuccess",void 0),Object(i._)(this,"_withBirthday",void 0),Object(i._)(this,"_getTextAmount",void 0),Object(i._)(this,"_subs",void 0),Object(i._)(this,"successState",void 0),Object(i._)(this,"textAmount",void 0),Object(i._)(this,"mutedAlerts",void 0),Object(i._)(this,"actionEvents",void 0),Object(i._)(this,"applicatorEffects",void 0),Object(i._)(this,"_currentLens",void 0),Object(i._)(this,"_listenTextSize",void 0),Object(i._)(this,"_lensSwitch",void 0),Object(i._)(this,"_textAmountToSuccessType",void 0),this._state=e,this._documentModel=t,this._trackSuccessStateChanged=n,this._capabilities=f,this.mutedAlertsOptions=h,this.isInSuccess=g,this._withBirthday=b,this._getTextAmount=e=>0===e?r.TextAmount.zero:e<=s.a.BIG_TEXT_SIZE?r.TextAmount.small:r.TextAmount.large,this._subs=[],this.textAmount=o.a.create(this._getTextAmount(this._documentModel.documentLength.get().trimmed)),this.actionEvents=new u.a.Subject,this.applicatorEffects={id:"successViewModel.effects",when:l.a.isWithAlertsId,what:p.e.Effect.Applicator.create(this.actionEvents.pipe(u.a.filter(({type:e})=>e===r.ActionType.More),u.a.map(()=>e=>Object(a.pipe)(p.e.hasItems(e)?this._capabilities.findFirstAlert(e.currentLens):c.g.none,c.g.fold(()=>e,t=>e.patch({currentLens:p.e.hasItems(e)?this._capabilities.selectItemByAlert(t)(e.currentLens):e.currentLens}))))))},this._currentLens=this._state.view(e=>({isSuccess:this.isInSuccess(e),type:e.currentLens.type,isAllAlerts:l.a.isMainLens(e.currentLens.id)})),this._listenTextSize=()=>this._currentLens.view(e=>e.isSuccess).pipe(u.a.switchMap(d.b.orEmpty(this._documentModel.documentLength.view("trimmed"))),u.a.map(this._getTextAmount)).subscribe(d.b.toAtom(this.textAmount)),this._lensSwitch=this._currentLens.pipe(u.a.startWith(this._currentLens.get()),u.a.pairwise(),u.a.map(([e,t])=>t.isSuccess?c.g.some({prevLensType:e.type,isAllAlerts:t.isAllAlerts}):c.g.none)),this._textAmountToSuccessType=e=>e===r.TextAmount.zero?{type:r.SuccessType.zero,showBirthday:this._withBirthday.get()}:e===r.TextAmount.large?{type:r.SuccessType.large}:{type:r.SuccessType.small},this.successState=o.a.create({type:r.SuccessType.zero,showBirthday:this._withBirthday.get()}),this._subs.push(this._listenTextSize(),this._listenSuccessStateChange()),this.mutedAlerts=Object(a.pipe)(h,c.g.map(()=>({reviewMutedSuggestions:()=>{},mutedSuggestionsCount:this._state.view(e=>e.currentLens.meta.mutedCount)})))}}!function(e){let t,n,r;!function(e){e.More="More"}(t=e.ActionType||(e.ActionType={})),function(e){e.zero="zero",e.small="small",e.large="large"}(n=e.TextAmount||(e.TextAmount={})),function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied",e.premiumOnboardingStart="premiumOnboardingStart",e.premiumOnboardingComplete="premiumOnboardingComplete"}(r=e.SuccessType||(e.SuccessType={}));e.Mock=class{reviewMutedSuggestions(){throw new Error("Method not implemented.")}dispose(){throw new Error("Method not implemented.")}constructor(){Object(i._)(this,"textAmount",o.a.create(n.zero)),Object(i._)(this,"successState",o.a.create({type:r.zero,showBirthday:!1})),Object(i._)(this,"mutedSuggestionsCount",o.a.create(0))}}}(r||(r={}))},PKYJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"},i={llamaShadowToken:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"}},PR1L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return M}));var r,i,a,o,s,c=n("Wy1Y"),l=n("uKMM"),u=n("a5gI"),d=n("8O/t"),p=n("X76w"),m=n("hcme"),f=n("mMt2"),h=n("DTwm"),g=n("tiWp"),b=n("+vYo"),v=n("4tRT"),y=n("oIsx"),O=n("lXop"),_=n("Y8fD"),C=n("xk6L"),w=n("La5+"),S=n("ykgB"),k=n("yIk2"),E=n("mgiE"),j=n("0kuo"),x=n("M3t0"),A=n("Eve8"),I=function(){function e(t){var n=this;Object(c.a)(this,e),Object(u._)(this,"_closeModal",void 0),Object(u._)(this,"actions",void 0),Object(u._)(this,"_subscriptions",void 0),this._closeModal=t,this.actions=new C.a.Subject,this._subscriptions=new w.a.Keeper,this._subscriptions.push(this.actions.subscribe((function(){return n._closeProofitOrder()})))}return Object(l.a)(e,[{key:"_closeProofitOrder",value:function(){this._closeModal()}},{key:"dispose",value:function(){this._subscriptions.dispose()}}]),e}(),T=function(){function e(t,n){var r=this;Object(c.a)(this,e),Object(u._)(this,"details",void 0),Object(u._)(this,"_ops",void 0),Object(u._)(this,"active",void 0),Object(u._)(this,"select",void 0),Object(u._)(this,"unselect",void 0),Object(u._)(this,"placeOrder",void 0),this.details=t,this._ops=n,this.active=b.a.create(!1),this.select=function(){r._ops._selectPlan(r.details)},this.unselect=function(){r._ops._selectPlan(null)},this.placeOrder=function(e,t){return r._ops._placeOrder(r.details,e,t)}}return Object(l.a)(e,[{key:"toggleActive",value:function(e){return this.active.set(e),this}},{key:"isRecommended",value:function(e){var t=this,n=Object.values(y.a.PlanType);return this===Object(f.a)(e).filter((function(e){return e.details.tier===t.details.tier})).reduce((function(e,t){return n.indexOf(t.details.turnaround)<n.indexOf(e.details.turnaround)?t:e}))&&this.details.enabled}}]),e}();!function(e){e.Order="Order",e.Success="Success"}(r||(r={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2"}(i||(i={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2",e[e.Step3=2]="Step3",e[e.Step4=3]="Step4",e[e.Step5=4]="Step5"}(a||(a={})),(s=o||(o={})).selectPlanTier=function(e,t){return Object(p._)(Object(d._)({},e),{selectedPlanTier:t,selectedPlans:e.plans.filter((function(e){return e.details.tier===t})).slice(0,3)})},s.selectPlan=function(e,t){var n=E.g.getEq(y.a.Plan.eq),r=function(e){return n.equals(t,E.g.some(e.details))},i=function(e){return e.toggleActive(r(e))};return Object(p._)(Object(d._)({},e),{plans:e.plans.map(i),selectedPlans:e.selectedPlans.map(i),selectedPlan:E.g.fromNullable(e.plans.find(r))})};var M=function(){function e(t,n,s,l,k,I,M){var P=this;Object(c.a)(this,e),Object(u._)(this,"_subscription",void 0),Object(u._)(this,"_documentModel",void 0),Object(u._)(this,"_ded",void 0),Object(u._)(this,"_user",void 0),Object(u._)(this,"_notificationsManager",void 0),Object(u._)(this,"_router",void 0),Object(u._)(this,"_config",void 0),Object(u._)(this,"modal",void 0),Object(u._)(this,"isVisibleModal",void 0),Object(u._)(this,"noteToEditor",void 0),Object(u._)(this,"isInternalUser",void 0),Object(u._)(this,"freeProofitTermsAgreed",void 0),Object(u._)(this,"requirePaymentCheck",void 0),Object(u._)(this,"viewState",void 0),Object(u._)(this,"subscriptionState",void 0),Object(u._)(this,"braintreeApi",void 0),Object(u._)(this,"leftStep",void 0),Object(u._)(this,"rightStep",void 0),Object(u._)(this,"_orderModalViewModelOption",void 0),Object(u._)(this,"_initialNativeLanguage",void 0),Object(u._)(this,"viewStateAndSubscription",void 0),Object(u._)(this,"_proofit",void 0),Object(u._)(this,"_subscriptions",void 0),Object(u._)(this,"_closeModal",void 0),Object(u._)(this,"changeLeftStep",void 0),Object(u._)(this,"changeRightStep",void 0),Object(u._)(this,"placeOrderAfterAntiFraudCheck",void 0),Object(u._)(this,"onBillingError",void 0),Object(u._)(this,"requestPlans",void 0),Object(u._)(this,"requestStatistics",void 0),Object(u._)(this,"selectPlanTier",void 0),Object(u._)(this,"_selectPlan",void 0),Object(u._)(this,"_placeOrder",void 0),Object(u._)(this,"_onBillingSuccess",void 0),Object(u._)(this,"_log",void 0),Object(u._)(this,"_goToMyDocuments",void 0),this._subscription=t,this._documentModel=n,this._ded=s,this._user=l,this._notificationsManager=k,this._router=I,this._config=M,this.modal=b.a.create(E.g.none),this.isVisibleModal=this.modal.lens(v.a.create(E.g.isSome,(function(e,t){return e?t:E.g.none}))),this.viewState=b.a.create(E.g.none),this.subscriptionState=this._subscription.state,this.braintreeApi=this._subscription.braintreeApi,this.leftStep=b.a.create(a.Step1),this.rightStep=b.a.create(i.Step1),this._orderModalViewModelOption=E.g.none,this._initialNativeLanguage=E.g.none,this.viewStateAndSubscription=this.viewState.pipe(C.a.combineLatest(this._subscription.state)),this._subscriptions=new w.a.Keeper,this._closeModal=function(){return P.modal.set(E.g.none)},this.changeLeftStep=function(e){P.leftStep.set(e)},this.changeRightStep=function(e){P.rightStep.set(e)},this.placeOrderAfterAntiFraudCheck=function(e){P._log.info("Anti-fraud place order after check"),P._subscriptions.push(P.viewStateAndSubscription.pipe(C.a.first(),C.a.map((function(e){return Object(m._)(e,1)[0]})),C.a.map(E.g.chain((function(e){return e.selectedPlan}))),C.a.switchMap(E.g.fold(Promise.resolve,(function(t){return t.placeOrder(E.g.some(e),!1)})))).subscribe((function(){return P._onBillingSuccess()}),(function(){return P.onBillingError()})))},this.onBillingError=function(){P._subscriptions.push(P._showPaymentError().subscribe())},this.requestPlans=this._ded.contentUpdated.pipe(C.a.filter(O.b.isTextMaybeWithFormatting),C.a.auditTime(1e3),C.a.startWith(void 0),C.a.switchMap((function(){return Promise.all([P._proofit.getPlans(),P._user.getUserNativeLanguage()])})),C.a.retryWhen(S.a.OperationRetrier.RetryStrategy.conditional((function(e){return"TimeoutError"===e.name||"NotConnectedError"===e.name}),S.a.OperationRetrier.RetryStrategy.linear(2,1e3))),C.a.tap((function(e){var t=Object(m._)(e,2),n=t[0],r=t[1];P._initialNativeLanguage=Object(g.pipe)(r,E.b.getOrElse((function(){return E.g.none})));var i=Object(f.a)(n.turnaroundOptions).concat(Object(f.a)(n.clarityTurnaroundOptions)).map((function(e){return new T(e,P)})),a={words:n.words,selectedPlanTier:y.a.PlanTier.Base,plans:i,selectedPlans:[],selectedPlan:E.g.none,proofitState:E.g.none,statistics:E.g.none,userInputs:Object(g.pipe)(r,E.b.fold((function(){return n.userInputs}),(function(e){return Object(p._)(Object(d._)({},n.userInputs),{nativeLanguage:e,noteToEditor:E.g.none})}))),priceOfferId:n.priceOfferId},s=function(e,t){return e.some((function(e){var n=e.details;return n.tier===t&&Object(g.pipe)(n.credits,E.g.fold((function(){return!1}),(function(e){return e.canBeUsed&&e.balance>0})))}))},c=s(i,y.a.PlanTier.Base),l=s(i,y.a.PlanTier.Clarity),u=c&&!l?y.a.PlanTier.Base:y.a.PlanTier.Clarity;P.viewState.set(E.g.some(o.selectPlanTier(a,u)))})),C.a.catchError((function(e){return P._log.error("Error querying proofit plan options",e),P._notificationsManager.enqueue("error").pipe(C.a.filter(_.a.isCloseAction),C.a.tap((function(){return P.modal.set(E.g.none)})))})),C.a.finalize((function(){P.viewState.set(E.g.none)})),C.a.share()),this.requestStatistics=function(){return P._proofit.getStatistics().pipe(C.a.retryWhen(S.a.OperationRetrier.RetryStrategy.conditional((function(e){return"NotConnectedError"===e.name}),S.a.OperationRetrier.RetryStrategy.linear(2,1e3))),C.a.tap((function(e){P.viewState.modify(E.g.map((function(t){return Object(p._)(Object(d._)({},t),{statistics:e})})))})),C.a.catchError((function(e){return P._log.debug("Error querying proofit statistics",e),C.a.of(E.g.none)})))},this.selectPlanTier=function(e){P.viewState.modify(E.g.map((function(t){return o.selectPlan(o.selectPlanTier(t,e),E.g.none)})))},this._selectPlan=function(e){P.viewState.modify(E.g.map((function(t){return o.selectPlan(t,E.g.fromNullable(e))})))},this._placeOrder=function(e,t,n){return P._updateUserNativeLanguage(),P._proofit.placeOrder(e,P._getUserInputs(),P._getPriceOfferId(),t,n)},this._onBillingSuccess=function(){P._subscriptions.push(P._showPaymentMessage().subscribe())},this._log=x.d.Logging.getLogger("ProofitView"),this._goToMyDocuments=function(){P._router.navigate(A.a.routes.documents.href(),{proofitSubmitted:!0})},this._proofit=this._documentModel.proofit,this.isInternalUser=this._user.features.denali.isInternalUser,this.noteToEditor=this._user.features.denali.proofitNoteToEditor;var N=this._subscription.state.get().value;this.requirePaymentCheck=this._user.features.denali.requirePaymentCheck?b.a.create(!0):this.viewState.view(Object(h.flow)(E.g.chain((function(e){return e.selectedPlan})),E.g.map((function(e){return e.details.requirePaymentCheck})),E.g.getOrElse(h.constFalse))),this.freeProofitTermsAgreed=b.a.create(!1),this._subscriptions.push(this._proofit.state.pipe(C.a.tap((function(e){return P.viewState.modify(E.g.map((function(t){return Object(p._)(Object(d._)({},t),{proofitState:e})})))})),C.b.compact,C.a.switchMap((function(e){switch(e.kind){case"submitted":return P._log.info("Document submitted for proofreading"),P._showSuccessModal();case"finished":case"cancelled":case"sending":return C.a.EMPTY;case"error":return P._log.error("Error sending document for proofreading:",e.errorType),P._createErrorNotification(e.errorType,N.paymentMethod);default:return Object(j.c)(e)}}))).subscribe()),this._subscriptions.push(this.modal.pipe(C.a.pairwise(),C.a.filter((function(e){var t=Object(m._)(e,1)[0];return Object(g.pipe)(t,E.g.exists((function(e){return e.type===r.Success})))}))).subscribe(this._goToMyDocuments))}return Object(l.a)(e,[{key:"clearModals",value:function(){Object(g.pipe)(this._orderModalViewModelOption,E.g.map((function(e){return e.dispose()}))),this._orderModalViewModelOption=E.g.none}},{key:"newOrderModalViewModel",value:function(){var e=new I(this._closeModal);return this._orderModalViewModelOption=E.g.some(e),e}},{key:"closeModal",value:function(){this.modal.set(E.g.none),this.leftStep.set(a.Step1),this.rightStep.set(i.Step1),this.freeProofitTermsAgreed.set(!1)}},{key:"showOrderModal",value:function(){this.modal.set(E.g.some({type:r.Order}))}},{key:"selectUserInput",value:function(e,t){this.viewState.modify(E.g.map((function(n){return Object(p._)(Object(d._)({},n),{userInputs:Object(p._)(Object(d._)({},n.userInputs),Object(u._)({},e,t))})})))}},{key:"dispose",value:function(){this.clearModals(),this._subscriptions.dispose()}},{key:"_showPaymentMessage",value:function(){return this._notificationsManager.enqueue("paymentSuccess")}},{key:"_showPaymentError",value:function(){return this._notificationsManager.enqueue("paymentError")}},{key:"_showSuccessModal",value:function(){return this._log.info("Show Success Modal"),this._proofit.jobDetails.pipe(C.b.compact,C.a.combineLatest(this._user.profile,(function(e,t){var n=e.dueTime,i=t.email;return E.g.some({type:r.Success,payload:{email:i,dueDate:n}})})),C.a.first(),C.a.tap(k.b.toAtom(this.modal)))}},{key:"_createErrorNotification",value:function(e,t){var n=this;switch(e){case"payment":return this._notificationsManager.enqueue("proofitPaymentDeclinedError",{paymentMethod:t}).pipe(C.a.filter((function(e){return"navigateToSubscription"===e})),C.a.tap((function(){return window.open(n._config.account.subscription,"_blank")})));case"emptyDocument":return this._notificationsManager.enqueue("proofitEmptyDocumentError");case"alreadyProofread":return this._notificationsManager.enqueue("proofitDocumentProofreadError").pipe(C.a.filter((function(e){return"navigateToDocuments"===e})),C.a.tap(this._goToMyDocuments));case"complexInternalStructure":return this._notificationsManager.enqueue("proofitComplexInternalStructureError").pipe(C.a.filter((function(e){return"navigateToDocuments"===e})),C.a.tap(this._goToMyDocuments));case"unknown":return this._notificationsManager.enqueue("error");default:return Object(j.c)(e)}}},{key:"_getUserInputs",value:function(){return Object(g.pipe)(this.viewState.get(),E.g.map((function(e){return e.userInputs})),E.g.getOrElse(Object(h.constant)({nativeLanguage:E.g.none,dialect:E.g.none,quotationType:E.g.none,spaceType:E.g.none,noteToEditor:E.g.none})))}},{key:"_updateUserNativeLanguage",value:function(){var e=this,t=this._getUserInputs();E.g.getEq(E.c.eqStrict).equals(t.nativeLanguage,this._initialNativeLanguage)||Object(g.pipe)(t.nativeLanguage,E.g.tap((function(t){return e._user.updateUserNativeLanguage(t)()})))}},{key:"_getPriceOfferId",value:function(){var e=this.viewState.get();return Object(j.f)(!E.g.isNone(e),"Proofit view state should be initialized"),E.g.unsafeGet(e).priceOfferId}}]),e}()},PY5o:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n("8O/t"),i=n("X76w"),a=n("hcme"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("OwvP"),u=n("4GyQ"),d=n("+vYo"),p=n("lXop"),m=n("NDcT"),f=n("jY3z"),h=n("fC5a"),g=n("zK/v"),b=n("L8Yl"),v=n("CRC+"),y=n("ySi0"),O=n("1MPA"),_=n("wuWi"),C=n("7IMz"),w=n("xk6L"),S=n("fuW0"),k=n("d3CI"),E=n("h+d6"),j=n("6+at"),x=n("mgiE"),A=n("RRF2"),I=n("TKPA"),T=n("0kuo"),M=n("6Fzp"),P=n("OUbY"),N=n("xAs4"),B=n("0jky"),L=n("1vTd"),F=n("E5C1"),R=n("OXKW"),D=n("skc2");function H(e){switch(e){case"chrome":case"firefox":case"edge":case"safari":return e;default:return"other"}}function V(e){switch(e){case"windows":case"mac":case"linux":case"android":case"ios":return e;default:return"other"}}n("KQ7Z");var U,W=n("pjeB"),z=function(e){var t=e.documentSettingsViewModel,n=e.lensState,r=e.isDemoMode,i=e.isUkraineMode,a=e.showOnboardingTourA11yUpdates,s=o.useContext(m.a.Context).landmark;return o.createElement("aside",{className:W.leftSidebar,"aria-label":s.documentMenu},o.createElement(G,{viewModel:t}),o.createElement($,{documentSettingsViewModel:t,lensState:n,isDemoMode:r,isUkraineMode:i,showOnboardingTourA11yUpdates:a}))},G=function(e){var t=e.viewModel,n=C.a.useElWatcher(),r=n.ref,i=n.onMount,s=o.useContext(m.a.Context);C.a.FocusTrap.useFocusTrap(t.visualState.pipe(w.a.filter(U.isExpanded),w.a.delay(500),w.a.switchMapTo(r)));var u=r.pipe(w.b.compact),d=new w.a.BehaviorSubject(0),p=t.visualState.pipe(w.a.filter(U.isExpanded),w.a.tap((function(){return d.next(0)}))),f=t.visualState.pipe(w.a.filter(U.isExpanded),w.a.switchMap((function(){return w.a.fromEvent(document,"mousedown").pipe(w.a.map((function(e){return x.g.fromNullable(e.target)})))})),w.a.withLatestFrom(u),w.a.filter((function(e){var t=Object(a._)(e,2),n=t[0],r=t[1];return!Object(c.pipe)(n,x.g.exists((function(e){return A.c.isParent(r,e)})))})),w.a.tap((function(){return t.visualState.set({type:F.a.Collapsed})})));C.a.useSubscriptionTo(p.pipe(w.a.merge(f))),C.a.useSubscriptionTo(Object(c.pipe)(u,w.a.switchMap((function(e){return t.visualState.view(U.isExpanded).pipe(w.a.tap((function(t){return t?e.removeAttribute("inert"):e.setAttribute("inert","true")})))}))));var h=new w.a.Subject;return o.createElement(l.a.Fragment,null,t.visualState.view((function(e){var n=U.isExpanded(e);return o.createElement("nav",{"aria-label":s.documentSettings.label,className:n?W.documentSettingsExpanded:W.documentSettings,ref:i,onMouseEnter:t.onMenuHovered},o.createElement(Y,{viewModel:t}),o.createElement("div",{className:W.menuHead}),o.createElement(O.a,{name:"documentSettingsScroll",showWhenScrollable:!0,className:W.scrollableContent,scrollTo:d,key:e.type,onScroll:h},t.items.map((function(t,n){return R.a.Item.isViewItem(t)?U.isHeader(t.name)?o.createElement(Z,{item:t,key:n,onScroll:h.pipe(w.a.map(I.e))}):o.createElement("div",{ref:function(n){e.type===F.a.Expanded&&null!==n&&Object(c.pipe)(e.scrollTo,x.g.filter((function(e){return e.item===t.name})),x.g.tap((function(e){return d.next(n.getBoundingClientRect().bottom-e.positionY)})))},className:U.getItemClassName(t.name),key:n},o.createElement(X,{item:t,onScroll:h.pipe(w.a.map(I.e))})):o.createElement(te,{key:n})}))))})))},q=o.memo(L.b.createComponent({component:l.a.div,section:L.b.create(L.b.Id.menu),focusStrategy:S.a.FocusStrategy.focusRootOrLastFocusable}),s.constTrue),K=o.memo(L.b.createComponent({component:h.a,section:L.b.create(L.b.Id.support),behavior:S.a.FocusBehavior.captureTab}),s.constTrue),$=function(e){var t=e.documentSettingsViewModel,n=e.lensState,a=e.isDemoMode,s=e.isUkraineMode,d=e.showOnboardingTourA11yUpdates,p=o.useContext(m.a.Context),f=n.view(k.e.isSidebarOpened);return o.createElement(l.a.Fragment,null,t.visualState.view((function(e){var n=U.isExpanded(e);return o.createElement("nav",{"aria-label":p.documentSettings.toolbarLabel,className:n?W.toolbarCollapsed:W.toolbarExpanded,key:"documentSettings-toolbar"},o.createElement("div",{className:W.expandButtonContainer},o.createElement(l.a.div,Object(r._)({"data-name":"documentSettings-toolbarExpand"},Object(u.c)(n?W.expandButtonAnimationWrapperCollapsed:W.expandButtonAnimationWrapperExpanded,a?W.expandButtonSquashed:f.view(Object(I.c)(W.expandButtonSquashedWhenSmall,null)))),o.createElement(q,{className:W.expandButton},a?null:o.createElement(o.Fragment,null,o.createElement(h.a,Object(i._)(Object(r._)({name:"documentSettings-toolbarExpand-backToMyGrammarlyInline",title:"Grammarly Home","aria-label":"Grammarly Home"},Object(u.c)(W.expandButtonInlineAnimation,f.view(Object(I.c)(W.expandButtonHiddenWhenSmall,null)))),{onClick:t.onGoBackToGrammarlyHome}),s?o.createElement(y.d.GrammarlyUkraine,{className:n?W.iconCollapsed:W.iconExpanded}):o.createElement(y.d.Grammarly,{className:n?W.iconCollapsed:W.iconExpanded})),o.createElement(l.a.div,Object(u.c)(W.expandButtonSeparator,f.view(Object(I.c)(W.expandButtonHiddenWhenSmall,null))))),o.createElement(j.b,{alignment:"bottom",eventType:"onclick",stepId:E.a.StepId.Step10,title:d?p.documentSettings.detailedOnboarding.title:void 0,message:d?p.documentSettings.detailedOnboarding.message:p.documentSettings.onboarding.message,themes:{spotClassName:W.onboardingSpot}},o.createElement(h.a,{name:"documentSettings-toolbarExpand-openToolbar",title:"Menu","aria-label":"Menu",className:W.expandButtonInlineAnimation,onClick:t.onOpenToolbar},o.createElement(y.d.DocumentSettings.ExpandMenu,null)))))),o.createElement(K,{name:"documentSettings-toolbarSupport",className:W.toolbarSupportButton,title:p.documentSettings.supportTitle,"aria-label":p.documentSettings.supportTitle,onClick:function(e){t.visualState.set({type:F.a.Expanded,scrollTo:Object(c.pipe)(U.getClickEventY(e),x.g.map((function(e){return{item:F.b.support,positionY:e}})))})}},o.createElement(y.d.QuestionMark,null)))})))},Z=function(e){var t=e.item,n=e.onScroll;return o.createElement("div",{className:U.getItemClassName(t.name)},o.createElement(_.l,{className:Object(c.pipe)(U.getTextClassName(t.name),x.g.toUndefined)},t.title),o.createElement(ee,{item:t,onScroll:n}))},Y=function(e){var t=e.viewModel,n=U.isExpanded(t.visualState.get());return o.createElement("div",{className:n?W.closeButtonWrapperExpanded:W.closeButtonWrapperCollapsed},o.createElement(h.a.Flat,{name:"documentSettings-".concat(t.head.name),active:t.head.active,disabled:t.head.disabled,animationMode:g.a.None,onClick:t.head.onClick,className:n?W.closeButtonExpanded:W.closeButtonCollapsed},o.createElement(y.d.Close,{className:n?W.closeIconExpanded:W.closeIconCollapsed}),o.createElement("span",{className:n?W.closeButtonTitleExpanded:W.closeButtonTitleCollapsed},t.head.title)))},X=function(e){var t=e.item,n=e.onScroll,r=o.useContext(M.a.Context),i=o.useContext(P.a.Context),a=U.getLink(t.name,r,i),s=U.getUploadModel(t),l=o.useRef(null),u=function(){t.onClick(),null!==l.current&&l.current.click()},d=o.createElement(o.Fragment,null,Object(c.pipe)(U.getIcon(t),x.g.fold((function(){return o.createElement("span",{id:t.name,className:W.menuText},t.title)}),(function(e){return o.createElement(o.Fragment,null,o.createElement("div",{"aria-hidden":!0,className:W.icon},e),o.createElement("span",{className:W.menuTitle},t.title))}))),o.createElement(ee,{item:t,onScroll:n,mount:function(e){return l.current=e}})),p=Object(c.pipe)(s,x.g.map((function(e){return o.createElement(B.a,{documentUpload:e,multiple:!1,mount:function(e){return l.current=e},hideTooltip:!0,ariaHidden:!0})})),x.g.toNullable);return o.createElement(o.Fragment,null,Object(c.pipe)(a,x.g.fold((function(){return o.createElement(Q,{item:t,onClick:u},d)}),(function(e){return o.createElement(J,{item:t,link:e,onClick:u},d)}))),p)},Q=function(e){var t=e.item,n=e.children,r=e.onClick;return o.createElement(h.a.Flat,{name:"documentSettings-".concat(t.name),active:t.active,disabled:t.disabled,onClick:r,className:W.menuButton},n)},J=function(e){var t=e.item,n=e.link,r=e.onClick,i=e.children;return o.createElement(h.a.Flat,{name:"documentSettings-".concat(t.name),active:t.active,disabled:t.disabled,className:W.menuButton,onClick:r,href:n,target:"_blank"},i)},ee=function(e){var t=e.item,n=e.onScroll,r=e.mount,i=o.useContext(m.a.Context);return Object(c.pipe)(t.nestedItem,x.g.map(x.b.fold((function(e){return o.createElement(_.l,{className:W.label},e)}),(function(e){return U.renderNestedItem(t.name,e,n,i.documentSettings.eduLabel,r)}))),x.g.toNullable)},te=function(){return o.createElement("div",{className:W.separator})};!function(e){var t=function(e,t){return function(r){return o.createElement(h.a.Flat,{id:r,tag:b.b.div,name:"documentSettings-".concat(r,"DialectButton"),onClick:function(){return t(r)}},o.createElement(l.a.Fragment,null,n(r),o.createElement("span",{className:W.dialect},"".concat(r," English")),e.dialectOrDefault.view((function(e){return e===r&&o.createElement(y.d.DocumentSettings.Selected,{className:W.selectedLanguageIcon,key:r})}))))}},n=function(e){switch(e){case"american":return o.createElement(y.d.DocumentSettings.USFlag,null);case"british":return o.createElement(y.d.DocumentSettings.GBFlag,null);case"canadian":return o.createElement(y.d.DocumentSettings.CanadianFlag,null);case"australian":return o.createElement(y.d.DocumentSettings.AustralianFlag,null);case"indian":return o.createElement(y.d.DocumentSettings.IndianFlag,null);default:return Object(T.c)(e)}},r=function(e){var t=e.getBoundingClientRect();return t.bottom-t.height/2};e.renderNestedItem=function(e,r,i,a,s){switch(r.type){case F.c.uploadFile:return o.createElement(_.l,{className:W.label},r.label);case F.c.accountHeaderLabel:return N.e.isPremium(r.denaliUserType)?N.e.isBusiness(r.denaliUserType)?o.createElement(f.a.Business,{className:W.accountHeaderLabel}):N.e.isEdu(r.denaliUserType)?o.createElement(f.a.Regular,{className:W.accountHeaderLabel},a):o.createElement(f.a.Premium,{className:W.accountHeaderLabel}):o.createElement(f.a.Regular,{className:W.freeLabel},"FREE");case F.c.whatsNewUpdates:return o.createElement(o.Fragment,null);case F.c.languageSettings:return function(e,r,i,a){var s=d.a.create("100%"),u=t(r.dialectSettings,r.changeDialect),p=new w.a.Subject,m=function(e){var t=Object(c.pipe)(x.g.fromNullable(e.target),x.g.map((function(e){return e.getBoundingClientRect()})));return p.pipe(w.a.map((function(e){return e.offsetHeight})),w.a.tap((function(e){return Object(c.pipe)(t,x.g.tap((function(t){var n=t.top-t.height/2,r=e/4;window.innerHeight<n+e+r?s.set("".concat(window.innerHeight-e-r,"px")):s.set("".concat(n,"px"))})))}))).toPromise()};return o.createElement(v.a,{name:"languageSettingsDropdown",activeDescendantId:r.dialectSettings.dialectOrDefault,label:o.createElement("div",{className:W.languageSettings,onMouseEnter:m,onClick:m,ref:a,"aria-hidden":!0},o.createElement(l.a.div,{className:W.icon},r.dialectSettings.dialectOrDefault.view((function(e){return n(e)}))),o.createElement(_.l,{className:W.label},"▶")),showDelay:0,closeDelay:100,theme:W,customPosition:{top:s,left:"18.5rem"},forceHide:i,ariaLabelledBy:e},o.createElement("div",{ref:function(e){return e&&p.next(e)},className:W.languageButtonsWrapper},u("american"),u("british"),u("canadian"),u("australian"),u("indian")))}(e,r,i,s);default:return Object(T.c)(r)}};e.getLink=function(e,t,n){switch(e){case F.b.subscription:return x.g.some(t.account.subscription);case F.b.support:return x.g.some(t.support.mainPage);case F.b.privacyPolicy:return x.g.some(t.privacyPolicy);case F.b.termsOfService:return x.g.some(t.termsOfService);case F.b.reportABug:return x.g.some(function(e,t){return new D.a(e.api.inProductReportUrl).addParams({clientVersion:t.buildVersion.toString(),platformVersion:t.info.parsedVersion.toString(),application:window.location.origin,browser:H(t.info.browser),os:V(t.info.os),userType:"business",team:"editor"}).toString()}(t,n));case F.b.close:case F.b.myGrammarly:case F.b.documentHeader:case F.b.newDocument:case F.b.uploadFile:case F.b.download:case F.b.print:case F.b.editHeader:case F.b.editorSettings:case F.b.accountHeader:case F.b.userName:case F.b.email:case F.b.upgradeToPremium:case F.b.language:case F.b.logout:case F.b.whatsNew:case F.b.feedback:case p.d.undo:case p.d.redo:case p.d.cut:case p.d.copy:case p.d.paste:case p.d.selectAll:return x.g.none;default:return Object(T.c)(e)}};e.getUploadModel=Object(s.flow)(A.e.pick("nestedItem"),x.g.chain(x.g.fromEither),x.g.chain((function(e){switch(e.type){case F.c.uploadFile:return x.g.some(e.uploadViewModel.uploadModel);case F.c.accountHeaderLabel:case F.c.whatsNewUpdates:case F.c.languageSettings:return x.g.none;default:return Object(T.c)(e)}})));e.getIcon=function(e){var t=e.name;switch(t){case F.b.close:return x.g.some(o.createElement(y.d.Close,null));case F.b.myGrammarly:return x.g.some(o.createElement(y.d.DocumentSettings.Home,null));case F.b.newDocument:return x.g.some(o.createElement(y.d.DocumentSettings.NewDocument,null));case F.b.uploadFile:return x.g.some(o.createElement(y.d.DocumentSettings.UploadFile,null));case F.b.download:return x.g.some(o.createElement(y.d.ToolbarDownload,null));case F.b.print:return x.g.some(o.createElement(y.d.DocumentSettings.PrintFile,null));case p.d.undo:return x.g.some(o.createElement(y.d.DocumentSettings.UndoGrey,null));case p.d.redo:return x.g.some(o.createElement(y.d.DocumentSettings.Redo,null));case p.d.cut:return x.g.some(o.createElement(y.d.DocumentSettings.Cut,null));case p.d.copy:return x.g.some(o.createElement(y.d.Copy,null));case p.d.paste:return x.g.some(o.createElement(y.d.DocumentSettings.Paste,null));case F.b.editorSettings:return x.g.some(o.createElement(y.d.Gear,null));case F.b.support:return x.g.some(o.createElement(y.d.QuestionMark,null));case F.b.upgradeToPremium:return x.g.some(o.createElement(y.d.Paid,null));case F.b.documentHeader:case F.b.editHeader:case F.b.accountHeader:case F.b.userName:case F.b.email:case F.b.language:case F.b.subscription:case F.b.logout:case F.b.whatsNew:case F.b.feedback:case F.b.privacyPolicy:case F.b.termsOfService:case F.b.reportABug:case p.d.selectAll:return x.g.none;default:return Object(T.c)(t)}},e.getItemClassName=function(e){switch(e){case F.b.myGrammarly:case F.b.editorSettings:return W.oneItemContainer;case F.b.documentHeader:case F.b.editHeader:case F.b.accountHeader:return W.header;case F.b.userName:return W.userNameHeader;case F.b.email:return W.emailHeader;case F.b.close:case F.b.newDocument:case F.b.uploadFile:case F.b.download:case F.b.print:case F.b.upgradeToPremium:case F.b.language:case F.b.subscription:case F.b.logout:case F.b.support:case F.b.whatsNew:case F.b.feedback:case F.b.privacyPolicy:case F.b.termsOfService:case F.b.reportABug:case p.d.undo:case p.d.redo:case p.d.cut:case p.d.copy:case p.d.paste:case p.d.selectAll:return W.menuButtonWrapper;default:return Object(T.c)(e)}},e.getTextClassName=function(e){switch(e){case F.b.userName:return x.g.some(W.userName);case F.b.email:return x.g.some(W.email);case F.b.documentHeader:case F.b.editHeader:case F.b.accountHeader:return x.g.some(W.headerText);case F.b.close:case F.b.myGrammarly:case F.b.newDocument:case F.b.uploadFile:case F.b.download:case F.b.print:case F.b.editorSettings:case F.b.upgradeToPremium:case F.b.language:case F.b.subscription:case F.b.logout:case F.b.support:case F.b.whatsNew:case F.b.feedback:case F.b.privacyPolicy:case F.b.termsOfService:case F.b.reportABug:case p.d.undo:case p.d.redo:case p.d.cut:case p.d.copy:case p.d.paste:case p.d.selectAll:return x.g.none;default:return Object(T.c)(e)}},e.isHeader=function(e){switch(e){case F.b.documentHeader:case F.b.editHeader:case F.b.accountHeader:case F.b.userName:case F.b.email:return!0;case F.b.close:case F.b.myGrammarly:case F.b.newDocument:case F.b.uploadFile:case F.b.download:case F.b.print:case F.b.editorSettings:case F.b.upgradeToPremium:case F.b.language:case F.b.subscription:case F.b.logout:case F.b.support:case F.b.whatsNew:case F.b.feedback:case F.b.privacyPolicy:case F.b.termsOfService:case F.b.reportABug:case p.d.undo:case p.d.redo:case p.d.cut:case p.d.copy:case p.d.paste:case p.d.selectAll:return!1;default:return Object(T.c)(e)}},e.getClickEventY=function(e){return Object(c.pipe)(x.g.fromNullable(void 0!==e&&e.target),x.g.map(r))},e.getElementCenter=r,e.isExpanded=function(e){return e.type===F.a.Expanded}}(U||(U={}))},PYgo:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r,i,a=n("TKPA");!function(e){let t;function n(e){return e.type===r.Type.confirmed}function i(e){return e.type===r.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone",e.looked="looked"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(e){return e.type===r.Type.applied},e.isAlertOpenAction=function(e){return e.type===r.Type.opened},e.isAlertIgnoreAction=function(e){return e.type===r.Type.ignored},e.isAlertAddToDictionaryAction=function(e){return e.type===r.Type.addedToDictionary},e.isConfirmAction=n,e.isUndoAction=i,e.isMountAction=function(e){return e.type===r.Type.mounted},e.isLookedAction=function(e){return e.type===r.Type.looked};e.isBulkAction=Object(a.p)(n,i)}(r||(r={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(i||(i={}))},PiEC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("lKCo");!function(e){let t;!function(e){e.create=e=>e}(t=e.Id||(e.Id={})),e.create=function(t){return Object.assign(Object.assign({},t),{id:e.Id.create(t.id),url:i.fromNullable(t.url),contextText:i.none})}}(r||(r={}))},Pkcy:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("nWMp"),c=n("PltQ"),l=n("NbNH"),u=n("2swC"),d=function(){return{padding:"0 ".concat(s.a.rem(1))}},p=function(){return{paddingTop:s.a.rem(.5)}},m=s.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),f=s.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),h={position:"absolute",zIndex:l.l,minWidth:s.a.rem(11),outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},g={marginTop:s.a.rem(.5),transformOrigin:"bottom"},b={animation:"".concat(f," ").concat(s.a.seconds(.1)," linear forwards"),pointerEvents:"none"},v={animation:"".concat(m," ").concat(s.a.seconds(.1)," linear forwards")},y={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:s.a.rem(-1),minWidth:s.a.rem(12),maxWidth:s.a.rem(18),borderRadius:s.a.rem(l.s),background:u.a.CoreNeutral0,boxShadow:u.b.Z300,color:c.k,fontSize:s.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:s.a.px(-2),width:s.a.percent(100),height:s.a.px(2),border:"1px solid transparent",content:"''"}}},O={display:"flex",alignItems:"center",justifyContent:"start",padding:"".concat(s.a.rem(.5)," ").concat(s.a.rem(1)," ").concat(s.a.rem(.5)," ").concat(s.a.rem(.5)),background:u.a.CoreYellow20,color:u.a.CoreYellow80,$nest:{"& i":{margin:"0 ".concat(s.a.rem(.5)," 0 ").concat(s.a.rem(.25)),fill:u.a.CoreYellow80}}},_={paddingBottom:s.a.rem(.5)},C={$nest:{"&:first-letter":{textTransform:"capitalize"}}},w={paddingBottom:s.a.rem(.75),color:u.a.CoreNeutral90,fontSize:s.a.rem(.85),lineHeight:s.a.rem(1.2)},S={overflow:"hidden",paddingRight:s.a.rem(1),paddingLeft:s.a.rem(.5),color:c.c,textTransform:"none",textOverflow:"ellipsis",fontSize:s.a.rem(.8),lineHeight:s.a.rem(1.85),width:s.a.percent(100)},k={marginBottom:s.a.rem(.8),fontSize:s.a.rem(.7),lineHeight:s.a.rem(1.1),$nest:{"& b":{padding:s.a.rem(.25),borderRadius:l.u,background:c.g,color:u.a.CoreNeutral90,fontWeight:600}}},E={color:c.j,fontWeight:"normal",lineHeight:s.a.rem(2.1),paddingLeft:s.a.important(s.a.rem(.5)),justifyContent:"flex-start"},j={height:s.a.rem(2)},x={paddingBottom:s.a.rem(.5),color:c.j,whiteSpace:"nowrap",fontWeight:"normal",fontSize:s.a.rem(1.25),lineHeight:s.a.rem(2),cursor:"pointer",textSizeAdjust:String(s.a.percent(100))},A={display:"flex",justifyContent:"space-between",marginBottom:s.a.rem(.25),paddingTop:s.a.rem(.1),color:c.j,fontWeight:400,fontSize:s.a.rem(.8),lineHeight:s.a.rem(1.2)},I={color:u.a.CoreBlue50},T={color:s.a.important(c.c),lineHeight:s.a.rem(2),$nest:{"&:after":{background:s.a.important(c.c)}}},M={$nest:Object(i._)({},"& .".concat("itemInsert",", .").concat("itemRemove"),{paddingBottom:s.a.rem(.3),whiteSpace:"normal",lineHeight:s.a.rem(1.5)})},P={maxWidth:s.a.rem(19)},N={padding:"".concat(s.a.rem(.75)," ").concat(s.a.rem(1)),color:u.a.CoreNeutral40},B={paddingLeft:s.a.rem(.4)},L={color:u.a.CoreNeutral40,fontWeight:500},F={$nest:{"& svg":{stroke:u.a.CoreNeutral40}}},R={display:"block",width:s.a.percent(100),color:u.a.CoreNeutral90,textAlign:"left",whiteSpace:"pre-line",$nest:{"&:first-child":Object(a._)({},p()),"&:hover":{backgroundColor:u.a.CoreBlue50,color:u.a.CoreNeutral0,$nest:(r={},Object(i._)(r,"& .".concat("inlineHeader"),{color:u.a.CoreNeutral0}),Object(i._)(r,"& .".concat("inline-card-diff"),{color:u.a.CoreNeutral0}),Object(i._)(r,"& .".concat("inline-transform"),{color:u.a.CoreNeutral0}),Object(i._)(r,"& .".concat("strike"),{color:s.a.important(u.a.CoreNeutral0),$nest:{"&:after":{background:s.a.important(u.a.CoreNeutral0)}}}),r)}}},D=Object(o._)(Object(a._)({},s.a.stylesheet({container:[h],directionUp:[g],invisible:[b],visible:[v],bigTitle:[d(),p(),C,w],unknownWordTitle:[p(),C,S],explanation:[d(),k],footerButton:[E],footerButtonBig:[E],footerButtonShort:[E,j],inlineWrappedList:[x],maxWidthReached:[M],cardUphook:[P],title:[N],upgradeButton:[B],upgradeButtonText:[L],upgradeIcon:[F]})),{card:s.a.joinClasses(["inline-card-card",s.a.style(y)]),premiumCardFooter:s.a.joinClasses(["inline-card-card",s.a.style(O)]),emptyCardFooter:s.a.joinClasses(["inline-card-card",s.a.style(_)]),diff:s.a.joinClasses(["inline-card-diff",s.a.style(I)]),strike:s.a.joinClasses(["strike",s.a.style(T)]),inlineHeader:s.a.joinClasses(["inlineHeader",s.a.style(C,A)]),inlineHeaderOne:s.a.joinClasses(["inlineHeader",s.a.style(C,A,{marginBottom:0})]),itemInsert:s.a.joinClasses(["itemInsert",s.a.style(d(),R)]),itemRemove:s.a.joinClasses(["itemRemove",s.a.style(d(),R)]),transform:"inline-transform"})},PyEC:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("2swC"),i=n("nWMp"),a=n("NbNH");const o={position:"relative",borderRadius:i.a.rem(a.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:r.a.CoreNeutral0},s={display:"flex",padding:i.a.rem(.5),height:i.a.rem(3),cursor:"pointer",alignItems:"center"},c={padding:`${i.a.rem(1.5)} ${i.a.rem(.5)} ${i.a.rem(1.5)}`},l={display:"flex",alignItems:"center",flexDirection:"row",fontSize:i.a.rem(.85),lineHeight:i.a.rem(1.2),overflow:"hidden"},u={flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",width:i.a.rem(1.5),$nest:{"> svg":{stroke:r.a.CoreYellow60}}},d={padding:`${i.a.rem(.5)} ${i.a.rem(1.5)}`},p={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:i.a.rem(2)},m={marginTop:i.a.rem(.6),fontSize:i.a.rem(.85)},f={display:"flex",marginBottom:i.a.rem(.6),flexShrink:0},h={marginRight:"auto",lineHeight:i.a.rem(1.3125)},g={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:i.a.rem(2.5)},b={display:"inline-flex",justifyContent:"center",alignItems:"center",height:i.a.rem(2.625),padding:`0 ${i.a.rem(3)} 0 ${i.a.rem(3)}`,backgroundColor:r.a.CoreGreen60,borderRadius:i.a.rem(.25),fontSize:i.a.rem(.875),fontWeight:700,textTransform:"uppercase",color:r.a.CoreNeutral0,lineHeight:i.a.rem(2),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:i.a.color(r.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:i.a.color(r.a.CoreGreen60).tint(.2).toRGBA().toString()}}},v={padding:"0 "+i.a.rem(1.3),margin:`${i.a.rem(1)} 0 ${i.a.rem(.5)}`,color:r.a.CoreGreen70,backgroundColor:r.a.CoreNeutral0,border:`${i.a.px(1)} solid ${r.a.CoreGreen70}`,borderRadius:i.a.rem(.25),fontWeight:"bold",fontSize:i.a.rem(.9),lineHeight:i.a.rem(3),transition:" color .3s",$nest:{"&:hover":{color:r.a.CoreGreen60,backgroundColor:r.a.CoreNeutral0,borderColor:r.a.CoreGreen60},"&:active":{color:r.a.CoreGreen50,backgroundColor:r.a.CoreNeutral0,borderColor:r.a.CoreGreen50}}},y={color:r.a.CoreYellow80,fontWeight:r.h.H1Weight,fontSize:i.a.rem(r.h.H1Size),zIndex:2},O={position:"relative",marginTop:i.a.rem(2.5),paddingTop:i.a.rem(1),$nest:{"&::before":{content:"''",position:"absolute",top:i.a.px(0),right:i.a.px(0),left:i.a.px(0),margin:"auto",width:i.a.rem(4.5),height:i.a.px(1),backgroundColor:r.a.CoreNeutral20}}},_={color:r.a.CoreNeutral50,textAlign:"center",fontStyle:"italic",$nest:{"&::before":{content:"'“'"},"&::after":{content:"'”'"}}},C={display:"block",margin:i.a.rem(1.5)+" auto"},w=i.a.stylesheet({wrapper:[o],minimizedWrapper:[s],maximizedWrapper:[c],shadowWrapper:[{position:"relative",display:"block",overflow:"inherit",zIndex:1}],title:[l],titleText:[{flexShrink:1,overflow:"hidden",textOverflow:"ellipsis"}],maximizedContainer:[d],alertsContainer:[p],alertCategoryContainer:[m],alertCategory:[f],categoryHumanContainer:[h],buttonContainer:[g],premiumButton:[b],continueWithFreePlanButton:[v],icon:[u],counter:[{width:"128px",height:"128px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",$nest:{"& > svg":{position:"absolute",zIndex:1}}}],counterText:[y],footer:[O],footerText:[_],footerLogo:[C]})},"Q2+j":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"e",(function(){return M})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return K})),n.d(t,"d",(function(){return $})),n.d(t,"j",(function(){return Z})),n.d(t,"f",(function(){return Y})),n.d(t,"g",(function(){return X})),n.d(t,"h",(function(){return re})),n.d(t,"i",(function(){return ie})),n.d(t,"k",(function(){return se})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return le}));var r=n("zCOz"),i=n("B8yO"),a=n.n(i);function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var s=n("f9tp");function c(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,o(e,t,"set"),n),n}var l=n("K5qu");let u="default",d="",p=new WeakMap;function m(e){(0,r.f)()?("default"===u&&(d=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),u="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(p.set(e,e.style.userSelect),e.style.userSelect="none")}function f(e){if((0,r.f)()){if("disabled"!==u)return;u="restoring",setTimeout(()=>{(0,r.n)(()=>{"restoring"===u&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=d||""),d="",u="default")})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&p.has(e)){let t=p.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),p.delete(e)}}const h=a.a.createContext(null);h.displayName="PressResponderContext";var g=new WeakMap;class b{continuePropagation(){c(this,g,!1)}get shouldStopPropagation(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,o(e,g,"get"));var e}constructor(e,t,n){(0,s.a)(this,g,{writable:!0,value:void 0}),c(this,g,!0),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const v=Symbol("linkClicked");function y(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:o,onPressUp:s,isDisabled:c,isPressed:l,preventFocusOnPress:u,shouldCancelOnPointerExit:d,allowTextSelectionOnPress:p,ref:g,...y}=function(e){let t=(0,i.useContext)(h);if(t){let{register:n,...i}=t;e=(0,r.l)(i,e),n()}return(0,r.A)(t,e.ref),e}(e),[j,x]=(0,i.useState)(!1),A=(0,i.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:I,removeAllGlobalListeners:T}=(0,r.u)(),M=(0,r.s)((e,t)=>{let r=A.current;if(c||r.didFirePressStart)return;let i=!0;if(r.isTriggeringEvent=!0,a){let n=new b("pressstart",t,e);a(n),i=n.shouldStopPropagation}return n&&n(!0),r.isTriggeringEvent=!1,r.didFirePressStart=!0,x(!0),i}),P=(0,r.s)((e,r,i=!0)=>{let a=A.current;if(!a.didFirePressStart)return;a.ignoreClickAfterPress=!0,a.didFirePressStart=!1,a.isTriggeringEvent=!0;let s=!0;if(o){let t=new b("pressend",r,e);o(t),s=t.shouldStopPropagation}if(n&&n(!1),x(!1),t&&i&&!c){let n=new b("press",r,e);t(n),s&&(s=n.shouldStopPropagation)}return a.isTriggeringEvent=!1,s}),N=(0,r.s)((e,t)=>{let n=A.current;if(!c){if(s){n.isTriggeringEvent=!0;let r=new b("pressup",t,e);return s(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}}),B=(0,r.s)(e=>{let t=A.current;t.isPressed&&(t.isOverTarget&&P(w(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,T(),p||f(t.target))}),L=(0,r.s)(e=>{d&&B(e)}),F=(0,i.useMemo)(()=>{let e=A.current,t={onKeyDown(t){if(_(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){E(t.target,t.key)&&t.preventDefault();let i=!0;e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,i=M(t,"keyboard"),I(document,"keyup",n,!1)),i&&t.stopPropagation(),t.metaKey&&(0,r.g)()&&e.metaKeyEvents.set(t.key,t.nativeEvent)}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onKeyUp(t){_(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&N(w(e.target,t),"keyboard")},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!r.m.isOpening){let n=!0;if(c&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||(0,r.i)(t.nativeEvent))){c||u||(0,r.c)(t.currentTarget);let e=M(t,"virtual"),i=N(t,"virtual"),a=P(t,"virtual");n=e&&i&&a}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n;if(e.isPressed&&_(t,e.target)){var i;E(t.target,t.key)&&t.preventDefault();let n=t.target,a=P(w(e.target,t),"keyboard",e.target.contains(n));T(),a&&t.stopPropagation(),"Enter"!==t.key&&O(e.target)&&e.target.contains(n)&&!t[v]&&(t[v]=!0,(0,r.m)(e.target,t,!1)),e.isPressed=!1,null===(i=e.metaKeyEvents)||void 0===i||i.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){let t=e.metaKeyEvents;e.metaKeyEvents=null;for(let n of t.values())e.target.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if((0,r.j)(t.nativeEvent))return void(e.pointerType="virtual");k(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let o=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,c||u||(0,r.c)(t.currentTarget),p||m(e.target),o=M(t,e.pointerType),I(document,"pointermove",n,!1),I(document,"pointerup",i,!1),I(document,"pointercancel",a,!1)),o&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(k(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&S(t,t.currentTarget)&&N(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(S(t,e.target)?e.isOverTarget||(e.isOverTarget=!0,M(w(e.target,t),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,P(w(e.target,t),e.pointerType,!1),L(t)))},i=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(S(t,e.target)?P(w(e.target,t),e.pointerType):e.isOverTarget&&P(w(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,T(),p||f(e.target))},a=e=>{B(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&B(e)}}else{t.onMouseDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if(k(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents)return void t.stopPropagation();e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=(0,r.i)(t.nativeEvent)?"virtual":"mouse",c||u||(0,r.c)(t.currentTarget),M(t,e.pointerType)&&t.stopPropagation(),I(document,"mouseup",n,!1)},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,n=M(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,n=P(t,e.pointerType,!1),L(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||N(t,e.pointerType||"mouse"))};let n=t=>{0===t.button&&(e.isPressed=!1,T(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(S(t,e.target)?P(w(e.target,t),e.pointerType):e.isOverTarget&&P(w(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",c||u||(0,r.c)(t.currentTarget),p||m(e.target),M(t,e.pointerType)&&t.stopPropagation(),I(window,"scroll",i,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=C(t.nativeEvent,e.activePointerId),r=!0;n&&S(n,t.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,r=M(t,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,r=P(t,e.pointerType,!1),L(t)),r&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=C(t.nativeEvent,e.activePointerId),r=!0;n&&S(n,t.currentTarget)?(N(t,e.pointerType),r=P(t,e.pointerType)):e.isOverTarget&&(r=P(t,e.pointerType,!1)),r&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,p||f(e.target),T()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&B(t))};let i=t=>{e.isPressed&&t.target.contains(e.target)&&B({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&B(e)}}return t},[I,c,u,T,p,B,L,P,M,N]);return(0,i.useEffect)(()=>()=>{p||f(A.current.target)},[p]),{isPressed:l||j,pressProps:(0,r.l)(y,F)}}function O(e){return"A"===e.tagName&&e.hasAttribute("href")}function _(e,t){const{key:n,code:r}=e,i=t,a=i.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==r||i instanceof HTMLInputElement&&!x(i,n)||i instanceof HTMLTextAreaElement||i.isContentEditable||("link"===a||!a&&O(i))&&"Enter"!==n)}function C(e,t){const n=e.changedTouches;for(let e=0;e<n.length;e++){const r=n[e];if(r.identifier===t)return r}return null}function w(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function S(e,t){let n=t.getBoundingClientRect(),r=function(e){let t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return a=r,!((i=n).left>a.right||a.left>i.right||i.top>a.bottom||a.top>i.bottom);var i,a}function k(e){return!(e instanceof HTMLElement&&e.hasAttribute("draggable"))}function E(e,t){return e instanceof HTMLInputElement?!x(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!O(e)}const j=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function x(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:j.has(e.type)}function A({children:e}){return a.a.createElement(h.Provider,{value:void 0},e)}class I{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function T(e){let t=(0,i.useRef)({isFocused:!1,observer:null});(0,r.x)(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=(0,r.s)(t=>{null==e||e(t)});return(0,i.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,i=e=>{t.current.isFocused=!1,r.disabled&&n(new I("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){t.current.observer.disconnect();let e=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function M(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:a}=e;const o=(0,i.useCallback)(e=>{if(e.target===e.currentTarget)return r&&r(e),a&&a(!1),!0},[r,a]),s=T(o),c=(0,i.useCallback)(e=>{e.target===e.currentTarget&&document.activeElement===e.target&&(n&&n(e),a&&a(!0),s(e))},[a,n,s]);return{focusProps:{onFocus:!t&&(n||a||r)?c:void 0,onBlur:t||!r&&!a?void 0:o}}}let P=null,N=new Set,B=!1,L=!1,F=!1;const R={Tab:!0,Escape:!0};function D(e,t){for(let n of N)n(e,t)}function H(e){L=!0,function(e){return!(e.metaKey||!(0,r.g)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(P="keyboard",D("keyboard",e))}function V(e){P="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(L=!0,D("pointer",e))}function U(e){(0,r.i)(e)&&(L=!0,P="virtual")}function W(e){e.target!==window&&e.target!==document&&(L||F||(P="virtual",D("virtual",e)),L=!1,F=!1)}function z(){L=!1,F=!0}function G(){if("undefined"==typeof window||B)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){L=!0,e.apply(this,arguments)},document.addEventListener("keydown",H,!0),document.addEventListener("keyup",H,!0),document.addEventListener("click",U,!0),window.addEventListener("focus",W,!0),window.addEventListener("blur",z,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",V,!0),document.addEventListener("pointermove",V,!0),document.addEventListener("pointerup",V,!0)):(document.addEventListener("mousedown",V,!0),document.addEventListener("mousemove",V,!0),document.addEventListener("mouseup",V,!0)),B=!0}function q(){return"pointer"!==P}function K(){return P}function $(e){P=e,D(e,null)}function Z(){G();let[e,t]=(0,i.useState)(P);return(0,i.useEffect)(()=>{let e=()=>{t(P)};return N.add(e),()=>{N.delete(e)}},[]),(0,l.a)()?null:e}function Y(e,t,n){G(),(0,i.useEffect)(()=>{let t=(t,r)=>{(function(e,t,n){return!(e&&"keyboard"===t&&n instanceof KeyboardEvent&&!R[n.key])})(null==n?void 0:n.isTextInput,t,r)&&e(q())};return N.add(t),()=>{N.delete(t)}},t)}function X(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:a}=e,o=(0,i.useRef)({isFocusWithin:!1}),s=(0,i.useCallback)(e=>{o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(e),a&&a(!1))},[n,a,o]),c=T(s),l=(0,i.useCallback)(e=>{o.current.isFocusWithin||document.activeElement!==e.target||(r&&r(e),a&&a(!0),o.current.isFocusWithin=!0,c(e))},[r,a,c]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:l,onBlur:s}}}"undefined"!=typeof document&&("loading"!==document.readyState?G():document.addEventListener("DOMContentLoaded",G));let Q=!1,J=0;function ee(){Q=!0,setTimeout(()=>{Q=!1},50)}function te(e){"touch"===e.pointerType&&ee()}function ne(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",te):document.addEventListener("touchend",ee),J++,()=>{J--,J>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",te):document.removeEventListener("touchend",ee))}}function re(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:a}=e,[o,s]=(0,i.useState)(!1),c=(0,i.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,i.useEffect)(ne,[]);let{hoverProps:l,triggerHoverEnd:u}=(0,i.useMemo)(()=>{let e=(e,r)=>{if(c.pointerType=r,a||"touch"===r||c.isHovered||!e.currentTarget.contains(e.target))return;c.isHovered=!0;let i=e.currentTarget;c.target=i,t&&t({type:"hoverstart",target:i,pointerType:r}),n&&n(!0),s(!0)},i=(e,t)=>{if(c.pointerType="",c.target=null,"touch"===t||!c.isHovered)return;c.isHovered=!1;let i=e.currentTarget;r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),s(!1)},o={};return"undefined"!=typeof PointerEvent?(o.onPointerEnter=t=>{Q&&"mouse"===t.pointerType||e(t,t.pointerType)},o.onPointerLeave=e=>{!a&&e.currentTarget.contains(e.target)&&i(e,e.pointerType)}):(o.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},o.onMouseEnter=t=>{c.ignoreEmulatedMouseEvents||Q||e(t,"mouse"),c.ignoreEmulatedMouseEvents=!1},o.onMouseLeave=e=>{!a&&e.currentTarget.contains(e.target)&&i(e,"mouse")}),{hoverProps:o,triggerHoverEnd:i}},[t,n,r,a,c]);return(0,i.useEffect)(()=>{a&&u({currentTarget:c.target},c.pointerType)},[a]),{hoverProps:l,isHovered:o}}function ie(e){let{ref:t,onInteractOutside:n,isDisabled:a,onInteractOutsideStart:o}=e,s=(0,i.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=(0,r.s)(e=>{n&&ae(e,t)&&(o&&o(e),s.current.isPointerDown=!0)}),l=(0,r.s)(e=>{n&&n(e)});(0,i.useEffect)(()=>{let e=s.current;if(!a){if("undefined"!=typeof PointerEvent){let n=n=>{e.isPointerDown&&ae(n,t)&&l(n),e.isPointerDown=!1};return document.addEventListener("pointerdown",c,!0),document.addEventListener("pointerup",n,!0),()=>{document.removeEventListener("pointerdown",c,!0),document.removeEventListener("pointerup",n,!0)}}{let n=n=>{e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:e.isPointerDown&&ae(n,t)&&l(n),e.isPointerDown=!1},r=n=>{e.ignoreEmulatedMouseEvents=!0,e.isPointerDown&&ae(n,t)&&l(n),e.isPointerDown=!1};return document.addEventListener("mousedown",c,!0),document.addEventListener("mouseup",n,!0),document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",r,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("mouseup",n,!0),document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",r,!0)}}}},[t,a,c,l])}function ae(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1;if(e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function oe(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&n.stopPropagation()}}function se(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:oe(e.onKeyDown),onKeyUp:oe(e.onKeyUp)}}}const ce=500;function le(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:a,onLongPress:o,threshold:s=ce,accessibilityDescription:c}=e;const l=(0,i.useRef)(null);let{addGlobalListener:u,removeGlobalListener:d}=(0,r.u)(),{pressProps:p}=y({isDisabled:t,onPressStart(e){if(e.continuePropagation(),("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),l.current=setTimeout(()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...e,type:"longpress"}),l.current=null},s),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};u(e.target,"contextmenu",t,{once:!0}),u(window,"pointerup",()=>{setTimeout(()=>{d(e.target,"contextmenu",t)},30)},{once:!0})}},onPressEnd(e){l.current&&clearTimeout(l.current),!a||"mouse"!==e.pointerType&&"touch"!==e.pointerType||a({...e,type:"longpressend"})}}),m=(0,r.r)(o&&!t?c:null);return{longPressProps:(0,r.l)(p,m)}}},QQOt:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("RRF2"),l=n("111I"),u=n("nWMp"),d=n("NbNH"),p=n("xk6L"),m=n("yIk2"),f=n("7IMz");var h;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={}));e.Cell=l.b.Grid.make(({slots:e,state:l,notify:u})=>{const d=new p.a.ReplaySubject,h=l.pipe(p.a.withLatestFrom(d),p.a.switchMap(([e,t])=>e.position.animationInProgress?p.a.mergeStatic(p.a.fromEvent(t,"transitionend").pipe(p.a.filter(e=>e.target===t&&"transform"===e.propertyName),p.a.mapTo(void 0)),p.a.of(void 0).pipe(p.a.delay(200))).pipe(p.a.first()):p.a.EMPTY),p.a.tap(u({kind:n.completePositionAnimation}))),g=l.pipe(p.a.withLatestFrom(d),p.a.switchMap(([e,t])=>e.height.watched?m.a.getResizeObservable(t).pipe(p.a.filter(t=>e.height.value!==t.height||!e.height.isValid||t.height>0)):p.a.EMPTY),p.a.distinctUntilChanged(),p.a.tap(({height:e})=>u({kind:n.changePosition,height:e})()));f.a.useSubscriptionTo(p.a.mergeStatic(h,g));const b=l.pipe(p.a.map(e=>e.position.top),p.a.map(e=>c.c.CSS.translateY(e)),p.a.distinctUntilChanged()),y=l.pipe(p.a.map(e=>e.layer===t.front?1:0),p.a.distinctUntilChanged()),O=l.pipe(p.a.map(({position:e})=>e),p.a.distinctUntilChanged((e,t)=>e.top===t.top&&e.animationInProgress===t.animationInProgress),p.a.map(({animationInProgress:e})=>e?v.animate:void 0),p.a.startWith(void 0));return a.createElement(o.a.div,Object(i._)(Object(r._)({},Object(s.c)(v.item,O)),{style:{transform:b,zIndex:y},mount:e=>{null!==e&&d.next(e)}}),e.item)})}(h||(h={}));const g={position:"absolute",boxSizing:"border-box",width:u.a.percent(100),contain:"layout"},b={transition:`transform ${u.a.seconds(d.d/1e3)} linear`},v=u.a.stylesheet({item:[g],animate:[b]})},QYPR:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Wy1Y"),i=n("a5gI"),a=n("+vYo"),o=n("D2TP"),s=n("Hj2R"),c=n("M3t0"),l=function e(t,n){var l=this;Object(r.a)(this,e),Object(i._)(this,"_navigationVM",void 0),Object(i._)(this,"_ded",void 0),Object(i._)(this,"_log",void 0),Object(i._)(this,"cheetahButton",void 0),Object(i._)(this,"isActive",void 0),Object(i._)(this,"mode",void 0),Object(i._)(this,"toCheetahLens",void 0),Object(i._)(this,"closeCheetahLens",void 0),Object(i._)(this,"handleCheetahButtonClick",void 0),Object(i._)(this,"cheetahButtonRef",void 0),this._navigationVM=t,this._ded=n,this._log=c.d.Logging.getLogger("Cheetah.Navigation"),this.cheetahButton=a.a.create(null),this.isActive=this._navigationVM.activeLensId.view((function(e){return e===o.a.SpecialId.Cheetah})),this.mode=a.a.create("rewrite"),this.toCheetahLens=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l._log.info("Opening lens...",{fromInline:e,withQuickRewrite:t});var n=l._ded.selection.getValue(),r=0===n.length?"ideation":t?"quickRewrite":"rewrite";l.mode.set(r),l._navigationVM.events.next({type:"switchToLens",id:o.a.SpecialId.Cheetah,focusFirst:!1,actionSource:e?s.b.text:s.b.sidebar})},this.closeCheetahLens=function(){l._log.info("Closing lens..."),l._navigationVM.events.next({type:"switchToLens",id:o.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:s.b.api})},this.handleCheetahButtonClick=function(){!0===l.isActive.get()?l.closeCheetahLens():l.toCheetahLens()},this.cheetahButtonRef=function(e){l.cheetahButton.set(e)}}},QnuY:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("B8yO"),i=n("fC5a"),a=n("sX1a"),o=n("xk6L"),s=n("4GyQ"),c=n("d8oL"),l=n("EU0x"),u=n("hUGf"),d=n("UIFK"),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const m=e=>{var{className:t,compact:n=!1,theme:m="light",variant:f="primary",contained:h=!1,size:g=o.a.of("large"),style:b=o.a.of(void 0),flatUI:v,children:y,onClick:O}=e,_=p(e,["className","compact","theme","variant","contained","size","style","flatUI","children","onClick"]);const C=r.useContext(u.a).view("flatUI");return r.createElement(i.a.Animated,Object.assign({},Object(s.c)(o.a.combineLatestStatic([C,Object(l.a)(b),Object(l.a)(g)]).pipe(o.a.map(([e,t,r])=>Object(d.a)({flatUI:null!=v?v:e,compact:n,theme:m,size:r,style:t,variant:f,contained:h}))),t),_,{styleType:a.Typography.Type.Button,onClick:Object(c.a)(O)}),y)}},Qq8L:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("+vYo"),l=n("mgiE"),u=n("RRF2"),d=n("M3t0"),p=n("xk6L"),m=n("La5+"),f=n("yIk2"),h=n("YqdJ");class g extends o.Component{componentDidMount(){!0===this.props.isMaster&&this._setMaster()}componentDidUpdate(e){const t=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:t}),!0===this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",t),this.forceUpdate(()=>{this._setMaster(),this._log.trace("view force update complete",t)})):(this._log.trace("set master view",t),this._setMaster()):(this._log.trace("release master view",t),this._clearSubs())}componentWillUnmount(){this._clearSubs()}render(){const{className:e,children:t,height:n}=this.props;return o.createElement(s.a.div,{"data-purpose":"card-list-connector",style:n.pipe(p.a.map(e=>({height:e}))),className:e},t)}_setMaster(){this._setSubs()}_setSubs(){this._clearSubs(),this._subs.push(this.props.stateSyncListener.subscribe())}_clearSubs(){this._subs.dispose()}constructor(...e){super(...e),Object(r._)(this,"_log",d.d.Logging.getLogger("CardsListConnectorView",d.a.LogLevel.DEBUG)),Object(r._)(this,"_subs",new m.a.Keeper)}}!function(e){let t;!function(e){e.create=()=>c.a.create({scrollProvider:l.g.none,scrollConsumer:l.g.none,viewport:l.g.none,title:l.g.none})}(t=e.Elements||(e.Elements={}));e.boundedScrollListener=(e,t)=>p.a.mergeStatic(p.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,e=>f.a.getResizeObservable(e).pipe(p.a.map(t=>Object(a._)(Object(i._)({},t),{top:e.offsetTop,height:e.offsetHeight}))))),p.a.tap(t=>e.viewport.set({top:h.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>p.a.fromEvent(t,"scroll").pipe(p.a.map(()=>t.scrollTop),p.a.startWith(t.scrollTop),p.a.tap(t=>e.scrollTop.set(t)),p.a.mapTo(f.b.voidValue))))),t.view("title").pipe(p.a.switchMap(l.g.fold(()=>p.a.of(u.c.Rect.empty),e=>f.a.getResizeObservable(e))),p.a.map(e=>e.height),p.a.shareReplay({bufferSize:1,refCount:!0}),p.a.tap(t=>e.paddingTop.set(t))),t.view("scrollConsumer").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>e.scrollOffset.pipe(p.a.tap(e=>{t.scrollTop+=e})))))).pipe(p.a.mapTo(void 0)),e.superScrollListener=(e,t)=>{const n=t.view("title").pipe(p.a.switchMap(l.g.fold(()=>p.a.of(u.c.Rect.empty),e=>f.a.getResizeObservable(e))),p.a.map(e=>e.height),p.a.shareReplay({bufferSize:1,refCount:!0}));return p.a.mergeStatic(p.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,e=>f.a.getResizeObservable(e).pipe(p.a.map(t=>Object(a._)(Object(i._)({},t),{top:e.offsetTop,height:e.offsetHeight}))))),p.a.tap(t=>e.viewport.set({top:h.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>p.a.fromEvent(t,"scroll").pipe(p.a.map(()=>t.scrollTop),p.a.startWith(t.scrollTop),p.a.tap(t=>e.scrollTop.set(t)),p.a.mapTo(f.b.voidValue))))),t.view("scrollConsumer").pipe(p.a.switchMap(l.g.fold(()=>p.a.EMPTY,t=>e.scrollOffset.pipe(p.a.scan((e,t)=>e-t,0),p.a.tap(e=>{t.style.transform=`translateY(${e}px)`})))),p.a.combineLatest(n),p.a.tap(([t,n])=>e.paddingTop.set(t+n)))).pipe(p.a.mapTo(void 0))}}(g||(g={}))},R1dB:function(e,t,n){e.exports=n.p+"files/8c35c38451d802f149fcbc7e9004193e/inter-lightitalic.woff"},RCgc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8O/t"),i=n("2swC"),a=n("nWMp");const o=(e,t,n,o,s,c)=>Object(r._)({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:a.a.rem(2),borderRadius:s,backgroundColor:i.a.CoreNeutral0,boxShadow:o,content:"' '"},Boolean(c)&&"bottom"!==c?{top:n}:{bottom:n})},"RS1+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("tiWp"),c=n("OwvP"),l=n("4GyQ"),u=n("y7lF"),d=n("NDcT"),p=n("fC5a"),m=n("D2TP"),f=n("xk6L"),h=n("XGM8"),g=n("DUEA"),b=n("mgiE"),v=n("OUbY"),y=n("KpDw");!function(e){e.View=function(e){var r=e.lens,a=e.transition,u=e.successLensViewModel,d=e.preventAnimation,p=e.illustrations,O=e.onTransitionEnd,_=e.title,C=e.showTitle,w=e.scoreStatus,S=o.useContext(v.a.Context).platform===v.a.Platform.IPAD,k=!m.a.isMainLens(r.id);return o.createElement(h.b.FixedContent,{label:r.title},o.createElement(c.a.div,Object(i._)({onTransitionEnd:O},Object(l.c)(S?y.a.successLensIPad:y.a.successLens,a.pipe(f.a.map((function(e){return e.base}))))),C&&o.createElement(c.a.div,Object(l.c)(y.a.successLensHeader,a.pipe(f.a.map((function(e){return e.title})))),_),o.createElement("div",{className:S?y.a.successLensContentIPad:y.a.successLensContent},o.createElement(g.a,{state:u.successState,preventAnimation:d,illustrations:p,scoreStatus:w},k&&o.createElement(n,null),Object(s.pipe)(u.mutedAlerts,b.g.map((function(e){return o.createElement(t,{count:e.mutedSuggestionsCount,onReview:e.reviewMutedSuggestions})})),b.g.orNull)))))};var t=e.MutedSuggestions=function(e){var t=e.count,n=e.onReview,r=o.useContext(d.a.Context);return o.createElement(c.a.Fragment,null,t.view((function(e){return e?o.createElement(c.a.span,{className:y.a.mutedSuggestions},r.successLens.mutedSuggestions(e),o.createElement(p.a.Ghost,Object(a._)(Object(i._)({name:"review-muted"},Object(l.c)(u.button,y.a.reviewButton)),{onClick:n}),r.review)):null})))},n=function(){var e=o.useContext(d.a.Context),t=o.useContext(h.c).navigateToAllAlerts;return o.createElement(p.a.Ghost,{name:"to-all-alerts",onClick:t,className:y.a.toAllAlerts},e.goBackToAllAlerts)}}(r||(r={}))},RXDX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("lKCo"),a=n("0kuo");!function(e){let t,n,r;!function(e){e.restoreDisabled="restoreDisabled",e.unknown="unknown",e.hasHistory="hasHistory",e.noHistory="noHistory",e.historyRequested="historyRequested",e.historyRestored="historyRestored"}(t=e.HistoryStatus||(e.HistoryStatus={})),function(e){e.unknown="unknown",e.static="static",e.dynamic="dynamic"}(n=e.SelectionContextStatus||(e.SelectionContextStatus={})),e.toStarting=function(e){return"starting"===e.kind?i.some(e):i.none},e.toStarted=function(e){return"started"===e.kind?i.some(e):i.none},e.fold=function(e){return t=>"starting"===t.kind?e.starting(t):"started"===t.kind?e.started(t):void Object(a.d)(t)},e.isStartedWithInProgressResult=function(e){return"started"===e.kind&&i.isSome(e.inProgressResult)},function(e){e.initial=e=>({kind:"starting",mode:e,selectedRange:i.none,selectedText:i.none,quickReplyContext:i.none,historyStatus:t.unknown,writingExpertContext:i.none,error:i.none,textRevision:0,selectionContextStatus:n.unknown})}(r=e.Starting||(e.Starting={}))}(r||(r={}))},RYaW:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("lme1"),c=n("zCOz"),l=n("rUtO"),u=n("tREI"),d=n("6K6r"),p=n("CRXm"),m=n("O+SZ"),f=n("4GyQ"),h=n("jY3z"),g=n("fC5a"),b=n("uLrj"),v=n("zK/v"),y=n("sX1a"),O=n("7IMz"),_=n("09dI"),C=n("nWMp"),w=n("e1WO");const S={borderTop:"1px solid "+_.o.SemanticColor.Color.Border.Base.Subdued,margin:`${C.a.rem(_.o.Space.Space2)} ${C.a.rem(-_.o.Space.Space4)}`},k={listStyle:"none",margin:0,padding:0,outline:C.a.important("none")},E={position:"relative",overflow:"hidden",padding:`${C.a.rem(_.o.Space.Space1)} ${C.a.rem(_.o.Space.Space4)}`,borderRadius:C.a.rem(_.o.Radius.Radius1),cursor:"pointer",$nest:{"&:hover":{background:w.CoreBlue1},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${w.CoreNeutral0}, 0 0 0 3px ${w.CoreBlue40}`,outline:C.a.important("none"),background:w.CoreBlue1,zIndex:C.d.level1},"& i":{marginLeft:C.a.rem(-_.o.Space.Space2),marginRight:C.a.rem(_.o.Space.Space2)}}},j={color:_.o.SemanticColor.Color.Text.Base.Subdued},x={margin:"0 "+C.a.rem(_.o.Space.Space2)},A={display:"flex",alignItems:"center"},I={justifyContent:"space-between",width:C.a.percent(100)},T={padding:"0 "+C.a.rem(_.o.Space.Space4)},M={background:w.CoreBlue1,$nest:{"& span":{fontWeight:700}}},P={padding:`${C.a.rem(_.o.Space.Space2)} ${C.a.rem(_.o.Space.Space4)}`},N={fontSize:C.a.rem(.625),letterSpacing:C.a.rem(.04),lineHeight:C.a.rem(1),color:_.o.SemanticColor.Color.Text.Base.Subdued,padding:`${C.a.rem(_.o.Space.Space2)} ${C.a.rem(_.o.Space.Space6)} ${C.a.rem(_.o.Space.Space2)} ${C.a.rem(_.o.Space.Space4)}`},B={$nest:{'&[data-active="true"]':{background:w.CoreNeutral1,color:w.CoreBlue50}}},L=C.a.stylesheet({triggerButton:[B],separator:[S],itemList:[k],mainItemsList:[k,P],menuItem:[E],menuItemContentWrapper:[A],menuItemContent:[A,I],menuItemDisabled:[T],menuItemSelected:[M],sectionHeading:[N],section:[{padding:0}],label:[j],tag:[x]});var F;!function(e){e.Item=u.a,e.Section=u.b;function t(e){var{placement:t="bottom start",theme:c={},name:l,portalContainer:u,title:p}=e,m=Object(a._)(e,["placement","theme","name","portalContainer","title"]);const h=o.useMemo(()=>Boolean(l)?l+"-trigger":"dropdown-menu-trigger",[l]),v=Object(d.a)(m),y=o.useRef(null),O=Object(s.d)({},v,y),{menuTriggerProps:{onPress:_,onPressStart:C},menuProps:w}=O,S=Object(a._)(O.menuTriggerProps,["onPress","onPressStart"]);return o.createElement(o.Fragment,null,o.createElement(g.a.Tertiary,Object(i._)(Object(r._)(Object(i._)(Object(r._)({},S),{name:h}),Object(f.c)(L.triggerButton,c.button)),{onClick:()=>v.open(),mount:e=>y.current=e,"aria-label":m["aria-label"],title:null!=p?p:m["aria-label"],active:v.isOpen}),m.label),o.createElement(b.a,{state:v,rerenderDependencies:[m.items,m.children],triggerRef:y,placement:t,portalContainer:u},o.createElement(n,Object(i._)(Object(r._)({},m,w),{theme:c,name:l,onAction:e=>{var t,n;null===(t=(n=m).onAction)||void 0===t||t.call(n,e)}}))))}function n(e){var{name:t,className:n,itemAnimationMode:l=v.a.FromClickPoint,theme:u={},onMouseOver:d,onMouseLeave:m}=e;const h=Object(a._)(e,["name","className","itemAnimationMode","theme","onMouseOver","onMouseLeave"]),g=o.useMemo(()=>Boolean(t)?t+"-list":"dropdown-menu-list",[t]),b=Object(p.a)(h),y=o.useRef(null),{menuProps:O}=Object(s.a)(h,b,y),w=Object(c.l)(O,{onMouseOver:d,onMouseLeave:m});return o.createElement("ul",Object(r._)(Object(i._)(Object(r._)({"data-name":g},w),{ref:y}),Object(f.c)(L.mainItemsList,u.list,n)),Array.from(b.collection).map(e=>"section"===e.type?o.createElement(C,{key:e.key,section:e,state:b,theme:u}):o.createElement(_,{key:e.key,name:t,item:e,state:b,animationMode:l,className:u.item})))}e.Dropdown=t,e.DropdownLifted=function(e){return Object(f.d)(t)(e)},e.List=n;e.ItemContent=({children:e,label:t,tag:n})=>o.createElement("span",{className:L.menuItemContent},o.createElement("span",null,e,Boolean(n)&&o.createElement(h.a.Regular,{className:L.tag},n)),Boolean(t)&&o.createElement(y.Typography.Small,{className:L.label},t));function _({item:e,state:t,animationMode:n,className:l,name:u}){const d=o.useMemo(()=>Boolean(u)?u+"-item":"dropdown-menu-item",[u]),p=o.useRef(null),{menuItemProps:h,isDisabled:g,isSelected:b}=Object(s.b)({key:e.key},t,p),_=o.useMemo(()=>new m.a,[]),C=o.useCallback(()=>null!=n&&o.createElement(v.b,{mouseDownEvents:_,animationMode:n}),[_,n]),{onPointerDown:w}=h,S=Object(a._)(h,["onPointerDown"]),k=Object(c.l)(S,{onPointerDown:e=>{var t;_.next({pageX:e.pageX,pageY:e.pageY}),null===(t=w)||void 0===t||t(e)}});return O.a.useEffectOnDidMount(()=>{if(null!=p.current)try{const e=p.current.focus.bind(p.current);p.current.focus=t=>{var n;Boolean(null===(n=p.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}}),o.createElement("li",Object(r._)(Object(i._)(Object(r._)({"data-name":d},k),{ref:p}),Object(f.c)(L.menuItem,l,g?L.menuItemDisabled:void 0,b?L.menuItemSelected:void 0)),o.createElement(y.Typography,{nodeType:"span",styleType:y.Typography.Type.Base,className:L.menuItemContentWrapper},e.rendered),C())}function C({name:e,section:t,state:n,onAction:a,theme:c={},itemAnimationMode:u=v.a.FromClickPoint}){const d=o.useMemo(()=>Boolean(e)?e+"-section":"dropdown-menu-section",[e]),{itemProps:p,headingProps:m,groupProps:h}=Object(s.c)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:g}=Object(l.a)({elementType:"li"});return o.createElement(o.Fragment,null,t.key!==n.collection.getFirstKey()&&o.createElement("li",Object(i._)(Object(r._)({},g),{className:L.separator})),o.createElement("li",Object(r._)({"data-name":d},p,Object(f.c)(L.section,c.section)),Boolean(t.rendered)&&o.createElement(y.Typography.H5,Object(i._)(Object(r._)({},m),{className:L.sectionHeading}),t.rendered),o.createElement("ul",Object(i._)(Object(r._)({},h),{className:L.itemList}),Array.from(t.childNodes).map(t=>o.createElement(_,{key:t.key,item:t,state:n,onAction:a,animationMode:u,className:c.item,name:e})))))}}(F||(F={}))},Rc7N:function(e,t,n){"use strict";var r=n("N4IK");t.a=Object.assign(Object.assign({},r.a),{BrandGreen60:"#018374",BrandGreen80:"#017467",BorderBaseSubduedColor:"#CDD1DC",TextBaseSubduedColor:"#646B81",TextBaseDefault:"#161719",BorderBaseInverse:"#ffffff",BackgroundNeutralDefault:"#646B81",BackgroundAdditionSubdued:"#DEF7F5",BackgroundBaseSubdued:"#F4F4F6",BackgroundBrandDefault:"#027E6F",BackgroundBrandHover:"#017467",BackgroundBrandActive:"#014C43",BorderBrandDefault:"#027E6F",ColorBrandDefault:"#027E6F",ButtonBackgroundSecondaryHover:"#DEF7F5",ButtonBackgroundSecondaryActive:"#B1F0E8",ButtonTextSecondaryDefault:"#027E6F",ButtonTextSecondaryHover:"#014C43",ButtonTextSecondaryActive:"#014C43",ButtonBackgroundTertiaryHover:"#E2E4E9",ButtonBackgroundTertiaryActive:"#CDD1DC",ButtonTextTertiaryDefault:"#646B81",ButtonTextTertiaryHover:"#474B58",ButtonTextTertiaryActive:"#474B58",ButtonBorderTertiaryHover:"#878DA2",ButtonBorderTertiaryActive:"#878DA2",ButtonTextTertiaryDefaultInverse:"#C2C6D4",ButtonTextTertiaryHoverInverse:"#C2C6D4",ButtonBackgroundTertiaryHoverInverse:"#27282E",ButtonBorderTertiaryHoverInverse:"#C2C6D4",ButtonTextTertiaryActiveInverse:"#C2C6D4",ButtonBackgroundTertiaryActiveInverse:"#474B58",ButtonBorderTertiaryActiveInverse:"#C2C6D4",PopoverBackgroundBaseSubdued:"#27282E",IndicatorDotDefault:"#E7E9F5",IndicatorDotActive:"#4A6EE0",OnBrandBadge:"#EDF5FF",OnBrandBadgeLabel:"#4A6EE0",OnBrandBadgeIcon:"#3659B5",OffBrandBadge:"#FDF0F3",OffBrandBadgeLabel:"#CE1331",OffBrandBadgeIcon:"#CE1331",MenuBackgroundSelected:"#F4F4F6",MenuIconSelected:"#646B81",MenuBorderDefault:"#878DA2",MenuBackgroundHover:"#E2E4E9",MenuIconHover:"#474B58"})},"S+il":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("xk6L");!function(e){e.listen=e=>i.a.fromEvent(document,"keydown").pipe(i.a.filter(t=>t.key.toLowerCase()===e&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)))}(r||(r={}))},S6NP:function(e){e.exports=JSON.parse('{"notification":"_6f7dd14d-default-notification","contentSection":"_79341464-default-contentSection","content":"_6749da61-default-content","title":"_a2e9eb8b-default-title","btnGroup":"_568e364b-default-btnGroup","surveyBtn":"_95c4c432-default-surveyBtn","designerAvatar":"_6062b798-default-designerAvatar"}')},S6rj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO");const s=n("nWMp").a.style({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}),c=e=>{var{children:t}=e,n=Object(a._)(e,["children"]);return o.createElement("div",Object(i._)(Object(r._)({},n),{className:s}),t)}},"SD/g":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("U9Go"),a=n("lKCo"),o=n("cZKX"),s=n("IMGo"),c=n("DTwm"),l=n("GMJx"),u=n("TKPA"),d=n("mgiE"),p=n("OX5W"),m=n("PiEC");!function(e){let t,n,r,f,h,g,b;function v(e){return"complete"===e.kind}function y(e){return"history"===e.kind}function O(e){return"inProgressOngoing"===e.kind}function _(e){return"inProgressPending"===e.kind}!function(e){e.create=function(e){return""+e},e.toPrimitive=function(e){return parseInt(e,10)},e.eq=i.i}(t=e.Id||(e.Id={})),function(e){e.insert="insert",e.reportOffensive="reportOffensive"}(n=e.Feedback||(e.Feedback={})),function(e){e.insert="insert",e.copy="copy",e.rephrase="rephrase"}(r=e.SupportedAction||(e.SupportedAction={})),e.hasId=function(e){return"id"in e},e.isComplete=v,e.isHistory=y,e.isAIUsageNotification=function(e){return"aiUsageNotification"===e.kind},e.isStandardCompletedResult=Object(u.p)(v,y),e.isInProgressOngoing=O,e.isInProgressPending=_,e.isInProgressInterrupted=function(e){return"inProgressInterrupted"===e.kind},e.isInProgress=Object(u.p)(O,_),function(e){e.generic="generic",e.user="user"}(f=e.GeneratedTextVoice||(e.GeneratedTextVoice={})),function(t){t.createFromResultMessage=function(t){var n,r;const i=Object(c.pipe)(Object(p.b)(null===(n=t.text)||void 0===n?void 0:n.delta),a.getOrElse(()=>new l.a));return Object(c.pipe)(Object(p.b)(null===(r=t.withVoiceText)||void 0===r?void 0:r.delta),d.b.fromOption(()=>i),d.b.map(n=>({generic:i,user:n,preferVoice:!0===(null==t?void 0:t.showVoiceTextByDefault)?e.GeneratedTextVoice.user:e.GeneratedTextVoice.generic})))}}(h=e.ResultDelta||(e.ResultDelta={})),function(t){t.createFromCard=function(t,n){return{kind:"history",id:e.Id.create(t.id),header:"action"===t.title.kind?{label:t.title.label,iconUrl:""!==t.title.iconUrl.trim()?a.some(t.title.iconUrl):a.none,copiablePrompt:a.none}:{label:t.title.text,iconUrl:a.none,copiablePrompt:""!==t.title.text.trim()?a.some(t.title.text):a.none},replacementDelta:h.createFromResultMessage({text:t.text,withVoiceText:t.text.plain===t.withVoiceText.plain?void 0:t.withVoiceText,showVoiceTextByDefault:t.text.plain===t.withVoiceText.plain?void 0:t.showVoiceTextByDefault}),supportedActions:new Set([e.SupportedAction.insert].concat(n?[e.SupportedAction.copy]:[])),references:Object(c.pipe)(t.references,o.ub(m.a.create),s.F)}}}(g=e.History||(e.History={})),function(e){e.fromInProgressResult=function(e,t){return Object.assign(Object.assign({},e),{kind:"aiUsageNotification",text:t})}}(b=e.AIUsageNotification||(e.AIUsageNotification={}))}(r||(r={}))},SDkL:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("B8yO"),i=n("DTwm"),a=n("OwvP"),o=n("mgiE"),s=n("TKPA"),c=n("111I"),l=n("xk6L"),u=n("RRF2"),d=n("koeM"),p=n("nWMp");const m=({top:e,height:t})=>{const n="cl-placeholder-pattern-"+Math.random();return r.createElement(a.a.div,{className:g.placeholder,style:{transform:u.c.CSS.translateY(e),height:t}},r.useContext(d.a.Context).pipe(l.a.map(e=>r.createElement("svg",{"aria-hidden":!0,height:"100%",className:g.placeholderSVG},r.createElement("defs",null,r.createElement("pattern",{id:n,x:"0",y:"0",width:"100%",height:b*e,patternUnits:"userSpaceOnUse"},r.createElement("rect",{x:"0",y:"0",width:"100%",height:e*v,fill:"white"}))),r.createElement("rect",{fill:`url(#${n})`,rx:e*y,ry:e*y,width:"100%",height:"100%"})))))},f={position:"absolute",top:0,boxSizing:"border-box",marginTop:p.a.rem(.425),paddingRight:p.a.rem(2),width:p.a.percent(100)},h={width:p.a.percent(100),height:p.a.percent(100),filter:"drop-shadow(0 1px 3px rgba(129, 137, 169, .2))"},g=p.a.stylesheet({placeholder:[f],placeholderSVG:[h]}),b=4,v=3,y=.25,O=c.b.Node.make(({state:e})=>r.createElement(a.a.div,{key:"placeholder",className:e.pipe(l.a.map(o.g.isSome),l.a.distinctUntilChanged(),l.a.map(Object(s.c)(C.placeholder,C.hiddenPlaceholder)),l.a.startWith(C.hiddenPlaceholder))},e.pipe(l.a.map(Object(i.flow)(o.g.map(e=>r.createElement(r.Fragment,null,r.createElement(m,{key:"first",top:e[0].top,height:e[0].height}),r.createElement(m,{key:"last",top:e[1].top,height:e[1].height}))),o.g.toNullable))))),_={position:"absolute"},C=p.a.stylesheet({placeholder:[_],hiddenPlaceholder:[_,{opacity:0}]})},SNOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("B8yO"),i=n("OwvP"),a=n("4GyQ"),o=n("c+X/"),s=n("nWMp");const c=({theme:e={}})=>r.createElement(i.a.div,Object(a.c)(u.container,e.container),r.createElement(i.a.div,Object(a.c)(u.swoosh,e.animation))),l=s.a.keyframes({to:{backgroundPosition:"0 100%"}}),u=s.a.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:s.a.rem(2),height:s.a.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:l,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:s.a.seconds(2),animationIterationCount:"infinite",background:`transparent url('${o.a}swoosh.png') 0 0 no-repeat`,backgroundSize:s.a.percent(100)}]})},SXX6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,i,a=n("Wy1Y"),o=n("uKMM"),s=n("JOKA"),c=n("mMt2"),l=n("HOlR"),u=n("tiWp"),d=n("RRF2");!function(e){var t=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"getRect",value:function(){return l.right({rootClientRect:d.c.Rect.empty,clientRects:[d.c.Rect.empty]})}}]),e}();e.Mock=t}(r||(r={})),function(e){var t=e.relativeToViewport=function(e){var t,n=Object(s.a)(e.clientRects),r=n[0],i=n.slice(1);return Object(u.pipe)((t=d.c.Rect).join.apply(t,[r].concat(Object(c.a)(i))),l.getOrElse((function(){return d.c.Rect.empty})))};e.relativeToRoot=function(e){return d.c.absToRelative(t(e),e.rootClientRect)},e.relativeToRootFirst=function(e){return d.c.absToRelative(e.clientRects[0],e.rootClientRect)},e.relativeAndAbs=function(e){var n=t(e);return{abs:n,relative:d.c.absToRelative(n,e.rootClientRect)}}}(i||(i={}))},ShUL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("gg7t");!function(e){!function(e){var t;!function(e){e.full="full",e.partial="partial"}(t=e.RemoveType||(e.RemoveType={})),e.getCreateAction=function(e){return function(t){return{id:t,action:o.a.Change.ActionType.create,meta:e}}},e.getUpdateAction=function(e){return function(t){return{id:t,action:o.a.Change.ActionType.update,meta:e}}},e.getRemoveAction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.full;return function(t){return{id:t,action:o.a.Change.ActionType.remove,meta:{range:e.range,removeType:n}}}},e.addRange=function(e){return Object(a._)(Object(i._)({},e),{range:e.meta.range()})},e.useRange=function(e,t){return Object(a._)(Object(i._)({},e),{meta:Object(a._)(Object(i._)({},e.meta),{range:function(){return t}})})}}(e.Change||(e.Change={}))}(r||(r={}))},TDJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return _}));var r=n("B8yO"),i=n("tiWp"),a=n("OwvP"),o=n("mgiE"),s=n("0kuo"),c=n("111I"),l=n("NDcT"),u=n("fC5a"),d=n("hSa3"),p=n("ySi0"),m=n("wuWi"),f=n("xk6L"),h=n("VHh6"),g=n("yOW0");const b=c.b.Node.make(({notify:e})=>r.createElement(a.a.div,{className:h.a.maximizedCloseButtonContainer},r.createElement(m.b,{name:"close",onClick:e("onClick")},r.createElement(p.d.Arrow,{width:11,direction:p.a.up}))));var v;!function(e){let t,n;!function(e){e.onUpgrade="onUpgrade",e.onUpgradeButtonMount="onUpgradeButtonMount"}(t=e.ActionsKind||(e.ActionsKind={})),function(e){e.isOnUpgrade=function(e){return"onUpgrade"===e.kind},e.isOnUpgradeButtonMount=function(e){return"onUpgradeButtonMount"===e.kind}}(n=e.Actions||(e.Actions={}))}(v||(v={}));const y=c.b.Node.make(({state:e,notify:t})=>{const n=r.useContext(l.a.Context);return r.createElement(r.Fragment,null,r.createElement("div",{className:h.a.maximizedHeader},r.createElement(a.a.Fragment,null,e.pipe(f.a.map(({count:e})=>e>0?e>1?r.createElement(r.Fragment,{key:"plural"},n.sidebar.content.premiumIssues.foundTitlePlural.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitlePlural.description2):r.createElement(r.Fragment,{key:"singular"},n.sidebar.content.premiumIssues.foundTitleSingular.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitleSingular.description2):null)))),r.createElement(a.a.div,{className:h.a.alertCategoryContainer},e.pipe(f.a.map(({alerts:e})=>e.map(e=>r.createElement("div",{key:e.category,className:h.a.alertCategory},r.createElement("div",{className:h.a.categoryHumanContainer},e.categoryHuman),r.createElement("div",{className:h.a.alertCounterContainer},r.createElement(d.a.Counter,{count:e.count,type:"yellowPremium"}))))))),r.createElement("div",{className:h.a.premiumButtonContainer},r.createElement("div",{ref:e=>{t({type:"upgradeHookAction",kind:v.ActionsKind.onUpgradeButtonMount,element:o.g.fromNullable(e)})()}},r.createElement(u.a,{name:"upgrade",className:h.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:v.ActionsKind.onUpgrade})},r.createElement(p.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium))))}),O=c.b.Composite.make(Object(g.a)(h.a.maximizedWrapper,h.a.maximizedWrapperIcon),c.b.Group.make({closeButton:c.b.Union.make("kind",{hidden:c.b.Node.empty,visible:b}),content:y})),_=Object(i.pipe)(c.b.squash(O),c.b.mapAction(e=>{switch(e.key){case"content":switch(e.action.kind){case v.ActionsKind.onUpgrade:return{kind:"upgrade"};case v.ActionsKind.onUpgradeButtonMount:return{kind:"onUpgradeButtonMount",element:e.action.element};default:return Object(s.c)(e.action)}case"closeButton":switch(e.action.action){case"onClick":return{kind:"collapse"};default:return Object(s.c)(e.action.action)}default:return Object(s.c)(e)}}),c.b.contramapState(e=>({closeButton:{kind:e.showCloseButton?"visible":"hidden"},content:e.alertsState})))},TFiY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("wvT7"),a=n("DTwm"),o=n("xk6L"),s=n("mgiE"),c=n("2Jx5"),l=n("0kuo"),u=n("M3t0"),d=n("RRF2");function p(e,t){return n=>Object(a.pipe)(e,c.a.moveByFindFirst(e=>t.equals(n,e)))}function m(e){return s.a.isNonEmpty(e.rights)?c.a.down(e):s.g.some(c.a.start(e))}function f(e){return s.a.isNonEmpty(e.lefts)?c.a.up(e):s.g.some(c.a.end(e))}!function(e){let t;var n;!function(e){e.focused="focused",e.proceedForwards="proceedForwards",e.proceedBackwards="proceedBackwards",e.navigationForwards="navigationForwards",e.navigationBackwards="navigationBackwards"}(t=e.FocusEvent||(e.FocusEvent={})),(n=t=e.FocusEvent||(e.FocusEvent={})).isSwitchSectionEvent=e=>[t.proceedForwards,t.proceedBackwards].includes(e),n.isInternalNavigationEvent=e=>[t.navigationForwards,t.navigationBackwards].includes(e);e.create=({contentFocusChanges:e,ord:n,eq:h,show:g,contentSection:b,keyboardEvents:v=o.a.fromEvent(document,"keydown")})=>{const y=u.d.Logging.getLogger("focus",u.a.LogLevel.DEBUG,u.a.LogColor.Manager.getColor("focus")),O=Object(a.pipe)(b,s.g.chain(e=>c.a.fromArray([e]))),_=new o.a.ReplaySubject,C=new o.a.Subject,w=v.pipe(o.a.filter(e=>"F6"===e.key),o.a.tap(e=>e.preventDefault()),o.a.tap(e=>_.next({kind:e.shiftKey?"previous":"next"})),o.a.ignoreElements(),o.a.share()),S=e.inFocus.pipe(o.a.filter(a.identity),o.a.tap(()=>_.next({kind:"reset"})),o.a.ignoreElements(),o.a.share()),k=_.pipe(o.a.tap(e=>y.debug("Focus action",e)),o.a.scan((e,t)=>{switch(t.kind){case"register":return Object(a.pipe)(e,function(e,t){return Object(a.flow)(s.g.map(c.a.toNonEmptyArray),s.g.map(t=>s.a.snoc(t,e)),s.g.map(s.a.sort(t)),s.g.getOrElse(Object(a.constant)([e])),c.a.fromArray)}(t.section,n),s.g.chain(function(e,t){return n=>Object(a.pipe)(e,s.g.map(d.e.pick("focus")),s.g.chain(p(n,t)),s.g.alt(Object(a.constant)(s.g.some(n))))}(e,h)));case"deregister":return Object(a.pipe)(e,s.g.chain((r=t.section,Object(a.flow)(c.a.toNonEmptyArray,s.a.filter(e=>e!==r),c.a.fromArray))),s.g.chain(function(e,t){return n=>Object(a.pipe)(e,s.g.chain(e=>Object(a.pipe)(p(n,t),t=>Object(a.pipe)(t(e.focus),s.g.alt(Object(a.constant)(Object(a.pipe)(e.lefts,s.a.last,s.g.chain(t)))),s.g.alt(Object(a.constant)(Object(a.pipe)(e.rights,s.a.head,s.g.chain(t))))))),s.g.alt(Object(a.constant)(s.g.some(n))))}(e,h)));case"next":return Object(a.pipe)(e,s.g.chain(m));case"previous":return Object(a.pipe)(e,s.g.chain(f));case"reset":return Object(a.pipe)(e,s.g.map(c.a.start));default:return Object(l.c)(t)}var r},O),o.a.startWith(O),o.a.map(s.g.map(c.a.extract)),o.a.skipBy(s.g.getEq(h)),o.a.tap(t=>Object(a.pipe)(Object(a.tuple)(t,b),Object(a.tupled)(Object(i.b)(s.g.option)),s.g.map(([e,t])=>h.equals(e,t)),s.g.tap(e.updateFocus))),o.a.tap(e=>y.debug("Item focused",s.g.getShow(g).show(e))),o.a.switchMap(e=>o.a.mergeStatic(w,S,o.a.of(e))),o.a.shareReplay({bufferSize:1,refCount:!1}));return{state:k,focusEvents:C,register:(e,n)=>(_.next({kind:"register",section:e}),o.a.mergeStatic(n.pipe(o.a.tap(t=>C.next({section:e,kind:t})),o.a.filter(r.FocusEvent.isSwitchSectionEvent),o.a.tap(e=>_.next({kind:e===t.proceedForwards?"next":"previous"})),o.a.ignoreElements()),k.pipe(o.a.map(n=>s.g.exists(t=>t===e)(n)?t.focused:t.proceedForwards),o.a.distinctUntilChanged(),o.a.finalize(()=>_.next({kind:"deregister",section:e})))))}}}(r||(r={}))},TPDJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("B8yO"),i=n("OwvP"),a=n("111I"),o=n("xk6L"),s=n("mgiE"),c=n("itj6"),l=n("5aph"),u=n("sfTT");const d=a.b.Grid.make(({slots:e})=>r.createElement(l.a.Context.Provider,{value:l.a.emptyWithName("card")},r.createElement(i.a.div,{"data-role":"animation-wrapper",className:u.a.animationWrapper},e.animatedItemBaseChild)));var p,m,f,h,g=n("mp9r");!function(e){e.make=function(e){return a.b.Union.asOption(a.b.Knot.make(t,{shadeItem:e}))};const t=a.b.Grid.make(({slots:e,state:t,notify:n})=>r.createElement(i.a.Fragment,null,t.pipe(o.a.map(({item:a,key:o,className:s})=>r.createElement(i.a.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{g.b.get(e.animationName)!==s&&u.b.get(e.animationName)!==s||n({type:c.a.Kind.completeTransitionTo,id:a.id,transitionId:a.visualState.transitionId})()}},e.shadeItem)))))}(p||(p={})),function(e){e.make=function(e){return a.b.Composite.make(d,a.b.Knot.make(t,{shade:p.make(e),item:e}))};const t=a.b.Grid.make(({state:e,slots:t,notify:n})=>r.createElement(i.a.Fragment,null,e.pipe(o.a.map(({item:e,className:a,hasAnimation:o})=>(o||requestAnimationFrame(n({type:c.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),r.createElement(i.a.Fragment,null,t.shade,r.createElement(i.a.div,{className:s.g.toUndefined(a),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:c.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:c.a.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))}(m||(m={})),function(e){e.make=function(e){return a.b.Composite.make(d,a.b.Knot.make(t,{staticItemChild:e}))};const t=a.b.Grid.make(({state:e,slots:t})=>r.createElement(i.a.Fragment,null,e.pipe(o.a.map(e=>r.createElement(i.a.div,{key:e},t.staticItemChild)))))}(f||(f={})),function(e){e.make=function(e){return a.b.Knot.make(t,{animatedItem:a.b.Union.make("animatedItemKind",{static:f.make(e),animating:m.make(e)})})};const t=a.b.Grid.make(({state:e,slots:t})=>r.createElement(i.a.Fragment,null,e.pipe(o.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),o.a.map(()=>r.createElement(i.a.Fragment,null,t.animatedItem)))))}(h||(h={}))},TTev:function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var r,i,a,o=n("8O/t"),s=n("X76w"),c=n("B8yO"),l=n("NDcT"),u=n("IRug"),d=n("iD3t"),p=n("BFgw"),m=n("axdO"),f=n("CNxR"),h=n("ySi0"),g=n("AyJj"),b=n("6EPH"),v=(n("z3JT"),n("cnWy"));i=r||(r={}),a={content:{wrapper:v.wrapper,icon:v.icon}},i.View=function(e){var t=e.notification,n=e.savedPrice,r=e.onClose,i=e.onChangePlan,d=c.useContext(l.a.Context).changePlan.hook;return c.createElement(u.b.Wrapper,{notification:t,onClose:r,theme:a},c.createElement(u.b.Content,null,c.createElement("div",{className:v.content},c.createElement(h.d.Paid,{width:18,className:v.iconPremium}),c.createElement("div",{className:v.text},d.title,c.createElement(g.a,{onClick:i,name:"changePlanNotification",className:v.changePlanBtn},c.createElement("b",null,d.button.switchTo,c.createElement("span",{className:v.price},d.button.price(c.createElement(b.a,Object(s._)(Object(o._)({},n.pricePerYear),{periodInMonths:12}))))))))))};var y,O=n("fC5a"),_=n("wuWi"),C=n("7IMz"),w=n("a5gI"),S=n("nWMp"),k=n("NbNH"),E=n("2swC"),j=(S.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:E.a.CoreNeutral1,justifyContent:"center",alignItems:"center"}),S.a.style({padding:S.a.rem(1.5),width:S.a.rem(k.v-k.b),borderRadius:S.a.rem(k.s),background:E.a.CoreNeutral0,boxShadow:E.b.Z300,transform:"translateX(".concat(S.a.rem(-1*(k.p-k.c+k.b)),")"),$nest:Object(w._)({},"@media (".concat(k.y,")"),{width:S.a.rem(k.w-k.b)})})),x=S.a.style({display:"flex",marginBottom:S.a.rem(1)}),A=(S.a.style({marginBottom:S.a.rem(1)}),S.a.style({marginBottom:S.a.rem(1),fontWeight:700})),I=(S.a.style({marginLeft:S.a.rem(.5)}),S.a.style({maxWidth:"100%"})),T=S.a.style({paddingRight:S.a.rem(.5),paddingLeft:S.a.rem(.5)}),M=S.a.joinClasses([S.a.style({marginRight:S.a.rem(.5),marginLeft:S.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:S.a.rem(E.h.BodySize)}),T]);(y||(y={})).View=function(e){var t=e.name,n=e.title,r=e.description,i=e.cta,a=e.dismiss,o=e.topPart,s=e.rightPart,l=e.onCTA,u=e.onDismiss,d=e.onShow;return C.a.useEffectOnDidMount((function(){return d&&d()})),c.createElement("section",{className:j},o,c.createElement("div",{className:x},c.createElement("div",null,c.createElement(_.a,{className:A},n),c.createElement(_.a,null,r)),s),c.createElement("div",{className:I},c.createElement(O.a.Ghost,{name:t,className:M,onClick:l},i),c.createElement(O.a.Flat,{name:"dismiss.".concat(t),className:T,onClick:u},a)))};var P,N=n("jY3z"),B=function(e){var t=e.className;return c.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},c.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),c.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),c.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),c.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),c.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),c.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),c.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),c.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),c.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),c.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),c.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}))},L=(n("9f0O"),n("AVfX"));(P||(P={})).View=function(e){var t=e.type,n=e.dismissCount,r=e.onShow,i=e.onCTA,a=e.onDismiss,o=c.useContext(l.a.Context).gbUpHook;return C.a.useEffectOnDidMount(r),c.createElement("section",{className:L.container},c.createElement(N.a.Regular,null,o.proTipBadge),c.createElement("div",{className:L.content},c.createElement("div",null,c.createElement(_.a,{className:L.title},o[t].title),c.createElement(_.a,null,o[t].description)),c.createElement(B,{className:L.image})),c.createElement("div",{className:L.buttonsContainer},c.createElement(O.a.Ghost,{name:t,className:L.ctaButton,onClick:i},o[t].cta),c.createElement(O.a.Flat,{name:"dismiss.".concat(t),className:L.dismissButton,onClick:a},1===n?o.dontShowAgain:o.dismiss)))};var F,R=n("s/43"),D=n("RRF2"),H=function(e){var t=e.expiryDate,n=e.notification,r=e.onShow,i=e.onDismiss,a=e.onUpdateBilling,o=c.useContext(l.a.Context).gbBillingMigration,s=D.d.Local.fullDate(D.d.Local.Timestamp.toLocal(t.getTime()));return c.useEffect(r),c.createElement(u.b.Wrapper,{notification:n,onClose:i},c.createElement("div",null,c.createElement(_.g,{className:V.title},o.title),c.createElement(R.a,null),c.createElement(_.a,{className:V.description},o.description(s)),c.createElement(R.a,null),c.createElement(g.a,{name:"addBillingInformation",onClick:a,className:V.cta},o.cta)))},V=S.a.prefixedStylesheet("gb_billing_migration_notification",{title:[{color:E.a.CoreNeutral0,lineHeight:S.a.rem(1.5)}],description:[{color:E.a.CoreNeutral0}],cta:[{fontWeight:600}]}),U=n("a7bV"),W=function(e){var t=e.notification,n=e.onClose,r=e.link,i=c.useContext(l.a.Context).gbRuleCreated;return c.createElement(u.a.Wrapper,{notification:t,onClose:n},c.createElement(u.b.Content,null,c.createElement("div",{className:K.wrapper},c.createElement("div",{className:K.content},c.createElement("div",null,i.ruleSaved),c.createElement(U.a,{href:r,target:"_blank",className:K.link},i.viewStyleGuide)))))},z={display:"flex",marginTop:S.a.rem(-1.1),marginBottom:S.a.rem(-.8),alignItems:"center",justifyContent:"space-between"},G={maxWidth:S.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1,paddingTop:S.a.rem(.5),paddingRight:S.a.rem(2)},q={color:E.a.CoreBlue40,textDecoration:"none"},K=S.a.stylesheet({wrapper:[z],content:[G],link:[q]}),$=(n("SkKt"),n("Npab"));(F||(F={})).CardMute=function(e){var t=e.onClose,r=e.onShow,i=n("Je0D"),a=n("9pXQ"),o=c.useContext(l.a.Context).mutedAlerts.onboarding.cardMute;return c.useEffect((function(){return r()})),c.createElement("div",{className:$.wrapper},c.createElement("video",{className:$.media,muted:!0,autoPlay:!0,loop:!0,src:i,poster:a}),c.createElement(_.a,{className:$.description},o.description),c.createElement(g.a,{name:"gotItMutedOnboarding",className:$.btn,onClick:t},o.buttonText))};var Z,Y=n("CQgj"),X=n("DTwm"),Q=(n("9h2u"),n("fYz5"));!function(e){var t={content:{wrapper:Q.wrapper,icon:Q.icon}};e.View=function(e){var n=e.trialEndDate,r=e.notification,i=e.onManageSubscription,a=e.onClose,o=c.useContext(l.a.Context).premiumUngatingRenewalNotification,s=D.d.Local.fullDate(D.d.Local.Timestamp.toLocal(n.getTime())),d=Object(X.flow)(i,a);return c.createElement(u.b.Wrapper,{notification:r,onClose:a,theme:t},c.createElement(u.b.Content,null,c.createElement("div",{className:Q.content},c.createElement(h.d.Info,{width:18,className:Q.iconInfo}),c.createElement("div",{className:Q.message},c.createElement("div",{className:Q.title},o.title),o.message(s),c.createElement(g.a,{onClick:d,name:"manageSubscription",className:Q.manageSubscriptionBtn},o.cta)))))}}(Z||(Z={}));var J=function(){return c.createElement("svg",{"aria-hidden":!0,width:"300",height:"120",viewBox:"0 0 200 100",xmlns:"http://www.w3.org/2000/svg"},c.createElement("defs",null,c.createElement("radialGradient",{cy:"51.039%",fx:"50%",fy:"51.039%",r:"53.934%",gradientTransform:"matrix(0 1 -.99155 0 1.006 .01)",id:"a"},c.createElement("stop",{stopColor:"#03C1E2",offset:"0%"}),c.createElement("stop",{stopColor:"#0279D8",offset:"100%"}))),c.createElement("g",{fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M180.34 114.801c0 25.152-20.564 45.544-45.933 45.544-25.366 0-45.932-20.392-45.932-45.544 0-25.154 20.566-45.544 45.932-45.544 25.369 0 45.933 20.39 45.933 45.544",fill:"#15C39A"}),c.createElement("path",{d:"M143.47 120.973c-1.91 0-3.417 1.705-3.06 3.662.272 1.49 1.686 2.513 3.214 2.513h4.813l2.79-.389c-4.464 6.493-12.214 9.481-20.688 8.163-6.898-1.074-12.823-5.701-15.323-12.165-5.676-14.67 5.13-28.678 19.211-28.678 7.34 0 13.774 4.259 17.465 9.403.002 0 .004.107.004.111.98 1.4 2.92 1.802 4.333.83a3.03 3.03 0 0 0 .905-4.053h.022c-5.105-7.901-14.277-12.957-24.592-12.272-13.43.893-24.298 11.79-25.07 25.115-.898 15.505 11.506 28.164 26.933 28.164 8.104 0 15.36-3.499 20.302-9.16l-.585 3.247v2.935c0 1.513 1.029 2.917 2.533 3.186 1.975.352 3.692-1.143 3.692-3.036v-17.576H143.47",fill:"#FFF",fillRule:"nonzero"}),c.createElement("g",{transform:"translate(3 69.257)"},c.createElement("ellipse",{stroke:"#FFF",strokeWidth:"2.649",fill:"url(#a)",cx:"45.765",cy:"45.378",rx:"47.089",ry:"46.703"}),c.createElement("path",{fill:"#EDEDED",d:"M40.217 39.83l33.05-21.955-21.955 33.05-33.05 21.956z"}),c.createElement("path",{fill:"#FE4E4D",d:"M40.217 39.83l33.05-21.955-21.955 33.05z"}),c.createElement("path",{fillOpacity:".199",fill:"#1C1E29",d:"M73.268 17.875l-21.956 33.05-33.05 21.956z"}),c.createElement("path",{d:"M46.637 77.791v6.483H45.11V77.79h1.526zm-17.783-4.666l1.321.756-3.269 5.614-1.32-.756 3.268-5.614zm33.822 0l3.269 5.614-1.322.756-3.268-5.614 1.32-.756zM17.128 61.023l.763 1.31-5.662 3.242-.763-1.31 5.662-3.242zm57.273 0l5.662 3.242-.762 1.31-5.662-3.242.762-1.31zm10.59-16.293v1.513h-6.537V44.73h6.538zm-71.915 0v1.513H6.538V44.73h6.538zM79.41 25.369l.762 1.31-5.662 3.241-.762-1.31 5.662-3.241zm-67.29 0l5.662 3.241-.763 1.31-5.662-3.241.763-1.31zm52.692-14l1.321.757-3.269 5.614-1.32-.756 3.268-5.615zm-38.094 0l3.268 5.615-1.32.756-3.27-5.614 1.322-.757zm19.919-4.886v6.482H45.11V6.483h1.526z",fill:"#F3F5FA"})),c.createElement("g",null,c.createElement("path",{d:"M76.732 36.02h35.03a2.55 2.55 0 0 0 2.205-3.833L96.452 2.074a2.55 2.55 0 0 0-4.409 0L74.528 32.187a2.55 2.55 0 0 0 2.204 3.832z",fill:"#EA1537"}),c.createElement("path",{d:"M95.86 17.988l-.695 6.792h-1.859l-.694-6.792v-5.483h3.247v5.483zm.024 12.028h-3.272v-3.285h3.272v3.285z",fill:"#FFF",fillRule:"nonzero"}))))},ee=n("oZJ9"),te=n("4tRT"),ne=n("+vYo"),re=n("Y8fD"),ie=n("xk6L"),ae=n("mgiE"),oe=n("LzNK"),se=n("jSIJ"),ce=n("BSU1"),le=(n("ELx3"),n("+JBM")),ue=te.a.create(ae.g.isNone,(function(e){return e?ae.g.none:ae.g.some("closedByUser")})),de=function(e){var t=e.onClose,n=e.onGetStarted,r=c.useContext(l.a.Context).survey.proofitPromo,i=c.useContext(oe.a.Context),a=i.gnarSpec,o=i.pageId,s=ne.a.create(ae.g.none);return c.useEffect((function(){a.surveyPopupShow(o,se.p.ProofitPromo)}),[a,o]),C.a.useSubscriptionTo(s.pipe(ie.b.compact,ie.a.tap((function(e){return re.a.isCloseAction(e)?t():"getStarted"===e?n():void 0})))),c.createElement(ce.c.WithOverlay,{key:"proofit-modal-notification",position:ce.b.BottomRight,isVisibleAtom:s.lens(ue),title:r.title,content:r.content,icon:c.createElement("picture",null,c.createElement("div",{className:le.proofitIconBig})),iconPosition:ce.a.Right,isCloseButton:!1,buttons:c.createElement(c.Fragment,null,c.createElement(O.a.Primary,{name:"getStartedBtn",className:le.getStartedBtn,onClick:function(){s.set(ae.g.some("getStarted")),a.professionalProofreadingButtonClick(o,"proofitPromo")}},r.actions.view),c.createElement(O.a.Caps,{name:"closeBtn",className:le.closeBtn,onClick:function(){return s.set(ae.g.some("closedByUser"))}},r.actions.close))})},pe=Object(s._)(Object(o._)({},p.a),{alertUndo:function(e,t){return c.createElement(m.a.Flexible,{notification:e,onClose:t("closedByUser"),action:t("undo"),params:e.args.params})},textRemoved:function(e,t){return c.createElement(fe,{action:t("undo")})},cardMuteOnboarding:function(e,t){return c.createElement(F.CardMute,{onShow:t("shown"),onClose:t("closedByUser")})},externalSurvey:function(e,t){return c.createElement(ee.a,{surveyType:e.args.surveyType,onClose:t("closedByUser"),onRemindLater:t("remindLater")})},proofitPromo:function(e,t){return c.createElement(de,{onClose:t("closedByUser"),onGetStarted:t("getStarted")})},premiumOnboardingSurvey:function(e,t){return c.createElement(f.a,{viewModel:e.args.viewModel,onClose:t("closedByUser")})},changePlanCta:function(e,t){return c.createElement(r.View,{notification:e,savedPrice:e.args.model.savedPrice,onClose:t("closedByUser"),onChangePlan:t("changePlan")})},gbUpHook:function(e,t){return c.createElement(P.View,{type:e.args.type,dismissCount:e.args.dismissCount,onShow:t("shown"),onCTA:t("cta"),onDismiss:t("dismiss")})},gbBillingMigration:function(e,t){return c.createElement(H,{notification:e,expiryDate:e.args.expiryDate,onShow:t("shown"),onUpdateBilling:t("cta"),onDismiss:t("closedByUser")})},changePlanSuccess:function(e){return c.createElement(he,{planName:e.args.planName})},premiumUngatingRenewal:function(e,t){return c.createElement(Z.View,{trialEndDate:e.args.trialEndDate,notification:e,onClose:t("closedByUser"),onManageSubscription:t("ctaManageSubscription")})},gbSatisfactionSurvey:function(e,t){return c.createElement(d.a,{viewModel:e.args.viewModel,onClose:t("closedByUser"),onComplete:t("completeSurvey")})},safariExtActivation:function(e,t){return c.createElement(me,{cta:t("activate"),close:t("closedByUser"),onShow:t("shown")})},obtainGrades:function(e,t){return c.createElement(Y.a.ObtainGrades,{onShow:t("shown"),onClose:t("closedByUser"),notification:e,viewModel:e.args.viewModel})},citationStyleChange:function(e){return c.createElement(ge,{citationStyle:e.args.citationStyle})},gbRuleCreated:function(e,t){return c.createElement(W,{notification:e,onClose:t("closedByUser"),link:e.args.link})}}),me=function(e){var t=e.cta,n=e.close,r=e.onShow,i=c.useContext(l.a.Context),a=i.safariExtActivationNotification,o=i.actions;return c.createElement(y.View,{title:a.title,description:a.description,cta:a.cta,dismiss:o.close,name:"safariExtActivationNotification",onCTA:t,onDismiss:n,onShow:r,rightPart:c.createElement(J,null)})},fe=function(e){var t=e.action,n=c.useContext(l.a.Context);return c.createElement(u.b.Content,null,c.createElement(m.a.Content,{action:t,content:n.textRemoved}))},he=function(e){var t=e.planName,n=c.useContext(l.a.Context).changePlan;return c.createElement(u.b.Content,null,n.successfulNotificationCopy(t))},ge=function(e){var t=e.citationStyle,n=c.useContext(l.a.Context);return c.createElement(u.b.Content,null,n.citation.citationStyleChangeNotification.content(n.goals.sections.format.formatTitle(t)))}},TXN2:function(e,t,n){"use strict";n.d(t,"f",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"e",(function(){return oe})),n.d(t,"q",(function(){return me})),n.d(t,"g",(function(){return fe})),n.d(t,"m",(function(){return he})),n.d(t,"l",(function(){return be})),n.d(t,"n",(function(){return ve})),n.d(t,"o",(function(){return ye})),n.d(t,"p",(function(){return Oe})),n.d(t,"i",(function(){return _e})),n.d(t,"h",(function(){return Ce})),n.d(t,"v",(function(){return we})),n.d(t,"c",(function(){return ke})),n.d(t,"d",(function(){return Ee})),n.d(t,"b",(function(){return je})),n.d(t,"a",(function(){return Ae})),n.d(t,"j",(function(){return Ie})),n.d(t,"z",(function(){return Ve})),n.d(t,"r",(function(){return Ue})),n.d(t,"s",(function(){return We})),n.d(t,"u",(function(){return ze})),n.d(t,"x",(function(){return Ge})),n.d(t,"y",(function(){return qe})),n.d(t,"t",(function(){return wt})),n.d(t,"w",(function(){return St}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("4GyQ"),l=n("OwvP"),u=n("+vYo"),d=n("0Qjk"),p=n("RYaW"),m=n("TKPA"),f=n("mgiE"),h=n("RRF2"),g=n("2swC"),b=n("M3t0"),v=n("ksEe"),y=n("NDcT"),O=n("jY3z"),_=n("fC5a"),C=n("+bR4"),w=n("ySi0"),S=n("IRug"),k=n("2qi0"),E=n("f82Z"),j=n("opJU"),x=n("D6wy"),A=n("wuWi"),I=n("Hj2R"),T=n("nWMp"),M=n("NbNH"),P=n("7IMz"),N=n("xk6L"),B=n("uxqH"),L=n("ZDrO"),F=n("hzat"),R=n("SOPW"),D=n("4wwO"),H=n("itj6"),V=n("eAYH"),U=n("KH+i"),W=n("h+d6"),z=n("6+at"),G=n("7Cqk"),q=n("/Q61"),K=n("6fTk"),$=n("9bwL"),Z=n("CBmo"),Y=n("zpyO"),X=n("aYCJ"),Q=n("JRBS"),J=n("jEie");const ee=Object(m.l)(b.d.Logging.getLogger);var te;!function(e){var t=e.actionRegex=/^#([\w\d_-]+)$/;e.parse=e=>Object(s.pipe)(f.g.fromNullable(e.match(t)),f.g.chain(e=>{switch(e[1]){case"set-goals":return f.g.some(H.b.Type.openSetGoals);case"ideas-gallery":return f.g.some(H.b.Type.openIdeasGallery);default:return f.g.none}}))}(te||(te={}));const ne=({description:e,actions:t,layoutDensity:n,className:i})=>{const o=a.useContext(y.a.Context),l=a.useContext(j.a.Context),{ref:u,onMount:d}=P.a.useElWatcher();P.a.useSubscriptionTo(u.pipe(N.b.compact,N.a.switchMap(e=>Array.from(e.getElementsByTagName("a")).reduce((e,n)=>{const r=N.a.fromEvent(n,"click").pipe(N.a.tap(e=>e.preventDefault()));return Object(s.pipe)(f.g.fromNullable(n.getAttribute("href")),f.g.chain(te.parse),f.g.fold(()=>(ee("Description").error("Invalid action",n),e.pipe(N.a.merge(r))),i=>N.a.mergeStatic(e,i in o.card.actionDescription&&i!==H.b.Type.openIdeasGallery?l.getTooltipObservable(n,o.card.actionDescription[i],"auto",f.g.none):N.a.EMPTY,r.pipe(N.a.mapTo({type:i}),N.a.tap(t)))))},N.a.EMPTY))));const p=Object(s.pipe)(n,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>Et.minimalDescription,()=>Et.description));return a.createElement(A.a,Object(r._)({mount:d},Object(c.c)(p,i),K.a.renderToHtml(e,te.actionRegex)))},re=({card:e,isChecking:t})=>I.a.isRated(e.activeAlert)?a.createElement(C.a,{value:R.a.isCardPresuccess(e.visualState)?B.a.MAX:e.meta.percentile,initValue:R.a.isCardPresuccess(e.visualState)?e.meta.percentile:B.a.MIN,isLoading:t}):null,ie=({card:e})=>{const t=Object(C.b)(R.a.isCardPresuccess(e.visualState)?B.a.MAX:e.meta.percentile,R.a.isCardPresuccess(e.visualState)?e.meta.percentile:B.a.MIN);return a.createElement(l.a.Fragment,null,t.pipe(N.a.map(B.a.prism.reverseGet),N.a.map(e=>a.createElement(k.a,{percentage:e,colorType:k.a.ColorType.neoBlue,iconSize:k.a.IconSize.extraSmall,theme:{radialProgressBar:Et.circleProgress,radialProgressText:Et.circleText}}))))},ae=({card:e,feedbackActions:t,onClick:n,disabled:r})=>{const i=a.useContext(y.a.Context);return a.createElement(_.a.Ghost,{name:"ignore",title:i.dismiss,"aria-label":i.dismiss,onClick:L.d.callOnce(()=>{t.next({type:H.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:R.a.isEligibleForDismissSurvey(e),drilldownSuggestionIds:V.b.isSynfonyItem(e)?Object(s.pipe)(e.synfonySelection,f.g.getOrElse(()=>[])):void 0}),n&&n()}),disabled:r},a.createElement(w.d.Ignore,null))},oe=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:r,alwaysShowWrongAndOffensiveButtons:i})=>a.createElement(a.Fragment,null,a.createElement(ae,{card:e,feedbackActions:t,onClick:r,disabled:n}),a.createElement(de,{id:e.id,activeAlert:e.activeAlert,onMute:Object(s.pipe)(e.muteCategory,f.g.map(n=>L.d.callOnce(()=>t.next({type:H.b.Type.muteAlertCategory,categoryId:n.id,id:e.id,viewType:e.activeAlert.type})))),onWrong:L.d.callOnce(L.d.callOnce(()=>t.next({type:H.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.a.AlertFeedbackType.WRONG_SUGGESTION}))),onOffensive:L.d.callOnce(L.d.callOnce(()=>t.next({type:H.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.a.AlertFeedbackType.OFFENSIVE_CONTENT}))),onVisibilityChange:e=>t.next({type:H.b.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),alwaysShowWrongAndOffensiveButtons:i})),se=()=>{const e=a.useContext(y.a.Context);return a.createElement(a.Fragment,null,a.createElement(w.d.Mute,null),e.card.mute)},ce=()=>{const e=a.useContext(y.a.Context);return a.createElement(a.Fragment,null,a.createElement(w.d.Report,null),e.card.wrong)},le=()=>{const e=a.useContext(y.a.Context);return a.createElement(a.Fragment,null,a.createElement(w.d.Report,null),e.card.offensive)},ue=e=>Object(s.pipe)(e.extraProperties.vox,f.g.mapOrDefault(()=>null,a.createElement(le,null))),de=({id:e,activeAlert:t,onMute:n,onWrong:r,onOffensive:i,alwaysShowWrongAndOffensiveButtons:c=!1})=>{const l=a.useContext(y.a.Context),u=f.g.isSome(t.getTransform()),d=f.g.isSome(n),h=u||c,g={turnoff:Object(s.pipe)(n,f.g.getOrElse(()=>m.e)),incorrect:r,offensive:i};return Object(s.pipe)(d||h,f.g.fromPredicate(o.identity),f.g.map(()=>a.createElement(p.a.Dropdown,{id:e,placement:"bottom end",label:a.createElement(w.f.MoreVertical,null),"aria-label":l.card.moreActions,onAction:e=>g[e](),items:Object(s.pipe)([Object(s.pipe)(n,f.g.map(()=>[a.createElement(p.a.Item,{key:"turnoff",textValue:"turnoff"},a.createElement(se,null))]),f.g.map(e=>({key:"turnoff",children:e}))),Object(s.pipe)(u||c,f.g.fromPredicate(o.identity),f.g.map(()=>{const e=[a.createElement(p.a.Item,{key:"incorrect",textValue:"incorrect"},a.createElement(ce,null))],n=ue(t);return n&&e.push(a.createElement(p.a.Item,{key:"offensive",textValue:"offensive"},n)),e}),f.g.map(e=>({key:"wrongAndOffensive",children:e})))],f.a.filterMap(o.identity))},e=>a.createElement(p.a.Section,{key:e.key},e.children))),f.g.orNull)},pe=({card:e,onClick:t,mode:n="default"})=>{const o=a.useContext(y.a.Context),s=a.useContext(v.a.Context),c=a.useCallback(e=>{s.has(v.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()},[]),l=e.renderOptions.features.has(U.a.Features.showAnonymousUserFooters)?{disabled:!0,title:o.card.disabledForAnonymous}:{title:"mini"===n?o.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?a.createElement(_.a.Tertiary,Object(i._)(Object(r._)({},l),{name:"add-to-dict",onClick:c}),a.createElement(w.d.Dict,null),o.card.addToDict):null},me=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:o,onClick:s,disabled:l,className:u,spinnerClassName:d,messageClassName:p})=>a.createElement(_.a.Primary,Object(i._)(Object(r._)({key:"update-all",name:"update-all",title:e},Object(c.c)(t.pipe(N.a.map(Object(m.c)(Y.a.updateAllBtnLoading,Y.a.updateAllBtn))),u)),{disabled:t.view(e=>e||!0===l),children:t.pipe(N.a.map(Object(m.c)(a.createElement(a.Fragment,{key:"update-all-checking"},a.createElement("span",{className:p},h.f.capitalize(n)),a.createElement(E.a,{size:18,strokeWidth:2,wrapperClassName:Object(c.c)(Y.a.updateBtnSpinner,d).className,variation:"white"})),a.createElement(a.Fragment,{key:"update-all-checked"},h.f.capitalize(o))))),onClick:L.d.callOnce(s)})),fe=({card:e})=>Object(s.pipe)(Se(e.activeAlert,e.renderOptions.layoutDensity),f.g.map(t=>a.createElement($.b,{key:"card-actions-details",visualState:e.visualState,className:Et.more},t)),f.g.toNullable),he=({card:e,actions:t})=>we(e.activeAlert,e.renderOptions.layoutDensity)?a.createElement($.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):V.b.isDefaultItem(e)?a.createElement(pe,{key:"card-actions-button",card:e,mode:"default",onClick:L.d.callOnce(()=>t.next({type:H.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:d.a.AlertFeedbackType.ADD_TO_DICTIONARY}))}):null,ge=e=>{const t=e.showDemoDocOnboardingA11yUpdates?{title:"Review suggestions",message:"Grammarly checks for mistakes and suggests ways to improve your text."}:{message:"Click a suggestion to accept it."};return a.createElement(z.b,{alignment:"bottom",eventType:"onclick",stepId:W.a.StepId.Step4,title:t.title,message:t.message,dotPosition:{kind:"findFirstButton",position:z.a.rightTop},themes:{containerWrapperClassName:Et.onboardingNotification}},e.children)},be=({onClick:e,rl:t,layoutDensity:n,a11yContrast:r,showDemoDocOnboardingA11yUpdates:i})=>a.createElement(ge,{showDemoDocOnboardingA11yUpdates:i},a.createElement(Q.f,{replacementsLabels:t,onClick:e,layoutDensity:n,a11yContrast:r})),ve=({text:e})=>a.createElement(A.i,Object(r._)({className:Et.title},K.a.renderToHtml(e))),ye=({text:e})=>a.createElement(A.i,Object(r._)({className:Et.titleMinimal},K.a.renderToHtml(e))),Oe=({alert:e})=>a.createElement(A.g,Object(r._)({className:Et.title},K.a.renderToHtml(e.title))),_e=({alert:e,options:t,children:n,className:o,badge:s})=>{const u=a.useContext(y.a.Context);return a.createElement(l.a.Fragment,null,t.cardVisualMode.pipe(N.a.map(l=>a.createElement(q.a,Object(i._)(Object(r._)({activeAlert:e,cardVisualMode:l,showCardLabel:t.features.has(U.a.Features.showLabel),premiumAlertLabelHighlight:t.features.has(U.a.Features.showNewPremiumCardLabels)?q.b.new:t.features.has(U.a.Features.showPersistentPremiumCardLabels)?q.b.persistent:q.b.none,layoutDensity:t.layoutDensity},Object(c.c)(Et.label,o)),{badge:e.extraProperties.isBeta?a.createElement(O.a.Regular,{a11yContrast:t.features.has(U.a.Features.a11yContrast)},u.beta):s}),n))))},Ce=({text:e,layoutDensity:t})=>a.createElement("div",{className:Et.highlightedTextBox},a.createElement(A.a,{className:Object(s.pipe)(t,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>Et.minimalHighlightedTextInnerBox,()=>Et.highlightedTextInnerBox))},e));function we(e,t){return!e.extraProperties.hasAddToDictionary&&(!(!f.g.isSome(e.examples)&&!f.g.isSome(e.details))||!(t!==U.a.Density.minimal||!f.g.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation))}const Se=(e,t)=>{if(!we(e,t))return f.g.empty();const n=Object(s.pipe)(t,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>Et.minimalDescription,()=>Et.description));return f.g.some(a.createElement(a.Fragment,null,Object(s.pipe)(t,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>f.g.isNone(e.details)?a.createElement(A.a,Object(r._)({className:n},K.a.renderToHtml(e.explanation,te.actionRegex))):null,()=>null)),Object(s.pipe)(e.details,f.g.map(e=>a.createElement(A.a,Object(r._)({className:n},K.a.renderToHtml(e)))),f.g.toNullable),Object(s.pipe)(e.examples,f.g.map(e=>a.createElement(X.a,{layoutDensity:t,examples:e})),f.g.toNullable)))},ke=({isChecking:e})=>a.createElement(l.a.Fragment,null,e.pipe(N.a.map(e=>a.createElement(E.a,{className:e?Et.spinner:Et.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2})))),Ee=e=>{const[t,n]=a.useState(!0);return t?a.createElement(Te,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},je=({card:e,actions:t})=>{if(V.b.isEthicalAIItem(e)||V.b.isSuggestedSnippetItem(e)||V.b.isKnowledgeHubSuggestedTermItem(e))return null;if(!Object(s.pipe)(e.activeAlert.isFree)&&e.renderOptions.features.has(U.a.Features.showYellowFooterForTrialUsers))return a.createElement(Fe,null);if(Object(s.pipe)(e.activeAlert.extraProperties.freePremium,f.g.contains("unlocked")))return a.createElement(Be,null);if(Object(s.pipe)(e.activeAlert.extraProperties.premiumYellowFooterVariant,f.g.isSome))return Object(s.pipe)(e.activeAlert.extraProperties.premiumYellowFooterVariant,f.g.fold(()=>null,e=>a.createElement(Le,{variant:e})));if(!F.a.isFree(e.activeAlert)&&e.renderOptions.features.has(U.a.Features.showPremiumOnboarding))return a.createElement(Re,null);if(!F.a.isFree(e.activeAlert)&&e.renderOptions.features.has(U.a.Features.showPremiumTrialFooters))return a.createElement(Ne,{actions:t});if(e.renderOptions.features.has(U.a.Features.showAnonymousUserFooters))return a.createElement(Pe,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||u.a.create(!1);return a.createElement(l.a.Fragment,null,n.view(n=>!F.a.isFree(e.activeAlert)&&Boolean(n)?a.createElement(Re,null):Object(s.pipe)(e.renderOptions.layoutDensity,U.a.Density.matchOrDefault(U.a.Density.cozy)(()=>a.createElement(Me,{card:e,actions:t}),()=>Object(s.pipe)(e.activeAlert.extraProperties.fluencyMessage,f.g.fold(()=>a.createElement(Me,{card:e,actions:t}),e=>a.createElement(De,{fluencyLabel:e})))))))};function xe(e,t,n){n.next({type:H.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const Ae=({card:e,actions:t})=>{const n=a.useContext(y.a.Context).card.matchesNavigation;return a.createElement(l.a.Fragment,null,Object(s.pipe)(e,N.a.map(e=>a.createElement("div",{key:e.activeAlert.id,className:Et.bundleNavWrapper},a.createElement(A.a,{className:Et.bundleTitle},D.a.bundleTitle(e)),a.createElement("div",{className:Et.bundleNavMatchesRow},a.createElement(_.a.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:Et.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>xe("left",e,t)},a.createElement(w.d.Arrow,{className:Et.bundleNavLeftButtonIcon})),a.createElement(A.h,{className:Et.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),a.createElement(_.a.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:Et.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>xe("right",e,t)},a.createElement(w.d.Arrow,{className:Et.bundleNavRightButtonIcon})))))))},Ie=({card:e,actions:t,isChecking:n})=>a.createElement(a.Fragment,null,Object(s.pipe)(e.renderOptions.layoutDensity,U.a.Density.matchOrDefault(U.a.Density.minimal)(()=>I.a.isRated(e.activeAlert)?a.createElement(a.Fragment,null,a.createElement(ie,{card:e}),a.createElement(ye,{text:e.activeAlert.miniCardTitle})):a.createElement(_e,{alert:e.activeAlert,options:e.renderOptions},a.createElement(ye,{text:e.activeAlert.miniCardTitle})),()=>a.createElement(a.Fragment,null,a.createElement(_e,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(ve,{text:e.activeAlert.title}),a.createElement(re,{card:e,isChecking:n})))),a.createElement(ne,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),Te=e=>{const t=a.useContext(y.a.Context),{title:n,content:r}=t.card.onboarding[e.type];return a.useLayoutEffect(()=>()=>e.actions.next({type:H.b.Type.onboardingClose,value:e.type})),a.createElement(S.b.AdHoc,{key:"new-notification",title:a.createElement(a.Fragment,null,n,a.createElement(O.a.Regular,{className:Et.newLabel},t.new)),className:Et.newCheckNotification,onClose:e.onClose},r)},Me=({actions:e,card:t})=>{const n=a.useContext(y.a.Context);return P.a.useEffectOnDidMount(()=>{t.meta.showMuteQuotedAdvice&&e.next({type:H.b.Type.muteQuotedAdviceShow})}),t.meta.showMuteQuotedAdvice?a.createElement(He.Base,{className:at},a.createElement("span",null,n.card.muteCitedText(a.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:H.b.Type.openPreferences})},n.documentSettings.editorSettings))),a.createElement(_.a,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:H.b.Type.dismissMuteQuotedAdvice})},a.createElement(w.d.Close,null))):null},Pe=({actions:e,card:t})=>{const n=a.useContext(y.a.Context),r=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return a.createElement(He.Base,{className:Et.anonymousUserNotice},r(()=>{e.next({type:H.b.Type.toSignIn})}))},Ne=({actions:e})=>a.createElement(He.Small,{className:ot},a.createElement(w.d.PaidLink,{className:Et.iconWrapper,width:12}),a.useContext(y.a.Context).premiumFreeTrial(()=>{e.next({type:H.b.Type.premiumTrialFooterCtaClick})})),Be=()=>{const{beforeIcon:e,afterIcon:t}=a.useContext(y.a.Context).freePremiumAlertFooter;return a.createElement(He.Small,{className:ct},e,a.createElement(w.d.PaidLink,{width:12}),t)},Le=({variant:e})=>{const t=a.useContext(y.a.Context).premiumFooter;return a.createElement(He.Small,{className:lt},a.createElement(w.d.PaidLink,{width:12}),t[e])},Fe=()=>{const{freeTrialAlertFooter:e}=a.useContext(y.a.Context);return a.createElement(He.Small,{className:ct},a.createElement(w.d.PaidLink,{width:12}),e)},Re=()=>{const{premiumOnboardingFooter:e}=a.useContext(y.a.Context);return a.createElement(He.Small,{className:st},a.createElement(w.d.PaidLink,{width:12}),e)},De=({fluencyLabel:e})=>{const t=a.useContext(y.a.Context).card.fluency;return a.createElement(A.l,{className:Et.fluencyNotice},e,a.createElement(x.a,{title:t.tooltip},a.createElement(w.d.Info,{width:10,className:Et.fluencyInfo})))};var He;!function(e){function t(e){return({children:t,className:n})=>a.createElement(e,Object(c.c)(Et.cardFooter,n),t)}e.Small=t(A.l),e.Base=t(A.a)}(He||(He={}));function Ve(e){const{transformHidden:t,isMouseInside:n,transformHiddenObservable:r}=P.a.useMemoOnDidMount(()=>{const t=u.a.create(!1),n=new N.a.Subject,r=N.a.mergeStatic(N.a.combineLatestStatic([n,e]).pipe(N.a.map(([e,t])=>e&&t),N.a.filter(e=>!0===e),N.a.tap(()=>t.set(!0))),e.pipe(N.a.skip(1),N.a.filter(e=>!e),N.a.tap(()=>t.set(!1))));return{transformHidden:t,isMouseInside:n,transformHiddenObservable:r}});return P.a.useSubscriptionTo(r),{transformHidden:t,isMouseInside:n}}const Ue=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,cardTheme:o,cardBody:s,cardFooter:c,mainActions:l,subActions:u,cardExtra:d})=>{var p,f,h,g;const{transformHidden:b,isMouseInside:v}=Ve(n);return a.createElement(Z.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:H.b.Type.alertCardShow,cardType:H.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:H.b.Type.hover,kind:"hover",id:e.id}),v.next(!0)},onMouseOut:()=>{t.next({type:H.b.Type.hover,kind:"unhover",id:e.id}),v.next(!1)},theme:Object(r._)({content:i.pipe(N.a.map(Object(m.c)(Et.loadingWrapperInvisible,Et.loadingWrapper)))},Object(J.b)(e.renderOptions),o),extra:a.createElement(a.Fragment,null,a.createElement(ke,{isChecking:i}),null===(p=d)||void 0===p?void 0:p()),body:s(b),mainActions:null===(f=l)||void 0===f?void 0:f(),footer:null===(h=c)||void 0===h?void 0:h(b),subActions:null===(g=u)||void 0===g?void 0:g()})},We=({card:e,actions:t,isChecking:n,body:r,footer:i,alwaysShowWrongAndOffensiveButtons:o})=>a.createElement(Z.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:H.b.Type.alertCardShow,cardType:H.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(J.b)(e.renderOptions),body:null!=r?r:a.createElement(Ie,{card:e,actions:t,isChecking:n}),mainActions:a.createElement(oe,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=i?i:a.createElement(fe,{card:e}),subActions:a.createElement(he,{card:e,actions:t}),extra:a.createElement(je,{card:e,actions:t})}),ze={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",display:"inline",textDecoration:"none",$nest:{"&:link, &:visited":{color:g.a.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${M.e}, ${M.f}`},"& ul":{margin:T.a.rem(.75)+" 0 0",padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:T.a.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:T.a.rem(.5)}}},Ge={lineHeight:T.a.rem(1.3125),$nest:{"& a":{display:"initial"}}},qe={$nest:{"& i":{color:g.a.CoreNeutral50},"& > * + *":{marginTop:T.a.rem(.75)}}},Ke={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:g.a.CoreRed50}}},$e={marginTop:T.a.important(0),lineHeight:T.a.rem(1.125)},Ze={fontSize:T.a.rem(g.h.SubheadingSize),lineHeight:T.a.rem(g.h.SubheadingLineHeight)},Ye={width:T.a.rem(2),height:T.a.rem(2)},Xe={position:"absolute",top:`calc(50% - ${T.a.rem(1)})`,left:`calc(50% - ${T.a.rem(1)})`,width:T.a.rem(2),height:T.a.rem(2),transition:"opacity .2s"},Qe={marginLeft:T.a.rem(.5),backgroundColor:g.a.CoreGreen50,color:g.a.CoreNeutral0,fontWeight:600},Je={position:"absolute",marginTop:T.a.rem(-8.5),marginLeft:T.a.rem(-2),$nest:{"&:after":{position:"absolute",bottom:T.a.rem(-.525),left:T.a.rem(.7),borderTop:`${T.a.rem(.625)} solid ${g.a.BackgroundNotification}`,borderRight:T.a.rem(.5)+" solid transparent",borderLeft:T.a.rem(.5)+" solid transparent",content:"' '"}}},et={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},tt={position:"absolute",top:T.a.rem(.75),left:T.a.rem(.4)},nt={color:g.a.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:g.a.CoreBlue50,$nest:{"&:link, &:visited":{color:g.a.CoreBlue50},"&:hover":{borderBottom:"1px solid "+g.a.CoreBlue40,color:g.a.CoreBlue40}}}}},rt={display:"flex",borderRadius:`${M.r} ${M.r} ${T.a.rem(M.s)} ${T.a.rem(M.s)}`,color:g.a.CoreNeutral50,padding:`${T.a.rem(.5)} ${T.a.rem(.75)} ${T.a.rem(.5)} ${T.a.rem(1)}`,fontSize:T.a.rem(.6875),lineHeight:T.a.rem(1.125)},it={padding:"0 "+T.a.rem(.6),minWidth:T.a.rem(.625),minHeight:T.a.rem(.625)},at=T.a.joinClasses(["muteQuotedAdvice",T.a.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:g.a.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:g.a.CoreBlue50},"&:hover":{color:g.a.CoreBlue40}}},"& i:hover":{strokeWidth:T.a.px(2)}}})]),ot=T.a.joinClasses(["premiumFreeTrial",T.a.style({$nest:{"& svg":{fill:g.a.CoreYellow80},"& a":{fontWeight:800,color:g.a.CoreYellow70,$nest:{"&:link, &:visited":{color:g.a.CoreYellow80},"&:hover":{borderBottom:"1px solid "+g.a.CoreYellow60,color:g.a.CoreYellow60}}}}})]),st=T.a.joinClasses(["premiumAlertFooter",T.a.style({justifyContent:"center"})]),ct=T.a.joinClasses(["premiumAlertFooter",T.a.style({justifyContent:"start",padding:T.a.important(`${T.a.rem(.5)} ${T.a.rem(1)}`)})]),lt=T.a.joinClasses(["premiumAlertFooter",T.a.style({justifyContent:"start",padding:T.a.important(`${T.a.rem(.5)} ${T.a.rem(1)} ${T.a.rem(.5)} ${T.a.rem(1.75)}`)})]),ut={display:"block",boxSizing:"border-box",padding:`${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1.5)}`,width:T.a.percent(100),borderRadius:`${M.r} ${M.r} ${T.a.rem(M.s)} ${T.a.rem(M.s)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(2)}`,background:g.a.CoreNeutral10,color:g.a.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(1)} ${T.a.rem(2)}`,position:"relative",background:g.a.CoreYellow20,color:g.a.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:T.a.rem(.5),background:g.a.CoreYellow20,color:g.a.CoreYellow80,$nest:{"& svg":{margin:"0 "+T.a.rem(.25),fill:g.a.CoreYellow80}}}}},dt={position:"absolute",top:T.a.rem(.8),left:T.a.rem(.5),minWidth:T.a.rem(1),minHeight:T.a.rem(1)},pt={fontWeight:"bold",fontSize:T.a.rem(.875),lineHeight:T.a.rem(1.125),flex:2},mt={padding:`${T.a.rem(.625)} 0 ${T.a.rem(.1875)} ${T.a.rem(.5)}`,marginBottom:T.a.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},ft={fontSize:T.a.rem(.75),lineHeight:T.a.rem(1.125),color:g.a.CoreNeutral90},ht={display:"flex",justifyContent:"flex-end",alignItems:"center",height:T.a.rem(1.5),$nest:{"& > * + *":{marginLeft:T.a.rem(.25)},"& > *":{borderRadius:T.a.rem(M.t)}}},gt={height:T.a.rem(2),minHeight:T.a.rem(2),width:T.a.rem(2),fill:g.a.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:g.a.CoreBlue50},"&[data-disabled='true']":{fill:g.a.CoreNeutral30}}},bt={borderRadius:T.a.rem(.75),background:g.a.CoreNeutral20,margin:`${T.a.rem(-.25)} ${T.a.rem(-.25)}`,padding:`${T.a.rem(.25)} ${T.a.rem(.25)}`,$nest:{["& ."+G.b.cozyCardContainerSelector]:{margin:0,boxShadow:"none"},["& ."+G.b.fullCardSelector]:{padding:`${T.a.rem(.75)} ${T.a.rem(.5)} ${T.a.rem(.5)} ${T.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${T.a.rem(-.5)})`}}},vt={paddingTop:T.a.rem(.25),paddingBottom:T.a.rem(.5),paddingLeft:T.a.rem(.5),paddingRight:T.a.rem(.5),fontWeight:"bold",fontSize:T.a.rem(.875),lineHeight:T.a.rem(1.125)};function yt(e,t){return{display:["block","-webkit-box"],maxHeight:T.a.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const Ot=Object(i._)(Object(r._)({},yt(1.5,3)),{lineHeight:T.a.rem(1.5)}),_t=Object(i._)(Object(r._)({},yt(1.3125,3)),{lineHeight:T.a.rem(1.3125)}),Ct={padding:T.a.rem(.5),borderRadius:T.a.rem(M.t),background:g.a.CoreNeutral10,color:g.a.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${M.e}, ${M.f}`},wt=.25,St={opacity:0,pointerEvents:"none"},kt={transition:"opacity "+T.a.seconds(wt)},Et=T.a.stylesheet({loadingWrapper:[kt],loadingWrapperInvisible:[kt,St],description:[ze],minimalDescription:[ze,Ge],more:[qe],onboardingNotification:[{display:"block"}],title:[Ke],titleMinimal:[Ke,$e],label:[Ze],dropdownContainer:[Ye],spinner:[Xe],spinnerInvisible:[Xe,{opacity:0,pointerEvents:"none"}],newLabel:[Qe],newCheckNotification:[Je],baseNotice:[et],iconWrapper:[tt],anonymousUserNotice:[et,nt],fluencyNotice:[et,rt],fluencyInfo:[it],cardFooter:[ut],circleProgress:[dt],circleText:[{display:"none"}],bundleTitle:[pt],bundleNavWrapper:[mt],bundleNavCount:[ft],bundleNavMatchesRow:[ht],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[gt],bundleNavLeftButtonIcon:[gt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[gt,{transform:"rotate(270deg)"}],cardWrapper:[bt],cardWrapperTitle:[vt],highlightedTextBox:[Ct],highlightedTextInnerBox:[Ot],minimalHighlightedTextInnerBox:[_t]})},TaaI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;Object(r.a)(this,e),Object(a._)(this,"_task",void 0),Object(a._)(this,"_buffer",void 0),Object(a._)(this,"_run",void 0),Object(a._)(this,"_batchSize",void 0),Object(a._)(this,"_sub",void 0),this._task=t,this._buffer=n,this._run=i,this._batchSize=o,this._sub=null}return Object(i.a)(e,[{key:"put",value:function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()}},{key:"order",value:function(e){this._buffer.order(e)}},{key:"flush",value:function(){this._task(this._buffer.take(this._buffer.length))}},{key:"length",get:function(){return this._buffer.length}},{key:"_scheduleWork",value:function(){var e=this;this._sub=this._run((function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()}))}},{key:"shutdown",value:function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}}]),e}()},ThYs:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("zCOz"),i=n("B8yO"),a=n.n(i),o=n("Q2+j");const s={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function c(e={}){let{style:t,isFocusable:n}=e,[r,a]=(0,i.useState)(!1),{focusWithinProps:c}=(0,o.g)({isDisabled:!n,onFocusWithinChange:e=>a(e)});return{visuallyHiddenProps:{...c,style:(0,i.useMemo)(()=>r?t:t?{...s,...t}:s,[r])}}}function l(e){let{children:t,elementType:n="div",isFocusable:i,style:o,...s}=e,{visuallyHiddenProps:l}=c(e);return a.a.createElement(n,(0,r.l)(s,l),t)}},TncE:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("nWMp"),s=n("fB2g"),c=n("2swC"),l=function(e){return Object(r._)({},"&-".concat(e),{marginLeft:o.a.rem(3+1.5*e)})},u=function(e,t){return{counterIncrement:"list".concat(e),counterReset:t}},d=function(e,t){return{"&:before":{content:"counter(list".concat(e,", ").concat(t,") '. '")}}},p=function(e,t,n){return Object(r._)({},"&-".concat(e),Object(a._)(Object(i._)({},u(e,n)),{$nest:d(e,t)}))},m={editorContainer:"".concat("editor-","editorContainer"),rtfLink:"".concat("editor-","rtfLink"),bigSize:"".concat("editor-","bigSize")},f="0 0 ".concat(o.a.rem(.5)),h=function(e,t,n){return{margin:f,fontSize:o.a.rem(e),lineHeight:o.a.rem(t),$nest:{"&:not(:first-child)":{marginTop:o.a.rem(n)}}}},g={position:"relative",overflow:"hidden",minHeight:o.a.rem(5),outline:"none",border:"none",resize:"none",$nest:Object(r._)({"& p":{margin:0,padding:0},"& h1":h(1.375,2,2),"& h2":h(1.125,1.7,1),"& ol, & ul":{margin:"0 0 ".concat(o.a.rem(.5)),paddingLeft:0},"& ol:not(:first-child), & ul:not(:first-child)":{marginTop:o.a.rem(.5)},"& li":{margin:"0 0 0 ".concat(o.a.rem(3)),paddingRight:0,listStyleType:"none",$nest:Object(r._)({"&:before":{display:"inline-block",marginRight:o.a.rem(.5),marginLeft:o.a.rem(-3),width:o.a.rem(2.5),textAlign:"right",whiteSpace:"nowrap",lineHeight:o.a.rem(1.375)}},".".concat(m.bigSize," &"),{$nest:{"&:before":{lineHeight:o.a.rem(1.65)}}})},"& .ql-indent":{$nest:Object(i._)({},l(1),l(2),l(3),l(4),l(5),l(6),l(7),l(8))},"& ul li":{$nest:{"&:before":{content:"'\\2022'"}}},"& ul[data-type='dashed'] li":{$nest:{"&:before":{content:"'-'"}}},"& ol li":Object(a._)(Object(i._)({},u(0,"list1 list2 list3 list4 list5 list6 list7 list8")),{listStyleType:"none",$nest:Object(a._)(Object(i._)({},d(0,"decimal")),{"&.ql-indent":{$nest:Object(i._)({},p(1,"lower-alpha","list2 list3 list4 list5 list6 list7 list8"),p(2,"lower-roman","list3 list4 list5 list6 list7 list8"),p(3,"decimal","list4 list5 list6 list7 list8"),p(4,"lower-alpha","list5 list6 list7 list8"),p(5,"lower-roman","list6 list7 list8"),p(6,"decimal","list7 list8"),p(7,"lower-alpha","list8"),p(8,"lower-roman","none"))}})})},"& .".concat(m.rtfLink),{color:c.a.CoreBlue50,$nest:{"&:visited":{color:c.a.CoreBlue50}}})},b={fontSize:o.a.rem(1.375),lineHeight:o.a.rem(2.5),$nest:{"& h1":{fontSize:o.a.rem(1.65),lineHeight:o.a.rem(3)},"& h2":{fontSize:o.a.rem(1.375),lineHeight:o.a.rem(2.5)}}},v={editorContainer:o.a.joinClasses([m.editorContainer,o.a.style(g),o.a.style({paddingBottom:"40vh"}),s.a.style(g)]),bigSize:o.a.joinClasses([m.bigSize,o.a.style(b),s.a.style(b)]),rtfLink:o.a.joinClasses([m.rtfLink])}},Tqii:function(e){e.exports=JSON.parse('{"rtfDisabled":"_d2767f2d-formatting-toolbar-rtfDisabled","rtfTooltip":"_022927cb-formatting-toolbar-rtfTooltip","rtfDisabledMessage":"_0495527e-formatting-toolbar-rtfDisabledMessage"}')},TtyI:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return u}));var r=n("B8yO"),i=n("ZqXC"),a=n("zCOz"),o=n("Q2+j"),s=n("M+v9");function c(e){return(0,a.e)()?e.altKey:e.ctrlKey}function l(e){return(0,a.g)()?e.metaKey:e.ctrlKey}function u(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:i}=e,a=(0,r.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{let r=function(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}(e.key);if(!r||e.ctrlKey||e.metaKey||!e.currentTarget.contains(e.target))return;" "===r&&a.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),a.search+=r;let o=t.getKeyForSearch(a.search,n.focusedKey);null==o&&(o=t.getKeyForSearch(a.search)),null!=o&&(n.setFocusedKey(o),i&&i(o)),clearTimeout(a.timeout),a.timeout=setTimeout(()=>{a.search=""},1e3)}:null}}}function d(e){let{selectionManager:t,keyboardDelegate:n,ref:d,autoFocus:p=!1,shouldFocusWrap:m=!1,disallowEmptySelection:f=!1,disallowSelectAll:h=!1,selectOnFocus:g="replace"===t.selectionBehavior,disallowTypeAhead:b=!1,shouldUseVirtualFocus:v,allowsTabNavigation:y=!1,isVirtualized:O,scrollRef:_=d}=e,{direction:C}=(0,s.b)(),w=(0,r.useRef)({top:0,left:0});(0,a.t)(_,"scroll",O?null:()=>{w.current={top:_.current.scrollTop,left:_.current.scrollLeft}});const S=(0,r.useRef)(p);(0,r.useEffect)(()=>{if(S.current){let e=null;"first"===p&&(e=n.getFirstKey()),"last"===p&&(e=n.getLastKey());let r=t.selectedKeys;r.size&&(e=r.values().next().value),t.setFocused(!0),t.setFocusedKey(e),null!=e||v||(0,i.b)(d.current)}S.current=!1},[]);let k=(0,r.useRef)(t.focusedKey);(0,r.useEffect)(()=>{let e=(0,o.b)();if(t.isFocused&&null!=t.focusedKey&&(null==_?void 0:_.current)){let n=_.current.querySelector(`[data-key="${t.focusedKey}"]`);n&&"keyboard"===e&&(O||(0,a.o)(_.current,n),(0,a.p)(n,{containingElement:d.current}))}t.isFocused&&null==t.focusedKey&&null!=k.current&&(0,i.b)(d.current),k.current=t.focusedKey},[O,_,t.focusedKey,t.isFocused,d]);let E,j={onKeyDown:e=>{if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!d.current.contains(e.target))return;const r=(n,r)=>{null!=n&&(t.setFocusedKey(n,r),e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):g&&!c(e)&&t.replaceSelection(n))};switch(e.key){case"ArrowDown":if(n.getKeyBelow){var o,s;e.preventDefault();let i=null!=t.focusedKey?n.getKeyBelow(t.focusedKey):null===(o=n.getFirstKey)||void 0===o?void 0:o.call(n);null==i&&m&&(i=null===(s=n.getFirstKey)||void 0===s?void 0:s.call(n,t.focusedKey)),r(i)}break;case"ArrowUp":if(n.getKeyAbove){var u,p;e.preventDefault();let i=null!=t.focusedKey?n.getKeyAbove(t.focusedKey):null===(u=n.getLastKey)||void 0===u?void 0:u.call(n);null==i&&m&&(i=null===(p=n.getLastKey)||void 0===p?void 0:p.call(n,t.focusedKey)),r(i)}break;case"ArrowLeft":if(n.getKeyLeftOf){var b,v;e.preventDefault();let i=n.getKeyLeftOf(t.focusedKey);null==i&&m&&(i="rtl"===C?null===(b=n.getFirstKey)||void 0===b?void 0:b.call(n,t.focusedKey):null===(v=n.getLastKey)||void 0===v?void 0:v.call(n,t.focusedKey)),r(i,"rtl"===C?"first":"last")}break;case"ArrowRight":if(n.getKeyRightOf){var O,_;e.preventDefault();let i=n.getKeyRightOf(t.focusedKey);null==i&&m&&(i="rtl"===C?null===(O=n.getLastKey)||void 0===O?void 0:O.call(n,t.focusedKey):null===(_=n.getFirstKey)||void 0===_?void 0:_.call(n,t.focusedKey)),r(i,"rtl"===C?"last":"first")}break;case"Home":if(n.getFirstKey){e.preventDefault();let r=n.getFirstKey(t.focusedKey,l(e));t.setFocusedKey(r),l(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):g&&t.replaceSelection(r)}break;case"End":if(n.getLastKey){e.preventDefault();let r=n.getLastKey(t.focusedKey,l(e));t.setFocusedKey(r),l(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):g&&t.replaceSelection(r)}break;case"PageDown":if(n.getKeyPageBelow){e.preventDefault(),r(n.getKeyPageBelow(t.focusedKey))}break;case"PageUp":if(n.getKeyPageAbove){e.preventDefault(),r(n.getKeyPageAbove(t.focusedKey))}break;case"a":l(e)&&"multiple"===t.selectionMode&&!0!==h&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),f||t.clearSelection();break;case"Tab":if(!y){if(e.shiftKey)d.current.focus();else{let e,t,n=(0,i.c)(d.current,{tabbable:!0});do{t=n.lastChild(),t&&(e=t)}while(t);e&&!e.contains(document.activeElement)&&(0,a.c)(e)}break}}},onFocus:e=>{if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){let a=e=>{null!=e&&(t.setFocusedKey(e),g&&t.replaceSelection(e))},o=e.relatedTarget;var r,i;o&&e.currentTarget.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?a(null!==(r=t.lastSelectedKey)&&void 0!==r?r:n.getLastKey()):a(null!==(i=t.firstSelectedKey)&&void 0!==i?i:n.getFirstKey())}else O||(_.current.scrollTop=w.current.top,_.current.scrollLeft=w.current.left);if(!O&&null!=t.focusedKey){let e=_.current.querySelector(`[data-key="${t.focusedKey}"]`);if(e){(0,a.c)(e),"keyboard"===(0,o.b)()&&(0,a.p)(e,{containingElement:d.current})}}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown(e){_.current===e.target&&e.preventDefault()}},{typeSelectProps:x}=u({keyboardDelegate:n,selectionManager:t});return b||(j=(0,a.l)(x,j)),v||(E=null==t.focusedKey?0:-1),{collectionProps:{...j,tabIndex:E}}}function p(e){let{selectionManager:t,key:n,ref:s,shouldSelectOnPressUp:u,shouldUseVirtualFocus:d,focus:p,isDisabled:h,onAction:g,allowsDifferentPressOrigin:b}=e,v=e=>{if("keyboard"===e.pointerType&&c(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(l(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,r.useEffect)(()=>{n===t.focusedKey&&t.isFocused&&!d&&(p?p():document.activeElement!==s.current&&(0,i.b)(s.current))},[s,n,t.focusedKey,t.childFocusStrategy,t.isFocused,d]),h=h||t.isDisabled(n);let y={};d||h?h&&(y.onMouseDown=e=>{e.preventDefault()}):y={tabIndex:n===t.focusedKey?0:-1,onFocus(e){e.target===s.current&&t.setFocusedKey(n)}};let O=!h&&t.canSelectItem(n),_=g&&!h,C=_&&("replace"===t.selectionBehavior?!O:t.isEmpty),w=_&&O&&"replace"===t.selectionBehavior,S=C||w,k=(0,r.useRef)(null),E=S&&O,j=(0,r.useRef)(!1),x=(0,r.useRef)(!1),A={};u?(A.onPressStart=e=>{k.current=e.pointerType,j.current=E,"keyboard"!==e.pointerType||S&&!f()||v(e)},b?(A.onPressUp=e=>{"keyboard"!==e.pointerType&&v(e)},A.onPress=C?()=>g():null):A.onPress=e=>{if(C||w&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!m())return;g()}else"keyboard"!==e.pointerType&&v(e)}):(A.onPressStart=e=>{k.current=e.pointerType,j.current=E,x.current=C,("mouse"===e.pointerType&&!C||"keyboard"===e.pointerType&&(!g||f()))&&v(e)},A.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&S&&m()||"mouse"===e.pointerType&&x.current)&&(S?g():v(e))}),y["data-key"]=n,A.preventFocusOnPress=d;let{pressProps:I,isPressed:T}=(0,o.m)(A),M=w?e=>{"mouse"===k.current&&(e.stopPropagation(),e.preventDefault(),g())}:void 0,{longPressProps:P}=(0,o.l)({isDisabled:!E,onLongPress(e){"touch"===e.pointerType&&(v(e),t.setSelectionBehavior("toggle"))}});return{itemProps:(0,a.l)(y,O||C?I:{},E?P:{},{onDoubleClick:M,onDragStartCapture:e=>{"touch"===k.current&&j.current&&e.preventDefault()}}),isPressed:T,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:h,allowsSelection:O,hasAction:S}}function m(){let e=window.event;return"Enter"===(null==e?void 0:e.key)}function f(){let e=window.event;return" "===(null==e?void 0:e.key)||"Space"===(null==e?void 0:e.code)}class h{getNextKey(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,n){let r=this.getItem(e);if(!r)return null;let i=r.getBoundingClientRect();do{e=t(e),r=this.getItem(e)}while(r&&n(i,r.getBoundingClientRect()));return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getNextKey(e),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getPreviousKey(e),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"rtl"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):null}getKeyLeftOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"ltr"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getKeyPageAbove(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!(0,a.h)(t))return this.getFirstKey();let r=t.getBoundingClientRect(),i=n.getBoundingClientRect();if("horizontal"===this.orientation){let a=r.x-t.scrollLeft,o=Math.max(0,i.x-a+i.width-r.width);for(;n&&i.x-a>o;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),i=null==n?void 0:n.getBoundingClientRect()}else{let a=r.y-t.scrollTop,o=Math.max(0,i.y-a+i.height-r.height);for(;n&&i.y-a>o;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),i=null==n?void 0:n.getBoundingClientRect()}return null!=e?e:this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!(0,a.h)(t))return this.getLastKey();let r=t.getBoundingClientRect(),i=n.getBoundingClientRect();if("horizontal"===this.orientation){let a=r.x-t.scrollLeft,o=Math.min(t.scrollWidth,i.x-a-i.width+r.width);for(;n&&i.x-a<o;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),i=null==n?void 0:n.getBoundingClientRect()}else{let a=r.y-t.scrollTop,o=Math.min(t.scrollHeight,i.y-a-i.height+r.height);for(;n&&i.y-a<o;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),i=null==n?void 0:n.getBoundingClientRect()}return null!=e?e:this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=t||this.getFirstKey();for(;null!=r;){let t=n.getItem(r),i=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(i,e))return r;r=this.getKeyBelow(r)}return null}constructor(...e){if(1===e.length){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.disabledKeys=t.disabledKeys||new Set,this.orientation=t.orientation,this.direction=t.direction,this.layout=t.layout||"stack"}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical";"stack"===this.layout&&"vertical"===this.orientation&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function g(e){let{selectionManager:t,collection:n,disabledKeys:i,ref:a,keyboardDelegate:o,autoFocus:c,shouldFocusWrap:l,isVirtualized:u,disallowEmptySelection:p,selectOnFocus:m="replace"===t.selectionBehavior,disallowTypeAhead:f,shouldUseVirtualFocus:g,allowsTabNavigation:b}=e,v=(0,s.a)({usage:"search",sensitivity:"base"}),y=t.disabledBehavior,O=(0,r.useMemo)(()=>o||new h(n,"selection"===y?new Set:i,a,v),[o,n,i,a,v,y]),{collectionProps:_}=d({ref:a,selectionManager:t,keyboardDelegate:O,autoFocus:c,shouldFocusWrap:l,disallowEmptySelection:p,selectOnFocus:m,disallowTypeAhead:f,shouldUseVirtualFocus:g,allowsTabNavigation:b,isVirtualized:u,scrollRef:a});return{listProps:_}}},UDju:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("8O/t"),i=n("B8yO"),a=n("tiWp"),o=n("D2TP"),s=n("KH+i"),c=n("6fTk"),l=n("JRBS"),u=n("mgiE"),d=n("TKPA"),p=n("XGsl"),m=n("EFMT"),f=function(e){var t=e.alerts,n=e.plagiarism;return n.length+t.length===0?null:i.createElement(m.a,{className:p.a.alertTableContainer},i.createElement("table",{className:p.a.alertTable},i.createElement("tbody",null,t.map((function(e,t){return i.createElement(h,{key:e.id,alert:e,index:t})})),n.map((function(e,n){return i.createElement(g,{key:e.id,alert:e,index:n+t.length})})))))},h=function(e){var t=e.alert,n=e.index;return i.createElement("tr",null,i.createElement("td",{className:p.a.alertTableTdIndex},n+1,"."),i.createElement("td",{className:p.a.alertTableTdExample},Object(a.pipe)(t.content,u.b.fold((function(e){return i.createElement("span",{className:p.a.alertTableHighlightText},b(v(e)))}),(function(e){return i.createElement(l.f,{replacementsLabels:e,onClick:function(){return d.e},layoutDensity:s.a.Density.cozy,a11yContrast:!1})})))),i.createElement("td",Object(r._)({className:p.a.alertTableTd},c.a.renderToHtml(t.categoryHuman))),i.createElement("td",{className:p.a.alertTableTd},o.a.OutcomeId.fromOutcomeId(t.lensId)))},g=function(e){var t=e.alert,n=e.index;return i.createElement("tr",null,i.createElement("td",{className:p.a.alertTableTdIndex},n+1,"."),i.createElement("td",{className:p.a.alertTableTdExample},i.createElement("span",{className:p.a.alertTableHighlightText},b(v(t.highlightTexts)))),i.createElement("td",{className:p.a.alertTableTdPlagiarismSource},i.createElement(y,{alert:t})),i.createElement("td",{className:p.a.alertTableTd},o.a.OutcomeId.fromOutcomeId(t.lensId)))};function b(e){return e.length>300?i.createElement(i.Fragment,null,e.substr(0,299),"…"):i.createElement(i.Fragment,null,e)}function v(e){return 1===e.length?e[0]:Array.from(new Set(e)).join("; ")}var y=function(e){var t=e.alert;return i.createElement(i.Fragment,null,t.title,"web"===t.plagiarismType.source&&Object(a.pipe)(t.plagiarismType.url,u.g.map((function(e){return i.createElement("a",{href:e,className:p.a.plagiarismLink},e)})),u.g.toNullable))}},UIFK:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("N4IK"),i=n("nWMp"),a=n("Rc7N"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(e){var t,n;const r=null!==(t=e.default)&&void 0!==t?t:{},{$nest:i}=r,a=o(r,["$nest"]);return Object.assign(Object.assign({},a),{$nest:Object.assign({"&:not([data-disabled='true'])[data-hovered='true']":Object.assign({},e.hovered),"&:not([data-disabled='true']):hover":Object.assign({},e.hovered),"&[data-disabled='true']":Object.assign({},e.disabled),"&:not([data-disabled='true']):active":Object.assign({},e.active),"&[data-active='true']":Object.assign({},null!==(n=e.selected)&&void 0!==n?n:e.active),"&[hidden]":Object.assign({},e.hidden),"& > i":Object.assign({},e.icon),"&[data-textpos='left']":Object.assign({},e.textPosLeft),"&[data-textpos='right']":Object.assign({},e.textPosRight),"&[data-textpos='everywhere']":Object.assign({},e.textPosEverywhere)},i)})}function c(e){return{'&:focus:not(:active):not([data-active="true"])':{boxShadow:e,zIndex:1},'&:focus:not(:active):not(:focus-visible):not([data-active="true"])':{boxShadow:"none"},"&:focus-visible":{boxShadow:e,zIndex:1}}}const l=(e,t=!1)=>t?`inset 0 0 0 2px ${e}, inset 0 0 0 3px ${r.e.Color.Text.Base.Inverse}`:`0 0 0 2px ${r.e.Color.Text.Base.Inverse}, 0 0 0 4px ${e}`;const u={primaryLightLegacy:{fontWeight:"bold",backgroundDefault:a.a.BrandGreen60,colorDefault:r.e.Color.Text.Base.Inverse,backgroundHover:a.a.BrandGreen80,colorHover:r.e.Color.Text.Base.Inverse,backgroundActive:a.a.BrandGreen60,colorActive:r.e.Color.Background.Base.Default,focusOutline:a.a.BrandGreen60},primaryDarkLegacy:void 0,primaryLight:{fontWeight:"bold",backgroundDefault:a.a.BackgroundBrandDefault,colorDefault:r.e.Color.Text.Base.Inverse,backgroundHover:a.a.BackgroundBrandHover,colorHover:r.e.Color.Text.Base.Inverse,backgroundActive:a.a.BackgroundBrandActive,colorActive:r.e.Color.Background.Base.Default,focusOutline:a.a.BorderBrandDefault},primaryDark:void 0,secondaryLightLegacy:{backgroundDefault:"transparent",colorDefault:r.a.BlueGray80,borderDefault:r.a.BlueGray5,backgroundHover:r.a.BlueGray0,colorHover:r.a.BlueGray80,borderHover:void 0,backgroundActive:void 0,colorActive:void 0,borderActive:void 0,focusOutline:a.a.BlueGray80},secondaryDarkLegacy:void 0,secondaryLight:{backgroundDefault:"transparent",colorDefault:a.a.ButtonTextSecondaryDefault,borderDefault:a.a.BorderBrandDefault,backgroundHover:a.a.ButtonBackgroundSecondaryHover,colorHover:a.a.ButtonTextSecondaryHover,borderHover:a.a.BorderBrandDefault,backgroundActive:a.a.ButtonBackgroundSecondaryActive,colorActive:a.a.ButtonTextSecondaryActive,borderActive:a.a.BorderBrandDefault,focusOutline:a.a.BorderBrandDefault},secondaryDark:void 0,tertiaryLightLegacy:{backgroundDefault:"transparent",colorDefault:r.e.Color.Background.Neutral.Default,borderDefault:"transparent",backgroundHover:r.a.BlueGray0,colorHover:r.e.Color.Text.Base.Subdued,borderHover:void 0,backgroundActive:r.a.BlueGray0,colorActive:r.e.Color.Text.Base.Subdued,borderActive:void 0,focusOutline:a.a.BlueGray80},tertiaryDarkLegacy:{backgroundDefault:"transparent",colorDefault:a.a.ButtonTextTertiaryDefaultInverse,borderDefault:"transparent",backgroundHover:a.a.ButtonBackgroundTertiaryHoverInverse,colorHover:a.a.ButtonTextTertiaryHoverInverse,borderHover:a.a.ButtonBorderTertiaryHoverInverse,backgroundActive:a.a.ButtonBackgroundTertiaryActiveInverse,colorActive:a.a.ButtonTextTertiaryActiveInverse,borderActive:a.a.ButtonBorderTertiaryActiveInverse,focusOutline:a.a.BorderBrandDefault},tertiaryLight:{backgroundDefault:"transparent",colorDefault:a.a.ButtonTextTertiaryDefault,borderDefault:"transparent",backgroundHover:a.a.ButtonBackgroundTertiaryHover,colorHover:a.a.ButtonTextTertiaryHover,borderHover:a.a.ButtonBorderTertiaryHover,backgroundActive:a.a.ButtonBackgroundTertiaryActive,colorActive:a.a.ButtonTextTertiaryActive,borderActive:a.a.ButtonBorderTertiaryActive,focusOutline:a.a.BorderBrandDefault},tertiaryDark:{backgroundDefault:"transparent",colorDefault:a.a.ButtonTextTertiaryDefaultInverse,borderDefault:"transparent",backgroundHover:a.a.ButtonBackgroundTertiaryHoverInverse,colorHover:a.a.ButtonTextTertiaryHoverInverse,borderHover:a.a.ButtonBorderTertiaryHoverInverse,backgroundActive:a.a.ButtonBackgroundTertiaryActiveInverse,colorActive:a.a.ButtonTextTertiaryActiveInverse,borderActive:a.a.ButtonBorderTertiaryActiveInverse,focusOutline:a.a.BorderBrandDefault},roundLightLegacy:{borderRadius:"100%",backgroundDefault:r.e.Color.Background.Base.Default,colorDefault:a.a.ButtonTextTertiaryDefault,borderDefault:a.a.ButtonBorderTertiaryActive,backgroundHover:a.a.ButtonBackgroundTertiaryHover,colorHover:a.a.ButtonTextTertiaryHover,borderHover:a.a.ButtonBorderTertiaryHover,backgroundActive:a.a.ButtonBackgroundTertiaryActive,colorActive:a.a.ButtonTextTertiaryActive,borderActive:a.a.ButtonBorderTertiaryActive,focusOutline:a.a.BlueGray80,boxShadow:r.c.Elevation200.boxShadow},roundDarkLegacy:void 0,roundLight:{borderRadius:"100%",backgroundDefault:r.e.Color.Background.Base.Default,colorDefault:a.a.ButtonTextTertiaryDefault,borderDefault:a.a.ButtonBorderTertiaryActive,backgroundHover:a.a.ButtonBackgroundTertiaryHover,colorHover:a.a.ButtonTextTertiaryHover,borderHover:a.a.ButtonBorderTertiaryHover,backgroundActive:a.a.ButtonBackgroundTertiaryActive,colorActive:a.a.ButtonTextTertiaryActive,borderActive:a.a.ButtonBorderTertiaryActive,focusOutline:a.a.BorderBrandDefault,boxShadow:r.c.Elevation200.boxShadow},roundDark:void 0};function d(e){var t,n;const a=u[`${e.variant}${"dark"===e.theme?"Dark":"Light"}${e.flatUI?"":"Legacy"}`];return i.a.style(function(e,t,n){const a="small"===e?1.5:"medium"===e?1.75:2,o=t?0:i.a.rem(r.f.Space2);return s({default:{borderRadius:i.a.rem(r.d.Radius1),display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",transform:"scale(1)",overflow:"hidden",padding:0,outline:"none",border:0,backgroundColor:"transparent",verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",fontWeight:"normal",fontSize:n?void 0:i.a.rem(.75),minWidth:i.a.rem(a),minHeight:i.a.rem(a),lineHeight:i.a.rem(a)},icon:{minWidth:i.a.rem(a),minHeight:i.a.rem(a),lineHeight:i.a.rem(a)},hovered:{cursor:"pointer"},disabled:{opacity:.4,cursor:"not-allowed",$nest:{'& > i[data-disabled="true"]':{fill:"inherit",stroke:"inherit"}}},hidden:{display:"none"},textPosLeft:{padding:"0 0 0 "+o},textPosRight:{padding:`0 ${o} 0 0`},textPosEverywhere:{padding:`0 ${o} 0 ${o}`}})}(null!==(t=e.size)&&void 0!==t?t:"large",null!==(n=e.compact)&&void 0!==n&&n,e.flatUI),a?function(e,t,n=!1){const r=(e,t)=>void 0!==e&&"transparent"!==e?`${t?t+", ":""} inset 0 0 0 1px ${e}`:t,a=(n,r=!1)=>{const i=t?((e,t=!1)=>t?"0 0 0 2px "+e:"inset 0 0 0 2px "+e)(e.focusOutline,r):l(e.focusOutline,r);return c(n?r?`${i}, ${n}`:`${n}, ${i}`:i)},o=r(e.borderDefault,e.boxShadow),u=r(e.borderHover,e.boxShadow),d=r(e.borderActive,e.boxShadow);return s({default:{borderRadius:e.borderRadius,fontWeight:e.fontWeight,color:e.colorDefault,backgroundColor:e.backgroundDefault,boxShadow:o,$nest:a(o,n)},hovered:{color:e.colorHover,backgroundColor:e.backgroundHover,boxShadow:u,$nest:a(u,n)},active:{color:e.colorActive,backgroundColor:e.backgroundActive,boxShadow:d,$nest:a(d,n)},icon:{stroke:i.a.important(e.colorDefault),fill:i.a.important(e.colorDefault),$nest:{'&[data-hovered="true"]':{stroke:i.a.important(e.colorHover),fill:i.a.important(e.colorHover)}}}})}(a,"dark"===e.theme,e.contained):void 0,...Array.from([]).concat(e.style).map(e=>s(null!=e?e:{})))}},UUXv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return _}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("tiWp"),c=n("OwvP"),l=n("mgiE"),u=n("111I"),d=n("NDcT"),p=n("fC5a"),m=n("ySi0"),f=n("wuWi"),h=n("xk6L"),g=n("PyEC"),b=n("GllM");!function(e){let t;!function(e){e.onFullShow="onFullShow",e.onUpgrade="onUpgrade",e.onContinueWithFreePlan="onContinueWithFreePlan"}(t=e.ActionsKind||(e.ActionsKind={}))}(r||(r={}));const v=u.b.Node.make(({view:e,notify:t})=>{const n=o.useContext(d.a.Context);return o.createElement(c.a.div,{mount:t({type:"upgradeHookAction",kind:r.ActionsKind.onFullShow}),className:g.a.maximizedContainer},o.createElement(b.d,{alertsCount:e("count"),extendedCard:!0}),o.createElement(c.a.div,{className:g.a.alertsContainer},o.createElement(c.a.div,{className:g.a.alertCategoryContainer},e("alerts").pipe(h.a.map(e=>e.map((e,t)=>o.createElement(b.a,{key:t,alert:e}))))),o.createElement(b.c,{alertsCount:e("count")})),o.createElement(c.a.div,{className:g.a.buttonContainer},o.createElement(p.a,{name:"upgrade",className:g.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:r.ActionsKind.onUpgrade})},o.createElement(m.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium),e("documentType").pipe(h.a.map(e=>"demo"===e?o.createElement(p.a,{className:g.a.continueWithFreePlanButton,name:"go-to-homepage",onClick:t({type:"upgradeHookAction",kind:r.ActionsKind.onContinueWithFreePlan})},"Continue with free plan"):null))),e("documentType").pipe(h.a.map(e=>"default"===e?o.createElement("footer",{key:"footer",className:g.a.footer},o.createElement(f.i,{className:g.a.footerText},"It’s an online service that quickly and easily makes",o.createElement("br",null),"your writing better and makes you sound like a pro,",o.createElement("br",null),"or at least helps you avoid looking like a fool."),o.createElement(y,{className:g.a.footerLogo})):null)))}),y=({className:e})=>o.createElement("svg",{"aria-hidden":!0,width:"77",height:"20",viewBox:"0 0 77 20",className:e},o.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"})),O=u.b.Composite.make(Object(b.b)(g.a.maximizedWrapper),v),_=Object(s.pipe)(u.b.squash(O),u.b.contramapState(e=>{const t=e.alertsState.alerts.slice(0,5),n=e.alertsState.alerts.slice(5).map(e=>e.count).reduce((e,t)=>e+t,0),r=n>0?[...t,{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:l.g.some("more...")}]:t;return Object(a._)(Object(i._)({},e.alertsState),{alerts:r})}))},UlUd:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return B}));var r=n("B8yO"),i=n("DTwm"),a=n("0kuo"),o=n("mgiE"),s=n("N4IK"),c=n("fC5a"),l=n("nWMp"),u=n("k4jz"),d=n("l5lb"),p=n("dHrn");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return{primary:Object(p.a)((function(t){return r.createElement(c.a.Primary,h(f({},N(t)),{className:l.a.joinClasses([e.main,e.primary,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),secondary:Object(p.a)((function(t){return r.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.secondary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),toggle:Object(p.a)((function(t){return r.createElement(c.a.Secondary,h(f({},N(t)),{className:l.a.joinClasses([u.a,e.toggle,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),yellow:Object(p.a)((function(t){return r.createElement(c.a.Primary,h(f({},N(t)),{className:l.a.joinClasses([e.yellow,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),outlined:Object(p.a)((function(t){return r.createElement(c.a.Secondary,h(f({},N(t)),{className:l.a.joinClasses([e.outlined,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),link:Object(p.a)((function(t){return r.createElement(c.a,h(f({},N(t)),{className:l.a.joinClasses([e.link,e.main])}),t.text)})),darkPrimary:Object(p.a)((function(t){return r.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.darkPrimary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),darkSecondary:Object(p.a)((function(t){return r.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.darkSecondary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)})),ggoPrimary:Object(p.a)((function(t){return r.createElement(c.a.Tertiary,h(f({},N(t)),{className:l.a.joinClasses([e.ggoPrimary,e.main,t.shape===d.a.ButtonShape.Round?P.round:void 0,t.verticalAlign===d.a.VerticalAlign.Middle?P.textMiddleAlign:void 0,A(t.horizontalAlign)])}),t.text)}))}}var b,v={lineHeight:"calc(2px * var(--rem) - 2px)",padding:0},y={flexShrink:0,minHeight:l.a.rem(2),justifyContent:"initial",$nest:{"& span":v," & > div":{width:l.a.percent(100)}}},O=[{$nest:{"&[data-textpos]":{padding:0}}},Object(u.b)({default:{backgroundColor:s.e.Base.Surface.Primary.Default,border:"1px solid ".concat(s.b.CoreNeutral20),whiteSpace:"normal",lineHeight:"calc(2px * var(--rem) - 2px)",fontWeight:700},hovered:{},disabled:{},clicked:{},toggled:{backgroundColor:s.b.CoreNeutral1,borderColor:s.e.Interface.InteractiveBranded.Primary.Default},hidden:{}})],_={fill:s.b.CoreNeutral0,stroke:s.b.CoreNeutral0},C=Object(u.b)({default:{display:"inline-flex",color:s.b.CoreNeutral40,border:"1px solid ".concat(s.b.CoreNeutral20),lineHeight:"calc(1.75px * var(--rem) - 1px)"},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),w=f({},Object(u.b)({default:{color:s.b.CoreBlue40,minHeight:"auto"},hovered:{opacity:.75},clicked:{},disabled:{},toggled:{},hidden:{}})),S=h(f({},Object(u.b)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),{$nest:{"& span":v,"& i":_,"&:not([data-disabled='true'])[data-hovered='true'] i":_}}),k=f({},Object(u.b)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),E={borderRadius:l.a.rem(100)},j=[y,Object(u.b)({default:{backgroundColor:s.b.CoreYellow20,color:s.b.CoreYellow80,lineHeight:l.a.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:s.b.CoreYellow30,$nest:{"& i":{fill:s.b.CoreYellow80,stroke:s.b.CoreYellow80}}},disabled:{},clicked:{},toggled:{},hidden:{}}),{$nest:{"& i":{fill:s.b.CoreYellow80,stroke:s.b.CoreYellow80}}}],x=(m(b={},d.a.HorizontalAlign.Left,l.a.style({textAlign:"left"})),m(b,d.a.HorizontalAlign.Center,l.a.style({textAlign:"center"})),m(b,d.a.HorizontalAlign.Right,l.a.style({textAlign:"end"})),b);function A(e){return null!=e?x[e]:x[d.a.HorizontalAlign.Left]}var I=f({},Object(u.b)({default:{backgroundColor:s.b.CoreBlue30,color:s.b.CoreNeutral90,lineHeight:l.a.rem(2),transitionDuration:".2s",fontWeight:600},hovered:{backgroundColor:s.b.CoreBlue40,$nest:{"& i":{fill:s.b.CoreNeutral90,stroke:s.b.CoreNeutral90}}},disabled:{},clicked:{},toggled:{},hidden:{}})),T=f({},Object(u.b)({default:{backgroundColor:"transparent",color:s.b.CoreNeutral30,lineHeight:l.a.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:s.b.CoreNeutral60,$nest:{"& i":{fill:s.b.CoreNeutral30,stroke:s.b.CoreNeutral30}}},disabled:{},clicked:{},toggled:{},hidden:{}})),M=h(f({},Object(u.b)({default:{backgroundColor:s.b.CoreGreen60},hovered:{backgroundColor:s.b.CoreGreen40},disabled:{},clicked:{},toggled:{},hidden:{}})),{$nest:{"& svg":_}}),P=l.a.stylesheet({textMiddleAlign:[{$nest:{"& span":{verticalAlign:"initial"}}}],main:[y],primary:[S],secondary:[k],toggle:O,round:[E],yellow:j,outlined:[C,{$nest:{"& span":{lineHeight:"calc(1.75px * var(--rem) - 1px)",padding:0}}}],link:[w],darkPrimary:[I],darkSecondary:[T],ggoPrimary:[M]});function N(e){return f({name:e.name,onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==d.a.ButtonState.Disabled?B(e.tooltip):void 0},function(e){switch(e){case d.a.ButtonState.Enabled:return{disabled:!1};case d.a.ButtonState.Disabled:return{disabled:!0};case d.a.ButtonState.Selected:return{disabled:!1,active:!0};case d.a.ButtonState.Deselected:return{disabled:!1,active:!1};case d.a.ButtonState.Hidden:return{hidden:!0};default:return Object(a.c)(e)}}(e.state))}function B(e){return r.createElement(r.Fragment,null,Object(i.pipe)(e.split("\n"),(function(e){var t=e.length;return 0===t?e:o.a.cons(e[0],e.slice(1,t).map((function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement("br",null),e)})))})))}},UnJg:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("a5gI"),i=n("nWMp"),a=n("2YEY"),o=n("2swC"),s=i.a.rem(1),c={paddingLeft:i.a.rem(2),paddingRight:s},l={$nest:Object(r._)({},"& ."+a.b.header,{marginBottom:i.a.important(0),marginTop:i.a.rem(.25)})},u=i.a.prefixedStylesheet("draft_ai_card",{onboardingNotification:[l],blue:[{background:o.a.CoreNeutral10}],titleIcon:[{display:"block",position:"absolute",left:i.a.rem(-1.625),top:i.a.rem(.375),width:i.a.rem(1.25),height:i.a.rem(1.25)}],cardWrapper:[{background:o.a.CoreNeutral0,borderRadius:i.a.rem(.5),paddingBottom:i.a.rem(.5)},c],cardHeader:[{position:"relative",paddingTop:i.a.rem(.5),paddingBottom:i.a.rem(.5),paddingLeft:i.a.rem(2),paddingRight:i.a.rem(.5)},c],cardHeaderSpan:[{lineHeight:i.a.rem(2)}],cardSectionsRow:[{position:"relative"}],cardActionsRow:[{display:"flex",height:i.a.rem(2.5),marginTop:i.a.rem(.25),marginBottom:i.a.rem(.5)}],cardActionsSeparator:[{flex:1}],cornerButton:[{position:"absolute",top:i.a.rem(.5),right:s}]})},UqPw:function(e,t,n){e.exports=n.p+"files/39a510c28179c25e0e4f65524d8d5394/inter-light.woff"},UxCM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={flatUI:!1}},"V+3I":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("DTwm"),i=n("tiWp"),a=n("mgiE"),o=n("0kuo"),s=n("0nEn"),c=n("NbbF"),l=n("cZ4c");const u=e=>t=>Object(i.pipe)(t.content,a.b.fold(e=>a.b.right(Object(c.a)(e,t.todo)),Object(r.flow)(e,a.b.bimap(e=>({kind:"default",error:e}),e=>function(e,t){switch(e.type){case s.a.Type.Drilldown:return l.d.create(e.remove,e.inserts,t);case s.a.Type.Substitution:return l.a.create(e.remove,e.inserts,t);case s.a.Type.Insert:return 2===e.inserts.length?l.i.create(e.inserts[0],e.inserts[1],t):l.g.create(e.inserts,t);case s.a.Type.Remove:return l.b.create([e.remove],t);case s.a.Type.RemoveOr:return l.c.create(e.removes,t);case s.a.Type.FullSentence:return function(e,t){switch(e.kind){case l.f.WithFormatting:return l.e.createWithFormatting(e.ops,t);case l.f.PlainText:return l.e.createPlainText(e.ops,t);default:return Object(o.c)(e)}}(e,t);case s.a.Type.Citation:return function(e,t){return{type:l.j.Type.Citation,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.OneGap:return l.h.create(e,t);case s.a.Type.ShortenIt:return function(e,t){return{type:l.j.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.ToneAI:return function(e,t){return{type:l.j.Type.ToneAI,tooltipText:t,labels:e.transformParts}}(e,t);default:return Object(o.c)(e)}}(e,t.todo)))))},VAZM:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(r||(r={}))},VHh6:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("09dI"),i=n("2swC"),a=n("nWMp"),o=n("NbNH");const s={position:"relative",borderRadius:a.a.rem(o.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:i.a.CoreNeutral0},c={padding:`${a.a.rem(1)} ${a.a.rem(2)}`},l={position:"absolute",top:a.a.rem(.75),left:a.a.rem(.5)},u={display:"flex",boxSizing:"border-box",padding:a.a.rem(.5),height:a.a.rem(2.5),cursor:"pointer",justifyContent:"flex-start",alignItems:"center"},d={marginLeft:a.a.rem(.8),fontSize:a.a.rem(.85),lineHeight:a.a.rem(1)},p={display:"flex",width:a.a.percent(100),alignItems:"center",justifyContent:"space-between"},m={position:"absolute",top:a.a.rem(.2),right:a.a.rem(.3),cursor:"pointer"},f={paddingRight:a.a.rem(1),textAlign:"left",fontSize:a.a.rem(.75),lineHeight:a.a.rem(1.15)},h={marginTop:a.a.rem(.6),fontSize:a.a.rem(.875),flexShrink:0},g={display:"flex",marginBottom:a.a.rem(.6),justifyContent:"flex-end",flexShrink:0},b={marginRight:"auto",lineHeight:a.a.rem(1.3125)},v={marginTop:a.a.rem(.21),minWidth:a.a.rem(1.5),flexShrink:0},y={marginTop:a.a.rem(1)},O={display:"flex",justifyContent:"center",alignItems:"center",height:a.a.rem(2),backgroundColor:i.a.CoreGreen60,borderRadius:a.a.rem(.25),fontSize:a.a.rem(.875),fontWeight:700,color:i.a.CoreNeutral0,lineHeight:a.a.rem(2),padding:a.a.rem(r.o.Space.Space4),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:a.a.color(i.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:a.a.color(i.a.CoreGreen60).tint(.2).toRGBA().toString()}}},_=a.a.stylesheet({wrapper:[s],maximizedWrapper:[c],minimizedWrapper:[u],maximizedWrapperIcon:[l],shadowWrapper:[{position:"relative",zIndex:1}],minimizedText:[d],minimizedContent:[p],maximizedCloseButtonContainer:[m],maximizedHeader:[f],alertCategoryContainer:[h],alertCategory:[g],categoryHumanContainer:[b],alertCounterContainer:[v],premiumButtonContainer:[y],premiumButton:[O]})},VOhR:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return O}));var r=n("8O/t"),i=n("X76w"),a=n("000W"),o=n("DTwm"),s=n("tiWp"),c=n("B/Ki"),l=n("0Qjk"),u=n("mgiE"),d=n("Hj2R"),p=n("V+3I"),m=n("r6Tt"),f=n("0nEn");const h={ignoreWhitespaceRemoves:!0},g=Object(o.flow)((function(e,t=h){return n=>Object(s.pipe)(n.alternatives,_(e,{isFullSentence:d.f.isFullSentence(n.cardType),isShortenIt:d.f.isShortenIt(n.cardType),isToneAI:d.f.isToneAI(n.cardType),isCitation:d.f.isCitation(n.cardType)}),u.b.chain(f.a.create(Object(i._)(Object(r._)({},t),{drilldown:n.drilldown}))))}),p.a);const b=e=>Object(o.flow)(_(e,{isFullSentence:!1,isShortenIt:!1,isToneAI:!1,isCitation:!1}),u.b.map(u.f.map(({ops:e,text:t})=>Object(s.pipe)(e,function(e){return Object(o.flow)(a.Jb({currPos:0,diff:[]},(t,n)=>(c.a.isDelete(n)?(t.diff.push({textChunk:e.substr(t.currPos,n.delete),type:n.type===l.a.AlternativeOperation.Type.Main||n.type===l.a.AlternativeOperation.Type.Important?m.a.Type.Delete:m.a.Type.Retain}),t.currPos+=n.delete):c.a.isInsert(n)?t.diff.push({textChunk:c.a.isInsertString(n)?n.insert:"",type:n.type===l.a.AlternativeOperation.Type.Main?m.a.Type.Insert:m.a.Type.Retain}):(t.diff.push({textChunk:e.substr(t.currPos,n.retain),type:m.a.Type.Retain}),t.currPos+=n.retain),t)),e=>e.diff)}(t),function(e){return t=>Object(s.pipe)(t,a.Y(t=>t.type===m.a.Type.Delete&&t.textChunk===e.trim()),u.g.map(e=>[e,{textChunk:Object(s.pipe)(t,a.Jb("",(t,n)=>(m.a.NoInvert.eq.equals(n,e)||(t+=n.textChunk),t))),type:m.a.Type.Insert}]),u.g.getOrElse(()=>t))}(t),v,y))));function v(e){return Object(s.pipe)(e,a.Mb([],(t,n,r)=>{const i=e[t-1];return void 0!==i&&m.a.isDelete(r)&&m.a.isInsert(i)?(n.push(i),n[t-1]=r):n.push(r),n}))}function y(e){return Object(s.pipe)(e,a.Mb([],(t,n,a)=>{const o=e[t-1];return void 0!==o&&m.a.isInsert(a)&&m.a.isDelete(o)?(n[t-1]=Object(i._)(Object(r._)({},o),{invertedChunk:a.textChunk}),n.push(Object(i._)(Object(r._)({},a),{invertedChunk:o.textChunk}))):n.push(Object(i._)(Object(r._)({},a),{invertedChunk:""})),n}))}const O=e=>Object(o.flow)(e,e=>e.delta.reduce((e,t)=>c.a.isInsertString(t)?e+t.insert:e,""));function _(e,t){const n=O(e);return Object(o.flow)(function(e,{isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:i}){return o=>Object(s.pipe)(o,a.V(a=>Object(s.pipe)(a.type,u.g.map(o=>{if(l.a.Alternative.hasOptionalContext(a.ops)){const[s,...c]=a.ops,u=l.a.AlternativeOperation.length(s);return{text:e(u,a.lengthAffected-u),ops:c,type:o,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:i}}return{text:e(0,a.lengthAffected),ops:a.ops,type:o,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:i}}))),u.f.fromArray)}(n,t),u.b.fromOption(()=>new Error("Alternative array is empty")))}},VX36:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("B8yO"),c=n("4GyQ"),l=n("NDcT"),u=n("nWMp"),d=n("TKPA"),p=n("2swC"),m=n("hdYN"),f=function(e){var t=e.checked,n=e.name,i=e.className,u=e.ariaLabelledBy,p=s.useContext(l.a.Context);return s.createElement(m.c,Object(o._)(Object(a._)({name:n,"aria-checked":t,ariaLabelledBy:u},Object(c.c)(t.view(Object(d.c)(r.switchButtonOn,r.switchButtonOff)),i)),{checked:t}),s.createElement("span",{"aria-hidden":!0,className:r.on},p.on),s.createElement("span",{"aria-hidden":!0,className:r.off},p.off))};!function(e){var t=u.a.rem(1.25),n=function(e){return{"&:hover":{backgroundColor:e},"&:hover::before":{borderColor:e}}},r=u.a.rem(.15),s={$debugName:"switchButton",position:"relative",display:"inline-flex",minWidth:u.a.rem(3),height:u.a.rem(1.25),borderRadius:t,backgroundColor:p.a.CoreNeutral50,color:p.a.CoreNeutral0,letterSpacing:u.a.rem(.04625),fontSize:u.a.rem(.625),cursor:"pointer",transition:u.a.seconds(.4),alignItems:"center",userSelect:"none",outline:"none",$nest:Object(a._)({"&::before":{position:"absolute",left:0,width:t,height:t,borderWidth:r,borderStyle:"solid",borderColor:p.a.CoreNeutral50,borderRadius:u.a.percent(50),backgroundColor:p.a.CoreNeutral0,content:"''",transition:u.a.seconds(.4),boxSizing:"border-box"},"&:focus":{boxShadow:"0 0 0 1px ".concat(p.a.CoreNeutral0,", 0 0 0 3px ").concat(p.a.CoreBlue40),zIndex:1},"&:focus:not(:focus-visible)":{boxShadow:"none",$unique:!0},"&:focus-visible":{boxShadow:"0 0 0 1px ".concat(p.a.CoreNeutral0,", 0 0 0 3px ").concat(p.a.CoreBlue40),zIndex:1,$unique:!0}},n(p.a.CoreNeutral40))},c={position:"relative",textAlign:"center",textTransform:"uppercase",fontWeight:"bold"},l=e.on=u.a.style(c,{width:u.a.rem(2.125)}),d=e.off=u.a.style(c,{width:u.a.rem(1.5),marginLeft:t}),m=function(e,t){var n;return n={},Object(i._)(n,"& .".concat(l),e),Object(i._)(n,"& .".concat(d),t),n},f={display:"none"},h={display:"inline-block"};e.switchInput=u.a.style({position:"absolute",opacity:0}),e.switchButtonOn=u.a.style(s,{backgroundColor:p.a.CoreBlue50,$nest:Object(a._)(Object(o._)(Object(a._)({},m(h,f)),{"&::before":{transform:"translateX(".concat(u.a.rem(1.75),")"),borderColor:p.a.CoreBlue50}}),n(p.a.CoreBlue40))}),e.switchButtonOff=u.a.style(s,{$nest:m(f,h)})}(r||(r={}))},VY6k:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B8yO"),i=n("wZNN");const a={MLA:"https://owl.purdue.edu/owl/research_and_citation/mla_style/mla_formatting_and_style_guide/mla_works_cited_electronic_sources.html",APA:"https://owl.purdue.edu/owl/research_and_citation/apa_style/apa_formatting_and_style_guide/reference_list_electronic_sources.html",Chicago:"https://owl.purdue.edu/owl/research_and_citation/chicago_manual_17th_edition/cmos_formatting_and_style_guide/web_sources.html"},o=e=>({type:t})=>r.createElement(i.a,{href:a[t],className:e},t)},Va3c:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("B8yO"),i=n("OwvP"),a=n("TKPA"),o=n("WLOZ"),s=n("nWMp"),c=n("NbNH"),l=n("xk6L"),u=n("Y8fD"),d=n("y4Zb"),p=n("IRug");const m=({manager:e,views:t,onNotificationClose:n=a.e,theme:s={}})=>{const c=function(e,t,n={}){return i=>{const a=e[i.type],o=e=>()=>{i.actions.next(e)};return i.metadata.viewType===d.a.ViewType.standard?r.createElement(p.b.Wrapper,{key:i.id,notification:i,onClose:()=>{i.actions.next("closedByUser"),t(i)},theme:n},a(i,o)):r.createElement(r.Fragment,{key:i.id},a(i,o))}}(t,n,s.view),m=void 0!==s.grid?Object.assign({},_,s.grid):_,h=e.state.view(e=>e.filter(f(d.a.Position.bottomLeft))),g=e.state.view(e=>e.filter(f(d.a.Position.bottomRight))),b=e.state.view(e=>e.filter(f(d.a.Position.top)));return r.createElement(i.a.div,{className:m.container},l.a.combineLatestStatic(b,g,b,e=>e.some(u.a.isHighPriority)).pipe(l.a.distinctUntilChanged(),l.a.map(e=>e&&r.createElement("div",{className:m.overlay},r.createElement(o.b,{positionType:"absolute",key:"notificationOverlay",preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:O.overlayContent,contentFaded:O.overlayContentFaded}})))),r.createElement(i.a.div,{className:m.bottomLeft},h.view(e=>e.map(c))),r.createElement(i.a.div,{className:m.bottomRight},g.view(e=>e.map(c))),r.createElement(i.a.div,{className:m.top},b.view(e=>e.map(c))))};function f(e){return t=>t.metadata.position===e}const h={position:"fixed",top:0,left:0,zIndex:c.n,width:s.a.percent(100),height:s.a.percent(100),pointerEvents:"none"},g={position:"absolute",zIndex:c.n,display:"flex",flexDirection:"column",width:s.a.rem(27),pointerEvents:"auto",alignItems:"flex-end"},b={right:s.a.rem(c.c),bottom:s.a.rem(1.5)},v={bottom:s.a.rem(1.5),left:s.a.rem(2)},y={transition:"transform .1s",transformOrigin:"center"},O=s.a.stylesheet({notificationContainer:[h],notificationWrapper:[g],bottomRightNotificationWrapper:[g,b],bottomLeftNotificationWrapper:[g,v],topNotificationWrapper:[g,{top:0,right:0,left:0,margin:"0 auto"}],overlayContentBase:[y],overlayContent:[y,{transform:"none"}],overlayContentFaded:[y,{transform:"scale(.95)"}]}),_={container:O.notificationContainer,bottomLeft:O.bottomLeftNotificationWrapper,bottomRight:O.bottomRightNotificationWrapper,top:O.topNotificationWrapper}},VrFq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("B8yO"),a=n("yNCY"),o=n("imRW");!function(e){var t=e.Context=i.createContext(a.a.invariantContent("CopyToClipboard"));e.ContextMock=({children:e})=>i.createElement(t.Provider,{value:e=>o.a.copy(e,!1),children:e})}(r||(r={}))},VrWt:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentClient=t.Gate=t.Experiment=void 0;var a=n("WrvX"),o=n("Oegb"),s=n("pzag"),c=function(){function e(e,t){this.name=e,this._experiences=t}return Object.defineProperty(e.prototype,"experiences",{get:function(){return Object.fromEntries(this._experiences.map((function(e){return[e,e]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"experiencesArray",{get:function(){return this._experiences},enumerable:!1,configurable:!0}),e}();t.Experiment=c;var l=function(e,t){void 0===t&&(t="enabled"),this.name=e,this.experience=t};t.Gate=l;var u=function(e,t,n,c,l){var u=this;void 0===l&&(l={}),this._treatmentService=e,this._experiments=t,this._gatesService=n,this._gates=c,this._config=l,this._experimentTreatments=new Map,this._gateTreatments=new Map,this._initialFetched=!1,this.setPrefetchedTreatments=function(e){if(u._startRefreshIfNeeded(),!o.validateTreatmentsWithType(e))throw new Error("Not valid treatments");u._updateTreatmentForExpAndGates(e)},this._updateTreatmentForExpAndGates=function(e){u._treatmentService.refresh&&u._treatmentService.refresh(),u._experimentTreatments=new Map(e.filter((function(e){return e.type===s.ExperimentType.experiment})).map((function(e){return[e.experimentName,e]}))),u._gateTreatments=new Map(e.filter((function(e){return e.type===s.ExperimentType.gate})).map((function(e){return[e.experimentName,e]})))},this.fetchTreatments=function(e){return void 0===e&&(e={}),r(u,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._startRefreshIfNeeded(),[4,this._fetchTreatments(e.clearCacheOnError)];case 1:return t.sent(),[2]}}))}))},this._fetchTreatments=function(e){return r(u,void 0,void 0,(function(){var t,n,r,a,o,s,c;return i(this,(function(i){switch(i.label){case 0:t=null,n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),r=this._experiments.concat(this._gates),[4,this._treatmentService.getTreatment(r.map((function(e){return e.name})))];case 2:return t=i.sent(),[3,4];case 3:return a=i.sent(),n=a,e&&this._experimentTreatments.clear(),[3,4];case 4:if(t)return this._updateTreatmentForExpAndGates(t),[2];o=null,s=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this._gatesService.getTreatment(this._gates.map((function(e){return e.name})))];case 6:return o=i.sent(),[3,8];case 7:return c=i.sent(),s=c,e&&this._gateTreatments.clear(),[3,8];case 8:if(o&&(this._gateTreatments=new Map(o.map((function(e){return[e.experimentName,e]})))),s||n)throw s||n;return[2]}}))}))},this._startRefreshIfNeeded=function(){u._initialFetched||(u._config.ttl&&(u._refreshTreatment=setInterval((function(){return r(u,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:return e=function(){return r(t,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fetchTreatments()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},this._config.ttl&&this._config.useRefreshJitter?(this._delayedRefreshTreatment=setTimeout(e,.1*this._config.ttl*Math.random()),[3,3]):[3,1];case 1:return[4,e()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}),u._config.ttl)),u._initialFetched=!0)},this.dispose=function(){u._refreshTreatment&&clearInterval(u._refreshTreatment),u._delayedRefreshTreatment&&clearTimeout(u._delayedRefreshTreatment)},this.getTreatment=function(e){var t=u.peekTreatment(e);return null!==t&&u.logTreatment(e,t).catch((function(){})),t},this.peekTreatment=function(e){var t=u._experimentTreatments.get(e.name)||u._gateTreatments.get(e.name),n=null==t?void 0:t.groupName;if(n){var r=e.experiencesArray.find((function(e){return a.getGroupNames(e).includes(n)}));if(r)return r}return null},this.logTreatment=function(e,t){if(u._config.ssrDisableLogging)return Promise.resolve();var n=u._experimentTreatments.get(e.name)||u._gateTreatments.get(e.name);if(!n||a.getExperienceName(n.groupName)!==t)throw new Error("Cannot find associated treatment");return(void 0!==n.needLog?n.needLog:n.type!==s.ExperimentType.gate)?u._treatmentService.logTreatment(n):Promise.resolve()},this.isGateEnabled=function(e){return u._getExperienceOfEnabledGate(e.name)===e.experience},this._getExperienceOfEnabledGate=function(e){var t=u._gateTreatments.get(e);return t?a.getExperienceName(t.groupName):null}};t.ExperimentClient=u},Vs1e:function(e,t,n){"use strict";n.d(t,"a",(function(){return kt})),n.d(t,"b",(function(){return Et}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("+vYo"),l=n("OwvP"),u=n("4GyQ"),d=n("0Qjk"),p=n("NDcT"),m=n("ySi0"),f=n("5OZM"),h=n("s/43"),g=n("f82Z"),b=n("wuWi"),v=n("/taW"),y=n("nWMp"),O=n("xk6L"),_=n("h+d6"),C=n("6+at"),w=n("mgiE"),S=n("TKPA"),k=n("LzNK"),E=n("Bl9I"),j=n("hcme"),x=n("7IMz"),A=n("yIk2"),I=n("111I"),T=n("UxCM"),M=n("hUGf"),P=n("N4IK"),N=n("QnuY"),B=n("lhu7"),L=n("e4R/");const F=({name:e,style:t,onClick:n})=>a.createElement(N.a,{variant:"tertiary",style:[R,t],onClick:n,compact:!0,size:"medium",theme:"light",name:e},a.createElement(m.d.Close,null)),R={icon:Object.assign(Object.assign({},Object(L.c)(1.5)),{stroke:P.e.Color.Background.Neutral.Default})};var D=n("AMg5"),H=n("YGQ+"),V=n("pwUd");const U=({className:e})=>a.createElement("span",Object.assign({},Object(u.c)(W,e)),"New"),W=y.a.style({color:P.e.Emphasized.Content.OnPrimary.Default,fontWeight:700,fontSize:y.a.rem(.75),lineHeight:y.a.rem(1),justifyContent:"center",alignItems:"center",background:"linear-gradient(226.37deg, #BBD86D 0%, #41D9B5 100%)",borderRadius:y.a.rem(P.d.Radius3),padding:`${y.a.rem(P.f.SpaceHalf)} ${y.a.rem(P.f.Space2)}`,textTransform:"uppercase",width:"fit-content",cursor:"default"});var z=n("5lyU"),G=n("Enf3");const q=a.forwardRef((function({placement:e,style:t,arrowColor:n},r){return a.createElement("div",{ref:r,style:{width:33}},a.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${K(e)}deg)`.trimStart()}),$(e))},a.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function K(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function $(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const Z=Object(u.d)(({reference:e,placement:t,offset:n,boundaryAreaPadding:r,className:i,arrowColor:o,children:s})=>{const[c,l]=a.useState(null),[d,p]=a.useState(null),m=Object(G.a)(),{styles:f,attributes:h,state:g}=Object(z.a)(e,c,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:d,padding:12}},{name:"preventOverflow",options:{padding:null!=r?r:5}},m]});return a.createElement("div",Object.assign({dir:"ltr",ref:l,style:f.popper},h.popper,Object(u.c)(X,i)),a.createElement(q,{ref:p,style:f.arrow,placement:null==g?void 0:g.placement,arrowColor:o}),s)}),Y=e=>y.a.color(P.a.BlueGray40).toRGBA().fade(e).toString(),X=y.a.style({filter:`drop-shadow(0px 0px 0.5px ${P.a.BlueGray40}) drop-shadow(0px 0px 2px ${Y(.5)}) drop-shadow(0px 1px 6px ${Y(.25)})`,borderRadius:y.a.rem(P.d.Radius1+P.d.RadiusHalf)}),Q=y.a.rem(P.d.Radius1+P.d.RadiusHalf),J={width:y.a.rem(25.875),background:P.e.Color.Background.Base.Default},ee={display:"flex",flexDirection:"column",gap:y.a.rem(P.f.Space1),padding:`${y.a.rem(P.f.Space4)} ${y.a.rem(P.f.Space10)} ${y.a.rem(P.f.Space6)} ${y.a.rem(P.f.Space6)}`,color:P.e.Color.Text.Base.Default},te={display:"flex",flexDirection:"row",alignItems:"center",gap:y.a.rem(P.f.Space2),fontWeight:"bold",fontSize:y.a.rem(1),lineHeight:y.a.rem(1.5)},ne={fontSize:y.a.rem(.875),lineHeight:y.a.rem(1.375)},re={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:Q,borderBottomRightRadius:Q,padding:`${y.a.rem(P.f.Space3)} ${y.a.rem(P.f.Space6)} ${y.a.rem(P.f.Space3)} ${y.a.rem(P.f.Space6)}`,backgroundColor:P.e.Color.Background.Base.Subdued,color:P.e.Color.Text.Base.Subdued,fontSize:y.a.rem(.875),lineHeight:y.a.rem(1.3125),$nest:{a:{color:"inherit"}}},ie={width:y.a.rem(14),lineHeight:y.a.rem(1),fontSize:y.a.rem(.75)},ae=y.a.style(J),oe=y.a.style(ee),se=y.a.style(te),ce=y.a.style(ne),le=y.a.style(re),ue=y.a.style(ie),de=y.a.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),pe=y.a.style({display:"inline",fontWeight:600}),me=(e=H.a.StepName.initial)=>I.b.Grid.make(({slots:t,view:n,notify:r})=>{const{onMount:i}=Object(D.a)(O.a.tap(t=>r({kind:V.a.Kind.mount,step:e,element:t})()));return a.createElement(Z,{className:ae,reference:n("reference"),placement:n("placement"),offset:n("offset"),boundaryAreaPadding:n("boundaryAreaPadding"),arrowColor:P.e.Color.Background.Base.Subdued},a.createElement("div",{ref:i},t.content),a.createElement("div",{className:le},a.createElement("div",{className:ue},t.footerText),a.createElement("div",{className:de},a.createElement(N.a,{variant:"tertiary",onClick:r({kind:V.a.Kind.close,step:e}),style:be,name:"skip"},"Skip"),a.createElement(N.a,{onClick:r({kind:V.a.Kind.tryItOut,step:e}),style:ve,name:"tryItOut"},"Try it out"))))}),fe=I.b.Node.make(({notify:e})=>a.createElement(a.Fragment,null,a.createElement(F,{style:ye,onClick:e({kind:V.a.Kind.close,step:H.a.StepName.initial}),name:"onboardingClose"}),a.createElement("div",{className:oe},a.createElement(U,null),a.createElement("div",{className:se},a.createElement("div",null,"Write faster with generative AI")),a.createElement("div",{className:ce},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")))),he=I.b.Node.make(()=>a.createElement(a.Fragment,null,"If you use Grammarly's generative AI services,"," ",a.createElement(B.a,{href:"https://grammarly.com/terms",className:pe},"additional terms")," ","apply.")),ge=I.b.Knot.make(me(),{content:fe,footerText:he}),be={default:{marginRight:y.a.rem(.5),fontSize:y.a.rem(.875)}},ve={default:{fontSize:y.a.rem(.875),fontWeight:"bold"}},ye={default:{position:"absolute",top:y.a.rem(P.f.Space2),right:y.a.rem(P.f.Space2)}},Oe=I.b.Node.make(({notify:e})=>a.createElement(a.Fragment,null,a.createElement(F,{style:Ce,onClick:e({kind:V.a.Kind.close,step:H.a.StepName.initialBTS}),name:"onboardingClose"}),a.createElement("div",{className:oe},a.createElement(U,null),a.createElement("div",{className:se},a.createElement("div",null,"Write better papers faster (for free!)")),a.createElement("div",{className:ce},"Start with a brainstorm, then get instant feedback, revisions, and citations to ace your assignment.")))),_e=I.b.Knot.make(me(H.a.StepName.initialBTS),{content:Oe,footerText:I.b.Node.empty}),Ce={default:{position:"absolute",top:y.a.rem(P.f.Space2),right:y.a.rem(P.f.Space2)}};var we=n("NG8v");const Se={[H.a.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${Number(e).toLocaleString()} each month.`:"Choose a suggested prompt, or type your own to get started."},[H.a.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[H.a.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."},[H.a.StepName.knowledgeHub]:{title:"Using organizational language?",description:"Prompt GrammarlyGO using terms and project names from Knowledge Share to automatically insert organizational context."},[H.a.StepName.references]:{title:"GrammarlyGO now incorporates your organizational knowledge",description:"Review the references for accuracy and relevance and regenerate the response without any references that seem irrelevant or outdated."},[H.a.StepName.history]:{title:"Return to recent history",description:"Pick up where you left off with your latest prompts."}},ke=I.b.Node.make(({state:e,view:t,notify:n})=>{const{onMount:r}=Object(D.a)(Object(o.flow)(O.a.withLatestFrom(t("name")),O.a.map(([e,t])=>({element:e,stepName:t})),O.a.tap(({element:e,stepName:t})=>n({kind:V.a.Kind.mount,step:t,element:e})())));return a.createElement(l.a.Fragment,null,e.pipe(O.a.map(({name:e,placement:t,offset:i,reference:o,boundaryAreaPadding:s,promptsAllocated:c})=>a.createElement(we.a,{key:e,className:y.a.style({width:je(e)}),reference:o,placement:t,offset:i,containerPadding:s,onClose:n({kind:V.a.Kind.close,step:e}),title:Se[e].title,body:e===H.a.StepName.prompts?Se[e].description(c):Se[e].description,onMount:r}))))}),Ee=I.b.Union.asOption(ke);function je(e){switch(e){case H.a.StepName.knowledgeHub:return y.a.rem(16);case H.a.StepName.references:return y.a.rem(17.8);default:return y.a.rem(13.75)}}const xe=I.b.Union.make("kind",{none:I.b.Node.empty,initial:ge,initialBTS:_e,tooltip:Ee}),Ae=I.b.Grid.make(({slots:e,view:t})=>{const n=a.useMemo(()=>c.a.create(T.a),[]);return x.a.useSubscriptionTo(t("theme").pipe(O.a.tap(A.b.toAtom(n)))),a.createElement(M.a.Provider,{value:n},e.onboarding)}),Ie=I.b.Knot.make(Ae,{onboarding:xe});var Te=n("lKCo"),Me=n("0kuo");const Pe=e=>I.a.fromSideEffect(t=>e.notify(t),e.activeStep.pipe(O.b.compact)),Ne=e=>{const t=Pe(e);return I.a.composeKnot({root:t,content:t,footerText:t})},Be=e=>{const t=Pe(e);return I.a.composeKnot({root:t,content:t,footerText:t})};var Le=n("9Je/");function Fe(e){return I.a.composeOption(function(e){return I.a.fromSideEffect(t=>e.notify(t),e.activeStep.pipe(O.b.compact,O.a.filter(Le.a.isTooltipOnboardingStep),O.a.withLatestFrom(e.promptsAllocated.pipe(O.a.map(Te.toUndefined))),O.a.map(([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t}))))}(e),()=>e.activeStep.pipe(O.a.map(Te.filter(Le.a.isTooltipOnboardingStep))))}function Re(e){return Object(o.pipe)(e,Te.filter(e=>e.show),Te.fold(()=>"none",e=>{switch(e.name){case H.a.StepName.initial:return"initial";case H.a.StepName.initialBTS:return"initialBTS";case H.a.StepName.prompts:case H.a.StepName.review:case H.a.StepName.rewrite:case H.a.StepName.knowledgeHub:case H.a.StepName.references:case H.a.StepName.history:return"tooltip";default:return Object(Me.d)(e.name)}}))}var De=n("fC5a"),He=n("L8Yl"),Ve=n("a5gI"),Ue=n("09dI"),We=n("2swC"),ze=n("3n8C"),Ge={position:"relative",display:"block",zIndex:0,margin:"".concat(y.a.rem(0)," ").concat(y.a.rem(Ue.o.Space.Space4)),fontSize:y.a.rem(.875),fontWeight:500,border:"".concat(y.a.px(1)," solid transparent"),borderRadius:y.a.rem(.25),backgroundImage:"linear-gradient(to right, #526DD9 0%, #526DD9 25%, #3E7FFC 75%, #0FCEAF 100%)",backgroundSize:y.a.percent(400),backgroundPositionX:y.a.percent(99),transition:"background-position-x ".concat(y.a.seconds(.2)),$nest:{svg:Object(i._)(Object(r._)({},{"--path-fill-1":"#018374","--path-fill-2":"#018374","--path-fill-3":"#00FFCE","--path-fill-4":"#018374"}),{flex:"0 0 auto",$nest:{path:{transition:"fill ".concat(y.a.seconds(.2))}}}),"&[data-active=true]":{fontWeight:600,color:We.a.CoreBlue60,backgroundPositionX:y.a.percent(1),$nest:{path:Object(r._)({},{"--path-fill-1":"#2551DA","--path-fill-2":"#018374","--path-fill-3":"#34BCFF","--path-fill-4":"#2551DA"})}}}},qe={position:"relative",zIndex:1,lineHeight:y.a.rem(1.5),backgroundColor:Ue.o.Color.White,color:Ue.o.Color.NeutralGray90,padding:y.a.rem(Ue.o.Space.Space3),display:"flex",alignItems:"center",transition:"\n    color ".concat(y.a.seconds(.2),",\n    background-color ").concat(y.a.seconds(.2),"\n  "),$nest:{"[data-active='true'] > &":{backgroundColor:We.a.CoreNeutral10,color:We.a.CoreBlue60},":not([data-disabled='true'])[data-hovered='true'] > &":{backgroundColor:We.a.CoreNeutral10}}},Ke={fontSize:y.a.rem(.75),fontWeight:400,lineHeight:y.a.rem(1.125),color:We.a.CoreNeutral90,$nest:Object(Ve._)({},ze.a.compactSidebar,ze.e)},$e={minWidth:y.a.rem(1.5),minHeight:y.a.rem(1.5)},Ze={position:"relative",zIndex:y.d.level5},Ye=y.a.prefixedStylesheet("cheetah_button",{button:[Ge],buttonContent:[qe],label:[{flex:"1 1 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"}],subtitle:[Ke],icon:[$e],onboardingContainer:[Ze]}),Xe=n("020W"),Qe={title:"Generative AI"},Je={message:"By the way, you can also access our generative AI assistance here."},et={title:"Go beyond revision",message:"Generative AI can help you brainstorm ideas and even write a first draft."},tt=function(e){var t=e.hideOnboarding,n=e.stepContent,o=e.children;return t?o:a.createElement(C.b,Object(i._)(Object(r._)({},n),{alignment:"bottom",eventType:"onclick",stepId:_.a.StepId.GrammarlyGOIdeationAssistant,dotPosition:{kind:"dotAtPosition",position:C.a.center}}),o)},nt=function(e){var t=E.a.useCollapsibleNavbarThreshold(),n=e.viewModel.isInOnboardingTourA11yExperiment,r=O.a.combineLatestStatic([t,e.viewModel.onboardingViewModels]).pipe(O.a.map((function(e){var t=Object(j._)(e,2),n=t[0],r=t[1];return n?w.g.none:r}))),i=n?{title:et.title,message:et.message}:{message:Je.message};return a.createElement(l.a.Fragment,null,t.pipe(O.a.map((function(t){return a.createElement(tt,{stepContent:i,hideOnboarding:n&&t},a.createElement(l.a.Fragment,null,a.createElement(De.a,{tag:He.b.div,onClick:e.viewModel.navigation.handleCheetahButtonClick,onMouseDownCapture:function(e){e.stopPropagation()},active:e.viewModel.navigation.isActive,name:"cheetah",className:Ye.button},a.createElement("div",{ref:e.viewModel.navigation.cheetahButtonRef,className:Ye.buttonContent},a.createElement("div",{className:Ye.label},a.createElement("span",null,Qe.title)),a.createElement(Xe.a.GrammarlyGO,{width:22,className:Ye.icon}))),r.pipe(O.a.map(Object(o.flow)(w.g.map((function(e){return a.createElement("div",{className:Ye.onboardingContainer},I.b.mount(Ie,(t=e,I.a.composeKnot({root:()=>t.theme.theme.view(e=>({theme:e})),onboarding:I.a.composeUnion({none:()=>O.a.of(null),initial:Ne(t.onboarding),initialBTS:Be(t.onboarding),tooltip:Fe(t.onboarding)},()=>t.onboarding.activeStep.view(Re).view(e=>({kind:e})))}))));var t})),w.g.toNullable)))))}))))},rt=n("/pMd"),it={width:y.a.percent(100)},at={display:"block"},ot={marginRight:y.a.rem(2)},st={position:"relative",paddingTop:y.a.rem(3.5)},ct={paddingLeft:y.a.rem(.1)},lt={position:"absolute",bottom:y.a.rem(.75)},ut={marginTop:0,marginBottom:0,border:"1px solid rgba(198, 203, 222, .7)",$nest:Object(Ve._)({'& [aria-busy="false"]':{display:"none"}},ze.a.compactSidebar,{display:"flex",alignItems:"center",height:y.a.important("auto")})},dt={margin:"".concat(y.a.rem(.5)," ").concat(y.a.rem(1.75)),height:y.a.px(1),backgroundColor:Ue.o.Color.BlueGray20,opacity:.7},pt={display:"block",lineHeight:y.a.rem(1.125),$nest:Object(Ve._)({"&:after":{content:'" "'}},ze.a.compactSidebar,{fontSize:y.a.rem(.875),lineHeight:y.a.rem(1.5),paddingRight:y.a.rem(.25)})},mt={opacity:1,transition:"opacity ".concat(".3s")},ft={opacity:0,transition:"opacity ".concat(".3s")},ht={top:y.a.rem(.55),position:"absolute",$nest:Object(Ve._)({},ze.a.compactSidebar,{position:y.a.important("static")})},gt={top:y.a.rem(.5)},bt={position:"absolute",top:y.a.rem(.55),opacity:1,transition:"opacity ".concat(".3s")},vt={minHeight:y.a.rem(1.125),height:y.a.rem(1.125),opacity:1,transition:"opacity ".concat(".3s"),transform:"translate(-.125rem, -.25rem)"},yt={height:y.a.rem(3.5)},Ot={height:y.a.rem(5.25),$nest:Object(Ve._)({},ze.a.compactSidebar,{height:"auto"})},_t={position:"absolute",right:0,bottom:y.a.rem(.25),$nest:Object(Ve._)({},ze.a.compactSidebar,{bottom:"auto"})},Ct={$nest:Object(Ve._)({},ze.a.compactSidebar,ze.e)},wt=y.a.prefixedStylesheet("header",{performanceOnboardingContainer:[it],goalsOnboardingContainer:[it,at],goalsNotification:[ot],headerWrapper:[st,ct],headerWrapperHigh:[st],headerWrapperCheetah:[st,{display:"flex",flexDirection:"column"}],description:[at,Ct],descriptionLoading:[lt],headerBtn:[ut],delimiter:[dt],performanceScore:[pt],performanceScoreFadeIn:[mt],performanceScoreFadeOut:[ft],spinner:[at,ht],spinnerScore:[gt],checkmark:[at,bt],checkmarkA11yContrast:[at,vt],checkmarkFadeOut:[at,bt,ft],spinnerFadeIn:[at,ht,mt],spinnerFadeOut:[at,ht,ft],performanceBtn:[ut,yt],performanceBtnHigh:[ut,Ot],performanceDescription:[at,{$nest:{"&:global(.checking-complete)":{marginTop:0}}}],arrowIcon:[_t]}),St=function(e){var t=e.hideOnboarding,n=e.onboardingStepInfo,o=e.themes,s=e.children;return t?s:a.createElement(C.b,Object(i._)(Object(r._)({},n),{alignment:"bottom",eventType:"onclick",dotPosition:{kind:"findFirstButton",buttonOrder:0,position:C.a.center},themes:o}),s)},kt=function(e){var t=e.documentModel,n=e.modalManager,s=e.navigationViewModel,d=e.cheetahViewModel,g=e.features,y=a.useContext(p.a.Context).goals,C=a.useContext(k.a.Context),j=C.gnarSpec,x=C.pageId,A=n.state.view(w.g.exists((function(e){return e.instance.type===f.d.SetGoals}))),I=n.state.view(w.g.exists((function(e){return e.instance.type===f.d.Performance}))),T=g.denali.showOnboardingTourA11yUpdates,M=E.a.useCollapsibleNavbarThreshold(),P=function(){s.events.next({type:"performance"}),j.documentStatisticsButtonClick(x)},N=c.a.combine(t.context,t.contextCompleteness,(function(e,t){return{domain:e.domain,outcomeContext:e.outcomeContext,completeness:t}})).view((function(e){var t=e.domain,n=e.completeness,r=e.outcomeContext;return g.denali.isStudentsOFE&&w.g.contains("academic")(t)&&w.g.isSome(r)?y.button.subtitleAcademic(y.sections.format.formatTitle(w.g.unsafeGet(r).citation)):y.button.subtitle(n,v.a.TOTAL_GOALS,v.a.MIN_GOALS)})),B={documentStats:T?{title:"Evaluate your text",message:"Check your Grammarly text score and other document stats."}:{message:"Check your text score and other document statistics."},goals:T?{title:"Set some goals",message:"Specify a writing style and audience for your document to get tailored feedback."}:{title:void 0,message:"Set goals to get tailored feedback based on your type of writing."}};return a.createElement(l.a.header,{className:d.view(w.g.isSome).view(Object(S.c)(wt.headerWrapperCheetah,wt.headerWrapperHigh))},M.pipe(O.a.map((function(e){var n=T&&e;return a.createElement(a.Fragment,null,a.createElement(h.a,{small:!0}),a.createElement(St,{hideOnboarding:n,onboardingStepInfo:{stepId:_.a.StepId.Step8,title:B.documentStats.title,message:B.documentStats.message},themes:{containerWrapperClassName:wt.performanceOnboardingContainer}},a.createElement(Et,{checkingState:t.checkingState,score:t.score,scoreStatus:t.scoreStatus,isActive:I,onClick:P})),a.createElement(h.a,{small:!0}),a.createElement(St,{hideOnboarding:n,onboardingStepInfo:{stepId:_.a.StepId.Step1,title:B.goals.title,message:B.goals.message},themes:{containerWrapperClassName:wt.goalsOnboardingContainer,notificationClassName:wt.goalsNotification}},a.createElement(rt.a,Object(i._)(Object(r._)({name:"set-goals",isActive:A,isDisabled:A,title:y.button.title,"aria-label":N.view((function(e){return"".concat(y.button.title,": ").concat(e)}))},Object(u.c)(wt.headerBtn)),{onClick:function(){s.events.next({type:"setGoals"}),j.setGoalsButtonClick(x)}}),a.createElement(m.d.Arrow,{direction:m.a.right,className:wt.arrowIcon}),a.createElement(b.l,{className:wt.description},N))),a.createElement(l.a.Fragment,null,d.view(Object(o.flow)(w.g.map((function(e){return a.createElement(a.Fragment,null,a.createElement(h.a,{small:!0}),a.createElement(nt,{viewModel:e}))})),w.g.toNullable))),a.createElement(h.a,{small:!0}),a.createElement("div",{className:wt.delimiter}))}))))},Et=function(e){var t=e.checkingState,n=e.score,r=e.scoreStatus,i=e.isActive,f=e.onClick,h=a.useContext(p.a.Context),g=r.view((function(e){return Object(s.pipe)(e,w.g.map((function(e){return e===d.a.Message.ScoresStatus.SENSITIVE})),w.g.getOrElse(o.constFalse))})),v=c.a.combine(i,g,(function(e,t){return e||t}));return a.createElement(l.a.Fragment,null,c.a.combine(t,n,g,(function(e,t,n){var r="idle"===e,o=r?Object(s.pipe)(t,w.g.filter((function(e){return 100===e.rank})),w.g.fold((function(){return h.performance.button.score}),(function(){return h.performance.button.score100}))):null,c=function(e){return r?n?h.performance.button.statuses.paused:Object(s.pipe)(t,w.g.fold((function(){return h.performance.button.statuses.unavailable}),e)):h.performance.button.statuses.calculating};return a.createElement(rt.a,{name:"performance",isActive:i,isDisabled:v,className:wt.performanceBtnHigh,"aria-label":c((function(e){return"".concat(h.performance.button.score,": ").concat(e.rank,"%")})),onClick:f},a.createElement(jt,{checkingState:e,score:t}),a.createElement("div",null,o),a.createElement(b.l,Object(u.c)(r&&"checking-complete",wt.description,!r&&wt.descriptionLoading),c((function(){return h.performance.button.statuses.available}))),a.createElement(m.d.Arrow,{direction:m.a.right,className:wt.arrowIcon}))})))},jt=function(e){var t=e.checkingState,n=e.score,r="idle"===t;return a.createElement(a.Fragment,null,a.createElement(g.a,{variation:"green",size:20,className:y.a.joinClasses([r?wt.spinnerFadeOut:wt.spinnerFadeIn,wt.spinnerScore]),isIdle:r,strokeWidth:5}),Object(s.pipe)(n,w.g.map((function(e){var t=e.rank;return 100===t?a.createElement(m.d.NotificationInfo,{width:18,className:r?wt.checkmarkA11yContrast:wt.checkmarkFadeOut}):a.createElement(b.k,{className:y.a.joinClasses([wt.performanceScore,r?wt.performanceScoreFadeIn:wt.performanceScoreFadeOut])},t)})),w.g.toNullable))}},Vt5D:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r=n("LzOy"),i=n("8O/t"),a=n("X76w"),o=n("0Uv3"),s=n("B8yO"),c=n("DTwm"),l=n("OwvP"),u=n("4GyQ"),d=n("4tRT"),p=n("NDcT"),m=n("fC5a"),f=n("WLOZ"),h=n("wuWi"),g=n("AcQZ"),b=n("D2TP"),v=n("7IMz"),y=n("xk6L"),O=n("A8UT"),_=n("mgiE"),C=n("0kuo"),w=n("TKPA"),S=n("M3t0"),k=n("LzNK"),E=n("s1NC"),j=n("XIJR"),x=function(e){var t=e.className;return s.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},s.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),s.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),s.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),s.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),s.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),s.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),s.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),s.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),s.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),s.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),s.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}))},A=n("nWMp"),I=n("NbNH"),T=n("2swC"),M=n("WSjW"),P={position:"absolute",right:0,bottom:0,zIndex:I.q,margin:"0 ".concat(A.a.rem(.5)," ").concat(A.a.rem(1)," 0"),padding:A.a.rem(1.5),width:A.a.rem(27),borderRadius:A.a.rem(I.s),background:T.a.CoreNeutral0},N={display:"flex",margin:"0 0 ".concat(A.a.rem(1)),alignItems:"center"},B={marginBottom:A.a.rem(.5),fontWeight:700},L={marginLeft:A.a.rem(.5),flex:"auto 0 0"},F={maxWidth:A.a.percent(100)},R={marginRight:A.a.rem(.5),marginLeft:A.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:A.a.rem(.875)},D={marginRight:A.a.rem(-.5),marginLeft:A.a.rem(-.5),color:T.a.CoreNeutral50},H=A.a.stylesheet({container:[M.a,P],content:[N],title:[B],image:[L],buttonsContainer:[F],ctaButton:[R],dismissButton:[D]}),V=n("09dI"),U={position:"absolute",right:0,bottom:0,zIndex:I.q,display:"flex",margin:"0 ".concat(A.a.rem(.5)," ").concat(A.a.rem(1)," 0"),padding:A.a.rem(2),width:A.a.rem(27),background:T.a.CoreNeutral0,alignItems:"flex-start"},W={width:A.a.rem(17)},z={marginTop:A.a.rem(1)},G={color:V.o.SemanticColor.Color.Text.Base.Subdued,fontWeight:"normal"},q={$nest:{"& button:not(:last-of-type)":{marginRight:A.a.rem(V.o.Space.Space2)}}},K={display:"flex",flexDirection:"column",margin:"".concat(A.a.rem(2)," 0 ").concat(A.a.rem(-1)," ").concat(A.a.rem(1)),width:A.a.rem(5),height:A.a.rem(5),borderRadius:A.a.percent(50),boxShadow:"0 0 48px 0 rgba(96, 101, 123, .08)",justifyContent:"center",alignItems:"center"},$={position:"fixed",right:A.a.rem(4)},Z={marginRight:A.a.rem(-.5)},Y={position:"fixed",right:A.a.rem(14),bottom:"auto"},X={$nest:{"@media (max-height: 767px)":Object(i._)({},Z),"@media (min-height: 768px)":Object(i._)({},Y)}},Q=Object(a._)(Object(i._)({},Y),{bottom:0}),J=Object(a._)(Object(i._)({},Q),{marginRight:A.a.rem(2),right:A.a.rem(4)}),ee={$nest:{"@media (min-height: 768px)":Object(a._)(Object(i._)({},Y),{top:A.a.rem(24)})}},te={$nest:{"@media (min-height: 768px)":Object(a._)(Object(i._)({},Y),{top:A.a.rem(28)})}},ne={$nest:{"@media (min-height: 768px)":Object(a._)(Object(i._)({},Y),{top:A.a.rem(32)})}},re=Object(a._)(Object(i._)({},Y),{bottom:0}),ie=Object(a._)(Object(i._)({},re),{marginRight:A.a.rem(2),right:A.a.rem(4)}),ae=A.a.stylesheet({wrapper:[{position:"relative",width:0,height:0}],container:[M.a,U],messageContainer:[W],buttonsContainer:[z],laterButton:[G],imageContainer:[K],baseTitle:[{fontWeight:"bold"}],closedSidebar:[$],fixedNotification:[X],outcomesPlagiarismSidebarOpen:[Q],outcomesPlagiarismSidebarClosed:[J],engagement:[ee],delivery:[te],gbVoxUphook:[ne],proofitSidebarOpen:[re],proofitSidebarClosed:[ie],footerButtons:[q]}),oe=function(e){return s.createElement(l.a.div,{className:e.isSidebarOpen.view((function(e){return e?"":ae.closedSidebar}))},e.navigationViewModel.popover.view(Object(c.flow)(_.g.map((function(t){switch(t){case O.b.ProofitHook:return s.createElement(ue,Object(a._)(Object(i._)({},e),{key:"proofit"}));case O.b.PlagiarismHook:return s.createElement(he,Object(a._)(Object(i._)({},e),{key:"plagiarism"}));case O.b.EngagementHook:return s.createElement(de,Object(a._)(Object(i._)({},e),{key:"engagement"}));case O.b.DeliveryHook:return s.createElement(pe,Object(a._)(Object(i._)({},e),{key:"delivery"}));case O.b.GbVoxHook:return s.createElement(fe,Object(a._)(Object(i._)({},e),{key:"GbVoxHook"}));case O.b.GbEnableVoxHook:return s.createElement(me,Object(a._)(Object(i._)({},e),{key:"GbEnableVox"}));default:return Object(C.c)(t)}})),_.g.toNullable)))},se=function(e){var t=e.title,n=e.description,r=e.visible,a=e.children,o=e.footer,c=e.className,d=e.overlayType;return s.createElement(l.a.div,{className:ae.wrapper},s.createElement(f.b,{positionType:"fixed",visible:r,alignment:"none",overlayType:d}),r.view((function(e){return e&&s.createElement(l.a.div,Object(i._)({key:"container",role:"status","aria-live":"polite","data-name":"freemium-notification"},Object(u.c)(ae.container,c)),s.createElement("div",{className:ae.messageContainer},s.createElement(h.j,{className:ae.baseTitle},t),s.createElement(h.a,null,n),s.createElement(m.a.Group,{className:ae.buttonsContainer},o)),s.createElement("div",{className:ae.imageContainer},a))})))},ce=function(e){var t=s.useContext(k.a.Context),n=t.gnarSpec,r=t.pageId,o={pageId:r,upgradeHookName:j.a.UpgradeHookName.Tooltip,upgradeHookSlot:e.metricSlot,upgradeHookVariant:e.upgradeViewModel.isEligibleForFreeTrial?j.a.UpgradeHookVariant.premiumTrial:j.a.UpgradeHookVariant.premium},c=S.d.TimeSeries.rootFemetrics.getMetric(j.a.Metrics.GetPremiumButton).getCounter(j.a.MetricsActions.Show).setContext(o),l=S.d.TimeSeries.rootFemetrics.getMetric(j.a.Metrics.GetPremiumButton).getCounter(j.a.MetricsActions.Click).setContext(o),u=v.a.useVisibilityObserverOnce((function(){c.increment(),n.getPremiumButtonShow(r,"goPremium",e.trackingPlacement,"tooltip",void 0,e.metricSlot,e.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium")})),p=e.navigationViewModel.popover.lens(d.a.create(_.g.exists((function(t){return t===e.type})),(function(e){return Object(C.f)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),_.g.none})));return s.createElement(se,Object(a._)(Object(i._)({},e),{visible:p,className:e.className,overlayType:null!=e.overlayType?e.overlayType:"transparent",footer:s.createElement("div",{ref:u,className:ae.footerButtons},s.createElement(g.a,{size:"small",isEligibleForFreeTrial:e.upgradeViewModel.isEligibleForFreeTrial,upgradeAction:function(){l.increment(),n.getPremiumButtonClick(r,"goPremium",e.trackingPlacement,void 0,"tooltip",e.metricSlot,e.upgradeViewModel.isEligibleForFreeTrial?"premiumTrial":"premium"),e.upgradeViewModel.openUpgradeUrl(e.place)}}),s.createElement(m.a.Ghost,{name:"later",className:ae.laterButton,onClick:function(){n.dismissUpHookButtonClick(r,e.trackingPlacement),p.set(!1)}},"Maybe later"))}))},le=function(e){var t=e.navigationViewModel.popover.lens(d.a.create(_.g.exists((function(t){return t===e.type})),(function(e){return Object(C.f)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),_.g.none})));return s.createElement(l.a.div,{className:ae.wrapper},s.createElement(f.b,{positionType:"fixed",visible:t,alignment:"none",overlayType:"transparent"}),t.view((function(n){return Boolean(n)&&s.createElement("div",Object(i._)({key:"container"},Object(u.c)(H.container,ae.gbVoxUphook)),s.createElement(h.a,{className:H.title},e.title),s.createElement("div",{className:H.content},s.createElement(h.a,null,e.description),s.createElement(x,{className:H.image})),s.createElement("div",{className:H.buttonsContainer},s.createElement(m.a.Ghost,{textPosition:"surrounded",name:"gb.hook.CTA",className:H.ctaButton,onClick:Object(r.a)((function(){return Object(o.c)(this,(function(n){switch(n.label){case 0:return[4,e.onCta()];case 1:return n.sent(),t.set(!1),[2]}}))}))},e.cta),s.createElement(m.a.Flat,{name:"gb.hook.later",className:H.dismissButton,onClick:function(){e.onLater(),t.set(!1)}},e.maybeLater)))})))},ue=function(e){var t=s.useContext(p.a.Context);return s.createElement(ce,{isSidebarOpen:e.isSidebarOpen,type:O.b.ProofitHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.proofitTitle,description:t.proofitDescription,place:E.i.Place.DenaliDocument.editorDenaliProofit,className:Boolean(e.className)?e.className:e.isSidebarOpen.view((function(e){return e?ae.proofitSidebarOpen:ae.proofitSidebarClosed})),overlayType:e.overlayType,trackingPlacement:"proofreadingTooltip",metricSlot:j.a.UpgradeHookSlot.ProofreadingTooltip},s.createElement(ge,null))},de=function(e){var t=s.useContext(p.a.Context);return s.createElement(ce,{type:O.b.EngagementHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:b.a.OutcomeId.fromOutcomeId(b.a.SpecialId.Engagement),description:t.freemiumNotifications.engagement,place:E.i.Place.DenaliDocument.editorDenaliEngagement,className:Boolean(e.className)?e.className:ae.engagement,overlayType:e.overlayType,trackingPlacement:"engagementTooltip",metricSlot:j.a.UpgradeHookSlot.EngagementTooltip},s.createElement(ve,null))},pe=function(e){var t=s.useContext(p.a.Context);return s.createElement(ce,{type:O.b.DeliveryHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:b.a.OutcomeId.fromOutcomeId(b.a.SpecialId.Delivery),description:t.freemiumNotifications.delivery,place:E.i.Place.DenaliDocument.editorDenaliDelivery,className:Boolean(e.className)?e.className:ae.delivery,overlayType:e.overlayType,trackingPlacement:"deliveryTooltip",metricSlot:j.a.UpgradeHookSlot.DeliveryTooltip},s.createElement(ye,null))},me=function(e){var t=s.useContext(p.a.Context).gbEnableVoxLensHook,n=s.useContext(k.a.Context),r=n.gnarSpec,a=n.pageId;return s.useEffect((function(){r.gbEnableVoxNotificationShow(a)})),s.createElement(le,Object(i._)({type:O.b.GbEnableVoxHook,onCta:function(){r.gbEnableVoxButtonClick(a),e.upgradeViewModel.enableGBVoxHookLens()},onLater:function(){r.dismissUpHookButtonClick(a,"gbVoxLensEnableHook")}},t,e))},fe=function(e){var t=s.useContext(p.a.Context).gbVoxLensUpHook,n=s.useContext(k.a.Context),r=n.gnarSpec,a=n.pageId;return s.createElement(le,Object(i._)({type:O.b.GbVoxHook,onCta:function(){return y.a.mergeStatic(Object(w.g)(300),r.getGBButtonClick("gbVoxLens",t.cta,a,"gbVoxLens").catch(w.e)).pipe(y.a.first(),y.a.tap((function(){return e.upgradeViewModel.fromGbVoxUpHookLens()}))).toPromise()},onLater:function(){r.dismissUpHookButtonClick(a,"gbVoxLens")}},t,e))},he=function(e){var t=s.useContext(p.a.Context);return s.createElement(ce,{isSidebarOpen:e.isSidebarOpen,type:O.b.PlagiarismHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.plagiarism.title,description:t.freemiumNotifications.plagiarism,place:E.i.Place.DenaliDocument.editorDenaliPlagiarism,className:Boolean(e.className)?e.className:e.isSidebarOpen.view((function(e){return e?ae.outcomesPlagiarismSidebarOpen:ae.outcomesPlagiarismSidebarClosed})),overlayType:e.overlayType,trackingPlacement:"plagiarismTooltip",metricSlot:j.a.UpgradeHookSlot.PlagiarismTooltip},s.createElement(be,null))},ge=function(){return s.createElement("svg",{"aria-hidden":!0,width:"78",height:"79",viewBox:"0 0 78 79"},s.createElement("defs",null,s.createElement("path",{d:"M30.333 58.933c16.753 0 30.334-13.192 30.334-29.466S47.086 0 30.333 0C13.581 0 0 13.193 0 29.467s13.58 29.466 30.333 29.466z",id:"profproofreadersimg-path"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(2 2)"},s.createElement("path",{d:"M6.33 44.008c2.564 7.611 16.385 17.525 29.127 17.525C51.773 61.533 65 48.53 65 32.488 65 16.447 48.648 4.311 36.516 2.983c-8.395-.919-11.41-.345-18.512 3.497-4.216 2.28-7.884 6.083-10.256 9.605-2.569 3.814-4.281 11.482-4.281 16.403 0 3.514 1.719 8.403 2.863 11.52z",fill:"#B8D3FA"}),s.createElement("mask",{id:"profproofreadersimg-mask",fill:"#fff"},s.createElement("use",{xlinkHref:"#profproofreadersimg-path"})),s.createElement("path",{stroke:"#555C6A",strokeWidth:"2",d:"M30.333 59.933C13.035 59.933-1 46.3-1 29.467-1 12.634 13.035-1 30.333-1c17.299 0 31.334 13.634 31.334 30.467S47.632 59.933 30.333 59.933z"}),s.createElement("path",{d:"M29.843 47.74L31 51.519 26.81 67c-8.664-1.11-15.147-2.6-19.45-4.473 0 0-1.308-.306-1.36-3.263 0 0 .47-5.809 4.499-11.621 0 0 1.15-1.53 3.87-2.55l8.696-3.687a5.183 5.183 0 0 0 1.345-1.17c.041-.053.099-.131.172-.236l-.172 10.523 5.433-2.783zm24.59-.228c4.09 5.858 4.568 11.71 4.567 11.71-.053 2.98-1.38 3.29-1.38 3.29-2.61 1.126-9.133 2.622-19.573 4.488L34 51.523l1.24-3.84 4.908 2.836L40.366 40c.281.357.518.602.71.735.086.097.352.277.437.37.193.145.407.288.637.431 2.902 1.806 8.352 3.408 8.352 3.408 2.763 1.027 3.931 2.568 3.931 2.568zM40 36.076V37c0 2.5-4.5 8-7.688 8-3.188 0-7.312-5.5-7.263-8 .016-.5.016-.643 0-.924-1.271-1.628-2.286-2.805-2.845-4.803-1.451 0-1.82-5.804-1.451-6.707-.043-.098-.078-3.484.35-7.296 0 0 .204-7.073 7.397-8.27 1.005 1.073 9.547-2.5 9.547 3.5C45 9 44.453 24.284 44.358 24.566c.31.478 0 6.707-1.695 6.707-.562 1.537-1.64 3.463-2.663 4.803z",fill:"#FFF",mask:"url(#profproofreadersimg-mask)"})),s.createElement("g",{transform:"translate(43 44)"},s.createElement("ellipse",{stroke:"#555C6A",strokeWidth:"2",fill:"#FFF",strokeLinecap:"square",cx:"15.714",cy:"15.963",rx:"16.714",ry:"16.963"}),s.createElement("ellipse",{fill:"#68DEC2",style:{mixBlendMode:"multiply"},cx:"18.571",cy:"17.414",rx:"16.429",ry:"16.688"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.857 17.274l5.501 5.724L25 10.884"}))))},be=function(){return s.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 32 32"},s.createElement("defs",null,s.createElement("rect",{id:"plariarismoutcomesimg-rect",width:"22",height:"22",rx:"4"}),s.createElement("path",{id:"plariarismoutcomesimg-path",d:"M22 10v8a4 4 0 0 1-4 4h-8v-8a4 4 0 0 1 4-4h8z"}),s.createElement("filter",{id:"plariarismoutcomesimg-filter",width:"350%",height:"350%",x:"-125%",y:"-125%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("use",{fill:"#5CDAE6",transform:"translate(10 10)",xlinkHref:"#plariarismoutcomesimg-rect"}),s.createElement("mask",{id:"plariarismoutcomesimg-mask",fill:"#fff"},s.createElement("use",{xlinkHref:"#plariarismoutcomesimg-rect"})),s.createElement("use",{fill:"#99F6FF",xlinkHref:"#plariarismoutcomesimg-rect"}),s.createElement("g",{mask:"url(#plariarismoutcomesimg-mask)"},s.createElement("use",{fill:"#000",filter:"url(#plariarismoutcomesimg-filter)",xlinkHref:"#plariarismoutcomesimg-path"}),s.createElement("use",{fill:"#79E8F2",xlinkHref:"#plariarismoutcomesimg-path"}))))},ve=function(){return s.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 32 32"},s.createElement("defs",null,s.createElement("circle",{id:"engagementimg-circle",cx:"16",cy:"16",r:"16"}),s.createElement("path",{id:"engagementimg-path",d:"M8 16a10 10 0 1 1 16 0 10 10 0 1 1-16 0zm0 0a9.98 9.98 0 0 0 16 0 9.98 9.98 0 0 0-16 0z"}),s.createElement("filter",{id:"engagementimg-filter",width:"250%",height:"193.8%",x:"-75%",y:"-46.9%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("mask",{id:"engagementimg-mask",fill:"#fff"},s.createElement("use",{xlinkHref:"#engagementimg-circle"})),s.createElement("use",{fill:"#B9F9EA",xlinkHref:"#engagementimg-circle"}),s.createElement("g",{mask:"url(#engagementimg-mask)"},s.createElement("use",{fill:"#000",filter:"url(#engagementimg-filter)",xlinkHref:"#engagementimg-path"}),s.createElement("use",{fill:"#0FDCAC",xlinkHref:"#engagementimg-path"})),s.createElement("path",{fill:"#C0F9EC",d:"M8 16a9.98 9.98 0 0 1 16 0 9.98 9.98 0 0 1-16 0z",mask:"url(#engagementimg-mask)"})))},ye=function(){return s.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 42 32"},s.createElement("defs",null,s.createElement("ellipse",{id:"deliveryimg-ellipse",cx:"16",cy:"20",rx:"11.97",ry:"12"}),s.createElement("filter",{id:"deliveryimg-filter1",width:"225.3%",height:"225%",x:"-62.7%",y:"-62.5%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.934440559 0"})),s.createElement("circle",{id:"deliveryimg-circle",cx:"16",cy:"24",r:"8"}),s.createElement("filter",{id:"deliveryimg-filter2",width:"287.5%",height:"287.5%",x:"-93.8%",y:"-93.8%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(5 2)"},s.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"#E8C7FF"}),s.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter1)",xlinkHref:"#deliveryimg-ellipse"}),s.createElement("use",{fill:"#D39DFA",xlinkHref:"#deliveryimg-ellipse"}),s.createElement("g",null,s.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter2)",xlinkHref:"#deliveryimg-circle"}),s.createElement("use",{fill:"#BC78ED",xlinkHref:"#deliveryimg-circle"}))))}},Vx4e:function(e,t,n){"use strict";n.r(t),n.d(t,"premiumDemoDocument",(function(){return r})),n.d(t,"fullSentenceDemoText",(function(){return i})),n.d(t,"mutedAlertsDemoText",(function(){return a})),n.d(t,"bulkAcceptDemoText",(function(){return o})),n.d(t,"listTransformDemoText",(function(){return s})),n.d(t,"annotatorEmptyDocument",(function(){return c}));var r={title:"Welcome to Grammarly Premium!",text:""},i={title:"",text:"As many people in the Lima region wait with much hopeful anticipation for all of the impact Rhodes State College will have on our downtown area, many others have concerns due to the lack of activity after the demolition of most of the buildings downtown earlier this year.\n\nAs a business man with local interests, I have always tried to be as supportive as it is possible for me to be of our entire community. I can become passionte about all of the positive opportunities that arise. I could also become frustrated with all of the negative comments and roadblocks that stand in the way of the progress of our community.\n\nI feel it is time the public realizes and supports the impact this facility would have on the community and the reason the project has been slowed down.\n\nThe vision of the doctor and board to build a new medical school in the heart of our county and city is a model of community spirit and partnership for the betterment of so many aspects of our region. The 500 to 700 students and faculty that will be in our Town Square on a daily basis will bring foot traffic and youth, talent and opportunity. Many of the young people will fill many job openings and remain in our community for many years to come.\n\nAs a community full of positive thinkers and optimists, let’s not just be passive and ask ourselves five years from now what could we have done! Let us all gather together and demand answers, demand progress and let our voices ring through city hall."},a={title:"",text:"Regarding our vaction policy, a decision was made to give everyone an extra day off. The decision was based on the fact that lots people are extra stressed now and not taking time off. We really hope that this will give everyone a good rest. If you have any comments or questions please send them to us promptly. The feedback has always been appreciated.\nAdditionally, please review the latest changes in our work from home police that have been updated this month. The new page was added to our Wiki. It includes a number of new recommendations on how to stay productive remotely."},o={title:"",text:"Welcome to the Grammarly Editor, the best place to write what’s important.\n\nRed underlines mean that Grammarly has spotted a mistake in your writing. You’ll sea one if you mispell something. (See what we did there?) You’ll also see an underline, if you misuse a punctuation mark.If you’re worry about typos or grammatical errors that could effect your credibility, Grammarly will helps you fix those to. Click any of Grammarly’s suggested corrections to apply them to your text, or open a brief explanation to learn more about error and how to fix it.\n\nBut there’s more to good writing than speling, punctuation and grammar. (Sorry, couldn’t resist.)\n\nBrilliant sentences are clear and concise. Underlines that are blue indicate that Grammarly has spotted a sentence that is unnecessarily wordy. Grammarly scores each text based on how clear it will be to your readers and gives you guidance in order to do a revision of it in an effortless manner. Afterall, there are some sentences that are gramatically correct but still awkward and hard to follow. It goes without saying that sometimes you can actually improve a sentence by completely eliminating words that are basically unnecessary."},s={title:"",text:"The last few day have been full of a lot of thinking about what our goals should be for the development of great new features for our users. While there is a ton we could be doing, there's a few areas where I see us helping our users next year: making sure their message is clear and is able to get through to their readers, helping them sound friendlier and develop stronger and more authentic connections with their coworkers, appearing reputable with correct grammar and proper formatting, and feeling more confident about their writing. I hope you're all as excited by these opportunity as I am. The workmanship in our products will be evident to all of our users.  Send me your thoughts and any additional ideas by October 1st."},c={title:"",text:""}},VzV2:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b}));var r,i,a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("4mQT"),l=n("t5lx"),u=n("DTwm"),d=n("+vYo"),p=n("oIsx"),m=n("xk6L"),f=n("mgiE"),h=n("RRF2"),g=n("M3t0");!function(e){var t=function(e){return"sending"===e.kind};e.isSending=t;e.isSendingState=f.g.exists(t)}(r||(r={})),function(e){e.isSuccess=function(e){return e.status===p.a.StatisticsStatus.Success}}(i||(i={}));var b,v=function(){function e(t,n){var r=this;Object(a.a)(this,e),Object(s._)(this,"_doc",void 0),Object(s._)(this,"documentTitle",void 0),Object(s._)(this,"_statisticsCache",void 0),Object(s._)(this,"_proofitStatisticsIO",void 0),Object(s._)(this,"state",void 0),Object(s._)(this,"jobDetails",void 0),this._doc=t,this.documentTitle=n,this._statisticsCache=f.g.none,this._proofitStatisticsIO=function(){return Object(u.pipe)(r._statisticsCache,f.g.fold(Object(u.pipe)(r._doc.getProofitStatistics,f.l.chain(f.l.fromPredicate(i.isSuccess,(function(e){return new Error(e.status)}))),f.l.chainFirst((function(e){return f.l.fromIO((function(){r._statisticsCache=f.g.some(e)}))}))),(function(e){return Promise.resolve(f.b.right(e))})))},this.state=d.a.create(f.g.none),this.jobDetails=d.a.create(f.g.none)}return Object(o.a)(e,[{key:"getPlans",value:function(){return this._doc.getProofitPlans().then(f.b.fold((function(e){return Promise.reject(e)}),(function(e){return e.status===p.a.PlanStatus.Forbidden?Promise.reject({status:p.a.PlanStatus.Forbidden}):Promise.resolve(e)})))}},{key:"getStatistics",value:function(){return m.a.defer(this._proofitStatisticsIO).pipe(m.a.map(f.g.fromEither))}},{key:"placeOrder",value:function(e,t,n,r,i){var a=this;return this.state.set(f.g.some({kind:"sending"})),f.l.toPromise(this._doc.placeProofitOrder({turnaround:e.turnaround,tier:e.tier,userInputs:t,priceOfferId:n,payWithCredits:i},r)).then((function(e){return a._updateStatus(e.status)})).catch((function(e){g.d.Logging.getLogger("ProofitModel").warn("Error placing proofit order",e),a.state.set(f.g.some({kind:"error",errorType:"unknown"}))}))}},{key:"updateState",value:function(e){this._updateStatus(e.status),this.jobDetails.set(f.g.some({startTime:e.submitted,dueTime:e.due}))}},{key:"_updateStatus",value:function(e){switch(e){case p.a.JobStatus.building:break;case p.a.JobStatus.newJob:this.state.set(f.g.some({kind:"submitted"}));break;case p.a.JobStatus.completed:this.state.set(f.g.some({kind:"finished"}));break;case p.a.JobStatus.cancelled:this.state.set(f.g.some({kind:"cancelled"}));break;case p.a.JobStatus.emptyDocument:this.state.set(f.g.some({kind:"error",errorType:"emptyDocument"}));break;case p.a.JobStatus.duplicate:this.state.set(f.g.some({kind:"error",errorType:"alreadyProofread"}));break;case p.a.JobStatus.complexInternalStructure:this.state.set(f.g.some({kind:"error",errorType:"complexInternalStructure"}));break;case p.a.JobStatus.paymentError:this.state.set(f.g.some({kind:"error",errorType:"payment"}));break;case p.a.JobStatus.forbidden:case p.a.JobStatus.unknown:default:this.state.set(f.g.none)}}}]),e}(),y=function(e,t,n){return{getProofitPlans:function(){return Promise.resolve(f.b.right({status:p.a.PlanStatus.Success,turnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:f.g.of(1440),hoursToProcess:f.g.none,perWord:.14,price:140,turnaround:p.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:p.a.PlanTier.Base,credits:f.g.none},{enabled:!0,label:"3 hours",minutesToProcess:f.g.of(180),hoursToProcess:f.g.none,perWord:.18,price:180,turnaround:p.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:p.a.PlanTier.Base,credits:f.g.none},{enabled:!0,label:"30 minutes",minutesToProcess:f.g.of(30),hoursToProcess:f.g.none,perWord:.3,price:300,turnaround:p.a.PlanType.Instant,requirePaymentCheck:!1,tier:p.a.PlanTier.Base,credits:f.g.none}],clarityTurnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:f.g.of(1440),hoursToProcess:f.g.none,perWord:.14,price:140,turnaround:p.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:p.a.PlanTier.Clarity,credits:f.g.none},{enabled:!0,label:"3 hours",minutesToProcess:f.g.of(180),hoursToProcess:f.g.none,perWord:.18,price:180,turnaround:p.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:p.a.PlanTier.Clarity,credits:f.g.none}],words:100,userInputs:{nativeLanguage:f.g.none,dialect:f.g.none,quotationType:f.g.none,spaceType:f.g.none,noteToEditor:f.g.none},priceOfferId:p.a.PriceOfferId.create(424242)}))},placeProofitOrder:function(){return function(){return new Promise((function(t){var r=h.d.Local.Timestamp.now(),i=h.d.Local.Timestamp.toLocal(h.d.Local.Timestamp.add(r,3*h.d.MS_IN_HOUR)),a={submitted:h.d.Local.Timestamp.toLocal(r),corrections:5,due:i,price:666,name:"",completed:f.g.none,id:1,status:p.a.stringToJobStatus(e),is_dox_applied:!0};setTimeout((function(){return t(f.b.right(a))}),0),setTimeout((function(){return n(a)}),500)}))}},getProofitStatistics:function(){return Promise.resolve(f.b.right(t))}}};!function(e){var t=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a.JobStatus.newJob,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.g.none;return Object(a.a)(this,n),e=t.call(this,y(r,{status:p.a.StatisticsStatus.Success,lastCompletedJobDate:i},(function(t){e.updateState(t)})),d.a.create(""))}return n}(v);e.Mock=t}(b||(b={}))},W2lE:function(e){e.exports=JSON.parse('{"stepWrapper":"_ca02fd3b-right-stepWrapper"}')},WBKC:function(e,t,n){"use strict";n.r(t),n.d(t,"SE",(function(){return M})),n.d(t,"ap",(function(){return P})),n.d(t,"error",(function(){return B})),n.d(t,"success",(function(){return L})),n.d(t,"failure",(function(){return F})),n.d(t,"fromRefinement",(function(){return R})),n.d(t,"fromGuard",(function(){return D})),n.d(t,"literal",(function(){return H})),n.d(t,"string",(function(){return V})),n.d(t,"number",(function(){return U})),n.d(t,"boolean",(function(){return W})),n.d(t,"UnknownArray",(function(){return z})),n.d(t,"UnknownRecord",(function(){return G})),n.d(t,"mapLeftWithInput",(function(){return q})),n.d(t,"withMessage",(function(){return K})),n.d(t,"refine",(function(){return $})),n.d(t,"parse",(function(){return Z})),n.d(t,"nullable",(function(){return Y})),n.d(t,"fromStruct",(function(){return X})),n.d(t,"fromType",(function(){return Q})),n.d(t,"struct",(function(){return J})),n.d(t,"type",(function(){return ee})),n.d(t,"fromPartial",(function(){return te})),n.d(t,"partial",(function(){return ne})),n.d(t,"fromArray",(function(){return re})),n.d(t,"array",(function(){return ie})),n.d(t,"fromRecord",(function(){return ae})),n.d(t,"record",(function(){return oe})),n.d(t,"fromTuple",(function(){return se})),n.d(t,"tuple",(function(){return ce})),n.d(t,"union",(function(){return le})),n.d(t,"intersect",(function(){return ue})),n.d(t,"fromSum",(function(){return de})),n.d(t,"sum",(function(){return pe})),n.d(t,"lazy",(function(){return me})),n.d(t,"readonly",(function(){return fe})),n.d(t,"map",(function(){return ge})),n.d(t,"alt",(function(){return be})),n.d(t,"compose",(function(){return ve})),n.d(t,"id",(function(){return ye})),n.d(t,"URI",(function(){return Oe})),n.d(t,"Functor",(function(){return _e})),n.d(t,"Alt",(function(){return Ce})),n.d(t,"Category",(function(){return we})),n.d(t,"Schemable",(function(){return Se})),n.d(t,"WithUnknownContainers",(function(){return ke})),n.d(t,"WithUnion",(function(){return Ee})),n.d(t,"WithRefine",(function(){return je})),n.d(t,"draw",(function(){return Ne})),n.d(t,"stringify",(function(){return Be}));var r=n("HOlR"),i=n("DTwm"),a=n("tiWp"),o=function(e){return{_tag:"Of",value:e}},s=function(e,t){return{_tag:"Concat",left:e,right:t}};var c=function(e,t,n){return{_tag:"Key",key:e,kind:t,errors:n}},l=function(e,t,n){return{_tag:"Index",index:e,kind:t,errors:n}},u=function(e,t){return{_tag:"Member",index:e,errors:t}};function d(){return{concat:s}}var p=n("yRey"),m=n("j8jx");function f(e){return function(t,n){return{decode:function(r){return t(r)?e.of(r):e.throwError(n(r))}}}}function h(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return{decode:function(r){return p.literal.apply(p,n).is(r)?e.of(r):e.throwError(t(r,n))}}}}}function g(e){return function(t){return function(n){return{decode:function(r){return e.mapLeft(n.decode(r),(function(e){return t(r,e)}))}}}}}function b(e){return function(t){return function(n){return S(e)({decode:t})(n)}}}function v(e){return function(t){return function(n){return{decode:function(r){return null===r?e.of(null):e.bimap(n.decode(r),(function(e){return t(r,e)}),(function(e){return e}))}}}}}function y(e){var t=I(e);return function(n){return function(r){return{decode:function(i){return t(r,(function(t,r){return e.mapLeft(r.decode(i[t]),(function(e){return n(t,e)}))}))}}}}}function O(e){var t=A(e);return function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return{decode:function(i){return t(r,(function(t,r){return e.mapLeft(r.decode(i[t]),(function(e){return n(t,e)}))}))}}}}}function _(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return{decode:function(r){for(var i=e.mapLeft(n[0].decode(r),(function(e){return t(0,e)})),a=function(a){i=e.alt(i,(function(){return e.mapLeft(n[a].decode(r),(function(e){return t(a,e)}))}))},o=1;o<n.length;o++)a(o);return i}}}}}function C(e){return function(t){return function(n){return{decode:function(r){return e.ap(e.map(n.decode(r),(function(e){return function(t){return Object(m.a)(e,t)}})),t.decode(r))}}}}}function w(e){return function(t){return function(n,r){var i=Object(m.b)(r);return{decode:function(r){return e.mapLeft(i().decode(r),(function(e){return t(n,e)}))}}}}}function S(e){return function(t){return function(n){return{decode:function(r){return e.chain(n.decode(r),t.decode)}}}}}function k(e){return function(){return{decode:e.of}}}function E(e){return function(t){return function(n){return{decode:function(r){return e.map(n.decode(r),t)}}}}}function j(e){return function(t){return function(n){return{decode:function(r){return e.alt(n.decode(r),(function(){return t().decode(r)}))}}}}}var x,A=function(e){return function(t,n){return t.reduce((function(t,r,i){return e.ap(e.map(t,(function(e){return function(t){return e.push(t),e}})),n(i,r))}),e.of([]))}},I=function(e){return function(t,n){var r=Object.keys(t);if(0===r.length)return e.of({});for(var i=e.of({}),a=function(r){i=e.ap(e.map(i,(function(e){return function(t){return e[r]=t,e}})),n(r,t[r]))},o=0,s=r;o<s.length;o++){a(s[o])}return i}},T=function(e){var t={};for(var n in e){var i=e[n];r.isRight(i)&&(t[n]=i.right)}return t},M=d(),P=function(e,t){return r.isLeft(e)?r.isLeft(t)?r.left(M.concat(e.left,t.left)):e:r.isLeft(t)?t:r.right(e.right(t.right))},N={URI:r.URI,_E:void 0,map:function(e,t){return Object(a.pipe)(e,r.map(t))},ap:P,of:r.right,chain:function(e,t){return Object(a.pipe)(e,r.chain(t))},throwError:r.left,bimap:function(e,t,n){return Object(a.pipe)(e,r.bimap(t,n))},mapLeft:function(e,t){return Object(a.pipe)(e,r.mapLeft(t))},alt:function(e,t){if(r.isRight(e))return e;var n=t();return r.isLeft(n)?r.left(M.concat(e.left,n.left)):n}},B=function(e,t){return o(function(e,t){return{_tag:"Leaf",actual:e,error:t}}(e,t))},L=r.right,F=function(e,t){return r.left(B(e,t))},R=function(e,t){return f(N)(e,(function(e){return B(e,t)}))},D=function(e,t){return R(e.is,t)},H=h(N)((function(e,t){return B(e,t.map((function(e){return JSON.stringify(e)})).join(" | "))})),V=D(p.string,"string"),U=D(p.number,"number"),W=D(p.boolean,"boolean"),z=D(p.UnknownArray,"Array<unknown>"),G=D(p.UnknownRecord,"Record<string, unknown>"),q=g(N),K=function(e){return q((function(t,n){return o(function(e,t){return{_tag:"Wrap",error:e,errors:t}}(e(t,n),n))}))},$=function(e,t){return(n=N,function(e,t){return function(r){return S(n)(f(n)(e,t))(r)}})(e,(function(e){return B(e,t)}));var n},Z=b(N),Y=v(N)((function(e,t){return s(o(u(0,B(e,"null"))),o(u(1,t)))})),X=function(e){return y(N)((function(e,t){return o(c(e,"required",t))}))(e)},Q=X,J=function(e){return Object(a.pipe)(G,ve(X(e)))},ee=J,te=function(e){return(n=I(t=N),i=t.of(r.right(void 0)),a=t.of(r.left(void 0)),function(e){return function(o){return{decode:function(s){return t.map(n(o,(function(n,o){var c=s[n];return void 0===c?n in s?i:a:t.bimap(o.decode(c),(function(t){return e(n,t)}),(function(e){return r.right(e)}))})),T)}}}})((function(e,t){return o(c(e,"optional",t))}))(e);var t,n,i,a},ne=function(e){return Object(a.pipe)(G,ve(te(e)))},re=function(e){return(n=A(t=N),function(e){return function(r){return{decode:function(i){return n(i,(function(n,i){return t.mapLeft(r.decode(i),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(l(e,"optional",t))}))(e);var t,n},ie=function(e){return Object(a.pipe)(z,ve(re(e)))},ae=function(e){return(n=I(t=N),function(e){return function(r){return{decode:function(i){return n(i,(function(n,i){return t.mapLeft(r.decode(i),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(c(e,"optional",t))}))(e);var t,n},oe=function(e){return Object(a.pipe)(G,ve(ae(e)))},se=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(N)((function(e,t){return o(l(e,"required",t))})).apply(void 0,e)},ce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.pipe)(z,ve(se.apply(void 0,e)))},le=_(N)((function(e,t){return o(u(e,t))})),ue=C(N),de=function(e){return function(t){return(n=N,function(e){return function(t){return function(r){var i=Object.keys(r);return{decode:function(a){var o=a[t];return o in r?r[o].decode(a):n.throwError(e(t,o,i))}}}}})((function(e,t,n){return o(c(e,"required",B(t,0===n.length?"never":n.map((function(e){return JSON.stringify(e)})).join(" | "))))}))(e)(t);var n}},pe=function(e){return function(t){return Object(a.pipe)(G,ve(de(e)(t)))}},me=w(N)((function(e,t){return o(function(e,t){return{_tag:"Lazy",id:e,errors:t}}(e,t))})),fe=i.identity,he=function(e,t){return Object(a.pipe)(e,ge(t))},ge=E(N),be=j(N),ve=S(N),ye=k(N),Oe="io-ts/Decoder",_e={URI:Oe,map:he},Ce={URI:Oe,map:he,alt:function(e,t){return Object(a.pipe)(e,be(t))}},we={URI:Oe,compose:function(e,t){return Object(a.pipe)(t,ve(e))},id:ye},Se={URI:Oe,literal:H,string:V,number:U,boolean:W,nullable:Y,type:ee,struct:J,partial:ne,record:oe,array:ie,tuple:ce,intersect:ue,sum:pe,lazy:me,readonly:fe},ke={UnknownArray:z,UnknownRecord:G},Ee={union:le},je={refine:$},xe=[],Ae=function(e,t){return void 0===t&&(t=xe),{value:e,forest:t}},Ie=function(e){return e.value+Te("\n",e.forest)},Te=function(e,t){for(var n,r="",i=t.length,a=0;a<i;a++){var o=a===i-1;r+=e+(o?"└":"├")+"─ "+(n=t[a]).value,r+=Te(e+(i>1&&!o?"│  ":"   "),n.forest)}return r},Me=(x={Leaf:function(e,t){return Ae("cannot decode "+JSON.stringify(e)+", should be "+t)},Key:function(e,t,n){return Ae(t+" property "+JSON.stringify(e),Pe(n))},Index:function(e,t,n){return Ae(t+" index "+e,Pe(n))},Member:function(e,t){return Ae("member "+e,Pe(t))},Lazy:function(e,t){return Ae("lazy type "+e,Pe(t))},Wrap:function(e,t){return Ae(e,Pe(t))}},function(e){switch(e._tag){case"Leaf":return x.Leaf(e.actual,e.error);case"Key":return x.Key(e.key,e.kind,e.errors);case"Index":return x.Index(e.index,e.kind,e.errors);case"Member":return x.Member(e.index,e.errors);case"Lazy":return x.Lazy(e.id,e.errors);case"Wrap":return x.Wrap(e.error,e.errors)}}),Pe=function(e){for(var t=[],n=e,r=[];;)switch(n._tag){case"Of":r.push(Me(n.value));var i=t.pop();if(void 0===i)return r;n=i;break;case"Concat":t.push(n.right),n=n.left}},Ne=function(e){return Pe(e).map(Ie).join("\n")},Be=r.fold(Ne,(function(e){return JSON.stringify(e,null,2)}))},WFUb:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("NDcT"),s=n("fC5a"),c=n("WLOZ"),l=n("wuWi"),u=n("nWMp"),d=n("2swC"),p={width:u.a.rem(31)},m={backgroundColor:d.a.CoreNeutral0,paddingBottom:0},f={paddingTop:u.a.rem(1)},h={display:"grid",gridTemplateColumns:"4fr 2fr 5fr",marginBottom:u.a.rem(1)},g={marginBottom:u.a.rem(.3)},b={paddingTop:u.a.rem(.3)},v={marginRight:u.a.rem(.25)},y={fontSize:u.a.rem(.75),color:d.a.CoreNeutral50,marginBottom:u.a.rem(2)},O=u.a.stylesheet({wrapper:[p],header:[m],content:[f],offer:[h],plan:[{display:"flex",flexDirection:"column"}],planTitle:[g],arrow:[b],badge:[v],subMonthlyPrice:[y]}),_=n("jY3z"),C=function(){return a.createElement("svg",{"aria-hidden":!0,width:"31",height:"13",viewBox:"0 0 31 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1 6.5H30M30 6.5L24.5 1M30 6.5L24.5 12",stroke:"#0E101A",strokeLinecap:"round"}))},w=n("6EPH"),S=function(e){var t=e.current;return a.createElement("div",{className:O.plan},a.createElement(l.g,{className:O.planTitle},t.title),a.createElement(l.a,null,a.createElement(w.a,Object(i._)(Object(r._)({},t.regularPriceMoney),{periodInMonths:t.periodMonths})),a.createElement("div",{className:O.subMonthlyPrice},a.createElement(w.b,Object(i._)(Object(r._)({},t.regularPriceMoney),{periodInMonths:t.periodMonths})))))},k=function(e){var t=e.offer,n=e.saved,s=a.useContext(o.a.Context).changePlan;return a.createElement("div",{className:O.plan},a.createElement(l.g,{className:O.planTitle},t.title),a.createElement(l.a,null,a.createElement(w.a,Object(i._)(Object(r._)({},t.regularPrice),{periodInMonths:t.periodInMonths}))," ",a.createElement(_.a.Regular,{className:O.badge},s.savedBadge(n.percent)),a.createElement("div",{className:O.subMonthlyPrice},a.createElement(w.b,Object(i._)(Object(r._)({},t.regularPrice),{periodInMonths:t.periodInMonths})))))},E=function(e){var t=e.current,n=e.offer,r=e.saved;return a.createElement("div",{className:O.offer},a.createElement(S,{current:t}),a.createElement("div",{className:O.arrow},a.createElement(C,null)),a.createElement(k,{offer:n,saved:r}))},j=function(e){var t=a.useContext(o.a.Context).changePlan,n=a.useContext(c.a.TitleIdContext);return a.createElement(l.d,{id:n},t.title(a.createElement(w.a,Object(i._)(Object(r._)({},e.savedPrice.pricePerYear),{periodInMonths:12}))))},x=function(e){var t=e.changePlanViewModel,n=t.currentPlan,r=t.offer,i=t.savedPrice,u=t.nextPaymentDate,d=t.changePlan,p=t.close,m=a.useContext(o.a.Context).changePlan;return a.createElement(c.a,{className:O.wrapper},a.createElement(c.a.Header,{className:O.header},a.createElement(j,{savedPrice:i})),a.createElement(c.a.Body,{name:"change.plan.body",className:O.content},a.createElement(a.Fragment,null,a.createElement(E,{current:n,offer:r,saved:i}),a.createElement(l.h,null,m.confirmationDescription(n.title,u,a.createElement(w.c,r.price),a.createElement(w.c,r.regularPrice),r.periodInMonths)))),a.createElement(c.a.Footer,null,a.createElement(s.a.Ghost,{name:"modal.cancel",onClick:p},m.cancelButton),a.createElement(s.a.Primary,{name:"confirm.change.to.annual",onClick:d},m.confirmationButton(r.title))))}},WRJe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("B8yO"),i=n("sX1a"),a=n("NDcT"),o=n("fC5a"),s=n("WLOZ"),c=n("RRF2"),l=(n("Rcb3"),n("zcvI")),u=function(e){var t=e.payload,n=e.close,u=r.useContext(a.a.Context),d=r.useContext(s.a.TitleIdContext);return r.createElement("div",null,r.createElement(i.Typography,{nodeType:"h2",styleType:i.Typography.Type.H3,id:d},u.proofitSuccessModal.title),r.createElement("div",{className:l.timeWrapper},r.createElement(i.Typography,{nodeType:"h3",styleType:i.Typography.Type.H2,className:l.time,"data-name":"success-time"},c.d.Local.shortTime(t.dueDate)),r.createElement("div",{className:l.date,"data-name":"success-date"},c.d.Local.fullDate(t.dueDate))),r.createElement(i.Typography.Base,{className:l.description},u.proofitSuccessModal.description(t.email)),r.createElement(o.a.Primary,{name:"got-it",onClick:n},u.actions.gotIt))}},WSjW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("nWMp"),i=n("NbNH"),a=n("2swC"),o=(a.b.Z100,r.a.rem(i.t),a.b.Z200,{borderRadius:r.a.rem(i.t),boxShadow:a.b.Z300})},Wj65:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("8O/t"),i=n("B8yO"),a=n("tiWp"),o=n("OwvP"),s=n("111I"),c=n("NDcT"),l=n("hSa3"),u=n("xk6L"),d=n("ZDrO"),p=n("VHh6"),m=n("yOW0");const f=s.b.Node.make(({state:e})=>{const t=i.useContext(c.a.Context);return i.createElement(o.a.div,{className:p.a.minimizedContent},i.createElement("div",{className:p.a.minimizedText},t.premiumSuggestions),e.pipe(u.a.map(({alertsCount:e})=>e>0&&i.createElement(l.a.Counter,{type:"yellowPremium",key:"advancedCounter-counter",count:e}))))}),h=s.b.Grid.make(({slots:e,notify:t})=>i.createElement("div",Object(r._)({role:"button",className:p.a.shadowWrapper},d.d.createAccessibleClickHandler(t("onClick"))),e.body)),g=s.b.Knot.make(h,{body:s.b.Composite.make(Object(m.a)(p.a.minimizedWrapper),f)}),b=Object(a.pipe)(s.b.squash(g),s.b.contramapState(e=>({body:e})))},Wn5C:function(e){e.exports=JSON.parse('{"wrapper":"_3ba74340-new_toggler-wrapper","counters":"_8813904e-new_toggler-counters","fadeOutCounters":"_bd02642d-new_toggler-fadeOutCounters _8813904e-new_toggler-counters"}')},WpWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var r=n("B8yO"),i=n("OwvP"),a=n("0kuo"),o=n("111I"),s=n("NDcT"),c=n("fC5a"),l=n("WLOZ");const u=()=>r.createElement("svg",{"aria-hidden":!0,width:"128",height:"177"},r.createElement("defs",null,r.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),r.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),r.createElement("mask",{id:"b",fill:"#fff"},r.createElement("use",{xlinkHref:"#a"})),r.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),r.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),r.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),r.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),r.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})));var d=n("f82Z"),p=n("sX1a"),m=n("7IMz"),f=n("xk6L"),h=n("4qtA"),g=n("4GyQ"),b=n("0Qjk"),v=n("RRF2"),y=n("mgiE"),O=n("2swC"),_=n("ySi0"),C=n("tiWp"),w=n("+vYo");const S=e=>{const{score:t,documentIsEmpty:n,sidebarOpen:a=w.a.create(!0),successIcon:o,progressIcon:s,zeroIcon:c=null}=e,l=t.pipe(f.a.map(y.g.map(e=>e.rank))),u=f.a.combineLatestStatic(t,n,(e,t)=>Object(C.pipe)(e,y.g.fold(()=>!1,({rank:e})=>100===e&&!t))),d=a.pipe(f.a.switchMap(e=>e?l.pipe(f.a.startWith(y.g.none),f.a.pairwise(),f.a.switchMap(([e,t])=>Object(C.pipe)(t,y.g.fold(()=>f.a.of(c),t=>u.pipe(f.a.startWith(!1),f.a.pairwise(),f.a.switchMap(([n,r])=>r?f.a.of(o):Object(C.pipe)(e,y.g.filter(()=>!n),y.g.fold(()=>f.a.of(s(t)).pipe(f.a.delay(1),f.a.startWith(s(0))),()=>f.a.of(s(t)))))))))):f.a.of(null)),f.a.startWith(null));return r.createElement(i.a.Fragment,null,d)};var k=n("fQuC"),E=n("2qi0"),j=n("nWMp"),x=n("PltQ"),A=n("NbNH");const I={display:"flex",flexDirection:"column",maxHeight:"90vh",width:j.a.rem(32),height:j.a.rem(41),background:O.a.CoreNeutral0},T={padding:`${j.a.rem(2.75)} ${j.a.rem(1)} 0 ${j.a.rem(2)}`,minHeight:j.a.rem(5.1),height:j.a.rem(5.1),backgroundColor:O.a.CoreNeutral0},M={marginRight:j.a.rem(1),paddingBottom:j.a.rem(.3),borderBottom:"1px solid "+x.h},P={padding:`0 ${j.a.rem(1)} ${j.a.rem(1)} ${j.a.rem(2)}`},N={padding:"0 "+j.a.rem(1.9),minHeight:j.a.rem(4),height:j.a.rem(4)},B={position:"absolute",top:j.a.rem(-5.15),right:0,bottom:0,left:0,margin:"auto"},L={display:"flex",flexDirection:"column",marginTop:j.a.rem(7.15),marginBottom:j.a.rem(2),paddingRight:j.a.rem(1),alignItems:"center"},F={wordSpacing:j.a.rem(.05),fontSize:j.a.rem(.875),lineHeight:j.a.rem(1.5)},R={padding:`${j.a.rem(1.3)} ${j.a.rem(2.6)}`,textAlign:"center"},D=j.a.prefixedStylesheet("statistics",{wrapper:[I],modalHeader:[T],modalHeaderUnderline:[M],modalReady:[{transition:"opacity .2s"}],modalEmpty:[{opacity:0}],modalBody:[P],modalFooter:[N],loader:[B],zeroStateContainer:[L],performanceText:[F],zeroStateText:[F,R]});var H;!function(e){e.number="number",e.time="time",e.percentage="percentage"}(H||(H={}));const V=e=>{switch(e){case H.number:case H.percentage:return he.numberRowData;case H.time:return he.timeRowData;default:return Object(a.c)(e)}},U=({type:e,value:t,info:n,children:i,dataName:o})=>r.createElement("div",{className:he.row,"data-name":o},r.createElement("div",{className:V(e)},r.createElement("div",{className:he.metricTitle},i),r.createElement("div",{className:he.metric},((e,t)=>{switch(e){case H.number:return(Math.round(10*t)/10).toLocaleString();case H.time:return v.d.convertTimeToShortString(t);case H.percentage:return Math.round(t)+"%";default:return Object(a.c)(e)}})(e,t))),Boolean(n)?r.createElement(c.b,{title:n}):null),W=({state:e})=>{const t=r.useContext(s.a.Context).performance,{stats:n,score:i,documentIsEmpty:a}=e;return r.createElement(r.Fragment,null,r.createElement("section",{className:he.titleSection},r.createElement("div",{className:he.titleColumns},r.createElement(l.a.SpokenDescription,Object(g.c)(D.performanceText,he.headerDescription),100===i.rank?t.score100:t.scoreUnder100(i.rank)),r.createElement(S,{score:f.a.of(y.g.some(i)),documentIsEmpty:f.a.of(a),successIcon:r.createElement(_.d.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:he.checkmark}),progressIcon:e=>r.createElement(E.a,{key:"modal-performance-progress",colorType:E.a.ColorType.royalBlue,fontSize:E.a.FontSize.small,percentage:e,theme:ge})}))),r.createElement("section",{className:he.wordCountSection},r.createElement(p.Typography.H3,{className:he.sectionHeaderUnderline},t.wordCount),r.createElement("div",{className:he.wordCountColumns},r.createElement("div",{className:he.firstColumn},r.createElement(U,{type:H.number,value:Math.max(n.chars-1,0)},t.characters),r.createElement(U,{type:H.number,value:n.words},t.words),r.createElement(U,{type:H.number,value:n.sentences},v.f.pluralize(n.sentences,t.sentence,t.sentences))),r.createElement("div",{className:he.secondColumn},r.createElement(U,{type:H.time,value:b.a.DocumentStatistics.calculateReadingTime(n.words)},t.readingTime),r.createElement(U,{type:H.time,value:b.a.DocumentStatistics.calculateSpeakingTime(n.words)},t.speakingTime)))),r.createElement("section",{className:he.readabilitySection},r.createElement("div",{className:he.sectionHeaderWrapper},r.createElement(p.Typography.H3,null,t.readability),r.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),r.createElement("div",{className:he.readabilityColumns},r.createElement("div",{className:he.firstColumn},r.createElement(U,{type:H.number,value:n.wordLength},t.wordLengthTitle)),r.createElement("div",{className:he.secondColumn},r.createElement("div",{className:he.row},r.createElement(k.a,{value:n.wordLengthIndex,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),r.createElement(k.a.Label,{value:n.wordLengthIndex,className:he.progressLabel})),r.createElement("div",{className:he.verticalPillar}))),r.createElement("div",{className:he.readabilityColumns},r.createElement("div",{className:he.firstColumn},r.createElement(U,{type:H.number,value:n.sentenceLength},t.sentenceLengthTitle)),r.createElement("div",{className:he.secondColumn},r.createElement("div",{className:he.row},r.createElement(k.a,{value:n.sentenceLengthIndex,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),r.createElement(k.a.Label,{value:n.sentenceLengthIndex,className:he.progressLabel})),r.createElement("div",{className:he.verticalPillarShort}))),r.createElement("div",{className:he.readabilityColumns},r.createElement("div",{className:he.firstColumn},r.createElement(U,{type:H.number,value:n.readabilityScore,info:t.readabilityDescription,dataName:"readability"},t.readabilityScore))),r.createElement(p.Typography.SmallLight,{className:he.readabilityDescr},n.readabilityDescription)),r.createElement("section",null,r.createElement("div",{className:he.sectionHeaderWrapper},r.createElement(p.Typography.H3,null,t.vocabulary),r.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),r.createElement("div",{className:he.vocabularyColumns},r.createElement("div",{className:he.firstColumn},r.createElement(U,{type:H.percentage,value:n.uniqueWords,info:t.uniqueWords},t.uniqueWordsTitle)),r.createElement("div",{className:he.secondColumn},r.createElement("div",{className:he.row},r.createElement(k.a,{value:n.uniqueWords,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),r.createElement(k.a.Label,{value:n.uniqueWords,className:he.progressLabel})),r.createElement("div",{className:he.verticalPillar}))),r.createElement("div",{className:he.vocabularyColumns},r.createElement("div",{className:he.firstColumn},r.createElement(U,{type:H.percentage,value:n.rareWords,info:t.rareWords},t.rareWordsTitle)),r.createElement("div",{className:he.secondColumn},r.createElement("div",{className:he.row},r.createElement(k.a,{value:n.rareWords,className:he.progressBar,leftCustomClass:he.leftProgress,rightCustomClass:he.rightProgress}),r.createElement(k.a.Label,{value:n.rareWords,className:he.progressLabel})),r.createElement("div",{className:he.verticalPillarShort})))))},z={marginBottom:j.a.rem(2.4)},G={display:"flex",marginTop:j.a.rem(.9),marginRight:j.a.rem(1),justifyContent:"space-between"},q={marginBottom:j.a.rem(1.5)},K={display:"flex",marginTop:j.a.rem(.8)},$={marginBottom:j.a.rem(2.4)},Z={display:"flex",$nest:{"&:first":{marginTop:j.a.rem(.8)}}},Y={display:"flex",$nest:{"&:first":{marginTop:j.a.rem(.8)}}},X={flexBasis:j.a.percent(50)},Q={position:"relative",paddingLeft:j.a.rem(.5),flexBasis:j.a.percent(50)},J={display:"flex",height:j.a.rem(2),alignItems:"center"},ee={display:"flex",justifyContent:"space-between"},te={width:j.a.rem(10),fontFeatureSettings:`${A.g}, ${A.e}`},ne={width:j.a.rem(13)},re={marginRight:j.a.rem(1),paddingBottom:j.a.rem(.5),borderBottom:"1px solid "+x.h},ie={width:j.a.percent(80),whiteSpace:"pre-line"},ae={display:"inline-block",color:O.a.CoreBlue50,textAlign:"right",fontWeight:"bold",fontSize:j.a.rem(.875),lineHeight:j.a.rem(2)},oe={display:"inline-block",color:O.a.CoreNeutral90,fontSize:j.a.rem(.875),lineHeight:j.a.rem(2)},se={width:j.a.rem(3.2),height:j.a.rem(3.2),fontWeight:"bold"},ce={width:j.a.rem(6),backgroundColor:x.h},le={marginLeft:j.a.rem(1.125)},ue={backgroundImage:x.b},de={backgroundImage:x.d},pe={display:"block",paddingTop:j.a.rem(.5)},me={position:"absolute",top:j.a.rem(.5),left:j.a.rem(3.5),width:j.a.rem(.0625),height:j.a.rem(3),backgroundColor:x.g},fe={height:j.a.rem(1)},he=j.a.stylesheet({titleSection:[z],titleColumns:[G],wordCountSection:[q],wordCountColumns:[K],readabilitySection:[$],readabilityColumns:[Z],vocabularyColumns:[Y],firstColumn:[X],secondColumn:[Q],row:[J],rowData:[ee],numberRowData:[ee,te],timeRowData:[ee,ne],sectionHeaderUnderline:[re],sectionHeaderWrapper:[re,{display:"flex",alignItems:"baseline",justifyContent:"space-between"}],headerDescription:[ie],metric:[ae],metricTitle:[oe],checkmark:[{alignItems:"center"}],circleProgressBar:[se],progressBar:[ce],progressLabel:[le],leftProgress:[ue],rightProgress:[de],readabilityDescr:[pe],verticalPillar:[me],verticalPillarShort:[me,fe]}),ge={radialProgressBar:he.circleProgressBar};var be;!function(e){e.ModalView=o.b.Grid.make(({slots:e,state:i,notify:a})=>{const o=a({kind:t.close});return r.createElement(l.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:o},r.createElement(n,{state:i,downloadButton:e.downloadButton,onClose:o}))});let t;!function(e){e.close="close"}(t=e.ActionsKind||(e.ActionsKind={}));var n=e.ModalContent=({state:e,downloadButton:t,onClose:n})=>r.createElement(l.a,{className:D.wrapper,focusTrapMode:"dynamic",initialFocus:m.a.FocusTrap.InitialFocus.none},r.createElement(l.a.Header,{className:D.modalHeader},r.createElement(b,{state:e})),r.createElement(l.a.Body,{name:"performanceBody",className:D.modalBody,wrapperClassName:e.pipe(f.a.map(e=>e.type===h.a.State.Type.EMPTY?D.modalEmpty:D.modalReady))},r.createElement(y,{state:e})),r.createElement(l.a.Footer,{className:D.modalFooter},r.createElement(O,{downloadButton:t,onClose:n})));const g=()=>{const e=r.useContext(s.a.Context);return r.createElement("div",{className:D.zeroStateContainer},r.createElement(u,null),r.createElement(l.a.SpokenDescription,{className:D.zeroStateText},e.performance.notEnoughTextToCalculateStats))};var b=e.Header=({state:e})=>{const t=r.useContext(s.a.Context),n=r.useContext(l.a.TitleIdContext);return r.createElement(i.a.Fragment,null,e.pipe(f.a.map(e=>r.createElement(p.Typography.H2,{key:"statisticsHeader",id:n,className:e.type===h.a.State.Type.READY?D.modalHeaderUnderline:""},t.performance.title))))};const v=()=>r.createElement(d.a,{size:64,className:D.loader,variation:"blue"});var y=e.Body=({state:e})=>r.createElement(i.a.Fragment,null,e.pipe(f.a.map(e=>{switch(e.type){case h.a.State.Type.EMPTY:return null;case h.a.State.Type.LOADING:case h.a.State.Type.ERROR:return r.createElement(v,{key:"statisticsLoading"});case h.a.State.Type.SHORT_CONTENT:return r.createElement(g,{key:"statisticsEmpty"});case h.a.State.Type.READY:return r.createElement(W,{key:"statisticsContent",state:e});default:return Object(a.c)(e)}})));const O=({downloadButton:e,onClose:t})=>r.createElement(r.Fragment,null,e,r.createElement(c.a.Primary,{name:"close-stats",onClick:t},"Close"))}(be||(be={}))},WrvX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupNames=t.getExperienceName=void 0;t.getExperienceName=function(e){return e.endsWith("_1")||e.endsWith("_2")?e.slice(0,-2):null};t.getGroupNames=function(e){return[e+"_1",e+"_2"]}},WyFC:function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,i="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,c,l,u;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(c=s;0!=c--;)if(!e(t[c],o[c]))return!1;return!0}if(r&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(u=t.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=t.entries();!(c=u.next()).done;)if(!e(c.value[1],o.get(c.value[0])))return!1;return!0}if(i&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(u=t.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(c=s;0!=c--;)if(t[c]!==o[c])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"==typeof t.valueOf&&"function"==typeof o.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString&&"function"==typeof t.toString&&"function"==typeof o.toString)return t.toString()===o.toString();if((s=(l=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(o,l[c]))return!1;if(n&&t instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!t.$$typeof)&&!e(t[l[c]],o[l[c]]))return!1;return!0}return t!=t&&o!=o}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},XGM8:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return B}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("OwvP"),s=n("4GyQ"),c=n("mgiE"),l=n("0kuo"),u=n("111I"),d=n("NDcT"),p=n("fC5a"),m=n("CcwN"),f=n("ySi0"),h=n("wnit"),g=n("9QYy"),b=n("SDkL"),v=n("pQeY");const y=e=>u.b.Union.make("kind",{alertCard:v.a.Card(e)});var O=n("xk6L"),_=n("7IMz"),C=n("itj6"),w=n("+ySe"),S=n("0LHr"),k=n("d3CI"),E=n("0sTm"),j=n("Qq8L"),x=n("gfa6"),A=n("e71X");const I=({title:e,cardsVM:t,transition:n,onTransitionEnd:r,scrollEl:i,state:o,cardsListScrollManager:s,isMaster:c,capabilities:l,comparator:u,cardListFlow:d=h.a,checksFeedItem:p=y})=>a.createElement(M,{cardsVM:t,transition:n,onTransitionEnd:r,scrollEl:i,state:o,cardsListScrollManager:s,cardListFlow:d,isMaster:c,capabilities:l,comparator:u,checksFeedItem:p},a.createElement(T,{title:e})),T=({title:e})=>a.createElement("div",{className:x.a.headerWrapper},a.createElement("div",{className:x.a.header},e)),M=({cardsVM:e,transition:t,onTransitionEnd:n,scrollEl:c,state:l,cardsListScrollManager:u,isMaster:d,capabilities:p,comparator:m,children:f,cardListFlow:g=h.a,checksFeedItem:b=y})=>{const v=l.get().currentLens.meta,_=j.a.Elements.create();return a.createElement(a.Fragment,{key:v.id},a.createElement(B.FixedContent,{label:v.title},a.createElement(o.a.div,Object(i._)(Object(r._)({},Object(s.c)(t.pipe(O.a.map(e=>e.title)))),{onTransitionEnd:n}),f),a.createElement(B.SeeAlerts,{key:"seeAlerts",cardsViewportState:w.c.getCardsViewportState(l,u,p),actionEvents:e.actionEvents,cardsAmount:l.view("currentLens").view(p.getVisibleAlertsCount)})),a.createElement(j.a,{name:v.id,stateSyncListener:j.a.superScrollListener(u,_),height:w.c.getAssistantHeight(l,u,p),className:t.pipe(O.a.map(e=>e.assistantWrapper)),isMaster:d},a.createElement(P,{elements:_,cardsVM:e,cardsListScrollView:u,scrollEl:c,lensView:l.lens(k.e.Prism.getLens()),transition:t,state:l,cardListFlow:g,onTransitionEnd:n,checksFeedItem:b,capabilities:p,comparator:m})))},P=({elements:e,cardsVM:t,cardsListScrollView:n,scrollEl:l,lensView:d,transition:p,state:m,onTransitionEnd:f,capabilities:v,comparator:C,cardListFlow:S=h.a,checksFeedItem:k=y})=>{const E=new O.a.ReplaySubject;_.a.useEffectOnDidMount(()=>e.lens("scrollProvider").set(l.get())),_.a.useSubscriptionTo(E.pipe(O.a.tap(t=>e.lens("scrollConsumer").set(t))));const j=w.c.getScrollObserver(n).pipe(O.a.startWith(!1));return a.createElement(a.Fragment,null,a.createElement("div",{className:x.a.fakeTop,ref:t=>e.lens("viewport").set(c.g.fromNullable(t))}),a.createElement("div",{className:x.a.viewport},a.createElement(o.a.div,Object(i._)(Object(r._)({},Object(s.c)(x.a.lensviewContentWrapper,p.pipe(O.a.map(e=>e.content)))),{onTransitionEnd:f}),u.b.mount(b.a,()=>w.c.getPlaceholderState(m,n)),u.b.mount(g.a.cardList(k(t.actionEvents)),S(t,d,E,j,v,C)))))},N=A.a.OutcomeContext;var B,L;(L=B||(B={})).Title=A.a.Title,L.SeeAlerts=({cardsViewportState:e,actionEvents:t,cardsAmount:n})=>{const r=a.useContext(d.a.Context).sidebar;return _.a.useSubscriptionTo(e.pipe(O.a.distinctUntilChanged(),O.a.withLatestFrom(n),O.a.tap(([e,n])=>{switch(e){case S.a.above:case S.a.below:t.next({type:C.b.Type.moreAlertsButtonShow,position:e,cardsAmount:n});break;case S.a.hidden:break;default:Object(l.c)(e)}}))),a.createElement(o.a.Fragment,null,e.pipe(O.a.distinctUntilChanged(),O.a.combineLatest(n,(e,n)=>{switch(e){case S.a.above:return a.createElement("div",{className:x.a.seeAlertsContainer},a.createElement(p.a.Primary,{name:"top-see-alerts",className:x.a.topSeeAlerts,onClick:()=>t.next({type:C.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},r.seeAlerts(n),a.createElement(f.d.Arrow,{width:"12",direction:f.a.up})),a.createElement("div",{className:x.a.topStack}));case S.a.below:return a.createElement("div",{className:x.a.seeAlertsContainer},a.createElement(p.a.Primary,{name:"bottom-see-alerts",className:x.a.bottomSeeAlerts,onClick:()=>t.next({type:C.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},r.seeAlerts(n),a.createElement(f.d.Arrow,{width:"12",direction:f.a.down})),a.createElement("div",{className:x.a.bottomStack}));case S.a.hidden:return null;default:return Object(l.c)(e)}}),O.a.startWith(null)))},L.Rechecking=({className:e})=>a.createElement(o.a.div,Object(r._)({key:"lensview-loader"},Object(s.c)(e,x.a.rechecking)),a.createElement(E.a,null)),L.FixedContent=({onTransitionEnd:e,label:t,children:n})=>a.createElement(m.a.Top,{onTransitionEnd:e,className:x.a.fixedLensContent,"aria-label":t,role:"region"},n)},XGPX:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("B8yO");function i(e,t,n){let[i,a]=(0,r.useState)(e||t),o=(0,r.useRef)(void 0!==e),s=void 0!==e;(0,r.useEffect)(()=>{let e=o.current;e!==s&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),o.current=s},[s]);let c=s?e:i,l=(0,r.useCallback)((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(c,e)||n(e,...t)),s||(c=e)};if("function"==typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),a((n,...i)=>{let a=e(s?c:n,...i);return r(a,...t),s?n:a})}else s||a(e),r(e,...t)},[s,c,n]);return[c,l]}function a(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}},XGsl:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return w}));var r=n("a5gI"),i=n("nWMp"),a=n("fB2g"),o=n("2swC"),s=n("7Pyj"),c=44*s.a,l=144*s.a,u=700*s.a,d=12*s.a,p=16*s.a,m=14*s.a,f=m+(p-m)/2-4,h=8.25*s.a,g=.6*s.a;a.a.cssRule("html",{fontSize:i.a.px(m)});var b,v={invisible:"".concat("report-","invisible"),markBase:"".concat("report-","markBase"),markSuccess:"".concat("report-","markSuccess"),akkuratWrapper:"".concat("report-","akkuratWrapper"),content:"".concat("report-","content"),textContent:"".concat("report-","textContent"),text:"".concat("report-","text"),superscriptContainer:"".concat("report-","superscriptContainer"),superscript:"".concat("report-","superscript"),alertTableContainer:"".concat("report-","alertTableContainer"),alertTable:"".concat("report-","alertTable"),alertTableTd:"".concat("report-","alertTableTd"),alertTableTdIndex:"".concat("report-","alertTableTdIndex"),alertTableTdExample:"".concat("report-","alertTableTdExample"),alertTableTdPlagiarismSource:"".concat("report-","alertTableTdPlagiarismSource"),alertTableHighlightText:"".concat("report-","alertTableHighlightText"),separatorRemover:"".concat("report-","separatorRemover"),plagiarismLink:"".concat("report-","plagiarismLink")},y=v.superscriptContainer,O={borderBottomColor:i.a.important("transparent"),textDecoration:i.a.important("none"),fontWeight:i.a.important("normal"),fontStyle:i.a.important("normal")},_={boxSizing:"border-box",margin:"0 -8px",paddingRight:i.a.px(c),paddingLeft:i.a.px(l),width:i.a.px(u),$nest:{thead:{display:"table-row-group"}}},C={padding:"".concat(i.a.px(11*s.a)," ").concat(i.a.px(16*s.a)," ").concat(i.a.px(11*s.a)," 0"),borderTop:"1px solid ".concat(o.a.CoreNeutral20),verticalAlign:"top",fontSize:i.a.px(d),lineHeight:i.a.px(p),breakInside:"avoid",$nest:{"&:last-of-type":{paddingRight:0}}},w={akkuratWrapper:i.a.joinClasses([v.akkuratWrapper,a.a.style({fontWeight:"normal",fontFamily:"'Akkurat Std', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial","-webkit-font-smooting":"antialiased","-moz-osx-font-smoothing":"grayscale"})]),content:i.a.joinClasses([v.content,a.a.style(_)]),textContent:i.a.joinClasses([v.textContent,a.a.style(_,{fontSize:i.a.px(m),pageBreakBefore:"always"})]),text:i.a.joinClasses([v.text,a.a.style({lineHeight:i.a.px(48),$nest:{"& *":{animation:i.a.important("none")},"& .ql-container [class*=-placeholder]":{display:"none"},"& .ql-clipboard":{display:"none"}}})]),superscriptContainer:i.a.joinClasses([v.superscriptContainer,a.a.style({position:"relative",bottom:i.a.px(f),display:"inline-block",width:0,height:0,whiteSpace:"nowrap",fontSize:i.a.px(h)})]),superscript:i.a.joinClasses([v.superscript,a.a.style(O,{padding:"0 ".concat(i.a.px(g)),whiteSpace:"nowrap",$nest:{"&:not(:last-child):after":{content:"','"}}})]),alertTableContainer:i.a.joinClasses([v.alertTableContainer,a.a.style(_,{paddingLeft:0,pageBreakBefore:"always"})]),alertTable:i.a.joinClasses([v.alertTable,a.a.style({width:i.a.percent(100),borderCollapse:"collapse",$nest:(b={},Object(r._)(b,"& tr:first-of-type .".concat(v.alertTableTd),{borderTopWidth:0}),Object(r._)(b,"& [class*=-or]",{marginRight:i.a.px(4*s.a),marginLeft:0,fontSize:i.a.px(d)}),Object(r._)(b,"& [class*=-removeOrContainer]",{flexBasis:"auto",$nest:{"& [class*=-itemRemove]":{marginRight:i.a.px(4*s.a),marginBottom:0,padding:0,$nest:{"& [class*=-deleteAll]":{verticalAlign:"middle"}}},"& [class*=-itemContext]":{marginRight:i.a.px(4*s.a),color:o.a.CoreNeutral60,fontStyle:"italic",fontSize:i.a.px(d)}}}),Object(r._)(b,"& [class*=-itemOriginal], & [class*=-itemRemove]",{backgroundColor:"transparent",color:o.a.CoreRed50,fontSize:i.a.px(d),lineHeight:i.a.px(p),paddingLeft:0,marginBottom:0}),Object(r._)(b,"& [class*=-itemOriginal]",{marginRight:0}),Object(r._)(b,"& [class*=-itemOriginal]:after",{margin:"-5px 4px 0",color:o.a.CoreNeutral60,fontSize:i.a.px(d),lineHeight:i.a.px(p)}),Object(r._)(b,"& [class*=-itemInsert]",{margin:0,padding:0,backgroundColor:"transparent",color:o.a.CoreGreen60,fontSize:i.a.px(d),lineHeight:i.a.px(p)}),Object(r._)(b,"& [class*=-itemInsert]:not(:last-child):after",{display:"inline-block",marginRight:"4px",color:o.a.CoreNeutral60,content:"','",fontSize:i.a.px(d),lineHeight:i.a.px(p)}),Object(r._)(b,"& [class*=-replacements_labels-diff]",{fontWeight:"normal"}),Object(r._)(b,"& [class*=-replacements_labels-list]",{marginBottom:0}),b)})]),alertTableTd:i.a.joinClasses([v.alertTableTd,a.a.style(C)]),alertTableTdIndex:i.a.joinClasses([v.alertTableTdIndex,a.a.style(C,{width:i.a.px(l),borderTopWidth:0,color:o.a.CoreNeutral50,textAlign:"right"})]),alertTableTdExample:i.a.joinClasses([v.alertTableTdExample,a.a.style(C,{maxWidth:i.a.px(350*s.a)})]),alertTableTdPlagiarismSource:i.a.joinClasses([v.alertTableTdPlagiarismSource,a.a.style(C,{maxWidth:i.a.px(190*s.a),wordWrap:"break-word"})]),alertTableHighlightText:i.a.joinClasses([v.alertTableHighlightText,a.a.style({color:o.a.CoreNeutral60,fontStyle:"italic",lineHeight:i.a.px(p)})]),markBase:i.a.joinClasses([v.markBase,a.a.style({$nest:{"@media print":{borderBottomWidth:i.a.important(i.a.px(3))}}})]),markSuccess:i.a.joinClasses([v.markSuccess,a.a.style({$nest:{"@media print":{backgroundColor:o.a.CoreNeutral0}}})]),separatorRemover:i.a.joinClasses([v.separatorRemover,a.a.style({position:"fixed",top:0,width:i.a.percent(100),height:i.a.px(3),backgroundColor:o.a.CoreNeutral0})]),plagiarismLink:i.a.joinClasses([v.plagiarismLink,a.a.style({display:"block",color:o.a.CoreBlue50})]),invisible:i.a.joinClasses([v.invisible,i.a.style({position:"absolute",visibility:"hidden"})])},S=function(e){return{position:"fixed",left:i.a.px(160),zIndex:-1,width:e}};a.a.cssRule("[data-vertical-underline-start]:before",S(i.a.px(60)),{height:i.a.percent(100),borderRight:"".concat(i.a.px(4)," solid"),content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-body]",S(i.a.px(60))),a.a.cssRule("[data-vertical-underline-body]:after",S(i.a.px(60)),{height:i.a.percent(100),borderRight:"".concat(i.a.px(4)," solid"),background:o.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-index]",O,S(i.a.px(55)),{height:"inherit",backgroundColor:o.a.CoreNeutral0,textAlign:"right",fontSize:i.a.px(h),lineHeight:i.a.px(h)},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-index]:before",{display:"block",boxSizing:"border-box",width:i.a.px(65),height:i.a.px(6),borderTop:"".concat(i.a.px(6)," solid ").concat(o.a.CoreNeutral0),content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),a.a.cssRule("[data-vertical-underline-end]:after",{position:"fixed",left:0,zIndex:-1,display:"block",width:i.a.px(229),height:i.a.percent(100),background:o.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"})},XPG3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("tiWp"),a=n("mgiE");!function(e){e.group=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:r,cost:i})=>(void 0===e[n]&&(e[n]={group:t,category:n,categoryHuman:r,count:0,lensName:"",bundleInfo:a.g.none}),e[n].count+=i,e),{})).sort((e,t)=>t.count-e.count)},e.groupByGroup=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:r,cost:i,lensName:o="",bundleInfo:s=a.g.none})=>(void 0===e[o]&&(e[o]={group:t,category:n,categoryHuman:r,count:0,lensName:o,bundleInfo:s}),e[o].count+=i,e),{})).sort((e,t)=>t.count-e.count)},e.groupByBundleInfo=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:r,cost:o,lensName:s="",bundleInfo:c=a.g.none})=>{const l=Object(i.pipe)(c,a.g.getOrElse(()=>r));return void 0===e[l]&&(e[l]={group:t,category:n,categoryHuman:r,count:0,lensName:s,bundleInfo:c}),e[l].count+=o,e},{})).sort((e,t)=>t.count-e.count)}}(r||(r={}))},XVhX:function(e,t,n){"use strict";n.d(t,"a",(function(){return jt}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("OwvP"),d=n("CRC+"),p=n("ySi0"),m=n("fC5a"),f=n("TKPA"),h=n("mgiE"),g=n("0kuo"),b=n("2swC"),v=n("M3t0"),y=n("NDcT"),O=n("ldOx"),_=n("jY3z"),C=n("4lxU"),w=n("wuWi"),S=n("nWMp"),k=n("yIk2"),E=n("xk6L"),j=n("ZDrO"),x=n("7IMz"),A=n("SOPW"),I=n("itj6"),T=n("eAYH"),M=n("KH+i"),P=n("cqTd"),N=n("CBmo"),B=n("TXN2"),L=n("jEie");(r||(r={})).Full=({card:e,actions:t,isChecking:n})=>o.createElement(N.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:I.b.Type.alertCardShow,cardType:I.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(L.b)(e.renderOptions),body:o.createElement(B.j,{card:e,actions:t,isChecking:n}),mainActions:o.createElement(B.e,{card:e,feedbackActions:t}),footer:o.createElement(B.g,{card:e}),subActions:o.createElement(m.a.Primary,{href:e.activeAlert.knowledgeHubTermCreationUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>t.next({type:I.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},o.createElement(p.d.New,null),"Add term"),extra:o.createElement(B.b,{card:e,actions:t})});var F=n("RRF2"),R=n("111I"),D=n("Hj2R"),H=n("cZ4c"),V=n("SNOG"),U=n("9bwL");const W=({card:e,actions:t,disabled:n})=>Object(B.v)(e.activeAlert,e.renderOptions.layoutDensity)?o.createElement(U.a,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,z=R.b.Grid.make(({slots:e,state:t,notify:n})=>o.createElement(u.a.Fragment,null,t.pipe(E.a.map(t=>o.createElement(B.r,{card:t,actions:{next:e=>n(e)(),error:s.constVoid,complete:s.constVoid},isChecking:E.a.of(!1),isCheckingGlobal:E.a.of(!1),cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,e.body)),cardTheme:{contentBody:G.contentBody}}))))),G=S.a.stylesheet({contentBody:[{paddingLeft:0}]}),q=R.b.Knot.make(z,{body:R.b.Node.make(()=>{const e=o.useContext(y.a.Context);return o.createElement("div",{className:Z.container},o.createElement(V.a,{theme:{container:Z.animation}}),o.createElement(w.a,{className:Z.label},e.card.shortenIt.loadingLabel))})}),K={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:S.a.rem(.25)},$={paddingLeft:S.a.rem(.5)},Z=S.a.stylesheet({container:[K],animation:[{transform:"scale(.7)"}],label:[$]}),Y=(e,t)=>R.a.composeKnot({body:Object(s.constant)(E.a.of(null)),root:R.a.fromSideEffect(e=>{t.next(e)},e)}),X=R.b.Knot.make(z,{body:R.b.Node.make(()=>{const e=o.useContext(y.a.Context);return o.createElement("div",{className:ee.container},o.createElement(p.d.ValidationOk,null),o.createElement(w.a,{className:ee.label},e.card.shortenIt.notFoundLabel))})}),Q={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:S.a.rem(.25)},J={paddingLeft:S.a.rem(.5)},ee=S.a.stylesheet({container:[Q],label:[J]}),te=(e,t)=>R.a.composeKnot({body:Object(s.constant)(E.a.of(null)),root:R.a.fromSideEffect(e=>{t.next(e)},e)});var ne=n("vGXj"),re=n("NbNH"),ie=n("zK/v"),ae=n("L8Yl"),oe=n("fB2g");const se=R.b.Node.make(({state:e})=>o.createElement(u.a.Fragment,null,e.pipe(E.a.map(({collapsed:e,text:t})=>e?o.createElement("span",{className:Ae.shortenItCollapsedDelete},o.createElement(p.d.EllipsisSmall,{width:13,className:Ae.shortenItCollapsedIcon})):o.createElement("span",{className:Ae.shortenItDelete},t))))),ce=/^\W/,le=R.b.Node.make(({state:e})=>o.createElement(u.a.span,{className:e.pipe(E.a.map(e=>ce.test(e.text)?Ae.shortenItInsertPunctuation:Ae.shortenItInsert))},e.pipe(E.a.map(e=>e.text)))),ue=R.b.Node.make(({state:e})=>o.createElement(u.a.span,null,e.pipe(E.a.map(e=>e.text)))),de=R.b.Union.make("kind",{insert:le,delete:se,text:ue}),pe=R.b.Grid.make(({slots:e,state:t,notify:n})=>{const r=o.useContext(y.a.Context).card.shortenIt.collapsedButtonTooltip;return o.createElement(u.a.Fragment,null,t.pipe(E.a.map(({isReviewableGroup:t,isInReview:i,group:a})=>Object(s.pipe)(a,h.g.filter(()=>t),h.g.fold(()=>e.parts,t=>i?o.createElement("span",{ref:e=>{e&&Object(s.pipe)(h.g.fromNullable(e.offsetParent),h.g.map(e=>e.getBoundingClientRect()),h.g.tap(r=>{const i=e.getBoundingClientRect();n({kind:"editGroupExpanded",group:t,offsetRect:{width:i.width,height:i.height,top:i.top-r.top,left:i.left-r.left},offsetParentSize:{width:r.width,height:r.height}})()}))},className:Ae.shortenItEditGroupExpanded},e.parts):o.createElement(m.a,{name:"shorten-it-review-change",className:Ae.shortenItEditGroupButton,animationMode:ie.a.FromClickPoint,title:r,"aria-label":r,tag:ae.b.div,onClick:n({kind:"reviewEdit",group:t})},e.parts))))))}),me=R.b.Knot.make(pe,{parts:R.b.List.make(h.a.array,de)}),fe=R.b.List.make(h.a.array,me),he=R.b.Grid.make(({slots:e,state:t})=>o.createElement(w.a,{className:t.pipe(E.a.map(e=>Object(s.pipe)(e,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>Ae.minimalShortenItBackground,()=>Ae.shortenItBackground))))},e.labels)),ge=R.b.Knot.make(he,{labels:fe}),be="cards-replacements_labels-",ve={shortenItBackground:be+"shortenItBackground",minimalShortenItBackground:be+"minimalShortenItBackground",shortenItDelete:be+"shortenItDelete",shortenItInsert:be+"shortenItInsert",shortenItInsertPunctuation:be+"shortenItInsertPunctuation",shortenItEditGroupButton:be+"shortenItEditGroupButton",shortenItEditGroupExpanded:be+"shortenItEditGroupExpanded",shortenItCollapsedDelete:be+"shortenItCollapsedDelete",shortenItCollapsedDeleteButton:be+"shortenItCollapsedDeleteButton",shortenItCollapsedIcon:be+"shortenItCollapsedIcon"},ye={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:S.a.rem(1)+" 0",color:b.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${re.e}, ${re.f}`},Oe={color:b.a.CoreRed50,textDecoration:"line-through",fontWeight:400},_e={color:b.a.CoreBlue60,fontWeight:600},Ce={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${S.a.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:S.a.rem(re.t)},we=Object(a._)(Object(i._)({},Ce),{backgroundColor:b.a.CoreNeutral1,borderColor:b.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:b.a.CoreBlue10,borderColor:b.a.CoreBlue10}}}),Se=Object(a._)(Object(i._)({},Ce),{backgroundColor:b.a.CoreBlue10,borderColor:b.a.CoreBlue10,position:"relative"}),ke={display:"inline-block",width:S.a.rem(1),lineHeight:S.a.rem(.625),height:S.a.rem(.625),margin:"0 "+S.a.rem(.25),verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:S.a.rem(re.u)},Ee=Object(i._)({},ke),je=Object(a._)(Object(i._)({},ke),{backgroundColor:b.a.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:b.a.CoreBlue10}}}),xe={minWidth:"unset",minHeight:"unset",paddingBottom:S.a.rem(.125),fill:b.a.CoreBlue60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:b.a.CoreNeutral50}}},Ae={shortenItBackground:S.a.joinClasses([ve.shortenItBackground,S.a.style(ye),oe.a.style(ye)]),minimalShortenItBackground:S.a.joinClasses([ve.minimalShortenItBackground,S.a.style(ye,{lineHeight:S.a.rem(1.3125)}),oe.a.style(ye,{lineHeight:S.a.rem(1.3125)})]),shortenItDelete:S.a.joinClasses([ve.shortenItDelete,S.a.style(Oe),oe.a.style(Oe)]),shortenItInsert:S.a.joinClasses([ve.shortenItInsert,S.a.style(_e),oe.a.style(_e)]),shortenItInsertPunctuation:S.a.joinClasses([ve.shortenItInsertPunctuation,S.a.style(_e),oe.a.style(_e)]),shortenItEditGroupButton:S.a.joinClasses([ve.shortenItEditGroupButton,S.a.style(we),oe.a.style(we)]),shortenItEditGroupExpanded:S.a.joinClasses([ve.shortenItEditGroupExpanded,S.a.style(Se),oe.a.style(Se)]),shortenItCollapsedDelete:S.a.joinClasses([ve.shortenItCollapsedDelete,S.a.style(Ee),oe.a.style(Ee)]),shortenItCollapsedDeleteButton:S.a.joinClasses([ve.shortenItCollapsedDeleteButton,S.a.style(je),oe.a.style(je)]),shortenItCollapsedIcon:S.a.joinClasses([ve.shortenItCollapsedIcon,S.a.style(xe),oe.a.style(xe)])};S.a.cssRule(`.${ve.shortenItDelete} + .${ve.shortenItInsert}`,{marginLeft:S.a.rem(.25)});const Ie=R.b.Grid.make(({state:e,view:t,notify:n,slots:r})=>{const c=o.useContext(y.a.Context),d=Object(a._)(Object(i._)({},k.b.noopObserver()),{next:e=>n(e)()}),p=x.a.useMemoOnDidMount(()=>l.a.create(!1));return x.a.useSubscriptionTo(t("transformHidden").pipe(E.a.tap(k.b.toAtom(p)))),o.createElement(u.a.Fragment,null,e.pipe(E.a.map(({item:e})=>o.createElement(N.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:n({type:I.b.Type.alertCardShow,cardType:I.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:n({type:I.b.Type.hover,kind:"unhover",id:e.id}),onMouseOver:n({type:I.b.Type.hover,kind:"hover",id:e.id}),theme:Object(i._)({content:t("isCheckingGlobal").pipe(E.a.map(Object(f.c)(He.loadingWrapperInvisible,He.loadingWrapper)))},Object(L.b)(e.renderOptions)),mainActions:o.createElement(B.e,{card:e,feedbackActions:d}),subActions:o.createElement(W,{card:e,actions:d}),body:o.createElement(o.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions,badge:o.createElement(_.a.Regular,null,c.beta)}),Object(s.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(B.f,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:s.constVoid,complete:s.constVoid},layoutDensity:e.renderOptions.layoutDensity}))),o.createElement(u.a.div,{className:t("transformHidden").pipe(E.a.map(Object(f.c)(He.transformHidden,void 0)))},r.transform)),footer:o.createElement(o.Fragment,null,o.createElement(B.g,{card:e}),o.createElement(u.a.div,{className:He.footerBtns},o.createElement(B.q,{className:He.applyButton,spinnerClassName:He.applyButtonSpinner,messageClassName:He.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:c.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:p,onClick:j.d.callOnce(n({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)}))}))),extra:o.createElement(B.c,{isChecking:t("isCheckingGlobal")})}))))}),Te=R.b.Grid.make(({slots:e,state:t,notify:n})=>{const r=o.useContext(y.a.Context).card.shortenIt,{ref:c,onMount:l}=x.a.useElWatcher(),d=E.b.compact(t).pipe(E.a.map(e=>e.group),E.a.distinctUntilChanged(),E.a.switchMap(e=>c.pipe(E.b.compactMap(t=>k.a.getResizeObservable(t).pipe(E.a.map(()=>({width:t.clientWidth,height:t.clientHeight})),E.a.startWith({width:t.clientWidth,height:t.clientHeight}),E.a.distinctUntilChanged(F.c.Box.eq.equals),E.a.tap(t=>n(Object(a._)(Object(i._)({kind:"editPopupSize"},t),{group:e}))()))))));return x.a.useSubscriptionTo(d),o.createElement(u.a.div,{className:He.editPopupContainer},e.replacementLabels,t.pipe(E.a.map(h.g.fold(s.constNull,e=>{var{group:t}=e,i=Object(ne._)(e,["group"]);return o.createElement(u.a.div,{className:He.editPopup,style:"withPosition"===i.kind?{transform:`translate(${i.left}px, ${i.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===i.kind?{visibility:"hidden",opacity:0}:Object(g.c)(i),mount:l},o.createElement(m.a.Primary,{name:"shorten-it-keep-change",onClick:n({kind:"keepEdit",group:t})},r.editPopupKeepButtonLabel),o.createElement(m.a.Tertiary,{name:"shorten-it-dismiss-change",onClick:n({kind:"dismissEdit",group:t})},r.editPopupDismissButtonLabel))}))))}),Me=R.b.Knot.make(Te,{replacementLabels:ge}),Pe=R.b.Knot.make(Ie,{transform:Me}),Ne={padding:"0 "+S.a.rem(1)},Be={display:"flex",flexDirection:"row",padding:S.a.rem(.25),position:"absolute",backgroundColor:b.a.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:S.a.rem(re.t),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},Le={$nest:{"&[data-disabled='true']":{backgroundColor:b.a.CoreNeutral10,color:b.a.CoreNeutral40}}},Fe={$nest:{"& circle":{stroke:b.a.CoreNeutral40}}},Re={paddingRight:S.a.rem(.25)},De={transition:"opacity "+S.a.seconds(B.t)},He=S.a.stylesheet({loadingWrapper:[De],loadingWrapperInvisible:[De,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[Ne],editPopupContainer:[{position:"relative"}],editPopup:[Be],applyButton:[Le],applyButtonSpinner:[Fe],applyButtonMessage:[Re],transformHidden:[{pointerEvents:"none",opacity:.5}]});var Ve=n("yQCL");const Ue=(e,t,n)=>R.a.composeKnot({root:R.a.fromSideEffect(s.constVoid,e.pipe(E.a.map(e=>e.renderOptions.layoutDensity))),labels:r=>E.a.mergeStatic(r.pipe(E.a.withLatestFrom(e),E.a.tap(([e,r])=>{const o=e.action.action;switch(o.kind){case"reviewEdit":t.set(h.g.some({groupId:o.group,expandedEdit:h.g.none,popupSize:h.g.none,popupPosition:h.g.none})),n.next({type:I.b.Type.shortenItReviewEdit,alertId:r.activeAlert.id,itemId:r.id,group:o.group});break;case"editGroupExpanded":t.set(Object(s.pipe)(t.get(),h.g.filter(e=>e.groupId===o.group),h.g.fold(()=>h.g.some({groupId:o.group,popupSize:h.g.none,popupPosition:h.g.none,expandedEdit:h.g.some({offsetRect:o.offsetRect,offsetParentSize:o.offsetParentSize})}),e=>h.g.some(Object(a._)(Object(i._)({},e),{expandedEdit:h.g.some({offsetRect:o.offsetRect,offsetParentSize:o.offsetParentSize})})))));break;default:Object(g.c)(o)}}),E.a.switchMap(()=>E.a.NEVER)),E.a.sequenceS({item:e,editsInReview:t}).pipe(E.a.map(({item:e,editsInReview:t})=>Object(s.pipe)(e.transform,h.g.filter(H.j.isShortenIt),h.g.map(F.e.pick("labels")),h.g.map(t=>Object(s.pipe)(t,h.a.filterMap(t=>Object(s.pipe)(t.group,h.g.fold(s.constFalse,t=>e.activeAlert.dismissedTransformGroups.has(t)))?t.type===H.k.Delete?h.g.some(Object(a._)(Object(i._)({},t),{type:H.k.Text})):t.type===H.k.Insert?h.g.none:h.g.some(t):h.g.some(t)))),h.g.fold(()=>[],Object(s.flow)(h.a.reduce([],(e,n)=>{var r;const i=n.type===H.k.Delete?{kind:n.type,text:n.text,collapsed:Object(s.pipe)(n.group,h.g.fold(()=>null!==(r=n.shouldBeCollapsed)&&void 0!==r&&r,e=>!Object(s.pipe)(t,h.g.exists(t=>t.groupId===e)))),group:n.group}:n.type===H.k.Insert||n.type===H.k.Text?{kind:n.type,text:n.text,group:n.group}:Object(g.c)(n);return e.length>0&&h.g.getEq(h.c.eqString).equals(e[e.length-1].group,n.group)&&h.g.isSome(n.group)?e.slice(0,-1).concat({group:n.group,parts:e[e.length-1].parts.concat(i)}):e.concat({group:n.group,parts:[i]})}),h.a.map(e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==H.k.Text,isInReview:Object(s.pipe)(e.group,h.g.fold(s.constFalse,e=>Object(s.pipe)(t,h.g.exists(t=>t.groupId===e)))),group:Object(s.pipe)(e.parts.map(e=>e.group),Object(Ve.fold)(h.g.getFirstMonoid()))},parts:e.parts}))))))))}),We=(e,t,n,r,i,a)=>R.a.composeKnot({root:r=>E.a.mergeStatic(r.pipe(E.a.tap(e=>{e.type===I.b.Type.hover&&a.next("hover"===e.kind),n.next(e)}),E.a.switchMap(()=>E.a.NEVER)),E.a.sequenceS({item:e,isCheckingGlobal:t,transformHidden:i})),transform:R.a.composeKnot({root:ze(e,r,n),replacementLabels:Ue(e,r,n)})});const ze=(e,t,n)=>r=>E.a.mergeStatic(r.pipe(E.a.withLatestFrom(e),E.a.tap(([e,r])=>{"editPopupSize"===e.kind?t.set(Object(s.pipe)(t.get(),h.g.filter(t=>t.groupId===e.group),h.g.fold(()=>h.g.some({groupId:e.group,expandedEdit:h.g.none,popupPosition:h.g.none,popupSize:h.g.some({width:e.width,height:e.height})}),t=>h.g.some(Object(a._)(Object(i._)({},t),{popupSize:h.g.some({width:e.width,height:e.height})}))))):function(e,t,n,r){switch(n.set(Object(s.pipe)(n.get(),h.g.filter(e=>e.groupId!==t.group))),t.kind){case"dismissEdit":r.next({type:I.b.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&r.next({type:I.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:A.a.isEligibleForDismissSurvey(e)});break;case"keepEdit":r.next({type:I.b.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:Object(g.c)(t.kind)}}(r,e,t,n)}),E.a.switchMap(()=>E.a.NEVER)),t.view(h.g.chain(e=>Object(s.pipe)(e.expandedEdit,h.g.map(t=>Object(s.pipe)(e.popupSize,h.g.fold(()=>({kind:"withoutPosition",group:e.groupId}),n=>Object(i._)({kind:"withPosition",group:e.groupId},function(e,t,n=-10){const r=t.offsetRect.top+t.offsetRect.height,i=t.offsetRect.left+n;if(i+e.width>t.offsetParentSize.width)return{top:r,left:t.offsetParentSize.width-e.width};return{top:r,left:i}}(n,t)))))))));const Ge={loading:q,summary:Pe,notFound:X},qe=R.b.Union.make("kind",Ge),Ke=e=>e.pipe(E.a.map(e=>{const t=e.activeAlert.summaryState,n=h.g.fold(s.constFalse,H.j.isShortenIt)(e.transform);switch(t){case D.j.SummaryState.notFound:return{kind:"notFound"};case D.j.SummaryState.notRequested:return{kind:"loading"};case D.j.SummaryState.requestSent:return n?{kind:"summary"}:{kind:"loading"};case D.j.SummaryState.invalidated:case D.j.SummaryState.received:return{kind:"summary"};default:Object(g.c)(t)}}));var $e;($e||($e={})).Full=e=>{const t=x.a.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:r}=function(e,t,n){const r=x.a.useAtomOf({isWaiting:e.activeAlert.summaryState===D.j.SummaryState.requestSent||e.activeAlert.summaryState===D.j.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return x.a.useMemoOnDidMount(()=>({isChecking:E.a.combineLatestStatic([t,r]).pipe(E.a.map(([e,t])=>e||t.isWaiting&&t.cardIsOpen),E.a.distinctUntilChanged()),isCheckingGlobal:E.a.combineLatestStatic([n,r]).pipe(E.a.map(([e,t])=>e||t.isWaiting&&!t.cardIsOpen),E.a.distinctUntilChanged())}))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:i,isMouseInside:a}=Object(B.z)(n),c=x.a.useMemoOnDidMount(()=>l.a.create(h.g.none)),u=x.a.useMemoOnDidMount(()=>t.pipe(E.a.map(Object(s.flow)(F.e.pick("transform"),h.g.filter(H.j.isShortenIt))),E.a.skipBy(h.g.getEq(H.j.ShortenIt.eq)),E.a.map(()=>h.g.none),E.a.tap(k.b.toAtom(c))));return x.a.useSubscriptionTo(u),o.createElement(o.Fragment,null,R.b.mount(qe,((e,t,n,r,i,a)=>R.a.composeUnion({loading:Y(e,n),notFound:te(e,n),summary:We(e,t,n,r,i,a)},()=>Ke(e)))(t,r,e.actions,c,i,a)))};var Ze=n("eveZ");const Ye=({card:e,actions:t})=>{const n=o.useContext(y.a.Context),r=h.g.isNone(e.activeAlert.takeawayFeedback)?n.card.takeaway.defaultTitle:e.activeAlert.title,i=h.g.fromNullable(e.activeAlert.highlightTexts[0]),a=Object(c.pipe)(e.activeAlert,h.g.fromPredicate(e=>!e.takeawayIsLikelyToBeRead&&h.g.contains(D.n.correctlyDetected)(e.takeawayFeedback)),h.g.map(()=>e.meta.explanation));return o.createElement(o.Fragment,null,Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions},o.createElement(B.o,{text:A.a.miniTitle(e,n)})),()=>o.createElement(o.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(B.n,{text:r})))),Object(c.pipe)(i,h.g.fold(s.constNull,t=>o.createElement(B.h,{text:t,layoutDensity:e.renderOptions.layoutDensity}))),Object(c.pipe)(a,h.g.fold(s.constNull,n=>o.createElement(B.f,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))};var Xe;const Qe=({card:e,feedbackActions:t})=>o.createElement(o.Fragment,null,o.createElement(m.a.Ghost,{name:"takeaway-like",onClick:j.d.callOnce(()=>t.next({type:I.b.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(Xe=e.activeAlert.highlightTexts[0])&&void 0!==Xe?Xe:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},o.createElement(p.d.YesCircle,null)," Yes"),o.createElement(m.a.Ghost,{name:"takeaway-dislike",onClick:j.d.callOnce(()=>t.next({type:I.b.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id}))},o.createElement(p.d.NoCircle,null)," No")),Je=({card:e,feedbackActions:t})=>{const n=o.useContext(y.a.Context);return o.createElement(o.Fragment,null,o.createElement(m.a.Ghost,{name:"resolve",title:n.resolve,"aria-label":n.resolveLabel,onClick:j.d.callOnce(()=>t.next({type:I.b.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},o.createElement(p.d.YesCircle,null)),o.createElement(m.a.Ghost,{name:"ignore",title:n.dismiss,"aria-label":n.dismiss,onClick:j.d.callOnce(()=>t.next({type:I.b.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},o.createElement(p.d.Ignore,null)))};function et(e){return!h.g.isNone(e.takeawayFeedback)&&!(!h.g.isSome(e.examples)&&!h.g.isSome(e.details))}var tt;(tt||(tt={})).Full=({card:e,actions:t})=>{return o.createElement(N.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:I.b.Type.alertCardShow,cardType:I.b.getCardType(e),alertId:e.activeAlert.id}),theme:(n=e.renderOptions,Object(a._)(Object(i._)({},Object(L.a)(n.layoutDensity)),{wrapper:Object(c.pipe)(n.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>rt.minimalCardWrapper,()=>{}))})),body:o.createElement(Ye,{card:e,actions:t}),mainActions:h.g.isNone(e.activeAlert.takeawayFeedback)?o.createElement(Qe,{card:e,feedbackActions:t}):o.createElement(Je,{card:e,feedbackActions:t}),footer:et(e.activeAlert)?o.createElement(B.g,{card:e}):null,subActions:et(e.activeAlert)?o.createElement(U.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});var n};const nt={padding:`${S.a.rem(.75)} ${S.a.rem(.5)} ${S.a.rem(.5)} ${S.a.rem(1)}`},rt=S.a.stylesheet({minimalCardWrapper:[nt]});var it=n("vLu/"),at=n("JRBS"),ot=n("4GyQ");const st=e=>S.a.style({textDecoration:"line-through",color:e,fontWeight:"bold"}),ct=e=>S.a.style({fontWeight:"bold",padding:`${S.a.rem(.0625)} ${S.a.rem(.21875)} ${S.a.rem(.0625)} ${S.a.rem(.21875)}`,border:"1px solid "+e,borderRadius:S.a.rem(.125),color:e}),lt=S.a.style({fontSize:S.a.rem(.875),letterSpacing:"0px",lineHeight:S.a.rem(1.3125),padding:S.a.rem(.15625)+" 0"}),ut=S.a.style({fontWeight:"bold",padding:`${S.a.rem(.0625)} ${S.a.rem(.21875)} ${S.a.rem(.0625)} ${S.a.rem(.21875)}`,borderRadius:S.a.rem(.125),color:S.d.CoreNeutral50,background:S.d.CoreNeutral10}),dt=S.a.style({fontStyle:"italic"}),pt=[ut,lt],mt=/[\d\w&]/,ft=e=>1===e.length&&!mt.test(e),ht=(e,t,n)=>(r,i,a)=>{const o=a[i-1];switch(r.type){case"insert":return e(r,i,o);case"delete":return t(r,i,o);case"text":return n(r,i,o);default:throw new Error("Unexpected citation alert transform part:"+JSON.stringify(r))}},gt=(e,t)=>{var n;return"text"===(null===(n=t)||void 0===n?void 0:n.type)?null:o.createElement("span",{key:"s"+e,className:lt}," ")},bt=e=>o.createElement(o.Fragment,null,e.replacement.labels.map(e.isCitationGap?ht((e,t,n)=>o.createElement(o.Fragment,{key:t},gt(t,n),o.createElement("span",Object(a._)(Object(i._)({},Object(ot.c)(...pt)),{key:t}),e.text)),(e,t)=>o.createElement(o.Fragment,{key:t}),(e,t)=>o.createElement("span",{key:t,className:lt},e.text)):ht((e,t,n)=>{return o.createElement(o.Fragment,{key:t},gt(t,n),o.createElement("span",Object(i._)({key:t},Object(ot.c)(...(r=e.text,[ft(r)?ct(S.d.CoreBlue50):(a=S.d.CoreBlue50,S.a.style({color:a,fontWeight:"bold"})),lt,dt]))),e.text));var r,a},(e,t,n)=>{return o.createElement(o.Fragment,{key:t},gt(t,n),o.createElement("span",Object(i._)({key:t},Object(ot.c)(...(r=e.text,ft(r)?[ct(S.d.CoreRed50),(a=S.d.CoreRed50,S.a.style({backgroundImage:`linear-gradient(to top left,\n        rgba(0,0,0,0) 0%,\n        rgba(0,0,0,0) calc(50% - 0.5px),\n        ${a} 50%,\n        rgba(0,0,0,0) calc(50% + 0.5px),\n        rgba(0,0,0,0) 100%)`})),lt,dt]:[st(S.d.CoreRed50),lt,dt]))),e.text));var r,a},(t,n)=>o.createElement("span",Object(i._)({key:n},Object(ot.c)(lt,("italic"===t.style||!e.isCitationItalicization)&&dt)),t.text)))),vt=({transformHidden:e})=>{const t=o.useContext(y.a.Context);return o.createElement(w.j,{"aria-hidden":k.b.invert(e),className:e.pipe(E.a.map(Object(f.c)(Pt.transformHint,Pt.transformHintInvisible)))},t.card.updatingSuggestion)},yt=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const i=o.useContext(y.a.Context);return o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:Object(s.constant)(o.createElement(B.j,{card:e,actions:t,isChecking:n})),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(B.g,{card:e}),o.createElement("div",{className:Pt.fullSentenceCardFooterBtns},o.createElement(B.q,{title:i.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:j.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:I.b.getCardType(e)})})})))})},Ot=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i})=>{const a=o.useContext(y.a.Context),d=l.a.create(!0);return x.a.useSubscriptionTo(Object(c.pipe)(d,E.a.skip(1),E.a.tap(e=>t.next({type:I.b.Type.fullSentenceHighlightChangesToggle,showChanges:e})))),o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))),o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:d.pipe(E.a.combineLatest(i,(t,n)=>Object(c.pipe)(n,h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null),n=>o.createElement(at.c,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast)})))))}),o.createElement(B.k,{card:e,isChecking:n}))),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(B.g,{card:e}),o.createElement(u.a.div,{className:Pt.fullSentenceCardFooterBtns},o.createElement(B.q,{title:i.pipe(E.a.map(h.g.fold(()=>"",e=>a.card.todoAction(e.tooltipText)))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:j.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)})})}),o.createElement(C.a,{className:Pt.fullSentenceCardCheckbox,checked:d,name:"set-goals"},a.card.showChangesToggle)))})},_t=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i})=>{const a=o.useContext(y.a.Context),l=Object(c.pipe)(e.activeAlert.extraProperties.citationGap,h.g.contains(!0)),d=Object(c.pipe)(e.activeAlert.extraProperties.citationItalicization,h.g.contains(!0));return o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity,className:Nt.description}))),o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:i.pipe(E.a.map(e=>o.createElement(bt,{replacement:e.value,isCitationGap:l,isCitationItalicization:d})))}),o.createElement(B.k,{card:e,isChecking:n}))),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(B.g,{card:e}),o.createElement(u.a.div,{className:Pt.fullSentenceCardFooterBtns},!l&&o.createElement(B.q,{title:a.card.todoAction(e.activeAlert.todoAction),applyMessage:"Reformat",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:j.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)})})})))})},Ct=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i})=>{const a=Object(c.pipe)(e.userInput,h.g.getOrElse(Object(s.constant)("")));return o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:r=>o.createElement(o.Fragment,{key:"content"},o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),o.createElement(u.a.div,{className:r.pipe(E.a.map(Object(f.c)(Pt.transformContainerInvisible,Pt.transformContainer)))},o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:i.pipe(E.a.map(h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>o.createElement(at.e,{key:"label",gapValue:a,replacements:n,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast),onFocus:()=>t.next({type:I.b.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:I.b.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:j.d.callOnce(()=>t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)}))}))))})),o.createElement(vt,{transformHidden:r}),o.createElement(B.k,{card:e,isChecking:n}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(s.constant)(o.createElement(B.g,{card:e}))})},wt=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{Object(g.f)(h.g.isSome(e.activeAlert.extraProperties.citationDetection),"Should contain citation detection");const i=o.useContext(y.a.Context),a=l.a.create(h.g.unsafeGet(e.activeAlert.extraProperties.citationDetection));return o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:Object(s.constant)(o.createElement(u.a.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(xt,{isNew:e.renderOptions.isNew,actions:t}),o.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),o.createElement("div",{className:Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.cozy)(()=>Bt.dropdownContainer,()=>Bt.minimalDropdownContainer))},o.createElement(d.a,{name:"citationStyle",label:o.createElement(u.a.div,null,a.pipe(E.a.map(e=>o.createElement("span",{className:Bt.dropdownLabel,key:e},i.citation.essayDetectionCard.dropdownOptions[e],o.createElement(p.d.TriangleArrow,{className:Bt.arrowIcon})))))},Object.entries(i.citation.essayDetectionCard.dropdownOptions).map(([t,n])=>o.createElement(m.a.Flat,{key:t,name:t,onClick:()=>a.set(t),textPosition:"right"},a.pipe(E.a.map(e=>t===e?o.createElement(p.d.DocumentSettings.Selected,null):o.createElement("div",{className:Bt.placeholder}))),n,void 0!==i.citation.essayDetectionCard.examples[t]&&Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.cozy)(()=>o.createElement("span",{className:Bt.example},i.citation.essayDetectionCard.examples[t]),()=>null)))))),o.createElement(B.k,{card:e,isChecking:n}))),cardFooter:n=>o.createElement(o.Fragment,null,o.createElement(B.g,{card:e}),o.createElement(u.a.div,{className:Pt.fullSentenceCardFooterBtns},o.createElement(B.q,{title:i.card.todoAction(e.activeAlert.todoAction),applyMessage:"Set style",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:j.d.callOnce(()=>{t.next({type:I.c.Kind.setAcademicDomainAndCitationStyle,citationStyle:a.get(),id:e.id}),t.next({type:I.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})})})))})},St=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i})=>{const a=o.useContext(y.a.Context);return o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:r=>o.createElement(o.Fragment,null,o.createElement(u.a.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions,badge:o.createElement(_.a.Regular,{a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast)},a.beta)})),o.createElement(u.a.div,{className:r.pipe(E.a.map(Object(f.c)(Pt.transformContainerInvisible,Pt.transformContainer)))},o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:i.pipe(E.a.map(h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>{const r=Object(c.pipe)(e.synfonySelection,h.g.getOrElse(()=>[]));return o.createElement(at.b,{replacements:n,onClick:n=>j.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:I.b.getCardType(e),id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),drilldownSuggestionIds:r})}),onDive:(n,i)=>t.next({type:I.f.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:i,drilldownSuggestionIds:r}),onBack:()=>t.next({type:I.f.Kind.back,cardId:e.id}),selection:r,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast)})})))})),o.createElement(vt,{transformHidden:r}),o.createElement(B.k,{card:e,isChecking:n}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(s.constant)(o.createElement(B.g,{card:e}))})},kt=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,transform:i})=>o.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:r=>o.createElement(o.Fragment,null,o.createElement(B.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(u.a.div,{className:r.pipe(E.a.map(Object(f.c)(Pt.transformContainerInvisible,Pt.transformContainer)))},o.createElement(O.b,{classes:{rendered:Pt.replacement,removing:Pt.replacementHidden},timeout:250,content:i.pipe(E.a.map(h.g.fold(()=>(v.d.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>o.createElement(B.l,{rl:n,onClick:n=>j.d.callOnce(()=>{t.next({type:I.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:A.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:A.a.isEligibleForGbPrompt(e),cardType:I.b.getCardType(e)})}),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(M.a.Features.a11yContrast),showDemoDocOnboardingA11yUpdates:e.renderOptions.features.has(M.a.Features.showOnboardingTourA11yUpdates)}))))})),o.createElement(vt,{transformHidden:r}),o.createElement(B.k,{card:e,isChecking:n}),Object(c.pipe)(e.renderOptions.layoutDensity,M.a.Density.matchOrDefault(M.a.Density.minimal)(()=>null,()=>o.createElement(B.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(s.constant)(o.createElement(B.g,{card:e}))}),Et=e=>{var t,n,r;return o.createElement(B.r,Object(a._)(Object(i._)({},e),{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:Object(s.constant)(o.createElement(B.b,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:Object(s.constant)(o.createElement(B.e,{card:e.card,feedbackActions:e.actions})),subActions:null!==(r=e.subActions)&&void 0!==r?r:Object(s.constant)(o.createElement(B.m,{card:e.card,actions:e.actions}))}))},jt=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:a})=>T.b.isTakeawayItem(e)?o.createElement(tt.Full,{card:e,actions:t}):T.b.isShortenItItem(e)?o.createElement($e.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):T.b.isToneAIItem(e)?o.createElement(it.a.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):T.b.isEthicalAIItem(e)?o.createElement(P.a.Full,{card:e,actions:t,isChecking:n}):T.b.isSuggestedSnippetItem(e)?o.createElement(Ze.a.Full,{card:e,actions:t,isChecking:n}):T.b.isKnowledgeHubSuggestedTermItem(e)?o.createElement(r.Full,{card:e,actions:t,isChecking:n}):A.a.isCitationDetectionCard(e)?o.createElement(wt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):A.a.hasTransform(e)?A.a.hasFullSentenceTransform(e)?o.createElement(Ot,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:a}):A.a.hasCitationTransform(e)?o.createElement(_t,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:a}):A.a.hasOneGapTransform(e)?o.createElement(Ct,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:a}):A.a.hasSynfonyTransform(e)?o.createElement(St,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:a}):o.createElement(kt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:a}):A.a.isSimple(e)?o.createElement(yt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):o.createElement(B.s,{card:e,actions:t,isChecking:n}),xt=e=>o.createElement(u.a.Fragment,null,e.isNew.pipe(E.a.map(h.g.fold(s.constNull,t=>o.createElement(B.d,{type:t,actions:e.actions,key:"new-notification"}))),E.a.startWith(null))),At={transition:"opacity "+S.a.seconds(B.t),transitionDelay:S.a.seconds(B.t)},It={position:"absolute",top:S.a.rem(2),color:b.a.CoreNeutral40,lineHeight:S.a.rem(2),transition:"opacity "+S.a.seconds(B.t),transitionDelay:S.a.seconds(B.t)},Tt={transition:"opacity "+S.a.seconds(B.t)},Mt={fontSize:S.a.rem(b.h.BodySize),lineHeight:S.a.rem(2.0625)},Pt=Object(i._)({},S.a.stylesheet({invisible:[B.w],transformContainer:[At],transformContainerInvisible:[At,B.w,{transitionDelay:"initial"}],transformHint:[It],transformHintInvisible:[It,B.w,{transitionDelay:"initial"}],replacement:[Tt],replacementHidden:[Tt,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[Mt]})),Nt=S.a.prefixedStylesheet("withCitation",{description:[{$nest:{"& a":{backgroundImage:`repeating-linear-gradient(90deg, ${b.a.CoreBlue50}, ${b.a.CoreBlue50} 1px, transparent 1px, transparent 2px, ${b.a.CoreBlue50} 2px)`,backgroundSize:"100% 1px",backgroundPosition:"0 100%",backgroundRepeat:"no-repeat",borderBottom:"none",paddingBottom:S.a.px(1)}}}]}),Bt=S.a.prefixedStylesheet("withCitationDetection",{dropdownLabel:[{color:b.a.CoreBlue50,fontSize:S.a.rem(.875),fontWeight:700,lineHeight:S.a.rem(1.3125),cursor:"pointer"}],dropdownContainer:[{width:S.a.rem(18.75)}],minimalDropdownContainer:[{width:S.a.rem(10)}],arrowIcon:[{transform:"rotate(180deg)",position:"absolute",marginLeft:S.a.rem(-.5625),top:S.a.rem(-.34375),$nest:{"*":{fill:b.a.CoreBlue50}}}],placeholder:[{width:S.a.rem(2),margin:`0 ${S.a.rem(.25)} 0 0`}],example:[{display:"inline-block",marginLeft:"auto",marginRight:0,color:b.a.CoreNeutral50,fontStyle:"italic",fontSize:S.a.rem(.75),lineHeight:S.a.rem(2)}]})},XlqH:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var r=n("024v"),i=n("RRF2"),a=n("+3dY"),o=n("D2TP"),s=n("uxqH");function c(e){return`${e} ${i.f.pluralize(e,"alert","alerts")}`}const l=e=>(t,n,r,i)=>t?c(n.count):e(n,r,i),u=(e,t)=>(n,r,i)=>{const a=n.count;return a>0?c(a):i&v.IsDocumentEmpty?e:t},d={description:"Improves spelling, grammar, and punctuation.",stateMessage:l(u("No alerts","Looking good"))},p={description:"Helps make your writing easier to understand.",stateMessage:l((e,t,n)=>{const i=Object(a.a)(r.lt(s.a.ord))(t);if(n&v.IsDocumentEmpty)return"So far so good";if(e.count>0){if(s.a.isMin(t))return c(e.count);if(i(s.a.fromNumber(20)))return"Unclear";if(i(s.a.fromNumber(70)))return"A bit unclear";if(i(s.a.fromNumber(85)))return"Mostly clear";if(i(s.a.fromNumber(95)))return"Clear"}return"Very clear"})},m={description:"Helps make your writing more interesting and effective.",stateMessage:l((e,t,n)=>{const i=n&v.IsFreeUser,o=s.a.isMin(t),l=Object(a.a)(r.lt(s.a.ord))(t);if(n&v.IsDocumentEmpty||i&&o)return"Nothing yet";if(i||e.count>0){if(o)return c(e.count);if(l(s.a.fromNumber(20)))return"Bland";if(l(s.a.fromNumber(80)))return"A bit bland";if(l(s.a.fromNumber(95)))return"Engaging"}return"Very engaging"})},f={description:"Helps you make the right impression on your reader.",stateMessage:l((e,t,n)=>{const i=n&v.IsFreeUser,o=s.a.isMin(t),l=Object(a.a)(r.lt(s.a.ord))(t);if(n&v.IsDocumentEmpty||i&&o)return"Nothing yet";if(i||e.count>0){if(o)return c(e.count);if(l(s.a.fromNumber(20)))return"Serious issues";if(l(s.a.fromNumber(40)))return"Very off";if(l(s.a.fromNumber(95)))return"Slightly off"}return"Just right"})},h={description:"Your organization’s writing guidelines.",stateMessage:l(u("Nothing yet","All good"))},g={description:"Details on terms",stateMessage:l(u("Nothing yet","All good"))},b={[o.a.SpecialId.Correctness]:d,[o.a.SpecialId.Clarity]:p,[o.a.SpecialId.Engagement]:m,[o.a.SpecialId.Delivery]:f,[o.a.SpecialId.Vox]:h,[o.a.SpecialId.KnowledgeHub]:g,[o.a.SpecialId.Plagiarism]:{description:"Checks for similarities to published writing.",stateMessage:l((e,t,n)=>n&v.IsLensVisited&&!(n&v.IsDocumentEmpty)?n&v.IsLensActive?s.a.isMin(t)?"100% original":t+"% unoriginal":"Recheck":"Not checked yet")},[o.a.SpecialId.Premium]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:l((e,t,n)=>n&v.IsDocumentEmpty?"Advanced checks":`${e.count} more ${i.f.pluralize(e.count,"alert","alerts")}`)},[o.a.SpecialId.FreePremiumAlerts]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:l((e,t,n)=>n&v.IsDocumentEmpty?"Advanced checks":`${e.count} more ${i.f.pluralize(e.count,"alert","alerts")}`)}};var v;function y(e){return b[e]}!function(e){e[e.IsDocumentEmpty=1]="IsDocumentEmpty",e[e.IsLensActive=2]="IsLensActive",e[e.IsLensVisited=4]="IsLensVisited",e[e.IsFreeUser=8]="IsFreeUser"}(v||(v={}))},Xnm7:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("lKCo"),i=n("DTwm"),a=n("La5+"),o=n("xk6L"),s=n("yIk2"),c=n("+vYo"),l=n("nD6t"),u=n("mTue");class d{constructor(e,t){this._capiService=e,this._genAIFeaturesState=t,this._subs=new a.a.Keeper,this._availability=c.a.create({kind:u.a.Kind.pending,userSettings:{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}}),this.availability=this._availability.view(),this._subs.push(this._genAIFeaturesState.subscribe(e=>{this._availability.set(e.enabled?u.a.fromUserState(e.userState):{kind:u.a.Kind.unavailable,userSettings:{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}})})),this._subs.push(Object(i.pipe)(this._capiService.relevantInboundCAPIMessages,o.a.filter(l.a.CheetahInboundCAPIMessage.is),o.a.map(e=>{switch(e.action){case"cheetah:setUserState":return r.some(e.state);default:return r.none}}),o.b.compact,o.a.map(u.a.fromUserState)).subscribe(s.b.toAtom(this._availability))),this._subs.push(Object(i.pipe)(this._capiService.relevantInboundCAPIMessages,o.a.filter(l.a.CheetahInboundCAPIMessage.is),o.a.map(e=>{switch(e.action){case"cheetah:setContext":case"cheetah:result":return r.some(e.usage);default:return r.none}}),o.b.compact,o.a.map(e=>u.a.updateUsage(this._availability.get(),e))).subscribe(s.b.toAtom(this._availability)))}dispose(){this._subs.dispose()}}},Y5pM:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return _}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("OwvP"),l=n("4GyQ"),u=n("lXop"),d=n("fC5a"),p=n("zK/v"),m=n("ySi0"),f=n("mgiE"),h=n("0kuo"),g=n("NMQX"),b=n("OXKW"),v=(n("s96D"),n("Bf87")),y=(n("8sSv"),n("yMgh")),O=function(e){var t=e.viewModel;return a.createElement(c.a.div,{className:y.wrapper},a.createElement(d.a.Ghost,Object(i._)(Object(r._)({},Object(l.c)(v.toolbarBtn,y.toolbarBtn)),{name:"head",animationMode:p.a.FromCenter,title:t.head.title,active:t.head.active,onClick:t.head.onClick}),a.createElement(m.d.Formatting.Head,null)),t.visualState.view((function(e){return e===g.a.VisualState.Expanded&&a.createElement(C,{viewModel:t,theme:{panel:Object(l.c)(y.panel,y.panelAnimateIn).className,item:y.item,separator:y.separator}})})))},_=function(e){var t=e.viewModel;return a.createElement(C,{viewModel:t,theme:{panel:y.panelHorizontal,item:y.itemMini,itemIcon:y.iconMini,separator:y.verticalSeparator}})},C=function(e){var t=e.viewModel,n=e.theme;return a.createElement(c.a.div,{key:"formatting-wrapper",className:n.panel},t.list.map((function(e,t){return b.a.Item.isViewItem(e)?a.createElement(w,{theme:{itemClass:n.item,iconClass:n.itemIcon},key:t,item:e}):a.createElement("div",{key:t,className:n.separator})})))},w=function(e){var t=e.item,n=e.theme,r=k(t.name,n.iconClass);return a.createElement(d.a,{name:"rtfToolbar-".concat(t.name),title:a.createElement(S,{item:t,labelClass:r.labelClass}),titleAlign:"topCenter",active:t.active,className:n.itemClass,key:t.name,onClick:t.onClick,"aria-label":t.ariaLabel},r.icon)},S=function(e){var t=e.item,n=e.labelClass;return a.createElement("div",{className:y.tooltip},Object(s.pipe)(t.tooltip,f.g.fold(o.constNull,(function(e){return a.createElement("span",Object(l.c)(y.label,n),e)}))),Object(s.pipe)(t.nestedItem,f.g.fold(o.constNull,f.b.fold((function(e){return a.createElement("span",{className:y.hotkeyLabel},e)}),o.constVoid))))},k=function(e,t){switch(e){case u.e.Type.bold:return{icon:a.createElement(m.d.Formatting.Bold,{className:t}),labelClass:y.bold};case u.e.Type.italic:return{icon:a.createElement(m.d.Formatting.Italic,{className:t}),labelClass:y.italic};case u.e.Type.underline:return{icon:a.createElement(m.d.Formatting.Underline,{className:t}),labelClass:y.underline};case u.e.Type.header1:return{icon:a.createElement(m.d.Formatting.Header1,{className:t}),labelClass:y.h1};case u.e.Type.header2:return{icon:a.createElement(m.d.Formatting.Header2,{className:t}),labelClass:y.h2};case u.e.Type.link:return{icon:a.createElement(m.d.Formatting.Link,{className:t}),labelClass:y.link};case u.e.Type.bulletList:return{icon:a.createElement(m.d.Formatting.BulletList,{className:t})};case u.e.Type.orderedList:return{icon:a.createElement(m.d.Formatting.OrderedList,{className:t})};case"clear":return{icon:a.createElement(m.d.Formatting.Clear,{className:t})};default:return Object(h.c)(e)}}},"YGQ+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("0kuo");!function(e){let t;!function(e){e.initial="initial",e.initialBTS="initialBTS",e.history="history",e.prompts="prompts",e.review="review",e.rewrite="rewrite",e.knowledgeHub="knowledgeHub",e.references="references"}(t=e.StepName||(e.StepName={})),function(e){e.isAssistantOnboardingStep=function(t){switch(t){case e.prompts:case e.review:case e.knowledgeHub:case e.references:case e.history:return!0;case e.initial:case e.initialBTS:case e.rewrite:return!1;default:return Object(i.d)(t)}},e.isTooltipOnboardingStep=function(t){switch(t){case e.prompts:case e.review:case e.rewrite:case e.knowledgeHub:case e.references:case e.history:return!0;case e.initial:case e.initialBTS:return!1;default:return Object(i.d)(t)}}}(t=e.StepName||(e.StepName={}))}(r||(r={}))},YqdJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r,i,a=n("U9Go"),o=n("uwym"),s=n("1MDf");!function(e){let t;!function(e){e.ISO=Object(s.d)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(r||(r={})),function(e){let t,n,r;!function(e){e.ISO=Object(s.d)(),e.equals=Object(s.a)(a.g).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(s.d)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(s.d)()}(r=e.CardTop||(e.CardTop={}));var i=e.concatC=e=>t=>e+t;const c=e=>new o.a(e);e.converters=function(e,t,n){const r=c(i(n)).get,a=c(i(-e)).get;return{windowToViewport:c(i(-t)).get,viewportToWindow:c(i(t)).get,cardTopToViewport:a,viewportToCardTop:c(i(e)).get,absTopToViewportTop:e=>a(r(e)),absTopToCardTop:r}}}(i||(i={}))},YyPR:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("0Qjk"),s=n("La5+"),c=n("xk6L"),l=function(){function e(t,n,i,l){var u=this;Object(r.a)(this,e),Object(a._)(this,"_config",void 0),Object(a._)(this,"_obsCapiClient",void 0),Object(a._)(this,"_notificationsManager",void 0),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"_subs",void 0),this._config=t,this._obsCapiClient=n,this._notificationsManager=i,this._telemetry=l,this._subs=new s.a.Keeper,this._subs.push(this._obsCapiClient.events.pipe(c.a.filter(o.a.CAPIEvent.is("gb_rule_created")),c.a.tap((function(e){var t=e.categoryTitle,n=e.descriptionLength;"Vox"===t?u._telemetry.gnarSpec.gbPromptCreateVoxRuleSubmit(n,u._telemetry.pageId):u._telemetry.gnarSpec.gbPromptLockWritingStyleSettingSubmit(u._telemetry.pageId)})),c.a.switchMap((function(e){var t=e.categoryTitle,n=e.styleGuideId;return u._notificationsManager.enqueue("gbRuleCreated",{link:"Vox"===t?"".concat(u._config.account.styleGuide,"/").concat(n):"".concat(u._config.account.writingStyle,"?categoryTitle=").concat(t)})}))).subscribe())}return Object(i.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}}]),e}()},Z8fX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("Vv+i"),a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("4mQT"),l=n("8O/t"),u=n("X76w"),d=n("mMt2"),p=n("t5lx"),m=n("B8yO"),f=n("+vYo"),h=n("OwvP"),g=n("La5+"),b=n("xk6L"),v=n("mgiE"),y=n("RRF2"),O=n("yNCY"),_=n("5ioF"),C=n("M3t0");!function(e){e.getSelectionHOCs=function(e){return{withNeutralForSelection:function(t){return function(e,t){return function(n){Object(c.a)(h,n);var r=Object(p.a)(h);function h(){var e;return Object(a.a)(this,h),e=r.apply(this,arguments),Object(s._)(Object(i.a)(e),"_el",f.a.create(v.g.none)),Object(s._)(Object(i.a)(e),"_subs",new g.a.Keeper),Object(s._)(Object(i.a)(e),"_onMount",(function(t){e._el.set(v.g.fromNullable(t)),e.props.onMount&&t&&e.props.onMount(t)})),Object(s._)(Object(i.a)(e),"_neutralForSelection",(function(){return e._el.pipe(b.a.switchMap(v.g.fold((function(){return b.a.EMPTY}),(function(e){return b.a.mergeStatic(b.a.fromEvent(document,"mousedown").pipe(b.a.map((function(e){return e.target})),b.a.filter((function(t){return!(t===e||y.c.isParent(e,t))})),b.a.mapTo(!0)),b.a.fromEvent(document,"mouseup").pipe(b.a.mapTo(!1))).pipe(b.a.tap((function(t){e.style.pointerEvents=t?"none":"auto"})))})))).subscribe()})),Object(s._)(Object(i.a)(e),"_preventOnMouseMove",(function(){var n=f.a.create(!1);return[t.dontFreezeWhen(n,"prevent-focus"),e._el.pipe(b.a.switchMap(v.g.fold((function(){return b.a.EMPTY}),(function(e){return b.a.mergeStatic(b.a.fromEvent(e,"mousedown").pipe(b.a.mapTo(!0)),b.a.fromEvent(e,"mouseup").pipe(b.a.mapTo(!1)))}))),b.a.tap((function(e){return n.set(e)}))).subscribe()]})),e}return Object(o.a)(h,[{key:"componentDidMount",value:function(){var e;(e=this._subs).push.apply(e,[this._neutralForSelection()].concat(Object(d.a)(this._preventOnMouseMove())))}},{key:"componentWillUnmount",value:function(){this._subs.dispose()}},{key:"render",value:function(){return m.createElement(e,Object(u._)(Object(l._)({},this.props),{onMount:this._onMount}))}}]),h}(m.Component)}(t,e)},withSelectionEffect:function(n,r){return t.withSelectionEffect(n,e,r)}}};var t,n=function(e){return function(t){return m.createElement(e,t)}};e.getPassThrough=function(){return{withNeutralForSelection:n,withSelectionEffect:n}},e.Context=m.createContext(O.a.invariantContent("DenaliEditorSelection"));!function(e){e.PlainContainer=function(e){var t=e.children,n=e.onMouseDown,r=e.onMount,i=e.className;return m.createElement(h.a.div,{className:i,onMouseDown:n,mount:r},t)};e.withSelectionEffect=function(e,t,n){return function(r){Object(c.a)(s,r);var i=Object(p.a)(s);function s(){return Object(a.a)(this,s),i.apply(this,arguments)}return Object(o.a)(s,[{key:"_onMouseDown",value:function(e){_.b.isLeftMouseButtom(e)&&n(t,e)}},{key:"render",value:function(){return m.createElement(e,Object(u._)(Object(l._)({},this.props),{onMouseDown:this._onMouseDown}))}}]),s}(m.Component)};e.collapse=function(e,t){var n=e.getCursor().index;v.b.getOrElse((function(e){return C.d.Logging.getLogger("Selection").error("Failed to set cursor on selection collapse",e,{index:n})}))(e.setCursor(n,0)),t.stopPropagation()},e.resetAsap=function(e,t){setTimeout((function(){var t=e.getCursor(),n=t.index,r=t.length;v.b.getOrElse((function(e){return C.d.Logging.getLogger("Selection").error("Failed to set cursor on selection reset.",e,{index:n,length:r})}))(e.setCursor(n,r))}),0),t.stopPropagation()},e.prevent=function(e,t){t.stopPropagation()}}(t=e.Effect||(e.Effect={}))}(r||(r={}))},ZCrp:function(e,t,n){e.exports=n.p+"files/db93eceba2b0e3ad6331500e393c0ec8/ring-48.png"},ZqXC:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return I})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return T}));var r=n("B8yO"),i=n.n(r),a=n("zCOz"),o=n("Q2+j");n("6sgl");function s(e){if("virtual"===(0,o.b)()){let t=document.activeElement;(0,a.n)(()=>{document.activeElement===t&&document.contains(e)&&(0,a.c)(e)})}else(0,a.c)(e)}function c(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,r="none"!==t&&"hidden"!==n&&"collapse"!==n;if(r){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:i}=t(e);r="none"!==n&&"hidden"!==i&&"collapse"!==i}return r}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||c(e.parentElement,e))}const l=i.a.createContext(null);let u=null;function d(e){let{children:t,contain:n,restoreFocus:o,autoFocus:s}=e,c=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useRef)([]),{parentNode:m}=(0,r.useContext)(l)||{},f=(0,r.useMemo)(()=>new E({scopeRef:p}),[p]);(0,a.x)(()=>{let e=m||j.root;if(j.getTreeNode(e.scopeRef)&&u&&!_(u,e.scopeRef)){let t=j.getTreeNode(u);t&&(e=t)}e.addChild(f),j.addNode(f)},[f,m]),(0,a.x)(()=>{j.getTreeNode(p).contain=n},[n]),(0,a.x)(()=>{let e=c.current.nextSibling,t=[];for(;e&&e!==d.current;)t.push(e),e=e.nextSibling;p.current=t},[t]),function(e,t,n){(0,a.x)(()=>{if(t||n)return;let r=e.current,i=t=>{let n=t.target;v(n,e.current)?u=e:b(n)||(u=null)};return document.addEventListener("focusin",i,!1),r.forEach(e=>e.addEventListener("focusin",i,!1)),()=>{document.removeEventListener("focusin",i,!1),r.forEach(e=>e.removeEventListener("focusin",i,!1))}},[e,t,n])}(p,o,n),function(e,t){let n=(0,r.useRef)(),i=(0,r.useRef)(null);(0,a.x)(()=>{let r=e.current;if(!t)return void(i.current&&(cancelAnimationFrame(i.current),i.current=null));let a=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!g(e))return;let n=document.activeElement,r=e.current;if(!v(n,r))return;let i=S(h(r),{tabbable:!0},r);i.currentNode=n;let a=t.shiftKey?i.previousNode():i.nextNode();a||(i.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,a=t.shiftKey?i.previousNode():i.nextNode()),t.preventDefault(),a&&C(a,!0)},o=t=>{u&&!_(u,e)||!v(t.target,e.current)?g(e)&&!y(t.target,e)?n.current?n.current.focus():u&&w(u.current):g(e)&&(n.current=t.target):(u=e,n.current=t.target)},s=t=>{i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{g(e)&&!y(document.activeElement,e)&&(u=e,document.body.contains(t.target)?(n.current=t.target,n.current.focus()):u&&w(u.current))})};return document.addEventListener("keydown",a,!1),document.addEventListener("focusin",o,!1),r.forEach(e=>e.addEventListener("focusin",o,!1)),r.forEach(e=>e.addEventListener("focusout",s,!1)),()=>{document.removeEventListener("keydown",a,!1),document.removeEventListener("focusin",o,!1),r.forEach(e=>e.removeEventListener("focusin",o,!1)),r.forEach(e=>e.removeEventListener("focusout",s,!1))}},[e,t]),(0,a.x)(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[i])}(p,n),function(e,t,n){const i=(0,r.useRef)("undefined"!=typeof document?document.activeElement:null);(0,a.x)(()=>{let r=e.current;if(!t||n)return;let i=()=>{u&&!_(u,e)||!v(document.activeElement,e.current)||(u=e)};return document.addEventListener("focusin",i,!1),r.forEach(e=>e.addEventListener("focusin",i,!1)),()=>{document.removeEventListener("focusin",i,!1),r.forEach(e=>e.removeEventListener("focusin",i,!1))}},[e,n]),(0,a.x)(()=>{if(!t)return;let r=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!g(e))return;let n=document.activeElement;if(!v(n,e.current))return;let r=j.getTreeNode(e).nodeToRestore,i=S(document.body,{tabbable:!0});i.currentNode=n;let a=t.shiftKey?i.previousNode():i.nextNode();if(document.body.contains(r)&&r!==document.body||(r=null,j.getTreeNode(e).nodeToRestore=null),(!a||!v(a,e.current))&&r){i.currentNode=r;do{a=t.shiftKey?i.previousNode():i.nextNode()}while(v(a,e.current));t.preventDefault(),t.stopPropagation(),a?C(a,!0):b(r)?C(r,!0):n.blur()}};return n||document.addEventListener("keydown",r,!0),()=>{n||document.removeEventListener("keydown",r,!0)}},[e,t,n]),(0,a.x)(()=>{if(t)return j.getTreeNode(e).nodeToRestore=i.current,()=>{let n=j.getTreeNode(e).nodeToRestore;if(t&&n&&(v(document.activeElement,e.current)||document.activeElement===document.body&&function(e){let t=j.getTreeNode(u);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){let t=j.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&document.body.contains(n.nodeToRestore))return void C(n.nodeToRestore);n=n.parent}for(n=t.getTreeNode(e);n;){if(n.scopeRef&&j.getTreeNode(n.scopeRef))return void w(n.scopeRef.current,!0);n=n.parent}}})}}},[e,t])}(p,o,n),function(e,t){const n=i.a.useRef(t);(0,r.useEffect)(()=>{n.current&&(u=e,v(document.activeElement,u.current)||w(e.current)),n.current=!1},[e])}(p,s),(0,r.useEffect)(()=>{if(p){let e=document.activeElement,t=null;if(v(e,p.current)){for(let n of j.traverse())v(e,n.scopeRef.current)&&(t=n);t===j.getTreeNode(p)&&(u=t.scopeRef)}return()=>{let e=j.getTreeNode(p).parent.scopeRef;p!==u&&!_(p,u)||e&&!j.getTreeNode(e)||(u=e),j.removeTreeNode(p)}}},[p]);let O=(0,r.useMemo)(()=>function(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:i,wrap:a,accept:o}=t,s=r||document.activeElement,c=n[0].previousElementSibling,l=S(h(n),{tabbable:i,accept:o},n);l.currentNode=v(s,n)?s:c;let u=l.nextNode();return!u&&a&&(l.currentNode=c,u=l.nextNode()),u&&C(u,!0),u},focusPrevious(t={}){let n=e.current,{from:r,tabbable:i,wrap:a,accept:o}=t,s=r||document.activeElement,c=n[n.length-1].nextElementSibling,l=S(h(n),{tabbable:i,accept:o},n);l.currentNode=v(s,n)?s:c;let u=l.previousNode();return!u&&a&&(l.currentNode=c,u=l.previousNode()),u&&C(u,!0),u},focusFirst(t={}){let n=e.current,{tabbable:r,accept:i}=t,a=S(h(n),{tabbable:r,accept:i},n);a.currentNode=n[0].previousElementSibling;let o=a.nextNode();return o&&C(o,!0),o},focusLast(t={}){let n=e.current,{tabbable:r,accept:i}=t,a=S(h(n),{tabbable:r,accept:i},n);a.currentNode=n[n.length-1].nextElementSibling;let o=a.previousNode();return o&&C(o,!0),o}}}(p),[]),k=(0,r.useMemo)(()=>({focusManager:O,parentNode:f}),[f,O]);return i.a.createElement(l.Provider,{value:k},i.a.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:c}),t,i.a.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:d}))}const p=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],m=p.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";p.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const f=p.join(':not([hidden]):not([tabindex="-1"]),');function h(e){return e[0].parentElement}function g(e){let t=j.getTreeNode(u);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function b(e){return y(e)}function v(e,t){return t.some(t=>t.contains(e))}function y(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of j.traverse(j.getTreeNode(t)))if(v(e,n.current))return!0;return!1}function O(e){return y(e,u)}function _(e,t){var n;let r=null===(n=j.getTreeNode(t))||void 0===n?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function C(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{s(e)}catch(e){}}function w(e,t=!0){let n=e[0].previousElementSibling,r=S(h(e),{tabbable:t},e);r.currentNode=n;let i=r.nextNode();t&&!i&&(r=S(h(e),{tabbable:!1},e),r.currentNode=n,i=r.nextNode()),C(i)}function S(e,t,n){let r=(null==t?void 0:t.tabbable)?f:m,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var i;return(null==t||null===(i=t.from)||void 0===i?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(r)||!c(e)||n&&!v(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(i.currentNode=t.from),i}class k{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null),i=new E({scopeRef:e});r.addChild(i),i.parent=r,this.fastMap.set(e,i),n&&(i.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&v(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let r=t.children;n.removeChild(t),r.size>0&&r.forEach(e=>n.addChild(e)),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new k;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new E({scopeRef:null}),this.fastMap.set(null,this.root)}}class E{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let j=new k;function x(e={}){let{autoFocus:t=!1,isTextInput:n,within:i}=e,a=(0,r.useRef)({isFocused:!1,isFocusVisible:t||(0,o.c)()}),[s,c]=(0,r.useState)(!1),[l,u]=(0,r.useState)(()=>a.current.isFocused&&a.current.isFocusVisible),d=(0,r.useCallback)(()=>u(a.current.isFocused&&a.current.isFocusVisible),[]),p=(0,r.useCallback)(e=>{a.current.isFocused=e,c(e),d()},[d]);(0,o.f)(e=>{a.current.isFocusVisible=e,d()},[],{isTextInput:n});let{focusProps:m}=(0,o.e)({isDisabled:i,onFocusChange:p}),{focusWithinProps:f}=(0,o.g)({isDisabled:!i,onFocusWithinChange:p});return{isFocused:s,isFocusVisible:l,focusProps:i?f:m}}let A=i.a.createContext(null);function I(e,t){let{focusProps:n}=(0,o.e)(e),{keyboardProps:i}=(0,o.k)(e),c=(0,a.l)(n,i),l=function(e){let t=(0,r.useContext)(A)||{};(0,a.A)(t,e);let{ref:n,...i}=t;return i}(t),u=e.isDisabled?{}:l,d=(0,r.useRef)(e.autoFocus);return(0,r.useEffect)(()=>{d.current&&t.current&&s(t.current),d.current=!1},[t]),{focusableProps:(0,a.l)({...c,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},u)}}function T(e,t){let n=null==t?void 0:t.isDisabled,[i,o]=(0,r.useState)(!1);return(0,a.x)(()=>{if((null==e?void 0:e.current)&&!n){let t=()=>{if(e.current){let t=S(e.current,{tabbable:!0});o(!!t.nextNode())}};t();let n=new MutationObserver(t);return n.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}}),!n&&i}},a7bV:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("DTwm"),c=n("TKPA"),l=n("mgiE"),u=n("RRF2"),d=n("To5e"),p=function(e){return null!=e.href&&e.href.includes(document.location.host)},m=function(e){return"_blank"===e.target},f=function(e){var t=e.children,n=Object(a._)(e,["children"]),f=o.useContext(d.a.Context).link.description;return Object(s.pipe)(n,(function(){return Object(c.b)(p,m)(n)?l.g.some(f.internalNewWindow):Object(c.b)(Object(s.not)(p),m)(n)?l.g.some(f.externalNewWindow):Object(s.not)(p)(n)?l.g.some(f.external):l.g.none}),l.g.map((function(e){var a=u.f.alphanumeric(5);return o.createElement(o.Fragment,null,o.createElement("span",{hidden:!0,id:a},e),o.createElement("a",Object(i._)(Object(r._)({},n),{"aria-describedby":a}),t))})),l.g.getOrElse((function(){return o.createElement("a",n,t)})))}},aODX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("tiWp"),a=n("mgiE");!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return Object(i.pipe)(e.get(t),a.g.filter(e=>n(e.value)))},e.find=function(e,t){return e.find(t)}}(r||(r={}))},aYCJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("8O/t"),i=n("B8yO"),a=n("tiWp"),o=n("mgiE"),s=n("2swC"),c=n("sX1a"),l=n("7nli"),u=n("nWMp"),d=n("NbNH"),p=n("ZDrO"),m=n("KH+i");const f=({examples:e,layoutDensity:t})=>i.createElement(c.Typography,{nodeType:"table",styleType:c.Typography.Type.Base,className:k.wrapper},e.map((e,n)=>i.createElement("tbody",{key:n,className:k.group},e.map(({text:e,title:n,color:s,hasItalic:c},u)=>i.createElement("tr",{key:u,className:Object(a.pipe)(t,m.a.Density.matchL(()=>k.item,()=>k.itemCompact,()=>k.itemMinimal))},Object(a.pipe)(n,o.g.map(e=>i.createElement("td",{className:l.a.colorMatch(s)(k)},(e=>e.split("/").reduce((e,t,n)=>(0!==n&&e.push(i.createElement("br",{key:n})),e.push(t),e),[]))(e))),o.g.toNullable),i.createElement("td",Object(r._)({colSpan:o.g.isNone(n)?2:void 0,className:c?k.content:k.contentItalic},p.d.setInnerHTML(e)))))))),h={$nest:{"&:not(:last-child):after":{display:"block",height:u.a.rem(1.75),content:"''"}}},g={$nest:{"&:not(:last-child)":{borderBottom:u.a.rem(.5)+" solid transparent"}}},b={display:"flex",flexDirection:"column",lineHeight:u.a.rem(1.3125)},v={padding:0,verticalAlign:"top",lineHeight:u.a.rem(1.25)},y={paddingRight:u.a.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},O={color:s.a.CoreNeutral50,fontFeatureSettings:`${d.e}, ${d.f}`},_={color:s.a.CoreRed50},C={color:s.a.CoreGreen70},w={color:s.a.CoreNeutral90},S={color:s.a.CoreNeutral90},k=u.a.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[h],item:[g],itemCompact:[g,{display:"flex",flexDirection:"column"}],itemMinimal:[g,b],baseBlock:[v],title:[v,y],content:[v,O],contentItalic:[v,O,{fontStyle:"italic"}],red:[v,y,_],green:[v,y,C],yellow:[v,y,w],fallback:[v,y,S]})},aaNd:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return b}));var r,i=n("a5gI"),a=n("tiWp"),o=n("+vYo"),s=n("fr9z"),c=n("0kuo"),l=n("mgiE"),u=n("TaaI"),d=n("MibW"),p=n("xk6L"),m=n("yIk2"),f=n("La5+"),h=n("Hby5"),g=n("3jKF");!function(e){let t;!function(e){e.immediately="immediately",e.asap="asap",e.low="low"}(t=e.Priority||(e.Priority={}))}(r||(r={}));class b{enqueue(e,t){switch(t){case r.Priority.immediately:e.forEach(e=>e.apply());break;case r.Priority.asap:this._asapAlertsChangeWorker.put(e);break;case r.Priority.low:this._alertsChangeWorker.put(e);break;default:Object(c.c)(t)}}flush(){return this._asapAlertsChangeWorker.flush(),this._alertsChangeWorker.flush(),Promise.resolve()}dispose(){this._subs.dispose(),this._alertsChangeWorker.shutdown(),this._asapAlertsChangeWorker.shutdown()}_renderMarks(e){const[t,...n]=e.filter(h.a.isPending);Boolean(t)&&t.applyWith(n)}_asyncRunner(e,t){return n=>e.pipe(p.a.switchMap(m.b.orEmptyRight(t)),p.a.first()).subscribe(n)}_listenFocusedMark(){return this._activeAlertChanges.subscribe(e=>{const t=Object(a.pipe)(e,l.g.map(e=>e.alert.getHighlightRanges()[0]),l.g.getOrElse(()=>s.b.empty));this._alertsChangeWorker.order(g.a.compareTo(t))})}constructor(e){Object(i._)(this,"_activeAlertChanges",void 0),Object(i._)(this,"_lockMarkUpdate",void 0),Object(i._)(this,"_subs",void 0),Object(i._)(this,"_alertsChangeWorker",void 0),Object(i._)(this,"_asapAlertsChangeWorker",void 0),this._activeAlertChanges=e,this._lockMarkUpdate=o.a.create(!1),this._subs=new f.a.Keeper,this._alertsChangeWorker=new u.a(this._renderMarks,new d.a.LazyPredicateUniq(h.a.isPending),this._asyncRunner(this._lockMarkUpdate,p.a.timer(50))),this._asapAlertsChangeWorker=new u.a(this._renderMarks,new d.a.LazyPredicateUniq(h.a.isPending),this._asyncRunner(this._lockMarkUpdate,m.b.Scheduler.inRaf(p.a.of(!0)))),this._subs.push(this._listenFocusedMark())}}},axdO:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("RRF2"),s=n("2swC"),c=n("NDcT"),l=n("ySi0"),u=n("IRug"),d=n("nWMp"),p=n("AyJj");const m=(e,t)=>{switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return a.createElement(a.Fragment,null,a.createElement("span",null,e.alerts)," ",o.f.pluralize(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return a.createElement(a.Fragment,null,e.transform);case"addToDictionary":return a.createElement(a.Fragment,null,a.createElement("b",{className:t&&t.addToDictionary},e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";case"acknowledge":return"Acknowledged";default:return""}},f={display:"flex",marginTop:d.a.rem(-1.1),marginBottom:d.a.rem(-.5),alignItems:"center",justifyContent:"space-between"},h={marginTop:d.a.rem(.6),marginRight:d.a.rem(1),color:s.a.CoreNeutral0,flexGrow:0,flexShrink:0},g={marginTop:d.a.rem(-.25),paddingRight:d.a.rem(.5),minWidth:"auto",minHeight:"auto",justifyContent:"space-between"},b={marginTop:d.a.rem(.6),maxWidth:d.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1},v={marginRight:d.a.rem(1.4)},y=d.a.stylesheet({alertUndoWrapper:[f],alertUndoWrapperFlexible:[f,{flexWrap:"nowrap"}],alertUndoWrapperFullWidth:[f,{flexWrap:"wrap"}],alertUndoBtn:[h],alertUndoIcon:[g],alertUndoContent:[b],alertUndoContentFlexible:[b,v],addToDictionary:[{wordBreak:"break-all"}]});var O;!function(e){const t={wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContent,icon:y.alertUndoIcon,button:y.alertUndoBtn};e.Standard=({action:e,params:o})=>a.createElement(u.b.Content,null,a.createElement(n,{action:e,content:m(o),theme:Object(i._)(Object(r._)({},t),{wrapper:y.alertUndoWrapperFullWidth})})),e.Flexible=({notification:e,onClose:o,action:s,params:c})=>a.createElement(u.a.Wrapper,{notification:e,onClose:o},a.createElement(u.b.Content,null,a.createElement(n,{action:s,content:m(c,{addToDictionary:y.addToDictionary}),theme:Object(i._)(Object(r._)({},t),{wrapper:y.alertUndoWrapperFlexible,content:y.alertUndoContentFlexible})})));var n=e.Content=({action:e,content:n,theme:r=t})=>{const i=a.useContext(c.a.Context);return a.createElement("div",{className:r.wrapper},a.createElement("div",{className:r.content},n),a.createElement(p.a,{name:"alertUndoButton",className:r.button,onClick:e},a.createElement(l.d.Undo,{className:r.icon}),i.undo))}}(O||(O={}))},b03l:function(e,t,n){"use strict";function r(e){return{kind:"error",source:"core",name:"lifecycleStartingFailed",data:e}}function i(e){return{kind:"error",source:"core",name:"lifecycleVisuallyReadyFailed",data:e}}function a(e){return{kind:"error",source:"core",name:"lifecycleReadyToDragFailed",data:e}}function o(e){return{kind:"error",source:"core",name:"lifecycleFocusStateChangedFailed",data:e}}function s(e){return{kind:"error",source:"core",name:"lifecycleCloseFailed",data:e}}function c(e){return{kind:"error",source:"core",name:"unsanitizeTextOnInboundCAPIMessageFailed",data:e}}function l(e){return{kind:"error",source:"core",name:"sanitizeTextOnOutboundCAPIMessageFailed",data:e}}function u(e){return{kind:"error",source:"core",name:"fetchTreatmentsFailed",data:e}}function d(){return{kind:"error",source:"core",name:"getContextFailed",data:null}}function p(){return{kind:"error",source:"core",name:"getHistoryFailed",data:null}}function m(e){return{kind:"error",source:"core",name:"actionFailed",data:e}}function f(e){return{kind:"error",source:"core",name:"waitForContextTimeout",data:e}}function h(){return{kind:"error",source:"core",name:"waitForHistoryTimeout",data:null}}function g(){return{kind:"error",source:"core",name:"waitForResultTimeout",data:null}}function b(e){return{kind:"error",source:"core",name:"waitForAckTimeout",data:e}}function v(e){return{kind:"error",source:"core",name:"setVoiceProfileFailed",data:e}}function y(e){return{kind:"error",source:"core",name:"setNewVoiceProfileFailed",data:e}}function O(e){return{kind:"error",source:"core",name:"capiErrorUnhandled",data:e}}function _(e){return{kind:"error",source:"core",name:"regenerateResultFailed",data:e}}function C(e){return{kind:"error",source:"core",name:"stopInProgressResultFailed",data:e}}function w(e){return{kind:"error",source:"core",name:"getTextFailed",data:e}}function S(e){return{kind:"error",source:"core",name:"reportUphookShowFailed",data:e}}function k(e){return{kind:"error",source:"core",name:"reportUphookClickFailed",data:e}}function E(e){return{kind:"error",source:"core",name:"reportMetricFailed",data:e}}n.d(t,"j",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"t",(function(){return c})),n.d(t,"p",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"v",(function(){return f})),n.d(t,"w",(function(){return h})),n.d(t,"x",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"r",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"l",(function(){return _})),n.d(t,"s",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"o",(function(){return S})),n.d(t,"n",(function(){return k})),n.d(t,"m",(function(){return E}))},bDM3:function(e,t,n){e.exports=n.p+"files/eabe5d072b56b38a23c37e1b991c215d/inter-lightitalic.woff2"},bOc0:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("B8yO"),p=n("OwvP"),m=n("4GyQ"),f=n("XQlQ"),h=n("7IMz"),g=n("xk6L"),b=n("yIk2"),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.apply(this,arguments),Object(o._)(Object(r.a)(e),"_editorWrapEl",void 0),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this._editorWrapEl)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=void 0===n?{}:n,i=t.children,a=t.onMouseDown;return d.createElement("div",{className:r.editorContentWrap,onMouseDown:a},d.createElement(p.a.div,Object(l._)(Object(c._)({},Object(m.c)(r.editorContent)),{mount:function(t){return t&&(e._editorWrapEl=t)}}),i))}}]),n}(d.Component),y=function(e){var t=d.useContext(f.a.Context),n=h.a.useElWatcher(),r=n.ref,i=n.onMount;h.a.useSubscriptionTo(r.pipe(g.b.compactMap((function(n){return e.scrollEl.pipe(g.b.compact,g.a.first(),g.a.tap((function(r){return e.denaliEditor.attach(n,r,t.pipe(g.a.map((function(e){return e.rect}))))})))})))),h.a.useSubscriptionTo(r.pipe(g.b.compactMap((function(t){return b.a.getResizeObservable(t).pipe(g.a.map((function(e){return e.height})),g.a.distinctUntilChanged(),g.a.startWith(t.getBoundingClientRect().height),g.a.tap(b.b.toAtom(e.editorHeight)))})))),d.useEffect((function(){return function(){return e.denaliEditor.dispose()}}));var a=e.theme,o=void 0===a?{}:a,s=e.children;return d.createElement(v,{theme:o,onMount:i},s)}},btoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("OwvP"),u=n("xk6L"),d=n("mgiE"),p=n("TKPA"),m=n("2swC"),f=n("M3t0"),h=n("ldOx"),g=n("nWMp"),b=n("NbNH"),v=n("SOPW"),y=n("eAYH"),O=n("7Cqk"),_=n("TXN2"),C=n("XVhX"),w=n("5eEL"),S=n("cqTd"),k=n("vLu/");!function(e){e.Mini=({card:e,actions:t})=>o.createElement(l.a.Fragment,null,e.pipe(u.a.map(e=>y.b.isToneAIItem(e)?o.createElement(k.a.BundleMini,{card:e,actions:t}):y.b.isEthicalAIItem(e)?o.createElement(S.a.Mini,{card:e,actions:t,useBundleContainer:!0}):o.createElement(w.a.Bundle,{card:e,actions:t})))),e.Full=({card:e,actions:n,renderCard:a})=>{const{isChecking:d,isCheckingGlobal:p,transform:m}=v.a.useCardStates(e),f=e=>(i("CardBundle").error("card type not supported:",e),null),g=e.pipe(e=>e.lift(new u.d.SplitByOperator(e=>e.activeAlert.id)),u.a.switchMap(e=>e.pipe(u.a.distinctUntilChanged((e,t)=>e.activeAlertIndex===t.activeAlertIndex),u.a.map(t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:Object(c.pipe)(e,u.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId),u.a.shareReplay({bufferSize:1,refCount:!0}))}))))),b=(e,t)=>{const r=t.alerts.length,i=1===r?K.bundleInnerContainer:2===r?K.bundleInnerContainer2Cards:K.bundleInnerContainerNCards;return o.createElement(l.a.div,{className:i},a?a({card:t,actions:n,isChecking:d,isCheckingGlobal:p,transform:e}):o.createElement(C.a,{card:t,actions:n,isChecking:d,transform:e,isCheckingGlobal:p}))};return o.createElement(l.a.Fragment,null,e.pipe(u.a.map(i=>y.b.isIndependentBundleItem(i)?b(m,i):o.createElement(r,{card:e,actions:n},o.createElement(t,{state:g,stateToClassMapper:(e,t)=>{if(!e)return{prev:Object(h.c)(""),next:Object(h.c)("")};if(e.activeAlertId===t.activeAlertId)return{prev:Object(h.c)(K.inBundleToUpdatedCardOld),next:Object(h.c)(K.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:Object(h.c)(K.inBundleToUpdatedCardOld),next:Object(h.c)(K.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:Object(h.c)(K.inBundleToNextCardOld),next:Object(h.c)(K.inBundleToNextCardNew)}:{prev:Object(h.c)(K.inBundleToPrevCardOld),next:Object(h.c)(K.inBundleToPrevCardNew)}}},e=>o.createElement(l.a.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:s.constVoid},Object(c.pipe)(e.state.card,u.a.map(Object(s.flow)(y.b.match({super:f,ethicalAI:f,takeaway:t=>b("prev"===e.type?u.a.of(t.transform):m,t),synfony:t=>b("prev"===e.type?u.a.of(t.transform):m,t),shortenIt:t=>b("prev"===e.type?u.a.of(t.transform):m,t),toneAI:t=>b("prev"===e.type?u.a.of(t.transform):m,t),suggestedSnippet:t=>b("prev"===e.type?u.a.of(t.transform):m,t),knowledgeHubSuggestedTerm:t=>b("prev"===e.type?u.a.of(t.transform):m,t),default:t=>b("prev"===e.type?u.a.of(t.transform):m,t)}),v.a.foldCard)))))))))};class t extends h.a{}const n=({alertCount:e})=>1===e?o.createElement(o.Fragment,null):2===e?o.createElement("div",{className:K.bundleFakeCard1}):o.createElement(o.Fragment,null,o.createElement("div",{className:K.bundleFakeCard1}),o.createElement("div",{className:K.bundleFakeCard2})),r=({children:e,card:t,actions:r})=>o.createElement(l.a.div,{className:K.bundleCardWrapper},o.createElement(_.a,{card:t,actions:r}),o.createElement(l.a.div,{className:K.cardBundleContainer},e,Object(c.pipe)((e=>Object(c.pipe)(e,u.a.map(e=>d.g.some(e.alerts.length))))(t),u.a.map(d.g.map(e=>o.createElement(n,{key:e,alertCount:e}))),u.a.map(d.g.toNullable)))),i=Object(p.l)(f.d.Logging.getLogger)}(r||(r={}));const E="0 1px 8px rgba(109, 117, 141, .18)",j=g.a.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),x=g.a.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),A=g.a.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),I=g.a.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),T=g.a.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),M={position:"relative",borderRadius:g.a.rem(b.s),background:m.a.CoreNeutral0,boxShadow:E,zIndex:2},P={marginTop:g.a.rem(.75)},N={marginTop:g.a.rem(1.25)},B={position:"absolute",top:g.a.px(-5),right:g.a.rem(.5),left:g.a.rem(.5),zIndex:-1,display:"block",height:g.a.percent(100),borderRadius:g.a.rem(b.s),backgroundColor:m.a.CoreNeutral1,boxShadow:E,content:"' '"},L={position:"absolute",top:g.a.px(-10),right:g.a.rem(1),left:g.a.rem(1),zIndex:-2,display:"block",height:g.a.rem(2),borderRadius:g.a.rem(b.s),backgroundColor:m.a.CoreNeutral10,boxShadow:E,content:"' '"},F={borderRadius:g.a.rem(.75),background:m.a.CoreNeutral20,margin:`${g.a.rem(-.25)} ${g.a.rem(-.25)}`,padding:`${g.a.rem(.25)} ${g.a.rem(.25)}`,$nest:{["& ."+O.b.cozyCardContainerSelector]:{margin:0,boxShadow:"none"},["& ."+O.b.fullCardSelector]:{padding:`${g.a.rem(.75)} ${g.a.rem(.5)} ${g.a.rem(.5)} ${g.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${g.a.rem(-.5)})`}}},R={position:"absolute",top:g.a.rem(.8),right:g.a.rem(1),margin:0},D={borderRadius:g.a.rem(b.s),background:m.a.CoreNeutral0,boxShadow:E},H={display:"block",position:"absolute",top:0,$nest:{["& ."+O.b.bundleInnerContainerSelector]:{margin:0}}},V={animation:`${T} ${g.a.seconds(.25)} ease-out`},U={animation:`${A} ${g.a.seconds(.25)} ease-out`},W={animation:`${x} ${g.a.seconds(.25)} ease-in`},z={animation:`${I} ${g.a.seconds(.25)} ease-in`},G={display:"none",animation:`${j} ${g.a.seconds(.25)} ease-in`},q={animation:`${j} ${g.a.seconds(.25)} ease-in`},K=Object(a._)(Object(i._)({},g.a.stylesheet({bundleInnerContainer:[M],bundleCardWrapper:[F],minimalBetaLabel:[R],compactCardContainer:[D],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[H],inBundleToPrevCardOld:[H,V],inBundleToPrevCardNew:[U],inBundleToNextCardOld:[H,W],inBundleToNextCardNew:[z],inBundleToUpdatedCardOld:[G],inBundleToUpdatedCardNew:[q]})),{bundleInnerContainer:g.a.joinClasses([O.b.bundleInnerContainerSelector,g.a.style(M)]),bundleInnerContainer2Cards:g.a.joinClasses([O.b.bundleInnerContainerSelector,g.a.style(M,P)]),bundleInnerContainerNCards:g.a.joinClasses([O.b.bundleInnerContainerSelector,g.a.style(M,N)]),bundleFakeCard1:g.a.joinClasses([O.b.bundleFakeCard1Selector,g.a.style(B)]),bundleFakeCard2:g.a.joinClasses([O.b.bundleFakeCard2Selector,g.a.style(L)])})},"c+X/":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="https://assets.grammarly.com/emoji/v1/",i="https://assets.grammarly.com/animations/v1/"},caai:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LY33");const i=(e,t=0,n=0)=>{let i=null,a=null;const o=()=>{var e;null===(e=i)||void 0===e||e.unsubscribe(),i=null},s=()=>{var e;null===(e=a)||void 0===e||e.unsubscribe(),a=null};return{htmlElementHandlers:{onMouseEnter:()=>{s(),i=Object(r.a)(t).subscribe(()=>e.onHover())},onMouseLeave:()=>{o(),a=Object(r.a)(n).subscribe(()=>{s(),e.onBlur()})}},reset:()=>{o(),s()}}}},cdwJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("14g4"),s=n("PDPC"),c=n("4mQT"),l=n("x+Pc"),u=n("8O/t"),d=n("X76w"),p=n("hcme"),m=n("t5lx"),f=n("M5RY"),h=n("GMJx"),g=n("IjjT"),b=n("TKPA"),v=n("RRF2"),y=f.import("modules/keyboard"),O=y.DEFAULTS.bindings,_=b.e,C=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"addBinding",value:function(e,t,r){this.removeBinding(e,_),Object(o.a)(Object(s.a)(n.prototype),"addBinding",this).call(this,e,t,r)}},{key:"removeBinding",value:function(e,t){var n;Boolean(null===(n=this.bindings[e.key])||void 0===n?void 0:n.length)&&(this.bindings[e.key]=this.bindings[e.key].filter((function(e){var n=e.handler;return t!==n})))}}]),n}(y);function w(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:_}}var S;!function(e){e.shiftArrowDownBeforeSection={key:"Down",collapsed:!1,empty:!1,shiftKey:!0,handler:function(e){var t=Object(p._)(this.quill.getLeaf(e.index+e.length),2),n=t[0];return t[1]>0||(!Object(g.m)(n,(function(e){return Object(l.a)(e,g.d)}))||(this.quill.setSelection(e.index,e.length+1),!1))}},e.shiftArrowDown={key:"Down",offset:0,empty:!0,shiftKey:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index,e.length+1),!1)}},e.arrowDown={key:"Down",collapsed:!0,shiftKey:!1,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index+1,0),!1)}},e.enter={key:"Enter",collapsed:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.updateContents(Object(g.z)((new h.a).retain(e.index).insert("\n")),"user"),this.quill.setSelection(e.index+1,0,"user"),!1)}}}(S||(S={}));var k,E={key:" ",collapsed:!0,shiftKey:!1,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*)$/,handler:function(e,t){var n=t.prefix.length,r=Object(p._)(this.quill.getLine(e.index),2),i=r[0],a=r[1];if(a>n)return!0;var o=Object(p._)(function(e){switch(e){case"-":return["dashed",/^\s*?-/];case"*":return["bullet",/^\s*?\*/];default:return["ordered",/^\s*?\d+\./]}}(t.prefix.trim()),2),s=o[0],c=o[1];if(Boolean(i.prev)&&!v.c.Guardians.isUL(i.prev.domNode)&&!v.c.Guardians.isOL(i.prev.domNode)&&Boolean(i.prev.domNode.textContent)&&c.test(i.prev.domNode.textContent))return!0;this.quill.insertText(e.index," ",f.sources.USER),this.quill.history.cutoff();var l=(new h.a).retain(e.index-a).delete(n+1).retain(i.length()-2-a).retain(1,{list:s});return this.quill.updateContents(Object(g.z)(l),f.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,0,f.sources.SILENT),!1}};!function(e){!function(e){e.plainTextBindings={indent:O.indent,outdent:O.outdent,"outdent backspace":O["outdent backspace"],tab:O.tab,"remove tab":O["remove tab"],bold:w("bold"),italic:w("italic"),underline:w("underline")},e.rtfBindings={indent:O.indent,outdent:O.outdent,"outdent backspace":O["outdent backspace"],tab:O.tab,"remove tab":O["remove tab"],"list empty enter":O["list empty enter"],"list autofill":E,"list autofill with shift":Object(d._)(Object(u._)({},E),{shiftKey:!0}),"header enter":O["header enter"]},e.templateSectionBindings={"shift down before template_section":S.shiftArrowDownBeforeSection,"template_section down":S.arrowDown,"template_section shift down":S.shiftArrowDown,"template_section enter":S.enter}}(e.Bindings||(e.Bindings={}));e.getKeyboardWithBindings=function(e){var t;return t=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(C),Object(a._)(t,"DEFAULTS",{bindings:e}),t}}(k||(k={}))},cg8C:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatesService=void 0;var a=n("pQHw"),o=n("leaS"),s=n("Oegb"),c=function(){function e(e,t,n){this.type="gate",this._httpClient=new o.HttpClient(e,t),this._gatesUrl=a.config(n).url.gates+"/gates/get"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this._httpClient.post(this._gatesUrl,e)];case 1:if(t=n.sent(),s.validateTreatmentsWithType(t))return[2,t];throw new Error("Did not get valid gate treatments")}}))}))},e}();t.GatesService=c},cnWy:function(e){e.exports=JSON.parse('{"wrapper":"_bcdd7f0f-change-plan-wrapper","content":"_df5b0caf-change-plan-content","icon":"_91fa5628-change-plan-icon","iconPremium":"_fa313941-change-plan-iconPremium","text":"_17f5ec07-change-plan-text","changePlanBtn":"_7ed7ecad-change-plan-changePlanBtn","price":"_cd54690c-change-plan-price"}')},cqTd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("4GyQ"),c=n("OwvP"),l=n("+vYo"),u=n("xk6L"),d=n("RRF2"),p=n("2swC"),m=n("NDcT"),f=n("fC5a"),h=n("t39C"),g=n("ySi0"),b=n("nWMp"),v=n("NbNH"),y=n("7IMz"),O=n("itj6"),_=n("LqiM"),C=n("TXN2");!function(e){e.Mini=({card:e,actions:t,twoLined:n,useBundleContainer:r})=>o.createElement(_.a.Mini,Object(a._)(Object(i._)({},Object(s.c)(!0===n?x.twoLinedWrapper:x.standardWrapper,!0===r?x.bundleContainer:null)),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),o.createElement(c.a.div,{className:x.content},void 0!==e.activeAlert.emojiID?o.createElement(h.c,{id:e.activeAlert.emojiID,className:x.icon}):o.createElement(g.d.EthicalAI.Heart,{className:x.icon}),o.createElement("div",{className:x.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:n})=>{const r=o.useContext(m.a.Context),i=l.a.create(!1);return y.a.useSubscriptionTo(n.pipe(u.a.tap(e=>i.set(e)))),o.createElement(C.s,{card:e,actions:t,isChecking:n,body:o.createElement(o.Fragment,null,o.createElement(C.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(C.n,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?o.createElement("div",null,e.activeAlert.bannerColors.map(e=>o.createElement("div",{className:P.bannerStripe,style:{backgroundColor:e}}))):null,o.createElement(C.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:o.createElement(o.Fragment,null,o.createElement(C.g,{card:e}),o.createElement(f.a.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",href:e.activeAlert.externalLink,target:"_blank",rel:"noopener noreferrer",title:r.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:O.b.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:O.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:P.externalLinkButton},o.createElement("div",{className:P.externalLinkButtonContent},d.f.capitalize(e.activeAlert.todoAction),o.createElement(g.d.EthicalAI.ExternalLink,{className:P.externalLinkButtonContentIcon})))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(r||(r={}));const w={height:b.a.rem(3.25),borderRadius:b.a.rem(v.s),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},S={height:b.a.rem(3)},k={height:b.a.important(b.a.rem(2.5)),borderRadius:b.a.rem(v.s)},E={width:b.a.rem(1),height:b.a.rem(1),marginRight:b.a.rem(.5)},j={overflow:"hidden",color:p.a.CoreNeutral90,textOverflow:"ellipsis"},x=b.a.stylesheet({twoLinedWrapper:[w],standardWrapper:[S],bundleContainer:[k],content:[{display:"flex",alignItems:"center"}],icon:[E],highlightedText:[j]}),A={width:b.a.percent(100),$nest:{a:{color:p.a.CoreNeutral0,textDecoration:"none"}}},I={width:b.a.percent(100),position:"relative",textAlign:"center"},T={position:"absolute",top:b.a.rem(.25),right:b.a.rem(.25)},M={width:b.a.percent(100),height:b.a.rem(.5)},P=b.a.stylesheet({externalLinkButton:[A],externalLinkButtonContent:[I],externalLinkButtonContentIcon:[T],bannerStripe:[M]})},d3CI:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"b",(function(){return j}));var r,i,a,o,s,c,l,u=n("a5gI"),d=n("8O/t"),p=n("X76w"),m=n("yQCL"),f=n("DTwm"),h=n("tiWp"),g=n("4tRT"),b=n("mgiE"),v=n("TKPA"),y=n("0kuo"),O=n("RRF2"),_=n("D2TP"),C=n("xk6L"),w=n("phaH");!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(r||(r={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.cheetah="cheetah",e.closed="closed"}(i||(i={})),function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(a||(a={})),function(e){function t(e){return Object(h.pipe)(e.cardIndex,b.g.chain(t=>e.items.getAt(t)))}e.getActiveItem=t;e.getActiveItemIndex=e=>Object(f.flow)(o.getActiveItem,b.g.chain(t=>e.get(t.id)),b.g.map(e=>e.index));e.getActiveItemOfType=function(e){return Object(f.flow)(t,b.g.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(n,r)=>t(n,Object(v.b)(e,r));e.compose=function(e){return(t,n)=>Object(m.fold)(Object(m.getEndomorphismMonoid)())(e.map(e=>e(t,n)))}}(s||(s={})),function(e){e.hasItems=function(e){return e.kind===a.active||e.kind===a.persistent}}(c||(c={}));class S{static create(e){return new S(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new S(Object(d._)({},this._data,e))}hashCode(){let e=7;return e=31*e+Object(w.b)(this.alertSource),e=31*e+Object(w.b)(this.switchOrder),e=31*e+this.currentLens.hashCode(),e}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}constructor(e){Object(u._)(this,"_data",void 0),this._data=e}}!function(e){var t=e.withCardLensSnapshot=(e,t)=>n=>{const r=n.currentLens.items.size>50,i=Object(h.pipe)(n.currentLens.cardIndex,b.g.getOrElse(()=>0)),[a,o]=r?[Math.max(i-25,0),i+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:Object(h.pipe)(t(n.currentLens),b.g.map(e)),items:n.currentLens.items.values().slice(a,o).map(e),sample:r}}};e.snapshot=(e,r)=>n(t(e,r),t(e,r),e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}}));function n(e,t,n){return r=>{switch(r.currentLens.kind){case a.active:return e(r);case a.persistent:return t(r);case a.abstract:return n(r);default:return Object(y.c)(r.currentLens)}}}e.genericMapper=n;var o=e.mapper=e=>n(e,e,()=>b.g.none),s=e.getActiveItem=e=>o(({currentLens:t})=>e(t));e.getActiveAlertHighlight=e=>Object(f.flow)(s(e),b.g.map(e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}))),e.getActiveAlert=e=>Object(f.flow)(s(e),b.g.map(e=>e.activeAlert)),e.getLens=o(({currentLens:e})=>b.g.some(e));let c;function l(e){return e.currentLens.kind===a.persistent}!function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(c=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===i.lensview},e.isPersistent=l,e.hasCards=function(e){return e.currentLens.kind===a.active||l(e)},e.hasItems=function(e){return e.currentLens.kind===a.active||e.currentLens.kind===a.persistent},e.hasSuccess=function(e){return _.a.isOutcomeId(e.currentLens.id)||_.a.isMainLens(e.currentLens.id)||e.currentLens.id===_.a.SpecialId.PredictionTakeaways||e.currentLens.id===_.a.SpecialId.PredictionEmogenie};e.isForceSidebar=e=>(S.isLensview(e)||e.currentLens.type===i.plagiarism)&&e.alertSource===r.forceSidebar,e.isSidebarOpened=e=>!S.is(_.a.SpecialId.Closed)(e);let u,m,v;!function(e){e.defaultFilter=O.e.pick("alertHighlight")}(u=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>g.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e})),e.getLensWithItems=()=>g.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e}))}(m=e.Prism||(e.Prism={})),function(e){let t,n,r,i,a,o,s,c,l;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=C.a.EMPTY}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=C.a.EMPTY}(n=e.Source||(e.Source={}))}(r=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(i=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(a=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===_.a.SpecialId.Closed}e.isSidebarClosed=t;e.isSidebarOpen=Object(f.not)(t),e.always=f.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=C.a.delayWhen(()=>C.a.of(void 0),e),r=Object(p._)(Object(d._)({},t.what),{source:n(t.what.source)});return Object(p._)(Object(d._)({},t),{what:r})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(c=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:c.noFocus},e.unFocus={kind:c.unFocus},e.focusNext={kind:c.focusNext},e.focusFirst={kind:c.focusFirst},e.focusAlert=e=>({kind:c.focusAlert,alertHighlight:e})}(l=e.FocusBehavior||(e.FocusBehavior={}))}(v=e.Effect||(e.Effect={}))}(S||(S={})),function(e){e.defaultOptions={focusBehavior:S.Effect.FocusBehavior.focusFirst}}(l||(l={}));var k,E,j;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(k||(k={})),function(e){e.getDefault=()=>k.allAlerts}(E||(E={})),function(e){e.skip=f.constFalse,e.force=f.constTrue,e.proceed=e=>e.positionState.animationInProgress}(j||(j={}))},d8oL:function(e,t,n){"use strict";function r(e){return t=>{(null==t?void 0:t.isTrusted)&&(null==e||e(t))}}n.d(t,"a",(function(){return r}))},dHrn:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("B8yO"),i=n("ThYs");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e){return function(t){return r.createElement(r.Fragment,null,r.createElement(e,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},t),{"aria-describedby":Boolean(t.meta.description)?"".concat(t.id,"-description"):void 0})),Boolean(t.meta.description)&&r.createElement(i.a,{id:"".concat(t.id,"-description")},t.meta.description))}}},dcXr:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("DTwm"),i=n("yW1N"),a=n("mgiE"),o=n("skc2"),s=["http","https","mailto","tel"];var c=function(e){return a.b.tryCatchError((function(){return new URL(e)}))},l=Object(r.flow)(c,a.b.fold((function(){return!1}),(function(e){return s.includes(e.protocol.replace(":",""))}))),u=a.b.fromPredicate((function(e){return e.length<=o.a.MAX_URL_LENGTH}),(function(){return new Error("URL is too long")})),d=a.b.fromPredicate((function(e){return e.length>0}),(function(){return new Error("URL is too short")})),p=a.b.fromPredicate(l,(function(){return new Error("Url contains invalid protocol")})),m=Object(r.flow)(i.sanitize,d,a.b.map((function(e){return i.urlContainsProtocol(e)?e:"http://"+e})),a.b.chain((function(e){return Object(r.pipe)(e,c,a.b.map((function(){return e})))})),a.b.chain(p),a.b.chain(u))},dn08:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i,a=n("111I"),o=n("xk6L"),s=n("hldE"),c=n("mgiE"),l=n("DTwm"),u=n("yIk2"),d=n("itj6");function p(e,t,n,r){return a.a.composeUnion({Some:a.a.composeKnot({value:a.a.composeKnot({root:()=>e.pipe(o.a.map(e=>Object(l.pipe)(m(r)(e),c.g.map(t=>({item:e,key:n(e),className:t})))),o.b.compact),shadeItem:t})}),None:()=>o.a.of(c.g.none)},t=>o.a.mergeStatic(e.pipe(o.a.map(m(r))),t.pipe(o.a.filter(e=>"root"===e.action.action.key&&e.action.action.action.type===d.a.Kind.completeTransitionTo),o.a.switchMap(u.b.Scheduler.rafScheduler),o.a.mapTo(c.g.none))))}function m(e){return t=>Object(l.pipe)(t.visualState.from,c.g.chain(()=>e(t.visualState).shade))}function f(e,t,n,r,i){return a.a.composeKnot({root:()=>e.pipe(o.a.map(e=>{const{main:t,shade:n}=i(e.visualState);return{item:e,className:t,hasAnimation:c.g.isSome(t)||c.g.isSome(n)}})),shade:p(e,n,r,i),item:t})}function h(e,t){return a.a.composeKnot({root:()=>e.pipe(o.a.map(e=>e.visualState.transition.type)),staticItemChild:t})}(i=r||(r={})).flow=function(e,t,n,r=(e=>e.id),i=s.a.toOption(s.c)){return a.a.composeKnot({root:()=>e,animatedItem:a.a.composeUnion({static:h(e,t),animating:f(e,t,n,r,i)},()=>e.pipe(o.a.map(e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))})},i.extend=function(e){return a.a.extendActions(o.a.tap(t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}}))}},"e4R/":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("nWMp");function i(e,t){return Object.assign(Object.assign({},function(e){return{width:r.a.rem(e),minWidth:r.a.rem(e)}}(e)),function(e){return{height:r.a.rem(e),minHeight:r.a.rem(e)}}(null!=t?t:e))}function a(e,t){return("."+e).repeat(t)}const o=7;function s(e,t){return function(e,t,n){return{$nest:{["&"+a(t,n)]:e}}}(e,t,o)}},e71X:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r,i=n("B8yO"),a=n("OwvP"),o=n("0kuo"),s=n("TKPA"),c=n("111I"),l=n("NDcT"),u=n("fC5a"),d=n("L8Yl"),p=n("ySi0"),m=n("D2TP"),f=n("2swC"),h=n("hSa3"),g=n("nWMp"),b=n("xk6L");!function(e){var t=e.DefaultCounter=c.b.Node.make(({state:e})=>i.createElement(a.a.Fragment,null,e.pipe(b.a.map(({count:e,fontSize:t,lensId:n})=>i.createElement(h.a.OutcomeCounter,{count:e,theme:{counterWrapper:E.get(n),counterContent:k.counterContent},type:"gray",fontSize:t}))))),n=e.ZeroCounter=c.b.Node.make(()=>i.createElement(p.d.CheckmarkOutcomes,{className:k.zeroCounter})),r=e.PlagiarismCounter=c.b.Node.make(({state:e})=>i.createElement(a.a.Fragment,null,e.pipe(b.a.map(({count:e,fontSize:t})=>i.createElement(h.a.OutcomeCounter,{count:e,theme:{counterWrapper:k.plagiarismCounterWrapper,counterContent:k.plagiarismCounterContent},suffix:"%",type:"gray",fontSize:t})))));e.Component=c.b.Union.make("kind",{plagiarism:r,default:t,zero:n});const o=e=>!m.a.isPlagiarismId(e);e.createLensCounterFlow=(e,t,n)=>c.a.composeUnion({plagiarism:c.a.fromSideEffect(s.e,t.pipe(b.a.map(e=>({count:e,fontSize:n})))),default:c.a.fromSideEffect(s.e,t.pipe(b.a.combineLatest(e.pipe(b.a.filter(o))),b.a.map(([e,t])=>({count:e,lensId:t,fontSize:n})))),zero:c.a.fromSideEffect(s.e,null)},()=>e.pipe(b.a.combineLatest(t),b.a.map(([e,t])=>({kind:0===t?"zero":e===m.a.SpecialId.Plagiarism?"plagiarism":"default"}))));const l={fill:g.a.important(f.a.CoreNeutral0)},u={fill:g.a.important(f.a.CoreNeutral50)},d={fill:g.a.important(f.a.CoreRed50)},v={fill:g.a.important(f.a.CoreBlue50)},y={fill:g.a.important(f.a.CoreGreen50)},O={fill:g.a.important(f.a.CorePurple50)},_={fill:g.a.important(f.a.CoreNeutral50)},C={fill:g.a.important(f.a.CoreNeutral50)},w={fill:g.a.important(f.a.CoreCyan50)},S={fill:f.a.CoreGreen50,minHeight:0,minWidth:g.a.rem(1)},k=g.a.stylesheet({counterWrapper:[],counterContent:[l],zeroCounter:[S],allAlertsCounter:[u],priorityAlertsCounter:[u],correctnessCounter:[d],clarityCounter:[v],engagementCounter:[y],deliveryCounter:[O],voxCounter:[_],knowledgeHubCounter:[C],plagiarismCounterWrapper:[w],plagiarismCounterContent:[l,{}]}),E=new Map([[m.a.SpecialId.AllAlerts,k.allAlertsCounter],[m.a.SpecialId.Correctness,k.correctnessCounter],[m.a.SpecialId.Clarity,k.clarityCounter],[m.a.SpecialId.Engagement,k.engagementCounter],[m.a.SpecialId.Delivery,k.deliveryCounter],[m.a.SpecialId.Vox,k.voxCounter],[m.a.SpecialId.KnowledgeHub,k.knowledgeHubCounter]])}(r||(r={}));var v,y=n("XlqH"),O=n("gfa6");!function(e){e.Component=e=>i.createElement(t,e);var t=e.Title=e=>{const{lensId:t,lensAlertsCount:n,lensPreviewVM:s,customInfoButton:l}=e;return i.createElement(a.a.div,{className:m.a.isPlagiarismId(t)?O.a.plagiarismLensTitle:O.a.lensTitle},i.createElement(a.a.div,{className:O.a.flexContainer},n&&n.view(e=>e>0&&(m.a.isOutcomeId(t)||m.a.isAllAlerts(t)||m.a.isPlagiarismId(t)?i.createElement(i.Fragment,{key:"lens-counter"},c.b.mount(r.Component,r.createLensCounterFlow(b.a.of(t),b.a.of(e),12))):null)),i.createElement("h2",null,(()=>{switch(e.lensId){case m.a.SpecialId.AllAlerts:return i.createElement(h,null);case m.a.SpecialId.Premium:case m.a.SpecialId.FreePremiumAlerts:return i.createElement(v,null);case m.a.SpecialId.Plagiarism:return i.createElement(_,null);case m.a.SpecialId.Correctness:case m.a.SpecialId.Clarity:case m.a.SpecialId.Engagement:case m.a.SpecialId.Delivery:case m.a.SpecialId.Vox:case m.a.SpecialId.KnowledgeHub:return i.createElement(g,{lensId:e.lensId,lensPreviewVM:e.lensPreviewVM});case m.a.SpecialId.Premium:case m.a.SpecialId.PredictionEmogenie:case m.a.SpecialId.PredictionTakeaways:case m.a.SpecialId.RealTimeProofit:return null;default:Object(o.c)(e.lensId)}})()),e.customSideButton,m.a.isOutcomeId(t)?i.createElement(u.b,{iconClass:O.a.infoIcon,tooltipClass:O.a.infoTooltip,title:Object(y.b)(e.lensId).description}):l||null,m.a.isOutcomeId(t)||m.a.isPlagiarismId(t)||m.a.isDraftAIId(t)?i.createElement(f,{key:"back-to-all-alerts",density:e.density}):[m.a.SpecialId.Premium,m.a.SpecialId.FreePremiumAlerts].includes(t)&&s.getLens(m.a.SpecialId.AllAlerts).view("count").view(t=>t>0?i.createElement(f,{key:"back-to-all-alerts",density:e.density}):null)))},n=e.OutcomeContext=i.createContext({navigateToAllAlerts:s.e}),f=e.BackToAllAlertsButton=({density:e=b.a.of("cozy")})=>{const{backToAllAlerts:t}=i.useContext(l.a.Context).sidebar;return i.createElement(n.Consumer,null,({navigateToAllAlerts:n})=>i.createElement(u.a.Flat,{name:"to-all-alerts",tag:d.b.div,className:O.a.toAllAlertsButton,onClick:n,"aria-label":e.pipe(b.a.map(e=>"compact"===e?t:void 0))},e.pipe(b.a.map(e=>"cozy"===e&&i.createElement("span",{className:O.a.toAllAlertsText},t))),i.createElement(p.d.Close,{width:13})))};const h=()=>i.createElement(i.Fragment,null,i.useContext(l.a.Context).sidebar.allAlerts),g=({lensId:e,lensPreviewVM:t})=>i.createElement(i.Fragment,null," ",t.lensPreviews[e].title),v=()=>i.createElement(i.Fragment,null," ",i.useContext(l.a.Context).sidebar.premiumAlertsTitle),_=()=>i.createElement(i.Fragment,null," ",i.useContext(l.a.Context).plagiarism.title)}(v||(v={}))},e92m:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("cZKX"),c=n("IMGo"),l=n("DTwm"),u=n("uwym"),d=n("lXop"),p=n("mgiE"),m=n("TKPA"),f=n("0kuo"),h=n("M3t0"),g=n("Hj2R"),b=n("xk6L"),v=n("yIk2"),y=n("uxqH"),O=n("phaH"),_=n("hzat"),C=n("8XoQ"),w=n("YqdJ"),S=n("mDV6"),k=n("Eow2"),E=n("KH+i"),j=n("YqJ0");!function(e){e.id="BulkAcceptItemId",e.Kind="BulkAcceptItem";const t=s.eb(p.c.fromEquals((e,t)=>e.id===t.id&&_.a.isBulkApplied(e)===_.a.isBulkApplied(t)));var n=e.efficientAlertEq=p.c.fromEquals((e,n)=>e.length===n.length&&t.equals(e,n)),i=e.eqByAlerts=p.c.fromEquals((e,t)=>n.equals(e.alerts,t.alerts)),y=(e.isInAppliedState=e=>"applied"===e.visibilityState,e.isInVisibleState=e=>"visible"===e.visibilityState),O=e.isInUndoneState=e=>"undone"===e.visibilityState;e.isInInitialState=Object(m.p)(y,O),e.eq=p.c.fromEquals((e,t)=>i.equals(e,t)&&e.activeAlertIndex===t.activeAlertIndex&&e.hasMarkFocusable===t.hasMarkFocusable&&e.visibilityState===t.visibilityState),e.visualStateEq=p.c.fromEquals((e,t)=>k.a.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState);e.isBulkAcceptItem=function(e){return e.id===r.id};e.create=(e,t)=>(Object(f.f)(s.ob(e),"Cannot create BulkAcceptItem without bulk-acceptable alerts"),new x(e,I(e),k.a.empty,j.b.initial({type:"added",clockwise:!0}),t)),e.updateAlerts=(e,t)=>new x(t,"dismissed"===e.visibilityState?e.visibilityState:I(t),e.positionState,Object(o._)(Object(a._)({},e.visualState),{incomplete:!1}),e.renderOptions,e.hasMarkFocusable,Object(l.pipe)(p.g.fromNullable(t[e.activeAlertIndex]),p.g.map(()=>e.activeAlertIndex),p.g.getOrElse(()=>t.length-1))),e.changePosition=e=>t=>new x(e.alerts,e.visibilityState,t,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.changeVisualState=e=>t=>new x(t.alerts,t.visibilityState,t.positionState,e,t.renderOptions,t.hasMarkFocusable,t.activeAlertIndex),e.completeTransition=(e,t)=>new x(e.alerts,e.visibilityState,e.positionState,j.b.complete(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.transitionTo=(e,t)=>new x(e.alerts,e.visibilityState,e.positionState,j.b.to(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.dismiss=e=>new x(e.alerts,"dismissed",e.positionState,j.b.to(e.visualState,{type:"removed",clockwise:!0}),e.renderOptions);const C=Object(u.e)(c.Y)(),E=C.composeLens(u.c.fromPath()(["state"])),A=C.composeLens(u.c.fromProp()("ignoreAllowed"));e.undo=e=>new x(Object(l.pipe)(e.alerts,E.set({type:g.a.State.Type.REGISTERED,checkingState:g.a.CheckingState.CHECKING}),A.set(!1)),"undone",e.positionState,Object(o._)(Object(a._)({},e.visualState),{incomplete:!1}),e.renderOptions),e.select=(e,t)=>Object(l.pipe)(t,p.g.filter(t=>t.id===e.id),p.g.orElse(Object(l.pipe)(e,p.g.fromPredicate(e=>"focused"===e.visualState.transition.type))),p.g.fold(()=>{const n=k.a.invalidateHeight(e.positionState),r={type:"focused",clockwise:!0},i=Object(l.pipe)(t,p.g.fold(()=>j.b.initial(r),()=>j.b.to(e.visualState,r)));return new x(e.alerts,e.visibilityState,n,i,e.renderOptions)},()=>e)),e.unselect=(e,t)=>Object(l.pipe)(t,p.g.filter(t=>t.id===e.id),p.g.orElse(Object(l.pipe)(e,p.g.fromPredicate(e=>"rendered"===e.visualState.transition.type))),p.g.fold(()=>{const t=k.a.invalidateHeight(e.positionState),n=S.a.isHidden(e)?e.visualState:j.b.to(e.visualState,{type:"rendered",clockwise:!0});return new x(e.alerts,e.visibilityState,t,n,e.renderOptions)},()=>e)),e.selectAlert=e=>t=>{const n=t.alerts.findIndex(t=>t.id===e);return n<0&&h.d.Logging.getLogger("BulkAcceptItem").error("Tried to select non-existing alert"),new x(t.alerts,t.visibilityState,t.positionState,t.visualState,t.renderOptions,-1!==n,-1!==n?n:0)},e.clone=e=>new x(e.alerts,e.visibilityState,e.positionState,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.hasAlert=e=>t=>void 0!==t.alerts.find(t=>t.id===e),e.moveToViewportTop=(e,t)=>n=>e.setCardPosition(n.id,!1,!0,w.b.FromWindowTop.ISO.wrap(t)).pipe(b.a.switchMapTo(b.a.NEVER)),e.alignMarkToBulkItem=(e,t)=>({suggestedPosition:n})=>r=>{const i={alert:r.activeAlert,highlightIndex:r.activeHighlightIndex};return Object(l.pipe)(e.getMarkAlertPosition(i),b.a.map(p.g.map(Object(l.flow)(w.b.FromWindowTop.ISO.modify(e=>e-w.b.FromWindowTop.ISO.unwrap(n)),w.b.FromWindowTop.ISO.unwrap))),b.b.compact,b.a.switchMap(t=>e.moveAlertHighlightInViewport(i,n,d.a.none).pipe(b.a.mapTo(t))),b.a.switchMap(e=>{const n=p.b.unsafeGet(t.getCardSuggestedPositionInViewport(r.id,!1,p.g.none,"cardContentTop")),i=w.b.FromWindowTop.ISO.modify(w.a.concatC(e))(n.top),a=t.isAboveViewportTop(i)?w.b.FromWindowTop.ISO.wrap(n.contentOffset):i;return t.setCardPosition(r.id,!1,!1,a)}),b.a.mapTo(v.b.voidValue),b.a.catchError(e=>(h.d.Logging.root.getLogger("AlignmentViewModel").error("Cannot align mark to suggested position of BulkAcceptItem",e),b.a.EMPTY)),b.a.share())};const I=Object(l.flow)(s.ib,p.g.filter(_.a.isBulkApplied),p.g.fold(()=>"visible",()=>"applied"))}(r||(r={}));class x{equals(e){return r.eq.equals(this,e)}hashCode(){return Object(O.b)(this.alerts.map(e=>e.id).join())}constructor(e,t,n,a,o,s=!1,c=0){Object(i._)(this,"alerts",void 0),Object(i._)(this,"visibilityState",void 0),Object(i._)(this,"positionState",void 0),Object(i._)(this,"visualState",void 0),Object(i._)(this,"renderOptions",void 0),Object(i._)(this,"hasMarkFocusable",void 0),Object(i._)(this,"activeAlertIndex",void 0),Object(i._)(this,"kind",void 0),Object(i._)(this,"id",void 0),Object(i._)(this,"activeAlert",void 0),Object(i._)(this,"activeHighlightIndex",void 0),Object(i._)(this,"removedAlertsIds",void 0),Object(i._)(this,"meta",void 0),Object(i._)(this,"a11yContrast",void 0),this.alerts=e,this.visibilityState=t,this.positionState=n,this.visualState=a,this.renderOptions=o,this.hasMarkFocusable=s,this.activeAlertIndex=c,this.kind=r.Kind,this.id=r.id,this.activeHighlightIndex=0,this.removedAlertsIds=new Set,this.activeAlert=e[this.activeAlertIndex];const l=e.map(e=>e.getHighlightRanges()[0]);this.meta=new C.a.Impl(y.a.fromRatio(this.activeAlert.progress),this.activeAlert.explanation,C.a.CheckingState.Idle,l,!1),this.a11yContrast=o.features.has(E.a.Features.a11yContrast)}}},eM7Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("B8yO"),i=n("4GyQ"),a=n("NDcT"),o=n("fC5a"),s=n("ySi0"),c=n("wuWi"),l=n("nWMp");const u=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:l,replaceOneMatch:u=!0,disableOnEnd:d=!0,style:p})=>{const f=r.useContext(a.a.Context).card.matchesNavigation;return 0===l?null:1===l&&u?r.createElement("div",Object(i.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow),r.createElement(c.h,Object(i.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount),f.numberOfMatches(l))):r.createElement("div",Object(i.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow),r.createElement(o.a.Ghost,{disabled:d&&0===n,name:"left",title:f.prev,"aria-label":f.prev,onClick:e},r.createElement(s.d.Arrow,Object(i.c)(m.leftButtonIcon,!!Boolean(p.leftButtonIcon)&&p.leftButtonIcon))),r.createElement(c.h,Object(i.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount),f.currentMatchPosition(n+1,l)),r.createElement(o.a.Ghost,{disabled:d&&n===l-1,name:"right",title:f.next,"aria-label":f.next,onClick:t},r.createElement(s.d.Arrow,Object(i.c)(m.rightButtonIcon,!!Boolean(p.rightButtonIcon)&&p.rightButtonIcon))))},d={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:l.a.rem(.25)}}},p={textTransform:"uppercase",letterSpacing:l.a.px(.8),lineHeight:l.a.rem(2)},m=l.a.stylesheet({matchesRow:[d],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[p]})},eUGc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a5gI"),i=n("B8yO"),a=n("KqOJ"),o=n("xk6L"),s=n("La5+"),c=n("RRF2");class l extends i.Component{componentDidMount(){const e=a.findDOMNode(this);this._subs.push(o.a.fromEvent(document,"mousedown").subscribe(t=>{e&&e!==t.target&&!c.c.isParent(e,t.target)&&this.props.hide(t.target)}))}componentWillUnmount(){this._subs.dispose()}render(){return i.Children.only(this.props.children)}constructor(...e){super(...e),Object(r._)(this,"_subs",new s.a.Keeper)}}},eYZj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("M3t0");!function(e){!function(e){e.isVideo=function(e){return"video"in e}}(e.Content||(e.Content={}))}(r||(r={}));var c=function(){function e(t){Object(i.a)(this,e),Object(o._)(this,"_settings",void 0),this._settings=t}return Object(a.a)(e,[{key:"markSeen",value:function(e){return s.d.Logging.getLogger("whatsnew").info("News shown",e),this._settings.markNewsItemsAsSeen(e)}}]),e}()},ebLO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("V+fo"),a=n("B/Ki"),o=n("GMJx"),s=n("Wy1Y"),c=n("uKMM"),l=n("a5gI"),u=n("lKCo"),d=n("0kuo"),p=function(){function e(t){Object(s.a)(this,e),Object(l._)(this,"_delta",void 0),Object(l._)(this,"_cursor",void 0),this._delta=t,this._cursor={index:0,operationOffset:0}}return Object(c.a)(e,[{key:"next",value:function(e){Object(d.f)(e>=0,"Length cannot be negative");var t=this._cursor.index;if(t>=this._delta.ops.length)return u.none;for(var n=a.a.operationLength(this._delta.ops[t]),r=e-(n-this._cursor.operationOffset);r>0&&t<this._delta.ops.length-1;)t++,r-=n=a.a.operationLength(this._delta.ops[t]);return r>0?(this._cursor={index:t+1,operationOffset:0},u.none):(this._cursor={index:t,operationOffset:n+r},u.some(this._delta.ops[t]))}}]),e}(),m=n("mgiE");!function(e){const t=m.g.getMonoid(Object(i.getObjectSemigroup)());e.getEnrichedWithFormattingDelta=e=>n=>{const r=new p(e);return n.ops.reduce(([e,n],i)=>{const o=r.next(n);return a.a.isInsert(i)?[e.insert(i.insert,m.g.toUndefined(t.concat(m.g.chain(a.a.getAttrs)(o),a.a.getAttrs(i)))),0]:[e.push(i),a.a.operationLength(i)]},[new o.a,1])[0]}}(r||(r={}))},efqv:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("tiWp"),s=n("OwvP"),c=n("+vYo"),l=n("4GyQ"),u=n("mgiE"),d=n("TKPA"),p=n("ksEe"),m=n("NDcT"),f=n("fC5a"),h=n("4lxU"),g=n("WLOZ"),b=n("sX1a"),v=n("AcQZ"),y=n("yIk2"),O=n("7IMz"),_=n("xk6L"),C=n("vGXj"),w=n("DTwm"),S=n("RRF2"),k=n("2swC"),E=n("nWMp");const j={display:"flex",flexDirection:"column",maxHeight:"90vh",width:E.a.rem(41.5),backgroundColor:k.a.CoreNeutral0,textAlign:"left"},x={padding:`${E.a.rem(1.125)} ${E.a.rem(2)} ${E.a.rem(1)}`,paddingBottom:E.a.rem(1)},A={paddingBottom:0,backgroundColor:k.a.CoreNeutral0,flexShrink:0,$nest:{"&:after":{position:"absolute",bottom:0,display:"block",width:`calc(100% - ${E.a.rem(4)})`,height:E.a.px(1),background:k.a.CoreNeutral20,content:"''"}}},I={display:"block",margin:E.a.rem(.8125)+" 0",color:k.a.CoreNeutral90,fontWeight:k.h.SmallLightWeight,lineHeight:E.a.rem(1.5)},T={minHeight:E.a.rem(4)},M={display:"flex",$nest:{"&:not(:last-child)":{marginBottom:E.a.rem(1.25),borderBottom:"1px solid "+k.a.CoreNeutral20}}},P={marginBottom:E.a.rem(-.5),maxWidth:E.a.rem(27),justifyContent:"initial",flexWrap:"wrap",$nest:{"& > .setGoalsToneButton":{margin:"0 0 "+E.a.rem(.5),marginLeft:E.a.important(0),$nest:{"&:not(:last-child)":{marginRight:E.a.rem(.5)}}}}},N={width:E.a.rem(7),textTransform:"capitalize",lineHeight:E.a.rem(2)},B={marginTop:E.a.rem(.8125)},L={margin:`0 0 ${E.a.rem(1.5)} ${E.a.rem(7)}`},F={margin:`0 0 ${E.a.rem(1.5)} ${E.a.rem(7)}`},R={position:"absolute",top:E.a.rem(2.5)},D={display:"flex",width:E.a.percent(100),justifyContent:"space-between"},H={color:k.a.CoreNeutral90,fontWeight:300,fontSize:E.a.rem(.8125)},V=E.a.stylesheet({wrapper:[j],modalBody:[x],modalHeader:[A],itemDescription:[I],modalFooter:[T],row:[M],toneButtons:[P],rowHeader:[N],extraContent:[B],title:[L],description:[F],image:[R],footerWrapper:[D],checkboxText:[H]}),U=({name:e,items:t,sticky:n,theme:i={},extraContent:o,children:c,isVisible:l})=>a.createElement(s.a.Fragment,null,l.view(s=>s?a.createElement("div",{className:V.row},a.createElement("div",null,a.createElement(b.Typography,{nodeType:"h3",styleType:b.Typography.Type.H4,className:V.rowHeader},e),o),a.createElement("div",null,a.createElement(f.a.Group,{sticky:n,className:i.buttonsGroup},t.map(t=>{var{description:n}=t,o=Object(C._)(t,["description"]);const s=S.c.createUniqueId(o.key);return a.createElement(a.Fragment,{key:o.key},a.createElement(f.a.White,Object(r._)({className:i.button,name:`context-${e}-${o.key}`,"aria-describedby":s},o)),a.createElement("span",{hidden:!0,id:s},e,": ",n))})),a.createElement(b.Typography.Small,{className:V.itemDescription},c))):null)),W=({items:e,current:t,isVisible:n,shouldDisable:r,itemDescription:i,itemTitle:a=w.identity})=>({sticky:!0,isVisible:n,items:e.map(e=>({key:e,active:t.view(t=>t===e),onClick:()=>t.set(e),disabled:r&&r(e),children:a(e),description:i(e)}))}),z=({blocks:e,features:t,showOnLoad:n,close:r,upgrade:i,reset:o,showOnLoadChanged:s})=>{const c=a.useContext(p.a.Context),l=y.b.toObservable(t),u=y.b.toObservable(e),d=y.b.toObservable(n),m=y.b.toObservable(r);return a.createElement(g.a,{className:V.wrapper,focusTrapMode:"dynamic",initialFocus:O.a.FocusTrap.InitialFocus.none},a.createElement(g.a.Header,{className:V.modalHeader},a.createElement(q,null)),a.createElement(g.a.Body,{name:"goalsBody",className:V.modalBody},a.createElement(G,{features:l,upgradeAction:i,blocks:u})),a.createElement(g.a.Footer,{className:V.modalFooter},a.createElement(K,{supportsSetGoalsLoader:l.pipe(_.a.map(e=>!e.demoMode&&c.has(p.a.Flag.supportsSetGoalsLoader))),onDone:m,reset:o,showOnLoad:d,showOnLoadChanged:s})))},G=({blocks:e,features:t,upgradeAction:n})=>{const c=a.useContext(m.a.Context).goals;return a.createElement(s.a.Fragment,null,_.a.combineLatestStatic(e,t).pipe(_.a.map(([{audience:e,formality:t,domain:l,intent:d,type:p,format:m},f])=>{const h=a.createElement(U,Object(i._)(Object(r._)({name:"domain"},W(Object(i._)(Object(r._)({},l),{itemTitle:e=>"mail"===e?"email":e,itemDescription:e=>c.sections.domain[e]}))),{extraContent:a.createElement(s.a.div,{className:V.extraContent},f.isFree?a.createElement(v.a,{size:"link",upgradeAction:n,isEligibleForFreeTrial:f.isEligibleForFreeTrial}):null)}),l.current.view(e=>f.isFree?c.sections.domain.free:Boolean(e)?c.sections.domain[e]:"")),g=a.createElement(U,Object(r._)({name:"intent"},(({items:e,isVisible:t,current:n},r,i)=>({isVisible:t,items:e.map(e=>({key:e,active:n.view(t=>Object(o.pipe)(t,u.g.exists(t=>t.has(e)))),description:i(e),onClick:()=>n.modify(t=>{const n=Object(o.pipe)(t,u.g.fold(()=>new Set,e=>new Set(e)));return n.has(e)?n.delete(e):n.add(e),u.g.some(n)}),children:r(e)}))}))(d,e=>c.sections.intent.options[e],e=>c.sections.intent.options[e])),c.sections.intent.experimental),b=a.createElement(U,Object(r._)({name:"audience"},W(Object(i._)(Object(r._)({},e),{itemDescription:t=>c.sections.audience[t](Object(o.pipe)(e.default,u.g.exists(e=>e===t)))}))),e.current.view(t=>Boolean(t)&&c.sections.audience[t](Object(o.pipe)(e.default,u.g.exists(e=>e===t))))),y=a.createElement(U,Object(r._)({name:"formality"},W(Object(i._)(Object(r._)({},t),{itemDescription:e=>c.sections.formality[e]}))),t.current.view(e=>Boolean(e)?c.sections.formality[e]:"")),O=a.createElement(U,Object(r._)({name:"type"},W(Object(i._)(Object(r._)({},p),{itemDescription:e=>c.sections.type.options[e]}))),p.current.view(e=>Boolean(e)?c.sections.type.options[e]:"")),_=a.createElement(U,Object(r._)({name:"format"},W(Object(i._)(Object(r._)({},m),{itemTitle:c.sections.format.formatTitle,itemDescription:e=>c.sections.format.options[e]}))),m.current.view(e=>Boolean(e)?c.sections.format.options[e]:""));return f.isStudentsOFE?a.createElement(a.Fragment,null,h,g,b,y,O,_):a.createElement(a.Fragment,null,b,y,h,g)})))},q=()=>{const e=a.useContext(m.a.Context).goals,t=a.useContext(g.a.TitleIdContext);return a.createElement(a.Fragment,null,a.createElement(b.Typography,{nodeType:"h2",styleType:b.Typography.Type.H1,id:t,className:V.title},e.title),a.createElement($,null),a.createElement(g.a.SpokenDescription,null,a.createElement(b.Typography.Base,{className:V.description},e.header)))},K=({supportsSetGoalsLoader:e,showOnLoad:t,showOnLoadChanged:n,reset:r,onDone:i})=>{const o=a.useContext(m.a.Context),u=c.a.create(!1);return O.a.useSubscriptionTo(t.pipe(_.a.tap(y.b.toAtom(u)))),O.a.useSubscriptionTo(u.pipe(_.a.tap(n))),a.createElement(s.a.div,Object(l.c)(e.pipe(_.a.map(Object(d.c)(V.footerWrapper,null)))),e.pipe(_.a.map(Object(d.c)(a.createElement(h.a,{checked:u,name:"set-goals"},a.createElement(b.Typography.Small,{className:V.checkboxText},o.goals.footer.showModalOnStart)),null))),a.createElement(f.a.Group,null,a.createElement(f.a.Ghost,{name:"reset",onClick:r},o.goals.footer.reset),i.pipe(_.a.map(e=>a.createElement(f.a.Primary,{name:"closeSetContext",onClick:e},o.done)))))},$=()=>a.createElement("svg",{"aria-hidden":!0,className:V.image,width:"69",height:"80",viewBox:"0 0 69 80"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),a.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13a5.564 5.564 0 1 0 0-11.128 5.565 5.565 0 0 0 .001 11.129z",fill:"#BCDBFB"}),a.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),a.createElement("path",{stroke:"#4C7AF1",strokeLinecap:"round",strokeWidth:"1.5",d:"M15.024 68.016L9.46 78.5m32.274-10.484L47.298 78.5"}),a.createElement("path",{d:"M61.96 13.367a.65.65 0 0 1 .645.656.65.65 0 0 1-.646.655h-6.075L29.35 41.7a.636.636 0 0 1-.913 0 .663.663 0 0 1 0-.927L54.972 13.75V7.59a.65.65 0 0 1 .645-.656.65.65 0 0 1 .646.656v5.777h5.696zm3.17-3.215a.65.65 0 0 1 .646.655.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V4.372a.65.65 0 0 1 .646-.655.65.65 0 0 1 .644.655v5.78h5.696zm3.17-3.218a.65.65 0 0 1 .647.656.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V1.155A.65.65 0 0 1 61.96.5a.65.65 0 0 1 .645.655v5.78H68.3z",fill:"#4C7AF1"}),a.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})))},ekGJ:function(e){e.exports=JSON.parse('{"container":"_1da21af2-editor-container","editorComponentWrapper":"_9c352f06-editor-editorComponentWrapper","fade":"_4674b2b9-editor-fade","editorTopContentWrap":"_5735c025-editor-editorTopContentWrap","editorTopContent":"_598d7b3a-editor-editorTopContent","titleWrap":"_eebaed4f-editor-titleWrap","title":"_063f6639-editor-title","printTitle":"_60802792-editor-printTitle _063f6639-editor-title","toEditingEnd":"_87ac22d6-editor-toEditingEnd","toEditingStart":"_80610d7e-editor-toEditingStart","toWritingEnd":"_b60a06ef-editor-toWritingEnd","toWritingStart":"_21b7610b-editor-toWritingStart","scrollWrap":"_0a39c7f0-editor-scrollWrap","editorContentWrap":"_9ebf40eb-editor-editorContentWrap","editorContentWrapFullWidth":"_10119ad8-editor-editorContentWrapFullWidth _9ebf40eb-editor-editorContentWrap","editorContent":"_ea8975e7-editor-editorContent","editorContentFullWidth":"_3565fd9e-editor-editorContentFullWidth _ea8975e7-editor-editorContent","textContent":"_f05b624d-editor-textContent","overlayClickableEl":"_afc84c44-editor-overlayClickableEl","scrollWrapFixed":"_82aee97c-editor-scrollWrapFixed"}')},eveZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r,i,a,o,s=n("8O/t"),c=n("X76w"),l=n("B8yO"),u=n("DTwm"),d=n("+vYo"),p=n("mgiE"),m=n("2swC"),f=n("NDcT"),h=n("fC5a"),g=n("ySi0"),b=n("Butu"),v=n("wuWi"),y=n("nWMp"),O=n("NbNH"),_=n("ZDrO"),C=n("7IMz"),w=n("itj6");i=r||(r={}),a=i.NAME_LENGTH_LIMIT=30,o=i.CONTENT_LENGTH_LIMIT=1e3,i.validate=(e,t,n)=>{const r=((e,t)=>0===e.trim().length?p.g.some(t.nameEmpty):e.length>a?p.g.some(t.nameTooLong):p.g.none)(e,n),i=((e,t)=>0===e.trim().length?p.g.some(t.textEmpty):e.length>o?p.g.some(t.textTooLong):p.g.none)(t,n);return p.g.isNone(r)&&p.g.isNone(i)?p.b.right(void 0):p.b.left({nameError:r,contentError:i})};var S,k=n("9bwL"),E=n("CBmo"),j=n("TXN2"),x=n("jEie");!function(e){e.Full=({card:e,actions:n,isChecking:i})=>{const a=l.useContext(f.a.Context),[o,s]=l.useState(""),[c,m]=l.useState(e.activeAlert.snippetText),[h,g]=l.useState(""),[y,O]=l.useState(""),C=Object(u.pipe)(e.activeAlert.snippetsTrigger,p.g.fold(()=>"\\",u.identity));return l.createElement(j.s,{card:e,actions:n,isChecking:i,body:l.createElement("div",null,l.createElement(j.i,{alert:e.activeAlert,options:e.renderOptions}),l.createElement(v.a,{className:R.subheader},a.card.suggestedSnippet.subheader),l.createElement("div",{className:R.inputContainer},l.createElement(b.b,{name:"snippet-name",placeholder:a.card.suggestedSnippet.namePlaceholder,value:o,onChange:e=>s(e.target.value),className:R.snippetName}),h.length>0&&l.createElement(v.l,{className:R.inputError},h)),l.createElement("div",{className:R.inputContainer},l.createElement(b.c,{blockExtension:!0,name:"snippet-content",placeholder:a.card.suggestedSnippet.textPlaceholder,value:c,onChange:e=>m(e.target.value),className:R.snippetText}),y.length>0&&l.createElement(v.l,{className:R.inputError},y)),l.createElement(v.l,{className:R.explanation},a.card.suggestedSnippet.explanation(l.createElement(t,{trigger:C}))),l.createElement(j.q,{title:a.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:d.a.create(!1),onClick:_.d.callOnce(()=>{Object(u.pipe)(r.validate(o,c,a.card.suggestedSnippet.validationMessages),p.b.fold(({nameError:e,contentError:t})=>{Object(u.pipe)(e,p.g.fold(()=>g(""),g)),Object(u.pipe)(t,p.g.fold(()=>O(""),O))},()=>{n.next({type:w.b.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:o,snippetText:c}),g(""),O("")}))})})),footer:l.createElement(k.b,{key:"card-actions-details",visualState:e.visualState,className:R.more},l.createElement(v.a,null,a.card.suggestedSnippet.details(l.createElement(l.Fragment,null,C))))})};const t=({trigger:e})=>l.createElement("span",{className:R.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const n=l.useContext(f.a.Context);return C.a.useEffectOnWillUnmount(()=>{t.next({type:w.b.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})}),l.createElement(E.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:w.b.Type.mutedAlertSuccessShow}),theme:Object(x.b)(e.renderOptions),visualState:e.visualState,body:l.createElement("div",{className:R.successHeader},l.createElement(g.d.ValidationOk,{className:R.successIcon}),l.createElement(v.l,null,n.card.suggestedSnippet.successStateTitle)),mainActions:l.createElement(l.Fragment,null),footer:l.createElement(l.Fragment,null),subActions:l.createElement("div",{className:R.successAction},l.createElement(h.a.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:w.b.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},n.card.suggestedSnippet.libraryLinkCaption,l.createElement(g.d.OuterLink,null)),l.createElement(h.a.Ghost,{name:"done",onClick:()=>_.d.callOnce(()=>t.next({type:w.b.Type.switchToNext}))()},n.done))})}}(S||(S={}));const A={paddingTop:y.a.rem(.75),paddingBottom:y.a.rem(.5),letterSpacing:m.h.SubheadingLetterSpacing,fontSize:y.a.rem(m.h.SubheadingSize),lineHeight:y.a.rem(m.h.SubheadingLineHeight),color:m.h.SubheadingColor,textTransform:"uppercase"},I={fontFamily:"inherit",boxSizing:"border-box",padding:""+y.a.rem(.5),fontSize:y.a.rem(.875)},T=Object(c._)(Object(s._)({},I),{height:y.a.rem(2.5)}),M=Object(c._)(Object(s._)({},I),{height:y.a.rem(8)}),P={marginBottom:y.a.rem(.5)},N={color:m.a.CoreRed50},B={display:"block",color:m.a.CoreNeutral50,marginBottom:y.a.rem(.75)},L={position:"absolute",left:y.a.rem(.5),width:y.a.rem(1),height:y.a.rem(1),minWidth:y.a.rem(1),minHeight:y.a.rem(1)},F={display:"inline-block",width:y.a.rem(1),height:y.a.rem(1),backgroundColor:m.a.CoreBlue1,borderRadius:y.a.rem(O.t),textAlign:"center"},R=y.a.stylesheet({subheader:[A],snippetName:[T],snippetText:[M],explanation:[B],successIcon:[L],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[P],inputError:[N],more:[j.y],snippetsTrigger:[F]})},ez9D:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("MHMU"),a=n("DTwm"),o=n("K40b"),s=n("HBEw"),c=n("g6gm");!function(e){!function(e){e.show=o.a.getShow(i.e,s.a.Item.show),e.empty=o.a.empty}(e.Diff||(e.Diff={}));e.empty=c.a.iso.wrap(c.a.empty);e.get=function(e){return Object(a.flow)(c.a.iso.unwrap,c.a.get(e))},e.reduce=function(e,t){return Object(a.flow)(c.a.iso.unwrap,c.a.reduce(e,t))},e.diff=function(e,t){return c.a.diff(c.a.iso.unwrap(e),c.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===c.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(a.flow)(c.a.iso.unwrap,c.a.find(e))},e.size=function(){return Object(a.flow)(c.a.iso.unwrap,c.a.size)},e.sduiRoots=function(){return Object(a.flow)(c.a.iso.unwrap,(function(e){return Array.from(e.entries.keys())}))}}(r||(r={}))},f82Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i=n("8O/t"),a=n("X76w"),o=n("vGXj"),s=n("B8yO"),c=n("OwvP"),l=n("4GyQ"),u=n("yIk2"),d=n("0kuo"),p=n("2swC"),m=n("nWMp"),f=n("Frap");function h(e){var{wrapperClassName:t,variation:n,isIdle:r,ref:l,label:d}=e,p=Object(o._)(e,["wrapperClassName","variation","isIdle","ref","label"]);return s.createElement(c.a.span,{"data-role":"spinner",role:"status","aria-busy":!Boolean(r),"aria-live":Boolean(r)?"off":"polite","aria-label":null!=d?d:"Content is loading.",className:t},u.b.mapMaybeObservable(n,e=>s.createElement(h.Svg,Object(a._)(Object(i._)({},p),{type:e,isIdle:r}))))}(r=h||(h={})).getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(d.c)(t)}},r.Svg=e=>{const{className:t,size:n=64,strokeWidth:r=2,type:c,name:u,isIdle:p}=e,m=Object(o._)(e,["className","size","strokeWidth","type","name","isIdle"]),f=s.useRef(null),g=s.useRef(null);return s.useEffect(()=>(Object(d.f)(null!==f.current,"groupEl should be already created"),g.current=f.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>g.current.cancel()),[]),s.useEffect(()=>{Object(d.f)(null!==g.current,"groupAnimation should be already created");const e=g.current;Boolean(e.play)&&(!0===p?e.pause():"running"!==e.playState&&e.play())}),s.createElement("svg",Object(i._)(Object(a._)(Object(i._)({"data-role":u},Object(l.c)(t)),{viewBox:"25 25 50 50",width:n,height:n,"aria-hidden":!0}),m),s.createElement("g",{transform:"translate(50 50)"},s.createElement("g",{ref:f},s.createElement("circle",Object(a._)(Object(i._)({},Object(l.c)(x.path,!0===p&&b,h.getClassName(x)(c))),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:r,strokeMiterlimit:"10"})))))};const g=m.a.keyframes({"0%":{strokeDasharray:"1px, "+m.a.px(200),strokeDashoffset:m.a.px(1)},"50%":{strokeDasharray:"89px, "+m.a.px(200),strokeDashoffset:m.a.px(-35)},"100%":{strokeDasharray:"89px, "+m.a.px(200),strokeDashoffset:m.a.px(-124)}}),b="spinnerIdle",v={animation:g+" 2s ease-in-out infinite",strokeDasharray:"1px, "+m.a.px(200),strokeDashoffset:m.a.px(1),strokeLinecap:"round",$nest:{["&."+b]:{animationIterationCount:0}}},y={stroke:p.a.CoreRed50},O={stroke:p.a.CoreGreen50},_={stroke:p.a.CoreBlue50},C={stroke:p.a.CoreNeutral0},w={stroke:f.purple500},S={stroke:f.yellow600},k={stroke:p.a.CoreYellow60},E={stroke:f.ui500},j={stroke:p.a.CoreCyan50},x=m.a.stylesheet({path:[v],red:[y],green:[O],blue:[_],white:[C],violet:[w],yellow:[S],orange:[k],gray:[E],cyan:[j]})},f9tp:function(e,t,n){"use strict";function r(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,"a",(function(){return r}))},fB2g:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("lX5M");const i=Object(r.createTypeStyle)()},fFVt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("DTwm"),a=n("mgiE"),o=n("mML0");!function(e){e.empty=o.a.empty;e.applyDiff=function(e){return Object(i.flow)(o.a.applyDiffLoose(e),a.b.mapLeft(e=>({recovered:e.recovered,rejected:e.rejected})))},e.toCheckingResult=function(e){return o.a.iso.wrap(e)}}(r||(r={}))},fQuC:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("+vYo"),s=n("OwvP"),c=n("4GyQ"),l=n("NDcT"),u=n("wuWi"),d=n("nWMp"),p=n("PltQ"),m=n("NbNH"),f=n("xk6L"),h=n("yIk2");function g({value:e,className:t,leftCustomClass:n,rightCustomClass:l}){const u=o.a.create(!1);requestAnimationFrame(()=>requestAnimationFrame(()=>u.set(!0)));const d=f.a.combineLatestStatic(h.b.toObservable(e),u,(e,t)=>t?Math.max(5,Math.abs(e-50))+"%":0),p=(e,t,n)=>h.b.toObservable(e).pipe(f.a.map(e=>e<50?t:n));return a.createElement(s.a.div,Object(c.c)((e=>h.b.toObservable(e).pipe(f.a.map(e=>e<50?_.leftSideWrapper:_.rightSideWrapper)))(e),t),a.createElement(s.a.div,Object(i._)(Object(r._)({},Object(c.c)(p(e,_.leftSideProgress,_.rightSideProgress),Boolean(n)&&Boolean(l)&&p(e,n,l))),{style:{width:d}})))}!function(e){e.Label=({value:e,className:t})=>{const n=a.useContext(l.a.Context).performance,r=e>66?n.aboveAverage:e>50?n.average:n.belowAverage;return a.createElement(u.l,{className:t},r)}}(g||(g={}));const b={position:"relative",zIndex:1,display:"flex",width:d.a.percent(100),height:d.a.rem(.25),borderRadius:d.a.rem(m.t)},v={height:d.a.percent(100),backgroundColor:p.i,transition:"width .8s ease-in-out 0s"},y={marginRight:d.a.percent(50),borderTopLeftRadius:d.a.rem(.25),borderBottomLeftRadius:d.a.rem(.25)},O={marginLeft:d.a.percent(50),borderTopRightRadius:d.a.rem(.25),borderBottomRightRadius:d.a.rem(.25)},_=d.a.stylesheet({wrapper:[b],leftSideWrapper:[b,{justifyContent:"flex-end"}],rightSideWrapper:[b,{justifyContent:"flex-start"}],progress:[v],leftSideProgress:[v,y],rightSideProgress:[v,O]})},fXTi:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DTwm"),i=(n("tiWp"),n("WBKC"));n("gIH0");function a(e,t){return{decode:e.decode,encode:t.encode}}function o(e){return{decode:e.decode,encode:r.identity}}i.string,i.number,i.boolean,i.UnknownArray,i.UnknownRecord;r.identity;var s,c,l,u,d,p,m=n("9raK"),f=n("w8H4"),h=n("mgiE"),g=n("0kuo"),b=n("itj6"),v=n("l5lb");c=s||(s={}),l=c.Type=b.b.Type.sduiCardAction,u=f.a(m.a)(v.b.Actions),c.eq=h.c.fromEquals((function(e,t){return e.type===l&&e.type===t.type&&e.cardId===t.cardId&&u.equals(e.actions,t.actions)&&e.scope===t.scope})),d=a(f.a(i.Schemable)(v.b.Actions),{encode:function(e){return e}}),p=Object(r.flow)(d.decode,h.b.mapLeft((function(e){return new Error(i.draw(e))}))),c.isSduiCardAction=function(e){return e.type===s.Type&&(n=e.actions,h.b.isRight(p(n)))&&"object"==typeof(t=e.scope)&&null!=t&&Object.keys(t).every((function(e){var n=t[e];switch(e){case"alertRefs":return Array.isArray(n);default:return Object(g.d)(e),!1}}));var t,n}},fYz5:function(e){e.exports=JSON.parse('{"wrapper":"_d758f5a3-premium_ungating_renewal-wrapper","content":"_9401003f-premium_ungating_renewal-content","icon":"_69d16f6c-premium_ungating_renewal-icon","iconInfo":"_42a43110-premium_ungating_renewal-iconInfo","message":"_098c5236-premium_ungating_renewal-message","title":"_6cb71434-premium_ungating_renewal-title","manageSubscriptionBtn":"_3487f016-premium_ungating_renewal-manageSubscriptionBtn"}')},fisC:function(e,t,n){e.exports=n.p+"files/c93e619c54ac4d58a06e3deb35b1724a/inter-italic.woff2"},fjQv:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("0kuo"),s=n("M3t0"),c=function(){function e(){Object(r.a)(this,e),Object(a._)(this,"_logger",s.d.Logging.getLogger("CheetahWeb.MonitoringServiceImpl",s.a.LogLevel.INFO,s.a.LogColor.ViewModel.getColor("CheetahWeb")))}return Object(i.a)(e,[{key:"notify",value:function(e){"error"===e.kind?this._logger.error(e.name,e):"warn"===e.kind?this._logger.warn(e.name,e):"info"===e.kind?this._logger.info(e.name,e):Object(o.d)(e.kind)}}],[{key:"getInstance",value:function(){return null===e.instance&&(e.instance=new e),e.instance}}]),e}();Object(a._)(c,"instance",null)},fn2K:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return T}));var r,i,a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("eXH8"),d=n("000W"),p=n("DTwm"),m=n("tiWp"),f=n("+vYo"),h=n("fr9z"),g=n("ShUL"),b=n("SXX6"),v=n("lXop"),y=n("WLOZ"),O=n("MBt8"),_=n("xk6L"),C=n("yIk2"),w=n("S+il"),S=n("TKPA"),k=n("mgiE"),E=n("M3t0"),j=(n("qcQg"),n("KoUC"));!function(e){e.focus="searchFocus",e.next="searchNext",e.previous="searchPrevious"}(r||(r={})),function(e){var t=e.SEARCH_INPUT_NAME="search-input";e.isSearchInput=function(e){return Boolean(e)&&e.name===t};var n=function(){function e(t){Object(a.a)(this,e),Object(s._)(this,"getBindings",(function(){throw new Error("Method not implemented.")})),Object(s._)(this,"visible",f.a.create(!1)),Object(s._)(this,"term",f.a.create("")),Object(s._)(this,"result",void 0),Object(s._)(this,"hotkeysActions",new _.a.Subject),Object(s._)(this,"dispose",S.e),this.result=f.a.create(Object(m.pipe)(k.g.fromNullable(t),k.g.map((function(e){return Object(l._)(Object(c._)({},e),{next:S.e,prev:S.e})}))))}return Object(o.a)(e,[{key:"select",value:function(){throw new Error("Method not implemented.")}}]),e}();e.Mock=n}(i||(i={}));var x,A=function(){function e(t,n,r){Object(a.a)(this,e),Object(s._)(this,"_ops",void 0),Object(s._)(this,"_term",void 0),Object(s._)(this,"count",void 0),Object(s._)(this,"current",void 0),this._ops=t,this._term=n,this.count=r.ranges.length,this.current=Object(m.pipe)(r.selected,k.g.getOrElse((function(){return 0})))+1,this._ops._highlightSelectedRange()}return Object(o.a)(e,[{key:"next",value:function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(Object(p.flow)(k.g.map((function(e){return e+1})),k.g.map((function(t){return t>e.count-1?0:t})),k.g.orElse(k.g.some(0)))),this._ops._highlightSelectedRange(1===this.count)}},{key:"prev",value:function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(Object(p.flow)(k.g.map((function(e){return e-1})),k.g.map((function(t){return t<0?e.count-1:t})),k.g.orElse(k.g.some(this.count-1)))),this._ops._highlightSelectedRange()}},{key:"equals",value:function(e){return null!=e&&this.count===e.count&&this.current===e.current&&this._term===e._term}}]),e}();!function(e){var t="searchRange";e.create=function(e,n){return h.b.create(e,n,{type:t})};e.is=function(e){return Object(u.a)(e.meta.type)===t}}(x||(x={}));var I=k.c.fromEquals((function(e,t){return e.meta.id===t.meta.id})),T=function(){function e(t,n,i){var o=this;Object(a.a)(this,e),Object(s._)(this,"_ded",void 0),Object(s._)(this,"_rangeManager",void 0),Object(s._)(this,"_editorViewport",void 0),Object(s._)(this,"_log",void 0),Object(s._)(this,"_subs",void 0),Object(s._)(this,"_forceSearchSubject",void 0),Object(s._)(this,"_rangesState",void 0),Object(s._)(this,"_selectedRange",void 0),Object(s._)(this,"_activeMark",void 0),Object(s._)(this,"visible",void 0),Object(s._)(this,"term",void 0),Object(s._)(this,"result",void 0),Object(s._)(this,"hotkeysActions",void 0),Object(s._)(this,"select",void 0),Object(s._)(this,"dispose",void 0),Object(s._)(this,"_selectedPos",void 0),Object(s._)(this,"_forceSearch",void 0),Object(s._)(this,"_highlightSelectedRange",void 0),Object(s._)(this,"getBindings",void 0),Object(s._)(this,"_bindHotkey",void 0),Object(s._)(this,"_removeRanges",void 0),Object(s._)(this,"_findRanges",void 0),Object(s._)(this,"_changeActiveMark",void 0),Object(s._)(this,"_currentMark",void 0),this._ded=t,this._rangeManager=n,this._editorViewport=i,this._log=E.d.Logging.getLogger("SearchViewModel"),this._subs=[],this._forceSearchSubject=new _.a.Subject,this._rangesState=f.a.create({ranges:[],selected:k.g.none}),this._selectedRange=this._rangesState.view((function(e){return Object(m.pipe)(e.selected,k.g.chain((function(t){return k.a.lookup(t,e.ranges)})))})),this._activeMark=f.a.create(k.g.none),this.visible=f.a.create(!1),this.term=f.a.create(""),this.result=f.a.create(k.g.none),this.hotkeysActions=new _.a.Subject,this.select=function(){o._forceSearch(),o._rangesState.modify((function(e){var t=e.ranges,n=e.selected;return{ranges:t,selected:Object(m.pipe)(n,k.g.orElse(k.g.some(0)),k.g.filter((function(){return Object(S.n)(t)})))}})),o._highlightSelectedRange()},this.dispose=function(){o.term.set(""),o._subs.forEach((function(e){return e.unsubscribe()})),o._subs=[]},this._selectedPos=this._rangesState.lens("selected"),this._forceSearch=function(){return o._forceSearchSubject.next()},this._highlightSelectedRange=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o._selectedRange.get();e&&k.g.getEq(I).equals(o._activeMark.get(),t)&&o._ensureMarkInViewport(o._currentMark).subscribe({error:function(e){return o._log.error("Cannot scroll to mark",e)}}),o._activeMark.set(t)},this.getBindings=function(e){var t=new Set([O.a.short]),n=_.a.of(!0);return[{action:r.focus,hotkey:e({modifiers:t,key:"f"}),bind:o._bindHotkey,isActive:n},{action:r.next,hotkey:e({modifiers:t,key:"g"}),bind:o._bindHotkey,isActive:n},{action:r.previous,hotkey:e({modifiers:new Set([O.a.short,O.a.shift]),key:"g"}),bind:o._bindHotkey,isActive:n}]},this._bindHotkey=_.a.tap(this.hotkeysActions),this._removeRanges=function(e){Object(m.pipe)(o._activeMark.get(),k.g.filter((function(t){return e.has(t.meta.id)})),k.g.map((function(){return o._activeMark.set(k.g.none)}))),o._rangesState.modify((function(t){var n=t.ranges.filter((function(t){var n=t.meta.id;return!e.has(n)||(o._rangeManager.deregisterRange(n),!1)}));return{ranges:n,selected:Object(m.pipe)(t.selected,k.g.filter((function(e){return e<n.length})))}}))},this._findRanges=function(e){return Object(S.n)(e)?o._searchTerm(o._ded.getText().toLowerCase(),e.toLowerCase()):[]},this._changeActiveMark=function(e){var t=e.prev,n=e.next;o._currentMark=k.g.none,Object(m.pipe)(t,k.g.tap((function(e){o._ded.changeMarks([g.a.Change.getRemoveAction({range:function(){return e}})(e.meta.id)])}))),Object(m.pipe)(n,k.g.tap((function(e){o._currentMark=Object(m.pipe)(o._ded.changeMarks([g.a.Change.getCreateAction({range:function(){return e},order:0,classes:[j.mark]})(e.meta.id)]),(function(t){return t.created.get(e.meta.id)}),k.g.fromNullable,k.g.chain(k.g.fromEither)),o._ensureMarkInViewport(o._currentMark).subscribe({error:function(e){return o._log.error("Cannot scroll to mark",e)}})})))},this._subs.push(this._listenOpenEvents(),this._listenCloseEvents(),_.a.mergeStatic(this.term.pipe(_.a.filter((function(e){return e.length<=3})),_.a.mapTo("")),this.term.pipe(_.a.filter((function(e){return e.length>3})),_.a.debounceTime(300)),this._forceSearchSubject.pipe(_.a.withLatestFrom(this.term,(function(e,t){return t})))).pipe(_.a.distinctUntilChanged(),_.a.map(this._findRanges)).subscribe((function(e){o._activeMark.set(k.g.none),o._replaceRanges(e)})),this._rangesState.pipe(_.a.map((function(e){return Object(m.pipe)(e,k.g.fromPredicate((function(e){return Object(d.tb)(e.ranges)})),k.g.map((function(e){return new A(o,o.term.get(),e)})))}))).subscribe((function(e){return o.result.set(e)})),this._rangesState.pipe(_.a.switchMap((function(e){var t=e.ranges;return Object(d.tb)(t)?o._rangeManager.rangeChanged.pipe(_.a.pluck("affected"),_.a.filter(d.tb)):_.a.EMPTY})),_.a.map((function(e){return e.filter(x.is)})),_.a.map((function(e){return new Set(e.map((function(e){return e.meta.id})))}))).subscribe(this._removeRanges),this._activeMark.pipe(_.a.scan((function(e,t){return{prev:e.next,next:t}}),{prev:k.g.none,next:k.g.none})).subscribe(this._changeActiveMark)),this._subs.push(this._ded.dontFreezeWhen(this.visible,"search"),this.visible.pipe(_.a.skip(1),_.a.filter((function(e){return!e}))).subscribe((function(){o.term.set("")}))),Object(S.r)("searchVM",this)}return Object(o.a)(e,[{key:"_searchTerm",value:function(e,t){for(var n=-1,r=[];(n=e.indexOf(t,n+1))>-1;)r.push(x.create(n,n+t.length));return r}},{key:"_listenOpenEvents",value:function(){return y.b.activeCount.pipe(_.a.map((function(e){return e<1})),_.a.merge(this.visible.pipe(_.a.map((function(e){return!e}))))).pipe(_.a.switchMap(C.b.orEmpty(this.hotkeysActions)),_.a.mapTo(!0)).subscribe(C.b.toAtom(this.visible))}},{key:"_listenCloseEvents",value:function(){var e=w.a.listen("escape");return this.visible.pipe(_.a.switchMap(C.b.orEmpty(e)),_.a.merge(y.b.activeCount.pipe(_.a.filter((function(e){return e>0})))),_.a.mapTo(!1)).subscribe(C.b.toAtom(this.visible))}},{key:"_replaceRanges",value:function(t){var n=this;this._rangesState.modify((function(r){return r.ranges.forEach((function(e){return n._rangeManager.deregisterRange(e.meta.id)})),{ranges:t.map((function(t){return n._rangeManager.registerRange("search_".concat(n.term.get().replace(/\s*/g,"_"),"_").concat(e.searchMarkCount++),t)})),selected:t.length>0?k.g.some(0):k.g.none}}))}},{key:"_ensureMarkInViewport",value:function(e){var t=this;return Object(m.pipe)(e,k.b.fromOption((function(){return new Error("Mark should not be null at this point")})),k.b.chain((function(e){return e.getRect()})),k.b.map(b.b.relativeToViewport),k.b.fold(_.a.throwError,(function(n){var r=t._editorViewport.get(),i=r.top,a=r.bottom;return n.top<i+50||n.top>a-50?t._ded.scrollToMark(k.g.unsafeGet(e).id,{paddingTop:500,animate:v.a.fast}):_.a.EMPTY})))}}]),e}();Object(s._)(T,"searchMarkCount",0)},ftPv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("DTwm");const i=n("1MDf").d();function a(e){return{revisionEngine:i.wrap(e),dispose:r.constVoid}}function o(e){return i.unwrap(e)}},fuW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("cZKX"),c=n("DTwm"),l=n("xk6L"),u=n("yIk2"),d=n("mgiE"),p=n("TKPA"),m=n("RRF2"),f=n("nWMp"),h=n("7IMz"),g=n("TFiY");!function(e){let t,n;!function(e){e[e.default=0]="default",e[e.captureTab=1]="captureTab",e[e.f6Only=2]="f6Only"}(t=e.FocusBehavior||(e.FocusBehavior={})),function(e){var t=e.from=e=>Object(c.flow)(e,d.g.tap(e=>e.focus()));const n=e=>t=>Object(c.pipe)(t,d.g.fromPredicate(Object(p.b)(m.c.isHTMLElement,m.c.isFocusable)),d.g.alt(()=>Object(c.pipe)(Array.from(t.children),e(n(e))))),r=n(s.T),i=n(s.X);e.focusRootOrFirstFocusable=t(r),e.focusRootOrLastFocusable=t(i)}(n=e.FocusStrategy||(e.FocusStrategy={}));const r=f.a.stylesheet({focusLeaveTracker:[{position:"fixed"}]}),b=e=>o.createElement("div",{key:"leave-tracker-"+m.f.alphanumeric(12),tabIndex:0,onFocus:t=>(t.preventDefault(),e()),"aria-hidden":!0,className:r.focusLeaveTracker});e.create=e=>({component:r,section:s,behavior:m=t.default,focusStrategy:f=n.focusRootOrFirstFocusable,escapeStrategy:v,skipDirection:y="forwards",refocusOnMutation:O=!0})=>n=>{const _=o.useContext(e),{onMount:C,ref:w}=h.a.useElWatcher(),S=new l.a.Subject,k=e=>()=>Object(c.pipe)(f(e),d.g.tapLeft(()=>S.next("forwards"===y?g.a.FocusEvent.proceedForwards:g.a.FocusEvent.proceedBackwards)));return h.a.useSubscriptionTo(w.pipe(l.b.compact,l.a.switchMap(e=>{const n=l.a.fromEvent(e,"keydown").pipe(l.a.filter(e=>"Tab"===e.key)),r=n.pipe(l.a.map(e=>e.shiftKey?g.a.FocusEvent.navigationBackwards:g.a.FocusEvent.navigationForwards)),i=m===t.captureTab?n.pipe(l.a.tap(e=>e.preventDefault()),l.a.map(e=>e.shiftKey?g.a.FocusEvent.proceedBackwards:g.a.FocusEvent.proceedForwards)):l.a.EMPTY,a=Object(c.pipe)(v,d.g.fromNullable,d.g.map(t=>t(e)),d.g.getOrElse(()=>l.a.EMPTY));return _.register(s,l.a.mergeStatic(i,S,a,r)).pipe(l.a.filter(e=>e===g.a.FocusEvent.focused),l.a.switchMap((e=>Object(c.flow)(k(e),d.g.filter(Object(c.constant)(O)),d.g.fold(()=>l.a.EMPTY,t=>u.a.getMutationObservable(e,{childList:!0,subtree:!0}).pipe(l.a.takeUntil(_.state.pipe(l.a.skip(1))),l.a.filter(()=>!e.contains(t)),l.a.switchMap(u.b.Scheduler.rafScheduler),l.a.tap(k(e))))))(e)))}))),o.createElement(r,Object(a._)(Object(i._)({},n),{mount:e=>{var t,r;C(e),null===(t=(r=n).mount)||void 0===t||t.call(r,e)}}),Object(p.c)(b(()=>S.next(g.a.FocusEvent.proceedBackwards)),null)(m===t.default),n.children,Object(p.c)(b(()=>S.next(g.a.FocusEvent.proceedForwards)),null)(m===t.default))}}(r||(r={}))},g6gm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("DTwm"),a=n("1MDf"),o=n("mgiE"),s=n("K40b"),c=n("HBEw");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n){return{entries:e,latestChangeDiff:t,diffVersion:n+1}}!function(e){var t=function(e,t){return function(n){return Array.from(n.entries.values()).reduce((function(e,n){return t(e,n)}),e)}},n=function(e,t){return o.e.symmetricDiff(c.a.Item.eq)(e,t)},l=function(e){var t=e.added,n=void 0===t?new Map:t,r=e.updated,i=void 0===r?new Map:r,a=e.removed,l=void 0===a?new Map:a,u=new Map,p=s.a.fromMutation((function(e){l.forEach((function(t,n){e.set(n,o.m.left(t))})),n.forEach((function(t,n){e.has(n)?u.set(n,"sdui item add overlaps with sdui item remove: toAdd(".concat(c.a.Item.show.show(t)," overlapWith(").concat(o.m.getShow(c.a.Item.show,c.a.Item.show).show(e.get(n)),"))")):e.set(n,o.m.right(t))})),i.forEach((function(t,n){var r=d(t,2),i=r[0],a=r[1];e.has(n)?u.set(n,"sdui item update overlaps with unexpected sdui item add/remove: toUpdate(".concat(c.a.Item.show.show(a),") overlapWith(").concat(o.m.getShow(c.a.Item.show,c.a.Item.show).show(e.get(n)),"))")):e.set(n,o.m.both(i,a))}))}));return u.size>0?o.b.left({recovered:p,rejected:u}):o.b.right(p)};e.iso=a.d(),e.empty={entries:new Map,latestChangeDiff:s.a.empty(),diffVersion:0};e.get=function(e){return function(t){return o.g.fromNullable(t.entries.get(e))}},e.find=function(e){return t(o.g.none,(function(t,n){return Object(i.pipe)(t,o.g.alt((function(){return o.g.fromPredicate(e)(n)})))}))},e.reduce=t;e.size=function(e){return e.entries.size};e.diff=function(e,t){return 0===e.diffVersion?o.b.unsafeGet(l({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:n(e.entries,t.entries)},e.diffFromEntries=n,e.applyDiff=function(e){return function(t){var n=o.e.leftToRight(o.e.Merger.createStrict(c.a.Item.eqShow),t.entries,e);return Object(i.pipe)(n,o.b.bimap((function(n){var r=s.a.fromMutation((function(t){Object(i.pipe)(e,s.a.forEach((function(e,r){return!n.rejected.has(r)&&t.set(r,o.m.left(e))}),(function(e,r,i){return!n.rejected.has(i)&&t.set(i,o.m.both(e,r))}),(function(e,r){return!n.rejected.has(r)&&t.set(r,o.m.right(e))})))}));return{recovered:p(n.recovered,r,t.diffVersion),rejected:n.rejected}}),(function(n){return p(n,e,t.diffVersion)})))}},e.applyDiffLoose=function(e){return function(t){var n=o.e.leftToRight(o.e.Merger.createLoose(c.a.Item.eqShow),t.entries,e);return Object(i.pipe)(n,o.b.bimap((function(n){return{recovered:p(n.recovered,e,t.diffVersion),rejected:n.rejected}}),(function(n){return p(n,e,t.diffVersion)})))}},e.createDiff=l,e.toJSON=function(e){return{entries:Array.from(e.entries),latestChangeDiff:s.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};e.diffShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},s.a.getShow(c.a.Item.Id.show,c.a.Item.show));!function(e){var t=e.showMapKeys={show:function(e){return null==e?"None":Array.from(e.keys()).join(", ")}};e.show={show:function(e){return"added: ".concat(t.show(e.added),"\n        \n removed: ").concat(t.show(e.removed),"\n updated: ").concat(t.show(e.removed))}},e.isEmpty=function(e){var t=e.added,n=e.updated,r=e.removed;return!(null!=t&&0!==t.size||null!=n&&0!==n.size||null!=r&&0!==r.size)}}(e.InternalDiff||(e.InternalDiff={})),function(e){var t=e.empty=function(){return{added:new Map,updated:new Map,removed:new Map}};e.fromState=function(e){return r.reduce(t(),e)}}(e.MutableInternalDiff||(e.MutableInternalDiff={}))}(r||(r={}))},g76U:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return i})),function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(r||(r={})),(i||(i={})).create=function(e,t,n,i,a){return"information"===e?{kind:"information",persistent:!!i,customTimeout:a,text:t,id:n||r.create()}:{kind:e,persistent:!!n,customTimeout:"number"==typeof i?i:void 0,id:t||r.create()}}},gEtV:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return M}));var r=n("hcme"),i=n("mMt2"),a=n("IMGo"),o=n("lXop"),s=n("MBt8"),c=n("La5+"),l=n("xk6L"),u=n("mgiE"),d=n("0kuo"),p=n("M3t0"),m=n("txgs"),f=n("xAs4"),h=n("OXKW"),g=n("a5gI"),b=n("8O/t"),v=n("X76w"),y=n("tiWp"),O=n("TKPA"),_=n("mBwf"),C=n("ZbAF"),w=n("s1NC"),S=n("/9H4"),k=n("E5C1");function E(e,t,n){return e.filter(h.a.isItem).reduce((function(e,r){return Object(v._)(Object(b._)({},e),Object(g._)({},r.name,function(e,t,n){var r=t.appRouter,i=t.ded,a=t.downloadViewModel,s=t.upgradeViewModel,c=t.modalManager,m=t.notificationsManager,f=t.telemetry,g=function(){return n.visualState.set({type:k.a.Collapsed})},b=e.name;switch(b){case k.b.myGrammarly:return function(){f.gnarSpec.backToMyGrammarlyButtonClick(f.pageId,"documentSetting"),r.navigate(_.a.routes.documents.href())};case k.b.newDocument:return function(){Object(C.b)({time:Date.now(),page:"editor",source:"editorNew"}),r.navigate(_.a.routes.new_document.href())};case k.b.download:return function(){g(),a.downloadOriginal()};case k.b.print:return function(){g(),setTimeout(window.print,200)};case o.d.undo:return function(){g(),i.undo()};case o.d.redo:return function(){g(),i.redo()};case o.d.cut:return function(){g(),i.cut()};case o.d.copy:return function(){g(),i.copy()};case o.d.paste:return function(t,r){return g(),r===h.a.Source.View?m.enqueue("clipboardNotSupported",{hotkey:Object(y.pipe)(e.hotkey,u.g.map((function(e){return n.getHotkeyString(e[0])})),u.g.getOrElse((function(){return"hotkeys"})))}):l.a.EMPTY};case o.d.selectAll:return function(){g(),u.b.getOrElse((function(e){return p.d.Logging.getLogger("documentSettings").error("Failed to execute 'Select all'. ".concat(e))}))(i.setCursor(0,i.getLastPossibleCursorPosition()))};case k.b.editorSettings:return function(){return g(),c.show(S.a.preferences)};case k.b.upgradeToPremium:return function(){g(),s.openUpgradeUrl(w.i.Place.DenaliDocument.editorDenaliDocumentSettings)};case k.b.logout:return function(){return g(),l.a.from(t.userAccount.features.denali.showSignOutConfirmationPopup).pipe(l.a.switchMap((function(e){return e?c.show(S.a.signOut):(t.userAccount.logout(),l.a.EMPTY)})))};case k.b.feedback:return function(){return g(),c.show(S.a.feedback)};case k.b.whatsNew:return function(){return g(),c.show(S.a.news)};case k.b.language:return O.e;case k.b.close:case k.b.documentHeader:case k.b.uploadFile:case k.b.editHeader:case k.b.accountHeader:case k.b.userName:case k.b.email:case k.b.subscription:case k.b.support:case k.b.privacyPolicy:case k.b.termsOfService:case k.b.reportABug:return g;default:return Object(d.c)(b)}}(r,n,t)))}),{})}var j=n("FA0h"),x=n("yIk2"),A=n("S+il");function I(e,t,n,r){var i=n.visualState.pipe(l.a.tap((function(e){e.type===k.a.Expanded?t.gnarSpec.docSettingsSidebarShow(t.pageId):t.gnarSpec.docSettingsSidebarClose(t.pageId)}))),a=A.a.listen("escape"),s=e.contentUpdated.pipe(l.a.merge(r.visible.pipe(l.a.filter(Boolean))),l.a.merge(a),l.a.first());return n.visualState.pipe(l.a.filter((function(e){return e.type===k.a.Expanded})),l.a.tap((function(){n.itemsState.modify(Object(j.k)((function(t,n){return function(e,t,n){switch(e){case o.d.undo:return Object(v._)(Object(b._)({},t),{disabled:!n.canUndo()});case o.d.redo:return Object(v._)(Object(b._)({},t),{disabled:!n.canRedo()});case o.d.cut:case o.d.copy:return Object(v._)(Object(b._)({},t),{disabled:o.g.isEmpty(n.getCursor())});case o.d.selectAll:return Object(v._)(Object(b._)({},t),{disabled:n.getTextLength()<=1});default:return t}}(t,n,e)}))),r.visible.set(!1)})),l.a.switchMap((function(){return s.pipe(l.a.tap((function(){return n.visualState.set({type:k.a.Collapsed})})))})),l.a.merge(i),l.a.mapTo(x.b.voidValue))}function T(e,t){var n=new Set([s.a.short]),r={active:!1,disabled:!1},i={active:!1,disabled:!0},c=[{name:k.b.close,hotkey:u.g.none,initialState:r},"separator",{name:k.b.myGrammarly,hotkey:u.g.none,initialState:r},"separator",{name:k.b.documentHeader,hotkey:u.g.none,initialState:r},{name:k.b.newDocument,hotkey:"desktop"===t.platform?a.E([{modifiers:n,key:"N"}]):u.g.none,initialState:r},{name:k.b.uploadFile,hotkey:u.g.none,initialState:r},{name:k.b.download,hotkey:u.g.none,initialState:r},{name:k.b.print,hotkey:a.E([{modifiers:n,key:"P"}]),initialState:r},"separator",{name:k.b.editHeader,hotkey:u.g.none,initialState:r},{name:o.d.undo,hotkey:a.E([{modifiers:n,key:"Z"}]),initialState:i},{name:o.d.redo,hotkey:a.E([{modifiers:n,key:"Y"},{modifiers:new Set([s.a.short,s.a.shift]),key:"Z"}]),initialState:i},"separator",{name:o.d.cut,hotkey:a.E([{modifiers:n,key:"X"}]),initialState:i},{name:o.d.copy,hotkey:a.E([{modifiers:n,key:"C"}]),initialState:i},{name:o.d.paste,hotkey:a.E([{modifiers:n,key:"V",source:s.b.Keydown,preventDefault:!1}]),initialState:r},{name:o.d.selectAll,hotkey:a.E([{modifiers:n,key:"A"}]),initialState:r},"separator",{name:k.b.editorSettings,hotkey:u.g.none,initialState:r},"separator",{name:k.b.accountHeader,hotkey:u.g.none,initialState:r},{name:k.b.userName,hotkey:u.g.none,initialState:r},{name:k.b.email,hotkey:u.g.none,initialState:r},{name:k.b.upgradeToPremium,hotkey:u.g.none,initialState:r},{name:k.b.language,hotkey:u.g.none,initialState:r},{name:k.b.subscription,hotkey:u.g.none,initialState:r},{name:k.b.logout,hotkey:u.g.none,initialState:r},"separator",{name:k.b.support,hotkey:u.g.none,initialState:r},{name:k.b.whatsNew,hotkey:u.g.none,initialState:r},{name:k.b.feedback,hotkey:u.g.none,initialState:r},{name:k.b.reportABug,hotkey:u.g.none,initialState:r},"separator",{name:k.b.privacyPolicy,hotkey:u.g.none,initialState:r},{name:k.b.termsOfService,hotkey:u.g.none,initialState:r}],l=function(e){var t=e.isPremium.get();return function(n){if(!h.a.isItem(n))return!0;var r=n.name;switch(r){case k.b.reportABug:return e.denali.isInternalUser;case k.b.upgradeToPremium:return!t&&!e.demoMode;case k.b.subscription:return!e.disableAppsPromotion&&!e.demoMode&&!f.e.isBusinessTeamMember(e.denaliUserType);case k.b.myGrammarly:case k.b.newDocument:case k.b.language:case k.b.editorSettings:case k.b.uploadFile:case k.b.support:case k.b.feedback:return!e.demoMode;case k.b.close:case k.b.documentHeader:case k.b.uploadFile:case k.b.download:case k.b.print:case k.b.editHeader:case k.b.accountHeader:case k.b.userName:case k.b.email:case k.b.logout:case k.b.support:case k.b.whatsNew:case k.b.privacyPolicy:case k.b.termsOfService:case o.d.undo:case o.d.redo:case o.d.cut:case o.d.copy:case o.d.paste:case o.d.selectAll:return!0;default:return Object(d.c)(r)}}}(e);return c.filter(l).filter((function(e,t,n){return n[t-1]!==e}))}function M(e,t,n,u,d,g,b,v,y,O,_,C,w,S,j){var x,A,M,P,N=new c.a.Keeper,B=u.features.denali.documentToolbar===f.c.documentSettings?T(u.features,O):O.platform===m.b.Platform.IPAD?(x=u.features,A=O,M=new Set([s.a.short]),P={active:!1,disabled:!0},Object(i.a)(T(x,A)).concat(["separator",{name:o.d.undo,hotkey:a.E([{modifiers:M,key:"UNDO",source:s.b.Input}]),initialState:P},{name:o.d.redo,hotkey:a.E([{modifiers:M,key:"UNDO",source:s.b.Input}]),initialState:P}])):function(){var e=new Set([s.a.short]),t={active:!1,disabled:!0};return[{name:o.d.undo,hotkey:a.E([{modifiers:e,key:"Z"}]),initialState:t},{name:o.d.redo,hotkey:a.E([{modifiers:e,key:"Y"},{modifiers:new Set([s.a.short,s.a.shift]),key:"Z"}]),initialState:t}]}(),L=Object(k.d)(B,n,u,d,y,O,_,w,j,t,e.isEditorFocused),F=L.viewModel,R=L.events,D=E(B,F,{appRouter:t,ded:e,userAccount:u,downloadViewModel:g,upgradeViewModel:b,modalManager:v,notificationsManager:_,docId:S,telemetry:w}),H=h.a.toMenuEvents(e.getCursor.bind(e),R).pipe(l.a.tap((function(e){var t=Object(r._)(e,3),n=t[0],i=(t[1],t[2]);n!==k.b.upgradeToPremium?w.gnarSpec.docSettingsEventFire(n,w.pageId,i):w.gnarSpec.getPremiumButtonClick(w.pageId,"upgradeToPremium","documentSettings")}))),V=p.d.Logging.getLogger("documentSettings"),U=h.a.linkEvents(H,D).pipe(l.a.catchError((function(e,t){return V.error("Error handling document settings event",e),t})));return N.push(U.pipe(l.a.merge(I(e,w,F,C))).subscribe(),e.dontFreezeWhen(F.visualState.view("type").view((function(e){return e===k.a.Expanded})),"documentSettings")),{viewModel:F,dispose:function(){return N.dispose()}}}},gFSV:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return k}));var r=n("wvT7"),i=n("CulD"),a=n("DTwm"),o=n("tiWp"),s=n("mgiE"),c=n("RRF2"),l=n("ZDrO"),u=n("xk6L"),d=n("yIk2"),p=n("iVUr"),m=n("d3CI"),f=n("wdnv"),h=n("YqdJ");const g=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t))),b=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t)));function v({cardTop:e,cardHeight:t,viewportHeight:n,padding:r}){const i=h.a.FromViewportTop.ISO.unwrap(e),a=i+t;return t>n?i:i<0?t+r.before<n?i-r.before:i:a>n?t+r.after<n?a-n+r.after:a-n:i<r.before?t+r.after+r.before<n?i-r.before:t+r.after<n?i-r.after:r.before:n-a<r.after&&t+r.after<n?r.after-(n-a):0}const y=(e,t,n,r)=>({from:Math.max(0,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop+e.positionState.height<n)-r),to:Math.min(e.size,l.a.Sorted.lowerBound(e,e=>e.positionState.absTop<n+t.height)+r)}),O=e=>t=>t.pipe(_(e),u.a.map(s.g.map(e=>e.currentLens)),u.a.pairwise(),u.a.filter(([e,t])=>Object(o.pipe)(Object(a.tuple)(e,t),Object(a.tupled)(s.g.map2((e,t)=>e.id===t.id&&Object(o.pipe)(Object(a.tuple)(m.k.getActiveItem(e),e.cardIndex,m.k.getActiveItem(t),t.cardIndex),Object(a.tupled)(r.b(s.g.option)),s.g.map(([e,t,n,r])=>e.id===n.id&&t!==r),s.g.getOrElse(()=>!1)))),s.g.getOrElse(()=>!1))),u.a.map(Object(a.flow)(i.a(s.g.chain(m.k.getActiveItem),s.g.chain(m.k.getActiveItem)),Object(a.tupled)(s.g.map2((e,t)=>t.positionState.absTop-e.positionState.absTop)),s.g.getOrElse(()=>0)))),_=e=>t=>t.pipe(u.a.map(s.g.filter(({currentLens:t})=>b(e)(t)))),C=e=>(t,n,r,i,a)=>{const l=(e=>s.g.getEq(s.c.fromEquals((t,n)=>{const r=m.k.getActiveItem(t),i=m.k.getActiveItem(n);return s.g.getEq(e.visualStateEq).equals(r,i)&&t.items.size===n.items.size&&c.a.compareInPairs(t.items.keys(),n.items.keys(),(e,t)=>e===t)})))(e);return t.pipe(u.a.map(s.g.map(e=>e.currentLens.id)),u.a.distinctUntilChanged(s.c.eqStrict.equals),u.a.map(s.g.isSome),u.a.switchMap(d.b.orEmpty(u.a.combineLatestStatic(n,r,i,_(e)(t).pipe(u.a.map(s.g.map(e=>e.currentLens)),u.a.distinctUntilChanged(l.equals),u.a.switchMap(a))))),u.a.filter(([t,n,r,i])=>Object(o.pipe)(i,s.g.exists(b(e)))),u.a.map(([e,t,n])=>({viewport:e,scrollTop:t,paddingTop:n})))},w=e=>({viewport:t,scrollTop:n,paddingTop:r})=>i=>{const a=i.currentLens,o=y(a.items,t,n-r,0);let s=!1;const c=a.items.map((t,n,r)=>{const i=(a=e,c=!(e=>o.from<=e)(r),e=>e.positionState.inert!==c?a.changePosition(p.a.PositionState.changeInert(e.positionState,c))(e):e)(t);var a,c;return i!==t?(s=!0,i):t});return s?m.e.Prism.getLens().compose(f.a.Prism.items).set(c,i):i},S=(e,{viewport:t,scrollTop:n,paddingTop:r})=>i=>{if(n>0)return u.a.EMPTY;const a=y(i.currentLens.items,t,h.b.FromWindowTop.ISO.unwrap(t.top)+n-r,0);return Object(o.pipe)(i.currentLens.items.getAt(a.from-1),s.g.map(n=>e.setCardPosition(n.id,!0,!1,t.top)),s.g.getOrElse(()=>u.a.EMPTY))},k=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:n})=>({viewport:r,scrollTop:i,paddingTop:c,completeTransition:l})=>u=>{const d=u.currentLens,h=((e,t,n,r)=>e.size<2||Math.floor(t.height/Math.min(s.g.unsafeGet(e.getAt(0)).positionState.height,s.g.unsafeGet(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:y(e,t,n,r))(d.items,r,i-c,e);let g=!1;const b=d.items.map((e,r,i)=>{const c=Object(a.flow)((u=n,m=e.positionState.watched||(e=>h.from<=e&&h.to>e||Object(o.pipe)(d.cardIndex,s.g.exists(n=>e>=n-t&&e<=n+t)))(i),e=>e.positionState.visible!==m?u.changePosition(p.a.PositionState.changeVisible(e.positionState,m))(e):e),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(p.a.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(n),l)(e);var u,m;return c!==e?(g=!0,c):e});return g?m.e.Prism.getLens().compose(f.a.Prism.items).set(b,u):u}},gIH0:function(e,t,n){"use strict";n.r(t),n.d(t,"nullable",(function(){return a})),n.d(t,"struct",(function(){return o})),n.d(t,"type",(function(){return s})),n.d(t,"partial",(function(){return c})),n.d(t,"record",(function(){return l})),n.d(t,"array",(function(){return u})),n.d(t,"tuple",(function(){return d})),n.d(t,"intersect",(function(){return p})),n.d(t,"sum",(function(){return m})),n.d(t,"lazy",(function(){return f})),n.d(t,"readonly",(function(){return h})),n.d(t,"contramap",(function(){return v})),n.d(t,"compose",(function(){return y})),n.d(t,"id",(function(){return O})),n.d(t,"URI",(function(){return _})),n.d(t,"Contravariant",(function(){return C})),n.d(t,"Category",(function(){return w}));var r=n("j8jx"),i=n("DTwm");function a(e){return{encode:function(t){return null===t?null:e.encode(t)}}}function o(e){return{encode:function(t){var n={};for(var r in e)n[r]=e[r].encode(t[r]);return n}}}var s=o;function c(e){return{encode:function(t){var n={};for(var r in e){var i=t[r];r in t&&(n[r]=void 0===i?void 0:e[r].encode(i))}return n}}}function l(e){return{encode:function(t){var n={};for(var r in t)n[r]=e.encode(t[r]);return n}}}function u(e){return{encode:function(t){return t.map(e.encode)}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{encode:function(t){return e.map((function(e,n){return e.encode(t[n])}))}}}var p=function(e){return function(t){return{encode:function(n){return Object(r.a)(t.encode(n),e.encode(n))}}}};function m(e){return function(t){return{encode:function(n){return t[n[e]].encode(n)}}}}function f(e){var t=Object(r.b)(e);return{encode:function(e){return t().encode(e)}}}var h=i.identity,g=function(e,t){return{encode:function(n){return e.encode(t(n))}}},b=function(e,t){return g(t,e.encode)},v=function(e){return function(t){return g(t,e)}},y=function(e){return function(t){return b(t,e)}};function O(){return{encode:i.identity}}var _="io-ts/Encoder",C={URI:_,contramap:g},w={URI:_,compose:b,id:O}},gV67:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("B8yO"),a=n("tiWp"),o=n("+vYo"),s=n("yIk2"),c=n("xk6L"),l=n("mgiE"),u=n("7IMz");!function(e){var t=e.Manager=({children:e,cardWidth:t})=>{const n=s.b.toObservable(t).pipe(c.a.shareReplay({refCount:!0,bufferSize:1}));return u.a.useSingleton("CardWidth.Manager"),u.a.useSubscriptionTo(n),i.createElement(p.Provider,{value:n},e)},n=(e.DefaultManager=({children:e})=>(u.a.useSingleton("CardWidth.DefaultManager"),i.createElement(t,{cardWidth:n(d)},e)),e.withCardWidthEffect=(e,t=r)=>e.pipe(c.a.tap(e=>t(l.g.some(e))),c.a.finalize(t.bind(null,l.g.none)),c.a.shareReplay({refCount:!0,bufferSize:1}))),r=e.defaultCardWidthSetter=e=>{m(document.documentElement,e)},d=e.defaultSizeObserver=o.a.create(400),p=e.Context=i.createContext(d),m=e.setRootCssVar=(e,t)=>{e.style.setProperty("--cardWidth",Object(a.pipe)(t,l.g.map(String),l.g.orNull))}}(r||(r={}))},gfa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("nWMp"),i=n("2swC"),a=n("RCgc");const o=r.d.activeCardShadowSize-.5,s="0 3px 7px 0 rgba(129, 137, 169, .2)",c="0 -3px 7px 0 rgba(129, 137, 169, .2)",l={marginTop:0,height:r.a.percent(100)},u={position:"absolute",overflow:"hidden",marginTop:0,marginLeft:r.a.rem(-1*o),paddingTop:r.a.rem(4),paddingRight:r.a.rem(2),paddingLeft:r.a.rem(o),width:`calc(100% + ${r.a.rem(o)})`,height:r.a.percent(100)},d={position:"absolute",top:r.a.rem(r.d.toolbarHeight),visibility:"hidden",height:`calc(100vh - ${r.a.rem(r.d.toolbarHeight)})`},p={paddingRight:r.a.rem(2),width:r.a.percent(100),height:r.a.percent(100)},m={zIndex:r.d.level3,width:r.a.rem(r.d.sidebarWidth),$nest:{[`@media (${r.d.tinyMedia})`]:{width:r.a.rem(r.d.sidebarWidthTiny)},[`@media (${r.d.xsMedia})`]:{width:r.a.rem(r.d.sidebarWidthXs)},[`@media (${r.d.xssMedia})`]:{width:r.a.rem(r.d.sidebarWidthXss)}}},f={margin:`0 ${r.a.rem(.25)} 0 auto`,lineHeight:r.a.rem(1.8)},h={marginRight:r.a.rem(1)},g={position:"relative",paddingTop:r.a.rem(1),height:r.a.rem(4.15),background:`linear-gradient(-180deg, ${i.a.CoreNeutral0} 78%, rgba(255, 255, 255, 0) 100%)`,$nest:{"&:before":{position:"absolute",top:0,left:r.a.rem(-2),width:r.a.rem(2),height:r.a.percent(100),background:"inherit",content:"''"}}},b={paddingBottom:r.a.rem(.2)},v={maxWidth:r.a.rem(11),textAlign:"center",whiteSpace:"normal",lineHeight:r.a.rem(1)},y={position:"absolute",right:0,left:0,display:"flex",height:r.a.rem(2),background:i.a.CoreNeutral0,alignItems:"center",justifyContent:"center"},O={top:r.a.rem(-1.15),boxShadow:s,$nest:{"&:before":Object(a.a)(r.a.rem(.25),-10,r.a.rem(-.4),s,r.a.rem(r.d.radius3)),"&:after":Object(a.a)(r.a.rem(.5),-20,r.a.rem(-.8),s,r.a.rem(r.d.radius3))}},_={bottom:0,boxShadow:c,$nest:{"&:before":Object(a.a)(r.a.rem(.25),-10,r.a.rem(.4),c,r.a.rem(r.d.radius3)),"&:after":Object(a.a)(r.a.rem(.5),-20,r.a.rem(.8),c,r.a.rem(r.d.radius3))}},C={position:"absolute",zIndex:r.d.level1,display:"flex",pointerEvents:"all"},w={top:r.a.rem(.15)},S={bottom:r.a.rem(1.3)},k={position:"absolute",top:r.a.rem(4.15),display:"flex",width:`calc(100% - ${r.a.rem(2)})`,height:`calc(100vh - ${r.a.rem(4.15)})`,pointerEvents:"none",justifyContent:"center"},E=r.a.rem(2),j={paddingRight:E},x={display:"flex",marginTop:r.a.rem(.8125),marginLeft:r.a.rem(2.1875),paddingRight:E,color:i.a.CoreNeutral90,textTransform:"none",letterSpacing:0,fontWeight:"bold",fontSize:r.a.rem(.875),lineHeight:r.a.rem(1.125),justifyContent:"space-between",$nest:{'& div[role="button"]':{marginTop:r.a.rem(-.3875),$nest:{"&[data-name='bulk-accept-mini-button']":{marginTop:r.a.rem(-.75)}}},'& div[data-role="counter"]':{position:r.a.important("absolute")},"& h2":{fontSize:r.a.rem(.875),margin:0}}},A={position:"absolute",zIndex:r.d.level3,overflow:"visible",width:r.a.percent(100)},I={position:"absolute",right:r.a.rem(3),paddingLeft:r.a.rem(1),borderRadius:r.a.rem(r.d.radius2),color:i.a.CoreNeutral90,letterSpacing:r.a.px(.25),fontSize:r.a.rem(.75),lineHeight:r.a.rem(1),$nest:{"@media (max-width: 840px)":{paddingLeft:0,$nest:{"& > span":{display:"none"}}}}},T={position:"relative",marginTop:r.a.rem(.05),fontWeight:300},M={marginLeft:r.a.rem(2.5)},P={margin:r.a.rem(.5)+" 0",backgroundColor:i.a.CoreNeutral0,userSelect:"none",$nest:{"&:before":{position:"absolute",left:r.a.rem(-.5),width:r.a.rem(.5),height:r.a.percent(100),backgroundColor:i.a.CoreNeutral0,content:"''"}}},N=r.a.stylesheet({viewport:[l],lensviewContentWrapper:[u],fakeTop:[d],rechecking:[p],fixedLensContent:[m],lensCounter:[f],headerBtn:[h],headerWrapper:[g],infoIcon:[b],infoTooltip:[v],stack:[y],topStack:[y,O],bottomStack:[y,_],seeAlerts:[C],topSeeAlerts:[C,w],bottomSeeAlerts:[C,S],seeAlertsContainer:[k],lensTitle:[x],header:[A],toAllAlertsButton:[I],toAllAlertsText:[T],plagiarismLensTitle:[x,M],cardWrapper:[P],flexContainer:[{display:"flex"}],priorityTitleWrapper:[j]})},gg7t:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("Wy1Y"),a=n("4mQT"),o=n("t5lx"),s=n("0kuo"),c=n("RRF2");!function(e){!function(e){!function(e){e.create="create",e.update="update",e.remove="remove"}(e.ActionType||(e.ActionType={})),function(e){e.getEmpty=function(){return{created:new Map,updated:new Map,removed:new Map}}}(e.Result||(e.Result={}))}(e.Change||(e.Change={}));var t=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return n}(s.a);e.CollapsedMarkError=t,function(e){e.id="64656E616E69",e.generateActiveWordRandomId=function(){return c.f.alphanumeric(10)},e.generateSynonymOnboardingId=function(e){return e+"9f2d9601b324bb6c1e36737e59ed3d96"}}(e.SynonymMark||(e.SynonymMark={}))}(r||(r={}))},hHDN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e){this.namespace=e}static configureAllLoggers(e){r._isEnabled="prod"!==e.env}trace(e,t,n){this._printToConsole("trace",e,t,n)}warn(e,t,n){this._printToConsole("warn",e,t,n)}debug(e,t,n){this._printToConsole("debug",e,t,n)}info(e,t,n){this._printToConsole("info",e,t,n)}error(e,t,n){this._printToConsole("error",e,t,n)}fatal(e,t,n){this._printToConsole("fatal",e,t,n)}_getMsgWithNamespace(e){return`[${r._rootNamespace}.${this.namespace}]: ${e}`}_printToConsole(e,t,n,i){if("fatal"===e)return void console.error(t,n,i);if(!r._isEnabled)return;const a=this._getMsgWithNamespace(t);n&&i?console[e](a,n,i):!n&&i?console[e](a,i):n&&!i?console[e](a,n):console[e](a)}}r._rootNamespace="CheetahWeb",r._isEnabled=!1},hPn0:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return _}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("B8yO"),p=n("+vYo"),m=n("OwvP"),f=n("4GyQ"),h=n("xk6L"),g=n("RRF2"),b=n("To5e"),v=n("Iv8u"),y=(n("oZEi"),n("z4Di")),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.apply(this,arguments),Object(o._)(Object(r.a)(e),"isDropZoneVisible",p.a.create(!1)),Object(o._)(Object(r.a)(e),"isDropZoneHovered",p.a.create(!1)),Object(o._)(Object(r.a)(e),"timeout",void 0),Object(o._)(Object(r.a)(e),"isDocumentUploading",p.a.create(!1)),Object(o._)(Object(r.a)(e),"onLeave",(function(){e.isDropZoneVisible.set(!1),e.isDropZoneHovered.set(!1)})),Object(o._)(Object(r.a)(e),"onDragOver",(function(t){return e.isDropZoneVisible.set(!0),e.isDropZoneHovered.set(e.props.canDrop(t)),Boolean(e.timeout)&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){return e.onLeave()}),100),t.stopPropagation(),t.preventDefault(),!1})),Object(o._)(Object(r.a)(e),"onDrop",(function(t){t.preventDefault(),t.stopPropagation(),e.onLeave(),e.props.canDrop(t)&&(e.isDocumentUploading.set(!0),e.props.documentUpload.upload({files:t.dataTransfer.files,notify:!0,allowMultiple:e.props.multiple,isDragNDrop:!0}).then((function(){return e.isDocumentUploading.set(!1)})))})),Object(o._)(Object(r.a)(e),"_subs",[]),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this._subs=[h.a.fromEvent(document,"dragover").subscribe(this.onDragOver),h.a.fromEvent(document,"drop").subscribe(this.onDrop)]}},{key:"componentWillUnmount",value:function(){this._unsubscribe(),this.props.documentUpload.navigated()}},{key:"render",value:function(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)}},{key:"_unsubscribe",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}}]),n}(d.Component),_=function(e){var t=d.useContext(b.a.Context);return d.createElement(O,Object(l._)(Object(c._)({},e),{canDrop:function(e){return g.c.hasParentWithClassName(e.target,y.dropzone)},render:function(e,n,r){return d.createElement(m.a.div,Object(f.c)(y.dropZoneElement,e.pipe(h.a.map((function(e){return e&&y.active}))),n.pipe(h.a.map((function(e){return e&&y.hovered}))),r.pipe(h.a.map((function(e){return e&&Object(f.c)(y.active,y.hovered).className})))),d.createElement(m.a.div,{className:y.dropzone},r.pipe(h.a.map((function(e){return e?d.createElement("div",{className:y.progressContainer,key:"uploading"},d.createElement("div",{className:y.message},t.modalUploadingDocumentText),d.createElement(v.a,{size:18})):d.createElement("div",{className:y.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")})))))}}))}},hSa3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("OwvP"),c=n("4GyQ"),l=n("xk6L"),u=n("yIk2"),d=n("RRF2"),p=n("2swC"),m=n("ksEe"),f=n("ySi0"),h=n("f82Z"),g=n("nWMp"),b=n("Frap"),v=n("Sqy8"),y=n("uxqH");!function(e){function t(e){return 0===e?"":e>=1e3?Math.min(Math.trunc(e/1e3),9)+"k+":String(e)}const n=({className:e,isChecking:t,type:n,animateFade:r=!0})=>{const{state:i,complete:a}=v.a.fadeOutState(t);return o.createElement(s.a.div,Object(c.c)(W.loader,e),r?i.pipe(l.a.map(e=>"end"===e?o.createElement("div",{key:"checking-complete",className:"checking-complete"}):o.createElement(h.a,{key:"spinner",variation:n,size:"100%",className:"fadeOut"===e?W.fadeOut:void 0,onTransitionEnd:a}))):t.pipe(l.a.map(e=>e?o.createElement(h.a,{variation:n,size:"100%"}):o.createElement("div",{className:"checking-complete"}))))},r=({name:e,theme:n={},count:r,type:l="white",suffix:p=""})=>{const f=o.useContext(m.a.Context);return o.createElement(s.a.div,Object(a._)(Object(i._)({},Object(c.c)(W.roundCounter,u.b.mapMaybeObservable(l,h.a.getClassName(W)),n.counterWrapper)),{"data-role":"counter"}),o.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32",className:W.circular},o.createElement("g",null,o.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),o.createElement("text",Object(i._)(Object(a._)(Object(i._)({x:"16",y:"17"},d.c.svgVerticalAlignment(f.has(m.a.Flag.supportsSVGDominantBaseline))),{fontSize:r>=100?14:18,"data-name":e}),Object(c.c)(E,n.counterContent)),t(r),p))))},p=({name:e,theme:n={},count:r,type:l="white",suffix:p=""})=>{const f=o.useContext(m.a.Context);return o.createElement(s.a.div,Object(a._)(Object(i._)({},Object(c.c)(W.ovalCounter,u.b.mapMaybeObservable(l,h.a.getClassName(W)),n.counterWrapper)),{"data-role":"counter"}),o.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 20",className:W.circular},o.createElement("rect",{width:"32",height:"20",rx:"10"}),o.createElement("text",Object(i._)(Object(a._)(Object(i._)({x:"16",y:"10.5"},d.c.svgVerticalAlignment(f.has(m.a.Flag.supportsSVGDominantBaseline))),{fontSize:11,"data-name":e}),Object(c.c)(E,n.counterContent)),t(r),p)))};e.Counter=({theme:e={},count:t,type:n="white"})=>{const s=t>=100?p:r;return o.createElement(s,{theme:Object(a._)(Object(i._)({},e),{counterWrapper:Object(c.c)(e.counterWrapper,W.flexCounter).className}),count:t,type:n})};var g=e.OutcomeCounter=({name:e,theme:n={},count:r,type:l="white",suffix:p,fontSize:f=12})=>{const g=o.useContext(m.a.Context);return o.createElement(s.a.div,Object(a._)(Object(i._)({},Object(c.c)(W.outcomeCounter,u.b.mapMaybeObservable(l,h.a.getClassName(W)),n.counterWrapper)),{"data-role":"counter"}),o.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 18",className:W.circular},o.createElement("rect",Object(a._)(Object(i._)({},function(e,t){return t||e>=100?{width:32}:e>=10?{x:4,width:24}:{x:7,width:18}}(r,Boolean(p))),{height:18,rx:9})),o.createElement("text",Object(i._)(Object(a._)(Object(i._)({x:"50%",y:"10px"},d.c.svgVerticalAlignment(g.has(m.a.Flag.supportsSVGDominantBaseline))),{fontSize:f,"data-name":e}),Object(c.c)(E,n.counterContent)),t(r),p)))};e.MainMeter=({count:e,isChecking:t,className:i})=>{const a=0===e;return o.createElement("div",Object(c.c)(W.meter,i),o.createElement(n,{isChecking:t,type:a?"green":"red"}),0===e?o.createElement(f.d.Grammarly,null):o.createElement(r,{count:e,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=({count:e,isChecking:t})=>o.createElement("div",{className:W.lensNavMeter},o.createElement(n,{isChecking:t,type:"red"}),o.createElement(r,{count:e,type:"white",name:"toolbar-mistakes"})),e.PlagiarismMeter=({count:e,isChecking:t,className:r})=>o.createElement("div",Object(c.c)(W.plagiarismMeter,r),o.createElement(n,{isChecking:t,type:"violet",animateFade:!1}),o.createElement(s.a.div,{className:W.wrapper},e.pipe(l.a.combineLatest(t),l.a.map(([e,t])=>0===e?o.createElement(f.d.NotificationInfo,{className:W.plagiarismIcon,key:"icon",width:20}):!t&&o.createElement(p,{count:e,type:"violet",key:"value",suffix:o.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})),l.a.startWith(null)))),e.PlagiarismOutcomesMeter=({count:e,isChecking:t,className:r})=>o.createElement("div",Object(c.c)(W.plagiarismMeter,r),o.createElement(n,{isChecking:t,type:"cyan",animateFade:!1}),o.createElement(s.a.div,{className:W.wrapper},e.pipe(l.a.combineLatest(t),l.a.map(([e,t])=>y.a.isMin(e)?o.createElement(f.d.CheckmarkOutcomes,{className:W.plagiarismOutcomeIcon,key:"icon",width:20}):!t&&o.createElement(g,{count:y.a.prism.reverseGet(e),type:"cyan",key:"value",suffix:o.createElement("tspan",{fontSize:11},"%")})),l.a.startWith(null))))}(r||(r={}));const O={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"visible",margin:"auto",width:g.a.percent(100),height:g.a.percent(100)},_={position:"absolute",width:g.a.percent(150),height:g.a.percent(150),transform:"translate(-17%, -17%)"},C={position:"relative",display:"inline-flex"},w={width:g.a.percent(100),height:g.a.percent(100)},S={minWidth:g.a.rem(2),width:g.a.percent(100),height:g.a.rem(1.25)},k={maxWidth:g.a.rem(2),height:g.a.rem(1.25)},E=g.a.joinClasses(["counterText",g.a.style({fontWeight:"bold",textAnchor:"middle",fill:p.a.CoreNeutral0})]),j={fill:b.ui150,$nest:{"& .counterText":{fill:b.ui500}}},x={fill:p.a.CoreRed50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},A={fill:p.a.CoreGreen50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},I={fill:p.a.CoreBlue50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},T={fill:"transparent",$nest:{"& .counterText":{fill:b.ui500}}},M={fill:b.purple500,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},P={fill:b.yellow600,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},N={fill:p.a.CoreYellow20,$nest:{"& .counterText":{fill:p.a.CoreYellow80}}},B={fill:p.a.CoreYellow60,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},L={fill:p.a.CoreCyan50,$nest:{"& .counterText":{fill:p.a.CoreNeutral0}}},F={width:g.a.rem(1.5),height:g.a.rem(1.5)},R={margin:"0 "+g.a.rem(.25)},D={width:g.a.rem(2),height:g.a.rem(1.25)},H={margin:g.a.rem(-1)+" 0"},V={$nest:{"&:not([data-disabled='true'])[data-active='true'], &:not([data-disabled='true'])[data-hovered='true']":{fill:p.a.CoreCyan50}}},U={width:g.a.rem(2),height:g.a.rem(1.125),position:"relative"},W=g.a.stylesheet({fadeOut:[{opacity:0,transition:"opacity .5s linear"}],circular:[O],loader:[_],wrapper:[C],roundCounter:[C,w],ovalCounter:[C,S],flexCounter:[C,k],gray:[j],red:[x],green:[A],blue:[I],white:[T],violet:[M],yellow:[P],yellowPremium:[N],orange:[B],cyan:[L],meter:[C,F],lensNavMeter:[C,F,R],plagiarismMeter:[C,D],plagiarismIcon:[H],plagiarismOutcomeIcon:[H,V],outcomeCounter:[C,{position:"absolute",left:0},U]})},hUGf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B8yO"),i=n("+vYo"),a=n("UxCM");const o=r.createContext(i.a.create(a.a))},hVYI:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("tiWp"),s=n("OwvP"),c=n("4GyQ"),l=n("xk6L"),u=n("yIk2"),d=n("mgiE"),p=n("2swC"),m=n("t39C"),f=n("nWMp"),h=n("7IMz");const g=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new l.a.Subject,p=new l.a.Subject,g=new l.a.Subject,b=new l.a.Subject,v=new l.a.Subject,y=new l.a.Subject,{ref:O,onMount:_}=h.a.useElWatcher(),C=l.a.mergeStatic(v.pipe(l.a.mapTo(!0)),g.pipe(l.a.mapTo(!1)),b.pipe(l.a.mapTo(!1))).pipe(l.a.startWith(!1)),w=l.a.mergeStatic(v,p).pipe(l.a.withLatestFrom(C),l.a.filter(([e,t])=>t),l.a.map(([e,t])=>e),l.a.withLatestFrom(O),l.a.map(([e,t])=>Object(o.pipe)(t,d.g.map(e=>e.getBoundingClientRect()),d.g.bindTo("sliderClientRect"),d.g.apS("containerMouseEventVal",d.g.some(e)))),l.b.compact,l.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,r=t.x+t.width;let i=0;return i=e.clientX<=n?0:e.clientX>=r?100:(e.clientX-n)/(r-n)*100,i})),S=l.a.mergeStatic(w.pipe(l.a.distinctUntilChanged()),C.pipe(l.a.distinctUntilChanged(),l.a.filter(e=>!e),l.a.withLatestFrom(w),l.a.map(([e,t])=>t),l.a.map(e=>e>=50?100:0)),n.pipe(l.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),l.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),l.a.map(e=>e.key),l.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),l.a.map(e=>"ArrowRight"===e?100:0)),y.pipe(l.a.map(e=>1===e?100:0))).pipe(l.a.startWith(100)),k=S.pipe(l.a.distinctUntilChanged(),l.a.map(e=>e>=50?1:0)),E=l.a.combineLatestStatic([k,u.b.toObservable(e)]).pipe(l.a.map(([e,t])=>t[e]));return h.a.useSubscriptionTo(k.pipe(l.a.distinctUntilChanged(),l.a.tap(t))),a.createElement(s.a.div,{className:K.outerContainer,onKeyDown:e=>n.next(e)},a.createElement(s.a.div,{className:K.label},E.pipe(l.a.map(e=>e.name))),a.createElement(s.a.div,{className:K.container,onMouseMove:e=>p.next(e),onMouseUp:e=>g.next(e),onMouseLeave:e=>b.next(e)},a.createElement(s.a.div,Object(i._)(Object(r._)({},Object(c.c)(K.slider,C.pipe(l.a.map(e=>e?K.sliderDragging:null)))),{mount:_}),a.createElement(s.a.div,Object(i._)(Object(r._)({},Object(c.c)(K.sliderInner,C.pipe(l.a.map(e=>e?K.sliderInnerDragging:null)))),{style:{width:S.pipe(l.a.map(f.a.percent))}}),a.createElement(s.a.div,Object(i._)(Object(r._)({},Object(c.c)(K.knob,C.pipe(l.a.map(e=>e?K.knobDragging:null)))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),v.next(e)},tabIndex:0}),E.pipe(l.a.map(e=>a.createElement(m.c,{id:e.emojiID,className:K.knobEmoji}))))),l.a.combineLatestStatic([k,C]).pipe(l.a.map(([e,t])=>a.createElement(a.Fragment,null,a.createElement("div",Object(c.c)(K.sliderDivisionPoint,K.sliderDivisionPointLeft)),0===e||t?null:a.createElement(s.a.div,Object(i._)(Object(r._)({},Object(c.c)(K.sliderDivisionPointHoverArea,K.sliderDivisionPointHoverAreaLeft)),{onClick:()=>y.next(0)})),a.createElement("div",Object(c.c)(K.sliderDivisionPoint,K.sliderDivisionPointRight)),1===e||t?null:a.createElement(s.a.div,Object(i._)(Object(r._)({},Object(c.c)(K.sliderDivisionPointHoverArea,K.sliderDivisionPointHoverAreaRight)),{onClick:()=>y.next(1)}))))))))},b="toneSliderOuterContainer",v="toneSliderLabel",y="toneSliderContainer",O="toneSlider",_="toneSliderDragging",C="toneSliderSliderDivisionPoint",w="toneSliderDivisionPointLeft",S="toneSliderDivisionPointRight",k="toneSliderDivisionPointHoverArea",E="toneSliderDivisionPointHoverAreaLeft",j="toneSliderDivisionPointHoverAreaRight",x="toneSliderInner",A="toneSliderInnerDragging",I="toneSliderKnob",T="toneSliderKnobDragging",M="toneSliderKnobEmoji",P={fontWeight:700,fontSize:f.a.rem(.875),lineHeight:f.a.rem(1),width:f.a.rem(7.5)},N={width:f.a.rem(5.375),height:f.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},B={position:"relative",width:f.a.percent(100),backgroundColor:p.a.CoreNeutral40,height:f.a.rem(.125),borderRadius:f.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:f.a.rem(.5)},["&:hover ."+C]:{visibility:"visible"}}},L={height:f.a.rem(.5),$nest:{["& ."+C]:{visibility:"visible"}}},F={position:"absolute",width:f.a.rem(.25),height:f.a.rem(.25),backgroundColor:p.a.CoreNeutral0,top:f.a.rem(.125),bottom:f.a.rem(.125),borderRadius:f.a.percent(100),visibility:"hidden"},R={left:f.a.rem(.125)},D={right:f.a.rem(.125)},H={background:p.a.CoreNeutral90,opacity:0,width:f.a.rem(1.5),height:f.a.rem(1.5),position:"absolute",borderRadius:f.a.percent(100),cursor:"pointer",top:f.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},V={left:f.a.rem(-.5)},U={right:f.a.rem(-.5)},W={position:"relative",display:"flex",alignItems:"center",backgroundColor:p.a.CorePurple40,height:f.a.percent(100),borderRadius:f.a.rem(.375),transition:"all 0.15s ease-in-out"},z={position:"absolute",right:f.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:f.a.rem(1.75),height:f.a.rem(1.75),backgroundColor:p.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:f.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:f.a.rem(2),height:f.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},G={width:f.a.rem(2),height:f.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},q={width:f.a.rem(.9375),height:f.a.rem(.9375),pointerEvents:"none"},K={outerContainer:f.a.joinClasses([b,f.a.style({display:"flex",alignItems:"center"})]),label:f.a.joinClasses([v,f.a.style(P)]),container:f.a.joinClasses([y,f.a.style(N)]),slider:f.a.joinClasses([O,f.a.style(B)]),sliderDragging:f.a.joinClasses([_,f.a.style(L)]),sliderDivisionPoint:f.a.joinClasses([C,f.a.style(F)]),sliderDivisionPointLeft:f.a.joinClasses([w,f.a.style(R)]),sliderDivisionPointRight:f.a.joinClasses([S,f.a.style(D)]),sliderDivisionPointHoverArea:f.a.joinClasses([k,f.a.style(H)]),sliderDivisionPointHoverAreaLeft:f.a.joinClasses([E,f.a.style(V)]),sliderDivisionPointHoverAreaRight:f.a.joinClasses([j,f.a.style(U)]),sliderInner:f.a.joinClasses([x,f.a.style(W)]),sliderInnerDragging:f.a.joinClasses([A,f.a.style({transition:"none"})]),knob:f.a.joinClasses([I,f.a.style(z)]),knobDragging:f.a.joinClasses([T,f.a.style(G)]),knobEmoji:f.a.joinClasses([M,f.a.style(q)])}},hZ6A:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("Wy1Y"),i=n("4mQT"),a=n("x+Pc"),o=n("hcme"),s=n("JOKA"),c=n("mMt2"),l=n("t5lx"),u=n("B8yO"),d=n("DTwm"),p=n("tiWp"),m=n("OwvP"),f=n("NDcT"),h=n("XQlQ"),g=n("eUGc"),b=n("fC5a"),v=n("Butu"),y=n("wZNN"),O=n("AVzG"),_=n("xk6L"),C=n("0kuo"),w=n("RRF2"),S=n("mgiE"),k=n("JsWC"),E=n("M3t0"),j=n("x1PS"),x=(n("HkLQ"),n("hl0p")),A=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(C.a),I=function(e){var t,n=e.vm,r=u.useContext(h.a.Context).pipe(_.a.map(w.e.pick("rect")));return u.createElement(m.a.div,{className:x.positionedWrapper},_.a.combineLatestStatic(r,n.visualState).pipe(_.a.map((function(e){var n=Object(o._)(e,2),r=n[0],i=n[1];return Object(p.pipe)(i,S.b.fromOption((function(){return new A("Viewport state is O.none")})),S.b.chain((function(e){return Object(p.pipe)(e.rect.getRect(),S.b.map((function(e){var n=Object(s.a)(e.clientRects),i=n[0],a=n.slice(1),o=e.rootClientRect;return{viewportLikeRect:w.c.absToRelative(r,o),rect:Object(p.pipe)((t=w.c.Rect).join.apply(t,[i].concat(Object(c.a)(a))),S.b.getOrElse((function(){return w.c.Rect.empty})))}})),S.b.map((function(t){var n=t.viewportLikeRect,r=t.rect;return u.createElement(m.a.div,{className:x.editorToViewportContainer,style:{top:n.top,left:n.left}},u.createElement(O.a.ByAbsoluteRect,{rect:r,align:w.c.Rect.Axis.vertical,selector:P},u.createElement(g.a,{hide:e.close},u.createElement("div",{className:x.wrapper},e.visualState===j.a.VisualState.EditingMode?u.createElement(T,{inputContent:e.inputContent,apply:e.apply,isValid:e.isValid}):u.createElement(M,{url:e.url,change:e.change,remove:e.remove})))))})))})),S.b.fold((function(e){return Object(a.a)(e,A)||E.d.Logging.getLogger("FormattingLink").error("Cannot render links popup",e),null}),d.identity))})),_.a.startWith(null)))},T=function(e){var t=e.apply,n=e.inputContent,r=e.isValid,i=u.useContext(f.a.Context);return u.createElement(u.Fragment,null,u.createElement(v.a,{name:"rtfLinks-urlInput",placeholder:i.toolbar.formatting.links.placeholder,autofocus:!0,className:x.urlInput,value:n}),u.createElement(b.a.Ghost,{name:"rtfLinks-apply",onClick:function(){t()},disabled:r.view(Object(d.not)(d.identity))},i.toolbar.formatting.links.apply))},M=function(e){var t=e.url,n=e.change,r=e.remove,i=u.useContext(f.a.Context);return u.createElement(u.Fragment,null,u.createElement(y.a,{href:t,className:x.urlHolder},u.createElement("span",{className:x.urlText},t)),u.createElement(b.a.Tertiary,{name:"rtfLinks-change",onClick:n,className:x.button},i.toolbar.formatting.links.change),u.createElement("span",{className:x.delimiter}),u.createElement(b.a.Tertiary,{name:"rtfLinks-remove",onClick:r,className:x.button},i.toolbar.formatting.links.remove))},P=function(e){var t,n,r=k.a.Selector.Placement.left,i=k.a.Selector.takeBy("bottom",r)(e);return t=i.point,n=t.point,-1===Math.sign(n.x)||-1===Math.sign(n.y)?k.a.Selector.preferBy("bottom",r)(e):i}},hl0p:function(e){e.exports=JSON.parse('{"header1":"_404daa52-formatting-link-header1","header2":"_f5da44c9-formatting-link-header2","header3":"_6771f861-formatting-link-header3","header3legacy":"_755e091a-formatting-link-header3legacy","button":"_e9f7b8c5-formatting-link-button","header4":"_2d9034b2-formatting-link-header4","paper":"_ef8cf119-formatting-link-paper","base":"_a7f5146c-formatting-link-base","small":"_522b4200-formatting-link-small","smallLight":"_4234927d-formatting-link-smallLight","score":"_3e895ab0-formatting-link-score","lawyer":"_9df4547d-formatting-link-lawyer","title":"_3d1da024-formatting-link-title","p1":"_991a624a-formatting-link-p1","header5":"_f11c98aa-formatting-link-header5","positionedWrapper":"_69c9878e-formatting-link-positionedWrapper","wrapper":"_14d68179-formatting-link-wrapper","editorToViewportContainer":"_23728bfd-formatting-link-editorToViewportContainer","urlHolder":"_8a4031ab-formatting-link-urlHolder _a7f5146c-formatting-link-base","urlInput":"_1b5a1557-formatting-link-urlInput _8a4031ab-formatting-link-urlHolder _a7f5146c-formatting-link-base","urlText":"_8f61eea3-formatting-link-urlText","delimiter":"_27acff95-formatting-link-delimiter"}')},hldE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r,i=n("tiWp"),a=n("mgiE"),o=n("TKPA"),s=n("M3t0"),c=n("sfTT"),l=n("mp9r");function u({from:e,transition:t,incomplete:n}){if(!n)return{};const r=p("transitionClassMapper");return Object(i.pipe)(e,a.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return r.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?c.a.rendered2focusedMainClockwise:c.a.rendered2focusedMain};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.a.focused2renderedMain,shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return r.error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),a.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}}))}function d({from:e,transition:t,incomplete:n}){return n?Object(i.pipe)(e,a.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};case"focused":return{main:t.clockwise?l.a.rendered2focusedBundleMainClockwise:l.a.rendered2focusedBundleMain,shade:l.a.rendered2focusedBundleShade};case"removed":return{shade:c.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.a.focused2renderedBundleMain,shade:t.clockwise?l.a.focused2renderedBundleShadeClockwise:l.a.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?c.a.focused2renderedShadeClockwise:c.a.focused2renderedShade};case"focused":return{main:c.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:c.a.focused2successMain,shade:c.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:c.a.addedMain};default:return{}}default:return{}}}),a.g.getOrElse(()=>{switch(t.type){case"added":return{main:c.a.addedMain};case"focused":return{main:c.a.openedMain};default:return{}}})):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:r}=e(t);return{main:a.g.fromNullable(n),shade:a.g.fromNullable(r)}}}}(r||(r={}));const p=Object(o.l)(s.d.Logging.getLogger)},hmxm:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("+vYo"),i=n("xk6L"),a=n("ykgB"),o=n("yIk2"),s=n("B8yO");const c={NothingToCheck:()=>s.createElement(s.Fragment,null),NothingToNoIssueFound:()=>s.createElement(s.Fragment,null),NoIssueFoundToNothingToCheck:()=>s.createElement(s.Fragment,null),NoIssuesFound:()=>s.createElement(s.Fragment,null),EverythingIsClear:()=>s.createElement(s.Fragment,null),Birthday:()=>s.createElement(s.Fragment,null)};function l(e){var t=r.a.create(c);return i.a.from(e?n.e(33).then(n.bind(null,"XYCX")):Promise.all([n.e(0),n.e(3),n.e(23)]).then(n.bind(null,"EFbg"))).pipe(i.a.retryWhen(a.a.OperationRetrier.RetryStrategy.linear(3,1e3)),i.a.first(),i.a.map((function(e){return e.Illustration}))).subscribe(o.b.toAtom(t)),t}},how3:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r,i,a,o=n("Wy1Y"),s=n("uKMM"),c=n("a5gI"),l=n("x+Pc"),u=n("8O/t"),d=n("hcme"),p=n("000W"),m=n("OhII"),f=n("DTwm"),h=n("tiWp"),g=n("+vYo"),b=n("ShUL"),v=n("gg7t"),y=n("mgiE"),O=n("0kuo"),_=n("D2TP"),C=n("Hj2R"),w=n("UK5+"),S=n("Hby5");(r||(r={})).fromAlert=function(e,t,n){let r=_.a.outcomeFullTypeMatch(Boolean(e.lensId===_.a.SpecialId.Premium||e.lensId===_.a.SpecialId.FreePremiumAlerts&&!C.a.isFreePremium(e))?_.a.Type.Advanced:e.lensType)(n);return C.a.isEthicalAI(e)&&void 0!==e.highlightBackgroundColor&&void 0!==e.highlightUnderlineColor&&(r=n.custom(e.highlightBackgroundColor,e.highlightUnderlineColor)),e.extraProperties.vbar&&(r=n.custom("transparent","transparent")),{markLensBase:r,markBase:n.markBase,markAppliedBase:n.markAppliedBase,markHeight:t?n.markHeightTall:n.markHeightStandard,markAnimated:n.markAnimated,markVisible:n.markVisible,markSelectedFocused:n.markSelectedFocused,markHidden:n.markHidden,markSuccess:n.markSuccess,markBulkApplied:n.markBulkApplied,markBulkAppliedAnimation:n.markBulkAppliedAnimation,markApplied:n.markApplied,noAnimation:n.noAnimation,markSelected:n.markSelected,markStart:n.markStart,markVBar:n.markVBar,markVBarHighlighted:n.markVBarHighlighted}},(a=i||(i={})).byAhr=function(e){return t=>Object(h.pipe)(e.get(),y.g.forAll(e=>t.meta.id===e.meta.id))?"full":"background"},a.byRangeType=function(e){return t=>e.extraProperties.vbar&&w.b.isEnclosingView(t)?"vbar":e.extraProperties.vbar?"vbar_partial":w.b.isFocusView(t)?"focus":w.b.isEnclosingView(t)?"enclosing":C.a.isCapiDone(e)?"background":e.hasNestedHighlights?w.b.isMainStartView(t)?"underline_start":"underline":"full"};var k,E,j=n("mEGS"),x=n("La5+"),A=n("xk6L"),I=n("yIk2"),T=n("3jKF"),M=n("hzat"),P=n("LFoX"),N=n("aaNd"),B=n("Gwvb"),L=n("TKPA"),F=n("K40b"),R=n("RRF2"),D=n("M3t0"),H=n("yiiS");(E=k||(k={})).create=function(e,t,n,r){return function(i,a){var o=n("MarkActionFactory.create");return b.a.Change.getCreateAction({classes:t({state:a.to.visualState,isBulkApplied:C.a.State.isBulkApplied(o.state),range:i,isAnimated:!a.to.updateRanges&&Object(S.d)(a),isEnclosed:r,isVBar:M.a.isVBar(o)}),range:i,order:e({range:i})})}},E.update=function(e,t,n,r){return function(i,a){var o=n("MarkActionFactory.update");return b.a.Change.getUpdateAction({classes:t({state:a.to.visualState,isBulkApplied:C.a.State.isBulkApplied(o.state),range:i,isAnimated:!a.to.updateRanges&&Object(S.d)(a),isEnclosed:r,isVBar:M.a.isVBar(o)}),range:i,order:e({range:i})})}},E.remove=function(e){return b.a.Change.getRemoveAction({range:e},b.a.Change.RemoveType.partial)};var V,U,W=function(){function e(t,n,r,i,a){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,m=arguments.length>8?arguments[8]:void 0,b=arguments.length>9?arguments[9]:void 0,O=arguments.length>10?arguments[10]:void 0,_=this;Object(o.a)(this,e),Object(c._)(this,"_ded",void 0),Object(c._)(this,"_alertList",void 0),Object(c._)(this,"_alertsReader",void 0),Object(c._)(this,"_alertsService",void 0),Object(c._)(this,"_alertRangeService",void 0),Object(c._)(this,"_useHighHighlights",void 0),Object(c._)(this,"_marksRenderer",void 0),Object(c._)(this,"_alertsFilterService",void 0),Object(c._)(this,"_filterChanges",void 0),Object(c._)(this,"_suggestionsVisualMode",void 0),Object(c._)(this,"_activeAlertChanges",void 0),Object(c._)(this,"_marksMap",void 0),Object(c._)(this,"_log",void 0),Object(c._)(this,"_subs",void 0),Object(c._)(this,"_filterKit",void 0),Object(c._)(this,"_filteredAlerts",void 0),Object(c._)(this,"_alertStateDiff",void 0),Object(c._)(this,"events",void 0),Object(c._)(this,"changeMarks",void 0),Object(c._)(this,"_getMarkAlert",void 0),Object(c._)(this,"_isAlertVisible",void 0),Object(c._)(this,"_getVisibleMarkAlert",void 0),Object(c._)(this,"getMarkByAlert",void 0),Object(c._)(this,"getEnclosingMarkByAlert",void 0),Object(c._)(this,"_isHighlightInteractable",void 0),Object(c._)(this,"getAlertByMark",void 0),Object(c._)(this,"_highlightedAlertId",void 0),Object(c._)(this,"highlightAlertHighlight",void 0),Object(c._)(this,"_unhighlightAlertHighlight",void 0),Object(c._)(this,"_onTransitionEnd",void 0),this._ded=t,this._alertList=n,this._alertsReader=r,this._alertsService=i,this._alertRangeService=a,this._useHighHighlights=s,this._marksRenderer=u,this._alertsFilterService=p,this._filterChanges=m,this._suggestionsVisualMode=b,this._activeAlertChanges=O,this._marksMap=new Map,this._log=D.d.Logging.getLogger("MarksViewModelImpl",D.a.LogLevel.DEBUG),this._subs=new x.a.Keeper,this._filterKit=g.a.create(y.g.none),this._filteredAlerts=g.a.create(y.g.none),this._alertStateDiff=this._alertList.state.pipe(A.a.pairwise(),A.a.map((function(e){var t=Object(d._)(e,2),n=t[0],r=t[1];return j.a.diff(n,r)})),A.a.filter(Object(L.m)(F.a.isEmpty))),this.events=new A.a.Subject,this.changeMarks=function(e){return _._ded.changeMarks(e)},this._getMarkAlert=function(e){var t=e.id;return Object(h.pipe)(y.g.fromNullable(_._marksMap.get(t)),y.g.filter(S.a.notAnyOf(S.c.disposed)),y.g.chain((function(e){return Object(h.pipe)(_._alertsReader.getById(e.alert.id),y.g.map((function(t){return{alert:t,markAlert:e}})))})))},this._isAlertVisible=function(e){return Object(h.pipe)(_._filterKit.get(),y.g.filter((function(t){return t.filter(e)})),y.g.isSome)},this._getVisibleMarkAlert=function(e){var t=e.id;return Object(h.pipe)(_._getMarkAlert({id:t}),y.g.filter((function(e){return _._isAlertVisible(e.alert)})))},this.getMarkByAlert=function(e){return Object(h.pipe)(_._getVisibleMarkAlert(e.alert),y.g.chain((function(t){return t.markAlert.markByIndex(e.highlightIndex)})))},this.getEnclosingMarkByAlert=function(e){return Object(h.pipe)(_._getVisibleMarkAlert(e),y.g.chain((function(e){return e.markAlert.enclosingMark})))},this._isHighlightInteractable=function(e){var t=Object(h.pipe)(y.g.fromNullable(_._marksMap.get(e.alert.id)),y.g.fold((function(){return!1}),(function(e){return S.a.isOrWillBe(S.c.highlighted)(e)}))),n=M.a.isVBar(e.alert);return(!Object(h.pipe)(P.a.getHighlightRange(e),y.g.fold((function(){return!1}),w.b.isEnclosingView))||t)&&!n},this.getAlertByMark=function(e){return Object(h.pipe)(_._alertsReader.getInteractable(w.a.fromRangeIdToAlertId(e.id)),y.g.filter(_._isAlertVisible),y.g.chain((function(t){return Object(h.pipe)(B.c.getHighlightIndex(t,e.range()),y.b.map((function(e){return{alert:M.a.fromModel(t),highlightIndex:e}})),y.g.fromEither)})),y.g.filter(_._isHighlightInteractable))},this._highlightedAlertId=y.g.none,this.highlightAlertHighlight=function(e){return Object(h.pipe)(_._getMarkAlert(e),y.g.map((function(e){return e.markAlert})),y.g.filter(S.a.canBeChanged()),y.g.fold((function(){return y.b.left(new Error("Cannot highlight alert"))}),(function(t){return Object(h.pipe)(_._highlightedAlertId,y.g.tap((function(t){_._log.warn("Trying to highlight alert while previously highlighted alert is not unhighlighted",{highlighted:e.id,previous:t}),_._unhighlightAlertHighlight({id:t})}))),_._highlightedAlertId=y.g.some(e.id),t.scheduleApply(S.c.highlighted),_._marksRenderer.enqueue([t],N.b.Priority.asap),y.b.right({dispose:function(){return _._unhighlightAlertHighlight(e)}})})))},this._unhighlightAlertHighlight=function(e){return Object(h.pipe)(e,(function(e){return y.g.exists((function(t){return t===e.id}))(_._highlightedAlertId)||_._log.warn("Trying to unhighlight alert but nothing is highlighted",{alertId:e.id}),_._highlightedAlertId=y.g.none,e}),_._getMarkAlert,y.g.map((function(e){return e.markAlert})),y.g.filter((function(e){return S.a.canBeChanged()(e)&&!S.a.isOrWillBe(S.c.hidden)(e)&&!Object(h.pipe)(_._activeAlertChanges.get(),y.g.exists((function(t){return t.alert.id===e.alert.id})))})),y.g.map((function(e){return _._marksRenderer.enqueue([e.scheduleApply(S.c.visible)],N.b.Priority.asap)})))},this._onTransitionEnd=function(e){return function(t,n){S.c.isApplied(t.to.visualState)&&requestAnimationFrame((function(){Object(h.pipe)(n.mark,y.g.fold((function(){return A.a.of(y.b.left(new Error("Cannot animate mark, as it not exists")))}),(function(e){return Object(h.pipe)(A.a.mergeStatic(A.a.mergeStatic(A.a.timer(300).pipe(A.a.mapTo(y.b.right(Object(f.constVoid)()))),e.fromMarkEvent("animationend"),e.fromMarkEvent("animationcancel")).pipe(A.a.first())))})),Object(f.flow)(A.a.first(),A.a.map(y.b.fold((function(e){return Object(l.a)(e,v.a.CollapsedMarkError)?_._log.debug("Cannot animate applied alert as it is collapsed",e):_._log.error("Cannot animate applied alert",e,{alertId:n.alert.id,currentState:n.state,alertInfo:{title:n.alert.title,patternName:n.alert.patternName}}),A.a.timer(150).pipe(A.a.map(f.constVoid))}),A.a.of))),(function(t){t.subscribe((function(){S.a.isOrWillBe(S.c.disposed)(n)?_._log.info("Alert disposed before apply animation finished"):(_.events.next({type:B.b.Type.AppliedAlertAnimationFinished,alert:e}),C.a.isBulkApplied(e)||_._handleRemovedAlerts([e]))}))}))}))}},this._subs.push(this._listenMarksState(),this._listenFilterChange(),this._listenFilteredAlerts(),this._rerenderAllMarksOnUnderlineModeChange()),Object(L.r)("marksManager",this)}return Object(s.a)(e,[{key:"dispose",value:function(){this._subs.dispose()}},{key:"flush",value:function(){var e=this,t=(new Date).getTime();return this._alertList.flushAlerts(),this._marksRenderer.flush().finally((function(){var n=(new Date).getTime()-t;e._log.info("Flush performed",{duration:n})}))}},{key:"focusAlertHighlight",value:function(e){var t=this;return Object(h.pipe)(this._getMarkAlert(e.alert),y.g.fold((function(){return y.b.left(new Error("Cannot focus given alert"))}),(function(n){return S.a.canBeChanged()(n.markAlert)&&(C.a.isSuperAlert(n.alert)&&n.markAlert.scheduleForceUpdate(),n.markAlert.scheduleApply(S.c.highlighted),t._marksRenderer.enqueue([n.markAlert],N.b.Priority.asap)),y.b.right({dispose:function(){return t._unfocusAlertHighlight(e)}})})))}},{key:"_unfocusAlertHighlight",value:function(e){var t=this;Object(h.pipe)(e.alert,y.g.some,y.g.filter((function(e){return!Object(h.pipe)(t._highlightedAlertId,y.g.exists((function(t){return t===e.id})))})),y.g.chain(this._getMarkAlert),y.g.filter((function(e){return!S.a.isOrWillBe(S.c.hidden)(e.markAlert)&&S.a.canBeChanged()(e.markAlert)})),y.g.map((function(e){S.a.isOrWillBe(S.c.success)(e.markAlert)?(t._handleRemovedAlerts([e.alert]),t._marksRenderer.enqueue([e.markAlert],N.b.Priority.asap)):t._marksRenderer.enqueue([e.markAlert.scheduleApply(S.c.visible)],N.b.Priority.asap)})))}},{key:"moveCursorToHighlight",value:function(e,t){var n=this;return Object(h.pipe)(this._getMarkAlert(e.alert),y.g.chain((function(t){return t.markAlert.markByIndex(e.highlightIndex)})),y.g.chain((function(e){return y.g.fromEither(e.range())})),y.g.fold((function(){return y.b.left(new Error("Cannot find mark for given range"))}),(function(e){var r=n._ded.getCursor(),i=r.index;if(0===r.length&&(i<e.start||i>e.end)){var a=Math.min(e[t],n._ded.getLastPossibleCursorPosition());return Object(h.pipe)(n._ded.setCursor(a,0),y.b.orElse((function(e){return n._log.error("Failed to set cursor to highlight",e,a),y.b.left(e)})))}return y.b.right(void 0)})))}},{key:"ensureAlertHighlightInViewport",value:function(e,t,n){var r=this;return Object(h.pipe)(this._getVisibleMarkAlert(e.alert),y.g.map((function(e){return e.markAlert})),y.g.chain((function(t){return t.markByIndex(e.highlightIndex)})),y.g.fold((function(){return r._log.warn("Cannot ensureAlertHighlightInViewport, because mark is None"),A.a.EMPTY}),(function(e){return r._ded.scrollToMark(e.id,{animate:n,paddingTop:t})})))}},{key:"_listenFilterChange",value:function(){return Object(h.pipe)(this._filterChanges,A.a.map(y.g.some)).subscribe(I.b.toAtom(this._filterKit))}},{key:"getFirstMark",value:function(){var e=this;return this._alertList.state.pipe(A.a.map(j.a.find((function(e){return C.a.isCritical(e.alert)}))),A.b.compactMap((function(t){return A.a.of(Object(h.pipe)(e._getMarkAlert(t.alert),y.g.chain((function(e){return e.markAlert.mark}))))})))}},{key:"_listenFilteredAlerts",value:function(){return this._filterKit.pipe(A.a.withLatestFrom(this._alertList.state),A.a.map((function(e){var t=Object(d._)(e,2),n=t[0],r=t[1],i=Object(h.pipe)(n,y.g.map((function(e){return e.filter})));return Object(h.pipe)(r,j.a.reduce({},(function(e,t){return Object(h.pipe)(i,y.g.map((function(e){return e(t.alert)})),y.g.getOrElse(f.constTrue))&&C.a.isRegistered(t.alert)&&(e[t.alert.id]=t.alert),e})),(function(e){return y.g.some({filter:i,alerts:e})}))}))).subscribe(I.b.toAtom(this._filteredAlerts))}},{key:"_schedule",value:function(e,t){p.tb(e)&&(this._log.trace("Schedule alerts ".concat(e.map((function(e){return e.alert.id}))," to ").concat(t)),this._marksRenderer.enqueue(e.map((function(e){return e.scheduleApply(t)})),N.b.Priority.low))}},{key:"_handleRemovedAlerts",value:function(e){var t=this;Object(h.pipe)(e,p.V((function(e){var n=e.id;return Object(h.pipe)(t._marksMap.get(n),y.g.fromNullable,y.g.tap((function(){return t._marksMap.delete(n)})))})),m.I,y.g.tap((function(e){return t._schedule(e,S.c.disposed)})))}},{key:"_handleUpdatedAlerts",value:function(e){var t=this;if(e.length){var n=Object(h.pipe)(this._filteredAlerts.get(),y.g.chain((function(e){return e.filter}))),r=e.reduce((function(e,r){return t._alertsFilterService.alertCanBeDisplayed(r)||C.a.isBulkApplied(r)?Object(h.pipe)(y.g.fromNullable(t._marksMap.get(r.id)),y.g.fold((function(){Object(h.pipe)(n,y.g.map((function(e){return e(r)})),y.g.getOrElse((function(){return!0})))&&e.activeToHandle.push(r)}),(function(e){e.scheduleUpdate(),S.a.isOrWillBe(S.c.success)(e)?e.scheduleApply(S.c.highlighted):t._marksRenderer.enqueue([e],N.b.Priority.asap)}))):Object(h.pipe)(y.g.fromNullable(t._marksMap.get(r.id)),y.g.map((function(n){r.allowUpdate&&C.a.isCapiDone(r)&&C.a.isRated(r)&&S.a.isOrWillBe(S.c.highlighted)(n)?(n.scheduleUpdate(),n.scheduleApply(S.c.success),t._marksRenderer.enqueue([n],N.b.Priority.asap)):e.removedToHandle.push(r)}))),e}),{activeToHandle:[],removedToHandle:[]}),i=r.activeToHandle,a=r.removedToHandle;this._handleVisibleAlerts(i),this._handleRemovedAlerts(a)}}},{key:"_handleVisibleAlerts",value:function(e){var t=this;if(!p.sb(e)){var n=e.map((function(e){if(t._marksMap.has(e.id))return t._marksMap.get(e.id);var n=C.a.isSuperAlert(e)?i.byAhr(t._activeAlertChanges.view(Object(f.flow)(y.g.filter((function(t){return t.alert.id===e.id})),y.g.chain((function(n){return Object(h.pipe)(y.g.fromNullable(e.getHighlightRanges()[n.highlightIndex]),y.g.tapLeft((function(){t._log.error("Alert highlight ranges of length ".concat(e.getHighlightRanges().length," do not contain a range at the given AHI: ").concat(n.highlightIndex))})))}))))):i.byRangeType(e),a=function(i){return function({getMarkType:e,theme:t}){return({state:n,range:r,isAnimated:i,isBulkApplied:a,isEnclosed:o})=>{const s=e(r()),c=(n===S.c.applied||n===S.c.success)&&[t.markAppliedBase,t.markHeight]||["vbar","vbar_partial"].includes(s)&&[]||[t.markLensBase,t.markHeight];switch(n){case S.c.faded:i&&c.push(t.markAnimated);break;case S.c.visible:{const e="underline_start"===s;switch(s){case"vbar_partial":break;case"vbar":c.push(t.markVBar);break;case"focus":case"enclosing":c.push(t.markHidden);break;case"full":case"background":case"underline":case"underline_start":c.push(t.markVisible),i&&c.push(t.markAnimated),a?c.push(t.markBulkApplied):e&&c.push(t.markStart);break;default:Object(O.c)(s)}break}case S.c.highlighted:{const e="underline_start"===s;switch(s){case"vbar_partial":break;case"full":case"focus":c.push(t.markSelected,t.markSelectedFocused,t.markVisible),a&&c.push(t.markBulkApplied);break;case"vbar":c.push(t.markVBar,t.markVBarHighlighted);break;case"enclosing":case"background":c.push(t.markSelected,t.markVisible);break;case"underline":case"underline_start":c.push(t.markSelectedFocused,t.markVisible),o&&c.push(t.markSelected),e&&c.push(t.markStart);break;case"vbar":break;default:Object(O.c)(s)}i||c.push(t.noAnimation);break}case S.c.hidden:c.push(t.markHidden);break;case S.c.success:c.push("background"===e(r())?t.markSuccess:t.markHidden);break;case S.c.applied:c.push(a?t.markBulkAppliedAnimation:t.markApplied);break;case S.c.initial:case S.c.disposed:break;default:Object(O.c)(n)}return c}}({getMarkType:n,theme:r.fromAlert(e,t._useHighHighlights,Object(H.a)(t._suggestionsVisualMode.get()))})(i)},o=function(n){return Object(h.pipe)(t._alertsReader.getById(e.id),y.g.alt((function(){return Boolean(n)&&t._log.warn("Could not find alert for provided MarkAlert",{alert:e,source:n}),y.g.some(e)})),y.g.map(M.a.fromModel),y.g.unsafeGet)},s=function(t){var n=t.range,r=_.a.getSortOrder(e.lensType);return w.b.isEnclosingView(n())?r+1:r},c=C.a.hasEnclosingHighlight(e),l=new T.a(o,t._alertsService,t._alertRangeService,t.changeMarks,k.create(s,a,o,c),k.update(s,a,o,c),k.remove,t._onTransitionEnd(e));return t._marksMap.set(e.id,l),l})).filter((function(e){return S.a.isOneOf(S.c.initial)(e)||S.a.isOrWillBe(S.c.hidden)(e)||S.a.isOrWillBe(S.c.visible)(e)||S.a.isOrWillBe(S.c.faded)(e)}));this._schedule(n,S.c.visible)}}},{key:"_handleAcceptedAlerts",value:function(e){var t=this;return Object(h.pipe)(e,p.zb(this._getMarkAlert),p.G,(function(e){e.length&&(C.a.isBulkApplied(e[0].alert)||t.moveCursorToHighlight({alert:M.a.fromModel(e[0].alert),highlightIndex:0},"end"),t._marksRenderer.enqueue(e.map((function(e){return e.markAlert.scheduleApply(S.c.applied)})),N.b.Priority.immediately))}))}},{key:"_rerenderAllMarksOnUnderlineModeChange",value:function(){var e=this;return this._suggestionsVisualMode.pipe(A.a.skip(1)).subscribe((function(){var t=Array.from(e._marksMap.values());t.forEach((function(e){return e.scheduleForceUpdate()})),e._marksRenderer.enqueue(t.map((function(e){return e.scheduleForceUpdate(),e})),N.b.Priority.low)}))}},{key:"_listenMarksState",value:function(){var e=this,t=function(e){return Object(u._)({activeAlerts:[],updatedAlerts:[],removedAlerts:[],acceptedAlerts:[],hiddenMarkAlerts:[]},e)};return A.a.mergeStatic(this._filteredAlerts.pipe(A.b.compactMap((function(n){var r=n.alerts;return A.a.of(t({hiddenMarkAlerts:Array.from(e._marksMap.values()).filter((function(e){return void 0===r[e.alert.id]&&S.a.notAnyOf(S.c.applied,S.c.success)(e)&&!C.a.State.isBulkApplied(e.alert.state)})),activeAlerts:R.e.toArray(r)}))}))),this._alertStateDiff.pipe(A.a.withLatestFrom(this._filteredAlerts),A.a.map((function(n){var r=Object(d._)(n,2),i=r[0],a=r[1];return Object(h.pipe)(i,F.a.reduce(t({}),(function(t,n){return e._marksMap.has(n.alert.id)&&t.removedAlerts.push(n.alert),t}),(function(e,t){return C.a.isAccepted(t.alert)?e.acceptedAlerts.push(t.alert):e.updatedAlerts.push(t.alert),e}),(function(e,t){return Object(h.pipe)(a,y.g.chain((function(e){return e.filter})),y.g.fold((function(){return e.activeAlerts.push(t.alert)}),(function(n){return n(t.alert)&&e.activeAlerts.push(t.alert)}))),e})))})))).pipe(A.a.tap((function(t){var n=t.activeAlerts,r=t.removedAlerts,i=t.updatedAlerts,a=t.acceptedAlerts,o=t.hiddenMarkAlerts;return e._handleRemovedAlerts(r),e._handleUpdatedAlerts(i),e._handleVisibleAlerts(n),e._handleAcceptedAlerts(a),e._schedule(o,S.c.hidden),function(){return e._marksRenderer.dispose()}})),A.a.catchError(this._log.handler("_listenMarksState exception").error),A.a.retry()).subscribe()}}]),e}();V=W||(W={}),U=function(){function e(){Object(o.a)(this,e),Object(c._)(this,"events",new A.a.Subject),Object(c._)(this,"dispose",f.constVoid),Object(c._)(this,"focusAlertHighlight",(function(){return y.b.left(new Error("Method not implemented."))})),Object(c._)(this,"highlightAlertHighlight",(function(){return y.b.left(new Error("Method not implemented."))})),Object(c._)(this,"moveCursorToHighlight",(function(){return y.b.left(new Error("Method not implemented."))}))}return Object(s.a)(e,[{key:"getFirstMark",value:function(){throw new Error("Method not implemented.")}},{key:"flush",value:function(){return Promise.resolve()}},{key:"ensureAlertHighlightInViewport",value:function(){throw new Error("Method not implemented.")}},{key:"getEnclosingMarkByAlert",value:function(e){throw new Error("Method not implemented.")}},{key:"getMarkByAlert",value:function(e){throw new Error("Method not implemented.")}},{key:"getAlertByMark",value:function(e){throw new Error("Method not implemented.")}}]),e}(),V.Mock=U},huq3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("B8yO"),i=n("7LqD"),a=n("tREI"),o=n("XGPX");class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.iterable=e;let t,n=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)n(t)};for(let t of e)n(t);let r=0;for(let[e,n]of this.keyMap)t?(t.nextKey=e,n.prevKey=t.key):(this.firstKey=e,n.prevKey=void 0),"item"===n.type&&(n.index=r++),t=n,t.nextKey=void 0;this.lastKey=null==t?void 0:t.key}}function c(e){let{filter:t}=e,n=(0,i.b)(e),o=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),c=(0,r.useCallback)(e=>new s(t?t(e):e),[t]),l=(0,r.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),u=(0,a.i)(e,c,l),d=(0,r.useMemo)(()=>new(0,i.a)(u,n),[u,n]);const p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(null!=n.focusedKey&&!u.getItem(n.focusedKey)){const e=p.current.getItem(n.focusedKey),t=[...p.current.getKeys()].map(e=>{const t=p.current.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),r=[...u.getKeys()].map(e=>{const t=u.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),i=t.length-r.length;let a,o=Math.min(i>1?Math.max(e.index-i+1,0):e.index,r.length-1);for(;o>=0;){if(!d.isDisabled(r[o].key)){a=r[o];break}o<r.length-1?o++:(o>e.index&&(o=e.index),o--)}n.setFocusedKey(a?a.key:null)}p.current=u},[u,d,n,n.focusedKey]),{collection:u,disabledKeys:o,selectionManager:d}}function l(e){var t;let[n,i]=(0,o.b)(e.selectedKey,null!==(t=e.defaultSelectedKey)&&void 0!==t?t:null,e.onSelectionChange),a=(0,r.useMemo)(()=>null!=n?[n]:[],[n]),{collection:s,disabledKeys:l,selectionManager:u}=c({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:a,onSelectionChange:t=>{let r=t.values().next().value;r===n&&e.onSelectionChange&&e.onSelectionChange(r),i(r)}}),d=null!=n?s.getItem(n):null;return{collection:s,disabledKeys:l,selectionManager:u,selectedKey:n,setSelectedKey:i,selectedItem:d}}},hwDs:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("t5lx"),l=n("B8yO"),u=n("DTwm"),d=n("tiWp"),p=n("OwvP"),m=n("lXTq"),f=n("mgiE"),h=n("XGsl"),g=n("EFMT"),b=n("UDju"),v=n("zHRX"),y=n("/XMJ"),O=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.apply(this,arguments),Object(o._)(Object(r.a)(e),"_el",void 0),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this._el.children;this.props.onElementsReady({header:e[0].outerHTML,stats:e[1].outerHTML,text:e[2].outerHTML,footer:e[3].outerHTML})}},{key:"render",value:function(){var e,t=this,n=this.props.model,r=(e=n.plagiarism,Object(d.pipe)(e,f.g.filter((function(e){return e.state===m.a.PlagiarismCheckingState.CHECKED})),f.g.map((function(e){return e.sortedAlerts})),f.g.getOrElse((function(){return[]}))));return l.createElement("div",{ref:function(e){null!==e&&(t._el=e)}},l.createElement(g.d,{title:n.title}),l.createElement(g.b,{model:n}),l.createElement("div",null,l.createElement(v.a,{html:n.dedHTML,title:n.title,alerts:n.sortedAlerts,plagiarism:r}),l.createElement(b.a,{alerts:n.sortedAlerts,plagiarism:r})),l.createElement(g.c,null))}}]),n}(l.Component);var _=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"_prepareHTML",value:function(e){return'<!doctype html><html lang="en" style="--rem: 23.8;"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Report</title><style>'+Object(y.a)()+"</style></head>"+"<body>".concat(e,"</body>")+"</html>"}},{key:"render",value:function(){var e=this,t=this.props.reportViewModel;return l.createElement(p.a.div,{className:h.a.invisible},t.reportData.view(Object(u.flow)(f.g.map((function(n){return l.createElement(O,{model:n,onElementsReady:function(n){var r=n.header,i=n.footer,a=n.stats,o=n.text;return t.generateReport(e._prepareHTML(a+o),r,i)}})})),f.g.toNullable)))}}]),n}(l.Component)},iD3t:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var r=n("B8yO"),i=n("OwvP"),a=n("TKPA"),o=n("ldOx"),s=n("fC5a"),c=n("ySi0"),l=n("/7y/"),u=n("NDcT"),d=n("wuWi"),p=n("2swC"),m=n("nWMp"),f=n("NbNH");const h={position:"fixed",bottom:m.a.rem(1),right:m.a.rem(1),zIndex:f.j,width:m.a.rem(20),padding:m.a.rem(2),background:p.a.CoreNeutral0,transition:`transform ${m.a.seconds(.1)} linear ${m.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:m.a.rem(f.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},g={transitionDelay:m.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},b={transform:"perspective(100) rotateY(-90deg)"},v={paddingBottom:m.a.rem(1)},y={marginBottom:m.a.rem(1)},O={width:m.a.percent(100),borderRadius:m.a.rem(f.t),padding:`${m.a.rem(.5)} 0 ${m.a.rem(.5)} ${m.a.rem(.5)}`,lineHeight:m.a.rem(1.3125),margin:"0 2px"},_={width:m.a.rem(1),height:m.a.rem(1),minHeight:m.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:m.a.rem(.25)},C={color:p.a.CoreBlue50,textDecoration:"none"},w={paddingTop:m.a.rem(2),height:m.a.rem(15),flexGrow:1},S={marginBottom:m.a.rem(.5)},k={$nest:{"& p":{marginTop:m.a.rem(1),marginBottom:m.a.rem(1)},"& p:last-child":{marginBottom:0},"& ul":{paddingLeft:m.a.rem(2)},"& a":{color:p.a.CoreBlue50,textDecoration:"none"}}},E={marginTop:m.a.rem(1),marginBottom:m.a.rem(1)},j={marginTop:m.a.rem(1)},x=m.a.stylesheet({notification:[h],rotateHide:[h,g],rotateShow:[h,b],closeIcon:[{position:"absolute",top:0,right:0}],question:[v],questionText:[y],answerBtn:[O],answer:[{whiteSpace:"normal"}],outcomeIcon:[_],learnMoreLink:[C],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[w],completionHeader:[S],badExperience:[k],openQuestion:[E],contactSupport:[j]}),A=({onComplete:e})=>{const t=r.useContext(u.a.Context).gbSatisfactionSurvey.thankYou;return r.createElement(i.a.div,{className:x.completionScreen},r.createElement(c.d.NotificationInfo,{width:40}),r.createElement("div",{className:x.completionContent},r.createElement(d.e,{className:x.completionHeader},t)," "),r.createElement(s.a.Primary,{name:"survey.done",onClick:e},"done"))};var I=n("t39C");const T=({answerType:e,viewModel:t,children:n})=>r.createElement(s.a.Flat,{className:x.answerBtn,name:"answer."+e,onClick:()=>t.answer(e)},r.createElement("span",{className:x.answer},n));var M=l.b.Experience;const P=({viewModel:e})=>{const t=r.useContext(u.a.Context).premiumOnboardingSurvey.firstQuestion;return r.createElement("div",{className:x.question},r.createElement(d.e,{className:x.questionText},t.question),r.createElement(T,{answerType:M.VerySatisfied,viewModel:e},r.createElement(I.b,null,"😄")," ",t.answers.verySatisfied),r.createElement(T,{answerType:M.SomewhatSatisfied,viewModel:e},r.createElement(I.b,null,"🙂")," ",t.answers.somewhatSatisfied),r.createElement(T,{answerType:M.Neutral,viewModel:e},r.createElement(I.b,null,"😐")," ",t.answers.neutral),r.createElement(T,{answerType:M.SomewhatDissatisfied,viewModel:e},r.createElement(I.b,null,"🙁")," ",t.answers.somewhatDissatisfied),r.createElement(T,{answerType:M.VeryDissatisfied,viewModel:e},r.createElement(I.b,null,"😞")," ",t.answers.veryDissatisfied))};var N=l.b.dissatisfactionReasons,B=l.b.adminSatisfactionReasons,L=l.b.teamMemberSatisfactionReasons;const F=({viewModel:e})=>r.createElement(i.a.div,{className:x.question},e.state.view(l.a.isSecondQuestionAboutDissatisfaction).view(Object(a.c)(r.createElement(R,{viewModel:e}),r.createElement(D,{viewModel:e})))),R=({viewModel:e})=>{const t=r.useContext(u.a.Context).gbSatisfactionSurvey.secondDissatisfactionQuestion,n=t.answers[e.isAdmin?"admin":"teamMember"];return r.createElement(r.Fragment,null,r.createElement(d.e,{className:x.questionText},t.question),N.map(t=>r.createElement(T,{key:t,answerType:t,viewModel:e},n[t])))},D=({viewModel:e})=>{const t=r.useContext(u.a.Context).gbSatisfactionSurvey.secondSatisfactionQuestion,n=e.isAdmin?B.map(n=>r.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.admin[n])):L.map(n=>r.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.teamMember[n]));return r.createElement(r.Fragment,null,r.createElement(d.e,{className:x.questionText},t.question),n)};var H=n("+vYo"),V=n("skc2"),U=n("6Fzp"),W=n("ksEe"),z=n("Butu");const G=({viewModel:e,onComplete:t})=>r.createElement(i.a.div,{className:x.question},e.state.view(l.a.isSecondQuestionAboutDissatisfaction).view(Object(a.c)(r.createElement($,{viewModel:e,onComplete:t}),r.createElement(Z,{viewModel:e})))),q=({onComplete:e})=>{const t=r.useContext(U.a.Context),n=r.useContext(W.a.Context),i=r.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion;return r.createElement(r.Fragment,null,r.createElement(d.a,{className:x.badExperience},i.admin.TechnicalDifficulties),r.createElement(s.a.Primary,{className:x.contactSupport,name:"survey.done",onClick:()=>{e(),n.actions.openPopup(new V.a(t.support.newRequest))}},"Contact support"))},K=({viewModel:e})=>{const t=r.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion[e.isAdmin?"admin":"teamMember"].DidntFindItValuable,{title:n,answers:i}=t;return r.createElement(r.Fragment,null,r.createElement(d.e,{className:x.questionText},n),Object.keys(i).map(t=>{const n=i[t];return r.createElement(T,{key:t,answerType:t,viewModel:e},n)}))},$=({viewModel:e,onComplete:t})=>{const n=r.useContext(U.a.Context),i=[n.extension.chrome.installURL,n.extension.edge.infoURL,n.extension.firefox.installURL,n.extension.safari.installURL,n.funnel.keyboardInstall,n.funnel.desktopAppInstall],a=r.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion,o=H.a.create(""),c=e.state.view(l.a.getSecondQuestionAnswer).get();return e.isAdmin&&"TechnicalDifficulties"===c?r.createElement(q,{onComplete:t}):"DidntFindItValuable"===c?r.createElement(K,{viewModel:e}):r.createElement(r.Fragment,null,r.createElement(d.a,{className:x.badExperience},(()=>{if(e.isAdmin){if("DoesntIntegrateWithAnAppIUse"===c)return a.admin.DoesntIntegrateWithAnAppIUse(...i)}else{if("DoesntIntegrateWithAnAppIUse"===c)return a.teamMember.DoesntIntegrateWithAnAppIUse(...i);if("NotSureWhatGrammarlyBusinessDoes"===c)return a.teamMember.NotSureWhatGrammarlyBusinessDoes(...i)}return a[e.isAdmin?"admin":"teamMember"][c]})()),r.createElement(z.d,{name:"survey-feedback-disliked",className:x.openQuestion,autofocus:!0,value:o}),r.createElement(s.a.Primary,{name:"survey.done",disabled:o.view(e=>!e),onClick:()=>e.answer(o.get())},"Share feedback"))},Z=({viewModel:e})=>{const t=r.useContext(u.a.Context).gbSatisfactionSurvey.thirdSatisfactionQuestion,n=H.a.create("");return r.createElement(r.Fragment,null,r.createElement(d.e,{className:x.questionText},t.title),r.createElement(d.a,null,t.question),r.createElement(z.d,{name:"survey-feedback-liked",className:x.openQuestion,autofocus:!0,value:n}),r.createElement(s.a.Primary,{name:"survey.done",disabled:n.view(e=>!e),onClick:()=>e.answer(n.get())},"Share feedback"))},Y=({viewModel:e,onClose:t,onComplete:n})=>r.createElement(X,{viewModel:e},i=>r.createElement(r.Fragment,null,l.a.isFirstQuestion(i)?r.createElement(P,{viewModel:e}):l.a.isSecondQuestion(i)?r.createElement(F,{viewModel:e}):l.a.isThirdQuestion(i)?r.createElement(G,{viewModel:e,onComplete:n}):r.createElement(A,{onComplete:n}),r.createElement(s.a,{name:"survey-close",className:x.closeIcon,onClick:l.a.isThirdQuestion(i)?n:t},r.createElement(c.d.Close,null)))),X=({viewModel:e,children:t})=>r.createElement(o.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,r]=e&&l.a.isFirstQuestion(e)&&l.a.isSecondQuestion(t)||e&&l.a.isSecondQuestion(e)&&l.a.isThirdQuestion(t)||e&&l.a.isThirdQuestion(e)&&l.a.isCompleted(t)?[x.rotateHide,x.rotateShow]:[x.notification,x.notification];return{prev:{start:x.notification,end:n},next:{start:r,end:x.notification}}}},e=>r.createElement(i.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:a.e},t(e.state)))},iUFV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("xk6L");!function(e){e.create=function(){return{doubleClickedWord:new i.a.Subject}}}(r||(r={}))},imRW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("a5gI"),i=n("xk6L");class a{static copy(e,t){this._clearSelection();const n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then(()=>{n.parentElement.removeChild(n)}).catch(e=>{throw n.parentElement.removeChild(n),e})}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise((n,r)=>{try{const i=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(i)?n():r(new Error("Copy API doesn't work"))}catch(e){r(e)}})}}Object(r._)(a,"copyApiAvailable",new i.a.BehaviorSubject(!0));try{i.a.fromEvent(window,"click").pipe(i.a.first()).subscribe(()=>{document.queryCommandSupported("copy")||a.copyApiAvailable.next(!1)})}catch(e){a.copyApiAvailable.next(!1)}},itj6:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var r,i,a,o,s,c,l=n("TKPA"),u=n("0kuo"),d=n("hzat"),p=n("VAZM");!function(e){let t,n;function i(e){return e.type===r.Type.takeawayCorrectlyDetected||e.type===r.Type.takeawayIncorrectlyDetected}function a(e){return e.type===r.Type.bulkApply}function o(e){return e.type===r.Type.bulkDismiss}function s(e){return e.type===r.Type.bulkIgnore}function c(e){return e.type===r.Type.bulkHighlight}function u(e){return e.type===r.Type.bulkUndo}function m(e){return e.type===r.Type.bulkIndividualUndo}function f(e){return e.type===r.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed",e.listItemClick="listItemClick"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case d.a.Type.super:return n.superCard;case d.a.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(e){return e.type===r.Type.alertApply},e.isAlertFeedbackAction=function(e){return e.type===r.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(e){return e.type===r.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(e){return e.type===r.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(e){return e.type===r.Type.takeawayDismiss},e.isTakeawayResolveAction=function(e){return e.type===r.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=i,e.isTakeawayAction=function(e){return i(e)||e.type===r.Type.takeawayDismiss||e.type===r.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(e){return e.type===r.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(e){return e.type===r.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(e){return e.type===r.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(e){return e.type===r.Type.alertIgnore},e.isAlertResolveAction=function(e){return e.type===r.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(e){return e.type===r.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(e){return e.type===r.Type.alertApplyFormSubmit},e.isGbPromptApply=function(e){return e.type===r.Type.gbPromptApply},e.isGbPromptCreateRule=function(e){return e.type===r.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(e){return e.type===r.Type.gbPromptDismiss},e.isGbPromptShow=function(e){return e.type===r.Type.gbPromptShow},e.isMuteCategoryAction=function(e){return e.type===r.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(e){return e.type===r.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(e){return e.type===r.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(e){return e.type===r.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(e){return e.type===r.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(e){return e.type===r.Type.hover},e.isAlertCardShow=function(e){return e.type===r.Type.alertCardShow},e.isBulkAcceptItemShow=function(e){return e.type===r.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(e){return e.type===r.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(e){return e.type===r.Type.alertMinicardButtonClick},e.isMiniItemClick=function(e){return e.type===r.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===p.a.Type.collapseButtonClick},e.isOnboardingClose=function(e){return e.type===r.Type.onboardingClose},e.isNavigation=function(e){return e.type===r.Type.openSetGoals||e.type===r.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(e){return e.type===r.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(e){return e.type===r.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(e){return e.type===r.Type.changeUserInput},e.isFocusUserInput=function(e){return e.type===r.Type.focusUserInput},e.isBulkApply=a,e.isBulkDismiss=o,e.isBulkIgnore=s,e.isBulkHighlight=c,e.isBulkUndo=u,e.isBulkIndividualUndo=m,e.isBulkLooksGood=f;e.isBulkAction=Object(l.p)(a,o,s,c,m,f,u);let h;e.isMutedAlertSuggestionsManagementClick=function(e){return e.type===r.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(e){return e.type===r.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some(e=>e.type===t)}}(h=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(e){return e.type===r.Type.openIdeasGallery},e.isListItemClick=function(e){return e.type===r.Type.listItemClick};e.hasClickPoint=Object(l.p)(r.isBulkHighlight,r.isAlertMinicardButtonClick,r.isListItemClick)}(r||(r={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(i||(i={})),function(e){e.isReviewEdit=function(e){return e.type===r.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===r.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===r.Type.shortenItKeepEdit}}(a||(a={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(c||(c={})),Object(u.d)(void 0)},ivjH:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("Vv+i"),i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("4mQT"),c=n("8O/t"),l=n("X76w"),u=n("t5lx"),d=n("DTwm"),p=n("M5RY"),m=n("B/Ki"),f=n("GMJx"),h=n("La5+"),g=n("xk6L"),b=n("IjjT"),v=n("TKPA"),y=n("mgiE"),O=n("M3t0"),_=n("9UoD"),C=p.import("core/module"),w=p.import("parchment"),S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,a){var s;Object(i.a)(this,n),s=t.call(this,e,a),Object(o._)(Object(r.a)(s),"quill",void 0),Object(o._)(Object(r.a)(s),"_options",void 0),Object(o._)(Object(r.a)(s),"_subs",void 0),Object(o._)(Object(r.a)(s),"_log",void 0),Object(o._)(Object(r.a)(s),"_lastRecorded",void 0),Object(o._)(Object(r.a)(s),"_ignoreChange",void 0),Object(o._)(Object(r.a)(s),"_stack",void 0),Object(o._)(Object(r.a)(s),"_anonymizedOperationsCache",void 0),Object(o._)(Object(r.a)(s),"_changed",void 0),Object(o._)(Object(r.a)(s),"changed",void 0),s.quill=e,s._options=a,s._subs=new h.a.Keeper,s._log=O.d.Logging.getLogger("DEd.Histor"),s._lastRecorded=0,s._ignoreChange=!1,s._stack={undo:[],redo:[]},s._anonymizedOperationsCache=new _.a(20,!0),s._changed=new g.a.Subject,s.changed=s._changed,s.clear();var c=Object(b.A)(s.quill).pipe(g.a.share());return s._subs.push(c.subscribe((function(e){e.name===p.events.TEXT_CHANGE&&s._anonymizedOperationsCache.push({ops:m.a.anonymizeTextAndStringAttrs(e.delta).ops,source:e.source})})),c.subscribe((function(e){e.name!==p.events.TEXT_CHANGE||s._ignoreChange||(a.userOnly&&e.source!==p.sources.USER?s._transform(E(e.delta)):s._record(E(e.delta),E(e.oldDelta)))}))),Object(v.r)("dedOpsHistory",(function(){return s._anonymizedOperationsCache.toArray()})),s}return Object(a.a)(n,[{key:"clear",value:function(){this._stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this._lastRecorded=0}},{key:"commit",value:function(e){this.cutoff(),e(),this.cutoff()}},{key:"redo",value:function(e){try{this._log.info("History action: redo"),this._change("redo","undo",e)}catch(e){this._log.error("History action: redo error",e)}}},{key:"canRedo",value:function(){return this._stack.redo.length>0}},{key:"canUndo",value:function(){return this._stack.undo.length>0}},{key:"undo",value:function(e){try{this._log.info("History action: undo"),this._change("undo","redo",e)}catch(e){this._log.error("History action: undo error",e)}}},{key:"getAnonymizedOperationsHistory",value:function(){return this._anonymizedOperationsCache.toArray()}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"_flush",value:function(){this._options.flush()}},{key:"_change",value:function(e,t,n){var r=this;if(0!==this._stack[e].length){this._flush();var i=this._stack[e].pop();this._lastRecorded=0,this._ignoreChange=!0,m.a.splitToDeleteThenInsert(i[e]).filter(m.a.nonEmpty).forEach((function(e){r.quill.updateContents(Object(b.z)(e),p.sources.USER)})),this._ignoreChange=!1;var a=k(i[e]);this.quill.setSelection(a,0),this._stack[t].push(i),this._changed.next({source:n})}}},{key:"_record",value:function(e,t){var n=this;Object(d.pipe)(m.a.getOps(e),y.g.tap((function(){n._stack.redo=[];var r=E(Object(b.y)(n.quill.getContents())).diff(t,k(e)),i=Date.now();if(n._lastRecorded+n._options.delay>i&&n._stack.undo.length>0){var a=n._stack.undo.pop();r=r.compose(a.undo),e=a.redo.compose(e)}else n._lastRecorded=i;n._stack.undo.push({redo:e,undo:r}),n._stack.undo.length>n._options.maxStack&&n._stack.undo.shift()})))}},{key:"_transform",value:function(e){var t=this;Object(d.pipe)(m.a.getOps(e),y.g.tap((function(){t._stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),t._stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))})))}}]),n}(C);function k(e){var t=e.reduce((function(e,t){return e+(m.a.isDelete(t)?t.delete:0)}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(m.a.isInsert(t)?"string"==typeof t.insert&&t.insert.endsWith("\n"):!(m.a.isDelete(t)||!t.attributes)&&Object.keys(t.attributes).some((function(e){return null!=w.query(e,w.Scope.BLOCK)})))}(e)&&(n-=1),n}function E(e){return Object(d.pipe)(m.a.getOps(e),y.g.fold((function(){return e}),(function(t){var n=e.reduce((function(e,t){return m.a.match((function(t){return e.insert(t.insert,t.attributes&&x(t.attributes))}),(function(t){return e.delete(t.delete)}),(function(t){return e.retain(t.retain,t.attributes&&x(t.attributes))}))(t)}),new f.a),r=n.ops[0];return Boolean(n.ops)&&1===n.ops.length&&m.a.isRetain(r)&&!r.attributes?new f.a:n})))}var j=new RegExp("^".concat(b.f,"_"));function x(e){return Object.keys(e).reduce((function(t,n){return j.test(n)?t:Object(l._)(Object(c._)({},t),Object(o._)({},n,e[n]))}),{})}},izp7:function(e){e.exports=JSON.parse('{"documentActionsTeaser":"_332adcf8-document_actions-documentActionsTeaser","blockTeaser":"_41b9a167-document_actions-blockTeaser","fadeIn":"_d1aa0d4b-document_actions-fadeIn","actionIcon":"_5392178d-document_actions-actionIcon","hidden":"_41bffc2f-document_actions-hidden","actionIconTeaser":"_386f754f-document_actions-actionIconTeaser","actionIconTeaserLeft":"_ada07639-document_actions-actionIconTeaserLeft","outcomeBtnLeft":"_c906cb60-document_actions-outcomeBtnLeft","proofitBtn":"_b13f9ea7-document_actions-proofitBtn","proofitBtnTeaser":"_2b490ca1-document_actions-proofitBtnTeaser _41b9a167-document_actions-blockTeaser","plagiarismBtnTeaser":"_919cfcf1-document_actions-plagiarismBtnTeaser _41b9a167-document_actions-blockTeaser","plagiarismBtn":"_703fe7c6-document_actions-plagiarismBtn","outcomeDocumentActionsFull":"_1d9f2970-document_actions-outcomeDocumentActionsFull","outcomeDocumentActionsTeaser":"_edd05aa2-document_actions-outcomeDocumentActionsTeaser _332adcf8-document_actions-documentActionsTeaser","plagiarismScore":"_a293d6de-document_actions-plagiarismScore","buttonsDelimiter":"_125f994b-document_actions-buttonsDelimiter","premiumButton":"_aa7b2c07-document_actions-premiumButton","premiumCounterWrapper":"_bc868f52-document_actions-premiumCounterWrapper","premiumCounterContent":"_061603fd-document_actions-premiumCounterContent"}')},"j+t9":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("B8yO"),i=n("N4IK"),a=n("ySi0"),o=n("nWMp"),s=n("e4R/"),c=n("hUGf"),l=n("QnuY");const u="closeBtn",d="closeIcon",p=Object(s.a)({$nest:{["& ."+d]:Object.assign(Object.assign({},Object(s.c)(1.5)),{stroke:o.a.important(i.e.Color.Text.Base.Inverse)})}},u),m={closeButton:o.a.joinClasses([u,o.a.style(p)]),closeIcon:d},f=({name:e,style:t,onClick:n})=>{const i=r.useContext(c.a).view("flatUI");return r.createElement(l.a,{variant:"tertiary",style:i.view(e=>[e?void 0:b,t]),onClick:n,compact:!0,size:"small",theme:"dark",name:e},r.createElement(a.d.Close,{className:m.closeIcon}))},h={stroke:o.a.important(i.e.Color.Text.Base.Inverse),fill:o.a.important(i.e.Color.Text.Base.Inverse)},g={backgroundColor:o.a.color(i.a.BlueGray0).toRGBA().fade(.2).toString(),borderColor:"transparent",$nest:{"& > i":h}},b={icon:Object.assign(Object.assign({},Object(s.c)(1.5)),h),hovered:g,active:g}},jEie:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("8O/t"),i=n("X76w"),a=n("tiWp"),o=n("2swC"),s=n("nWMp"),c=n("NbNH"),l=n("KH+i"),u=n("7Cqk"),d=n("PKYJ");const p=e=>({container:Object(a.pipe)(e,l.a.Density.matchOrDefault(l.a.Density.cozy)(()=>y.cozyCardContainer,()=>y.compactCardContainer))}),m=e=>Object(i._)(Object(r._)({},e.hasOwnProperty("features")&&e.features.has(l.a.Features.a11yContrast)?(e=>({container:Object(a.pipe)(e.layoutDensity,l.a.Density.matchOrDefault(l.a.Density.cozy)(()=>e.features.has(l.a.Features.sduiContainerStyle)?y.cozyCardContainerContrastSdui:y.cozyCardContainerContrast,()=>y.compactCardContainer))}))(e):p(e.layoutDensity)),{wrapper:Object(a.pipe)(e.layoutDensity,l.a.Density.matchOrDefault(l.a.Density.minimal)(()=>y.minimalCardWrapper,()=>{}))}),f={padding:`${s.a.rem(.75)} ${s.a.rem(.5)} ${s.a.rem(.5)} ${s.a.rem(1)}`},h={margin:`${s.a.rem(1)} 0 ${s.a.rem(1.5)}`,borderRadius:s.a.rem(c.s),background:o.a.CoreNeutral0,boxShadow:`0 ${s.a.rem(.625)} ${s.a.rem(c.a)} 0 rgba(198, 203, 222, .45)`},g={margin:`${s.a.rem(1)} 0 ${s.a.rem(1.5)}`,borderRadius:s.a.rem(c.s),background:o.a.CoreNeutral0,boxShadow:d.a.z300},b={boxShadow:d.b.llamaShadowToken},v={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:s.a.rem(c.s),background:o.a.CoreNeutral0},y=Object(i._)(Object(r._)({},s.a.stylesheet({minimalCardWrapper:[f],compactCardContainer:[v]})),{cozyCardContainer:s.a.joinClasses([u.b.cozyCardContainerSelector,s.a.style(h)]),cozyCardContainerContrast:s.a.joinClasses([u.b.cozyCardContainerSelector,s.a.style(g)]),cozyCardContainerContrastSdui:s.a.joinClasses([u.b.cozyCardContainerSelector,s.a.style(g),s.a.style(b)])})},jH4R:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return S}));var r=n("000W"),i=n("CulD"),a=n("DTwm"),o=n("tiWp"),s=n("0Qjk"),c=n("0kuo"),l=n("mgiE"),u=n("K40b"),d=n("M3t0"),p=n("Hj2R"),m=n("D2TP"),f=n("mEGS"),h=n("xk6L"),g=n("yIk2"),b=n("Mi0J"),v=n("hzat"),y=n("d3CI");const O=e=>{const t=e[0];switch(Object(c.f)(void 0!==t,"undoables should had at least one item"),t.action){case s.a.AlertFeedbackType.IGNORE:return{kind:"ignore"};case s.a.AlertFeedbackType.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:t.replacement};case s.a.AlertFeedbackType.WRONG_SUGGESTION:case s.a.AlertFeedbackType.OFFENSIVE_CONTENT:return{kind:"report"};case s.a.AlertFeedbackType.ACCEPTED:return e.length>1?{kind:"bulkAccept",count:e.length}:{kind:"replace",word:t.replacement};case s.a.SynonymFeedbackType.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case s.a.LensFeedbackType.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:e.length};case s.a.AlertFeedbackType.LIKE:return{kind:"markAsHelpful"};case s.a.AlertFeedbackType.DISLIKE:return{kind:"markAsNotHelpful"};case s.a.AlertFeedbackType.ACKNOWLEDGED:return{kind:"acknowledge"};default:throw new Error("Invalid undoable action "+t.action)}};function _(e,t,n){return e().pipe(h.a.tap(e=>{"closedByUser"===e&&t()}),h.a.filter(e=>"shown"!==e),h.a.map(e=>["undo","bulkUndo"].includes(e)?e:"commit"),h.a.merge(n().pipe(h.a.mapTo("commit"))),h.a.first())}var C,w,S;function k(e,t){return[{id:e+"_showUndoNotifications",when:a.constTrue,what:y.e.Effect.Applicator.create(t.pipe(h.a.switchMapTo(h.a.NEVER)))},{id:e+"_changeLensWhenThereWasNoPreviouslyFocusedAlert",when:e=>e!==m.a.SpecialId.Closed,what:y.e.Effect.SwitchLens.create(t.pipe(h.a.filter(e=>l.g.isNone(e.previouslyFocused)),h.a.map(({lensId:e})=>({lensId:e,alertSource:p.b.sidebar,options:{toFocus:y.e.Effect.FocusBehavior.noFocus}}))))},{id:e+"_focusPreviouslyActiveAlert",when:e=>e!==m.a.SpecialId.Closed,what:y.e.Effect.SwitchAlert.create(t.pipe(h.a.map(e=>Object(o.pipe)(e.previouslyFocused,l.g.map(t=>({alertHighlight:t,alertSource:p.b.sidebar,options:{lensId:e.lensId}})))),h.b.compact))}]}function E(e){return!p.a.isCitationDetection(e)}function j(e,t,n){return Object(o.pipe)(e,l.g.map(e=>{const r=t.find(t=>t.id===e.activeAlert.id);return Object(c.f)(void 0!==r,"Undone alerts should contain previously focused alert",e.activeAlert.id),Object(c.f)(Object(o.pipe)(n.getById(r.id),l.g.isSome),"Undone alerts should exist in alert list",r.id),Object(c.f)(p.a.isRegistered(r),"Undoed alert should be in registered state",()=>String(r)),{alert:v.a.fromModel(r),highlightIndex:e.activeHighlightIndex}}))}!function(e){e.create=function(e,t,n){return k("individual_undo_applied",e.pipe(h.a.filter(b.a.isIndividualUndo),h.a.tap(({alertId:e})=>Object(o.pipe)(e,t.getById,l.b.fromOption(()=>new c.b("Could not find alert by id while processing individual undo event",e)),l.b.filterOrElse(p.a.isApplied,e=>new c.b("Alert is not in the applied state",e.toString())),l.b.chain(e=>n.undoApplied([e],p.a.State.Applied.Method.Bulk)()),l.b.getOrElse(e=>d.d.Logging.getLogger("BulkAcceptedIndividualUndoSideEffect").error("Could not process an individual undo event",e)))),h.a.switchMapTo(h.a.NEVER),h.a.share()))}}(C||(C={})),function(e){e.create=function(e,t,n,i){return k("bulk_undo_applied",e.pipe(h.a.filter(b.a.isBulkUndo),h.a.switchMap(g.b.Scheduler.rafScheduler),h.a.map(({alertIds:e})=>e.map(t.getById)),h.a.map(r.G),h.a.tap(e=>{Object(o.pipe)(n.undoApplied(e,p.a.State.Applied.Method.Bulk)(),l.b.fold(e=>d.d.Logging.getLogger("BulkUndoSideEffect").error("Could not perform bulk undo",e),()=>i.onBulkUndo(e.length)))}),h.a.switchMapTo(h.a.NEVER),h.a.share()))}}(w||(w={})),function(e){e.create=function(e,t,n,s,c,d){return k("undo_applied",e.state.pipe(h.a.pairwise(),h.a.map(([e,t])=>Object(o.pipe)(f.a.diff(e,t),u.a.reduce([],a.identity,(e,t)=>(p.a.isApplied(t.alert)&&!p.a.isBulkApplied(t.alert)&&e.push(t.alert),e),a.identity))),h.a.map(Object(a.flow)(r.U(E),r.zb(e=>Object(o.pipe)(e.takeReference("undoNotification"),l.b.bimap(t=>Object(a.tuple)(e,t),t=>Object(a.tuple)(e,t)))))),h.a.map(r.Tb),h.a.map(({left:e,right:t})=>(r.tb(e)&&d.warn("can not take alertRef",e),t)),h.a.filter(r.tb),h.a.switchMap(r=>{const a=n.get(),u=r.map(([e])=>e),m=u.map(e=>e.state.undoable),f=r.map(i.d);return c(m).pipe(h.a.map(n=>"undo"===n?Object(o.pipe)(e.undoApplied(u,p.a.State.Applied.Method.ByCard)(),l.b.fold(e=>(d.error("Got error during undo",e),l.g.none),()=>y.e.hasCards(a)?l.g.some({lensId:a.currentLens.id,previouslyFocused:j(y.e.getActiveItem(s)(a),u,t)}):l.g.none)):l.g.none),h.a.finalize(()=>f.forEach(e=>e.dispose())),h.b.compact)}),h.a.share()))}}(S||(S={}))},jVAy:function(e){e.exports=JSON.parse('{"contentWrapper":"_b2c6e27c-synonyms-contentWrapper","iconWrapper":"_08c665f9-synonyms-iconWrapper","synonymsButton":"_048086a0-synonyms-synonymsButton","loader":"_0c3de60c-synonyms-loader","rotation":"_dc0ed19a-synonyms-rotation","synonymsPopupWrapper":"_94add495-synonyms-synonymsPopupWrapper","wrapper":"_fbad2f66-synonyms-wrapper","emptyResultWrapper":"_c203692f-synonyms-emptyResultWrapper","activeWord":"_8adb8bf0-synonyms-activeWord","title":"_738f37b5-synonyms-title","list":"_602411e1-synonyms-list","group":"_4fdf6736-synonyms-group","groupTitle":"_752acd81-synonyms-groupTitle","row":"_44351849-synonyms-row","item":"_2e566ea7-synonyms-item"}')},jnnb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return y}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("hcme"),c=n("DTwm"),l=n("+vYo"),u=n("/taW"),d=n("xk6L"),p=n("yIk2"),m=n("d3CI"),f=n("mgiE"),h=n("TKPA"),g=n("0kuo"),b=n("mybP"),v=n("CA3N");!function(e){e[e.Checking=0]="Checking",e[e.CheckingIn=1]="CheckingIn",e[e.CheckingOut=2]="CheckingOut",e[e.Idle=3]="Idle"}(r||(r={}));var y=function(){function e(t,n,r,a,s,u){var p=this;Object(i.a)(this,e),Object(o._)(this,"_state",void 0),Object(o._)(this,"_uploadVM",void 0),Object(o._)(this,"_ded",void 0),Object(o._)(this,"_features",void 0),Object(o._)(this,"loaderState",void 0),Object(o._)(this,"_subs",void 0),Object(o._)(this,"_isLocked",void 0),Object(o._)(this,"_loadingStateLock",void 0),Object(o._)(this,"_lensCheckingData",void 0),this._state=t,this._uploadVM=a,this._ded=s,this._features=u,this.loaderState=l.a.create(f.g.none),this._subs=[],this._isLocked=l.a.create(!0),this._loadingStateLock=d.a.combineLatestStatic([this._isLocked,this._uploadVM.state.pipe(d.a.startWith(b.a.State.idle))],(function(e,t){return e||t!==b.a.State.idle})).pipe(d.a.distinctUntilChanged()),this._lensCheckingData=l.a.combine(n.view("currentLens","id").view(r.getCheckingForState),n.view(m.e.isSidebarOpened),c.tuple),this._subs.push(this._listenUploadingState(),this._listenProcessingState(),this._listenFullRecheckingState()),Object(h.r)("loader",(function(e,t,n){p._state.set({text:Object(c.pipe)(f.g.fromNullable(e),f.g.filter((function(e){return e in v.a.TextType}))),lens:Object(c.pipe)(f.g.fromNullable(t),f.g.filter((function(e){return e in v.a.Type}))),navigation:Object(c.pipe)(f.g.fromNullable(n),f.g.filter((function(e){return e in v.a.Type})))})}))}return Object(a.a)(e,[{key:"init",value:function(){this._isLocked.set(!1)}},{key:"_listenUploadingState",value:function(){var e=this;return this._uploadVM.state.pipe(d.a.skip(1)).subscribe((function(t){e._state.set(t===b.a.State.idle?v.a.State.idle:v.a.State.loading)}))}},{key:"_listenProcessingState",value:function(){return this._ded.dontFreezeWhen(this._state.view((function(e){var t=e.text;return f.g.isSome(t)})),"loader")}},{key:"_listenFullRecheckingState",value:function(){var e,t=this,n=Object(c.flow)(f.g.filter((function(e){return e===v.a.Type.checkingIn||e===v.a.Type.checking})),f.g.map((function(){return v.a.Type.checkingOut}))),i=function(e){return e.kind===u.c.CheckingKind.Plagiarism||"full"!==e.type};return(e=this._lensCheckingData,t._loadingStateLock.pipe(d.a.switchMap(p.b.orEmptyRight(e)))).pipe(d.a.switchMap((function(e){var n=Object(s._)(e,2),a=n[0],o=n[1],c=a.get();return a.pipe(d.a.skip(1),d.a.map((function(e){return i(e)||!o?r.Idle:r.Checking})),d.a.delay(200),d.a.startWith(i(c)?r.Idle:o?t._features.denali.focusFirstCard?r.Checking:r.CheckingIn:r.CheckingOut))})),d.a.distinctUntilChanged(),d.a.tap((function(e){return t.loaderState.set(f.g.some(e))}))).subscribe((function(e){switch(e){case r.Idle:return t._state.set(v.a.State.idle);case r.CheckingIn:return t._state.set({text:f.g.none,lens:f.g.some(v.a.Type.checkingIn),navigation:f.g.some(v.a.Type.checkingIn)});case r.Checking:return t._state.set({text:f.g.none,lens:f.g.some(v.a.Type.checking),navigation:f.g.some(v.a.Type.checking)});case r.CheckingOut:return t._state.modify((function(e){return{text:f.g.none,lens:n(e.lens),navigation:n(e.navigation)}}));default:Object(g.c)(e)}}))}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]}}]),e}()},kPsJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return N}));var r,i,a,o=n("Vv+i"),s=n("Wy1Y"),c=n("uKMM"),l=n("a5gI"),u=n("4mQT"),d=n("hcme"),p=n("mMt2"),m=n("t5lx"),f=n("DTwm"),h=n("tiWp"),g=n("M5RY"),b=n("GMJx"),v=n("B/Ki"),y=n("lXop"),O=n("xk6L"),_=n("La5+"),C=n("IjjT"),w=n("RRF2"),S=n("mgiE"),k=n("TKPA"),E=n("0kuo"),j=n("M3t0"),x=n("8O/t"),A=n("X76w"),I=g.import("modules/clipboard");!function(e){var t=e.normalizeSpacesInDelta=function(e){return e.reduce((function(e,t){return e.push(v.a.isInsert(t)&&"string"==typeof t.insert?Object(A._)(Object(x._)({},t),{insert:t.insert.replace(/\s/g,(function(e){return"\n"===e||"\r"===e||"\t"===e?e:" "}))}):t)}),new b.a)},n=function(e,t,n){return S.b.tryCatchError((function(){var r={root:document.createElement("div"),scroll:e.scroll,addContainer:function(t,r){var i=e.addContainer(t,r);return null!=n&&n&&i.classList.add(n),i},setContents:k.e,setSelection:k.e,getFormat:function(){return[]},selection:{savedRange:{index:0,length:0}}},i=new I(r,{matchVisual:!1,matchers:t});return function(e){i.container.innerHTML="",i.container.appendChild(e);var t=i.convert();return i.container.innerHTML="",Object(C.y)(t)}}))};e.getConverter=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,s=n(e,i,o);return function(e){return Object(h.pipe)(w.f.sanitize(e,{allowedAttrs:["href","style","class",a.TrailingSpaces.dataPreserveSpaces],forbidTags:["script","style","meta","img","video","embed","frame","iframe","area","source","track","template","canvas","audio"],allowDataAttrs:!1,returnHTML:!0}),(function(e){return Object(h.pipe)(w.c.traverseMutate(e,(function(e){return w.c.Guardians.isHTMLElement(e)||w.c.Guardians.isDocumentFragment(e)}),Object(f.flow)(a.normalizeBold,a.TrailingSpaces.decodeTrailingSpaces,a.cleanupStyles(["whiteSpace","fontWeight","fontStyle","white-space","font-weight","font-style","mso-list"]))),S.b.fold((function(e){return j.d.Logging.getLogger("HTML2Delta").warn("Cannot normalize html on paste",e),S.g.none}),(function(e){return S.g.some(e)})))}),S.g.chain((function(e){return Object(h.pipe)(s,S.b.bimap(j.d.Logging.getLogger("HTML2Delta").handler("Cannot convert given text to html").error,(function(t){return t(e)})),S.g.fromEither)})),S.g.map(r),S.g.map(t))}};!function(e){var t;!function(e){e.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.every((function(t){return t(e)}))}},e.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some((function(t){return t(e)}))}},e.includes=function(e){return function(t){return t.includes(e)}}}(t=e.Test||(e.Test={}));e.checks=[{name:y.f.MSOutlook,test:t.and(t.includes('xmlns:w="urn:schemas-microsoft-com:office:word'),t.includes("span.EmailStyle15"))},{name:y.f.MSWord,test:t.includes('xmlns:w="urn:schemas-microsoft-com:office:word')},{name:y.f.MSExcel,test:t.includes('xmlns:x="urn:schemas-microsoft-com:office:excel')},{name:y.f.MSOffice,test:t.includes('xmlns:o="urn:schemas-microsoft-com:office:office')},{name:y.f.MSWordOnline,test:t.and(t.includes('xml:lang="EN-US"'),t.includes("TextRun"),t.includes("SCX"))},{name:y.f.GDocs,test:t.includes('id="docs-internal-guid-')},{name:y.f.GSheets,test:t.includes('<meta name="generator" content="Sheets"/>')},{name:y.f.DropboxPaper,test:t.includes('class=" author-d-')},{name:y.f.CocoaHTMLWriter,test:t.includes('<meta name="Generator" content="Cocoa HTML Writer">')},{name:y.f.ProbablyMSOutlookOnline,test:t.or(t.includes("color: rgb(0, 0, 0); font-family: Calibri, Helvetica, sans-serif;"),t.includes("color: rgb(0, 0, 0); font-family: Calibri,Helvetica,sans-serif;"))},{name:y.f.ProbablyGMail,test:t.or(t.includes("color: rgb(34, 34, 34); font-family: Arial, Helvetica, sans-serif;"),t.includes("color: rgb(34, 34, 34); direction: ltr; font-family: Arial,Helvetica,sans-serif;"))}],e.detectSource=function(e,t){var n=t.find((function(t){return t.test(e)}));return n?n.name:y.f.Unknown}}(e.SourceDetector||(e.SourceDetector={})),function(e){e.fancyTable=[["tr",function(e,t){return t.insert("\n")}],["td",function(e,t){var n=Number(e.getAttribute("colspan"))||1;return e.nextSibling?t.insert("\t".repeat(n)):t}]];function t(e,t){return w.c.Guardians.isP(e)&&"MsoNormal"===e.className&&1===e.childNodes.length&&e.firstChild&&e.firstChild.textContent===a.nbsp?(new b.a).insert("\n"):t}e.matchOutlookEmptyLine=t;e.outlookEmptyLine=[["p.MsoNormal",t]];function n(e,t){var n=(new b.a).compose(t);if(0===t.ops.length)return S.b.right(n);var r=n.ops[0];if(!w.c.Guardians.isHTMLElement(e))return S.b.left(new Error("Cannot parse non-html element"));if(!v.a.isInsertString(r))return S.b.left(new Error("The first operation is not a string insert"));var i=r.insert.match(/^\s*?(\.|·|o|§|Ø)\s+/),a=r.insert.match(/^\s*?(\d+|[a-zA-Z]+)?[\.\)][\ \t\u202F\u00A0]+/);if(null===i&&null===a||a&&r.insert.length-1===a[0].length&&1===n.ops.length)return S.b.right(n);var o,s=null!==i?"bullet":"ordered",c=null!==i?i:a,l=(n=(new b.a).insert(r.insert.substring(c[0].length,r.insert.length),r.attributes).concat(new b.a(n.ops.slice(1)))).ops[n.ops.length-1];v.a.isInsertString(l)&&(n=new b.a(n.ops.slice(0,-1)).push({insert:l.insert.substring(0,l.insert.length-1),attributes:l.attributes}));var u=(null!==(o=e.getAttribute("style"))&&void 0!==o?o:"").replace(/\n+/g,"").match(/level(\d+)/),d=u?Number(u[1])-1:0;return n.push({insert:"\n",attributes:{list:s,indent:d}}),S.b.right(n)}e.matchMsWordList=n;e.getMSWordList=function(e){var t=function(e){return function(t,r){return Object(h.pipe)(n(t,r),S.b.fold((function(t){return e.info("Cannot parse MS Word List",t),r}),f.identity))}}(e.getLogger("MSWordListMatcher"));return[["p.MsoListParagraph",t],["p.MsoListParagraphCxSpFirst",t],["p.MsoListParagraphCxSpMiddle",t],["p.MsoListParagraphCxSpLast",t],["p.MsoNoSpacing",t],["h1",t],["h2",t],["h3",t],["h4",t],["h5",t],["h6",t],["p.MsoHeading7",t],["p.MsoHeading8",t],["p.MsoHeading9",t],["p.MsoTitle",t],["p.MsoSubtitle",t],["p.MsoQuote",t],["p.MsoIntenseQuote",t]]}}(e.Matchers||(e.Matchers={}))}(r||(r={})),function(e){e.byActiveSelection=function(e,n){var r=window.getComputedStyle(e),i=["color: ".concat(r.color,";"),"background: transparent;","margin-top:0pt;","margin-bottom:0pt;"].join(" "),o=function(e,t){e.setAttribute("style",t.join("; "))};return Object(h.pipe)(t(e),S.g.chain(Object(f.flow)(a.removeAllSpans,S.b.chain(a.TrailingSpaces.normalizeTrailingSpaces),S.b.map(a.normalizeNestedListsUnsafe((function(e){return n(e)[0]}))),S.b.chain((function(e){return w.c.traverseMutate(e,w.c.Guardians.isHTMLElement,(function(e){return w.c.Guardians.isSPAN(e)?o(e,[i,e.parentNode&&w.c.Guardians.isLink(e.parentNode)?"color: #4a6ee0;":""]):w.c.Guardians.isBR(e)||(w.c.Guardians.isLink(e)?o(e,[i,"color: #4a6ee0;"]):w.c.Guardians.isH1(e)||w.c.Guardians.isH2(e)?o(e,[i,"font-weight: normal;"]):w.c.Guardians.isLI(e)&&e.parentNode?w.c.Guardians.isOL(e.parentNode)?o(e,[i,"list-style-type:".concat(n(e)[1],";")]):w.c.Guardians.isUL(e.parentNode)&&o(e,[i,"list-style-type:disc"]):w.c.Guardians.isHTMLElement(e)&&o(e,[i])),e}))})),S.b.map((function(e){return w.f.sanitize(e,{allowedAttrs:["class","href","style","target",a.TrailingSpaces.dataPreserveSpaces],allowDataAttrs:!1})})),S.b.map((function(e){return"<meta charset='utf-8'>".concat(e)})),S.b.fold((function(e){return j.d.Logging.getLogger("HTML4Copy").error("Cannot get html for copy",e),S.g.none}),S.g.some))))};var t=e.getSelectedHTMLForCopy=function(e){return Object(h.pipe)(w.c.getFirstSelectionRange(),S.g.chain((function(t){if(t.commonAncestorContainer===e){var n=document.createDocumentFragment();return n.appendChild(t.cloneContents()),S.g.some(n)}if(w.c.isParent(e,t.commonAncestorContainer)){var r=Object(h.pipe)(w.c.getTreeBetween(e,t.commonAncestorContainer,w.c.Guardians.isP),S.g.fold((function(){return t.cloneContents()}),(function(e){return w.c.appendTo(w.c.getLastChild(e),t.cloneContents()),e}))),i=document.createDocumentFragment();return i.appendChild(r),S.g.some(i)}return S.g.none})))}}(i||(i={})),function(e){e.removeAllSpans=function(e){return Object(h.pipe)(w.c.traverseMutate(e,w.c.Guardians.isHTMLElement,(function(e){if(w.c.Guardians.isSPAN(e)){var t=w.c.moveChildrenTo(document.createDocumentFragment(),e);return t.normalize(),t}return e})),S.b.map((function(e){return e.normalize(),e})))};var t=e.space=" ",n=e.nbsp=" ",r=function(e){if(0===e)return"";if(1===e)return n;var r=e-1,i=(r-r%2)/2;return"".concat(n).concat("".concat(t).concat(n).repeat(i)).concat(2*i===r?"":n)};!function(e){var t=e.dataPreserveSpaces="data-preserver-spaces",n=/mso-spacerun:\s*yes/;e.decodeTrailingSpaces=function(e){var r;return w.c.Guardians.isSPAN(e)&&(e.hasAttribute(t)||n.test(null!==(r=e.getAttribute("style"))&&void 0!==r?r:""))&&e.setAttribute("style","white-space: pre-wrap"),e},e.normalizeTrailingSpaces=function(e){return w.c.traverseMutate(e,(function(e){return w.c.Guardians.isHTMLElement(e)}),(function(e){if(e.nodeType!==Node.TEXT_NODE||null==e.textContent||e.parentNode&&w.c.Guardians.isSPAN(e.parentNode)&&e.parentNode.hasAttribute(t))return e;var n=e.textContent.match(/^( *)(.*?)( *)$/);if(n){var i=document.createElement("span");return i.appendChild(document.createTextNode("".concat(r(n[1].length)).concat(n[2]).concat(r(n[3].length)))),i.setAttribute(t,"true"),i}throw new E.b("Cannot parse textContent")}))}}(e.TrailingSpaces||(e.TrailingSpaces={}));e.normalizeBold=function(e){return!w.c.Guardians.isHTMLElement(e)||"B"!==e.nodeName&&"STRONG"!==e.nodeName||"normal"!==e.style.fontWeight?e:w.c.moveChildrenTo(document.createElement("span"),e)},e.cleanupStyles=function(e){return function(t){if(!w.c.Guardians.isHTMLElement(t))return t;var n,r=(null!==(n=t.getAttribute("style"))&&void 0!==n?n:"").split(";").map((function(e){return e.split(":")})).filter((function(t){var n=Object(d._)(t,1)[0];return e.includes(n.trim())})).map((function(e){var t=Object(d._)(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r)})).join(";");return t.setAttribute("style",r),t}};e.normalizeNestedListsUnsafe=function(e){return function(t){return w.c.findAll((function(e){return w.c.Guardians.isOL(e)||w.c.Guardians.isUL(e)}))(t).forEach((function(t){return Array.from(t.childNodes).reduce((function(n,r){var i=Object(d._)(n,2),a=i[0],o=i[1];if(w.c.Guardians.isLI(r)){var s,c=e(r);return c>0?(s=a>c?w.c.getParentAt(o,a-c):a===c?S.b.right(o):Object(h.pipe)(w.c.createNested(o.nodeName,c-a),S.b.map((function(e){return o===t?o.insertBefore(e,r):o.appendChild(e),e})),S.b.map(w.c.getLastChild)),Object(h.pipe)(s,S.b.map((function(e){e.appendChild(r)}))),Object(h.pipe)(s,S.b.fold((function(){return[a,o]}),(function(e){return[c,e]})))):[0,t]}return[a,o]}),[0,t])})),t}}}(a||(a={}));var T,M,P=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e,a){var c;Object(s.a)(this,n),c=t.call(this,e,a),Object(l._)(Object(o.a)(c),"quill",void 0),Object(l._)(Object(o.a)(c),"_options",void 0),Object(l._)(Object(o.a)(c),"_uuid",void 0),Object(l._)(Object(o.a)(c),"_sourceChecks",void 0),Object(l._)(Object(o.a)(c),"_log",void 0),Object(l._)(Object(o.a)(c),"_html2Delta",void 0),Object(l._)(Object(o.a)(c),"textChangedAfterPaste",void 0),Object(l._)(Object(o.a)(c),"clipboardShortcutUsed",void 0),Object(l._)(Object(o.a)(c),"container",void 0),Object(l._)(Object(o.a)(c),"_maxAllowedTextLength",void 0),Object(l._)(Object(o.a)(c),"_lengthExceededCallback",void 0),Object(l._)(Object(o.a)(c),"_subs",void 0),Object(l._)(Object(o.a)(c),"syntheticPaste",void 0),Object(l._)(Object(o.a)(c),"_onPaste",void 0),Object(l._)(Object(o.a)(c),"_doPaste",void 0),Object(l._)(Object(o.a)(c),"_getNonEmptyRange",void 0),Object(l._)(Object(o.a)(c),"_deleteRange",void 0),Object(l._)(Object(o.a)(c),"_getHTMLByRange",void 0),Object(l._)(Object(o.a)(c),"_copyRangeToClipboard",void 0),Object(l._)(Object(o.a)(c),"_onClipboardShortcutUsed",void 0),Object(l._)(Object(o.a)(c),"_getRTFContentFromClipboardEvent",void 0),Object(l._)(Object(o.a)(c),"_getPlainTextFromClipboard",void 0),Object(l._)(Object(o.a)(c),"_fetchTagsAmount",void 0),c.quill=e,c._options=a,c._uuid=w.f.alphanumeric(12),c._sourceChecks=[{name:y.f.DenaliSameDocSession,test:r.SourceDetector.Test.includes(c._uuid)},{name:y.f.DenaliOtherDocSession,test:r.SourceDetector.Test.includes("<meta name='uuid' content='uuid")}],c._log=j.d.Logging.getLogger("DEd.Clipboard"),c._html2Delta=r.getConverter(c.quill,c._options.deltaFilter,Object(p.a)(r.Matchers.fancyTable).concat(Object(p.a)(r.Matchers.getMSWordList(c._log)),Object(p.a)(r.Matchers.outlookEmptyLine)),c._options.className),c.textChangedAfterPaste=new O.a.Subject,c.clipboardShortcutUsed=new O.a.Subject,c._subs=new _.a.Keeper,c.syntheticPaste=function(e){c._options.flush(),c._onPaste({delta:(new b.a).insert(e),source:y.f.Synthetic})},c._onPaste=function(e){var t=e.delta,n=e.source,r=v.a.calcAmountLength(t),i=Boolean(c.quill.getSelection())?c.quill.getSelection():{index:0,length:0};c.quill.getLength()-i.length+r>c._maxAllowedTextLength?c._lengthExceededCallback():c._flushHistory((function(){return c._doPaste([t,r],i,n)}))},c._doPaste=function(e,t,n){var r=Object(d._)(e,2),i=r[0],a=r[1],o=c.quill.getText(),s=o.length-1,l=o.trim().length,u=(new b.a).retain(t.index).delete(t.length),p=(new b.a).retain(t.index).concat(i);Boolean(u.ops)&&u.ops.length>0&&c.quill.updateContents(Object(C.z)(u),g.sources.USER),c._options.flush(),c.quill.updateContents(Object(C.z)(p),g.sources.USER),c._options.flush();var m=0===l?"initial":t.length===s?"reset":"partial";c.quill.setSelection("initial"===m||"reset"===m?0:t.index+a,0),c.quill.focus(),c.textChangedAfterPaste.next({type:m,source:n,len:a,tags:c._fetchTagsAmount(i)})},c._getNonEmptyRange=function(){return Object(h.pipe)(S.g.fromNullable(c.quill.getSelection()),S.g.filter(y.g.nonEmpty))},c._deleteRange=function(e){var t=(new b.a).retain(e.index).delete(e.length);c.quill.updateContents(Object(C.z)(t),g.sources.USER),c.quill.setSelection(e.index,0),c._options.flush()},c._getHTMLByRange=function(e){return c.quill.setSelection(e.index,e.length),Object(h.pipe)(i.byActiveSelection(c.quill.root,n.getListLevel),S.g.map((function(e){return"<meta name='uuid' content='uuid".concat(c._uuid,"'>").concat(e)})))},c._copyRangeToClipboard=function(e){return function(t){return c.rtfSupport&&c._rangeHasFormatting(t)?c._copyHTMLByRange(e,t):c._copyPlainTextByRange(e,t)}},c._onClipboardShortcutUsed=function(e){return c.clipboardShortcutUsed.next(),e},c._getRTFContentFromClipboardEvent=function(e){return function(t){return Object(h.pipe)(T.getFromEvent(t,"html"),S.g.filter((function(e){return e.length>0})),S.g.map((function(e){return{source:r.SourceDetector.detectSource(e,Object(p.a)(c._sourceChecks).concat(Object(p.a)(r.SourceDetector.checks))),originalHTML:e}})),S.g.map((function(n){return Object(h.pipe)(e.some((function(e){return e===n.source}))?c._getPlainTextFromClipboard(t):c._html2Delta(n.originalHTML),S.g.map((function(e){return{source:n.source,delta:e}})))})),S.g.getOrElse((function(){return Object(h.pipe)(c._getPlainTextFromClipboard(t),S.g.map((function(e){return{source:y.f.PlainText,delta:e}})))})))}},c._getPlainTextFromClipboard=function(e){return Object(h.pipe)(T.getFromEvent(e,"text"),S.g.map((function(e){return(new b.a).insert(e)})))},c._fetchTagsAmount=function(e){return Array.from(e.reduce((function(e,t){return v.a.match((function(t){return Object.keys(t.attributes||{}).forEach((function(t){return e.add(t)}))}),k.e,(function(t){return Object.keys(t.attributes||{}).forEach((function(t){return e.add(t)}))}))(t),e}),new Set))},c._maxAllowedTextLength=Boolean(a.maxAllowedTextLength)?a.maxAllowedTextLength:n.DEFAULTS.maxAllowedTextLength,c._lengthExceededCallback=a.lengthExceededCallback||n.DEFAULTS.lengthExceededCallback;var u=O.a.mergeStatic(O.a.fromEvent(c.quill.root,"keydown"),O.a.fromEvent(c.quill.root,"keyup")).pipe(O.a.map((function(e){return(Boolean(e.metaKey)||e.ctrlKey)&&!0===e.shiftKey&&"v"===e.key.toLowerCase()})),O.a.distinctUntilChanged(),O.a.startWith(!1),O.a.shareReplay({bufferSize:1,refCount:!0}));return c._subs.push(O.a.fromEvent(c.quill.root,"paste").pipe(O.a.withLatestFrom(u)).subscribe((function(e){var t=Object(d._)(e,2),n=t[0],r=t[1];return Object(h.pipe)(n,w.c.preventDefault,c._onClipboardShortcutUsed,c.rtfSupport&&!Boolean(r)?c._getRTFContentFromClipboardEvent(c.plainTextSources):Object(f.flow)(c._getPlainTextFromClipboard,S.g.map((function(e){return{source:y.f.Unknown,delta:e}}))),S.g.map(c._onPaste))})),O.a.fromEvent(c.quill.root,"copy").subscribe(Object(f.flow)(w.c.preventDefault,c._onClipboardShortcutUsed,(function(e){return Object(h.pipe)(c._getNonEmptyRange(),S.g.map(c._copyRangeToClipboard(e)))}))),O.a.fromEvent(c.quill.root,"cut").subscribe(Object(f.flow)(w.c.preventDefault,c._onClipboardShortcutUsed,(function(e){return Object(h.pipe)(c._getNonEmptyRange(),S.g.map(c._copyRangeToClipboard(e)),S.g.map(S.b.map(c._deleteRange)))})))),c.container=c.quill.addContainer("ql-clipboard"),Boolean(a.className)&&c.container.classList.add(a.className),c.container.setAttribute("contenteditable","true"),c.container.setAttribute("tabindex","-1"),c}return Object(c.a)(n,[{key:"rtfSupport",get:function(){return!1}},{key:"plainTextSources",get:function(){return[]}},{key:"_rangeHasFormatting",value:function(e){var t=this;return function(e){return Object(C.y)(t.quill.getContents(e.index,e.length)).ops.some((function(e){return S.g.isSome(v.a.getAttr(e,C.c.QuillFormatNames.is))}))}(e)||function(e){return t.quill.scroll.path(e.index+e.length).some((function(e){var t=Object(d._)(e,1)[0];return w.c.Guardians.isLI(t.domNode)||w.c.Guardians.isH1(t.domNode)||w.c.Guardians.isH2(t.domNode)}))}(e)}},{key:"_copyHTMLByRange",value:function(e,t){var n=this;return Object(h.pipe)(this._getHTMLByRange(t),S.b.fromOption((function(){return new Error("empty html in range")})),S.b.chain((function(t){return T.setToEvent(e,{type:"html",value:t})})),S.b.chainLeft((function(e){return n._log.warn("HTML: Cannot copy html to clipboard",e),S.b.right(void 0)})),S.b.chain((function(){return T.setToEvent(e,{type:"text",value:n.quill.getText(t.index,t.length)})})),S.b.bimap((function(e){return n._log.error("HTML: Cannot copy plain text to clipboard",e),e}),(function(){return t})))}},{key:"_copyPlainTextByRange",value:function(e,t){var n=this;return Object(h.pipe)(T.setToEvent(e,{type:"text",value:this.quill.getText(t.index,t.length)}),S.b.bimap((function(e){return n._log.error("Plain text: Cannot set range to clipboard",e),e}),(function(){return t})))}},{key:"_flushHistory",value:function(e){this.quill.history.cutoff(),e(),this.quill.history.cutoff()}},{key:"convert",value:function(){return(new b.a).insert("\n")}},{key:"dangerouslyPasteHTML",value:function(){throw new Error("dangerouslyPasteHTML is not implemented")}}]),n}(g.import("core/module"));Object(l._)(P,"getListLevel",(function(e){var t=Number((e.className||"").split("-").pop())||0;return[t,(t+1)%3==0?"lower-roman":(t+1)%2==0?"lower-alpha":"decimal"]})),Object(l._)(P,"DEFAULTS",{maxAllowedTextLength:1e5,lengthExceededCallback:k.e}),(M=T||(T={})).setToEvent=function(e,t){return S.b.tryCatch((function(){switch(t.type){case"text":e.clipboardData.setData("text/plain",t.value);break;case"html":e.clipboardData.setData("text/html",t.value);break;default:Object(E.c)(t.type)}}),S.b.toError)},M.getFromEvent=function(e,t){switch(t){case"text":return e.clipboardData?S.g.some(e.clipboardData.getData("text/plain")):S.g.none;case"html":return e.clipboardData?S.g.some(e.clipboardData.getData("text/html")):S.g.none;default:return Object(E.c)(t)}};var N=function(e,t){return function(n){Object(u.a)(i,n);var r=Object(m.a)(i);function i(){return Object(s.a)(this,i),r.apply(this,arguments)}return Object(c.a)(i,[{key:"rtfSupport",get:function(){return e}},{key:"plainTextSources",get:function(){return t}}]),i}(P)}},kbuH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("+vYo"),a=n("rOJn"),o=n("mgiE"),s=n("ZDrO"),c=n("yIk2");!function(e){e.create=function(e,t,n,r){const l=s.b.O.unwrap(t.style),u=s.b.O.unwrap(t.audience),d=s.b.O.unwrap(a.a.OutcomeContext.defaultAcademic),p=s.b.O.unwrap(t.domain),m=i.a.create(e),f=m.lens("style").lens(l),h=m.lens("domain").lens(p),g=m.lens("outcomeContext").lens(d).lens("type"),b=m.lens("outcomeContext").lens(d).lens("citation"),v=n.isStudentsOFE?h.view(e=>"academic"!==e):i.a.create(!0),y=c.b.invert(v),O={audience:{items:a.a.audiences,current:m.lens("audience").lens(u),default:o.g.some(t.audience),isVisible:v},formality:{items:a.a.formalityLevels,current:f,default:o.g.some(t.style),isVisible:v,shouldDisable:e=>h.view(t=>!a.a.isStyleValidWithDomain(t,e))},domain:{items:a.a.domains,current:h,default:o.g.some(t.domain),isVisible:i.a.create(!0),shouldDisable:e=>f.view(t=>n.isFree?"general"!==e:!a.a.isStyleValidWithDomain(e,t))},intent:{items:a.a.goals.filter(e=>"sell"!==e),isVisible:v,current:m.lens("goals")},type:{items:a.a.academicTypes,default:o.g.some("essay"),isVisible:y,current:g},format:{items:a.a.citation,default:o.g.some("apa"),isVisible:y,current:b}};return{localContext:m,blocks:O,showSetGoalsLoader:i.a.create(!n.demoMode&&r)}}}(r||(r={}))},kgER:function(e){e.exports=JSON.parse('{"footerWrapper":"_f0f464d7-footer-footerWrapper","footerLabel":"_b08aac52-footer-footerLabel","fadeIn":"_82ff3377-footer-fadeIn","footerArrow":"_66527578-footer-footerArrow","footerWordCounter":"_811d30fc-footer-footerWordCounter _66527578-footer-footerArrow","footerLabelContainer":"_eb089b1d-footer-footerLabelContainer","listItem":"_371d9d0b-footer-listItem","footerSqueezed":"_1a6d279b-footer-footerSqueezed _f0f464d7-footer-footerWrapper","fContainer":"_de72bac6-footer-fContainer","fItem":"_5db10d62-footer-fItem","fItemResponsive":"_2ff99833-footer-fItemResponsive","counterWrapper":"_096b72d8-footer-counterWrapper","counterWrapperStart":"_7ee76d74-footer-counterWrapperStart _096b72d8-footer-counterWrapper","counterWrapperEnd":"_f25f5d2a-footer-counterWrapperEnd _096b72d8-footer-counterWrapper","counterLabelContainerFull":"_cacd8c39-footer-counterLabelContainerFull","counterLabelShadow":"_4ddea5d3-footer-counterLabelShadow","counterContainer":"_1fc5b99a-footer-counterContainer","footerContainer":"_5c65879c-footer-footerContainer"}')},koAX:function(e,t,n){"use strict";n.d(t,"a",(function(){return qe})),n.d(t,"b",(function(){return Ke}));var r=n("8O/t"),i=n("X76w"),a=n("B8yO"),o=n("DTwm"),s=n("4GyQ"),c=n("OwvP"),l=n("mgiE"),u=n("RRF2"),d=n("111I"),p=n("xk6L"),m=n("itj6"),f=n("e92m"),h=n("jEie"),g=n("cZKX"),b=n("tiWp"),v=n("NDcT"),y=n("fC5a"),O=n("TKPA"),_=n("r6Tt"),C=n("JRBS"),w=n("F0/G"),S=n("HGxo"),k=n("2swC"),E=n("nWMp");const j=E.a.style({display:"flex",flexGrow:2,lineHeight:E.a.rem(1.315),flexWrap:"wrap"}),x={padding:0,whiteSpace:"pre-wrap"},A=E.a.style(x),I=E.a.style(Object(r._)({color:k.a.CoreGreen60},x)),T=E.a.style(Object(r._)({color:k.a.CoreBlue50},x)),M=E.a.style(Object(i._)(Object(r._)({},x),{color:k.a.CoreRed50,textDecoration:"line-through",$nest:{["& + ."+I]:{marginLeft:E.a.rem(.25)},["& + ."+T]:{marginLeft:E.a.rem(.25)}}})),P=E.a.style({fontWeight:"bolder",textDecoration:"none",paddingLeft:"1px",paddingRight:"1px",$nest:{["&."+I]:{backgroundColor:k.a.CoreGreen10},["&."+M]:{backgroundColor:k.a.CoreRed10}}}),N=e=>a.createElement("div",{className:j},Object(b.pipe)(e.diff,l.a.mapWithIndex((t,n)=>Object(O.o)(_.a.isDelete(n),_.a.isInsert(n))?a.createElement("div",Object(r._)({key:t},Object(s.c)(_.a.isDelete(n)?M:Boolean(e.a11yContrast)?T:I,Object(O.o)(Object(S.c)(n.textChunk),Object(S.d)(n.textChunk))&&P)),a.createElement(C.a,{newText:n.textChunk,oldText:n.invertedChunk,theme:Boolean(e.a11yContrast)?w.a:w.b})):a.createElement("div",{key:t,className:A},n.textChunk))));var B=n("ySi0"),L=n("f82Z"),F=n("D6wy"),R=n("sX1a"),D=n("ZDrO"),H=n("hzat"),V=n("Njvd"),U=n("5ioF"),W=n("09dI"),z=n("NbNH");const G=E.a.keyframes({from:{opacity:0,width:0},to:{opacity:1,width:E.a.rem(1.5)}}),q=E.a.keyframes({from:{opacity:1,width:E.a.rem(1.5)},to:{opacity:0,width:0}}),K=E.a.keyframes({from:{opacity:1},to:{opacity:0}}),$=E.a.keyframes({from:{opacity:0},to:{opacity:1}}),Z=(e,t="linear",n=".3s")=>({animation:`${e} ${n} ${t} forwards`}),Y=e=>Object(i._)(Object(r._)({},Z(e,"ease-out")),{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:E.a.rem(W.o.Space.Space1)}),X=e=>Object(i._)(Object(r._)({},Z(e)),{position:"absolute"}),Q=E.a.style(Y(G)),J=E.a.style(Y(q)),ee=E.a.style(Z(K)),te=E.a.style(X($)),ne=E.a.style(Object(i._)(Object(r._)({},X($)),{top:0})),re=E.a.style(Object(i._)(Object(r._)({},X(K)),{top:0})),ie=E.a.style({marginLeft:E.a.rem(-.5)}),ae=E.a.style({position:"relative",display:"flex",boxSizing:"border-box",padding:"0 "+E.a.rem(1),alignItems:"center",justifyContent:"space-between",userSelect:"none",transform:"translateY(0)"}),oe=(E.a.style({display:"flex",flexFlow:"column",alignItems:"center",alignSelf:"center"}),E.a.style({height:E.a.rem(3),cursor:"pointer",borderRadius:E.a.rem(z.t),boxShadow:"0px 1px 8px rgb(109 117 141 / 18%)"})),se=E.a.style({stroke:"none"}),ce=(E.a.style({position:E.a.important("static"),padding:E.a.important("0 "+E.a.rem(.25)),width:E.a.important(E.a.rem(1.75)),background:E.a.important(k.a.CoreGreen50),color:E.a.important(k.a.CoreNeutral0)}),E.a.style({display:"flex",flexFlow:"column"})),le=E.a.style({position:"relative",display:"flex",flexWrap:"wrap"}),ue={marginRight:E.a.rem(.75),textTransform:"none",letterSpacing:E.a.rem(k.h.BodyLetterSpacing),fontSize:E.a.rem(k.h.BodySize)},de=E.a.style({height:E.a.rem(1.5)}),pe=E.a.style(Object(i._)(Object(r._)({},ue),{padding:"0 "+E.a.rem(.5),display:"flex",justifyContent:"center",alignItems:"center",minWidth:E.a.rem(6)})),me=E.a.style(Object(i._)(Object(r._)({},ue),{color:k.a.CoreNeutral50,fontWeight:k.h.BodyWeight,padding:"0 "+E.a.rem(.5),$nest:{i:{marginLeft:E.a.rem(-.25)},"&[data-textpos='everywhere']":{padding:"0 "+E.a.rem(.5)}}})),fe=E.a.style({fontSize:E.a.rem(k.h.BodySize)}),he=E.a.style({display:"flex",alignItems:"center",marginLeft:E.a.rem(-1)}),ge=E.a.style({maxHeight:E.a.rem(17)}),be=E.a.style({justifyContent:"space-between",height:E.a.percent(100),width:E.a.percent(100),padding:`${E.a.rem(1)} 0 ${E.a.rem(1)} ${E.a.rem(1)}`,$nest:{["& ."+he]:{marginLeft:E.a.rem(-2)}}}),ve=E.a.style({maxHeight:E.a.rem(10),position:"relative",margin:`0 ${E.a.rem(-.725)} 0 0`,padding:`0 ${E.a.rem(.875)} ${E.a.rem(.5)} 0`,listStyle:"none"}),ye=E.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",$nest:{"&:hover":{background:k.a.CoreNeutral10,cursor:"pointer"}}}),Oe=E.a.style({overflowY:"auto",paddingBottom:E.a.rem(2)}),_e=E.a.style({position:"absolute",top:E.a.rem(-3),left:0,right:0,height:E.a.rem(3),width:E.a.percent(100),background:`linear-gradient(0deg, ${k.a.CoreNeutral0} 0%, ${k.a.CoreNeutral0} 10%, rgba(255,255,255,0) 100%)`,pointerEvents:"none"}),Ce=E.a.style({overflow:"hidden",flexWrap:"nowrap",width:E.a.percent(100),height:E.a.rem(2),display:"flex",justifyContent:"flex-start",alignItems:"center",fontSize:E.a.rem(.875),fontFeatureSettings:"'ss03' on, 'ss02' on",padding:"0 "+E.a.rem(.25)}),we=E.a.style({flexShrink:0}),Se=E.a.style({$nest:{'&:not([data-disabled="true"])[data-hovered="true"],&:not([data-disabled="true"])[data-active="true"]':{backgroundColor:"transparent"}}}),ke=E.a.style({$nest:{g:{stroke:k.a.CoreNeutral50}}}),Ee=E.a.style({minWidth:E.a.rem(1.5),minHeight:E.a.rem(1.5)}),je=({className:e,children:t,alertCount:n,onClick:o})=>{const l=a.useContext(v.a.Context);return a.createElement(c.a.div,Object(i._)(Object(r._)({role:"button"},Object(s.c)(ae,e)),{onClick:o,"aria-label":n.pipe(p.a.map(l.bulkAccept.title)),onKeyDown:e=>{[U.a.ENTER_CODE,U.a.SPACE_CODE].includes(e.keyCode)&&(e.preventDefault(),o())},tabIndex:0}),t)},xe=({className:e,children:t,onMount:n})=>a.createElement(c.a.div,Object(i._)(Object(r._)({},Object(s.c)(ae,e)),{mount:n}),t),Ae=d.b.Transition.make({fadeIn:te},{fadeOut:ee}),Ie=d.b.Transition.make({fadeIn:ne},{fadeOut:re}),Te=d.b.Transition.make({visible:Q},{invisible:J}),Me=d.b.Knot.make(d.b.Grid.make(({notify:e,slots:t,state:n})=>a.createElement(c.a.Fragment,null,n.pipe(p.a.map(n=>a.createElement(y.a.Primary,{name:"bulk-accept-apply",className:pe,disabled:f.a.isInUndoneState(n),onClick:D.d.callOnce(e({type:f.a.isInInitialState(n)?m.b.Type.bulkApply:m.b.Type.bulkLooksGood,alertIds:n.alerts.map(e=>e.id)}))},f.a.isInUndoneState(n)?a.createElement(L.a,{wrapperClassName:de,size:20,variation:"white"}):t.content))))),{content:((e,t)=>d.b.Animated.make(t,d.b.Union.asOption(d.b.Node.make(({state:t})=>a.createElement(c.a.Fragment,null,t.pipe(p.a.map(t=>a.createElement(e,t))))))))(e=>{const t=a.useContext(v.a.Context);return a.createElement(a.Fragment,null,f.a.isInAppliedState(e)?t.bulkAccept.confirm:t.bulkAccept.apply(e.alerts.length))},Ie)}),Pe=()=>{const e=a.useContext(v.a.Context);return a.createElement(a.Fragment,null,e.dismiss)},Ne=e=>d.b.Node.make(({notify:t})=>a.createElement(y.a.Ghost,{className:me,name:"bulk-accept-dismiss-button",onClick:D.d.callOnce(t({type:m.b.Type.bulkDismiss}))},Object(b.pipe)(e,l.g.map(e=>a.createElement("div",{className:e},a.createElement(B.d.Undo,Object(r._)({width:16},Object(s.c)(Ee,ke))))),l.g.toNullable),a.createElement(Pe,null))),Be=d.b.Node.make(({view:e,notify:t})=>{const n=a.useContext(v.a.Context);return a.createElement(c.a.Fragment,null,e("alerts").pipe(p.a.map(e=>a.createElement(y.a.Ghost,{className:me,name:"bulk-accept-undo-button",onClick:D.d.callOnce(t({type:m.b.Type.bulkUndo,alertIds:e.map(e=>e.id)}))},a.createElement("div",{className:Q},a.createElement(B.d.Undo,Object(r._)({width:16},Object(s.c)(Ee,ke)))),n.bulkAccept.undoAll))))}),Le=d.b.Union.make("visibilityState",{visible:Ne(l.g.none),applied:Be,beingApplied:Ne(l.g.none),dismissed:d.b.Node.empty,undone:Ne(l.g.some(J))}),Fe=d.b.Group.make({apply:Me,dismiss:Le}),Re=({onClick:e})=>{const t=a.useContext(v.a.Context);return a.createElement("div",{className:we},a.createElement(y.a.Ghost,{name:"rejectAlertInBulk",onClick:D.d.callOnce(e),className:Se,title:t.dismiss,"aria-label":t.dismiss},a.createElement(B.d.Ignore,{className:Ee})))},De=d.b.Animated.make(Te,d.b.Union.asOption(d.b.Node.make(()=>a.createElement(B.d.NotificationInfo,{className:ie,width:16})))),He=d.b.Node.make(({state:e,notify:t})=>a.createElement(c.a.Fragment,null,e.pipe(p.a.map(e=>{return a.createElement("li",{className:ye},a.createElement(F.a,{align:"topCenter",title:(n=e.title,a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))},a.createElement("div",Object(i._)(Object(r._)({className:Ce,"data-name":"bulk-accept-alert-row"},D.d.createAccessibleClickHandler(((e,t)=>n=>t({type:m.b.Type.bulkHighlight,alert:e,clickPoint:"clientX"in n?{x:n.clientX,y:n.clientY}:n.currentTarget.getBoundingClientRect()})())(e,t))),{role:"button",tabIndex:0}),d.b.mount(De,Object(V.b)(e)),Object(b.pipe)(e.diff,l.g.map(t=>a.createElement(N,{diff:t,a11yContrast:e.a11yContrast})),l.g.toNullable))),H.a.isBulkApplied(e)?a.createElement(a.Fragment,null):e.ignoreAllowed&&a.createElement(Re,{onClick:t({type:m.b.Type.bulkIgnore,alertId:e.id})}));var n})))),Ve=d.b.List.make(g.Eb,He),Ue=({variant:e,state:t})=>{const n=a.useContext(v.a.Context);return a.createElement(R.Typography,{nodeType:"h3",styleType:"expanded"===e?R.Typography.Type.H4:R.Typography.Type.Base,className:fe},t.pipe(p.a.map(({alerts:e,visibilityState:t})=>"applied"===t?n.bulkAccept.appliedTitle(e.length):n.bulkAccept.title(e.length))))},We=e=>d.b.Animated.make(Ae,d.b.Union.asOption(d.b.Node.make(({state:t})=>a.createElement("div",{className:he},a.createElement(B.d.Sparkles,{className:se,width:20}),a.createElement(Ue,{state:t,variant:e}))))),ze=d.b.Grid.make(({slots:e,notify:t,state:n})=>a.createElement(je,{className:oe,alertCount:n.pipe(p.a.map(e=>e.alerts.length)),onClick:t({type:m.b.Type.miniItemClick,id:f.a.id})},e.title)),Ge=d.b.Grid.make(({state:e,slots:t,notify:n,view:d})=>{const f=e.pipe(p.a.map(Object(o.flow)(e=>e.alerts.length,l.g.fromPredicate(e=>e>4))));return a.createElement(xe,Object(i._)(Object(r._)({},Object(s.c)(ge,d("renderOptions").pipe(p.a.map(h.b),p.a.map(u.e.pick("container"))))),{alertCount:e.pipe(p.a.map(e=>e.alerts.length)),onMount:n({type:m.b.Type.bulkAcceptItemShow})}),a.createElement("div",Object(s.c)(ce,be),t.title,a.createElement(c.a.ul,Object(s.c)(ve,f.pipe(p.a.map(Object(o.flow)(l.g.map(()=>Oe),l.g.orNull)))),t.suggestions),a.createElement("div",{className:le},a.createElement(c.a.Fragment,null,f.pipe(p.a.map(Object(o.flow)(l.g.map(()=>a.createElement("div",{className:_e})),l.g.orNull)))),t.controls)))}),qe=d.b.Knot.make(Ge,{title:We("expanded"),suggestions:Ve,controls:Fe}),Ke=d.b.Knot.make(ze,{title:We("mini")})},l5lb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return x}));var r={};n.r(r),n.d(r,"ActionNotifyUserAction",(function(){return a})),n.d(r,"ActionInteractPopoverInteraction",(function(){return o})),n.d(r,"ActionOpenGrammarlyGoEntryPoint",(function(){return s})),n.d(r,"AnimationName",(function(){return c})),n.d(r,"ButtonKind",(function(){return l})),n.d(r,"ButtonShape",(function(){return u})),n.d(r,"ButtonState",(function(){return d})),n.d(r,"Color",(function(){return p})),n.d(r,"ComponentKnownName",(function(){return m})),n.d(r,"ContentAssistantFeedOrderingDirection",(function(){return f})),n.d(r,"ContentAssistantFeedFilteringCondition",(function(){return h})),n.d(r,"ContentProgressBarState",(function(){return g})),n.d(r,"HorizontalAlign",(function(){return b})),n.d(r,"IconKnownName",(function(){return v})),n.d(r,"LensKind",(function(){return y})),n.d(r,"Position",(function(){return O})),n.d(r,"Radius",(function(){return _})),n.d(r,"Space",(function(){return C})),n.d(r,"TextFormat",(function(){return w})),n.d(r,"TextSize",(function(){return S})),n.d(r,"TimeCurve",(function(){return k})),n.d(r,"TooltipAlignment",(function(){return E})),n.d(r,"VerticalAlign",(function(){return j}));var i={};n.r(i),n.d(i,"interpreter",(function(){return I.a})),n.d(i,"Root",(function(){return T})),n.d(i,"Action",(function(){return M})),n.d(i,"ActionNotifyUserAction",(function(){return P})),n.d(i,"ActionNotify",(function(){return N})),n.d(i,"ActionOpenSettings",(function(){return B})),n.d(i,"ActionOpenLearnMore",(function(){return L})),n.d(i,"ActionOpenPerformanceScore",(function(){return F})),n.d(i,"ActionOpenToneDetector",(function(){return R})),n.d(i,"ActionUpgradeToPremium",(function(){return D})),n.d(i,"ActionShowHighlights",(function(){return H})),n.d(i,"ActionHideHighlights",(function(){return V})),n.d(i,"ActionOpenFeedback",(function(){return U})),n.d(i,"ActionOpenCreateSnippetModal",(function(){return W})),n.d(i,"ActionCloseCard",(function(){return z})),n.d(i,"ActionNextCard",(function(){return G})),n.d(i,"ActionPrevCard",(function(){return q})),n.d(i,"ActionRemoveRoot",(function(){return K})),n.d(i,"ActionRemoveAlerts",(function(){return $})),n.d(i,"ActionApplyAlerts",(function(){return Z})),n.d(i,"ActionSelectAlternative",(function(){return Y})),n.d(i,"ActionTransition",(function(){return X})),n.d(i,"ActionOpenLink",(function(){return Q})),n.d(i,"ActionCopyToClipboard",(function(){return J})),n.d(i,"ActionNativeOpenAssistant",(function(){return ee})),n.d(i,"ActionPushAssistantFeed",(function(){return te})),n.d(i,"ActionPopAssistantFeed",(function(){return ne})),n.d(i,"ActionFocusAssistantCard",(function(){return re})),n.d(i,"ActionSwitchView",(function(){return ie})),n.d(i,"ActionNewRevision",(function(){return ae})),n.d(i,"ActionHighlightAlert",(function(){return oe})),n.d(i,"ActionStopApplyingAlerts",(function(){return se})),n.d(i,"ActionClosePopover",(function(){return ce})),n.d(i,"ActionInteractPopoverInteraction",(function(){return le})),n.d(i,"ActionInteractPopover",(function(){return ue})),n.d(i,"ActionOpenGrammarlyGoEntryPoint",(function(){return de})),n.d(i,"ActionOpenGrammarlyGo",(function(){return pe})),n.d(i,"ActionEnablePlagiarismCheck",(function(){return me})),n.d(i,"ActionDisablePlagiarismCheck",(function(){return fe})),n.d(i,"ActionNativeOpenUserSatisfactionFeedback",(function(){return he})),n.d(i,"Actions",(function(){return ge})),n.d(i,"AnimationName",(function(){return be})),n.d(i,"Behavior",(function(){return ve})),n.d(i,"BehaviorStrongAlertRef",(function(){return Oe})),n.d(i,"BehaviorAnimationFadeIn",(function(){return _e})),n.d(i,"BehaviorAnimationFadeOut",(function(){return Ce})),n.d(i,"BehaviorPopoverAnchor",(function(){return we})),n.d(i,"BehaviorLifecycle",(function(){return ke})),n.d(i,"Behaviors",(function(){return Ee})),n.d(i,"BorderRadius",(function(){return je})),n.d(i,"ButtonKind",(function(){return xe})),n.d(i,"ButtonShape",(function(){return Ae})),n.d(i,"ButtonState",(function(){return Ie})),n.d(i,"Color",(function(){return Te})),n.d(i,"ComponentKnownName",(function(){return Me})),n.d(i,"ComponentMeta",(function(){return Pe})),n.d(i,"ComponentName",(function(){return Ne})),n.d(i,"ComponentNameUnknown",(function(){return Be})),n.d(i,"ComponentNameKnown",(function(){return Le})),n.d(i,"Content",(function(){return Fe})),n.d(i,"ContentText",(function(){return De})),n.d(i,"ContentAssistantFeedOrderingDirection",(function(){return He})),n.d(i,"ContentAssistantFeedOrdering",(function(){return Ve})),n.d(i,"ContentAssistantFeedFilteringCondition",(function(){return Ue})),n.d(i,"ContentAssistantFeedFiltering",(function(){return We})),n.d(i,"ContentAssistantFeed",(function(){return ze})),n.d(i,"ContentAssistantCard",(function(){return qe})),n.d(i,"ContentPopoverStack",(function(){return $e})),n.d(i,"ContentInlineCard",(function(){return Ye})),n.d(i,"ContentGButtonDefault",(function(){return Qe})),n.d(i,"ContentGButtonTone",(function(){return Je})),n.d(i,"ContentGButtonProofit",(function(){return et})),n.d(i,"ContentGButtonGetStarted",(function(){return tt})),n.d(i,"ContentGButtonPlagiarism",(function(){return nt})),n.d(i,"ContentGButton",(function(){return rt})),n.d(i,"ContentProofitButton",(function(){return it})),n.d(i,"ContentLensesSwitchPanelLensSwitchButton",(function(){return at})),n.d(i,"ContentLensesSwitchPanel",(function(){return ot})),n.d(i,"ContentStrongAlertRef",(function(){return st})),n.d(i,"ContentColumn",(function(){return lt})),n.d(i,"ContentRow",(function(){return dt})),n.d(i,"ContentBlockInnerSpacing",(function(){return mt})),n.d(i,"ContentBlock",(function(){return ft})),n.d(i,"ContentBox",(function(){return gt})),n.d(i,"ContentScroll",(function(){return vt})),n.d(i,"ContentListItemSecondaryButtonLabel",(function(){return Ot})),n.d(i,"ContentListItemSecondaryButtonLabelText",(function(){return _t})),n.d(i,"ContentListItemSecondaryButtonLabelIcon",(function(){return Ct})),n.d(i,"ContentListItemSecondaryButton",(function(){return wt})),n.d(i,"ContentListItem",(function(){return St})),n.d(i,"ContentList",(function(){return Et})),n.d(i,"ContentSelectableDropDownMenu",(function(){return xt})),n.d(i,"ContentDropDownMenuButton",(function(){return At})),n.d(i,"ContentIconSource",(function(){return It})),n.d(i,"ContentIconSourceKnown",(function(){return Tt})),n.d(i,"ContentIconSourceUrl",(function(){return Mt})),n.d(i,"ContentIcon",(function(){return Pt})),n.d(i,"ContentImage",(function(){return Nt})),n.d(i,"ContentButton",(function(){return Bt})),n.d(i,"ContentTooltip",(function(){return Ft})),n.d(i,"ContentClickableText",(function(){return Dt})),n.d(i,"ContentCount",(function(){return Ht})),n.d(i,"ContentAlertsCount",(function(){return Vt})),n.d(i,"ContentAlternativeChoiceAlterna",(function(){return Ut})),n.d(i,"ContentAlternativeChoice",(function(){return zt})),n.d(i,"ContentSliderChoiceIcon",(function(){return qt})),n.d(i,"ContentSliderChoiceIconIconSource",(function(){return Kt})),n.d(i,"ContentSliderChoiceIconIcon",(function(){return $t})),n.d(i,"ContentSliderChoice",(function(){return Zt})),n.d(i,"ContentSlider",(function(){return Yt})),n.d(i,"ContentAlternativeSliderChoiceIcon",(function(){return Xt})),n.d(i,"ContentAlternativeSliderChoice",(function(){return Qt})),n.d(i,"ContentAlternativeSlider",(function(){return en})),n.d(i,"ContentNativeSkillsModal",(function(){return nn})),n.d(i,"ContentNativeSkillsList",(function(){return rn})),n.d(i,"ContentNativeSkillsView",(function(){return an})),n.d(i,"ContentNativeToneInsightsModal",(function(){return on})),n.d(i,"ContentNativeLearnMoreModal",(function(){return sn})),n.d(i,"ContentNativeSettingsModal",(function(){return cn})),n.d(i,"ContentNativeFeedbackModal",(function(){return ln})),n.d(i,"ContentNativeGetStartedChecklistModal",(function(){return un})),n.d(i,"ContentNativeProofitModal",(function(){return dn})),n.d(i,"ContentNativeKeyTakeawaysAssistantCard",(function(){return pn})),n.d(i,"ContentNativeInlineCardContent",(function(){return mn})),n.d(i,"ContentNativePerformanceScoreButton",(function(){return fn})),n.d(i,"ContentViewStack",(function(){return hn})),n.d(i,"ContentNativeExperimentalGbconsistencyUpsellFooter",(function(){return bn})),n.d(i,"ContentRadioButtonsGroupOption",(function(){return vn})),n.d(i,"ContentRadioButtonsGroup",(function(){return yn})),n.d(i,"ContentNativeExperimentalGbtoneInsightsUpsellFooter",(function(){return On})),n.d(i,"ContentCollapsedCard",(function(){return _n})),n.d(i,"ContentShortFormCard",(function(){return wn})),n.d(i,"ContentLongFormCard",(function(){return kn})),n.d(i,"ContentProgressBarState",(function(){return jn})),n.d(i,"ContentProgressBar",(function(){return xn})),n.d(i,"ContentHorizontalRule",(function(){return An})),n.d(i,"ContentGlobalPart",(function(){return In})),n.d(i,"FeedProperties",(function(){return Mn})),n.d(i,"FeedReference",(function(){return Pn})),n.d(i,"HorizontalAlign",(function(){return Nn})),n.d(i,"IconContent",(function(){return Bn})),n.d(i,"IconKnownName",(function(){return Ln})),n.d(i,"Id",(function(){return Fn})),n.d(i,"LensKind",(function(){return Rn})),n.d(i,"MenuSectionItem",(function(){return Dn})),n.d(i,"MenuSection",(function(){return Hn})),n.d(i,"Menu",(function(){return Vn})),n.d(i,"Percentage",(function(){return Un})),n.d(i,"PopoverViewAnchor",(function(){return Wn})),n.d(i,"PopoverViewAnchorComponent",(function(){return zn})),n.d(i,"PopoverViewAnchorGButton",(function(){return Gn})),n.d(i,"PopoverViewAnchorNativeComponent",(function(){return qn})),n.d(i,"PopoverView",(function(){return Kn})),n.d(i,"Position",(function(){return Zn})),n.d(i,"Radius",(function(){return Yn})),n.d(i,"RemSize",(function(){return Xn})),n.d(i,"SelectItem",(function(){return Qn})),n.d(i,"Select",(function(){return Jn})),n.d(i,"SelectedView",(function(){return er})),n.d(i,"Space",(function(){return tr})),n.d(i,"Spacing",(function(){return nr})),n.d(i,"TextFormat",(function(){return rr})),n.d(i,"TextSize",(function(){return ir})),n.d(i,"TimeCurve",(function(){return ar})),n.d(i,"TooltipAlignment",(function(){return or})),n.d(i,"VerticalAlign",(function(){return sr}));var a,o,s,c,l,u,d,p,m,f,h,g,b,v,y,O,_,C,w,S,k,E,j,x={};n.r(x),n.d(x,"version",(function(){return lr})),n.d(x,"unsupportedComponents",(function(){return ur})),function(e){e.Click="click",e.SelectSliderChoice="selectSliderChoice",e.Focus="focus",e.CloseAssistant="closeAssistant"}(a||(a={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(o||(o={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite",e.PushRewrite="pushRewrite"}(s||(s={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(c||(c={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow",e.Outlined="outlined",e.Link="link",e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.GgoPrimary="ggoPrimary"}(l||(l={})),function(e){e.Round="round",e.Square="square"}(u||(u={})),function(e){e.Enabled="enabled",e.Disabled="disabled",e.Deselected="deselected",e.Selected="selected",e.Hidden="hidden"}(d||(d={})),function(e){e.CoreNeutral90="CoreNeutral90",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral0="CoreNeutral0",e.CoreGreen70="CoreGreen70",e.CoreGreen60="CoreGreen60",e.CoreGreen50="CoreGreen50",e.CoreGreen40="CoreGreen40",e.CoreGreen30="CoreGreen30",e.CoreGreen20="CoreGreen20",e.CoreGreen10="CoreGreen10",e.CoreGreen1="CoreGreen1",e.CoreBlue70="CoreBlue70",e.CoreBlue60="CoreBlue60",e.CoreBlue50="CoreBlue50",e.CoreBlue40="CoreBlue40",e.CoreBlue30="CoreBlue30",e.CoreBlue20="CoreBlue20",e.CoreBlue10="CoreBlue10",e.CoreBlue1="CoreBlue1",e.CoreRed70="CoreRed70",e.CoreRed60="CoreRed60",e.CoreRed50="CoreRed50",e.CoreRed40="CoreRed40",e.CoreRed30="CoreRed30",e.CoreRed20="CoreRed20",e.CoreRed10="CoreRed10",e.CoreRed1="CoreRed1",e.CoreYellow80="CoreYellow80",e.CoreYellow70="CoreYellow70",e.CoreYellow60="CoreYellow60",e.CoreYellow50="CoreYellow50",e.CoreYellow40="CoreYellow40",e.CoreYellow30="CoreYellow30",e.CoreYellow20="CoreYellow20",e.CoreYellow10="CoreYellow10",e.CoreYellow1="CoreYellow1",e.CorePurple60="CorePurple60",e.CorePurple50="CorePurple50",e.CorePurple40="CorePurple40",e.CorePurple30="CorePurple30",e.CorePurple20="CorePurple20",e.CorePurple10="CorePurple10",e.CorePurple1="CorePurple1",e.CoreCyan60="CoreCyan60",e.CoreCyan50="CoreCyan50",e.CoreCyan40="CoreCyan40",e.CoreCyan30="CoreCyan30",e.CoreCyan20="CoreCyan20",e.CoreCyan10="CoreCyan10",e.CoreCyan1="CoreCyan1",e.CoreSky70="CoreSky70",e.CoreSky60="CoreSky60",e.CoreSky50="CoreSky50",e.CoreSky40="CoreSky40",e.CoreSky30="CoreSky30",e.CoreSky20="CoreSky20",e.CoreSky10="CoreSky10",e.CoreSky1="CoreSky1",e.CoreIndigo70="CoreIndigo70",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo1="CoreIndigo1",e.CoreMagenta70="CoreMagenta70",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta1="CoreMagenta1",e.CoreCoral60="CoreCoral60",e.CoreCoral50="CoreCoral50",e.CoreCoral40="CoreCoral40",e.CoreCoral30="CoreCoral30",e.CoreCoral10="CoreCoral10",e.CoreCoral1="CoreCoral1",e.CoreYellowBrand50="CoreYellowBrand50",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreLime50="CoreLime50",e.CoreLime40="CoreLime40",e.CoreLime30="CoreLime30",e.CoreLime20="CoreLime20",e.CoreLime10="CoreLime10",e.CoreLime1="CoreLime1"}(p||(p={})),function(e){e.ButtonPrev="button:prev",e.ButtonNext="button:next",e.ButtonAccept="button:accept",e.ButtonDismiss="button:dismiss",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook",e.StrongAlertRefConsolidatedLockedCard="strongAlertRef:ConsolidatedLockedCard",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.AssistantCardToneInsights="assistantCard:toneInsights",e.AssistantCardPerformanceScore="assistantCard:performanceScore",e.AssistantFeedPerformanceScore="assistantFeed:performanceScore",e.ButtonPerformanceScore="button:performanceScore",e.GlobalPartPlagiarismWinFooter="globalPart:plagiarismWinFooter",e.GlobalPartPlagiarismWinHeader="globalPart:plagiarismWinHeader",e.GlobalPartPerformanceScoreCard="globalPart:performanceScoreCard",e.GlobalPartPerformanceScoreButton="globalPart:performanceScoreButton"}(m||(m={})),function(e){e.Asc="asc",e.Desc="desc"}(f||(f={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(h||(h={})),function(e){e.Default="default",e.Loading="loading"}(g||(g={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(b||(b={})),function(e){e.Close="close",e.ArrowRight="arrow-right",e.ArrowLeft="arrow-left",e.Dictionary="dictionary",e.Gear="gear",e.Clarity="clarity",e.Correctness="correctness",e.Engagement="engagement",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Feedback="feedback",e.Sensitivity="sensitivity",e.ExternalLink="external-link",e.Sparkles="sparkles",e.Ignore="ignore",e.Info="info",e.Proofreader="proofreader",e.More="more",e.Mute="mute",e.Report="report",e.Controls="controls",e.Performance="performance",e.BulletList="bullet-list",e.Accept="accept",e.Copy="copy",e.GButtonSmall="gButtonSmall",e.NewSmall="newSmall",e.Edit="edit",e.User="user",e.Plagiarism="plagiarism",e.QuestionMark="questionMark",e.NewFeature="newFeature",e.Assistant="assistant"}(v||(v={})),function(e){e.AllSuggestions="allSuggestions",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.StyleGuide="styleGuide",e.SmartGuidelines="smartGuidelines"}(y||(y={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(O||(O={})),function(e){e.Radius0="Radius0",e.RadiusHalf="RadiusHalf",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3"}(_||(_={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(C||(C={})),function(e){e.Italic="italic",e.Bold="bold",e.StrikeoutHorizontal="strikeoutHorizontal",e.StrikeoutDiagonal="strikeoutDiagonal",e.Outline="outline"}(w||(w={})),function(e){e.Small="small",e.Regular="regular",e.Medium="medium",e.HeadingLevel1="headingLevel1",e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4"}(S||(S={})),function(e){e.Linear="linear",e.EaseIn="easeIn",e.EaseOut="easeOut",e.EaseInOut="easeInOut"}(k||(k={})),function(e){e.Auto="auto",e.Center="center",e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.TopCenter="topCenter",e.TopLeft="topLeft",e.TopRight="topRight",e.BottomCenter="bottomCenter",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(E||(E={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(j||(j={}));var A=n("0Uv3"),I=n("w8H4"),T=Object(I.b)((function(e){return Fe(e)})),M=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).notify=N(e),t.openSettings=B(e),t.openLearnMore=L(e),t.openPerformanceScore=F(e),t.openToneDetector=R(e),t.upgradeToPremium=D(e),t.showHighlights=H(e),t.hideHighlights=V(e),t.openFeedback=U(e),t.openCreateSnippetModal=W(e),t.closeCard=z(e),t.nextCard=G(e),t.prevCard=q(e),t.removeRoot=K(e),t.removeAlerts=$(e),t.applyAlerts=Z(e),t.selectAlternative=Y(e),t.transition=X(e),t.openLink=Q(e),t.copyToClipboard=J(e),t.nativeOpenAssistant=ee(e),t.pushAssistantFeed=te(e),t.popAssistantFeed=ne(e),t.focusAssistantCard=re(e),t.switchView=ie(e),t.newRevision=ae(e),t.highlightAlert=oe(e),t.stopApplyingAlerts=se(e),t.closePopover=ce(e),t.interactPopover=ue(e),t.openGrammarlyGo=pe(e),t.enablePlagiarismCheck=me(e),t.disablePlagiarismCheck=fe(e),t.nativeOpenUserSatisfactionFeedback=he(e),t))})),P=cr(a),N=Object(I.b)((function(e){return e.intersect(e.partial({sourceId:Fn(e)}))(e.struct({type:e.literal("notify"),userAction:P(e)}))})),B=Object(I.b)((function(e){return e.struct({type:e.literal("openSettings")})})),L=Object(I.b)((function(e){return e.struct({type:e.literal("openLearnMore")})})),F=Object(I.b)((function(e){return e.struct({type:e.literal("openPerformanceScore")})})),R=Object(I.b)((function(e){return e.struct({type:e.literal("openToneDetector")})})),D=Object(I.b)((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),H=Object(I.b)((function(e){return e.struct({type:e.literal("showHighlights")})})),V=Object(I.b)((function(e){return e.struct({type:e.literal("hideHighlights")})})),U=Object(I.b)((function(e){return e.struct({type:e.literal("openFeedback")})})),W=Object(I.b)((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),z=Object(I.b)((function(e){return e.struct({type:e.literal("closeCard")})})),G=Object(I.b)((function(e){return e.struct({type:e.literal("nextCard")})})),q=Object(I.b)((function(e){return e.struct({type:e.literal("prevCard")})})),K=Object(I.b)((function(e){return e.struct({type:e.literal("removeRoot")})})),$=Object(I.b)((function(e){return e.struct({type:e.literal("removeAlerts")})})),Z=Object(I.b)((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),Y=Object(I.b)((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),X=Object(I.b)((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:be(e),animateTo:be(e)})})),Q=Object(I.b)((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),J=Object(I.b)((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),ee=Object(I.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),te=Object(I.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),ne=Object(I.b)((function(e){return e.intersect(e.partial({fallbackFeed:Pn(e)}))(e.struct({type:e.literal("popAssistantFeed")}))})),re=Object(I.b)((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),ie=Object(I.b)((function(e){return e.struct({type:e.literal("switchView"),where:Fn(e),selected:er(e)})})),ae=Object(I.b)((function(e){return e.struct({type:e.literal("newRevision")})})),oe=Object(I.b)((function(e){return e.struct({type:e.literal("highlightAlert"),highlightIndex:e.number})})),se=Object(I.b)((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),ce=Object(I.b)((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:Fn(e)})})),le=cr(o),ue=Object(I.b)((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:Fn(e),popoverViewId:Fn(e),interaction:le(e)})})),de=cr(s),pe=Object(I.b)((function(e){return e.intersect(e.partial({alertId:e.number}))(e.struct({type:e.literal("openGrammarlyGo"),entryPoint:de(e)}))})),me=Object(I.b)((function(e){return e.struct({type:e.literal("enablePlagiarismCheck")})})),fe=Object(I.b)((function(e){return e.struct({type:e.literal("disablePlagiarismCheck")})})),he=Object(I.b)((function(e){return e.struct({type:e.literal("nativeOpenUserSatisfactionFeedback")})})),ge=Object(I.b)((function(e){return e.readonly(e.array(M(e)))})),be=cr(c),ve=Object(I.b)((function(e){return e.lazy("Behavior",(function(){return ye(e)}))})),ye=Object(I.b)((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=Oe(e),t["behavior:animation:fadeIn"]=_e(e),t["behavior:animation:fadeOut"]=Ce(e),t["behavior:popoverAnchor"]=we(e),t["behavior:lifecycle"]=ke(e),t))})),Oe=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:Fn(e),alertIds:e.readonly(e.array(e.string)),onEmpty:ge(e)}))})),_e=Object(I.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:Fn(e),timeCurve:ar(e)})})),Ce=Object(I.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:Fn(e),timeCurve:ar(e)})})),we=Object(I.b)((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return Se(e)}))})),Se=Object(I.b)((function(e){return e.intersect(e.partial({view:Kn(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:Fn(e),positionHint:Zn(e)}))})),ke=Object(I.b)((function(e){return e.struct({type:e.literal("behavior:lifecycle"),onMount:ge(e),onUnmount:ge(e)})})),Ee=Object(I.b)((function(e){return e.readonly(e.array(ve(e)))})),je=Object(I.b)((function(e){return e.struct({topLeft:Yn(e),topRight:Yn(e),bottomRight:Yn(e),bottomLeft:Yn(e)})})),xe=cr(l),Ae=cr(u),Ie=cr(d),Te=cr(p),Me=cr(m),Pe=Object(I.b)((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),Ne=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).unknown=Be(e),t.known=Le(e),t))})),Be=Object(I.b)((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),Le=Object(I.b)((function(e){return e.struct({kind:e.literal("known"),value:Me(e)})})),Fe=Object(I.b)((function(e){return e.lazy("Content",(function(){return Re(e)}))})),Re=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).text=De(e),t.assistantFeed=ze(e),t.assistantCard=qe(e),t.popoverStack=$e(e),t.inlineCard=Ye(e),t["gButton:default"]=Qe(e),t["gButton:tone"]=Je(e),t["gButton:proofit"]=et(e),t["gButton:get-started"]=tt(e),t["gButton:plagiarism"]=nt(e),t.gButton=rt(e),t.proofitButton=it(e),t.lensesSwitchPanel=ot(e),t.strongAlertRef=st(e),t.column=lt(e),t.row=dt(e),t.block=ft(e),t.box=gt(e),t.scroll=vt(e),t.list=Et(e),t.selectableDropDownMenu=xt(e),t.dropDownMenuButton=At(e),t.icon=Pt(e),t.image=Nt(e),t.button=Bt(e),t.tooltip=Ft(e),t.clickableText=Dt(e),t.count=Ht(e),t.alertsCount=Vt(e),t.alternativeChoice=zt(e),t.slider=Yt(e),t.alternativeSlider=en(e),t.nativeSkillsModal=nn(e),t.nativeSkillsList=rn(e),t.nativeSkillsView=an(e),t.nativeToneInsightsModal=on(e),t.nativeLearnMoreModal=sn(e),t.nativeSettingsModal=cn(e),t.nativeFeedbackModal=ln(e),t.nativeGetStartedChecklistModal=un(e),t.nativeProofitModal=dn(e),t.nativeKeyTakeawaysAssistantCard=pn(e),t.nativeInlineCardContent=mn(e),t.nativePerformanceScoreButton=fn(e),t.viewStack=hn(e),t.nativeExperimentalGBConsistencyUpsellFooter=bn(e),t.radioButtonsGroup=yn(e),t.nativeExperimentalGBToneInsightsUpsellFooter=On(e),t.collapsedCard=_n(e),t.shortFormCard=wn(e),t.longFormCard=kn(e),t.progressBar=xn(e),t.horizontalRule=An(e),t.globalPart=In(e),t))})),De=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Te(e)}))(e.intersect(e.partial({outlineColor:Te(e)}))(e.struct({type:e.literal("text"),id:Fn(e),meta:Pe(e),size:ir(e),text:e.string,textColor:Te(e),format:e.readonly(e.array(rr(e)))})))})),He=cr(f),Ve=Object(I.b)((function(e){return e.struct({orderBy:e.string,direction:He(e)})})),Ue=cr(h),We=Object(I.b)((function(e){return e.struct({property:e.string,condition:Ue(e),value:e.number})})),ze=Object(I.b)((function(e){return e.lazy("ContentAssistantFeed",(function(){return Ge(e)}))})),Ge=Object(I.b)((function(e){return e.intersect(e.partial({footer:Fe(e)}))(e.intersect(e.partial({onEmpty:ge(e)}))(e.intersect(e.partial({onAssistantClose:ge(e)}))(e.intersect(e.partial({name:Ne(e)}))(e.struct({type:e.literal("assistantFeed"),id:Fn(e),header:Fe(e),ordering:e.readonly(e.array(Ve(e))),filtering:e.readonly(e.array(We(e))),onRemove:ge(e)})))))})),qe=Object(I.b)((function(e){return e.lazy("ContentAssistantCard",(function(){return Ke(e)}))})),Ke=Object(I.b)((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:Fe(e)}))(e.intersect(e.partial({name:Ne(e)}))(e.struct({type:e.literal("assistantCard"),id:Fn(e),meta:Pe(e),child:Fe(e),onFocus:ge(e),onBlur:ge(e)}))))})),$e=Object(I.b)((function(e){return e.lazy("ContentPopoverStack",(function(){return Ze(e)}))})),Ze=Object(I.b)((function(e){return e.struct({type:e.literal("popoverStack"),id:Fn(e),views:e.readonly(e.record(Kn(e))),selected:er(e)})})),Ye=Object(I.b)((function(e){return e.lazy("ContentInlineCard",(function(){return Xe(e)}))})),Xe=Object(I.b)((function(e){return e.intersect(e.partial({minWidth:Xn(e)}))(e.intersect(e.partial({maxWidth:Xn(e)}))(e.intersect(e.partial({behaviors:Ee(e)}))(e.struct({type:e.literal("inlineCard"),id:Fn(e),meta:Pe(e),child:Fe(e),onFocus:ge(e)}))))})),Qe=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:default"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),Je=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:tone"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),et=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:proofit"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),tt=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:get-started"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),nt=Object(I.b)((function(e){return e.struct({type:e.literal("gButton:plagiarism"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),rt=Object(I.b)((function(e){return e.struct({type:e.literal("gButton"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),it=Object(I.b)((function(e){return e.struct({type:e.literal("proofitButton"),id:Fn(e),meta:Pe(e),actions:ge(e)})})),at=Object(I.b)((function(e){return e.struct({id:Fn(e),meta:Pe(e),kind:Rn(e),label:e.string,onClickActions:ge(e)})})),ot=Object(I.b)((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:Fn(e),meta:Pe(e),lensSwitchButtons:e.readonly(e.array(at(e)))})})),st=Object(I.b)((function(e){return e.lazy("ContentStrongAlertRef",(function(){return ct(e)}))})),ct=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.struct({type:e.literal("strongAlertRef"),id:Fn(e),alertIds:e.readonly(e.array(e.string)),onEmpty:ge(e),child:Fe(e)}))})),lt=Object(I.b)((function(e){return e.lazy("ContentColumn",(function(){return ut(e)}))})),ut=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.intersect(e.partial({behaviors:Ee(e)}))(e.struct({type:e.literal("column"),id:Fn(e),children:e.readonly(e.array(Fe(e)))})))})),dt=Object(I.b)((function(e){return e.lazy("ContentRow",(function(){return pt(e)}))})),pt=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.intersect(e.partial({spacing:nr(e)}))(e.intersect(e.partial({behaviors:Ee(e)}))(e.struct({type:e.literal("row"),id:Fn(e),left:e.readonly(e.array(Fe(e))),right:e.readonly(e.array(Fe(e))),verticalAlign:sr(e)}))))})),mt=Object(I.b)((function(e){return e.struct({vertical:tr(e),horizontal:tr(e)})})),ft=Object(I.b)((function(e){return e.lazy("ContentBlock",(function(){return ht(e)}))})),ht=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:nr(e)}))(e.intersect(e.partial({innerSpacing:mt(e)}))(e.intersect(e.partial({horizontalAlign:Nn(e)}))(e.intersect(e.partial({verticalAlign:sr(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:Fn(e),parts:e.readonly(e.array(Fe(e)))}))))))))})),gt=Object(I.b)((function(e){return e.lazy("ContentBox",(function(){return bt(e)}))})),bt=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.intersect(e.partial({padding:nr(e)}))(e.intersect(e.partial({borderRadius:je(e)}))(e.intersect(e.partial({backgroundColor:Te(e)}))(e.intersect(e.partial({minWidth:Xn(e)}))(e.intersect(e.partial({behaviors:Ee(e)}))(e.struct({type:e.literal("box"),id:Fn(e),child:Fe(e)})))))))})),vt=Object(I.b)((function(e){return e.lazy("ContentScroll",(function(){return yt(e)}))})),yt=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.struct({type:e.literal("scroll"),id:Fn(e),child:Fe(e),maxHeight:Xn(e)}))})),Ot=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).text=_t(e),t.icon=Ct(e),t))})),_t=Object(I.b)((function(e){return e.struct({type:e.literal("text"),text:e.string})})),Ct=Object(I.b)((function(e){return e.struct({type:e.literal("icon"),icon:Bn(e)})})),wt=Object(I.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Fn(e),meta:Pe(e),label:Ot(e),onClickActions:ge(e)}))})),St=Object(I.b)((function(e){return e.lazy("ContentListItem",(function(){return kt(e)}))})),kt=Object(I.b)((function(e){return e.intersect(e.partial({behaviors:Ee(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:Fn(e),meta:Pe(e),label:Fe(e),actions:ge(e),secondaryButtons:e.readonly(e.array(wt(e)))})))})),Et=Object(I.b)((function(e){return e.lazy("ContentList",(function(){return jt(e)}))})),jt=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.intersect(e.partial({itemFocusedColor:Te(e)}))(e.intersect(e.partial({itemHoveredColor:Te(e)}))(e.struct({type:e.literal("list"),id:Fn(e),meta:Pe(e),items:e.readonly(e.array(St(e)))}))))})),xt=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.intersect(e.partial({selectedItem:Fn(e)}))(e.intersect(e.partial({placeholder:e.string}))(e.struct({type:e.literal("selectableDropDownMenu"),id:Fn(e),meta:Pe(e),onSelectActions:ge(e),select:Jn(e)}))))})),At=Object(I.b)((function(e){return e.intersect(e.partial({name:Ne(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:Fn(e),meta:Pe(e),icon:Bn(e),onClickActions:ge(e),menu:Vn(e)}))})),It=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).known=Tt(e),t.url=Mt(e),t))})),Tt=Object(I.b)((function(e){return e.struct({kind:e.literal("known"),name:Ln(e)})})),Mt=Object(I.b)((function(e){return e.intersect(e.partial({size:tr(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),Pt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Te(e)}))(e.struct({type:e.literal("icon"),id:Fn(e),meta:Pe(e),source:It(e)}))})),Nt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Te(e)}))(e.intersect(e.partial({borderRadius:Xn(e)}))(e.struct({type:e.literal("image"),id:Fn(e),meta:Pe(e),name:Ne(e),url:e.string,width:Xn(e),height:Xn(e)})))})),Bt=Object(I.b)((function(e){return e.lazy("ContentButton",(function(){return Lt(e)}))})),Lt=Object(I.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:Nn(e)}))(e.intersect(e.partial({behaviors:Ee(e)}))(e.struct({type:e.literal("button"),id:Fn(e),meta:Pe(e),name:Ne(e),kind:xe(e),state:Ie(e),label:Fe(e),actions:ge(e),shape:Ae(e)}))))})),Ft=Object(I.b)((function(e){return e.lazy("ContentTooltip",(function(){return Rt(e)}))})),Rt=Object(I.b)((function(e){return e.struct({type:e.literal("tooltip"),id:Fn(e),meta:Pe(e),name:Ne(e),text:e.string,child:Fe(e),alignment:or(e)})})),Dt=Object(I.b)((function(e){return e.struct({type:e.literal("clickableText"),id:Fn(e),meta:Pe(e),name:Ne(e),onClickActions:ge(e),text:e.string,size:ir(e),textColor:Te(e),format:e.readonly(e.array(rr(e)))})})),Ht=Object(I.b)((function(e){return e.struct({type:e.literal("count"),id:Fn(e),meta:Pe(e),value:e.string,backgroundColor:Te(e)})})),Vt=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Te(e)}))(e.intersect(e.partial({outlineColor:Te(e)}))(e.struct({type:e.literal("alertsCount"),id:Fn(e),meta:Pe(e),size:ir(e),textColor:Te(e),format:e.readonly(e.array(rr(e)))})))})),Ut=Object(I.b)((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return Wt(e)}))})),Wt=Object(I.b)((function(e){return e.struct({label:Fe(e),preview:Fe(e)})})),zt=Object(I.b)((function(e){return e.lazy("ContentAlternativeChoice",(function(){return Gt(e)}))})),Gt=Object(I.b)((function(e){return e.struct({type:e.literal("alternativeChoice"),id:Fn(e),meta:Pe(e),alternatives:e.readonly(e.array(Ut(e)))})})),qt=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).icon=$t(e),t))})),Kt=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).known=Tt(e),t.url=Mt(e),t))})),$t=Object(I.b)((function(e){return e.intersect(e.partial({backgroundColor:Te(e)}))(e.struct({type:e.literal("icon"),id:Fn(e),source:Kt(e)}))})),Zt=Object(I.b)((function(e){return e.struct({id:Fn(e),icon:qt(e),label:e.string,actions:ge(e)})})),Yt=Object(I.b)((function(e){return e.struct({type:e.literal("slider"),id:Fn(e),meta:Pe(e),segmentSize:Xn(e),fillColor:Te(e),choices:e.readonly(e.array(Zt(e)))})})),Xt=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).icon=$t(e),t))})),Qt=Object(I.b)((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return Jt(e)}))})),Jt=Object(I.b)((function(e){return e.struct({id:Fn(e),icon:Xt(e),label:e.string,actions:ge(e),preview:Fe(e)})})),en=Object(I.b)((function(e){return e.lazy("ContentAlternativeSlider",(function(){return tn(e)}))})),tn=Object(I.b)((function(e){return e.struct({type:e.literal("alternativeSlider"),id:Fn(e),meta:Pe(e),segmentSize:Xn(e),fillColor:Te(e),choices:e.readonly(e.array(Qt(e)))})})),nn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:Fn(e)})})),rn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:Fn(e),onSelect:ge(e)})})),an=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:Fn(e)})})),on=Object(I.b)((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:Fn(e)})})),sn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:Fn(e)})})),cn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:Fn(e)})})),ln=Object(I.b)((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:Fn(e)})})),un=Object(I.b)((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:Fn(e),onComplete:ge(e)})})),dn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:Fn(e)})})),pn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:Fn(e)})})),mn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:Fn(e),onDetailsClick:ge(e)})})),fn=Object(I.b)((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:Fn(e)})})),hn=Object(I.b)((function(e){return e.lazy("ContentViewStack",(function(){return gn(e)}))})),gn=Object(I.b)((function(e){return e.struct({type:e.literal("viewStack"),id:Fn(e),views:e.readonly(e.record(Fe(e))),selected:er(e)})})),bn=Object(I.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:Fn(e)})})),vn=Object(I.b)((function(e){return e.struct({id:Fn(e),meta:Pe(e),label:e.string,onSelect:ge(e)})})),yn=Object(I.b)((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:Fn(e),meta:Pe(e),options:e.readonly(e.array(vn(e)))})})),On=Object(I.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:Fn(e)})})),_n=Object(I.b)((function(e){return e.lazy("ContentCollapsedCard",(function(){return Cn(e)}))})),Cn=Object(I.b)((function(e){return e.intersect(e.partial({quickActions:Fe(e)}))(e.struct({type:e.literal("collapsedCard"),id:Fn(e),meta:Pe(e),child:Fe(e)}))})),wn=Object(I.b)((function(e){return e.lazy("ContentShortFormCard",(function(){return Sn(e)}))})),Sn=Object(I.b)((function(e){return e.struct({type:e.literal("shortFormCard"),id:Fn(e),child:Fe(e)})})),kn=Object(I.b)((function(e){return e.lazy("ContentLongFormCard",(function(){return En(e)}))})),En=Object(I.b)((function(e){return e.struct({type:e.literal("longFormCard"),id:Fn(e),collapsedContent:Fe(e),fullContent:Fe(e),behaviors:Ee(e),feedProperties:Mn(e)})})),jn=cr(g),xn=Object(I.b)((function(e){return e.intersect(e.partial({pinPointValue:Un(e)}))(e.intersect(e.partial({borderColor:Te(e)}))(e.intersect(e.partial({height:Xn(e)}))(e.struct({type:e.literal("progressBar"),id:Fn(e),meta:Pe(e),backgroundColor:Te(e),fillColor:Te(e),value:Un(e),state:jn(e)}))))})),An=Object(I.b)((function(e){return e.struct({type:e.literal("horizontalRule"),id:Fn(e),meta:Pe(e)})})),In=Object(I.b)((function(e){return e.lazy("ContentGlobalPart",(function(){return Tn(e)}))})),Tn=Object(I.b)((function(e){return e.struct({type:e.literal("globalPart"),id:Fn(e),content:Fe(e),name:Ne(e)})})),Mn=Object(I.b)((function(e){return e.readonly(e.record(e.nullable(e.number)))})),Pn=Object(I.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({feedId:e.string}))})),Nn=cr(b),Bn=Object(I.b)((function(e){var t;return e.sum("type")(((t={}).icon=Pt(e),t))})),Ln=cr(v),Fn=Object(I.b)((function(e){return e.string})),Rn=cr(y),Dn=Object(I.b)((function(e){return e.intersect(e.partial({icon:Bn(e)}))(e.struct({id:Fn(e),meta:Pe(e),text:e.string,onClickActions:ge(e)}))})),Hn=Object(I.b)((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(Dn(e)))}))})),Vn=Object(I.b)((function(e){return e.struct({meta:Pe(e),label:e.string,sections:e.readonly(e.array(Hn(e)))})})),Un=Object(I.b)((function(e){return e.number})),Wn=Object(I.b)((function(e){var t;return e.sum("kind")(((t={}).component=zn(e),t.gButton=Gn(e),t.nativeComponent=qn(e),t))})),zn=Object(I.b)((function(e){return e.struct({kind:e.literal("component"),id:Fn(e)})})),Gn=Object(I.b)((function(e){return e.struct({kind:e.literal("gButton")})})),qn=Object(I.b)((function(e){return e.struct({kind:e.literal("nativeComponent"),knownName:Me(e)})})),Kn=Object(I.b)((function(e){return e.lazy("PopoverView",(function(){return $n(e)}))})),$n=Object(I.b)((function(e){return e.intersect(e.partial({onShow:ge(e)}))(e.intersect(e.partial({onDismiss:ge(e)}))(e.intersect(e.partial({onFulfill:ge(e)}))(e.struct({id:Fn(e),rootPopoverId:Fn(e),anchor:Wn(e),child:Fe(e)}))))})),Zn=cr(O),Yn=cr(_),Xn=Object(I.b)((function(e){return e.number})),Qn=Object(I.b)((function(e){return e.struct({id:Fn(e),meta:Pe(e),label:e.string,onClickActions:ge(e)})})),Jn=Object(I.b)((function(e){return e.struct({meta:Pe(e),label:e.string,items:e.readonly(e.array(Qn(e)))})})),er=Object(I.b)((function(e){return e.string})),tr=cr(C),nr=Object(I.b)((function(e){return e.struct({top:tr(e),right:tr(e),bottom:tr(e),left:tr(e)})})),rr=cr(w),ir=cr(S),ar=cr(k),or=cr(E),sr=cr(j);function cr(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],r=t.slice(1);return Object(I.b)((function(e){return e.literal.apply(e,Object(A.d)([n],r,!1))}))}var lr="4.41.7",ur=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","gButton:plagiarism","nativePerformanceScoreButton","globalPart"]},lXTq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("+vYo"),o=n("TKPA"),s=n("mgiE");!function(e){let t,n;!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t=e.PlagiarismCheckingState||(e.PlagiarismCheckingState={})),function(e){e.Mock=class{constructor(){Object(i._)(this,"downloadStarted",a.a.create(!1)),Object(i._)(this,"beginDownload",o.e),Object(i._)(this,"tryToInterrupt",o.e),Object(i._)(this,"generateReport",()=>{throw new Error("Method not implemented.")}),Object(i._)(this,"reportData",a.a.create(s.g.none)),Object(i._)(this,"dedHTML",""),Object(i._)(this,"dispose",o.e),Object(i._)(this,"sortedAlerts",[]),Object(i._)(this,"sortedPlagiarismAlerts",[])}}}(n=e.ViewModel||(e.ViewModel={}))}(r||(r={}))},lXop:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m}));var r,i,a,o,s,c,l,u,d,p,m,f=n("U9Go"),h=n("RRF2"),g=n("0kuo"),b=n("TKPA"),v=n("fr9z");!function(e){var t;!function(e){var t;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(t=e.Source||(e.Source={}));e.eq=Object(f.j)((function(e,n){return e.source===n.source&&(e.source===t.doubleClick&&n.source===t.doubleClick?e.selectedWord===n.selectedWord:i.equals(e.formatting,n.formatting))}))}(t=e.Meta||(e.Meta={}));e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return v.b.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick};var n=e.eqRange=Object(f.j)((function(e,t){return e.index===t.index&&e.length===t.length})),i=e.eqFormatting=Object(f.j)(h.e.deepEqual);e.eq=Object(f.j)((function(e,t){return n.equals(e,t)&&r.Meta.eq.equals(e.meta,t.meta)})),e.empty={index:0,length:0,meta:{source:r.Meta.Source.user,formatting:{}}}}(r||(r={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(i||(i={})),function(e){e.empty={top:0,bottom:0}}(a||(a={})),l=o||(o={}),(c=l.Y||(l.Y={})).top="top",c.middle="middle",c.bottom="bottom",(s=l.X||(l.X={})).left="left",s.middle="middle",s.right="right",function(e){e.toViewport=function(e){return function(t){switch(t){case o.X.left:return e.left;case o.X.middle:return e.left+e.width/2;case o.X.right:return e.right;default:return Object(g.c)(t)}}}}(l.X||(l.X={})),function(e){e.toViewport=function(e){return function(t){switch(t){case o.Y.top:return e.top;case o.Y.middle:return e.top+e.height/2;case o.Y.bottom:return e.bottom;default:return Object(g.c)(t)}}}}(l.Y||(l.Y={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={}));e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(u||(u={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(d||(d={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={}));e.is=function(e){return Object(b.w)(t,e)},e.asList=Object.values(p.Type);!function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(p||(p={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(m||(m={}))},leaS:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var o=function(){function e(e,t){var n=this;this._fetch=e,this._config=t,this._fetchWithTimeout=this._config.timeout?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.race([n._fetch.apply(n,e),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),n._config.timeout)}))])}:this._fetch}return e.prototype.get=function(e){return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return t=r.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=r.sent(),[2,this._parseResponse(n)]}}))}))},e.prototype.post=function(e,t){return i(this,void 0,void 0,(function(){var n,i;return a(this,(function(a){switch(a.label){case 0:return[4,this._getHeaders()];case 1:return n=a.sent(),[4,this._fetchWithTimeout(e,{method:"POST",credentials:"include",mode:"cors",headers:r(r({},n),{"Content-Type":"application/json"}),body:JSON.stringify(t)})];case 2:return i=a.sent(),[2,this._parseResponse(i)]}}))}))},e.prototype._filterHeaders=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];r&&(t[n]=r)})),t},e.prototype._getHeaders=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return this._config.getApplicationHeaders?(e=this._filterHeaders,[4,this._config.getApplicationHeaders()]):[3,2];case 1:return[2,e.apply(this,[t.sent()])];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e){if(!e.ok)throw new Error("Network response was not ok, status "+e.status);return"application/json"===e.headers.get("Content-Type")?e.json():e.text()},e}();t.HttpClient=o},lhu7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B8yO"),i=n("RRF2"),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const o=r.forwardRef((function(e,t){var{children:n,rel:o}=e,s=a(e,["children","rel"]);const c=r.useMemo(()=>i.f.alphanumeric(10),[]);return r.createElement(r.Fragment,null,r.createElement("span",{hidden:!0,id:c},"Opens an external site in a new window"),r.createElement("a",Object.assign({},s,{"aria-describedby":c,target:"_blank",rel:null!=o?o:"noopener noreferrer",ref:t}),n))}))},lme1:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var r=n("zCOz"),i=n("M+v9"),a=n("Q2+j"),o=n("m7tF"),s=n("TtyI"),c=n("ZqXC"),l=n("tREI"),u=n("B8yO");function d(e){return e&&e.__esModule?e.default:e}var p;function m(e,t,n){let{type:s="menu",isDisabled:c,trigger:l="press"}=e,u=(0,r.v)(),{triggerProps:m,overlayProps:f}=(0,o.e)({type:s},t,n),h=(0,i.c)(d(p)),{longPressProps:g}=(0,a.l)({isDisabled:c||"longPress"!==l,accessibilityDescription:h.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),b={onPressStart(e){"touch"===e.pointerType||"keyboard"===e.pointerType||c||t.toggle("virtual"===e.pointerType?"first":null)},onPress(e){"touch"!==e.pointerType||c||t.toggle()}};return delete m.onPress,{menuTriggerProps:{...m,..."press"===l?b:g,id:u,onKeyDown:e=>{if(!c&&("longPress"!==l||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===l)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last")}}},menuProps:{...f,"aria-labelledby":u,autoFocus:t.focusStrategy||!0,onClose:t.close}}}p={"ar-AE":{longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"},"bg-BG":{longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"},"cs-CZ":{longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"},"da-DK":{longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"},"de-DE":{longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"},"el-GR":{longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"},"en-US":{longPressMessage:"Long press or press Alt + ArrowDown to open menu"},"es-ES":{longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"},"et-EE":{longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"},"fi-FI":{longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"},"fr-FR":{longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."},"he-IL":{longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"},"hr-HR":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"},"hu-HU":{longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"},"it-IT":{longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"},"ja-JP":{longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"},"ko-KR":{longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"},"lt-LT":{longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."},"lv-LV":{longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"},"nb-NO":{longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"},"nl-NL":{longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"},"pl-PL":{longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"},"pt-BR":{longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"},"pt-PT":{longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"},"ro-RO":{longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"},"ru-RU":{longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"},"sk-SK":{longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"},"sl-SI":{longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"},"sr-SP":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"},"sv-SE":{longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"},"tr-TR":{longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"},"uk-UA":{longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"},"zh-CN":{longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"},"zh-TW":{longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"}};const f=new WeakMap;function h(e,t,n){let{shouldFocusWrap:i=!0,...a}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let o=(0,r.b)(e,{labelable:!0}),{listProps:c}=(0,s.d)({...a,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:i});return f.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:(0,r.l)(o,{role:"menu","aria-hidden":t.expandedKeys.size>0||void 0,...c,onKeyDown:e=>{"Escape"!==e.key&&c.onKeyDown(e)}})}}function g(e,t,n){let{key:o,closeOnSelect:d,isVirtualized:p,"aria-haspopup":m}=e,{direction:h}=(0,i.b)(),g=!!m,b=t.expandedKeys.has(o);var v;let y=null!==(v=e.isDisabled)&&void 0!==v?v:t.disabledKeys.has(o);var O;let _=null!==(O=e.isSelected)&&void 0!==O?O:t.selectionManager.isSelected(o),C=(0,u.useRef)(),w=(0,u.useCallback)(()=>{C.current&&(clearTimeout(C.current),C.current=void 0)},[C]),S=(0,r.s)(()=>{w(),t.setExpandedKeys(new Set([o]))});(0,r.x)(()=>()=>w(),[w]);let k=f.get(t),E=e.onClose||k.onClose,j=(0,u.useCallback)(()=>{S()},[]),x=g?j:e.onAction||k.onAction,A="menuitem";"single"===t.selectionManager.selectionMode?A="menuitemradio":"multiple"===t.selectionManager.selectionMode&&(A="menuitemcheckbox");let I=(0,r.z)(),T=(0,r.z)(),M=(0,r.z)(),P={"aria-disabled":y||void 0,role:A,"aria-label":e["aria-label"],"aria-labelledby":I,"aria-describedby":[T,M].filter(Boolean).join(" ")||void 0};"none"!==t.selectionManager.selectionMode&&(P["aria-checked"]=_),p&&(P["aria-posinset"]=t.collection.getItem(o).index,P["aria-setsize"]=(0,l.f)(t.collection)),null!=m&&(P["aria-haspopup"]=m,P["aria-expanded"]=b?"true":"false");let{itemProps:N,isFocused:B}=(0,s.c)({selectionManager:t.selectionManager,key:o,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0}),{pressProps:L,isPressed:F}=(0,a.m)({onPressStart:e=>{"keyboard"===e.pointerType&&x&&x(o)},onPressUp:e=>{"keyboard"!==e.pointerType&&(x&&x(o),!g&&E&&(null!=d?d:"multiple"!==t.selectionManager.selectionMode)&&E())},isDisabled:y||g&&t.expandedKeys.has(o)}),{hoverProps:R}=(0,a.h)({isDisabled:y,onHoverStart(){if(!((0,a.c)()||g&&t.expandedKeys.has(o))){t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(o),o===t.selectionManager.focusedKey&&t.selectionManager.isFocused&&document.activeElement!==n.current&&(0,c.b)(n.current)}},onHoverChange:e=>{e&&g&&!t.expandedKeys.has(o)?C.current||(C.current=setTimeout(()=>{S()},200)):e||w()}}),{keyboardProps:D}=(0,a.k)({onKeyDown:e=>{if(e.repeat)e.continuePropagation();else switch(e.key){case" ":y||"none"!==t.selectionManager.selectionMode||g||!1===d||!E||E();break;case"Enter":y||!1===d||g||!E||E();break;case"ArrowRight":g&&"ltr"===h?S():e.continuePropagation();break;case"ArrowLeft":g&&"rtl"===h?S():e.continuePropagation();break;default:e.continuePropagation()}}});return{menuItemProps:{...P,...(0,r.l)(N,L,R,D)},labelProps:{id:I},descriptionProps:{id:T},keyboardShortcutProps:{id:M},isFocused:B,isSelected:_,isPressed:F,isDisabled:y}}function b(e){let{heading:t,"aria-label":n}=e,i=(0,r.v)();return{itemProps:{role:"presentation"},headingProps:t?{id:i,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?i:void 0}}}},lqed:function(e){e.exports=JSON.parse('{"closeIcon":"_c1d2299e-default-closeIcon","imageSection":"_6ee04329-default-imageSection"}')},m1oj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("B/Ki"),s=n("xk6L"),c=n("mgiE"),l=n("txgs"),u=n("s1NC"),d=function(){function e(t,n,i,o){var c=this;Object(r.a)(this,e),Object(a._)(this,"_uploadViewModel",void 0),Object(a._)(this,"_denaliEditorModel",void 0),Object(a._)(this,"_userAccount",void 0),Object(a._)(this,"_environment",void 0),Object(a._)(this,"visible",void 0),Object(a._)(this,"size",void 0),this._uploadViewModel=t,this._denaliEditorModel=n,this._userAccount=i,this._environment=o,this.visible=this._denaliEditorModel.contentUpdated.pipe(s.a.startWith(void 0),s.a.map((function(){return!p(c._denaliEditorModel)})),s.a.distinctUntilChanged()),this.size=this._userAccount.settings.editorPreferences.view("fontSize")}return Object(i.a)(e,[{key:"uploadInputAccept",get:function(){return this._environment.has(l.b.Flag.acceptUploadByMimeTypes)?u.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):u.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")}},{key:"upload",value:function(e){this._uploadViewModel.uploadModel.upload({files:e,notify:!1,allowMultiple:!1,isDragNDrop:!1})}}]),e}(),p=function(e){var t;return e.getTextLength()>1||(t=e.getContents().delta.ops[0],Boolean(t)&&c.g.isSome(o.a.getAttrs(t)))}},m7tF:function(e,t,n){"use strict";n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return D})),n.d(t,"g",(function(){return z})),n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return J})),n.d(t,"f",(function(){return ee})),n.d(t,"b",(function(){return ne}));var r=n("B8yO"),i=n.n(r),a=n("XGPX"),o=n("zCOz"),s=n("M+v9"),c=n("ZqXC"),l=n("Q2+j"),u=n("KqOJ"),d=n.n(u),p=n("K5qu"),m=n("ThYs");function f(e){return e&&e.__esModule?e.default:e}const h={top:"top",bottom:"top",left:"left",right:"left"},g={top:"bottom",bottom:"top",left:"right",right:"left"},b={top:"left",left:"top"},v={top:"height",left:"width"},y={width:"totalWidth",height:"totalHeight"},O={};let _="undefined"!=typeof document&&window.visualViewport;function C(e){let t=0,n=0,r=0,i=0,a=0,o=0,s={};if("BODY"===e.tagName){let a=document.documentElement;var c,l;r=a.clientWidth,i=a.clientHeight,t=null!==(c=null==_?void 0:_.width)&&void 0!==c?c:r,n=null!==(l=null==_?void 0:_.height)&&void 0!==l?l:i,s.top=a.scrollTop||e.scrollTop,s.left=a.scrollLeft||e.scrollLeft}else({width:t,height:n,top:a,left:o}=A(e)),s.top=e.scrollTop,s.left=e.scrollLeft,r=t,i=n;return{width:t,height:n,totalWidth:r,totalHeight:i,scroll:s,top:a,left:o}}function w(e,t,n,r,i,a){let o=i.scroll[e],s=r[v[e]],c=t-a-o,l=t+a-o+n;return c<0?-c:l>s?Math.max(s-l,-c):0}function S(e){if(O[e])return O[e];let[t,n]=e.split(" "),r=h[t]||"right",i=b[r];h[n]||(n="center");let a=v[r],o=v[i];return O[e]={placement:t,crossPlacement:n,axis:r,crossAxis:i,size:a,crossSize:o},O[e]}function k(e,t,n,r,i,o,s,c,l,u){let{placement:d,crossPlacement:p,axis:m,crossAxis:f,size:h,crossSize:b}=r,v={};v[f]=e[f],"center"===p?v[f]+=(e[b]-n[b])/2:p!==f&&(v[f]+=e[b]-n[b]),v[f]+=o;const O=e[f]-n[b]+l+u,_=e[f]+e[b]-l-u;if(v[f]=(0,a.a)(v[f],O,_),d===m){const n=c?s[h]:t[y[h]];v[g[m]]=Math.floor(n-e[m]+i)}else v[m]=Math.floor(e[m]+e[h]+i);return v}function E(e,t,n,r,i,a){let{placement:o,axis:s,size:c}=a;return o===s?Math.max(0,n[s]-e[s]-e.scroll[s]+t[s]-r[s]-r[g[s]]-i):Math.max(0,e[c]+e[s]+e.scroll[s]-t[s]-n[s]-n[c]-r[s]-r[g[s]]-i)}function j(e,t,n,r,i,o,s,c,l,u,d,p,m,f,h,b){let v=S(e),{size:y,crossAxis:O,crossSize:_,placement:C,crossPlacement:j}=v,x=k(t,c,n,v,d,p,u,m,h,b),A=d,I=E(c,u,t,i,o+d,v);if(s&&r[y]>I){let e=S(`${g[C]} ${j}`),r=k(t,c,n,e,d,p,u,m,h,b);E(c,u,t,i,o+d,e)>I&&(v=e,x=r,A=d)}let T=w(O,x[O],n[_],c,l,o);x[O]+=T;let M=function(e,t,n,r,i,a){return null!=e.top?Math.max(0,t.height+t.top+t.scroll.top-(n.top+e.top)-(i.top+i.bottom+a)):Math.max(0,r.top+n.top-(t.top+t.scroll.top)-(i.top+i.bottom+a))}(x,c,u,t,i,o);f&&f<M&&(M=f),n.height=Math.min(n.height,M),x=k(t,c,n,v,A,p,u,m,h,b),T=w(O,x[O],n[_],c,l,o),x[O]+=T;let P={},N=t[O]+.5*t[_]-n[O];const B=h/2+b,L=n[_]-h/2-b,F=t[O]-n[O]+h/2,R=t[O]+t[_]-n[O]-h/2,D=(0,a.a)(N,F,R);return P[O]=(0,a.a)(D,B,L),{position:x,maxHeight:M,arrowOffsetLeft:P.left,arrowOffsetTop:P.top,placement:v.placement}}function x(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:i,padding:a,shouldFlip:o,boundaryElement:s,offset:c,crossOffset:l,maxHeight:u,arrowSize:d=0,arrowBoundaryOffset:p=0}=e,m=r instanceof HTMLElement?function(e){let t=e.offsetParent;t&&t===document.body&&"static"===window.getComputedStyle(t).position&&!T(t)&&(t=document.documentElement);if(null==t)for(t=e.parentElement;t&&!T(t);)t=t.parentElement;return t||document.documentElement}(r):document.documentElement,f=m===document.documentElement;const h=window.getComputedStyle(m).position;let g=!!h&&"static"!==h,b=f?A(n):I(n,m);if(!f){let{marginTop:e,marginLeft:t}=window.getComputedStyle(n);b.top+=parseInt(e,10)||0,b.left+=parseInt(t,10)||0}let v=A(r),y=function(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}(r);var O;return v.width+=y.left+y.right,v.height+=y.top+y.bottom,j(t,b,v,{top:(O=i).scrollTop,left:O.scrollLeft,width:O.scrollWidth,height:O.scrollHeight},y,a,o,C(s),C(m),"BODY"===s.tagName?A(m):I(m,s),c,l,g,u,d,p)}function A(e){let{top:t,left:n,width:r,height:i}=e.getBoundingClientRect(),{scrollTop:a,scrollLeft:o,clientTop:s,clientLeft:c}=document.documentElement;return{top:t+a-s,left:n+o-c,width:r,height:i}}function I(e,t){let n,r=window.getComputedStyle(e);if("fixed"===r.position){let{top:t,left:r,width:i,height:a}=e.getBoundingClientRect();n={top:t,left:r,width:i,height:a}}else{n=A(e);let r=A(t),i=window.getComputedStyle(t);r.top+=(parseInt(i.borderTopWidth,10)||0)-t.scrollTop,r.left+=(parseInt(i.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=r.top,n.left-=r.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function T(e){let t=window.getComputedStyle(e);return"none"!==t.transform||/transform|perspective/.test(t.willChange)||"none"!==t.filter||"paint"===t.contain||"backdropFilter"in t&&"none"!==t.backdropFilter||"WebkitBackdropFilter"in t&&"none"!==t.WebkitBackdropFilter}const M=new WeakMap;function P(e){let{triggerRef:t,isOpen:n,onClose:i}=e;(0,r.useEffect)(()=>{if(!n||null===i)return;let e=e=>{let n=e.target;if(!t.current||n instanceof Node&&!n.contains(t.current))return;let r=i||M.get(t.current);r&&r()};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}},[n,i,t])}let N="undefined"!=typeof document&&window.visualViewport;function B(e){let{direction:t}=(0,s.b)(),{arrowSize:n=0,targetRef:i,overlayRef:a,scrollRef:c=a,placement:l="bottom",containerPadding:u=12,shouldFlip:d=!0,boundaryElement:p=("undefined"!=typeof document?document.body:null),offset:m=0,crossOffset:f=0,shouldUpdatePosition:h=!0,isOpen:g=!0,onClose:b,maxHeight:v,arrowBoundaryOffset:y=0}=e,[O,_]=(0,r.useState)({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),C=[h,l,a.current,i.current,c.current,u,d,p,m,f,g,t,v,y,n],w=(0,r.useCallback)(()=>{if(!(!1!==h&&g&&a.current&&i.current&&c.current&&p))return;let e=x({placement:L(l,t),overlayNode:a.current,targetNode:i.current,scrollNode:c.current,padding:u,shouldFlip:d,boundaryElement:p,offset:m,crossOffset:f,maxHeight:v,arrowSize:n,arrowBoundaryOffset:y});Object.keys(e.position).forEach(t=>a.current.style[t]=e.position[t]+"px"),a.current.style.maxHeight=null!=e.maxHeight?e.maxHeight+"px":void 0,_(e)},C);var S;(0,o.x)(w,C),S=w,(0,o.x)(()=>(window.addEventListener("resize",S,!1),()=>{window.removeEventListener("resize",S,!1)}),[S]),(0,o.y)({ref:a,onResize:w});let k=(0,r.useRef)(!1);(0,o.x)(()=>{let e,t=()=>{k.current=!0,clearTimeout(e),e=setTimeout(()=>{k.current=!1},500),w()};return null==N||N.addEventListener("resize",t),null==N||N.addEventListener("scroll",t),()=>{null==N||N.removeEventListener("resize",t),null==N||N.removeEventListener("scroll",t)}},[w]);let E=(0,r.useCallback)(()=>{k.current||b()},[b,k]);return P({triggerRef:i,isOpen:g,onClose:b&&E}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...O.position,maxHeight:O.maxHeight}},placement:O.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:O.arrowOffsetLeft,top:O.arrowOffsetTop}},updatePosition:w}}function L(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const F=[];function R(e,t){let{onClose:n,shouldCloseOnBlur:i,isOpen:a,isDismissable:o=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:u}=e;(0,r.useEffect)(()=>(a&&F.push(t),()=>{let e=F.indexOf(t);e>=0&&F.splice(e,1)}),[a,t]);let d=()=>{F[F.length-1]===t&&n&&n()};(0,l.i)({ref:t,onInteractOutside:o?e=>{u&&!u(e.target)||(F[F.length-1]===t&&(e.stopPropagation(),e.preventDefault()),d())}:null,onInteractOutsideStart:e=>{u&&!u(e.target)||F[F.length-1]===t&&(e.stopPropagation(),e.preventDefault())}});let{focusWithinProps:p}=(0,l.g)({isDisabled:!i,onBlurWithin:e=>{e.relatedTarget&&!(0,c.d)(e.relatedTarget)&&(u&&!u(e.relatedTarget)||n())}});return{overlayProps:{onKeyDown:e=>{"Escape"!==e.key||s||(e.stopPropagation(),e.preventDefault(),d())},...p},underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}function D(e,t,n){let{type:i}=e,{isOpen:a}=t;(0,r.useEffect)(()=>{n&&n.current&&M.set(n.current,t.close)});let s=void 0;"menu"===i?s=!0:"listbox"===i&&(s="listbox");let c=(0,o.v)();return{triggerProps:{"aria-haspopup":s,"aria-expanded":a,"aria-controls":a?c:null,onPress:t.toggle},overlayProps:{id:c}}}const H="undefined"!=typeof document&&window.visualViewport,V=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let U,W=0;function z(e={}){let{isDisabled:t}=e;(0,o.x)(()=>{if(!t)return W++,1===W&&(U=(0,o.f)()?function(){let e,t=0,n=window.pageXOffset,r=window.pageYOffset,i=(0,o.a)(G(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),G(document.documentElement,"overflow","hidden"),G(document.body,"marginTop",`-${r}px`));window.scrollTo(0,0);let a=(0,o.a)(q(document,"touchstart",n=>{e=(0,o.d)(n.target),e===document.documentElement&&e===document.body||(t=n.changedTouches[0].pageY)},{passive:!1,capture:!0}),q(document,"touchmove",n=>{if(!e||e===document.documentElement||e===document.body)return void n.preventDefault();let r=n.changedTouches[0].pageY,i=e.scrollTop,a=e.scrollHeight-e.clientHeight;0!==a&&((i<=0&&r>t||i>=a&&r<t)&&n.preventDefault(),t=r)},{passive:!1,capture:!0}),q(document,"touchend",e=>{let t=e.target;$(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),q(document,"focus",e=>{let t=e.target;$(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",H&&(H.height<window.innerHeight?requestAnimationFrame(()=>{K(t)}):H.addEventListener("resize",()=>K(t),{once:!0}))}))},!0),q(window,"scroll",()=>{window.scrollTo(0,0)}));return()=>{i(),a(),window.scrollTo(n,r)}}():(0,o.a)(G(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),G(document.documentElement,"overflow","hidden"))),()=>{W--,0===W&&U()}},[t])}function G(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function q(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function K(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=(0,o.d)(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>n+e.clientHeight&&(t.scrollTop+=r-n)}e=t.parentElement}}function $(e){return e instanceof HTMLInputElement&&!V.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var Z;function Y(e){let{onDismiss:t,...n}=e,r=(0,s.c)(f(Z)),a=(0,o.w)(n,r.format("dismiss"));return i.a.createElement(m.a,null,i.a.createElement("button",{...a,tabIndex:-1,onClick:()=>{t&&t()}}))}Z={"ar-AE":{dismiss:"تجاهل"},"bg-BG":{dismiss:"Отхвърляне"},"cs-CZ":{dismiss:"Odstranit"},"da-DK":{dismiss:"Luk"},"de-DE":{dismiss:"Schließen"},"el-GR":{dismiss:"Απόρριψη"},"en-US":{dismiss:"Dismiss"},"es-ES":{dismiss:"Descartar"},"et-EE":{dismiss:"Lõpeta"},"fi-FI":{dismiss:"Hylkää"},"fr-FR":{dismiss:"Rejeter"},"he-IL":{dismiss:"התעלם"},"hr-HR":{dismiss:"Odbaci"},"hu-HU":{dismiss:"Elutasítás"},"it-IT":{dismiss:"Ignora"},"ja-JP":{dismiss:"閉じる"},"ko-KR":{dismiss:"무시"},"lt-LT":{dismiss:"Atmesti"},"lv-LV":{dismiss:"Nerādīt"},"nb-NO":{dismiss:"Lukk"},"nl-NL":{dismiss:"Negeren"},"pl-PL":{dismiss:"Zignoruj"},"pt-BR":{dismiss:"Descartar"},"pt-PT":{dismiss:"Dispensar"},"ro-RO":{dismiss:"Revocare"},"ru-RU":{dismiss:"Пропустить"},"sk-SK":{dismiss:"Zrušiť"},"sl-SI":{dismiss:"Opusti"},"sr-SP":{dismiss:"Odbaci"},"sv-SE":{dismiss:"Avvisa"},"tr-TR":{dismiss:"Kapat"},"uk-UA":{dismiss:"Скасувати"},"zh-CN":{dismiss:"取消"},"zh-TW":{dismiss:"關閉"}};let X=new WeakMap,Q=[];function J(e,t=document.body){let n=new Set(e),r=new Set,i=e=>{for(let t of e.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(t);let t=e=>{if(n.has(e)||r.has(e.parentElement)&&"row"!==e.parentElement.getAttribute("role"))return NodeFilter.FILTER_REJECT;for(let t of n)if(e.contains(t))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t}),o=t(e);if(o===NodeFilter.FILTER_ACCEPT&&a(e),o!==NodeFilter.FILTER_REJECT){let e=i.nextNode();for(;null!=e;)a(e),e=i.nextNode()}},a=e=>{var t;let n=null!==(t=X.get(e))&&void 0!==t?t:0;"true"===e.getAttribute("aria-hidden")&&0===n||(0===n&&e.setAttribute("aria-hidden","true"),r.add(e),X.set(e,n+1))};Q.length&&Q[Q.length-1].disconnect(),i(t);let o=new MutationObserver(e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...n,...r].some(e=>e.contains(t.target))){for(let e of t.removedNodes)e instanceof Element&&(n.delete(e),r.delete(e));for(let e of t.addedNodes)!(e instanceof HTMLElement||e instanceof SVGElement)||"true"!==e.dataset.liveAnnouncer&&"true"!==e.dataset.reactAriaTopLayer?e instanceof Element&&i(e):n.add(e)}});o.observe(t,{childList:!0,subtree:!0});let s={observe(){o.observe(t,{childList:!0,subtree:!0})},disconnect(){o.disconnect()}};return Q.push(s),()=>{o.disconnect();for(let e of r){let t=X.get(e);1===t?(e.removeAttribute("aria-hidden"),X.delete(e)):X.set(e,t-1)}s===Q[Q.length-1]?(Q.pop(),Q.length&&Q[Q.length-1].observe()):Q.splice(Q.indexOf(s),1)}}function ee(e,t){let{triggerRef:n,popoverRef:r,isNonModal:i,isKeyboardDismissDisabled:a,...s}=e,{overlayProps:c,underlayProps:l}=R({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!i,isKeyboardDismissDisabled:a},r),{overlayProps:u,arrowProps:d,placement:p}=B({...s,targetRef:n,overlayRef:r,isOpen:t.isOpen,onClose:null});return z({isDisabled:i}),(0,o.x)(()=>{if(t.isOpen&&!i&&r.current)return J([r.current])},[i,t.isOpen,r]),{popoverProps:(0,o.l)(c,u),arrowProps:d,underlayProps:l,placement:p}}const te=i.a.createContext(null);function ne(e){let t=(0,p.a)(),{portalContainer:n=(t?null:document.body),isExiting:a}=e,[o,s]=(0,r.useState)(!1),u=(0,r.useMemo)(()=>({contain:o,setContain:s}),[o,s]);if(!n)return null;let m=e.children;return e.disableFocusManagement||(m=i.a.createElement(c.a,{restoreFocus:!0,contain:o&&!a},m)),m=i.a.createElement(te.Provider,{value:u},i.a.createElement(l.a,null,m)),d.a.createPortal(m,n)}},mEGS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("MHMU"),a=n("DTwm"),o=n("tiWp"),s=n("1MDf"),c=n("K40b"),l=n("mgiE"),u=n("wqt/"),d=n("AHUV"),p=n("mML0"),m=n("fFVt");!function(e){let t;!function(e){e.show=c.a.getShow(i.e,d.a.show),e.eq=c.a.getEq(d.a.Id.ord,d.a.ord),e.empty=()=>c.a.empty();e.toRegistered=function(e){return c.a.fromMutation(t=>{Object(o.pipe)(e,c.a.forEach((e,n)=>d.a.isRegistered(e)&&t.set(n,l.m.left(e)),(e,n,r)=>{d.a.isRegistered(e)?d.a.isRegistered(n)?t.set(r,l.m.both(e,n)):t.set(r,l.m.left(e)):d.a.isRegistered(n)&&t.set(r,l.m.right(n))},(e,n)=>d.a.isRegistered(e)&&t.set(n,l.m.right(e))))})},e.filter=function(e){return c.a.filter(e,(t,n)=>e(t)&&e(n),e)}}(t=e.Diff||(e.Diff={}));e.empty=p.a.iso.wrap(p.a.empty),e.eq=s.a(p.a.eqShow),e.show=p.a.eqShow;e.get=function(e){return Object(a.flow)(p.a.iso.unwrap,p.a.get(e))},e.reduce=function(e,t){return Object(a.flow)(p.a.iso.unwrap,p.a.reduce(e,t))},e.diff=function(e,t){return p.a.diff(p.a.iso.unwrap(e),p.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===p.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(a.flow)(p.a.iso.unwrap,p.a.find(e))},e.size=function(){return Object(a.flow)(p.a.iso.unwrap,p.a.size)},e.from=function(e){return Object(o.pipe)(p.a.createDiff({added:e.reduce((e,t)=>e.set(t.id,d.a.create(t)),new Map)}),u.a.recover(a.constVoid),m.a.applyDiff,l.j.map(Object(a.flow)(u.a.recover(a.constVoid),p.a.iso.wrap)))(p.a.empty)}}(r||(r={}))},mML0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("000W"),o=n("MHMU"),s=n("tiWp"),c=n("1MDf"),l=n("K40b"),u=n("mgiE"),d=n("0kuo"),p=n("AHUV");!function(e){e.iso=c.d(),e.empty={entries:new Map,order:[],latestChangeDiff:l.a.empty(),diffVersion:0};function t(e,t){return n=>n.order.reduce((e,r)=>(Object(d.f)(n.entries.has(r),"got corrupted state"),t(e,n.entries.get(r))),e)}e.get=function(e){return t=>u.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(u.g.none,(t,n)=>Object(s.pipe)(t,u.g.alt(()=>u.g.fromPredicate(e)(n))))},e.reduce=t;e.size=e=>e.entries.size;function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const r=new Map,i=l.a.fromMutation(i=>{n.forEach((e,t)=>{i.set(t,u.m.left(e))}),e.forEach((e,t)=>{i.has(t)?r.set(t,`alert add overlaps with alert remove: toAdd(${p.a.show.show(e)} overlapWith(${u.m.getShow(p.a.show,p.a.show).show(i.get(t))}))`):i.set(t,u.m.right(e))}),t.forEach(([e,t],n)=>{i.has(n)?r.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${p.a.show.show(t)}) overlapWith(${u.m.getShow(p.a.show,p.a.show).show(i.get(n))}))`):i.set(n,u.m.both(e,t))})});return r.size>0?u.b.left({recovered:i,rejected:r}):u.b.right(i)}e.diff=function(e,t){return 0===e.diffVersion?u.b.unsafeGet(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:u.e.symmetricDiff(p.a.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=u.e.leftToRight(u.e.Merger.createStrict(p.a.ordShow),t.entries,e);return Object(s.pipe)(n,u.b.bimap(n=>{const r=l.a.fromMutation(t=>{Object(s.pipe)(e,l.a.forEach((e,r)=>!n.rejected.has(r)&&t.set(r,u.m.left(e)),(e,r,i)=>!n.rejected.has(i)&&t.set(i,u.m.both(e,r)),(e,r)=>!n.rejected.has(r)&&t.set(r,u.m.right(e))))});return{recovered:h(n.recovered,r,t.diffVersion),rejected:n.rejected}},n=>h(n,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const n=u.e.leftToRight(u.e.Merger.createLoose(p.a.ordShow),t.entries,e);return Object(s.pipe)(n,u.b.bimap(n=>({recovered:h(n.recovered,e,t.diffVersion),rejected:n.rejected}),n=>h(n,e,t.diffVersion)))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:l.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};var r=e.diffEqShow=Object(i._)({},l.a.getEq(p.a.Id.ord,p.a.ord),l.a.getShow(p.a.Id.show,p.a.show));const m=Object(i._)({},u.e.getEq(p.a.Id.ord,p.a.ord),u.e.getShow(p.a.Id.show,p.a.show)),f=Object(i._)({},a.jb(p.a.Id.ord),a.mb(p.a.Id.show));e.contentEqShow=Object(i._)({},u.c.getStructEq({entries:m,order:f,latestChangeDiff:u.c.eqEmpty,diffVersion:u.c.eqEmpty}),o.a({entries:m,order:f,latestChangeDiff:r,diffVersion:o.d})),e.eqShow=Object(i._)({},u.c.getStructEq({entries:m,order:f,latestChangeDiff:r,diffVersion:u.c.eqNumber}),o.a({entries:m,order:f,latestChangeDiff:r,diffVersion:o.d}));function h(e,t,n){return{entries:e,order:Object(s.pipe)(e,u.e.values(p.a.ord),a.zb(e=>e.id)),latestChangeDiff:t,diffVersion:n+1}}}(r||(r={}))},mTue:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("lKCo"),a=n("DTwm"),o=n("TKPA");!function(e){let t,n;function r(e){return e.kind===t.activeLimited||e.kind===t.activeUnlimited}function s(e){return e.kind===t.passive}function c(e){return e.kind===t.unknown}function l(e){return r(e)||c(e)}function u(n){if(void 0===n)return{kind:t.unknown,userSettings:{inlineQuickReplyEnabled:!1,inlineRewriteEnabled:!1}};const r=e.Active.parseRefillDate(n.usage.refillDate);return n.usage.promptsRemaining<0?{kind:t.unknown,userSettings:n.settings}:1e4===n.usage.promptsAllocated&&n.usage.promptsRemaining>0?{kind:t.activeUnlimited,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:r,userSettings:n.settings}:n.usage.promptsRemaining>0?{kind:t.activeLimited,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:r,userSettings:n.settings}:{kind:t.passive,promptsRemaining:n.usage.promptsRemaining,promptsAllocated:n.usage.promptsAllocated,refillDate:r,userSettings:n.settings}}!function(e){e.activeLimited="activeLimited",e.activeUnlimited="activeUnlimited",e.passive="passive",e.unavailable="unavailable",e.disabled="disabled",e.pending="pending",e.unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){const t=Object(o.l)(e=>{const t=Date.parse(e);return isNaN(t)?0:t});function n(e){const t=e-Date.now();return Math.floor(t/36e5)}e.parseRefillDate=function(e){return t(e)},e.hoursUntilRefillDate=n,e.daysUntilRefillDate=function(e){return Math.floor(n(e)/24)}}(n=e.Active||(e.Active={})),e.isActive=r,e.isActiveUnlimited=function(e){return e.kind===t.activeUnlimited},e.isPassive=s,e.isActiveOrPassive=Object(o.p)(r,s),e.isUnknown=c,e.isUsable=l,e.isVisible=function(e){return l(e)||s(e)},e.isDisabled=function(e){return e.kind===t.disabled},e.isUnavailable=function(e){return e.kind===t.pending||e.kind===t.unavailable||e.kind===t.disabled},e.fromUserState=u,e.updateUsage=function(e,t){return u({usage:t,settings:e.userSettings})},e.getPromptsAllocated=function(t){return Object(a.pipe)(t,i.fromPredicate(e.isActiveOrPassive),i.map(e=>e.promptsAllocated))}}(r||(r={}))},mUkt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("000W"),s=n("MHMU"),c=n("DTwm"),l=n("tiWp"),u=n("+vYo"),d=n("0Qjk"),p=n("mgiE"),m=n("TKPA"),f=n("M3t0"),h=n("xk6L"),g=n("La5+"),b=n("yIk2"),v=n("Hj2R"),y=n("F0rY");!function(e){let t,n,r;!function(e){let t;!function(e){e.ord=p.h.ordString,e.show=s.e,e.create=e=>e}(t=e.Id||(e.Id={}));e.isSpecial=e=>Object.values(d.a.MutedAlerts.SpecialCategory).includes(e),e.specialCategoryDescription="Special category"}(t=e.Category||(e.Category={})),function(e){e.filter=e=>p.e.filter(t=>e(t.id)),e.filterWithCount=(e,t)=>n=>{const r=Array.from(n.keys()),o=y.a.getAlerts(t,r).byCategory;return Object(l.pipe)(n,p.e.filterMap(t=>e(t.id)?p.g.some(Object(a._)(Object(i._)({},t),{alertsCount:o.get(t.id).filter(v.a.isRegistered).length})):p.g.none))}}(n=e.BaseMutedCategories||(e.BaseMutedCategories={})),function(e){let r,i;!function(e){let t;!function(e){e.CategoriesChanged="CategoriesChanged"}(t=e.Type||(e.Type={})),e.isChangedEvent=function(e){return e.type===t.CategoriesChanged}}(r=e.Events||(e.Events={})),e.create=function(e,i,a,s,O){const _=f.d.Logging.getLogger("MutedAlertsModel"),C=u.a.create(new Map),w=new h.a.Subject,S=new g.a.Keeper,k=u.a.create(!1);return S.push(k.pipe(h.a.switchMap(t=>e.pipe(h.a.filter(()=>!t),h.a.filter(d.a.CAPIEvent.is("session_started")),h.a.map(e=>function(e){const t=e.map(e=>[e.userMuteCategory,{id:e.userMuteCategory,description:e.userMuteCategoryDescription,scope:e.userMuteScope}]);return new Map(t)}(e.userMutedCategories)),h.a.tap(b.b.toAtom(C)),h.a.tap(()=>w.next({type:r.Type.CategoriesChanged}))))).subscribe(),C.pipe(h.a.pairwise(),h.a.map(([e,n])=>function(e,n){return{muted:p.e.diffKeys(t.Id.ord)(e,n),unmuted:p.e.diffKeys(t.Id.ord)(n,e)}}(e,n)),h.a.map(function(e){return({muted:t,unmuted:n})=>({toMute:y.a.getAlerts(e,t).all.filter(e=>e.mute!==v.a.MuteStateType.Muted),toUnmute:y.a.getAlerts(e,n).all.filter(e=>e.mute!==v.a.MuteStateType.Unmuted)})}(a)),h.a.tap(({toMute:e,toUnmute:t})=>{e.length>0&&s.changeMuteState(e,v.a.MuteStateType.Muted),t.length>0&&s.changeMuteState(t,v.a.MuteStateType.Unmuted)})).subscribe()),{events:w,mutedCategories:C,muteCategories:e=>{k.set(!0),Object(l.pipe)(i.sendFeedback({kind:d.a.MutedFeedbackType.MUTE,userMuteScope:O,userMuteCategories:e}),p.l.chain(()=>(k.set(!1),p.l.right(m.e))),p.l.mapLeft(e=>{_.warn("Alerts could not be muted on CAPI",e)}))();const n=y.a.getAlerts(a,e);0===n.all.filter(e=>e.mute!==v.a.MuteStateType.Muted).length&&_.warn("No alerts were muted on category mute",{categoryIds:e});const s=function(e,n,r){return i=>{const a=new Map(i);return e.forEach((e,i)=>{t.isSpecial(i)?a.set(i,{id:i,scope:n,description:t.specialCategoryDescription}):Object(l.pipe)(o.xb(0,e),p.g.chain(e=>e.muteCategory),p.g.fold(()=>r.error("No alerts to mute",i),e=>a.set(i,{id:e.id,description:e.description,scope:n})))}),a}}(n.byCategory,O,_)(C.get());return C.set(s),w.next({type:r.Type.CategoriesChanged}),p.b.right(void 0)},unmuteCategories:e=>{k.set(!0),Object(l.pipe)(i.sendFeedback({kind:d.a.MutedFeedbackType.UNMUTE,userMuteScope:O,userMuteCategories:e}),p.l.chain(()=>(k.set(!1),p.l.right(m.e))),p.l.mapLeft(e=>{_.warn("Alerts could not be un-muted on CAPI",e)}))();return 0===y.a.getAlerts(a,e).all.filter(e=>e.mute!==v.a.MuteStateType.Unmuted).length&&_.warn("No alerts were unmuted on category unmute",{categoryIds:e}),C.modify(function(e,t){return n=>{const r=new Map(n);return e.forEach(e=>{n.has(e)?r.delete(e):t.error("Tried to unmute a category which is not muted",e)}),r}}(e,_)),w.next({type:r.Type.CategoriesChanged}),p.b.right(void 0)},getMutedCategories:()=>Object(l.pipe)(C.get(),n.filterWithCount(Object(c.not)(t.isSpecial),a)),getMutedSpecialCategories:()=>Object(l.pipe)(C.get(),n.filter(t.isSpecial)),loadCachedMutedCategories:e=>{C.set(e)},dispose:()=>S.dispose()}},function(e){e.create=function(){return{events:h.a.EMPTY,mutedCategories:u.a.create(new Map),getMutedCategories:()=>new Map,getMutedSpecialCategories:()=>new Map,muteCategories:e=>p.b.right(void 0),unmuteCategories:e=>p.b.right(void 0),loadCachedMutedCategories:m.e,dispose:m.e}}}(i=e.Mock||(e.Mock={}))}(r=e.CategoriesModel||(e.CategoriesModel={}))}(r||(r={}))},"may+":function(e,t,n){e.exports=n.p+"files/b788e8a0ec2b2ab3fe6f0d17e4508835/inter-bold.woff"},mp9r:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return k}));var r=n("nWMp"),i=n("NbNH"),a=n("sfTT"),o=n("7Cqk");const s=r.a.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),c=r.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),l=r.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),u=r.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),d=r.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),p=r.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=r.a.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),f=r.a.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),h=r.a.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),g=r.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),b=r.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),v={opacity:0,animation:`${s} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`},y={transformOrigin:"top",animation:`${a.c} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${c} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${l} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${u} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`}}}}},O={transformOrigin:"top",animation:`${d} ${r.a.seconds(i.d/1500)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${c} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${l} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${u} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`}}}}},_={animation:`${p} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${m} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${f} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${h} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`}}}}},C={animation:`${g} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${m} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${f} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${h} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`}}}}},w={animation:`${b} ${r.a.seconds(i.d/1e3)} ${a.f} forwards`},S=r.a.stylesheet({focused2renderedBundleMain:[v],focused2renderedBundleShade:[a.e,y],focused2renderedBundleShadeClockwise:[a.e,O],rendered2focusedBundleMain:[a.d,_],rendered2focusedBundleMainClockwise:[a.d,C],rendered2focusedBundleShade:[a.e,w]}),k=new Map([[a.c,S.focused2renderedBundleShade],[d,S.focused2renderedBundleShadeClockwise],[b,S.rendered2focusedBundleShade]])},mtPC:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var r,i=n("a5gI"),a=n("0kuo"),o=n("D2TP"),s=n("d3CI"),c=n("wdnv");!function(e){e.compose=function(e){return t=>s.a.compose(e.map(e=>e(t)))},e.map=function(e,t){return n=>t(e(n))}}(r||(r={}));const l=(e,t,n)=>r=>r===o.a.SpecialId.Plagiarism?c.a.Plagiarism.getAlertsHandler(t):((e,t)=>n=>{if(o.a.isOutcomeId(n))return c.a.WithSuccess.getAlertHandler(e,t);switch(n){case o.a.SpecialId.Premium:return c.a.Premium.getAlertsHandler(e,t);case o.a.SpecialId.AllAlerts:case o.a.SpecialId.PredictionTakeaways:case o.a.SpecialId.PredictionEmogenie:case o.a.SpecialId.RealTimeProofit:case o.a.SpecialId.FreePremiumAlerts:return c.a.WithSuccess.getAlertHandler(e,t);default:return Object(a.c)(n)}})(e,n)(r),u=(e,t,n,r,i)=>a=>n(a)?c.a.WithBundles.getAlertsHandler(e,t,i):r(a);class d{create(e,t){return this._lensPredicate(t)?c.a.WithBundles.create(e,t,this._itemEq,this._itemOrd):this._inner.create(e,t)}constructor(e,t,n,r){Object(i._)(this,"_lensPredicate",void 0),Object(i._)(this,"_inner",void 0),Object(i._)(this,"_itemEq",void 0),Object(i._)(this,"_itemOrd",void 0),this._lensPredicate=e,this._inner=t,this._itemEq=n,this._itemOrd=r}}class p{create(e,t){return e===o.a.SpecialId.Plagiarism?c.a.Plagiarism.create(t,this._itemEq,this._itemOrd):this._inner.create(e,t)}constructor(e,t,n){Object(i._)(this,"_inner",void 0),Object(i._)(this,"_itemEq",void 0),Object(i._)(this,"_itemOrd",void 0),this._inner=e,this._itemEq=t,this._itemOrd=n}}class m{create(e,t){const n=()=>c.a.WithSuccess.create(e,t,this._itemEq,this._itemOrd);if(o.a.isOutcomeId(e))return n();switch(e){case o.a.SpecialId.Premium:return c.a.Premium.create(t,this._itemEq,this._itemOrd);case o.a.SpecialId.AllAlerts:case o.a.SpecialId.PredictionTakeaways:case o.a.SpecialId.PredictionEmogenie:case o.a.SpecialId.RealTimeProofit:case o.a.SpecialId.FreePremiumAlerts:return n();default:return Object(a.c)(e)}}constructor(e,t){Object(i._)(this,"_itemEq",void 0),Object(i._)(this,"_itemOrd",void 0),this._itemEq=e,this._itemOrd=t}}},mxxk:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return M}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("hcme"),s=n("mMt2"),c=n("B8yO"),l=n("DTwm"),u=n("4GyQ"),d=n("OwvP"),p=n("+vYo"),m=n("XQlQ"),f=n("7IMz"),h=n("CRC+"),g=n("1MPA"),b=n("D2TP"),v=n("Hj2R"),y=n("xk6L"),O=n("yIk2"),_=n("mgiE"),C=n("RRF2"),w=n("3n8C"),S=n("No46"),k=n("7pft"),E=n("/pMd"),j=function(e){var t=e.lensPreview,n=e.activeLensId,r=e.cardVisualMode,i=e.onClick;return c.createElement(E.c,{lens:t,activeLensId:n,tooltipAlignment:"left",cardVisualMode:r,onClick:i})},x=function(e,t){var n=function(e){return function(t,n,r){return function(){if("list"===t){if(n===b.a.SpecialId.AllAlerts)return void e.events.next({type:"switchToAll",focusFirst:!0,actionSource:v.b.sidebar});e.events.next({type:"switchToLens",id:n,title:r,focusFirst:!0,actionSource:v.b.sidebar})}}}}(e);return e.premiumButtonData.view((function(o){return Object(i._)(Object(r._)({},b.a.SpecialId.AllAlerts,(function(t){var r=t.mode,a=t.className;return function(e,t,n,r){return c.createElement(k.a,Object(i._)({isActive:e.activeLensId.view(b.a.isMainLens),onClick:n(t,b.a.SpecialId.AllAlerts)},Object(u.c)(S.a.allAlertsBtn,r)))}(e,r,n,a)})),Object.values(e.lensPreviews).reduce((function(t,o){return Object(a._)(Object(i._)({},t),Object(r._)({},o.id,(function(t){var r=t.mode;return function(e,t,n,r){return c.createElement(j,{key:t.id,lensPreview:t,activeLensId:e.activeLensId,cardVisualMode:e.cardVisualMode,onClick:r(n,t.id,t.title)})}(e,o,r,n)})))}),{}),t?function(e,t,n){return Object(l.pipe)(t,_.g.fold((function(){return Object(r._)({},b.a.SpecialId.FreePremiumAlerts,(function(t){var r=t.mode;return c.createElement(E.b,{id:b.a.SpecialId.FreePremiumAlerts,name:"lens-free-premium",activeLensId:e.activeLensId,data:e.freePremiumButtonData,onClick:n(r,b.a.SpecialId.FreePremiumAlerts)})}))}),(function(){return Object(r._)({},b.a.SpecialId.Premium,(function(t){var r=t.mode;return c.createElement(E.b,{id:b.a.SpecialId.Premium,name:"lens-premium",activeLensId:e.activeLensId,data:e.premiumButtonData,onClick:n(r,b.a.SpecialId.Premium)})}))})))}(e,o,n):{})}))};var A=function(e){return function(t){return e.denali.isPremiumLenseFirst&&!e.premiumLensButtonInFooter?function(e){return[e[e.length-1]].concat(Object(s.a)(e.slice(0,e.length-1)))}(t):t}},I=function(e){var t=e.children,n=e.mount;return c.createElement(d.a.div,{mount:n,className:S.a.wrapper},t)},T=function(e){var t=e.navigationViewModel,n=e.renderLensButtons,r=void 0===n?x:n,i=e.features,a=c.useContext(m.a.Context),s=f.a.useRectWatcher(),u=s.rect,g=s.onMount,v=f.a.useRectWatcher(),O=v.rect,w=v.onMount,k=u.pipe(y.b.compact,y.a.pluck("height"),y.a.filter(Boolean),y.a.take(1),y.a.withLatestFrom(O.pipe(y.b.compact,y.a.pluck("top"))),y.a.switchMap((function(e){var t=Object(o._)(e,2),n=t[0],r=t[1];return a.pipe(y.a.map((function(e){return(e.rect.height-n)/2-r})))})),y.a.startWith(0),y.a.distinctUntilChanged(),y.a.map(S.c)),E=r(t,!i.premiumLensButtonInFooter),j=c.createElement(d.a.Fragment,null,E.view(Object.values).view(A(i)).view(_.a.mapWithIndex((function(e,t){return c.createElement(t,{key:e,mode:"list"})})))),I=c.createElement(d.a.Fragment,null,p.a.combine(t.activeLensId,E,(function(e,t){return Object(l.pipe)(t,C.e.pick(e),_.g.fromNullable,_.g.getOrElse((function(){return t[b.a.SpecialId.AllAlerts]})),(function(e){return c.createElement(e,{mode:"single"})}))})));return c.createElement("div",{ref:w},c.createElement(h.a,{activeDescendantId:t.activeLensId,label:I,name:"lenses-navigation-dropdown",appearanceBehavior:"mouseHover",align:"left",customPosition:{top:k,left:S.b}},c.createElement("div",{ref:g},j)))},M=function(e){var t=e.navigationViewModel,n=e.features,r=e.renderLensButtons,i=(void 0===r?x:r)(t,!n.premiumLensButtonInFooter),a=c.createElement(d.a.Fragment,null,i.view((function(e){return C.e.omit(e,b.a.SpecialId.AllAlerts)})).view(Object.values).view(A(n)).view(_.a.mapWithIndex((function(e,t){return c.createElement(t,{key:e,mode:"list"})})))),o=function(){return window.matchMedia(w.a.collapsedSidebarQuery).matches},s=O.a.getResizeObservable(document.documentElement).pipe(y.a.map(o),y.a.startWith(o()));return c.createElement(d.a.Fragment,null,s.pipe(y.a.map((function(e){return e?c.createElement(T,{navigationViewModel:t,features:n}):c.createElement(d.a.Fragment,null,i.view(C.e.pick(b.a.SpecialId.AllAlerts)).view((function(e){return c.createElement(e,{mode:"list"})})),c.createElement(g.a,{name:"lenses"},a))}))))}},mybP:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return r}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("hcme"),c=n("DTwm"),l=n("kVyi"),u=n("xk6L"),d=n("ykgB"),p=n("mgiE"),m=n("skc2"),f=n("TKPA"),h=n("Eve8"),g=n("s1NC"),b=function(){function e(t,n,a,f,b,v,y,O){var _=this;Object(i.a)(this,e),Object(o._)(this,"_doxApi",void 0),Object(o._)(this,"_appRouter",void 0),Object(o._)(this,"_notificationsManager",void 0),Object(o._)(this,"_telemetry",void 0),Object(o._)(this,"_platformEnvironment",void 0),Object(o._)(this,"_environment",void 0),Object(o._)(this,"_config",void 0),Object(o._)(this,"_features",void 0),Object(o._)(this,"_upload",void 0),Object(o._)(this,"_navigateToDocument",void 0),Object(o._)(this,"_navigateOnUpload",void 0),Object(o._)(this,"uploadModel",void 0),Object(o._)(this,"state",void 0),this._doxApi=t,this._appRouter=n,this._notificationsManager=a,this._telemetry=f,this._platformEnvironment=b,this._environment=v,this._config=y,this._features=O,this._upload=function(e){return _._doxApi.createDocument(l.a.Create.file(e,l.a.UploadFileMode.plain))},this._navigateToDocument=function(e,t){return _._appRouter.navigate(h.a.routes.denali_editor.href({docId:e}),t)},this._navigateOnUpload=Object(c.pipe)(this._features,p.g.chain((function(e){return e.deDeprecation})),p.g.map((function(e){return e.daysLeft.view((function(e){return e<1?function(){_._platformEnvironment.actions.openPopup(new m.a(_._config.funnel.signin))}:_._navigateToDocument}))})),p.g.getOrElse(Object(c.constant)(u.a.of(this._navigateToDocument)))),this.uploadModel=new g.c.UploadModelImpl((function(e){return _._upload(e)}),this._navigateOnUpload,this._telemetry,this._notificationsManager,this._environment,this._config),this.state=this.uploadModel.state.pipe(u.a.pairwise(),u.a.map((function(e){var t=Object(s._)(e,2),n=t[0],i=t[1];return d.a.isInProgress(i)?r.State.loading:d.a.isOk(i)||d.a.isIdle(i)&&d.a.isOk(n)?r.State.uploaded:r.State.idle})),u.a.startWith(r.State.idle))}return Object(a.a)(e,[{key:"isUploaded",value:function(e,t){var n=Object(c.pipe)(this._appRouter.locationState,p.g.chain((function(e){return p.g.fromNullable(e.uploadedFileType)}))),r=Object(c.pipe)(this._appRouter.locationState,p.g.chain((function(e){return p.g.fromNullable(e.uploadedFileName)}))),i=void 0!==e?Object(c.pipe)(n,p.g.exists((function(t){return t===e}))):p.g.isSome(n),a=void 0!==t?Object(c.pipe)(r,p.g.exists((function(e){return t.test(e)}))):p.g.isSome(r);return i||a}},{key:"dispose",value:function(){this.uploadModel.dispose()}}]),e}();!function(e){!function(e){e.idle="idle",e.loading="loading",e.uploaded="uploaded"}(e.State||(e.State={}));var t=function(){function e(){Object(i.a)(this,e),Object(o._)(this,"uploadModel",{navigated:f.e}),Object(o._)(this,"state",u.a.EMPTY),Object(o._)(this,"dispose",f.e)}return Object(a.a)(e,[{key:"isUploaded",value:function(e,t){throw new Error("Method not implemented.")}},{key:"showUploadNotificationIfNeeded",value:function(){throw new Error("Method not implemented.")}}]),e}();e.Mock=t}(r||(r={}))},n8j0:function(e){e.exports=JSON.parse('{"editor":"_b4dbc6b7-denali-editor-editor","editorClipboard":"_4276c5e6-denali-editor-editorClipboard","graySelection":"_38e369d9-denali-editor-graySelection"}')},nD6t:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r,i,a=n("pbOK"),o=n("yRey"),s=n("w8H4"),c=n("TKPA"),l=n("BXBv");!function(e){e.Codec=a.s(a.z({action:a.s(a.w)}))}(r||(r={})),function(e){let t,n,r,i,u,d;!function(e){e.Codec=a.s(a.z({action:a.s(a.p("error"))})),e.is=function(t){return e.Codec.is(t)}}(t=e.Error||(e.Error={})),function(e){e.Codec=a.s(a.z({action:a.s(a.p("finished"))})),e.is=function(t){return e.Codec.is(t)}}(n=e.Finished||(e.Finished={})),function(e){e.Codec=a.s(a.z({action:a.s(a.p("async_check_finished"))})),e.is=function(t){return e.Codec.is(t)}}(r=e.AsyncCheckFinished||(e.AsyncCheckFinished={})),function(e){e.Codec=a.s(a.z({action:a.s(a.p("emotions"))})),e.is=function(t){return e.Codec.is(t)}}(i=e.TonesResult||(e.TonesResult={})),function(e){e.Codec=a.s(a.z({action:a.s(a.p("show_survey"))})),e.is=function(t){return e.Codec.is(t)}}(u=e.ShowSurvey||(e.ShowSurvey={})),function(e){let t,n;!function(e){e.Codec=a.s(a.z({action:a.s(a.p("cheetah")),id:a.s(a.q)})),e.is=e.Codec.is}(t=e.CheetahAck||(e.CheetahAck={})),function(e){e.is=s.a(l.a.extend(o.Schemable)({any:o.id(),sensitiveString:o.string,sensitiveDelta:o.id()}))(l.a.ServerMessageImplementations).is}(n=e.CheetahProtocolServerMessage||(e.CheetahProtocolServerMessage={})),e.is=Object(c.p)(t.is,n.is)}(d=e.CheetahInboundCAPIMessage||(e.CheetahInboundCAPIMessage={})),e.is=Object(c.p)(t.is,u.is,d.is,i.is,n.is,r.is)}(i||(i={}));const u=Object(c.p)(i.Finished.is,i.AsyncCheckFinished.is,i.TonesResult.is),d=i.CheetahInboundCAPIMessage.is},nNHm:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return _}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("NDcT"),c=n("nWMp"),l=n("fB2g"),u=n("2swC"),d=n("7Pyj"),p=n("z+ZZ"),m="report-sections-document_insights-",f={insightsSection:"".concat(m,"insightsSection"),insightTable:"".concat(m,"insightTable"),insightHeader:"".concat(m,"insightHeader"),insightBody:"".concat(m,"insightBody"),insightTextCell:"".concat(m,"insightTextCell"),insightTextHeader:"".concat(m,"insightTextHeader"),insightScoreCell:"".concat(m,"insightScoreCell"),insightScore:"".concat(m,"insightScore")},h={paddingRight:c.a.px(32*d.a),width:c.a.px(321*d.a)},g={width:c.a.px(191*d.a),verticalAlign:"top",textTransform:"lowercase"},b={insightsSection:c.a.joinClasses([f.insightsSection,l.a.style(p.d,{$nest:{"&:not(:first-child)":{marginTop:c.a.px(24*d.a)}}})]),insightTable:c.a.joinClasses([f.insightTable,l.a.style(p.b,{marginTop:c.a.px(24*d.a),width:c.a.px(512*d.a)})]),insightHeader:c.a.joinClasses([f.insightHeader,l.a.style({letterSpacing:0,fontWeight:"bold",fontSize:c.a.px(18*d.a),lineHeight:c.a.px(32*d.a)})]),insightBody:c.a.joinClasses([f.insightBody,l.a.style({color:u.a.CoreNeutral50,letterSpacing:c.a.px(.11*d.a),fontSize:c.a.px(13*d.a),lineHeight:c.a.px(20*d.a)})]),insightTextCell:c.a.joinClasses([f.insightTextCell,l.a.style(h)]),insightTextHeader:c.a.joinClasses([f.insightTextHeader,l.a.style(h,{textTransform:"capitalize"})]),insightScoreCell:c.a.joinClasses([f.insightScoreCell,l.a.style(g)]),insightScore:c.a.joinClasses([f.insightScore,l.a.style(g,{color:u.a.CoreBlue50,letterSpacing:c.a.px(-.1*d.a)})])},v=function(e){var t=e.header,n=e.description,r=e.measure,i=e.score;return o.createElement("section",{className:b.insightsSection},o.createElement("table",{className:b.insightTable},o.createElement("tbody",null,o.createElement("tr",{className:b.insightHeader},o.createElement("td",{className:b.insightTextHeader},t),o.createElement("td",{className:b.insightScore},i)),o.createElement("tr",{className:b.insightBody},o.createElement("td",{className:b.insightTextCell},n),o.createElement("td",{className:b.insightScoreCell},r)))))},y=function(e){var t=e.score,n=Object(a._)(e,["score"]);return o.createElement(v,Object(i._)(Object(r._)({},n),{score:"".concat("number"!=typeof t||t<0?0:t>100?100:Math.round(t),"%")}))},O=function(e){var t=e.score,n=Object(a._)(e,["score"]);return o.createElement(v,Object(i._)(Object(r._)({},n),{score:"".concat("number"!=typeof t?0:Math.round(10*t)/10)}))},_=function(e){var t=e.stats,n=o.useContext(s.a.Context);return o.createElement("div",null,o.createElement(y,{header:n.performance.uniqueWordsTitle,description:n.performance.report.uniqueWordsDescription,measure:n.performance.uniqueWordsTitle,score:t.uniqueWords}),o.createElement(y,{header:n.performance.rareWordsTitle,description:n.performance.rareWords,measure:n.performance.rareWordsTitle,score:t.rareWords}),o.createElement(O,{header:n.performance.wordLengthTitle,description:n.performance.report.wordLengthDescription,measure:n.performance.report.wordLengthMeasure,score:t.wordLength}),o.createElement(O,{header:n.performance.sentenceLengthTitle,description:n.performance.report.sentenceLengthDescription,measure:n.performance.report.sentenceLengthMeasure,score:t.sentenceLength}))}},o2Co:function(e,t,n){"use strict";function r(e){return{kind:e.kind,source:e.source,name:e.name,jsonData:JSON.stringify(e.data)}}n.d(t,"a",(function(){return r}))},oLzq:function(e){e.exports=JSON.parse('{"proofitModal":"_d5199d01-proofit-modals-proofitModal","proofitModalBody":"_2909cbe7-proofit-modals-proofitModalBody","proofitOrderModal":"_9aa2aeac-proofit-modals-proofitOrderModal","proofitOrderSuccess":"_94dba52c-proofit-modals-proofitOrderSuccess","proofitExitSurvey":"_7c2079aa-proofit-modals-proofitExitSurvey"}')},oYA0:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.intentCard="intentCard",e.initialActionsList="initialActionsList",e.followUpActionsList="followUpActionsList",e.appActionsList="appActionsList",e.creditsInfoButton="creditsInfoButton",e.promptInput="promptInput",e.promptInputAndMenuContainer="promptInputAndMenuContainer",e.promptMenuContent="promptMenuContent",e.skill="skill",e.referencesList="referencesList",e.historyButton="historyButton",e.historyButtonActive="historyButtonActive",e.toneReport="toneReport"}(r||(r={})),function(e){e.initialPopupAnchor="initialPopupAnchor",e.initialBTSPopupAnchor="initialBTSPopupAnchor",e.rewriteTooltipAnchor="rewriteTooltipAnchor"}(i||(i={}))},oZJ9:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i=n("a5gI"),a=n("B8yO"),o=n("NDcT"),s=n("fC5a"),c=n("wuWi"),l=n("RRF2"),u=n("LzNK"),d=n("jSIJ"),p=(n("8Iss"),n("5d0x")),m=n("OwvP"),f=n("ySi0"),h=(n("v0BD"),n("lqed")),g=function(e){var t=e.children,n=e.icon,r=e.onClose,i=e.className,o=e.onTransitionEnd;return a.createElement(m.a.div,{className:i,onTransitionEnd:o},a.createElement(s.a,{name:"survey-close",className:h.closeIcon,onClick:r},a.createElement(f.d.Close,null)),a.createElement("section",{className:h.imageSection},n),t)},b=(n("/zl3"),n("S6NP")),v=(r={},Object(i._)(r,d.p.FreeClarityAlertsControl,"https://www.surveymonkey.com/r/3ZCHBMP"),Object(i._)(r,d.p.FreeClarityAlertsEnabled,"https://www.surveymonkey.com/r/3ZHVKTS"),Object(i._)(r,d.p.MostActiveUsers,"https://grammarly.qualtrics.com/jfe/form/SV_82Lkzx9EQX37nFA"),Object(i._)(r,d.j.SuperScrollWithAutoJump,"https://www.surveymonkey.com/r/H6TH28M"),Object(i._)(r,d.j.SuperScrollWithoutAutoJump,"https://www.surveymonkey.com/r/H62KVPC"),r),y=function(e){var t=e.surveyType,n=e.onClose,r=e.onRemindLater,i=a.useContext(o.a.Context).survey.newUser,d=a.useContext(u.a.Context),m=d.gnarSpec,f=d.pageId;return a.useEffect((function(){m.surveyPopupShow(f,t)}),[m,f,t]),a.createElement(g,{className:l.c.classes(b.notification,p.z300),onClose:function(){n(),m.closeSurveyButtonClick(f,t)},icon:a.createElement("div",{className:b.designerAvatar})},a.createElement("section",{className:b.contentSection},a.createElement(c.g,{className:b.title},i.title),a.createElement(c.a,{className:b.content},i.content),a.createElement(s.a.Group,{className:b.btnGroup},a.createElement(s.a.Primary,{name:"take-survey",className:b.surveyBtn,onClick:function(){n(),m.takeSurveyButtonClick(f,t)},href:v[t],target:"_blank"},i.takeSurvey),a.createElement(s.a.Caps,{name:"remind-later",onClick:function(){r(),m.remindLaterButtonClick(f,t)}},i.remindLater))))}},osAs:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("8O/t"),i=n("X76w"),a=n("DTwm"),o=n("tiWp"),s=n("xk6L"),c=n("TKPA"),l=n("mgiE"),u=n("Hj2R"),d=n("D2TP");const p=Object(c.b)(u.a.isRegistered,Object(a.not)(u.a.isMuted)),m=e=>t=>Object(c.b)(p,e(t));var f;!function(e){e.create=function(e,t){const n=m(t=>e[t]);return{lensFilters:new Map(Object.entries(e)),alertVisibleInText:e=>m(e=>t[e])(e),alertVisibleInSidebar:n,getLensesFilter:t=>e[t],alertCanBeDisplayed:p,alertIsBulkAcceptable:e=>Object(c.b)(n(e),u.a.isBulkAcceptable)}};const t=e=>t=>e===t.lensId,n=()=>e=>Object(o.pipe)(e.freePremium,l.g.contains("unlocked"));e.getAlertVisibleInTextFilter=function(e,t){return t.pipe(s.a.distinctUntilChanged((e,t)=>e.currentLens.id===t.currentLens.id),s.a.map(t=>({filter:Object(c.p)(e.alertVisibleInText(t.currentLens.id),u.a.isBulkApplied),lensId:t.currentLens.id})))};var h=e.defaultLensFilters={[d.a.SpecialId.Clarity]:t(d.a.SpecialId.Clarity),[d.a.SpecialId.Correctness]:t(d.a.SpecialId.Correctness),[d.a.SpecialId.Delivery]:t(d.a.SpecialId.Delivery),[d.a.SpecialId.Engagement]:t(d.a.SpecialId.Engagement),[d.a.SpecialId.Vox]:t(d.a.SpecialId.Vox),[d.a.SpecialId.KnowledgeHub]:t(d.a.SpecialId.KnowledgeHub),[d.a.SpecialId.FreePremiumAlerts]:Object(c.p)(n(),t(d.a.SpecialId.Premium)),[d.a.SpecialId.Plagiarism]:t(d.a.SpecialId.Plagiarism),[d.a.SpecialId.DraftAI]:a.constFalse,[d.a.SpecialId.Cheetah]:a.constFalse,[d.a.SpecialId.Premium]:t(d.a.SpecialId.Premium),[d.a.SpecialId.AllAlerts]:u.a.belongsToAllAlerts,[d.a.SpecialId.Closed]:a.constFalse,[d.a.SpecialId.PredictionTakeaways]:u.a.belongsToPredictionTakeaways,[d.a.SpecialId.PredictionEmogenie]:u.a.belongsToPredictionEmogenie,[d.a.SpecialId.RealTimeProofit]:t(d.a.SpecialId.RealTimeProofit)};e.defaultTextFilters=Object(i._)(Object(r._)({},h),{[d.a.SpecialId.Closed]:u.a.isInline,[d.a.SpecialId.FreePremiumAlerts]:Object(c.p)(n(),t(d.a.SpecialId.Premium)),[d.a.SpecialId.Premium]:f.defaultLensFilters[d.a.SpecialId.Premium]})}(f||(f={}))},p622:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i,a,o,s,c=n("cZKX"),l=n("DTwm"),u=n("9raK"),d=n("w8H4"),p=n("mgiE"),m=n("l5lb"),f=n("0kuo");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(r||(r={})).getSduiSingleCardTransitions=function(e,t,n){var r=Object(l.pipe)(e,p.g.fold((function(){return-1}),(function(e){return n.compare(e,t)})));switch(r){case-1:return[i.Actions.slideContentLeft,i.Actions.slideTitleLeft];case 1:case 0:return[i.Actions.slideContentRight,i.Actions.slideTitleRight];default:Object(f.c)(r)}},o=i||(i={}),(a=o.Actions||(o.Actions={})).slideContentLeft={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},a.slideTitleLeft={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},a.slideContentRight={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},a.slideTitleRight={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},function(e){var t=function(e){return"cardDSL"in e&&"prevCardDSL"in e&&"transitions"in e};e.isSDUIItem=t;var n=d.a(u.a)(m.b.Content),i=d.a(u.a)(m.b.Action);e.eq=p.c.fromEquals((function(e,r){return t(e)&&t(r)&&p.g.getEq(n).equals(e.cardDSL,r.cardDSL)&&p.g.getEq(n).equals(e.prevCardDSL,r.prevCardDSL)&&c.eb(i).equals(e.transitions,r.transitions)})),e.getOrd=Object(l.flow)(p.g.getOrd,p.h.contramap((function(e){return e.cardDSL})));!function(e){e.getPojoUpdates=function(){return{setSDUIState:function(e,t,n){return function(r){return b(g({},r),{cardDSL:e,prevCardDSL:t,transitions:n})}},setDSL:function(e){return function(t){return b(g({},t),{cardDSL:e,transitions:[]})}}}},e.getSelect=function(e){return function(n,i){return function(a){return Object(l.pipe)(n,p.g.filter(t),p.g.filter((function(e){return p.g.isSome(a.cardDSL)||p.g.isSome(e.cardDSL)})),p.g.map((function(t){return e(a.cardDSL,t.cardDSL,r.getSduiSingleCardTransitions(p.g.some(t),a,i))(a)})),p.g.getOrElse((function(){return a})))}}},e.getCompleteTransition=function(e){return function(n){return t(n)?e(n.cardDSL,p.g.none,[])(n):n}}}(e.Capabilities||(e.Capabilities={}))}(s||(s={}))},p81r:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("DTwm"),o=n("mgiE"),s=n("0kuo"),c=n("TKPA"),l=n("M3t0"),u=n("UK5+"),d=n("Hj2R"),p=n("mEGS"),m=n("hzat");!function(e){e.Impl=class{constructor(e,t,n,r){Object(i._)(this,"_checkingState",void 0),Object(i._)(this,"_positionManager",void 0),Object(i._)(this,"_alertsReader",void 0),Object(i._)(this,"_alertCanBeDisplayed",void 0),Object(i._)(this,"_log",void 0),Object(i._)(this,"findClosestAlertHighlight",void 0),Object(i._)(this,"findNextAlertInText",void 0),Object(i._)(this,"findPremiumAlert",void 0),this._checkingState=e,this._positionManager=t,this._alertsReader=n,this._alertCanBeDisplayed=r,this._log=l.d.Logging.getLogger("AlertSearchService"),this.findClosestAlertHighlight=(e,t)=>Object(a.pipe)(this._positionManager.findClosestToPosition(e,e=>u.a.is(e)&&u.b.isVisible(e)&&!u.b.isApplied(e)&&Object(a.pipe)(this._alertsReader.getRegistered(e.meta.alertId),o.g.exists(n=>this._alertCanBeDisplayed(n)&&t(n)&&n.getHighlightRanges().some(t=>t.meta.id===e.meta.id)))),o.g.chain(e=>Object(a.pipe)(this._alertsReader.getRegistered(e.meta.alertId),o.g.map(t=>{const n={alert:m.a.fromModel(t),highlightIndex:t.getHighlightRanges().findIndex(t=>t.meta.id===e.meta.id)};return n.highlightIndex<0&&(this._log.error("findClosestAlertRange returned a range which doesn't exist in alert.highlightRanges",{alert:n.alert.toString(),range:JSON.stringify(e),positionManagerRanges:JSON.stringify(this._positionManager.findRanges(e=>u.a.is(e)&&e.meta.alertId===t.id)),hasPendingRanges:t.hasNewRangesForUpdate}),n.highlightIndex=0),n})))),this.findNextAlertInText=({alert:e,highlightIndex:t},n)=>{const r=e.getHighlightRanges();return Object(s.f)(t<r.length,"AHI is out of highlightRanges length",`hr length: ${r.length}, ahi: ${t}`),this.findClosestAlertHighlight(r[t].end,n)},this.findPremiumAlert=()=>Object(a.pipe)(this._checkingState.get(),p.a.find(Object(a.flow)(d.a.fromAlertModel,Object(c.b)(d.a.isRegistered,d.a.isPremium))),o.g.map(e=>({alert:m.a.fromModel(e.alert),highlightIndex:0})))}}}(r||(r={}))},pHLr:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return H}));var r=n("8O/t"),i=n("X76w"),a=n("TKPA"),o=n("2swC"),s=n("nWMp"),c=n("fB2g");const l=o.a.CoreGreen10;var u;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.knowledgeHub="alerts-knowledgeHub",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation",e.markVBar="alerts-markVBar",e.markVBarHighlighted="alerts-markVBarHighlighted"}(u||(u={}));const d="alerts-custom",p={backgroundPosition:"center calc(100% + 3px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},m={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},f=s.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),h={standard:`calc(${s.a.rem(.45)} - 4px)`,tall:s.a.rem(.425)},g=e=>({to:{backgroundColor:e}}),b=(e,t=100)=>({borderWidth:"0 0 3px 0",borderImage:s.a.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[s.a.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),v=(e,t,n,a)=>Object(i._)(Object(r._)({$unique:!0},p),{paddingBottom:"1px",borderBottom:"3px solid "+t,transition:"border-bottom-color .5s linear",$nest:Object(i._)(Object(r._)({},p.$nest),{["&."+u.markStart]:b(t),"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${u.markSelected}.${u.markHeightStandard}`]:{paddingTop:h.standard},[`&.${u.markSelected}.${u.markHeightTall}`]:{paddingTop:h.tall},["&."+u.markSelected]:{$unique:!0,borderBottomColor:a,animation:e+" 1s ease forwards",$nest:{["&."+u.markStart]:b(a)}},["&."+u.markSelectedFocused]:{$unique:!0,borderBottomColor:n,$nest:{["&."+u.markStart]:b(n)}},[`&.${u.markSelected} .${u.markBase}:not(.${u.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"},[`&.${u.markSelectedFocused} .${u.markBase}:not(.${u.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"}}}})}),y=s.a.keyframes(g(o.a.CoreRed10)),O=s.a.keyframes(g(o.a.CoreYellow10)),_=s.a.keyframes(g(o.a.CoreCyan10)),C=s.a.keyframes(g(o.a.CorePurple10)),w=s.a.keyframes(g(o.a.CoreNeutral10)),S=s.a.keyframes(g(o.a.CoreNeutral10)),k=s.a.keyframes(g(o.a.CoreBlue10)),E=s.a.keyframes(g(o.a.CoreRed10)),j=s.a.keyframes(g(o.a.CoreYellow10)),x=s.a.keyframes(g(o.a.CoreBlue10)),A=s.a.keyframes(g(o.a.CoreGreen10)),I=s.a.keyframes(g(o.a.CorePurple10)),T=s.a.keyframes(g(o.a.CoreGreen10)),M=e=>{const t=s.a.color(l).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{["&."+u.markHeightStandard]:{paddingTop:h.standard},["&."+u.markHeightTall]:{paddingTop:h.tall}}}},P=e=>({borderBottomColor:"transparent",backgroundColor:s.a.color(l).fade(e).toRGBA().toString()}),N=s.a.keyframes({from:M("100%"),to:M("50%")}),B={borderBottomWidth:"2px",borderBottomColor:""+o.a.CoreNeutral40,borderBottomStyle:"dotted",backgroundColor:"transparent"},L=s.a.keyframes({to:Object(r._)({},M("0%"),B)}),F=s.a.keyframes({from:P("100%"),to:P("50%")}),R={$nest:{["&."+u.markHeightStandard]:{paddingTop:h.standard},["&."+u.markHeightTall]:{paddingTop:h.tall},[`&:not(.${u.markSelected}):not(.${u.markSelectedFocused})`]:{$nest:{[`&.${u.clarity} &.${u.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:o.a.CoreBlue50}}},[`&.${u.correctness}, &.${u.markSelected}, &.${u.markSelectedFocused}`]:{$nest:{[`.${u.markVisible}:not(.${u.markSelected}):not(.${u.markSelectedFocused}).${u.clarity} .${u.markVisible}:not(.${u.markSelected}):not(.${u.markSelectedFocused}).${u.clarity}`]:{}}},["&."+u.clarity]:{$nest:{[`& & &:not(.${u.markSelected}):not(.${u.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},D={borderBottom:"0 solid transparent",background:"none",animation:"none"},H=Object(a.l)(()=>({custom(e,t){const n=s.a.color(e).fade(.25).toRGBA().toString(),r=s.a.keyframes(g(n));return[d,u.markBase,s.a.style(v(r,t,t,n)),c.a.style(v(r,t,t,n),m)].join(" ")},markBase:[u.markBase,s.a.style(p),c.a.style(p,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[u.markAppliedBase,u.markBase,s.a.style({paddingBottom:"1px",borderBottom:"3px solid "+l})].join(" "),correctness:[u.correctness,u.markBase,s.a.style(v(E,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10)),c.a.style(v(E,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10),m)].join(" "),premium:[u.premium,u.markBase,s.a.style(v(j,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10)),c.a.style(v(j,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10),m)].join(" "),clarity:[u.clarity,u.markBase,s.a.style(v(x,o.a.CoreBlue20,o.a.CoreBlue50,o.a.CoreBlue10)),c.a.style(v(x,o.a.CoreBlue20,o.a.CoreBlue50,o.a.CoreBlue10),m)].join(" "),markVisible:[u.markVisible,s.a.style(R),c.a.style(R)].join(" "),engagement:[u.engagement,u.markBase,s.a.style(v(A,o.a.CoreGreen20,o.a.CoreGreen50,o.a.CoreGreen10)),c.a.style(v(A,o.a.CoreGreen20,o.a.CoreGreen50,o.a.CoreGreen10),m)].join(" "),delivery:[u.delivery,u.markBase,s.a.style(v(I,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10)),c.a.style(v(I,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10),m)].join(" "),critical:[u.critical,u.markBase,s.a.style(v(y,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10)),c.a.style(v(y,o.a.CoreRed20,o.a.CoreRed50,o.a.CoreRed10),m)].join(" "),advanced:[u.advanced,u.markBase,s.a.style(v(O,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10)),c.a.style(v(O,o.a.CoreYellow30,o.a.CoreYellow40,o.a.CoreYellow10),m)].join(" "),plagiarism:[u.plagiarism,u.markBase,s.a.style(v(_,o.a.CoreCyan20,o.a.CoreCyan50,o.a.CoreCyan10)),c.a.style(v(O,o.a.CoreCyan20,o.a.CoreCyan50,o.a.CoreCyan10),m)].join(" "),originality:[u.originality,u.markBase,s.a.style(v(C,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10)),c.a.style(v(I,o.a.CorePurple20,o.a.CorePurple50,o.a.CorePurple10),m)].join(" "),vox:[u.vox,u.markBase,s.a.style(v(w,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10)),c.a.style(v(w,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10),m)].join(" "),knowledgeHub:[u.knowledgeHub,u.markBase,s.a.style(v(S,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10)),c.a.style(v(S,o.a.CoreNeutral30,o.a.CoreNeutral50,o.a.CoreNeutral10),m)].join(" "),synonym:[u.synonym,u.markBase,s.a.style(v(k,o.a.CoreBlue50,"transparent",o.a.CoreBlue50)),c.a.style(v(k,o.a.CoreBlue50,"transparent",o.a.CoreBlue50),m)].join(" "),markAnimated:[u.markAnimated,s.a.style({animation:f+" .075s ease"})].join(" "),markHidden:[u.markHidden,s.a.style(D),c.a.style(D)].join(" "),markBulkAppliedAnimation:[u.markBulkAppliedAnimation,u.markBase,s.a.style(M("100%"),B,{animation:`${N} 2s linear forwards,\n          ${L} .25s linear 2s forwards`})].join(" "),markBulkApplied:[u.markBulkApplied,u.markBase,s.a.style(v(T,o.a.CoreNeutral40,o.a.CoreGreen10,o.a.CoreGreen10),B)].join(" "),markApplied:[u.markApplied,s.a.style(M("100%"),{animation:N+" .25s linear forwards"})].join(" "),markSuccess:[u.markSuccess,s.a.style(P("100%"),{animation:F+" .25s linear forwards"})].join(" "),noAnimation:[u.noAnimation,s.a.style({animationDuration:"0s !important"})].join(" "),markSelected:u.markSelected,markSelectedFocused:u.markSelectedFocused,markHeightStandard:u.markHeightStandard,markHeightTall:u.markHeightTall,markStart:u.markStart,markVBar:u.markVBar,markVBarHighlighted:u.markVBarHighlighted}))},pKQL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return C}));var r,i,a,o,s,c,l,u,d,p,m,f,h,g,b,v,y,O,_,C,w,S,k=n("RRF2"),E=n("l5lb"),j=n("w8H4"),x=n("9raK");!function(e){e.isStrongAlertRefComponent=function(e){return"child"in e},e.isStrongAlertRefBehavior=function(e){return!("child"in e)}}(r||(r={})),function(e){e.isStrongAlertRef=function(e){return"strongAlertRef"===e.type},e.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:C.from("strongAlertRef")}}}(i||(i={})),function(e){e.isLongFormCard=function(e){return"longFormCard"===e.type},e.create=function(e,t,n){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:C.from("longFormCard"),behaviors:[o.StrongAlertRef.create(n,[])],feedProperties:{}}}}(a||(a={})),function(e){e.isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},function(e){e.create=function(e,t){return{id:C.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}};e.eq=j.a(x.a)(E.b.BehaviorStrongAlertRef)}(e.StrongAlertRef||(e.StrongAlertRef={})),e.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},function(e){e.create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}};e.nonEmpty=function(e){return!!e.view}}(e.PopoverAnchor||(e.PopoverAnchor={}))}(o||(o={})),function(e){e.create=function(e,t,n,r,i){return{type:"row",left:e,right:t,spacing:n,verticalAlign:r,id:C.from("row"),behaviors:i?[o.PopoverAnchor.create(i,E.a.Position.Top)]:void 0}},e.isRow=function(e){return"row"===e.type}}(s||(s={})),function(e){e.create=function(e){return{type:"column",children:e,id:C.from("column")}}}(c||(c={})),function(e){var t=e.Type="block";e.create=function(e,n,r){for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return{type:t,name:w.unknown(e),parts:a,spacing:n,innerSpacing:r,id:C.from(e)}},e.isBlock=function(e){return e.type===t},e.hasOnlyTextParts=function(e){return e.parts.every(u.isText)}}(l||(l={})),function(e){var t=e.Type="text";e.create=function(e,n,r,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return{type:t,text:e,size:n,format:r,textColor:i,backgroundColor:a,outlineColor:o,id:C.from(t),meta:s}},e.isText=function(e){return e.type===t}}(u||(u={})),function(e){e.create=function(e,t){return{label:e,preview:t}}}(d||(d={})),function(e){e.create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:"alternativeChoice",alternatives:n,id:C.from("alternativeChoice"),meta:e}}}(p||(p={})),function(e){e.create=function(e,t){return{type:"viewStack",id:C.from("ViewStack"),views:t,selected:e}}}(m||(m={})),function(e){var t=e.Type="button";!function(e){e.isTransitionAction=function(e){return"transition"===e.type},e.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},e.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}}}(e.Action||(e.Action={})),e.isButton=function(e){return"button"===e.type},e.create=function(e,n,r,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:E.a.ButtonShape.Square,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},d=C.from(e);return{type:t,id:d,name:w.unknown(e),tooltip:a,kind:i,state:E.a.ButtonState.Enabled,label:{type:l.Type,name:w.unknown(""),parts:[u.create(n,E.a.TextSize.Regular,[],E.a.Color.CoreNeutral0,void 0,void 0)],spacing:o,id:C.from("label-button-"+d)},actions:r,shape:s,meta:c}},e.createIcon=function(e,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:E.a.ButtonShape.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=C.from(e),u="icon-button-"+e;return{type:t,id:c,name:w.unknown(e),tooltip:a,kind:i,state:E.a.ButtonState.Enabled,label:{type:l.Type,name:w.unknown(u),spacing:g.create("0","0.25","0","0.25"),parts:[h.create(n,void 0)],id:C.from(u)},actions:r,shape:o,meta:s}}}(f||(f={})),function(e){var t=e.Type="icon";!function(e){e.createKnown=function(e){return{kind:"known",name:e}},e.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}}}(e.Source||(e.Source={})),e.create=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:t,source:e,backgroundColor:n,id:C.from(t),meta:r}}}(h||(h={})),function(e){e.create=function(e,t,n,r){return{top:e,bottom:n,left:r,right:t}}}(g||(g={})),function(e){e.create=function(e,t){return{vertical:t,horizontal:e}}}(b||(b={})),function(e){var t=e.Type="count";e.create=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"count",backgroundColor:n,value:e,id:C.from(t),meta:r}}}(v||(v={})),function(e){!function(e){e.create=function(e,t,n){return{type:"sliderChoice",id:C.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:C.from("slider"),meta:r}}}(y||(y={})),function(e){!function(e){e.create=function(e,t,n,r){return{id:C.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:r}}}(e.Choice||(e.Choice={})),e.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:C.from("alternativeSlider"),meta:r}}}(O||(O={})),function(e){e.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:C.from("list"),meta:t}},function(e){e.create=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:C.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:r,meta:i}}}(e.Item||(e.Item={}))}(_||(_={})),function(e){e.from=function(e){return e+"#"+k.f.alphanumeric(6)}}(C||(C={})),function(e){e.unknown=function(e){return{kind:"unknown",value:e}}}(w||(w={})),function(e){e.create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},e.createView=function(e,t,n,r){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:r||k.f.alphanumeric(3)}}}}(S||(S={}))},pPF5:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n.n(o),c=n("zCOz"),l=n("TtyI"),u=n("Q2+j"),d=n("M+v9"),p=n("1klt"),m=n("lme1"),f=n("ThYs");function h(e){let{state:t,triggerRef:n,label:r,name:i,isDisabled:a}=e,{containerProps:o,inputProps:c,selectProps:l}=function(e,t,n){let{autoComplete:r,name:i,isDisabled:a}=e,o=(0,u.j)(),{visuallyHiddenProps:s}=(0,f.b)();var c;return{containerProps:{...s,"aria-hidden":!0},inputProps:{type:"text",tabIndex:null==o||t.isFocused||t.isOpen?-1:0,style:{fontSize:16},onFocus:()=>n.current.focus(),disabled:a},selectProps:{tabIndex:-1,autoComplete:r,disabled:a,name:i,size:t.collection.size,value:null!==(c=t.selectedKey)&&void 0!==c?c:"",onChange:e=>t.setSelectedKey(e.target.value)}}}(e,t,n);var d;return t.collection.size<=300?s.a.createElement("div",o,s.a.createElement("input",c),s.a.createElement("label",null,r,s.a.createElement("select",l,s.a.createElement("option",null),[...t.collection.getKeys()].map(e=>{let n=t.collection.getItem(e);if("item"===n.type)return s.a.createElement("option",{key:n.key,value:n.key},n.textValue)})))):i?s.a.createElement("input",{type:"hidden",autoComplete:l.autoComplete,name:i,disabled:a,value:null!==(d=t.selectedKey)&&void 0!==d?d:""}):null}var g=n("8TGn"),b=n("tREI"),v=n("6K6r"),y=n("huq3");var O=n("09dI"),_=n("4GyQ"),C=n("OwvP"),w=n("yIk2"),S=n("xk6L");const k=new WeakMap;function E(e,t){let n=k.get(e);if(!n)throw new Error("Unknown list");return`${n.id}-option-${r=t,"string"==typeof r?r.replace(/\s*/g,""):""+r}`;var r}var j=n("nWMp"),x=n("sX1a");const A=e=>{var{state:t,theme:n={}}=e,s=Object(a._)(e,["state","theme"]);const d=o.useRef(null),{listBoxProps:m}=function(e,t,n){let r=(0,c.b)(e,{labelable:!0}),{listProps:i}=(0,l.d)({...e,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys}),{focusWithinProps:a}=(0,u.g)({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),o=(0,c.v)(e.id);k.set(t,{id:o,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction});let{labelProps:s,fieldProps:d}=(0,p.b)({...e,id:o,labelElementType:"span"});return{labelProps:s,listBoxProps:(0,c.l)(r,a,"multiple"===t.selectionManager.selectionMode?{"aria-multiselectable":"true"}:{},{role:"listbox",...(0,c.l)(d,i)})}}(s,t,d);return o.createElement("ul",Object(i._)(Object(r._)({},m),{ref:d,className:n.listbox}),[...Array.from(t.collection)].map(e=>o.createElement(I,{key:e.key,item:e,state:t,theme:n.option})))},I=({item:e,state:t,theme:n={}})=>{const a=o.useRef(null),{optionProps:s,isDisabled:d}=function(e,t,n){let{key:r}=e,i=k.get(t);var a;let o=null!==(a=e.isDisabled)&&void 0!==a?a:t.disabledKeys.has(r);var s;let d=null!==(s=e.isSelected)&&void 0!==s?s:t.selectionManager.isSelected(r);var p;let m=null!==(p=e.shouldSelectOnPressUp)&&void 0!==p?p:null==i?void 0:i.shouldSelectOnPressUp;var f;let h=null!==(f=e.shouldFocusOnHover)&&void 0!==f?f:null==i?void 0:i.shouldFocusOnHover;var g;let v=null!==(g=e.shouldUseVirtualFocus)&&void 0!==g?g:null==i?void 0:i.shouldUseVirtualFocus;var y;let O=null!==(y=e.isVirtualized)&&void 0!==y?y:null==i?void 0:i.isVirtualized,_=(0,c.z)(),C=(0,c.z)(),w={role:"option","aria-disabled":o||void 0,"aria-selected":"none"!==t.selectionManager.selectionMode?d:void 0};if((0,c.g)()&&(0,c.k)()||(w["aria-label"]=e["aria-label"],w["aria-labelledby"]=_,w["aria-describedby"]=C),O){var S;let e=Number(null===(S=t.collection.getItem(r))||void 0===S?void 0:S.index);w["aria-posinset"]=Number.isNaN(e)?void 0:e+1,w["aria-setsize"]=(0,b.f)(t.collection)}let{itemProps:j,isPressed:x,isFocused:A,hasAction:I,allowsSelection:T}=(0,l.c)({selectionManager:t.selectionManager,key:r,ref:n,shouldSelectOnPressUp:m,allowsDifferentPressOrigin:m&&h,isVirtualized:O,shouldUseVirtualFocus:v,isDisabled:o,onAction:(null==i?void 0:i.onAction)?()=>{var e;return null==i||null===(e=i.onAction)||void 0===e?void 0:e.call(i,r)}:void 0}),{hoverProps:M}=(0,u.h)({isDisabled:o||!h,onHoverStart(){(0,u.c)()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(r))}});return{optionProps:{...w,...(0,c.l)(j,M),id:E(t,r)},labelProps:{id:_},descriptionProps:{id:C},isFocused:A,isFocusVisible:A&&(0,u.c)(),isSelected:d,isDisabled:o,isPressed:x,allowsSelection:T,hasAction:I}}({key:e.key},t,a);return o.createElement(x.Typography,Object(r._)(Object(i._)(Object(r._)({nodeType:"li",styleType:x.Typography.Type.Base},s),{"aria-label":e["aria-label"],mount:a}),Object(_.c)("string"==typeof e.rendered?n.text:n.composite,d?T.optionDisabled:void 0,T.option)),e.rendered)},T=j.a.stylesheet({option:[{cursor:"pointer"}],optionDisabled:[{cursor:"not-allowed",opacity:.4}]});var M=n("uLrj");const P={display:"flex",flexDirection:"column",position:"relative",gap:j.a.rem(O.o.Space.Space1)},N={appearance:"none",position:"relative",cursor:"pointer",display:"flex",boxSizing:"border-box",flexDirection:"row",alignItems:"center",padding:`${j.a.rem(O.o.Space.Space1)} ${j.a.rem(O.o.Space.Space8)} ${j.a.rem(O.o.Space.Space1)} ${j.a.rem(O.o.Space.Space3)}`,gap:j.a.rem(O.o.Space.Space3),minWidth:"max-content",width:j.a.percent(100),height:j.a.rem(2),background:O.o.SemanticColor.Color.Background.Base.Default,border:"1px solid "+O.o.SemanticColor.Color.Background.Neutral.Default,borderRadius:j.a.rem(O.o.Radius.Radius1),lineHeight:j.a.rem(1.375),color:O.o.SemanticColor.Color.Text.Base.Default,$nest:{"&:active":{borderColor:O.o.SemanticColor.Color.Background.Brand.Default},"&[disabled]":{opacity:.4,cursor:"not-allowed"},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${O.o.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${O.o.SemanticColor.Color.Background.Brand.Default}`,outline:j.a.important("none"),zIndex:j.d.level1}}},B={borderColor:O.o.SemanticColor.Color.Background.Brand.Default},L={borderColor:O.o.SemanticColor.Color.Background.Critical.Default,$nest:{"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${O.o.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${O.o.SemanticColor.Color.Background.Critical.Default}`,outline:j.a.important("none"),zIndex:j.d.level1}}},F={position:"absolute",right:j.a.rem(O.o.Space.Space1),top:j.a.rem(O.o.Space.Space1),$nest:{"$ path":{fill:O.o.SemanticColor.Color.Background.Neutral.Default}}},R={color:O.o.SemanticColor.Color.Background.Critical.Default},D={display:"flex",flexDirection:"column",gap:j.a.rem(O.o.Space.Space1),margin:0,listStyle:"none",overflow:"auto",outline:j.a.important("none"),width:j.a.percent(100),padding:j.a.rem(O.o.Space.Space1)+" 0"},H={padding:j.a.rem(O.o.Space.Space2),gap:j.a.rem(O.o.Space.Space2)},V={padding:`${j.a.rem(O.o.Space.Space1)} ${j.a.rem(O.o.Space.Space3)}`,$nest:{'&[aria-selected="true"], &[aria-selected="true"]:hover, &[aria-selected="true"]:focus-visible':{background:O.o.SemanticColor.Color.Background.Brand.Default,color:O.o.SemanticColor.Color.Text.Base.Inverse,outline:j.a.important("none")},'&[aria-selected="false"]:focus, &[aria-selected="false"]:focus-visible, &[aria-selected="false"]:hover':{background:O.o.SemanticColor.Color.Background.Base.Subdued,outline:j.a.important("none")}}},U={borderRadius:j.a.rem(O.o.Radius.Radius1),$nest:{'&[aria-selected="true"], &:focus, &:focus-visible':{boxShadow:`0 0 0 1px ${O.o.SemanticColor.Color.Background.Base.Default}, 0 0 0 3px ${O.o.SemanticColor.Color.Background.Brand.Default}`,outline:j.a.important("none"),zIndex:j.d.level1}}},W={zIndex:j.d.level1},z=j.a.stylesheet({selectWrapper:[P],select:[N],selectGhost:[N,{border:"none",padding:0,height:"max-content"}],activeSelect:[N,B],errorSelect:[N,L],caret:[F],error:[R],listbox:[D],listboxPadded:[D,H],textOption:[V],compositeOption:[U],nativeCaret:[F,W],nativeSelectWrapper:[{position:"relative"}]});var G;!function(e){e.Item=b.a;function t(e){var{placement:t,placeholder:s,theme:f={},type:b="select",error:C}=e,w=Object(a._)(e,["placement","placeholder","theme","type","error"]);const S=function(e){let t=(0,v.a)(e),n=(0,y.b)({...e,onSelectionChange:n=>{null!=e.onSelectionChange&&e.onSelectionChange(n),t.close()}}),[r,i]=(0,o.useState)(!1);return{...n,...t,open(){0!==n.collection.size&&t.open()},toggle(e){0!==n.collection.size&&t.toggle(e)},isFocused:r,setFocused:i}}(w),k=o.useRef(null),{labelProps:E,triggerProps:j,valueProps:I,menuProps:T}=function(e,t,n){let{keyboardDelegate:r,isDisabled:i}=e,a=(0,d.a)({usage:"search",sensitivity:"base"}),s=(0,o.useMemo)(()=>r||new(0,l.a)(t.collection,t.disabledKeys,null,a),[r,t.collection,t.disabledKeys,a]),{menuTriggerProps:f,menuProps:h}=(0,m.d)({isDisabled:i,type:"listbox"},t,n),{typeSelectProps:g}=(0,l.e)({keyboardDelegate:s,selectionManager:t.selectionManager,onTypeSelect(e){t.setSelectedKey(e)}}),{labelProps:b,fieldProps:v,descriptionProps:y,errorMessageProps:O}=(0,p.a)({...e,labelElementType:"span"});g.onKeyDown=g.onKeyDownCapture,delete g.onKeyDownCapture;let _=(0,c.b)(e,{labelable:!0}),C=(0,c.l)(g,f,v),w=(0,c.v)();return{labelProps:{...b,onClick:()=>{e.isDisabled||(n.current.focus(),(0,u.d)("keyboard"))}},triggerProps:(0,c.l)(_,{...C,isDisabled:i,onKeyDown:(0,c.a)(C.onKeyDown,e=>{switch(e.key){case"ArrowLeft":{e.preventDefault();let n=null!=t.selectedKey?s.getKeyAbove(t.selectedKey):s.getFirstKey();n&&t.setSelectedKey(n);break}case"ArrowRight":{e.preventDefault();let n=null!=t.selectedKey?s.getKeyBelow(t.selectedKey):s.getFirstKey();n&&t.setSelectedKey(n);break}}},e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[w,C["aria-labelledby"],C["aria-label"]&&!C["aria-labelledby"]?C.id:null].filter(Boolean).join(" "),onFocus(n){t.isFocused||(e.onFocus&&e.onFocus(n),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(n){t.isOpen||(e.onBlur&&e.onBlur(n),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:w},menuProps:{...h,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,onBlur:n=>{n.currentTarget.contains(n.relatedTarget)||(e.onBlur&&e.onBlur(n),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[v["aria-labelledby"],C["aria-label"]&&!v["aria-labelledby"]?C.id:null].filter(Boolean).join(" ")},descriptionProps:y,errorMessageProps:O}}(w,S,k),{buttonProps:P}=Object(g.a)(j,k),N=Object(c.l)(P,j),{onPress:B,onPressStart:L,isDisabled:F}=N,R=Object(a._)(N,["onPress","onPressStart","isDisabled"]),D=P.id+"-error";var H,V;return o.createElement("div",Object(i._)(Object(r._)({},Object(_.c)(z.selectWrapper,f.wrapper)),{"data-name":w.name}),Boolean(w.label)&&o.createElement(x.Typography,Object(r._)({styleType:x.Typography.Type.Base,nodeType:"label"},E),w.label),o.createElement(h,{state:S,triggerRef:k,label:w.label,name:w.name}),o.createElement("button",Object(i._)(Object(r._)({},Object(_.c)("select"===b?Boolean(C)?z.errorSelect:S.isOpen?z.activeSelect:z.select:z.selectGhost,f.button),R),{disabled:F,"aria-describedby":Boolean(C)?D:void 0,ref:k}),o.createElement(x.Typography,Object(r._)({styleType:x.Typography.Type.Base,nodeType:"div"},I),null!=S.selectedItem?S.selectedItem.rendered:s),"select"===b&&o.createElement(O.j,{className:z.caret})),o.createElement(n,{id:D},C),S.isOpen&&o.createElement(M.a,{state:S,triggerRef:k,placement:t,className:f.popover},o.createElement(A,Object(i._)(Object(r._)({},T),{state:S,theme:{listbox:null!==(H=f.listbox)&&void 0!==H?H:"select"===b?z.listbox:z.listboxPadded,option:null!==(V=f.option)&&void 0!==V?V:{text:z.textOption,composite:z.compositeOption}}}))))}e.LiftedComponent=function(e){return Object(_.d)(t)(e)},e.Component=t;e.NativeComponent=e=>{var{label:t,children:s,error:c}=e,l=Object(a._)(e,["label","children","error"]);const u=l.id+"-error",d=w.b.toObservable(c);return o.createElement(C.a.div,{className:z.selectWrapper},o.createElement(x.Typography,{nodeType:"label",styleType:x.Typography.Type.Base,htmlFor:l.id},t),o.createElement("div",{className:z.nativeSelectWrapper},o.createElement(O.j,{className:z.nativeCaret}),o.createElement(x.Typography,Object(i._)(Object(r._)({nodeType:"select",styleType:x.Typography.Type.Base},l),{"aria-invalid":Boolean(c),"aria-errormessage":Boolean(c)?u:void 0,className:Boolean(c)?z.errorSelect:z.select}),s)),d.pipe(S.a.map(e=>o.createElement(n,{id:u},e))))};const n=({id:e,children:t})=>Boolean(t)?o.createElement(x.Typography,{styleType:x.Typography.Type.Small,nodeType:"div",id:e,className:z.error,"aria-live":"assertive"},t):null}(G||(G={}))},pQHw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var r={prod:"grammarly.com",preprod:"ppgr.io",qa:"qagr.io"};t.config=function(e){var t=r[e];return{url:{properties:"https://properties."+t,treatment:"https://treatment."+t,gates:"https://gates."+t}}}},pQeY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("B8yO"),a=n("DTwm"),o=n("OwvP"),s=n("111I"),c=n("xk6L"),l=n("JcQk"),u=n("LqiM"),d=n("N5Ay"),p=n("jEie");!function(e){e.Card=e=>s.b.Node.make(({view:t})=>{const n=t("view");return i.createElement(o.a.Fragment,null,n.pipe(c.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),c.a.map(r=>i.createElement(d.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},a=>i.createElement(u.a.Card,{mount:a,miniCard:i.createElement(l.a.Mini,{card:n,actions:e}),fullCard:i.createElement(l.a.Full,{card:n,actions:e}),successCard:i.createElement(l.a.Success,{cardData:r,isLastCard:t("isLastCard"),actions:e}),feedbackForm:i.createElement(l.a.FeedbackForm,{cardData:r,actions:e}),actions:e,card:r,mutedCard:i.createElement(l.a.MutedAlert,{cardData:r,actions:e})})))))}),e.DenaliCardWrapper=s.b.Grid.make(({slots:e,view:t})=>i.createElement(o.a.div,{className:Object(a.pipe)(t("layoutDensity"),c.a.map(e=>Object(p.a)(e).container))},e.children))}(r||(r={}))},pjeB:function(e){e.exports=JSON.parse('{"leftSidebar":"_30784b8d-document_settings-leftSidebar","documentSettings":"_70c2ea48-document_settings-documentSettings","documentSettingsExpanded":"_348ade1e-document_settings-documentSettingsExpanded _70c2ea48-document_settings-documentSettings","scrollableContent":"_870aad65-document_settings-scrollableContent","toolbar":"_fb8600bc-document_settings-toolbar","toolbarCollapsed":"_5a636762-document_settings-toolbarCollapsed _fb8600bc-document_settings-toolbar","toolbarExpanded":"_15e661ea-document_settings-toolbarExpanded _fb8600bc-document_settings-toolbar","expandButtonContainer":"_3dbbc993-document_settings-expandButtonContainer","expandButtonAnimationWrapper":"_237cd7aa-document_settings-expandButtonAnimationWrapper","expandButtonHiddenWhenSmall":"_d0325687-document_settings-expandButtonHiddenWhenSmall","expandButtonAnimationWrapperExpanded":"_9d895033-document_settings-expandButtonAnimationWrapperExpanded _237cd7aa-document_settings-expandButtonAnimationWrapper","expandButtonSquashedWhenSmall":"_291e4f38-document_settings-expandButtonSquashedWhenSmall","expandButtonSquashed":"_136e4ceb-document_settings-expandButtonSquashed","expandButtonAnimationWrapperCollapsed":"_1f325472-document_settings-expandButtonAnimationWrapperCollapsed _237cd7aa-document_settings-expandButtonAnimationWrapper","expandButton":"_ed94873c-document_settings-expandButton","expandButtonSeparator":"_91626db4-document_settings-expandButtonSeparator","expandButtonInlineAnimation":"_2974ca1c-document_settings-expandButtonInlineAnimation","formattingMenu":"_fb7efb85-document_settings-formattingMenu","toolbarSupportButton":"_6d6371bd-document_settings-toolbarSupportButton","separator":"_8dab8e44-document_settings-separator","menuButtonWrapper":"_ff4e87bc-document_settings-menuButtonWrapper","menuButton":"_333197d8-document_settings-menuButton","menuTitle":"_5651fbaa-document_settings-menuTitle","menuText":"_cdf812a7-document_settings-menuText","label":"_8ab3b40d-document_settings-label","icon":"_917fdd2e-document_settings-icon","header":"_8fae830c-document_settings-header","headerText":"_9d1b94f9-document_settings-headerText","userNameHeader":"_d6f0c040-document_settings-userNameHeader _8fae830c-document_settings-header","userName":"_065afd9b-document_settings-userName","emailHeader":"_08a25b52-document_settings-emailHeader _8fae830c-document_settings-header","email":"_c5de6f5a-document_settings-email","menuHead":"_f564a3b5-document_settings-menuHead","closeButtonWrapper":"_d0ae08ac-document_settings-closeButtonWrapper","closeButtonWrapperExpanded":"_9afd9458-document_settings-closeButtonWrapperExpanded _d0ae08ac-document_settings-closeButtonWrapper","closeButtonWrapperCollapsed":"_95e072ff-document_settings-closeButtonWrapperCollapsed _d0ae08ac-document_settings-closeButtonWrapper","closeButton":"_59e89c2a-document_settings-closeButton _333197d8-document_settings-menuButton","closeButtonExpanded":"_186e70b6-document_settings-closeButtonExpanded _59e89c2a-document_settings-closeButton _333197d8-document_settings-menuButton","closeButtonCollapsed":"_0c2e3bfd-document_settings-closeButtonCollapsed _59e89c2a-document_settings-closeButton _333197d8-document_settings-menuButton","closeButtonTitleExpanded":"_0471cda7-document_settings-closeButtonTitleExpanded _5651fbaa-document_settings-menuTitle","closeButtonTitleCollapsed":"_79f093fd-document_settings-closeButtonTitleCollapsed _5651fbaa-document_settings-menuTitle","oneItemContainer":"_5348c61e-document_settings-oneItemContainer _ff4e87bc-document_settings-menuButtonWrapper","accountHeaderLabel":"_4f2bb3ef-document_settings-accountHeaderLabel","freeLabel":"_ef00e5e1-document_settings-freeLabel _4f2bb3ef-document_settings-accountHeaderLabel","iconCollapsed":"_20d57042-document_settings-iconCollapsed","iconExpanded":"_e6b5ae1d-document_settings-iconExpanded","closeIconCollapsed":"_0f6dd75f-document_settings-closeIconCollapsed _917fdd2e-document_settings-icon _20d57042-document_settings-iconCollapsed","closeIconExpanded":"_8f766e5d-document_settings-closeIconExpanded _917fdd2e-document_settings-icon _e6b5ae1d-document_settings-iconExpanded","languageSettings":"_f7d15859-document_settings-languageSettings","dropdownContainer":"_87fcffd9-document_settings-dropdownContainer","dropdownList":"_5a73e20d-document_settings-dropdownList","languageButtonsWrapper":"_eaa29128-document_settings-languageButtonsWrapper","onboardingSpot":"_d46f3fce-document_settings-onboardingSpot","selectedLanguageIcon":"_888bd6be-document_settings-selectedLanguageIcon","dialect":"_572ff01e-document_settings-dialect"}')},pwUd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("0kuo");!function(e){let t;!function(e){e.close="close",e.tryItOut="tryItOut",e.mount="mount"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(r||(r={})),Object(i.d)(void 0)},pzag:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreatmentService=t.ExperimentType=void 0;var a=n("pQHw"),o=n("leaS"),s=n("Oegb");!function(e){e.experiment="experiment",e.gate="gate"}(t.ExperimentType||(t.ExperimentType={}));var c=function(e){return e.groupName+":"+e.userId+":"+e.experimentId},l=function(){function e(e,t,n,r){this._persistentStorageOpts=r,this.type="experiment",this._throttleLogs=new Map,this._sentLogs={},this._httpClient=new o.HttpClient(e,t),this._treatmentUrl=a.config(n).url.treatment+"/treatment"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._treatmentUrl+"/get",n=e,[4,this._httpClient.post(t,n)];case 1:if(r=i.sent(),s.validateTreatmentsWithType(r))return[2,r];throw new Error("Did not get valid treatments")}}))}))},e.prototype.logTreatment=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._checkShouldThrottle(e)||this._checkSent(e)?[2]:[4,this._sendLogTreatment(e)];case 1:return t.sent(),this._setSentLogs(e),[2]}}))}))},e.prototype.refresh=function(){this._throttleLogs.clear()},e.prototype.initSentLogsStorage=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:if(!this._persistentStorageOpts)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._persistentStorageOpts.get(this._sentLogsStorageKey)];case 2:return e=r.sent()||{},t=new Set(this._persistentStorageOpts.experimentNames),Object.entries(e).forEach((function(e){var r=e[0],i=e[1];t.has(r)&&n._updateSentLogs(r,i)})),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_sentLogsStorageKey",{get:function(){var t;return e.STORAGE_KEY_PREFIX+(null===(t=this._persistentStorageOpts)||void 0===t?void 0:t.clientName)},enumerable:!1,configurable:!0}),e.prototype._checkShouldThrottle=function(e){var t=c(e),n=this._throttleLogs.get(e.experimentName)===t;return n||this._throttleLogs.set(e.experimentName,t),n},e.prototype._checkSent=function(e){var t=c(e);return this._sentLogs[e.experimentName]===t},e.prototype._setSentLogs=function(e){var t=c(e);this._updateSentLogs(e.experimentName,t,!0)},e.prototype._updateSentLogs=function(e,t,n){void 0===n&&(n=!1),(n||void 0===this._sentLogs[e])&&(this._sentLogs[e]=t),n&&this._persistSentLogs()},e.prototype._persistSentLogs=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._persistentStorageOpts?[4,this._persistentStorageOpts.set(this._sentLogsStorageKey,this._sentLogs)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e.prototype._sendLogTreatment=function(e){var t=this._treatmentUrl+"/log";return this._httpClient.post(t,e)},e.STORAGE_KEY_PREFIX="TreatmentServiceStorage_",e}();t.TreatmentService=l},pztc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r,i=n("yNCY"),a=n("B8yO");!function(e){e.Context=a.createContext(i.a.invariantContent("AlertRefState"))}(r||(r={}));var o=function(e){var t=e.children,n=e.alertIds;return a.createElement(r.Context.Provider,{value:{alertIds:n}},t)}},r53K:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l}));var r=n("QpYi"),i=n("xk6L");function a(e,t=3){if(e&&t>0){const n=function(e){const t=(null===(i=null===(r=(n=e).ownerDocument)||void 0===r?void 0:r.defaultView)||void 0===i?void 0:i.getComputedStyle(n))||null;var n,r,i;return t?"auto"===t.overflow||"scroll"===t.overflow||"auto"===t.overflowY||"scroll"===t.overflowY||"auto"===t.overflowX||"scroll"===t.overflowX:null}(e);return n?e:null===n?null:a(null==e?void 0:e.parentElement,t-1)}return null}function o(e){var t,n;return null===(n=(null===(t=e.activeElement)||void 0===t?void 0:t.shadowRoot)||e)||void 0===n?void 0:n.activeElement}function s(e){return e instanceof HTMLElement}const c=["b","i"];function l(e,t=c){return"string"==typeof e?{dangerouslySetInnerHTML:{__html:Object(r.sanitize)(e,{ALLOWED_TAGS:Array.from(t)})}}:{dangerouslySetInnerHTML:e.pipe(i.a.map(e=>({__html:Object(r.sanitize)(e,{ALLOWED_TAGS:Array.from(t)})})))}}},r6Tt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("mgiE");!function(e){let t,n;!function(e){e.Retain="retain",e.Delete="delete",e.Insert="insert"}(t=e.Type||(e.Type={})),e.isDelete=function(e){return e.type===r.Type.Delete},e.isInsert=function(e){return e.type===r.Type.Insert},function(e){e.eq=i.c.getStructEq({type:i.c.eqString,textChunk:i.c.eqString})}(n=e.NoInvert||(e.NoInvert={}))}(r||(r={}))},r7ur:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("DTwm"),c=n("tiWp"),l=n("6ar+"),u=n("0Qjk"),d=n("mgiE"),p=n("0kuo"),m=n("M3t0"),f=n("xk6L"),h=n("BPEm");class g{get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}constructor(e,t,n,r,s){Object(i._)(this,"_capi",void 0),Object(i._)(this,"events",void 0),Object(i._)(this,"_documentContextHolder",void 0),Object(i._)(this,"_dialectSettings",void 0),Object(i._)(this,"_log",void 0),Object(i._)(this,"_subs",void 0),Object(i._)(this,"pushChanges",void 0),Object(i._)(this,"_warnOnCommandFail",void 0),Object(i._)(this,"setSessionOption",void 0),Object(i._)(this,"resetReconnectInfo",void 0),Object(i._)(this,"sendFeedback",void 0),Object(i._)(this,"requestDocStats",void 0),Object(i._)(this,"requestSynonyms",void 0),Object(i._)(this,"requestSnippets",void 0),Object(i._)(this,"requestWritingExpert",void 0),Object(i._)(this,"shortenItSubmit",void 0),Object(i._)(this,"enablePlagiarismSearch",void 0),Object(i._)(this,"disablePlagiarismSearch",void 0),Object(i._)(this,"realtimeProofitSubmit",void 0),Object(i._)(this,"realtimeProofitCancel",void 0),Object(i._)(this,"submitRecipients",void 0),Object(i._)(this,"submitScoreSurveyResult",void 0),Object(i._)(this,"submitSurvey",void 0),Object(i._)(this,"sendUserAction",void 0),Object(i._)(this,"sendDebugReport",void 0),Object(i._)(this,"ping",void 0),Object(i._)(this,"getText",void 0),Object(i._)(this,"close",void 0),Object(i._)(this,"isClosed",void 0),Object(i._)(this,"updateContextInfo",void 0),Object(i._)(this,"setContext",void 0),Object(i._)(this,"published",void 0),Object(i._)(this,"enqueueExternalCommand",void 0),Object(i._)(this,"registerExternalMessageHandler",void 0),this._capi=e,this.events=t,this._documentContextHolder=n,this._dialectSettings=r,this._log=m.d.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this.pushChanges=e=>Object(c.pipe)(this._capi.pushChanges(e),d.l.mapLeft(e=>(this._log.warn("Failed to push changes",e),e))),this._warnOnCommandFail=e=>Object(c.pipe)(e,d.l.fold(e=>(this._log.warn("CAPI command failed",e),d.l.left(e)),e=>d.l.right(e))),this.setSessionOption=e=>Object(c.pipe)(this._capi.setSessionOption(e),this._warnOnCommandFail),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>Object(c.pipe)(this._capi.sendFeedback(e),this._warnOnCommandFail),this.requestDocStats=Object(c.pipe)(this._capi.requestDocStats,this._warnOnCommandFail),this.requestSynonyms=(e,t)=>Object(c.pipe)(this._capi.requestSynonyms(e,t),this._warnOnCommandFail),this.requestSnippets=e=>Object(c.pipe)(this._capi.requestSnippets(e),this._warnOnCommandFail),this.requestWritingExpert=()=>Object(c.pipe)(this._capi.requestWritingExpert(),this._warnOnCommandFail),this.shortenItSubmit=e=>Object(c.pipe)(this._capi.shortenItSubmit(e),this._warnOnCommandFail),this.enablePlagiarismSearch=Object(c.pipe)(this._capi.enablePlagiarismSearch,this._warnOnCommandFail),this.disablePlagiarismSearch=Object(c.pipe)(this._capi.disablePlagiarismSearch,this._warnOnCommandFail),this.realtimeProofitSubmit=e=>Object(c.pipe)(this._capi.realtimeProofitSubmit(e),this._warnOnCommandFail),this.realtimeProofitCancel=Object(c.pipe)(this._capi.realtimeProofitCancel,this._warnOnCommandFail),this.submitRecipients=e=>Object(c.pipe)(this._capi.submitRecipients(e),this._warnOnCommandFail),this.submitScoreSurveyResult=(e,t)=>Object(c.pipe)(this._capi.submitScoreSurveyResult(e,t),this._warnOnCommandFail),this.submitSurvey=e=>Object(c.pipe)(this._capi.submitSurvey(e),this._warnOnCommandFail),this.sendUserAction=(e,t)=>Object(c.pipe)(this._capi.sendUserAction(e,t),this._warnOnCommandFail),this.sendDebugReport=(e,t)=>Object(c.pipe)(this._capi.sendDebugReport(e,t),this._warnOnCommandFail),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>Object(c.pipe)(this._capi.updateContextInfo(e),this._warnOnCommandFail),this.setContext=e=>Object(c.pipe)(this._capi.setContext(e),this._warnOnCommandFail),this.published=()=>Object(c.pipe)(this._capi.published(),this._warnOnCommandFail),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._subs.push(this._dialectSettings.dialectOrDefault.subscribe(e=>this._documentContextHolder.updateContext(Object(o._)(Object(a._)({},this._documentContextHolder.context.get()),{dialect:d.g.some(e)}))),this._documentContextHolder.context.pipe(f.a.skip(1)).subscribe(t=>{d.l.toPromise(e.setSessionOption({kind:u.a.CAPISessionOptionType.Context,context:t}))})),this._subs.push(this.events.subscribe(t=>{"finish"===t.kind?d.g.isNone(this._dialectSettings.dialect.get())&&h.a.isDialectString(t.dialect)&&this._dialectSettings.setDialectWeak(t.dialect):"session_started"===t.kind&&(this._documentContextHolder.updateDefaultContext(t.defaultDocumentContext),s.getContainerId().then(t=>{setTimeout(()=>d.l.toPromise(e.setSessionOption({kind:u.a.CAPISessionOptionType.GnarContainerId,id:t})).catch(e=>{this._log.warn("Can not send user container id",e)}),5e3)}).catch(e=>{this._log.warn("Can not get container id",e)}))}))}}!function(e){const t=d.l.rightIO(l.a);e.Mock=class{constructor(e=!1){Object(i._)(this,"_sduiV2",void 0),Object(i._)(this,"events",void 0),Object(i._)(this,"feedbacks",void 0),Object(i._)(this,"capi",void 0),Object(i._)(this,"activeAlerts",void 0),Object(i._)(this,"activeLensIds",void 0),Object(i._)(this,"fireSDUIAdd",void 0),Object(i._)(this,"fireSDUIRemove",void 0),Object(i._)(this,"fireAdd",void 0),Object(i._)(this,"fireRemove",void 0),Object(i._)(this,"sendUserAction",void 0),Object(i._)(this,"sendDebugReport",void 0),this._sduiV2=e,this.events=new f.a.Subject,this.feedbacks=new f.a.Subject,this.capi={pushChanges:e=>d.l.right(d.g.none),sendFeedback:e=>{switch(e.kind){case u.a.AlertFeedbackType.IGNORE:case u.a.AlertFeedbackType.ADD_TO_DICTIONARY:case u.a.AlertFeedbackType.LOOKED:case u.a.AlertFeedbackType.CLOSED:case u.a.AlertFeedbackType.LIKE:case u.a.AlertFeedbackType.DISLIKE:case u.a.AlertFeedbackType.WRONG_SUGGESTION:case u.a.AlertFeedbackType.OFFENSIVE_CONTENT:case u.a.AlertFeedbackType.EXPANDED:return Object(c.pipe)(d.l.rightIO(()=>this.feedbacks.next({type:"feedback",args:[e.id,e.kind]})));case u.a.AlertFeedbackType.ACCEPTED:return Object(c.pipe)(d.l.rightIO(()=>"replacementText"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.replacementText,e.reason]}):"alternativeIndex"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.alternativeIndex,e.gapValue,e.reason]}):Object(p.c)(e)));default:return t}},enablePlagiarismSearch:t,disablePlagiarismSearch:t},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireSDUIAdd=(e,t)=>{this.events.next({kind:"sdui_add",sdui:e,sduiRootId:t,rev:0})},this.fireSDUIRemove=e=>{this.events.next({kind:"sdui_remove",sduiRootId:e})},this.fireAdd=(e,t)=>{const n=this._sduiV2&&null!=t?{kind:"sdui_add",sdui:{type:"strongAlertRef",alertIds:[e.id],child:t,onEmpty:[{type:"openLink",url:"test_for_"+e.id}],id:"strongAlertRef#"+Math.random().toString(36).substring(2,15)},sduiRootId:u.a.RawSduiItem.Id.create(e.id),rev:0}:void 0;return this.activeAlerts.add(e),this.activeLensIds.add(e.cardLayout.outcome),void 0!==n?this.events.next(n):Object(s.constVoid)(),this.events.next({kind:"before_alert"}),this.events.next({kind:"alert_received",alert:e}),n},this.fireRemove=(e,t=d.g.none,n=d.g.none)=>{this.activeAlerts.delete(e),this.activeLensIds.delete(e.cardLayout.outcome),this._sduiV2?this.events.next({kind:"sdui_remove",sduiRootId:u.a.RawSduiItem.Id.create(e.id)}):Object(s.constVoid)(),this.events.next({kind:"alert_removed",alertId:e.id,mergedIn:t,hint:n})},this.sendUserAction=()=>d.l.rightIO(s.constVoid),this.sendDebugReport=()=>d.l.rightIO(s.constVoid)}}}(r||(r={}))},rPY6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("B8yO");const i=({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z",fill:"#15C39A"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.046 11.727c.047.262.293.442.56.442h.838l.485-.068c-.777 1.14-2.127 1.665-3.603 1.433a3.428 3.428 0 0 1-2.669-2.136C5.67 8.82 7.551 6.36 10.004 6.36c1.278 0 2.4.768 3.042 1.671.17.246.509.317.755.146a.536.536 0 0 0 .161-.712A4.694 4.694 0 0 0 9.68 5.31c-2.34.157-4.232 2.07-4.367 4.411-.156 2.724 2.005 4.947 4.692 4.947a4.65 4.65 0 0 0 3.536-1.609l-.102.57v.516c0 .266.179.513.44.56.345.062.644-.2.644-.533v-3.088h-2.944c-.332 0-.595.3-.532.643Z",fill:"#fff"}));i.__brand="nocolor"},rUtO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zCOz");function i(e){let t,n=(0,r.b)(e,{labelable:!0});return"vertical"===e.orientation&&(t="vertical"),"hr"!==e.elementType?{separatorProps:{...n,role:"separator","aria-orientation":t}}:{separatorProps:n}}},rtUA:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("wvT7"),s=n("yQCL"),c=n("cZKX"),l=n("DTwm"),u=n("tiWp"),d=n("4tRT"),p=n("mgiE"),m=n("TKPA"),f=n("RRF2"),h=n("K40b"),g=n("0kuo"),b=n("Hj2R"),v=n("D2TP"),y=n("mEGS"),O=n("phaH"),_=n("mDV6"),C=n("iVUr"),w=n("d3CI");!function(e){e.filterAlertInLens=(e,t)=>p.a.filter(n=>b.a.isNotRemoved(n)||p.g.isSome(e.items.find(e=>t.hasAlert(n.id)(e)))),e.findItemWithAlertInLens=(e,t)=>Object(l.flow)(p.g.fromPredicate(b.a.isNotRemoved),p.g.chain(n=>e.items.find(e=>t.hasAlert(n.id)(e)&&!t.isScheduledToDispose(e))),p.g.map(e=>e.value)),e.createWithInitialAlerts=(e,t,n,r,o)=>(s,c,d,m)=>{const f=Object(u.pipe)(m,p.g.fold(()=>l.identity,e=>o.selectItemByAlert(e))),h=e.create(s,c),g=d.filter(n.alertVisibleInSidebar(s)),b=t(s);if(w.j.hasItems(h)){const e=y.a.empty,t=y.a.from(g),n=y.a.diff(e,t);return Object(u.pipe)(h,b(n,r),o.changeItemsVisualState(_.a.VisualState.initial({type:"rendered",clockwise:!0},!1)),f,e=>Object(a._)(Object(i._)({},e),{animation:w.b.skip}))}return h},e.createWithExternalItems=(e,t)=>(n,r,o,s,c)=>{const d=e.create(n,r);return Object(u.pipe)(c,p.g.filter(e=>w.j.hasItems(e)&&w.j.hasItems(d)),p.g.map(e=>t.changeItemsVisualState(_.a.VisualState.initial({type:"rendered",clockwise:!0},!1))(Object(a._)(Object(i._)({},d),{items:e.items.filter(Object(l.not)(t.isScheduledToDispose))}))),p.g.getOrElse(()=>d))};let t,n,r;!function(e){e.setVisibleItems=e=>t=>Object(a._)(Object(i._)({},t),{cardIndex:Object(u.pipe)(w.k.getActiveItem(t),p.g.chain(t=>Object(u.pipe)(e.get(t.id),p.g.map(e=>e.index)))),items:e});e.hideItem=function(e,t){return _.a.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e};var t=e.calculateCardsHeight=e=>Object(u.pipe)(e.getAt(e.size-1),p.g.map(e=>e.positionState.absTop+e.positionState.height),p.g.getOrElse(()=>0));e.getItemsPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!w.e.hasCards(t))return p.b.left({state:t,metadata:n});const i=w.e.Prism.getLens();return p.b.left({state:i.modify(r(e),t),metadata:n})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!w.e.hasCards(t))return p.b.left({state:t,metadata:n});const r=w.e.Prism.getLens();return p.b.left({state:r.modify(t=>{const n=t.items.map((n,r,o)=>{const s=p.g.contains(o)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,o),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:Object(a._)(Object(i._)({},n.positionState),{visible:!1,isHeightValid:!0});return C.a.PositionState.eq.equals(n.positionState,s)?n:e.changePosition(s)(n)});return Object(a._)(Object(i._)({},t),{items:n,isCardsHeightValid:!0})},t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!w.e.hasCards(t))return p.b.left({state:t,metadata:n});const r=w.e.Prism.getLens();return p.b.left({state:r.modify(t=>{const n=w.k.getActiveItem(t),r=t.items.filter(t=>!e.isScheduledToDispose(t)||Object(m.p)(Object(l.not)(_.a.isAnimatable),_.a.isAnimatingRemoval)(t)||Object(u.pipe)(n,p.g.exists(e=>e.id===t.id))),o=Object(u.pipe)(t,w.k.getActiveItemIndex(r));return Object(a._)(Object(i._)({},t),{items:r,cardIndex:o})},t),metadata:n})};const n=e=>t=>Object(u.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&Object(u.pipe)(t,p.g.forAll(e=>e.id!==n.id)))(e)(w.k.getActiveItem(t))),p.g.map(({value:t,index:n})=>({index:n,value:Object(u.pipe)(t,p.g.fromPredicate(t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t)))})));var r=e.updateItemsPositions=e=>r=>{const o=w.k.getActiveItem(r),s=n(e)(r),c=Object(u.pipe)(s,p.g.chain(f.e.pick("value")),p.g.map(e=>e.positionState.height));let l=0;const d=Object(u.pipe)(o,p.g.forAll(e=>e.positionState.isHeightValid)),m=Object(u.pipe)(s,p.g.map(f.e.pick("index")),p.g.getOrElse(()=>{return e=r.cardIndex,Object(u.pipe)(e,p.g.map(e=>0===e?1:0),p.g.getOrElse(()=>0));var e})),h=r.items.map((t,n,i)=>{const a=p.g.contains(i)(r.cardIndex),o=a||i===m,s=e.isScheduledToDispose(t)||(a?t.positionState.isHeightValid:p.g.isSome(c)),f=e.isScheduledToDispose(t)?e.useReferenceHeightOnRemove(t)?Object(u.pipe)(c,p.g.getOrElse(()=>t.positionState.height)):0:a?t.positionState.height:Object(u.pipe)(c,p.g.getOrElse(()=>t.positionState.height)),h={absTop:a||d?l:t.positionState.absTop,height:f,animationInProgress:r.animation(t,i),visible:t.positionState.visible,isHeightValid:s,watched:o,inert:t.positionState.inert};return e.shouldAnimatePositionChange(h,a)(t)||(h.animationInProgress=!1),l+=f,C.a.PositionState.eq.equals(t.positionState,h)?t:e.changePosition(h)(t)}),g=t(h),b=Object(u.pipe)(o,p.g.forAll(e=>e.positionState.isHeightValid))&&Object(u.pipe)(h.getAt(m),p.g.forAll(e=>e.positionState.isHeightValid));return Object(a._)(Object(i._)({},r),{items:h,cardsHeight:g,isCardsHeightValid:b})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,r)=>i=>Object(u.pipe)(e,h.a.reduce(i,(e,{alert:t})=>r([t])(e),(e,t,{alert:r})=>n([r])(e),(e,{alert:n})=>t([n])(e))),e.applyWithFilter=(e,t)=>(n,r,i,a)=>{const o=Object(l.flow)(p.a.partition(e),e=>Object(l.flow)(a(e.left),i(e.right)));return t(n,t=>r(t.filter(e)),o,a)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=d.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n)),e.getFeedItems=()=>d.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n))}(r=e.Prism||(e.Prism={}));e.getEq=e=>p.c.fromEquals((t,n)=>{if(t.kind===w.f.abstract||n.kind===w.f.abstract)return t.id===n.id;{const r=t,i=n;return t.id===n.id&&p.g.getEq(e).equals(w.k.getActiveItem(r),w.k.getActiveItem(i))&&r.meta.equals(n.meta)&&r.items.equals(i.items)}}),e.lensHash={hashCode:e=>{if(e.kind===w.f.abstract)return Object(O.b)(e.id);{const n=e;let r=7;return r=31*r+Object(O.b)(e.id),r=31*r+(t=w.k.getActiveItem(n),Object(u.pipe)(t,p.g.fold(()=>2433880,e=>null==e?9735524:e.hashCode()<<2))),31*r+e.meta.count}var t}};let S;!function(e){e.getAlertReleaser=e=>({release:t=>n=>{const r=n.items.map(e.removeAlertFromItem([t],n)),o=Object(u.pipe)(n.cardIndex,p.g.chain(t=>Object(u.pipe)(r.findRightFrom(e.isScheduledToDispose,t),p.g.map(e=>e.index))),p.g.isSome)?w.b.skip:w.b.force;return Object(a._)(Object(i._)({},n),{animation:o,items:r})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const r=Object(u.pipe)(n,e,p.g.filter(Object(l.not)(t.isScheduledToDispose)),p.g.map(e=>n.items.add(Object(u.pipe)(e,t.unselect(p.g.none,n.itemsOrd)))),p.g.getOrElse(()=>n.items));return Object(a._)(Object(i._)({},n),{items:r,animation:w.b.force,cardIndex:p.g.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==w.i.advanced});const t=e=>Object(u.pipe)(p.h.ordNumber,p.h.contramap(t=>Object(u.pipe)(e.items.get(t.id),p.g.map(f.e.pick("index")),p.g.getOrElse(()=>-1))));e.getSelectableByAlert=(e,n)=>({selectItemByAlert:r=>o=>{if(!n.willShowChecksFeed(o))return o;const c=e(o),d=o.items.find(n.isSelectableByAlert(r));Object(g.f)(p.g.isSome(d),"Can not find card for provided alert. Unknown card or it is already disposed.",()=>r.alert.toString());const{value:m,index:f}=p.g.unsafeGet(d),h=Object(s.fold)(p.h.getMonoid())([o.itemsOrd,t(o)]),b=Object(u.pipe)(c,p.g.filter(Object(l.not)(n.isScheduledToDispose)),p.g.map(e=>o.items.add(Object(u.pipe)(e,n.unselect(p.g.some(m),o.itemsOrd)))),p.g.getOrElse(()=>o.items)).add(Object(u.pipe)(m,n.selectByAlert(c,r,h)));return Object(a._)(Object(i._)({},o),{items:b,animation:w.b.force,cardIndex:p.g.some(f)})}}),e.getSelectableById=(e,n)=>({selectItemById:r=>o=>{const c=e(o),d=o.items.get(r),{value:m,index:f}=p.g.unsafeGet(d),h=Object(s.fold)(p.h.getMonoid())([o.itemsOrd,t(o)]),g=Object(u.pipe)(c,p.g.filter(Object(l.not)(n.isScheduledToDispose)),p.g.map(e=>o.items.add(Object(u.pipe)(e,n.unselect(p.g.some(m),h)))),p.g.getOrElse(()=>o.items)).add(Object(u.pipe)(m,n.select(c,h)));return Object(a._)(Object(i._)({},o),{items:g,animation:w.b.force,cardIndex:p.g.some(f)})}}),e.getItemReleaser=()=>({removeItemById:e=>t=>r(t.items.remove(e))(t)});function n(e,t,n){return r=>Object(u.pipe)(p.g.of(r),p.g.filter(e=>!n.isScheduledToDispose(e)&&t(e)),p.g.chain(n.hasActiveAlert),p.g.filter(t=>e.isRegistered(t.alert.id)))}e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object(a._)(Object(i._)({},t),{meta:v.a.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?Object(a._)(Object(i._)({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>r=>{Object(g.f)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const o=r.id,s=e=>{const r=e.items.map(t.removeAlertFromItem(n,e));return Object(a._)(Object(i._)({},e),{items:r})};if(v.a.isOutcomeId(o))return s(r);switch(o){case v.a.SpecialId.AllAlerts:case v.a.SpecialId.PredictionTakeaways:case v.a.SpecialId.PredictionEmogenie:case v.a.SpecialId.RealTimeProofit:case v.a.SpecialId.FreePremiumAlerts:return s(r);case v.a.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case v.a.SpecialId.Plagiarism:return Object(g.f)(n.every(b.a.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),s(r);default:return Object(g.c)(o)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>Object(u.pipe)(w.k.getActiveItem(t),p.g.exists(t=>e.isScheduledToDispose(t)))||p.g.isNone(t.items.find(t=>!e.isScheduledToDispose(t)))}},e.getHasSelectableAlert=n,e.getHasAlerts=function(e,t,r,i){const a=e=>n(t,r(e),i),s=e=>e.id===v.a.SpecialId.Premium||e.id===v.a.SpecialId.Plagiarism?e.meta.count:Object(u.pipe)(w.k.getActiveItem(e),p.g.chain(i.hasActiveAlert),p.g.map(e=>e.alert),p.g.exists(b.a.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:s,getActiveAlertsCount:s,getActiveAlert:e=>Object(u.pipe)(w.k.getActiveItem(e),p.g.chain(i.hasActiveAlert)),findFirstAlert:e=>Object(u.pipe)(e.items.values(),c.T(a(e))),findNextAlert:t=>(Object(g.f)(p.g.isSome(w.k.getActiveItem(t))===p.g.isSome(t.cardIndex),"Lens is in wrong state: cardIndex must reference existing card"),Object(u.pipe)(Object(o.b)(p.g.option)(w.k.getActiveItem(t),t.cardIndex),p.g.chain(([n,r])=>Object(u.pipe)(e.nextAlert(n),p.g.alt(()=>e.prevAlert(n)),p.g.map(e=>({alert:e,highlightIndex:0})),p.g.alt(()=>Object(u.pipe)(f.a.lookAroundMap(t.items.values(),r,a(t)),p.g.map(e=>e.value))))),p.g.orElse(Object(u.pipe)(t.items.values(),c.T(a(t))))))}};var r=e.setVisibleItems=e=>t=>Object(a._)(Object(i._)({},t),{cardIndex:Object(u.pipe)(w.k.getActiveItem(t),p.g.chain(t=>Object(u.pipe)(e.get(t.id),p.g.map(e=>e.index)))),items:e})}(S=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},rwYK:function(e){e.exports=JSON.parse('{"title":"_4c8c473e-user-inputs-title","subtitle":"_7237d3f2-user-inputs-subtitle","userInputsWrapper":"_e7053ff8-user-inputs-userInputsWrapper","userInputWrapper":"_87b6cf14-user-inputs-userInputWrapper","userInputWrapperSparse":"_2e8f5675-user-inputs-userInputWrapperSparse","userInputContainer":"_b10c3a47-user-inputs-userInputContainer","userInputTitle":"_49d9efc5-user-inputs-userInputTitle","newBadge":"_90c19e3e-user-inputs-newBadge","tooltip":"_7fd62e09-user-inputs-tooltip","noteContainer":"_140ea7b6-user-inputs-noteContainer","noteTextarea":"_5a1a59e6-user-inputs-noteTextarea","noteCounter":"_935d7644-user-inputs-noteCounter","nativeLanguageDescriptionWrapper":"_97103f54-user-inputs-nativeLanguageDescriptionWrapper","dropdown":"_d57a371d-user-inputs-dropdown","dropdownButton":"_f4cc3f7f-user-inputs-dropdownButton","dropdownList":"_de145be4-user-inputs-dropdownList","dropdownOptionsContainer":"_d8edb710-user-inputs-dropdownOptionsContainer","dropdownOption":"_0ec93a54-user-inputs-dropdownOption","dropdownSearchContainer":"_9588337f-user-inputs-dropdownSearchContainer","dropdownSearch":"_340b7012-user-inputs-dropdownSearch","dropdownSearchIcon":"_983a02b6-user-inputs-dropdownSearchIcon","dropdownSearchClear":"_df36906d-user-inputs-dropdownSearchClear","dropdownSearchNoMatches":"_fba511c5-user-inputs-dropdownSearchNoMatches","dialectDropdown":"_89ae4e06-user-inputs-dialectDropdown","splitButton":"_818fe205-user-inputs-splitButton","splitButtonOption":"_9b9882bd-user-inputs-splitButtonOption","languageDropdownOption":"_badd48cb-user-inputs-languageDropdownOption","englishDialectOption":"_efe5beb6-user-inputs-englishDialectOption","iconArrow":"_50070dc3-user-inputs-iconArrow","loader":"_ec2264cc-user-inputs-loader"}')},"s/43":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("B8yO"),i=n("4GyQ"),a=n("nWMp");const o=({double:e,triple:t,small:n})=>r.createElement("div",Object(i.c)(s,!0===e&&c,!0===t&&l,!0===n&&u)),s=a.a.joinClasses(["spacer",a.a.style({margin:0,minHeight:a.a.rem(.875),maxHeight:a.a.rem(1),width:a.a.percent(100),height:a.a.rem(1)})]),c=a.a.joinClasses(["spacerDouble",a.a.style({minHeight:a.a.rem(1.75),maxHeight:a.a.rem(2),height:a.a.rem(2)})]),l=a.a.joinClasses(["spacerTriple",a.a.style({minHeight:a.a.rem(2.625),maxHeight:a.a.rem(3),height:a.a.rem(3)})]),u=a.a.style({$nest:{"&.spacer":{minHeight:a.a.rem(.4375),maxHeight:a.a.rem(.5),height:a.a.rem(.5)},"&.spacerDouble":{minHeight:a.a.rem(.875),maxHeight:a.a.rem(1),height:a.a.rem(1)},"&.spacerTriple":{minHeight:a.a.rem(1.3125),maxHeight:a.a.rem(1.5),height:a.a.rem(1.5)}}})},s4G0:function(e,t,n){"use strict";n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return M}));var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("yQCL"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("mgiE"),d=n("TKPA"),p=n("0kuo"),m=n("RRF2"),f=n("M3t0"),h=n("Hj2R"),g=n("D2TP"),b=n("xk6L"),v=n("La5+"),y=n("yIk2"),O=n("d3CI"),_=n("wdnv"),C=n("9UJa");const w=(e,t,n,r=(()=>u.g.none))=>i=>{if(!e(i))return t(i);const{currentLens:a}=i;return a.kind===O.f.abstract?u.g.none:Object(c.pipe)(u.g.fromPredicate(O.e.hasItems)(i),u.g.chain(e=>n.findNextAlert(e.currentLens)),u.g.alt(()=>r(i)),u.g.map(C.a.toLensAlert))},S=(e,t,n,r,i=_.a.WithSuccess.State.isInGlobalSuccess(r),a=(()=>!0))=>o=>{const{currentLens:l}=o;return l.kind===O.f.abstract?u.g.none:l.kind===O.f.persistent?Object(c.pipe)(u.g.fromPredicate(O.e.hasItems)(o),u.g.chain(e=>r.getActiveAlert(e.currentLens)),u.g.fold(()=>O.e.hasItems(o)?r.findNextAlert(o.currentLens):u.g.none,t=>e.findNextAlertInTextByLens(t,Object(s.unsafeCoerce)(o.currentLens))),u.g.alt(()=>a()&&(i(o)||g.a.isOutcomeId(o.currentLens.id)&&e.hasZeroFreeAlerts(n))?e.findPremiumAlert():u.g.none),u.g.map(C.a.toLensAlert)):Object(c.pipe)((i=>{const a=u.g.fromPredicate(O.e.hasItems)(i);return Object(c.pipe)(a,u.g.chain(e=>r.findNextAlert(e.currentLens)),u.g.map(C.a.toLensAlert),u.g.alt(()=>Object(c.pipe)(a,u.g.chain(e=>r.getActiveAlert(e.currentLens)),u.g.fold(()=>t(h.a.isRegisteredApplicableAlert,"cursor"),t=>e.findNextAlertInText(t,h.a.isApplicableAlert)),u.g.map(({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:n.get()})))))})(o),u.g.alt(()=>Object(c.pipe)(e.findPremiumAlert(),u.g.map(C.a.toLensAlert))))},k=(e,t,n,r=_.a.WithSuccess.State.isInGlobalSuccess(n),i=s.constTrue)=>Object(s.flow)(u.g.fromPredicate(O.e.genericMapper(s.constTrue,Object(d.b)(i,Object(d.p)(r,n=>g.a.isOutcomeId(n.currentLens.id)&&e.hasZeroFreeAlerts(t))),s.constFalse)),u.g.chain(()=>e.findPremiumAlert()),u.g.map(C.a.toLensAlert));function E(e,t){return(n,r)=>t.findClosestAlertHighlight(e(r),n)}const j=e=>e.pipe(b.a.pairwise(),b.a.first(([e,t])=>"idle"!==e&&"idle"===t),b.a.map(()=>{})),x=e=>e.pipe(b.a.startWith("idle"),b.a.pairwise(),b.a.first(([e,t])=>"idle"===t),b.a.filter(([e])=>"full"===e),b.a.map(()=>{})),A=(e,t)=>{const n=j(e);return t.bigPaste.pipe(b.a.switchMap(()=>n),b.a.map(()=>{}),b.a.shareReplay({bufferSize:1,refCount:!0}))};class I{dispose(){this._subs.dispose()}constructor(e,t){Object(r._)(this,"_subs",new v.a.Keeper),Object(r._)(this,"firstOpeningOfDocumentWithAlerts",l.a.create(!1));const n=j(e),i=(e=>Object(c.pipe)(e,b.a.filter(e=>O.e.hasCards(e)&&u.g.isSome(O.k.getActiveItem(e.currentLens))),b.a.map(()=>{})))(t);this._subs.push(Object(c.pipe)(t,b.a.first(e=>O.e.hasCards(e)),b.a.switchMap(()=>Object(c.pipe)(b.a.mergeStatic(i,n),b.a.map(s.constFalse),b.a.startWith(!0))),b.a.tap(y.b.toAtom(this.firstOpeningOfDocumentWithAlerts))).subscribe())}}var T,M;!function(e){const t=Object(d.l)(f.d.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,n,r,i,a)=>{const o=j(n),s=x(n),l=A(n,i);return Object(c.pipe)(b.a.mergeStatic(o,s,l),b.a.withLatestFrom(e,a,r),b.a.filter(([e,t,n,r])=>r&&!n&&O.e.hasCards(t)&&u.g.isNone(O.k.getActiveItem(t.currentLens))),b.a.map(()=>O.e.Effect.FocusBehavior.focusFirst),b.a.tap(e=>t("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e)))},e.getSideEffect=(e,t)=>{const n=Object(c.pipe)(e,b.a.map((e=>t=>n=>{switch(t.kind){case O.e.Effect.FocusBehaviorType.noFocus:return n;case O.e.Effect.FocusBehaviorType.unFocus:return O.e.Prism.getLensWithItems().modify(e.unselectItem(),n);case O.e.Effect.FocusBehaviorType.focusFirst:return Object(c.pipe)(e.findFirstAlert(n.currentLens),u.g.fold(()=>n,t=>O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n)));case O.e.Effect.FocusBehaviorType.focusNext:return Object(c.pipe)(e.findNextAlert(n.currentLens),u.g.fold(()=>n,t=>O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n)));case O.e.Effect.FocusBehaviorType.focusAlert:return O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:Object(p.c)(t)}})(t)));return{id:"autoFocusEffect",when:g.a.isWithAlertsId,what:O.e.Effect.ItemsApplicator.create(n)}};var n=e.whenFirstOpeningDocumentWithAlerts=e=>()=>e.firstOpeningOfDocumentWithAlerts.get(),r=e.whenShouldVerifyCurrentLens=(e,n)=>r=>{const i="AutoFocus.stateValidator.whenShouldVerifyCurrentLens";return!(!O.e.hasItems(r)||!n.shouldVerify(r.currentLens))&&(Object(c.pipe)(O.e.getActiveAlert(e)(r),u.g.filter(h.a.isInDuplicatedState),u.g.fold(()=>t(i).debug("Current alert removed, should verify current lens..."),e=>t(i).info("Current alert removed as it's a duplicate, should verify current lens...",e.toString()))),!0)},m=e.whenNoActiveCard=e=>e.currentLens.items.size>0&&u.g.isNone(O.k.getActiveItem(e.currentLens)),v=e.behaviorToEffect=e=>n=>r=>Object(c.pipe)(n(r)?e(r):u.g.none,u.g.tap(e=>t("AutoFocus.stateValidator").debug("'behavior triggered: "+e.kind)));e.getDefaultBehavior=(e,t)=>Object(c.pipe)([Object(c.pipe)(r(e,t),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusNext)))],Object(o.fold)(Object(o.getFunctionMonoid)(u.g.getFirstMonoid())())),e.getAlwaysFocusBehavior=(e,t)=>Object(c.pipe)([Object(c.pipe)(Object(d.p)(m,r(e,t)),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusNext)))],Object(o.fold)(Object(o.getFunctionMonoid)(u.g.getFirstMonoid())())),e.getFocusFromCacheBehavior=(e,t,i,a,l,p)=>Object(c.pipe)([Object(c.pipe)(r(a,l),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusNext))),Object(c.pipe)(Object(d.b)(()=>t.get(),Object(d.b)(Object(d.b)(Object(d.b)(n(i),()=>e),m),Object(c.pipe)(p,u.g.map(e=>Object(s.not)(e.willShowBulkAccept)),u.g.getOrElse(()=>s.constTrue)))),v(()=>u.g.some(O.e.Effect.FocusBehavior.focusFirst)))],Object(o.fold)(Object(o.getFunctionMonoid)(u.g.getFirstMonoid())()));e.getFirstApiAlignmentOverride=function(){const e=l.a.create(!0);return(t,n)=>{let r=n;return e.get()&&n===h.b.api&&(r=h.b.text),e.set(!1),r}};e.getShouldAutoFocus=(e,t,n)=>r=>e.get()&&Object(c.pipe)(r,O.e.getActiveAlert(n),u.g.chain(({id:e})=>t.getById(e)),u.g.filter(Object(d.p)(e=>"APPLIED"===e.state.type&&"ByCard"===e.state.method,h.a.isDuplicated,h.a.isCapiDone)),u.g.isSome),e.getStateTransformer=(e,n,r,o,s,l,d)=>({state:m,metadata:f})=>{const h=t("AutoFocus.stateTransformer");if(!O.e.hasCards(m)||!O.e.hasItems(m))return h.trace("state has no items, returning original state"),u.b.left({state:m,metadata:f});const g=e(m);if(h.trace("effect: ",{state:m,metadata:f,effect:g}),u.g.isNone(g))return h.trace("no effect selected, returning original state"),u.b.left({state:m,metadata:f});if(l(g.value),g.value.kind===O.e.Effect.FocusBehaviorType.unFocus||g.value.kind===O.e.Effect.FocusBehaviorType.noFocus)return u.b.left({state:O.e.Prism.getLensWithItems().modify(o.unselectItem(),m),metadata:f});const b=s(m);return h.trace("shouldAutoFocus",{alertSource:m.alertSource,shouldAutoFocus:b}),Object(c.pipe)(g,u.g.chain(e=>{switch(e.kind){case O.e.Effect.FocusBehaviorType.noFocus:case O.e.Effect.FocusBehaviorType.unFocus:return u.g.none;case O.e.Effect.FocusBehaviorType.focusFirst:return Object(c.pipe)(o.findFirstAlert(m.currentLens),u.g.map(e=>Object(a._)(Object(i._)({},e),{lensId:m.currentLens.id})));case O.e.Effect.FocusBehaviorType.focusNext:return n(m);case O.e.Effect.FocusBehaviorType.focusAlert:return u.g.some(Object(a._)(Object(i._)({},e.alertHighlight),{lensId:m.currentLens.id}));default:Object(p.c)(e)}}),u.g.map(e=>(Object(p.f)(u.g.isSome(r.getRegistered(e.alert.id)),"lens alert should be in registered state",()=>e.alert.toString()),e)),u.g.fold(()=>(h.trace("no alert selected, returning original state"),m.currentLens.kind===O.f.active?u.b.right(u.b.right({lensId:d.get(),alertSource:m.alertSource,options:{order:m.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}})):u.b.left({state:m,metadata:f})),({alert:e,highlightIndex:t,lensId:n})=>{if(h.trace("selected alert to focus",e),m.currentLens.meta.filter(e)){if(b){const n={alert:e,highlightIndex:t};return Object(c.pipe)(m.currentLens.items.find(o.hasAlert(e.id)),u.g.fold(()=>(h.trace("shouldAutoFocus: true, no such item in a lens for given alert",e.id),u.b.left({state:m,metadata:f})),()=>(h.trace("shouldAutoFocus: true, selecting alert"),u.b.left({state:O.e.Prism.getLensWithItems().modify(o.selectItemByAlert(n),m),metadata:{sourceId:"LSM.updateActiveState"}}))))}return h.trace("shouldAutoFocus: false"),u.b.left({state:m,metadata:f})}return h.trace("alert is not from current lens, recreating lens view"),u.b.right(b?u.b.left({alertHighlight:{alert:e,highlightIndex:t},alertSource:m.alertSource,options:{lensId:n,order:m.switchOrder,toFocus:O.e.Effect.FocusBehavior.focusFirst}}):u.b.right({lensId:n,alertSource:m.alertSource,options:{order:m.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}}))}))}}(T||(T={})),function(e){const t=e=>t=>n=>{switch(t.kind){case O.e.Effect.FocusBehaviorType.noFocus:return n;case O.e.Effect.FocusBehaviorType.unFocus:return O.e.Prism.getLensWithItems().modify(e.unselectItem(),n);case O.e.Effect.FocusBehaviorType.focusFirst:return Object(c.pipe)(n.currentLens.items.find(Object(s.not)(e.isScheduledToDispose)),u.g.map(m.e.pick("value")),u.g.fold(Object(s.constant)(n),t=>O.e.Prism.getLensWithItems().modify(e.selectItemById(t.id),n)));case O.e.Effect.FocusBehaviorType.focusNext:return Object(c.pipe)(n.currentLens.cardIndex,u.g.chain(t=>Object(c.pipe)(m.a.lookAroundMap(n.currentLens.items.values(),t,u.g.fromPredicate(Object(s.not)(e.isScheduledToDispose))),u.g.map(m.e.pick("value")))),u.g.fold(Object(s.constant)(n),t=>O.e.Prism.getLensWithItems().modify(e.selectItemById(t.id),n)));case O.e.Effect.FocusBehaviorType.focusAlert:return O.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:Object(p.c)(t)}},n=Object(d.l)(f.d.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,t,r,i)=>{const a=j(t),o=x(t),s=A(t,i);return Object(c.pipe)(b.a.mergeStatic(a,o,s),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.withLatestFrom(e,r),b.a.filter(([e,t,n])=>n&&O.e.hasCards(t)&&u.g.isNone(O.k.getActiveItem(t.currentLens))),b.a.map(()=>O.e.Effect.FocusBehavior.focusFirst),b.a.tap(e=>n("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e)))},e.getSideEffect=(e,n)=>{const r=Object(c.pipe)(e,b.a.map(t(n)));return{id:"sduiAutoFocusEffect",when:g.a.isWithAlertsId,what:O.e.Effect.ItemsApplicator.create(r)}},e.getShouldAutoFocus=(e,t)=>n=>e.get()&&Object(c.pipe)(n,O.e.getLens,u.g.chain(u.g.fromPredicate(e=>e.items.filter(Object(s.not)(t.isScheduledToDispose)).size>0)),u.g.isSome),e.getStateTransformer=(e,r,o,s,l,d)=>({state:p,metadata:m})=>{const h=n("AutoFocus.stateTransformer",f.a.LogLevel.TRACE);if(!O.e.hasCards(p)||!O.e.hasItems(p))return h.trace("state has no items, returning original state"),u.b.left({state:p,metadata:m});const g=e(p);if(u.g.isNone(g))return h.trace("no effect selected, returning original state"),u.b.left({state:p,metadata:m});if(h.trace("effect: ",{state:p,metadata:m,effect:g}),l(g.value),g.value.kind===O.e.Effect.FocusBehaviorType.unFocus||g.value.kind===O.e.Effect.FocusBehaviorType.noFocus)return u.b.left({state:O.e.Prism.getLensWithItems().modify(o.unselectItem(),p),metadata:m});const b=s(p);return h.trace("shouldAutoFocus",{alertSource:p.alertSource,shouldAutoFocus:b}),Object(c.pipe)(g,u.g.map(e=>({effect:e,applicator:t(o)})),u.g.fold(()=>(h.trace("no effect selected, returning original state"),p.currentLens.kind===O.f.active?u.b.right(u.b.right({lensId:d.get(),alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}})):u.b.left({state:p,metadata:m})),({effect:e,applicator:t})=>{h.trace("effect selected: "+e.kind);const n=t(e)(p);return b?(h.trace("shouldAutoFocus: true, selecting an item in the lens"),u.b.left({state:n,metadata:{sourceId:"LSM.updateActiveState"}})):(h.trace("current lens is empty"),e.kind===O.e.Effect.FocusBehaviorType.focusNext?(h.trace("no items to select in the current lens, trying to switch"),Object(c.pipe)(p,r,u.g.fold(()=>(h.trace("next alert not found in other lenses, reset cardIndex"),u.b.left({state:p.patch({currentLens:Object(a._)(Object(i._)({},p.currentLens),{cardIndex:u.g.none})}),metadata:{sourceId:"LSM.updateActiveState"}})),({lensId:e})=>(h.trace(`found next alert in lens: ${e}. Switching the lens`),u.b.right(u.b.right({lensId:e,alertSource:p.alertSource,options:{order:p.switchOrder,toFocus:O.e.Effect.FocusBehavior.noFocus}})))))):(h.trace("shouldAutoFocus: false"),u.b.left({state:p,metadata:m})))}))}}(M||(M={}))},s7eP:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("B8yO"),i=n("+vYo"),a=n("4GyQ"),o=n("NDcT"),s=n("fC5a"),c=n("ySi0"),l=n("f82Z"),u=n("Sqy8"),d=n("xk6L"),p=n("OUbY"),m=(n("XVHS"),n("OQWN")),f=c.c.size+2,h=(28-f)/2,g=function(e){var t=r.useContext(o.a.Context),n=i.a.combine(e.checking,e.hasErrors,(function(e,n){var i=e?t.sidebar.checkingLabel:n?t.sidebar.fixErrorsLabel:t.sidebar.openLabel;return r.createElement("div",{className:m.labelReveal,key:"label","data-name":i},i)})),a=u.a.fadeOutState(e.checking.pipe(d.a.skipWhile((function(e){return!1===e})))),c=e.checking.pipe(d.a.map((function(e){return e?"inProgress":"end"}))),p=c.pipe(d.a.map((function(e){return"end"!==e?r.createElement(l.a.Svg,{role:"presentation",key:"loading",type:"white",size:f,strokeWidth:5,onTransitionEnd:a.complete,x:164+h,y:h}):null}))),g=c.pipe(d.a.map((function(e){return"inProgress"===e?null:r.createElement("g",{"data-name":"checking-complete",className:"checking-complete",key:"complete"})})));return r.createElement(s.a,{name:"assistant",className:m.full,onClick:e.onClick},r.createElement(v,null,g,p),n)},b=Object(a.d)((function(e){return r.createElement("g",e)})),v=function(e){var t=e.children,n=r.useContext(p.a.Context);return r.createElement("svg",{viewBox:"0 0 ".concat(192," ").concat(28),className:n.has(p.a.Flag.supportsSVGTransitions)?m.background:m.edgeBackground},r.createElement("defs",null,r.createElement("mask",{id:"mask"},r.createElement("circle",{cx:14,cy:14,r:14,fill:"#fff"}),r.createElement("rect",{x:14,width:164,height:28,fill:"#fff"}),r.createElement("circle",{cx:178,cy:14,r:14,fill:"#fff"})),r.createElement("clipPath",{id:"clip"},r.createElement("circle",{cx:178,cy:14,r:14}),r.createElement("rect",{x:-14,width:192,height:28,fill:"#fff"}))),r.createElement("g",{clipPath:"url(#clip)"},r.createElement("rect",{id:"box",x:"0",y:"0",width:192,height:28,mask:"url(#mask)"})),r.createElement(b,null,t))}},sfTT:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return F}));var r=n("nWMp"),i=n("NbNH"),a=n("7Cqk");const o="linear",s=r.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),c=r.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),l=r.a.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),u=r.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),d=r.a.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=r.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=r.a.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),f=r.a.keyframes({"0%, 100%":{opacity:0}}),h=r.a.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),g=r.a.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),b=r.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),v=r.a.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),y=r.a.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),O=r.a.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),_={position:"relative",margin:`${r.a.rem(.5)} ${r.a.rem(2)} ${r.a.rem(.5)} 0`,userSelect:"none"},C={position:"absolute",width:r.a.percent(100),pointerEvents:"none"},w={opacity:0,animation:`${s} ${r.a.seconds(i.d/4/1e3)} ${o} ${r.a.seconds(i.d/1e3)} forwards`},S={transformOrigin:"top",animation:`${c} ${r.a.seconds(i.d/1e3)} ${o} forwards`},k={transformOrigin:"bottom",animation:`${l} ${r.a.seconds(i.d/1e3)} ${o} forwards`},E={transformOrigin:"top",willChange:"contents"},j={animation:`${u} ${r.a.seconds(i.d/1e3)} ${o} forwards`},x={animation:`${d} ${r.a.seconds(i.d/1e3)} ${o} forwards`},A={animation:`${p} ${r.a.seconds(i.d/1e3)} ${o} reverse forwards`},I={animation:`${p} ${r.a.seconds(i.d/1e3)} ${o} forwards`},T={animation:`${m} ${r.a.seconds(i.d/1e3)} ${o} forwards`},M={animation:`${m} ${r.a.seconds(i.d/1e3)} ${o} reverse forwards`},P={transformOrigin:"top",animation:`${h} ${r.a.seconds(i.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.b.successWrapperSelector} > *`]:{animation:`${g} ${r.a.seconds(i.d/1e3)} ${o} forwards`}}},N={position:"absolute",width:r.a.percent(100),transformOrigin:"top",animation:`${b} ${r.a.seconds(i.d/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${a.b.fullCardSelector} > :not(.${a.b.alignButtonHiddenSelector})`]:{animation:`${v} ${r.a.seconds(i.d/1e3)} ${o} forwards`},[`& .${a.b.fullCardSelector} > .${a.b.alignButtonHiddenSelector}`]:{animation:`${f} ${r.a.seconds(i.d/1e3)} ${o} none`},["& ."+a.b.fullCardSelector]:{transform:`translateY(${r.a.rem(-1)})`}}},B={transformOrigin:"top",animation:`${y} ${r.a.seconds(i.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${a.b.fullCardSelector} > :not(.${a.b.alignButtonHiddenSelector})`]:{animation:`${O} ${r.a.seconds(i.d/1e3)} ${o} forwards`},[`& .${a.b.fullCardSelector} > .${a.b.alignButtonHiddenSelector}`]:{animation:`${f} ${r.a.seconds(i.d/1e3)} ${o} none`}}},L=r.a.stylesheet({wrapper:[_],animationWrapper:[{position:"relative"}],shade:[C],focused2renderedMain:[w],focused2renderedShade:[C,S],focused2renderedShadeClockwise:[C,k],rendered2focusedMainBase:[E],rendered2focusedMain:[E,j],rendered2focusedMainClockwise:[E,x],addedMain:[A],rendered2removedShade:[C,I],openedMain:[T],closedMain:[M],focused2successMain:[P],focused2successShade:[N],success2FocusedMain:[B]}),F=new Map([[c,L.focused2renderedShade],[l,L.focused2renderedShadeClockwise],[p,L.rendered2removedShade],[b,L.focused2successShade]])},"t/lG":function(e,t,n){"use strict";function r(e){return"alertAdded"===e.kind}function i(e){return{kind:"alertAdded",alertId:e}}function a(e){return"alertRemoved"===e.kind}function o(e,t){return{kind:"alertRemoved",alertId:e,reason:t}}function s(e){return"alertCollectionReset"===e.kind}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}))},t39C:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n("B8yO"),i=n("4GyQ"),a=n("c+X/"),o=n("nWMp");const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function c(e,t=d.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return a.b+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const l=({children:e,emojiClassName:t,className:n})=>{const i=r.useRef(null);return r.useEffect(()=>{i.current&&(i.current.innerHTML=i.current.innerHTML.replace(s,e=>c(e,t)))},[i,t]),r.createElement("span",{ref:i,className:n},e)},u=({id:e,className:t})=>{const[n,o]=r.useState(!1),[s,c]=r.useState(""),[l,u]=r.useState("");return r.useEffect(()=>{o(!1),u(function(e){return a.b+e+".svg"}(e)),c((e=>{try{return String.fromCodePoint(...e.map(e=>parseInt(e,16)))}catch(e){return""}})(e.split("-")))},[e]),n?r.createElement("span",Object(i.c)(t,d.emojiFromIDAlt),s):r.createElement("img",{className:t,src:l,alt:s,onError:()=>o(!0),"aria-hidden":!0})},d=o.a.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},tREI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return y}));var r=n("B8yO"),i=n.n(r);function a(e){return null}function o(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&i.a.Children.count(e.children)>0)}a.getCollectionNode=function*(e,t){let{childItems:n,title:r,children:a}=e,s=e.title||e.children,c=e.textValue||("string"==typeof s?s:"")||e["aria-label"]||"";c||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:s,textValue:c,"aria-label":e["aria-label"],hasChildNodes:o(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(r){let e=[];i.a.Children.forEach(a,t=>{e.push({type:"item",element:t})}),yield*e}}}};let s=a;function c(e){return null}c.getCollectionNode=function*(e){let{children:t,title:n,items:r}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!r)throw new Error("props.children was a function but props.items is missing");for(let e of r)yield{type:"item",value:e,renderer:t}}else{let e=[];i.a.Children.forEach(t,t=>{e.push({type:"item",element:t})}),yield*e}}}};let l=c;class u{build(e,t){return this.context=t,d(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:n}=e;if("function"==typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];i.a.Children.forEach(t,t=>{e.push(t)});let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${r}${t.key}`;let i=t.value;if(null!=i){var a;let e=null!==(a=i.key)&&void 0!==a?a:i.id;if(null==e)throw new Error("No key found for item");return e}return r?`${r}.${t.index}`:"$."+t.index}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,r){let a=e.element;if(!a&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=r?r.key:null,void(yield n);a=t.renderer(e.value)}if(i.a.isValidElement(a)){let i=a.type;if("function"!=typeof i&&"function"!=typeof i.getCollectionNode){let e="function"==typeof a.type?a.type.name:a.type;throw new Error(`Unknown element <${e}> in collection.`)}let o=i.getCollectionNode(a.props,this.context),s=e.index,c=o.next();for(;!c.done&&c.value;){let i=c.value;e.index=s;let l=i.key;l||(l=i.element?null:this.getKey(a,e,t,n));let u=[...this.getFullNode({...i,key:l,index:s,wrapper:p(e.wrapper,i.wrapper)},this.getChildState(t,i),n?`${n}${a.key}`:a.key,r)];for(let t of u){if(t.value=i.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${m(t.type)}> in <${m(r.type)}>. Only <${m(e.type)}> is supported.`);s++,yield t}c=o.next(u)}return}if(null==e.key)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:r?r.key:null,value:e.value,level:r?r.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:d((function*(){if(!e.hasChildNodes)return;let n=0;for(let r of e.childNodes()){null!=r.key&&(r.key=`${s.key}${r.key}`),r.index=n;let e=o.getFullNode(r,o.getChildState(t,r),s.key,s);for(let t of e)n++,yield t}}))};yield s}constructor(){this.cache=new WeakMap}}function d(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function p(e,t){return e&&t?n=>e(t(n)):e||(t||void 0)}function m(e){return e[0].toUpperCase()+e.slice(1)}function f(e,t,n){let i=(0,r.useMemo)(()=>new u,[]),{children:a,items:o,collection:s}=e;return(0,r.useMemo)(()=>{if(s)return s;let e=i.build({children:a,items:o},n);return t(e)},[i,a,o,s,n,t])}function h(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function g(e){return b(e,0)}function b(e,t){if(t<0)return;let n=0;for(let r of e){if(n===t)return r;n++}}function v(e){let t=void 0;for(let n of e)t=n;return t}function y(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=O(e,t),i=O(e,n),a=r.slice(0,i.length).findIndex((e,t)=>e!==i[t]);return-1!==a?(t=r[a],n=i[a],t.index-n.index):-1}function O(e,t){let n=[];for(;null!=(null==t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const _=new WeakMap;function C(e){let t=_.get(e);if(null!=t)return t;t=0;let n=r=>{for(let i of r)"section"===i.type?n(h(i,e)):t++};return n(e),_.set(e,t),t}},uLrj:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("m7tF"),c=n("09dI"),l=n("4GyQ"),u=n("+vYo"),d=n("nWMp"),p=n("0zLI");const m=({portalContainer:e,children:t})=>void 0===e?o.createElement(o.Fragment,null,t):o.createElement(s.b,{portalContainer:e},t),f=e=>{var t,{children:n,className:c,state:u,offset:d=8,onTransitionEnd:p,portalContainer:f}=e,h=Object(a._)(e,["children","className","state","offset","onTransitionEnd","portalContainer"]);const g=o.useRef(null),{popoverProps:b}=Object(s.f)(Object(i._)(Object(r._)({},h),{isNonModal:!0,offset:d,popoverRef:g}),u);return o.createElement(m,{portalContainer:f},o.createElement("div",Object(i._)(Object(r._)(Object(i._)(Object(r._)({},b),{style:Object(i._)(Object(r._)({},b.style),{minWidth:null===(t=h.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:g}),Object(l.c)(v.popover,c)),{onTransitionEnd:e=>{var t;if(e.target===g.current)return null===(t=p)||void 0===t?void 0:t()}}),o.createElement(s.a,{onDismiss:u.close}),o.createElement("div",{className:v.wrapper},n),o.createElement(s.a,{onDismiss:u.close})))},h=e=>{var{children:t,rerenderDependencies:n=[]}=e,s=Object(a._)(e,["children","rerenderDependencies"]);const c=o.useMemo(()=>t,n),u=o.useRef(h._index++);return o.useEffect(()=>{h._activePopovers.modify(e=>{const t=new Set(e);return s.state.isOpen?t.add(u.current):t.delete(u.current),t})},[s.state.isOpen]),o.createElement(p.a,{in:s.state.isOpen},(e,t)=>o.createElement(f,Object(r._)(Object(i._)(Object(r._)({},s),{onTransitionEnd:t}),Object(l.c)(s.className,e)),c))};h._index=0,h._activePopovers=u.a.create(new Set),h.activeCount=h._activePopovers.view(e=>e.size);const g={width:d.a.percent(100)},b={display:"flex",flexDirection:"column",alignItems:"flex-start",background:c.o.SemanticColor.Color.Background.Base.Default,boxShadow:c.o.Elevation.Elevation100.boxShadow,border:c.o.Elevation.Elevation100.border,borderRadius:d.a.rem(c.o.Radius.Radius1)},v=d.a.stylesheet({wrapper:[g],popover:[b]})},ukVJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return H}));var r=n("8O/t"),i=n("X76w"),a=n("vGXj"),o=n("B8yO"),s=n("zCOz"),c=n("ZqXC"),l=n("Q2+j"),u=n("1klt"),d=n("M+v9");const p=new WeakMap,m=new WeakMap,f=new WeakMap;var h=n("ThYs"),g=n("XGPX");let b=Math.round(1e10*Math.random()),v=0;function y(e){let t=(0,o.useMemo)(()=>e.name||`radio-group-${b}-${++v}`,[e.name]),[n,r]=(0,g.b)(e.value,e.defaultValue,e.onChange),[i,a]=(0,o.useState)(null);return{name:t,selectedValue:n,setSelectedValue:t=>{e.isReadOnly||e.isDisabled||r(t)},lastFocusedValue:i,setLastFocusedValue:a,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||null}}var O=n("09dI"),_=n("4GyQ"),C=n("OwvP"),w=n("xk6L"),S=n("yIk2"),k=n("yNCY"),E=n("TKPA"),j=n("sX1a"),x=n("7IMz"),A=n("nWMp");const I={display:"flex",alignItems:"center",opacity:1,color:O.o.SemanticColor.Color.Text.Base.Default,cursor:"pointer"},T={$nest:{'&[type="radio"]':{display:A.a.important("inline-block")}}},M={display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(calc(var(--rem)/16))",minWidth:A.a.rem(O.o.Space.Space8),marginRight:A.a.rem(O.o.Space.SpaceHalf)},P={display:"inline-flex"},N={flexDirection:"row",alignItems:"center",flexWrap:"wrap",gap:A.a.rem(O.o.Space.Space1)},B={display:"flex",gap:A.a.rem(O.o.Space.Space3),color:O.o.SemanticColor.Color.Background.Critical.Default,padding:`0 ${A.a.rem(O.o.Space.Space2)} 0 ${A.a.rem(O.o.Space.Space3)}`,margin:A.a.rem(O.o.Space.Space2)+" 0",$nest:{"& svg":{transform:"scale(1.4)"},"& path":{fill:O.o.SemanticColor.Color.Background.Critical.Default}}},L={border:"1px solid "+O.o.SemanticColor.Color.Background.Critical.Default,borderRadius:A.a.rem(O.o.Radius.Radius1)},F=A.a.stylesheet({input:[T],label:[I],disabled:[I,{opacity:.4,cursor:"not-allowed"}],dot:[M],circle:[{transition:"all .2s"}],horizontal:[P,N],vertical:[P,{flexDirection:"column"}],errorMessage:[B],errorGroup:[L],groupWrapper:[{display:"flex",flexDirection:"column"}]}),R=o.createContext(k.a.invariantContent("radioGroupContext"));var D,H,V;!function(e){e.Item=e=>{var{className:u}=e,d=Object(a._)(e,["className"]);const g=o.useContext(R),b=o.useRef(null),{inputProps:v,isSelected:y,isDisabled:C}=function(e,t,n){let{value:r,children:i,"aria-label":a,"aria-labelledby":o}=e;const u=e.isDisabled||t.isDisabled;null!=i||(null!=a||null!=o)||console.warn("If you do not provide children, you must specify an aria-label for accessibility");let d=t.selectedValue===r,{pressProps:h,isPressed:g}=(0,l.m)({isDisabled:u}),{focusableProps:b}=(0,c.f)((0,s.l)(e,{onFocus:()=>t.setLastFocusedValue(r)}),n),v=(0,s.l)(h,b),y=(0,s.b)(e,{labelable:!0}),O=t.lastFocusedValue===r||null==t.lastFocusedValue?0:-1;return u&&(O=void 0),{inputProps:(0,s.l)(y,{...v,type:"radio",name:p.get(t),tabIndex:O,disabled:u,checked:d,value:r,onChange:e=>{e.stopPropagation(),t.setSelectedValue(r)},"aria-describedby":["invalid"===t.validationState?f.get(t):null,m.get(t)].filter(Boolean).join(" ")||void 0}),isDisabled:u,isSelected:d,isPressed:g}}(d,g,b),{isFocusVisible:w,focusProps:S}=Object(c.e)(),{hoverProps:k,isHovered:x}=Object(l.h)({}),A=y?5:2;return o.createElement(j.Typography,Object(r._)({styleType:j.Typography.Type.Base,nodeType:"label"},k,Object(_.c)(Object(E.c)(F.disabled,F.label)(C),u)),o.createElement(h.a,null,o.createElement("input",Object(i._)(Object(r._)({},v,S),{ref:b,className:F.input}))),o.createElement("div",{className:F.dot},o.createElement("svg",{width:n,height:n,"aria-hidden":!0},o.createElement("circle",{cx:t,cy:t,r:x?t:0,fill:O.o.Color.BlueGray5,fillOpacity:+(x&&!C),className:F.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2+2,fill:"none",stroke:O.o.SemanticColor.Color.Background.Brand.Default,strokeWidth:2,strokeOpacity:+(w&&!C),className:F.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2-A/2,fill:"none",stroke:y?O.o.SemanticColor.Color.Background.Brand.Default:O.o.SemanticColor.Color.Border.Base.Default,strokeWidth:A,className:F.circle}))),d.children)},e.Group=e=>{const{name:t,orientation:n="vertical",className:a,children:g,label:b,description:v,errorMessage:C,validationState:w}=e,S=y(e),{radioGroupProps:k,labelProps:x,descriptionProps:A,errorMessageProps:I}=function(e,t){let{name:n,validationState:r,isReadOnly:i,isRequired:a,isDisabled:o,orientation:h="vertical"}=e,{direction:g}=(0,d.b)(),{labelProps:b,fieldProps:v,descriptionProps:y,errorMessageProps:O}=(0,u.a)({...e,labelElementType:"span"});m.set(t,y.id),f.set(t,O.id);let _=(0,s.b)(e,{labelable:!0}),{focusWithinProps:C}=(0,l.g)({onBlurWithin(){t.selectedValue||t.setLastFocusedValue(null)}}),w=(0,s.v)(n);return p.set(t,w),{radioGroupProps:(0,s.l)(_,{role:"radiogroup",onKeyDown:e=>{let n;switch(e.key){case"ArrowRight":n="rtl"===g&&"vertical"!==h?"prev":"next";break;case"ArrowLeft":n="rtl"===g&&"vertical"!==h?"next":"prev";break;case"ArrowDown":n="next";break;case"ArrowUp":n="prev";break;default:return}e.preventDefault();let r,i=(0,c.c)(e.currentTarget,{from:e.target});"next"===n?(r=i.nextNode(),r||(i.currentNode=e.currentTarget,r=i.firstChild())):(r=i.previousNode(),r||(i.currentNode=e.currentTarget,r=i.lastChild())),r&&(r.focus(),t.setSelectedValue(r.value))},"aria-invalid":"invalid"===r||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":i||void 0,"aria-required":a||void 0,"aria-disabled":o||void 0,"aria-orientation":h,...v,...C}),labelProps:b,descriptionProps:y,errorMessageProps:O}}(e,S);return o.createElement("div",Object(r._)({"data-name":t},k,Object(_.c)(F.groupWrapper,a)),Boolean(b)&&o.createElement(j.Typography,Object(r._)({nodeType:"span",styleType:j.Typography.Type.Base},x),b),o.createElement("div",Object(_.c)(F[n],Object(E.c)(F.errorGroup,void 0)(Boolean("invalid"===w))),o.createElement(R.Provider,{value:S},g),Boolean(v)&&o.createElement(h.a,null,o.createElement("div",A,v))),Boolean(C)&&"invalid"===w&&o.createElement(j.Typography.Small,Object(i._)(Object(r._)({},I),{className:F.errorMessage}),o.createElement("i",{"aria-hidden":!0},o.createElement(O.l,null)),C))};const t=16,n=2*t}(D||(D={})),(V=H||(H={})).Group=e=>{var{items:t,selectedItemIndex:n,itemWrapperClassName:s}=e,c=Object(a._)(e,["items","selectedItemIndex","itemWrapperClassName"]);const[l,u]=o.useState(n.get()),[d,p]=o.useState(void 0);return x.a.useSubscriptionTo(w.a.mergeStatic(n.pipe(w.a.tap(u)),S.b.toObservable(s).pipe(w.a.tap(p)))),o.createElement(D.Group,Object(i._)(Object(r._)({},c),{value:String(l),onChange:e=>{var t,r;return null===(t=(r=c).onChange)||void 0===t||t.call(r,e),n.set(+e)}}),t.map((e,t)=>o.createElement(D.Item,{key:t,value:String(t),className:d},e)))},V.Item=e=>{var{onChange:t,checked:n,className:c,children:l}=e,u=Object(a._)(e,["onChange","checked","className","children"]);const d=Object(s.v)(),p=y({defaultValue:n.get()?d:void 0});return o.useEffect(()=>{p.selectedValue===d&&t()},[p.selectedValue,t,d]),x.a.useSubscriptionTo(n.pipe(w.a.tap(e=>p.setSelectedValue(e?d:"")))),o.createElement(R.Provider,{value:p},o.createElement(C.a.Fragment,null,w.a.combineLatestStatic([S.b.toObservable(l),S.b.toObservable(c)]).pipe(w.a.map(([e,t])=>o.createElement(D.Item,Object(i._)(Object(r._)({},u),{value:d,className:t}),e)))))}},uzqA:function(e,t,n){e.exports=n.p+"files/1700cc5c5c65844ddc63026a84773cab/grammarlyproductbeta1_8-regular.woff2"},v8A7:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("+vYo"),i=n("mgiE"),a=n("0kuo"),o=n("l5lb"),s=n("DTwm"),c=n("ENBj");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"activePopoverStack",void 0),u(this,"activePopoverView",void 0),u(this,"_state",void 0),this._state=r.a.create({dsl:i.g.none,revision:-1}),this.activePopoverStack=this._state.view("dsl"),this.activePopoverView=this.activePopoverStack.view(i.g.chain((function(e){return i.g.fromNullable(e.views[e.selected])})))}var t,n,d;return t=e,(n=[{key:"getInteractionActions",value:function(e,t,n){return Object(s.pipe)(this._state.get(),(function(e){return e.dsl}),i.g.filter((function(n){return n.id===e&&n.selected===t})),i.g.map((function(e){return e.views[e.selected]})),i.g.fold((function(){return[]}),(function(e){switch(n){case o.a.ActionInteractPopoverInteraction.Fulfill:return e.onFulfill||[];case o.a.ActionInteractPopoverInteraction.Dismiss:return e.onDismiss||[];default:Object(a.d)(n)}})))}},{key:"addPopover",value:function(e,t){this._state.modify((function(n){var r=void 0!==t&&n.revision>t,a=void 0!==t&&n.revision===t,o=Object(s.pipe)(n.dsl,i.g.exists((function(t){return t.id===e.id}))),c=!i.g.isNone(n.dsl);return r||o||a&&c?n:{dsl:i.g.some(e),revision:null!=t?t:n.revision}}))}},{key:"removePopover",value:function(e,t){this._state.modify((function(n){var r=void 0!==t&&n.revision>t,a=Object(s.pipe)(n.dsl,i.g.exists((function(t){return t.id===e})));return r||!a?n:{dsl:i.g.none,revision:null!=t?t:n.revision}}))}},{key:"switchView",value:function(e){this._state.modify((function(t){return Object(s.pipe)(t.dsl,i.g.filter((function(t){return t.id===e.sduiRootId})),i.g.map((function(t){return c.a.bulkSwitchView(t,[{where:e.where,selected:e.selected,type:"switchView"}])})),i.g.filter((function(e){return"popoverStack"===e.type})),i.g.fold((function(){return t}),(function(e){return{dsl:i.g.some(e),revision:t.revision}})))}))}}])&&l(t.prototype,n),d&&l(t,d),e}()},"vLu/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("B8yO"),s=n("DTwm"),c=n("tiWp"),l=n("4GyQ"),u=n("OwvP"),d=n("xk6L"),p=n("mgiE"),m=n("2swC"),f=n("NDcT"),h=n("ldOx"),g=n("t39C"),b=n("wuWi"),v=n("nWMp"),y=n("7IMz"),O=n("ZDrO"),_=n("cZ4c"),C=n("SOPW"),w=n("4wwO"),S=n("itj6"),k=n("KH+i"),E=n("LqiM"),j=n("TXN2"),x=n("KYWP"),A=n("JRBS"),I=n("hVYI");!function(e){e.BundleMini=({card:e,actions:t})=>o.createElement(E.a.Mini,Object(a._)(Object(i._)({},Object(l.c)(x.b.wrapper,x.b.bundleContainer)),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:o.createElement(b.m,{className:x.b.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),o.createElement(u.a.div,{className:M.content},o.createElement(g.c,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:M.emoji}),o.createElement("div",{className:x.b.highlightedText},w.a.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const i=o.useContext(f.a.Context),a=y.a.useAtomOf(e.activeAlert.toneAlternatives),l=o.useCallback(n=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:S.b.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})},[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return Object(c.pipe)(e.transform,p.g.filter(_.j.isToneAI),p.g.fold(()=>null,c=>o.createElement(j.r,{card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardBody:n=>o.createElement(o.Fragment,null,o.createElement(j.i,{alert:e.activeAlert,options:e.renderOptions}),o.createElement(u.a.Fragment,null,a.pipe(d.a.map(e=>o.createElement(I.a,{toneAlternatives:e,onSelectToneAlternative:l})))),0===e.activeAlert.selectedToneAlternativeIdx?o.createElement("div",{className:B.replacementContainer},e.activeAlert.highlightTexts[0]):o.createElement(h.b,{classes:{rendered:B.replacement,removing:B.replacementHidden},timeout:250,content:d.a.of(o.createElement(A.g,{label:c.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:B.replacementContainer,a11yContrast:e.renderOptions.features.has(k.a.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?o.createElement(j.q,{title:i.card.todoAction(c.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:O.d.callOnce(()=>t.next({type:S.b.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:S.b.getCardType(e),eligibleForSurvey:C.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:C.a.isEligibleForGbPrompt(e)}))}):null),mainActions:Object(s.constant)(o.createElement(j.e,{card:e,feedbackActions:t})),subActions:Object(s.constant)(o.createElement(j.m,{card:e,actions:t})),cardFooter:Object(s.constant)(o.createElement(j.g,{card:e}))})))}}(r||(r={}));const T={width:v.a.rem(1),height:v.a.rem(1),marginRight:v.a.rem(.5)},M=v.a.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[T]}),P={transition:"opacity "+v.a.seconds(j.t)},N={width:v.a.percent(100),background:m.a.CoreNeutral10,borderRadius:v.a.px(4),fontSize:v.a.rem(.875),lineHeight:v.a.rem(1.5),fontFeatureSettings:"'ss03' on",padding:v.a.px(8),marginTop:v.a.px(12),boxSizing:"border-box"},B=v.a.stylesheet({replacement:[P],replacementHidden:[P,{opacity:0}],replacementContainer:[N]})},vVRF:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return z})),n.d(t,"f",(function(){return Q})),n.d(t,"a",(function(){return J.b}));var r,i=n("B8yO"),a=n("DTwm"),o=n("mgiE"),s=n("nWMp"),c=n("fB2g"),l=n("2swC"),u=n("7Pyj"),d="report-sections-title-",p={author:"".concat(d,"author"),titleSection:"".concat(d,"titleSection"),title:"".concat(d,"title"),largeTitle:"".concat(d,"largeTitle"),mediumTitle:"".concat(d,"mediumTitle"),smallTitle:"".concat(d,"smallTitle"),titleContainer:"".concat(d,"titleContainer")},m={display:"-webkit-box",overflow:"hidden",color:l.a.CoreNeutral90,wordWrap:"break-word",hyphens:"auto",fontWeight:"bold","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"},f={author:s.a.joinClasses([p.author,c.a.style({color:l.a.CoreNeutral50,letterSpacing:0,fontSize:s.a.px(15*u.a),lineHeight:s.a.px(24*u.a)})]),titleSection:s.a.joinClasses([p.titleSection,c.a.style({marginBottom:s.a.px(22*u.a),pageBreakInside:"avoid"})]),title:s.a.joinClasses([p.title,c.a.style(m)]),largeTitle:s.a.joinClasses([p.largeTitle,c.a.style(m,{marginBottom:s.a.px(22*u.a),fontSize:s.a.px(28*u.a),lineHeight:s.a.px(40*u.a)})]),mediumTitle:s.a.joinClasses([p.mediumTitle,c.a.style(m,{fontSize:s.a.px(22*u.a),lineHeight:s.a.px(32*u.a)})]),smallTitle:s.a.joinClasses([p.smallTitle,c.a.style(m,{fontSize:s.a.px(18*u.a),lineHeight:s.a.px(32*u.a)})]),titleContainer:s.a.joinClasses([p.titleContainer,c.a.style({overflow:"hidden",textOverflow:"ellipsis"})])},h=function(e){var t=e.title,n=e.author;return i.createElement("section",{className:f.titleSection},i.createElement("h1",{className:t.length<100?f.largeTitle:t.length<200?f.mediumTitle:f.smallTitle},t),Object(a.pipe)(n,o.g.map((function(e){return i.createElement("p",{className:f.author},"by ",e)})),o.g.toNullable))},g=n("RRF2"),b=n("z+ZZ"),v={generalMetricsSection:"".concat("report-sections-general_metrics-","generalMetricsSection"),generalMetricsHeader:"".concat("report-sections-general_metrics-","generalMetricsHeader"),metrics:"".concat("report-sections-general_metrics-","metrics")},y={generalMetricsSection:s.a.joinClasses([v.generalMetricsSection,c.a.style(b.d,{marginBottom:s.a.px(14*u.a),$nest:{"& table":{width:s.a.percent(100),whiteSpace:"nowrap"},"& tbody":{verticalAlign:"top"}}})]),generalMetricsHeader:s.a.joinClasses([v.generalMetricsHeader,c.a.style(b.c,{margin:"".concat(s.a.px(23*u.a)," 0 ").concat(s.a.px(4*u.a))})]),metrics:s.a.joinClasses([v.metrics,c.a.style({color:l.a.CoreBlue50,letterSpacing:0,fontWeight:"bold",fontSize:s.a.px(15*u.a),lineHeight:s.a.px(23*u.a),$nest:{"& td":{width:s.a.percent(21.875)}}})])},O=function(e){var t=e.stats;return i.createElement("section",{className:y.generalMetricsSection},i.createElement("h2",{className:y.generalMetricsHeader},"General metrics"),i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",{className:y.metrics},i.createElement("td",null,t.chars.toLocaleString("en-US")),i.createElement("td",null,t.words.toLocaleString("en-US")),i.createElement("td",null,t.sentences),i.createElement("td",null,g.d.convertTimeToShortString(t.readingTime)),i.createElement("td",null,g.d.convertTimeToShortString(t.speakingTime))),i.createElement("tr",{className:b.a.text},i.createElement("td",null,"characters"),i.createElement("td",null,"words"),i.createElement("td",null,"sentences"),i.createElement("td",null,"reading",i.createElement("br",null),"time"),i.createElement("td",null,"speaking",i.createElement("br",null),"time")))))},_=n("ySi0"),C=n("2qi0");!function(e){e.checkMark="".concat("report-components-","checkMark")}(r||(r={}));var w;s.a.joinClasses([r.checkMark,c.a.style({display:"inline-block",marginRight:s.a.px(7*u.a),marginBottom:s.a.px(4*u.a),width:s.a.px(16*u.a),height:s.a.px(16*u.a),verticalAlign:"middle"})]);!function(e){e.radialProgressBar="".concat("report-components-radial_progress-","radialProgressBar"),e.radialProgressText="".concat("report-components-radial_progress-","radialProgressText"),e.radialProgressDescription="".concat("report-components-radial_progress-","radialProgressDescription")}(w||(w={}));var S,k={radialProgressBar:s.a.joinClasses([w.radialProgressBar,c.a.style({width:s.a.px(71*u.a),height:s.a.px(71*u.a),fontWeight:"bold",transform:"translateX(".concat(s.a.px(-6*u.a),")"),fill:l.a.CoreNeutral90})]),radialProgressText:s.a.joinClasses([w.radialProgressText,c.a.style({fontSize:"20px"})]),radialProgressDescription:s.a.joinClasses([w.radialProgressDescription,c.a.style({fontWeight:"normal",fontSize:"11px",fill:l.a.CoreNeutral60})])},E=function(e){var t=e.percentage,n=e.colorType,r=e.iconSize,a=e.description;return i.createElement(C.a,{percentage:t,colorType:n,iconSize:r,description:a,theme:{radialProgressBar:k.radialProgressBar,radialProgressText:k.radialProgressText,radialProgressDescription:k.radialProgressDescription}})},j=n("a5gI"),x={scoreTable:"".concat("report-sections-score-","scoreTable"),issuesSummary:"".concat("report-sections-score-","issuesSummary"),issueCounters:"".concat("report-sections-score-","issueCounters"),issueCounter:"".concat("report-sections-score-","issueCounter"),issuesLeftBlock:"".concat("report-sections-score-","issuesLeftBlock"),total:"".concat("report-sections-score-","total"),score:"".concat("report-sections-score-","score"),writingIssues:"".concat("report-sections-score-","wrtitingIssues"),critical:"".concat("report-sections-score-","critical"),advanced:"".concat("report-sections-score-","advanced")},A={display:"flex",verticalAlign:"top",alignItems:"center",$nest:{"& span":{paddingLeft:s.a.rem(.8)}}},I={display:"inline-block"},T={scoreTable:s.a.joinClasses([x.scoreTable,c.a.style(b.b,{margin:"".concat(s.a.px(22*u.a)," 0 ").concat(s.a.px(5*u.a)),$nest:(S={"& th":{paddingBottom:s.a.px(7*u.a)}},Object(j._)(S,"& .".concat(x.score),{width:s.a.percent(43.75)}),Object(j._)(S,"& .".concat(x.writingIssues),{width:s.a.percent(56.25)}),S)})]),issuesSummary:s.a.joinClasses([x.issuesSummary,c.a.style(b.e,A)]),issueCounters:s.a.joinClasses([x.issueCounters,c.a.style(b.e,A,{paddingTop:s.a.px(30*u.a),whiteSpace:"nowrap"})]),issueCounter:s.a.joinClasses([x.issueCounter,c.a.style({letterSpacing:s.a.px(.2*u.a),fontWeight:"bold",fontSize:s.a.px(15*u.a),lineHeight:s.a.px(19*u.a)})]),issuesLeftBlock:s.a.joinClasses([x.issuesLeftBlock,c.a.style(I)]),total:s.a.joinClasses([x.total,c.a.style(I,{width:s.a.percent(38.88),$nest:Object(j._)({},"& .".concat(x.issueCounter),{color:l.a.CoreNeutral90,letterSpacing:0,fontSize:s.a.px(18*u.a)})})]),critical:s.a.joinClasses([x.critical,c.a.style(I,{width:s.a.percent(38.88),$nest:Object(j._)({},"& .".concat(x.issueCounter),{color:l.a.CoreRed40})})]),advanced:s.a.joinClasses([x.advanced,c.a.style(I,{width:s.a.percent(22.24),$nest:Object(j._)({},"& .".concat(x.issueCounter),{color:l.a.CoreYellow60})})]),score:s.a.joinClasses([x.score]),writingIssues:s.a.joinClasses([x.writingIssues])};function M(e){return e>85?C.a.ColorType.eggBlue:e>60?C.a.ColorType.dandelion:C.a.ColorType.radicalRed}var P=function(e){var t=e.issues,n=e.className,r=e.text;return i.createElement("div",{className:n},i.createElement("div",{className:T.issueCounter},t||i.createElement(_.d.Checkmark,null)),r)},N=function(e){var t=e.critical,n=e.advanced;return i.createElement("td",{className:T.issueCounters},i.createElement(P,{className:T.total,issues:t+n,text:"Issues left"}),i.createElement(P,{className:T.critical,issues:t,text:"Critical"}),i.createElement(P,{className:T.advanced,issues:n,text:"Advanced"}))},B=function(e){var t=e.score;return i.createElement("td",null,i.createElement(E,{colorType:M(t),iconSize:C.a.IconSize.pdf,percentage:t}),i.createElement("p",{className:b.a.text},"This text scores better than ",t,"%",i.createElement("br",null),"of all texts checked by Grammarly"))},L=function(){return i.createElement("section",{className:b.a.section,"data-name":"no-writing-issues"},i.createElement("table",{className:T.scoreTable},i.createElement("thead",{className:b.a.sectionHeader},i.createElement("tr",null,i.createElement("th",{className:T.writingIssues},"Writing Issues"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:T.issuesSummary},i.createElement(_.d.Checkmark,null),i.createElement("span",null,"No issues found"))))))},F=function(e){var t=e.score,n=e.critical,r=e.advanced;return i.createElement("section",{className:b.a.section,"data-name":"section-score-"+t},i.createElement("table",{className:T.scoreTable},i.createElement("thead",{className:b.a.sectionHeader},i.createElement("tr",null,i.createElement("th",{className:T.score},"Score"),i.createElement("th",{className:T.writingIssues},"Writing Issues"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement(B,{score:t}),i.createElement(N,{critical:n,advanced:r})))))},R=function(e){var t=e.score,n=e.critical,r=e.advanced;return n||r?i.createElement(F,{score:t,critical:n,advanced:r}):i.createElement(L,null)},D=n("NDcT"),H=n("uxqH"),V=n("lXTq"),U={plagiarismSection:"".concat("report-sections-plagiarism-","plagiarismSection"),plagiarismSectionHeader:"".concat("report-sections-plagiarism-","plagiarismSectionHeader"),original:"".concat("report-sections-plagiarism-","original"),plagiarismMark:"".concat("report-sections-plagiarism-","plagiarismMark"),score:"".concat("report-sections-plagiarism-","score"),percent:"".concat("report-sections-plagiarism-","percent"),sources:"".concat("report-sections-plagiarism-","sources"),sourcesCount:"".concat("report-sections-plagiarism-","sourcesCount"),scoreDescription:"".concat("report-sections-plagiarism-","scoreDescription")},W={plagiarismSection:s.a.joinClasses([U.plagiarismSection,c.a.style(b.d,{pageBreakAfter:"always"})]),plagiarismSectionHeader:s.a.joinClasses([U.plagiarismSectionHeader,c.a.style(b.c,{margin:"".concat(s.a.px(23*u.a)," 0 ").concat(s.a.px(10*u.a))})]),original:s.a.joinClasses([U.original,c.a.style(b.e,{display:"flex",alignItems:"center"})]),plagiarismMark:s.a.joinClasses([U.plagiarismMark,c.a.style({marginRight:s.a.rem(.8)})]),score:s.a.joinClasses([U.score,c.a.style(b.e,{width:s.a.percent(21.875)})]),percent:s.a.joinClasses([U.percent,c.a.style({marginTop:0,width:s.a.px(64*u.a),textAlign:"center"})]),sources:s.a.joinClasses([U.sources,c.a.style(b.e,{paddingTop:s.a.px(28*u.a),paddingBottom:0,width:s.a.percent(78.125),verticalAlign:"top"})]),sourcesCount:s.a.joinClasses([U.sourcesCount,c.a.style({color:l.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:s.a.px(18*u.a),lineHeight:s.a.px(18*u.a)})]),scoreDescription:s.a.joinClasses([U.scoreDescription,c.a.style(b.e,{paddingTop:s.a.px(10*u.a),whiteSpace:"pre-line"})])},z=function(e){var t=e.plagiarismData,n=i.useContext(D.a.Context);return i.createElement("section",{className:W.plagiarismSection,"data-name":"section-plagiarism-"+(t.state===V.a.PlagiarismCheckingState.CHECKED?t.score:-1)},i.createElement("h2",{className:W.plagiarismSectionHeader},"Plagiarism"),t.state===V.a.PlagiarismCheckingState.NOT_CHECKED?i.createElement("p",{className:b.a.text},"This text hasn’t been checked for plagiarism"):H.a.isMin(t.score)?i.createElement("p",{className:W.original},i.createElement(_.d.Checkmark,{className:W.plagiarismMark}),"This text seems 100% original. Grammarly found no matching text on",i.createElement("br",null),"the Internet or in ProQuest’s databases."):i.createElement("table",{className:b.a.genericTable},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:W.score},i.createElement(E,{colorType:C.a.ColorType.lightVisteria,iconSize:C.a.IconSize.pdf,percentage:H.a.prism.reverseGet(t.score),description:"%"})),i.createElement("td",{className:W.sources},i.createElement("div",{className:W.sourcesCount},t.sources),t.sources>1?"sources":"source")),i.createElement("tr",null,i.createElement("td",{colSpan:2,className:W.scoreDescription},n.performance.report.plagiarismDescription(t.score,t.sources))))))},G=n("hcme"),q={writingIssuesSection:"".concat("report-sections-writing_issues-","writingIssuesSection"),writingIssuesTable:"".concat("report-sections-writing_issues-","writingIssuesTable"),issueHeader:"".concat("report-sections-writing_issues-","issueHeader"),categoryAmount:"".concat("report-sections-writing_issues-","categoryAmount"),issueAmount:"".concat("report-sections-writing_issues-","issueAmount"),circle:"".concat("report-sections-writing_issues-","circle"),oval:"".concat("report-sections-writing_issues-","oval"),generalTitle:"".concat("report-sections-writing_issues-","generalTitle"),issueTitle:"".concat("report-sections-writing_issues-","issueTitle"),categoryTitle:"".concat("report-sections-writing_issues-","categoryTitle"),fakeHeader:"".concat("report-sections-writing_issues-","fakeHeader"),progressBarCell:"".concat("report-sections-writing_issues-","progressBarCell"),issueProgressBar:"".concat("report-sections-writing_issues-","issueProgressBar"),issueContent:"".concat("report-sections-writing_issues-","issueContent"),temporaryHeader:"".concat("report-sections-writing_issues-","temporaryHeader"),progressBarBg:"".concat("report-sections-writing_issues-","progressBarBg")},K={marginLeft:s.a.px(6*u.a),width:s.a.px(20*u.a),height:s.a.px(20*u.a),borderRadius:s.a.px(10*u.a),background:l.a.CoreRed40,color:l.a.CoreNeutral0,textAlign:"center",fontSize:s.a.px(12*u.a),lineHeight:s.a.px(20*u.a)},$={paddingLeft:s.a.px(22*u.a),width:s.a.px(293*u.a),color:l.a.CoreNeutral90,letterSpacing:0,fontSize:s.a.px(14*u.a),lineHeight:s.a.px(24*u.a)},Z={writingIssuesSection:s.a.joinClasses([q.writingIssuesSection,c.a.style({borderTop:"1px solid ".concat(l.a.CoreNeutral30)})]),writingIssuesTable:s.a.joinClasses([q.writingIssuesSection,c.a.style(b.b,{position:"relative",marginBottom:s.a.px(22*u.a),width:s.a.px(437*u.a),$nest:{"& td, & th":{verticalAlign:"top",pageBreakInside:"avoid"}}})]),issueHeader:s.a.joinClasses([q.issueHeader,c.a.style({pageBreakAfter:"avoid"})]),categoryAmount:s.a.joinClasses([q.categoryAmount,c.a.style({width:s.a.px(32*u.a),fontWeight:"bold",lineHeight:s.a.px(22*u.a)})]),issueAmount:s.a.joinClasses([q.issueAmount,c.a.style({paddingRight:s.a.px(10*u.a),color:l.a.CoreRed40,textAlign:"right",fontWeight:"bold",fontSize:s.a.px(13*u.a),lineHeight:s.a.px(24*u.a)})]),circle:s.a.joinClasses([q.circle,c.a.style(K)]),oval:s.a.joinClasses([q.oval,c.a.style(K,{width:s.a.px(24*u.a)})]),generalTitle:s.a.joinClasses([q.generalTitle,c.a.style($)]),issueTitle:s.a.joinClasses([q.issueTitle,c.a.style($,{textTransform:"lowercase",fontWeight:"normal",$nest:{"&:first-letter":{textTransform:"capitalize"}}})]),categoryTitle:s.a.joinClasses([q.categoryTitle,c.a.style($,{fontWeight:"bold"})]),fakeHeader:s.a.joinClasses([q.fakeHeader,c.a.style({position:"absolute",top:0,left:0,width:s.a.percent(100),background:l.a.CoreNeutral0,lineHeight:s.a.px(24*u.a)})]),progressBarCell:s.a.joinClasses([q.progressBarCell,c.a.style({width:s.a.px(112*u.a)})]),issueProgressBar:s.a.joinClasses([q.issueProgressBar,c.a.style({marginTop:s.a.px(12*u.a),minWidth:s.a.px(5*u.a),height:s.a.px(5*u.a),borderRadius:s.a.px(6*u.a),background:"linear-gradient(to right, ".concat(l.a.CoreRed30,", ").concat(l.a.CoreRed40,")"),boxShadow:"0 0 0 ".concat(s.a.px(3*u.a)," ").concat(l.a.CoreNeutral0)})]),issueContent:s.a.joinClasses([q.issueContent,c.a.style({pageBreakInside:"avoid"})]),temporaryHeader:s.a.joinClasses([q.temporaryHeader,c.a.style({pageBreakInside:"avoid"})]),progressBarBg:s.a.joinClasses([q.progressBarBg,c.a.style({width:s.a.percent(100),borderRadius:s.a.px(6*u.a),backgroundColor:l.a.CoreNeutral10})])},Y=function(e){var t=e.maxIssues,n=e.count/t*100;return n>94&&n<98?n=94:n>=98&&(n=100),i.createElement("div",{className:Z.progressBarBg},i.createElement("div",{className:Z.issueProgressBar,style:{width:"".concat(n,"%")}}))},X=function(e){var t=e.category,n=e.categoryIssues;return i.createElement("tr",{className:Z.temporaryHeader},i.createElement("th",{className:Z.categoryAmount},i.createElement("div",{className:n>99?Z.oval:Z.circle},n)),i.createElement("th",{className:Z.categoryTitle},t),i.createElement("th",{className:Z.progressBarCell}))},Q=function(e){var t=e.issues,n=0;return i.createElement("section",{className:Z.writingIssuesSection},i.createElement("h2",{className:b.a.sectionHeader},"Writing Issues"),Object.entries(t).map((function(e){var t=Object(G._)(e,2),r=t[0],i=t[1],a=0;return{category:r,issues:Object.entries(i).map((function(e){var t=Object(G._)(e,2),r=t[0],i=t[1];return i>n&&(n=i),a+=i,{name:r,count:i}})),issuesCount:a}})).map((function(e){var t=e.category,r=e.issuesCount,a=e.issues;return i.createElement("table",{key:t,className:Z.writingIssuesTable},i.createElement("thead",{className:Z.issueHeader},i.createElement(X,{category:t,categoryIssues:r})),i.createElement("tbody",null,a.map((function(e){var t=e.name,r=e.count;return i.createElement("tr",{key:t,className:Z.issueContent},i.createElement("td",{className:Z.issueAmount},r),i.createElement("td",{className:Z.issueTitle},t),i.createElement("td",null,i.createElement(Y,{maxIssues:n,count:r})))}))))})))},J=n("nNHm")},vb6D:function(e,t,n){"use strict";n.d(t,"a",(function(){return jr}));var r=n("B8yO"),i=n("pztc");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=n("nWMp");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e){var t=e.children,n=e.className,i=u(e,["children","className"]);return r.createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({"data-role":"column-layout",className:c.a.joinClasses([p.holder,n])},i),t)},p=c.a.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),m=n("dHrn"),f=n("Qlyw");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=new f.c(100);function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=Object(m.a)((function(e){var t=e.child,n=e.footer,i=e.id,a=e.meta,o=v(e,["child","footer","id","meta"]);return r.createElement(d,{id:"".concat(i,"-container"),role:"region","aria-label":a.label,"aria-describedby":o["aria-describedby"]},t,n?r.createElement("div",{className:O.wrapper},n):null)})),O=c.a.stylesheet({wrapper:[{display:"flex",flexDirection:"column"}]}),_=n("l5lb"),C=n("cZKX"),w=n("DTwm"),S=n("mgiE"),k=n("M3t0"),E=n("pKQL"),j=n("ThYs");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var T=function(e){return"selectAlternative"===e.type?S.g.some(e.alternativeIndex):S.g.none};function M(e){return function(t){return Object(w.pipe)(t,C.S(Object(w.flow)(T,S.g.exists((function(t){return t===e})))),S.g.isSome)}}var P=n("OwvP");function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var F,R=n("UlUd"),D=n("N4IK");function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function W(e){return function(e){if(Array.isArray(e))return e}(e)||U(e)||G(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return H(e)}(e)||U(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}!function(e){e[e.HeadingLevel4LetterSpacing=0]="HeadingLevel4LetterSpacing",e[e.HeadingLevel3LetterSpacing=0]="HeadingLevel3LetterSpacing",e[e.HeadingLevel1LetterSpacing=-.0025]="HeadingLevel1LetterSpacing",e[e.BodyLetterSpacing=0]="BodyLetterSpacing",e[e.MediumLetterSpacing=0]="MediumLetterSpacing",e[e.SmallLetterSpacing=0]="SmallLetterSpacing",e[e.HeadingLevel4Size=1]="HeadingLevel4Size",e[e.HeadingLevel3Size=1.25]="HeadingLevel3Size",e[e.HeadingLevel1Size=1.75]="HeadingLevel1Size",e[e.BodySize=.875]="BodySize",e[e.MediumLetterSize=1]="MediumLetterSize",e[e.SmallSize=.75]="SmallSize"}(F||(F={}));var q,K,$=c.a.style({padding:"".concat(c.a.rem(.15625)," 0")}),Z=c.a.style({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}),Y=function(e){var t=e.size,n=e.format,i=e.textColor,a=e.backgroundColor,o=e.outlineColor,s=e.text,l=e.meta,u=e.removeImplicitPadding,d=void 0!==u&&u,p=function(e,t){var n="".concat(e,"-").concat(t),r=pe.get(n);if(void 0!==r)return r;var i=c.a.style({color:D.b[e],backgroundColor:Boolean(t)?D.b[t]:t});return pe.put(n,i),i}(i,a),m=W(n),f=m[0],h=m.slice(1),g=void 0!==f?de[f]:{name:"span",canHaveAriaLabel:!1},b=h.map((function(e){return e===_.a.TextFormat.StrikeoutDiagonal?function(e){var t="sd-".concat(e),n=pe.get(t);if(void 0!==n)return n;var r=c.a.style(function(e){return{backgroundImage:"linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ".concat(D.b[e]," 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)")}}(e));return pe.put(t,r),r}(null!=o?o:i):ue[e]}));void 0!==o&&b.push(function(e){var t="ol-".concat(e),n=pe.get(t);if(void 0!==n)return n;var r=c.a.style({borderColor:D.b[e]});return pe.put(t,r),r}(o)),d||b.push($);var v=c.a.joinClasses([p,le[t]].concat(z(b)));if(l.label&&!g.canHaveAriaLabel){var y=r.createElement(g.name,{className:v,"aria-hidden":!0,children:s});return r.createElement(r.Fragment,null,r.createElement("span",{className:Z},l.label),y)}return r.createElement(g.name,{className:v,"aria-label":l.label,children:s})},X=c.a.rem(1.5),Q=c.a.rem(1.5),J=c.a.rem(2),ee=c.a.rem(1.5),te=c.a.rem(21/16),ne=c.a.rem(.875),re={letterSpacing:c.a.rem(F.HeadingLevel4LetterSpacing),fontSize:c.a.rem(F.HeadingLevel4Size),lineHeight:X},ie={letterSpacing:c.a.rem(F.HeadingLevel3LetterSpacing),fontSize:c.a.rem(F.HeadingLevel3Size),lineHeight:Q},ae={letterSpacing:"".concat(F.HeadingLevel1LetterSpacing,"em"),fontSize:c.a.rem(F.HeadingLevel1Size),lineHeight:J},oe={letterSpacing:c.a.rem(F.MediumLetterSpacing),fontSize:c.a.rem(F.MediumLetterSize),lineHeight:ee},se={letterSpacing:c.a.rem(F.BodyLetterSpacing),fontSize:c.a.rem(F.BodySize),lineHeight:te},ce={letterSpacing:c.a.rem(F.SmallLetterSpacing),fontSize:c.a.rem(F.SmallSize),lineHeight:ne},le=c.a.stylesheet((V(q={},_.a.TextSize.HeadingLevel4,[re]),V(q,_.a.TextSize.HeadingLevel3,[ie]),V(q,_.a.TextSize.HeadingLevel1,[ae]),V(q,_.a.TextSize.Medium,[oe]),V(q,_.a.TextSize.Regular,[se]),V(q,_.a.TextSize.Small,[ce]),q)),ue=c.a.stylesheet((V(K={},_.a.TextFormat.Bold,[{fontWeight:"bolder"}]),V(K,_.a.TextFormat.Italic,[{fontStyle:"italic"}]),V(K,_.a.TextFormat.StrikeoutHorizontal,[{textDecoration:"line-through"}]),V(K,_.a.TextFormat.StrikeoutDiagonal,[]),V(K,_.a.TextFormat.Outline,[{padding:"".concat(c.a.rem(1/16)," ").concat(c.a.rem(3.5/16)," ").concat(c.a.rem(1/16)," ").concat(c.a.rem(3.5/16)),border:"1px solid",borderRadius:"2px"}]),K)),de={strikeoutHorizontal:{name:"s",canHaveAriaLabel:!1},strikeoutDiagonal:{name:"span",canHaveAriaLabel:!1},outline:{name:"span",canHaveAriaLabel:!1},bold:{name:"strong",canHaveAriaLabel:!1},italic:{name:"em",canHaveAriaLabel:!1}};var pe=new f.c(100);function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){return r.createElement("div",{"data-role":"box",className:he(e)},e.children)};function he(e){var t=e.padding,n=e.borderRadius,r=e.backgroundColor,i=e.minWidth,a=[be.base];return void 0!==t&&a.push(function(e){var t,n,r,i,a="p-".concat(null===(t=e)||void 0===t?void 0:t.top,"-").concat(null===(n=e)||void 0===n?void 0:n.bottom,"-").concat(null===(r=e)||void 0===r?void 0:r.left,"-").concat(null===(i=e)||void 0===i?void 0:i.right),o=ve.get(a);if(void 0!==o)return o;var s={$debugName:"padding"};void 0!==e&&(s.paddingRight=c.a.rem(Number(e.right)),s.paddingBottom=c.a.rem(Number(e.bottom)),s.paddingTop=c.a.rem(Number(e.top)),s.paddingLeft=c.a.rem(Number(e.left)));var l=c.a.style(s);return ve.put(a,l),l}(t)),void 0!==n&&a.push(function(e){var t=e.topLeft,n=e.topRight,r=e.bottomRight,i=e.bottomLeft,a="bdr-".concat(t,"-").concat(n,"-").concat(r,"-").concat(i),o=ve.get(a);if(void 0!==o)return o;var s={$debugName:"borderRadius"};void 0!==e&&(s.borderTopLeftRadius=c.a.rem(Number(ye[t])),s.borderTopRightRadius=c.a.rem(Number(ye[n])),s.borderBottomRightRadius=c.a.rem(Number(ye[r])),s.borderBottomLeftRadius=c.a.rem(Number(ye[i])));var l=c.a.style(s);return ve.put(a,l),l}(n)),void 0!==r&&a.push(function(e){var t="bgc-".concat(e),n=ve.get(t);if(void 0!==n)return n;var r=c.a.style({backgroundColor:D.b[e]});return ve.put(t,r),r}(r)),void 0!==i&&a.push(function(e){var t="minW-".concat(e),n=ve.get(t);if(void 0!==n)return n;var r={$debugName:"minwidth"};void 0!==e&&(r.minWidth=c.a.rem(Number(e)));var i=c.a.style(r);return ve.put(t,i),i}(i)),a.length>0?c.a.joinClasses(a):void 0}var ge,be=c.a.stylesheet({base:[{display:"block"}]}),ve=new f.c(100);var ye=(me(ge={},_.a.Radius.Radius0,0),me(ge,_.a.Radius.RadiusHalf,.125),me(ge,_.a.Radius.Radius1,.25),me(ge,_.a.Radius.Radius2,.5),me(ge,_.a.Radius.Radius3,.75),ge);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){var t=r.useRef(null);return r.useEffect((function(){var n,r=e.maxLines&&(null===(n=t.current)||void 0===n?void 0:n.querySelector("*:last-child"));if(t.current&&r){var i=setTimeout((function(){var e,n,i=window.getComputedStyle(r,null),a=i.getPropertyValue("color"),o=i.getPropertyValue("font-size"),s=i.getPropertyValue("line-height"),c=i.getPropertyValue("letter-spacing");Object.assign(null!==(n=null===(e=t.current)||void 0===e?void 0:e.style)&&void 0!==n?n:{},{color:a,fontSize:o,lineHeight:s,letterSpacing:c})}),0);return function(){return clearTimeout(i)}}return function(){}}),[e.maxLines]),r.createElement("div",{ref:t,"data-role":"block-layout",className:Ce(e)},e.children)};function Ce(e){var t=e.spacing,n=e.innerSpacing,r=e.horizontalAlign,i=e.verticalAlign,a=e.fraction,o=e.maxLines,s=[we.base];return void 0!==o&&s.push(function(e){var t="m-".concat(e),n=Ee.get(t);if(void 0!==n)return n;var r=c.a.style({display:"-webkit-inline-box",overflow:"hidden",WebkitBoxOrient:"vertical","-webkit-line-clamp":e});return Ee.put(t,r),r}(o)),void 0===t&&void 0===n||s.push(function(e){var t,n,r,i,a,o,s=e.spacing,l=e.innerSpacing,u="".concat(null===(t=s)||void 0===t?void 0:t.top,"-").concat(null===(n=s)||void 0===n?void 0:n.bottom,"-").concat(null===(r=s)||void 0===r?void 0:r.left,"-").concat(null===(i=s)||void 0===i?void 0:i.right,"-").concat(null===(a=l)||void 0===a?void 0:a.vertical,"-").concat(null===(o=l)||void 0===o?void 0:o.horizontal),d=Ee.get(u);if(void 0!==d)return d;var p,m,f,h,g={$debugName:"spacing"};void 0!==s&&(g.marginRight=c.a.rem(Number(s.right)),g.marginBottom=c.a.rem(Number(s.bottom)),g.marginTop=c.a.rem(Number(s.top)),g.marginLeft=c.a.rem(Number(s.left))),void 0!==l&&(g.marginRight=c.a.rem(Number(null!==(f=null===(p=s)||void 0===p?void 0:p.right)&&void 0!==f?f:0)-Number(l.horizontal)),g.marginBottom=c.a.rem(Number(null!==(h=null===(m=s)||void 0===m?void 0:m.bottom)&&void 0!==h?h:0)-Number(l.vertical)),g.$nest={"& > *":{marginRight:c.a.rem(Number(l.horizontal)),marginBottom:c.a.rem(Number(l.vertical))}});var b=c.a.style(g);return Ee.put(u,b),b}({spacing:t,innerSpacing:n})),void 0!==r&&s.push(je[r]),void 0!==i&&s.push(xe[i]),void 0!==a&&s.push(function(e){var t="f-".concat(e),n=Ee.get(t);if(void 0!==n)return n;var r=c.a.style({flex:e,overflow:"hidden"});return Ee.put(t,r),r}(a)),s.length>0?c.a.joinClasses(s):void 0}var we=c.a.stylesheet({base:[{overflowWrap:"anywhere",display:"inline-block"}]});var Se,ke,Ee=new f.c(100),je=c.a.stylesheet((Oe(Se={},_.a.HorizontalAlign.Left,[{textAlign:"left"}]),Oe(Se,_.a.HorizontalAlign.Center,[{textAlign:"center"}]),Oe(Se,_.a.HorizontalAlign.Right,[{textAlign:"right"}]),Se)),xe=c.a.stylesheet((Oe(ke={},_.a.VerticalAlign.Top,[{$nest:{"& > *":{verticalAlign:"top"}}}]),Oe(ke,_.a.VerticalAlign.Middle,[{$nest:{"& > *":{verticalAlign:"middle"}}}]),Oe(ke,_.a.VerticalAlign.Bottom,[{$nest:{"& > *":{verticalAlign:"bottom"}}}]),ke)),Ae=n("2N2M"),Ie={width:c.a.rem(.85),height:c.a.rem(.85)},Te={width:c.a.rem(1.5),height:c.a.rem(1.5),borderRadius:c.a.rem(1.5),display:"inline-flex",justifyContent:"center",alignItems:"center"},Me=c.a.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[Ie],wrapper:[Te]});function Pe(e){return void 0===e?Me.wrapper:c.a.joinClasses([Me.wrapper,Object(Ae.b)(e)])}function Ne(e){return void 0===e?c.a.joinClasses([Me.main,Me.defaultSize]):c.a.joinClasses([Me.main,Be(e)])}function Be(e){var t=Le.get(e);if(void 0!==t)return t;var n=c.a.style({width:c.a.rem(Number(e)),height:c.a.rem(Number(e))});return Le.put(e,n),n}var Le=new f.c(100);function Fe(e,t,n){var r="wrapper-".concat(e,"-").concat(t,"-backgroundColor"),i=De.get(r);if(void 0!==i)return i;var a=c.a.style({width:c.a.rem(Number(t)),height:c.a.rem(Number(e)),display:"inline-flex",justifyContent:"center",alignItems:"center",margin:0});return void 0!==n&&(a=c.a.joinClasses([a,Object(Ae.b)(n)])),De.put(r,a),a}function Re(e,t,n){var r=n?"content-".concat(e,"-").concat(t,"-").concat(n):"content-".concat(e,"-").concat(t),i=De.get(r);if(void 0!==i)return i;var a=c.a.style({width:c.a.rem(Number(t)),height:c.a.rem(Number(e)),borderRadius:n?c.a.rem(Number(n)):void 0});return De.put(r,a),a}var De=new f.c(100);function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){He(e,t,n[t])}))}return e}function Ue(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var We={display:"flex",flexWrap:"nowrap",alignItems:"inherit",maxWidth:"100%"},ze=Ue(Ve({},We),{flexGrow:1}),Ge=Ue(Ve({},We),{marginLeft:"auto",flexShrink:0}),qe=c.a.stylesheet({row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[ze],rowRight:[Ge]});function Ke(e){return void 0===e?qe.row:c.a.joinClasses([qe.row,Ye(e)])}function $e(e){return void 0===e?qe.rowLeft:c.a.joinClasses([qe.rowLeft,Je[e]])}function Ze(e){return void 0===e?qe.rowRight:c.a.joinClasses([qe.rowRight,Je[e]])}function Ye(e){var t=e.top,n=e.bottom,r=e.left,i=e.right,a="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i),o=Qe.get(a);if(void 0!==o)return o;var s=c.a.style({marginTop:c.a.rem(Number(t)),marginLeft:c.a.rem(Number(r)),marginRight:c.a.rem(Number(i)),marginBottom:c.a.rem(Number(n))});return Qe.put(a,s),s}var Xe,Qe=new f.c(100),Je=c.a.stylesheet((He(Xe={},_.a.VerticalAlign.Top,[{alignItems:"start"}]),He(Xe,_.a.VerticalAlign.Middle,[{alignItems:"center"}]),He(Xe,_.a.VerticalAlign.Bottom,[{alignItems:"end"}]),Xe)),et=n("GsAQ"),tt=Object(m.a)((function(e){return r.createElement(et.a.List,{"data-role":"list",selectionMode:"single",selectionBehavior:"toggle","aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],assistiveScroll:!0,theme:{list:nt.list,item:{base:c.a.joinClasses([nt.listItem,it(e.itemHoveredColor)]),focused:at(e.itemFocusedColor)}},onSelectionChange:function(t){return("all"===t?e.items:e.items.filter((function(e){return t.has(e.id)}))).forEach(e.onSelect)},onClick:function(t){return e.onClick({id:t.key.toString(),clickPoint:t.clickPoint})}},e.items.map((function(t,n){return r.createElement(et.a.Item,{key:t.id,textValue:t.meta.label},e.renderItem(t,n))})))})),nt=c.a.stylesheet({list:[{margin:0,display:"flex",flexDirection:"column"}],listItem:[{display:"flex",minHeight:c.a.rem(2),cursor:"pointer",outline:"none",border:"none",backgroundColor:D.b.CoreNeutral0,borderRadius:c.a.rem(D.d.Radius1),padding:"0 0 0 ".concat(c.a.rem(D.f.Space2)),boxSizing:"border-box"}]}),rt=new f.c(100);function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.a.Color.CoreNeutral10,t="ihc-".concat(e),n=rt.get(t);if(void 0!==n)return n;var r=c.a.style({$nest:{"&:hover":{backgroundColor:D.b[e],$nest:{'& [data-role="list-item-secondary-button"]':{opacity:1}}}}});return rt.put(t,r),r}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.a.Color.CoreNeutral10,t="ifc-".concat(e),n=rt.get(t);if(void 0!==n)return n;var r=c.a.style({backgroundColor:D.b[e],$nest:{'& [data-role="list-item-secondary-button"]':{opacity:1}}});return rt.put(t,r),r}var ot=n("D6wy");function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct="listItemPrimaryButton",lt="listItemLabel",ut="listItemSecondaryButtonsContainer",dt="listItemSecondaryButton",pt={width:"calc(".concat(c.a.rem(D.f.Space8)," - ").concat(c.a.rem(D.f.SpaceHalf),")"),height:"calc(".concat(c.a.rem(D.f.Space8)," - ").concat(c.a.rem(D.f.Space1),")"),margin:"".concat(c.a.rem(D.f.SpaceHalf)),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:D.b.CoreNeutral10,borderRadius:c.a.rem(D.d.Radius1),$nest:{"&:active, &:hover, &:focus-visible":{backgroundColor:D.b.CoreNeutral20,opacity:1}}},mt={listItemPrimaryButton:c.a.joinClasses([ct,c.a.style({cursor:"pointer",outline:"none",border:"none",background:"transparent",padding:0})]),listItemLabel:c.a.joinClasses([lt,c.a.style({display:"inline-flex",textAlign:"left"})]),listItemSecondaryButtonsContainer:c.a.joinClasses([ut,c.a.style({display:"flex",alignItems:"center",opacity:0,$nest:{"&:focus-within":{opacity:1}}})]),listItemSecondaryButton:c.a.joinClasses([dt,c.a.style(pt)])},ft=n("RYaW");function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt={flexShrink:0,alignItems:"center",justifyContent:"center",height:c.a.rem(2),width:c.a.rem(2)},bt={$nest:{"& i":{height:c.a.rem(2),width:c.a.rem(2)}}},vt=c.a.stylesheet({button:[gt],item:[bt]}),yt=n("yIk2"),Ot=n("xk6L"),_t=n("+vYo"),Ct=n("000W");function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Et=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return yt.a.getIntersectionObservable(t,n).pipe(Ot.a.filter(Ct.tb),Ot.a.map((function(e){return 1!==e[0].intersectionRatio})),Ot.a.startWith(t.offsetHeight>e.offsetHeight))},jt=function(e,t){return _t.a.combine(e,t,S.g.map2(Et)).pipe(Ot.b.compact,Ot.a.switchMap(w.identity),Ot.a.onErrorResumeNext(Ot.a.of(!0)))},xt=S.c.getStructEq({topOverflow:S.c.eqBoolean,bottomOverflow:S.c.eqBoolean});var At=new f.c(100);var It=c.a.stylesheet({"scroll-main":[{display:"flex",flexDirection:"column",borderTop:"1px solid transparent",borderBottom:"1px solid transparent",transitionProperty:"border-top-color, border-bottom-color",transitionDuration:".2s",pointerEvents:"auto"}],overflowBottom:[{borderBottomColor:c.a.important(D.b.CoreNeutral20)}],overflowTop:[{borderTopColor:c.a.important(D.b.CoreNeutral20)}]}),Tt=n("4GyQ"),Mt=n("7IMz");function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nt(e,t,n[t])}))}return e}function Lt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Rt="sliderOuterContainer",Dt="sliderLabel",Ht="sliderContainer",Vt="slider",Ut="sliderDragging",Wt="sliderNotDragging",zt="sliderSliderDivisionPoint",Gt="sliderDivisionPointHoverArea",qt="sliderInner",Kt="sliderInnerNotDragging",$t="sliderInnerDragging",Zt="sliderInnerJiggle",Yt="sliderKnob",Xt="sliderKnobJiggle",Qt="sliderKnobNotDragging",Jt="sliderKnobDragging",en="sliderKnobEmoji",tn={fontWeight:700,fontSize:c.a.rem(.875),lineHeight:c.a.rem(1),width:c.a.rem(8)},nn={height:c.a.rem(2.625),display:"flex",flexDirection:"column",justifyContent:"center"},rn={position:"relative",width:c.a.percent(100),backgroundColor:D.b.CoreNeutral40,borderRadius:c.a.rem(.375),transition:"height 0.15s ease-in-out",$nest:Nt({"&:hover":{height:c.a.rem(.5)}},"&:hover .".concat(zt),{visibility:"visible"})},an={height:c.a.rem(.125)},on={height:c.a.rem(.5),$nest:Nt({},"& .".concat(zt),{visibility:"visible"})},sn={position:"absolute",height:c.a.rem(.25),backgroundColor:D.b.CoreNeutral0,top:c.a.rem(.125),bottom:c.a.rem(.125),borderRadius:c.a.percent(100),visibility:"hidden"},cn={background:D.b.CoreNeutral90,opacity:0,height:c.a.rem(1.5),position:"absolute",borderRadius:c.a.percent(100),cursor:"pointer",top:c.a.rem(-.5),zIndex:1,$nest:{"&:hover":{opacity:.1}}},ln={position:"relative",display:"flex",alignItems:"center",backgroundColor:D.b.CorePurple40,height:c.a.percent(100),borderRadius:c.a.rem(.375)},un=c.a.keyframes({from:{width:"100%"},to:{width:"calc(100% - ".concat(c.a.rem(1.5),")")}}),dn=c.a.keyframes({from:{width:"calc(100% - ".concat(c.a.rem(1.5),")")},to:{width:"100%"}}),pn={animation:"".concat(un," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(dn," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},mn=c.a.keyframes({from:{transform:"none"},to:{transform:"translateX(".concat(c.a.rem(-.75),")")}}),fn=c.a.keyframes({from:{transform:"translateX(".concat(c.a.rem(-.75),")")},to:{transform:"none"}}),hn={animation:"".concat(mn," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(fn," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},gn={position:"absolute",right:c.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:D.b.CoreNeutral0,borderRadius:c.a.rem(1.875),cursor:"ew-resize",transitionProperty:"width, height",transitionDuration:"0.15s",transitionTimingFunction:"ease-in-out",zIndex:1,$nest:{"&:hover":{width:c.a.rem(2),height:c.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},bn={width:c.a.rem(1.75),height:c.a.rem(1.75),boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)"},vn={width:c.a.rem(2),height:c.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},yn={width:c.a.rem(.9375),height:c.a.rem(.9375),pointerEvents:"none"},On={outerContainer:c.a.joinClasses([Rt,c.a.style({display:"flex",alignItems:"center"})]),label:c.a.joinClasses([Dt,c.a.style(tn)]),container:c.a.joinClasses([Ht,c.a.style(nn)]),slider:c.a.joinClasses([Vt,c.a.style(rn)]),sliderNotDragging:c.a.joinClasses([Wt,c.a.style(an)]),sliderDragging:c.a.joinClasses([Ut,c.a.style(on)]),sliderDivisionPoint:c.a.joinClasses([zt,c.a.style(sn)]),sliderDivisionPointHoverArea:c.a.joinClasses([Gt,c.a.style(cn)]),sliderInner:c.a.joinClasses([qt,c.a.style(ln)]),sliderInnerNotDragging:c.a.joinClasses([Kt,c.a.style({transition:"width 0.15s ease-in-out"})]),sliderInnerDragging:c.a.joinClasses([$t,c.a.style({transition:"none"})]),sliderInnerJiggle:c.a.joinClasses([Zt,c.a.style(pn)]),knob:c.a.joinClasses([Yt,c.a.style(gn)]),knobJiggle:c.a.joinClasses([Xt,c.a.style(hn)]),knobNotDragging:c.a.joinClasses([Qt,c.a.style(bn)]),knobDragging:c.a.joinClasses([Jt,c.a.style(vn)]),knobEmoji:c.a.joinClasses([en,c.a.style(yn)])},_n=n("fC5a"),Cn=n("k4jz");function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function kn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var En=c.a.stylesheet({default:[{overflow:"initial",userSelect:"initial",verticalAlign:"initial"}]}),jn=n("ukVJ"),xn=n("8TGn"),An=n("Q2+j");function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tn(e,t,n[t])}))}return e}function Pn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bn=Object(m.a)((function(e){var t=r.useRef(null),n=Object(xn.a)({"aria-label":e.meta.label,"aria-labelledby":null==e.meta.label?e.contentId:void 0,"aria-describedby":e["aria-describedby"],onPress:function(t){return e.onPress(t.target.getBoundingClientRect())},elementType:"div"},t).buttonProps;return r.createElement("div",Mn({className:Ln.button},n))})),Ln=c.a.stylesheet({container:[{position:"relative",minHeight:c.a.rem(3.5),display:"grid"}],content:[{display:"flex",alignItems:"center",$nest:{"& > div:first-of-type":{flexGrow:1}}}],button:[{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"transparent",cursor:"pointer"}]}),Fn=n("0kuo");function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hn=function(e){return c.a.rem(null!=e?e:.25)},Vn=function(e){return c.a.rem(1.25*(null!=e?e:.25))},Un=function(e,t){return c.a.style({height:"calc(".concat(Hn(t)," + ").concat(void 0!==e?Vn(t):0,")")})},Wn=function(e,t,n){return c.a.style({height:Hn(n),backgroundColor:"".concat(D.b[e]),border:t?"1px solid ".concat(D.b[t]):"none",borderRadius:Hn(n)})},zn=function(e,t,n){return c.a.style({width:"".concat(e,"%"),height:Hn(n),backgroundColor:"".concat(D.b[t])})},Gn=function(e,t){return c.a.style({left:"calc(".concat((n=e,r=[2,98],i=Dn(r,2),a=i[0],o=i[1],Math.min(o,Math.max(a,n))),"% - ").concat(Hn(t),")"),borderLeft:"".concat(Hn(t)," solid transparent"),borderRight:"".concat(Hn(t)," solid transparent"),borderTop:"".concat(Vn(t)," solid ").concat(D.b.CoreNeutral50)});var n,r,i,a,o},qn=c.a.stylesheet({outerContainer:[{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end"}],pinPoint:[{position:"absolute",top:0,width:0,height:0}],background:[{width:"100%",overflow:"hidden"}],fill:[{position:"relative"}],loading:[{position:"absolute",width:"100%",backgroundImage:"linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent)",backgroundSize:"20px 20px"}]}),Kn=n("wvT7"),$n=n("IMGo");function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||Qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e){return function(e){if(Array.isArray(e))return Zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){if(e){if("string"==typeof e)return Zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(e,t):void 0}}var Jn=function(e,t){return{$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:"".concat(e," ").concat(c.a.seconds(.3)," ").concat(t)}}}},er=c.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),tr=c.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function nr(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var rr,ir,ar,or,sr,cr,lr,ur=c.a.stylesheet({default:[{height:"1px",backgroundColor:D.b[_.a.Color.CoreNeutral20],border:"none",flex:1}]}),dr=n("yYk/"),pr=n("RRF2");function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ir=rr||(rr={}),ar=ir.pointerWidth=Math.sqrt(200),ir.slightMargin=17.5,or={position:"absolute",zIndex:c.d.level4,width:220,backgroundColor:D.a.NeutralGray90,borderRadius:c.a.rem(c.d.radius1),$nest:{"& button i path":{fill:D.b.CoreNeutral30,stroke:D.b.CoreNeutral30}}},sr={position:"absolute",top:c.a.rem(.75),right:c.a.rem(.75),color:D.a.NeutralGray30,textDecoration:"none"},cr={display:"block",position:"absolute",width:0,height:0,borderTop:"".concat(rr.pointerWidth,"px solid transparent"),borderBottom:"".concat(rr.pointerWidth,"px solid transparent"),borderLeft:"".concat(rr.pointerWidth,"px solid transparent"),borderRight:"".concat(rr.pointerWidth,"px solid transparent")},lr=ir.stylesheet=c.a.stylesheet({wrapper:[{position:"relative"}],popover:[or],closeButton:[sr],anchorPointer:[cr]}),ir.modifiers=c.a.stylesheet({preCheck:[{$nest:fr({},"&.".concat(lr.anchorPointer),{visibility:"hidden",position:"fixed",top:-1e3,left:-1e3})}],top:[{$nest:fr({},"&.".concat(lr.anchorPointer),{borderTopColor:D.a.NeutralGray90,top:-ar,left:"calc(50% - ".concat(ar,"px)")})}],bottom:[{$nest:fr({},"&.".concat(lr.anchorPointer),{borderBottomColor:D.a.NeutralGray90,bottom:-ar,left:"calc(50% - ".concat(ar,"px)")})}],left:[{$nest:fr({},"&.".concat(lr.anchorPointer),{borderLeftColor:D.a.NeutralGray90,left:-ar,top:"calc(50% - ".concat(ar,"px)")})}],right:[{$nest:fr({},"&.".concat(lr.anchorPointer),{borderRightColor:D.a.NeutralGray90,right:-ar,top:"calc(50% - ".concat(ar,"px)")})}]});var gr,br,vr=function(e,t){return e.left>=t.left&&e.top>=t.top&&e.left+e.width<t.left+t.width&&e.top+e.height<t.top+t.height},yr=function(e,t,n,r){switch(e){case _.a.Position.Left:return S.g.some(n.left-t.width-rr.pointerWidth/2);case _.a.Position.Right:return S.g.some(n.right+rr.pointerWidth/2);case _.a.Position.Top:case _.a.Position.Bottom:var i=-t.width/2,a=-t.width+rr.pointerWidth/2+rr.slightMargin,o=-rr.slightMargin;return Object(w.pipe)(Or(e,t,n,r),S.g.chain((function(e){return S.g.fromNullable([i,a,o].find((function(i){return vr({top:e,left:n.left+n.width/2+i,width:t.width,height:t.height},r)})))})));default:Object(Fn.c)(e)}},Or=function(e,t,n,r){switch(e){case _.a.Position.Top:return S.g.some(n.top-t.height-rr.pointerWidth/2);case _.a.Position.Bottom:return S.g.some(n.bottom+rr.pointerWidth/2);case _.a.Position.Left:case _.a.Position.Right:var i=-t.height/2,a=-t.height+rr.pointerWidth+rr.slightMargin,o=-rr.slightMargin;return Object(w.pipe)(yr(e,t,n,r),S.g.chain((function(e){return S.g.fromNullable([i,a,o].find((function(i){return vr({top:n.top+n.height/2+i,left:e,width:t.width,height:t.height},r)})))})));default:Object(Fn.c)(e)}},_r=function(e,t,n,r){var i="".concat(rr.pointerWidth/2,"px");switch(e){case _.a.Position.Top:return Object(w.pipe)(yr(e,t,n,r),S.g.map((function(e){return{left:e,bottom:i}})));case _.a.Position.Bottom:return Object(w.pipe)(yr(e,t,n,r),S.g.map((function(e){return{left:e,top:i}})));case _.a.Position.Left:return Object(w.pipe)(Or(e,t,n,r),S.g.map((function(e){return{top:e,right:i}})));case _.a.Position.Right:return Object(w.pipe)(Or(e,t,n,r),S.g.map((function(e){return{top:e,left:i}})));default:Object(Fn.c)(e)}},Cr=n("pPF5"),wr={flexShrink:0,alignItems:"center",justifyContent:"center",height:c.a.rem(2),width:c.a.rem(2)},Sr={$nest:{"& i":{height:c.a.rem(2),width:c.a.rem(2)}}},kr=c.a.stylesheet({button:[wr],item:[Sr]}),Er=function(e){var t=e.type;return r.createElement("div",null,t," not implemented")},jr={animation:function(e){var t=r.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:c.a.style(Jn(er,nr(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:c.a.style(Jn(tr,nr(t))),direction:"out"};default:Object(Fn.c)(e)}}(e.type,e.timeCurve),i=Yn(r.useState("in"===n.direction?n.className:void 0),2),a=i[0],o=i[1];return r.useEffect((function(){return function(){var e,r,i;e=t.current,(null!==(i=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument.defaultView)&&void 0!==i?i:window).matchMedia("(prefers-reduced-motion: reduce)").matches||function(e,t){Object(w.pipe)(Object(w.tuple)(Object(w.pipe)(t,S.g.fromPredicate((function(e){return"out"===e.direction}))),function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(w.pipe)(t.parentElement,S.g.fromNullable,S.g.chain((function(t){return e(t,Xn(n).concat([t]))})),S.g.alt((function(){return $n.E(n)})))}(e)),Object(w.tupled)(Kn.b(S.g.option)),S.g.tap((function(t){var n,r,i=Yn(t,2),a=i[0],o=i[1],s=null!==(r=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)&&void 0!==r?r:document,c=e.getBoundingClientRect(),l=e.cloneNode(!0);l.classList.add(a.className),l.style.position="absolute",l.style.top="".concat(c.top,"px"),l.style.left="".concat(c.left,"px"),l.style.width="".concat(c.width,"px"),l.style.height="".concat(c.height,"px"),requestAnimationFrame((function(){Object(w.pipe)(o.find((function(e){return s.contains(e)})),S.g.fromNullable,S.g.tap((function(e){l.addEventListener("animationend",(function(){s.contains(l)&&l.remove()})),e.appendChild(l)})))}))})))}(t.current,n)}}),[n]),r.createElement("div",{"data-name":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:a,onAnimationEnd:function(){return o(void 0)}},e.children)},button:Object(R.a)(),alternativeChoice:function(e){var t=e.id,n=e.designSystem,i=e.content,a=e.activeIndex,o=e.notify,s=e.meta,c=k.d.Logging.getLogger("AlternativeChoiceView");return r.createElement("div",{role:"group","aria-label":s.label,"aria-describedby":"".concat(t,"-description"),children:[r.createElement(n.column,{children:[Object(w.pipe)(S.g.fromNullable(i[a]),S.b.fromOption((function(){return"Cannot render alternative choice preview if there's no choice that matches the current alternative index."})),S.b.map((function(e){return e.preview})),S.b.filterOrElse(E.c.isBlock,(function(){return"Cannot render alternative choice preview if it's not of type `block.`"})),S.b.filterOrElse(E.c.hasOnlyTextParts,(function(){return"Cannot render alternative choice preview `block` if not every part is of type `text.`"})),S.b.map((function(e){return e.parts.length>0?r.createElement(n.block,I(A({},e),{children:e.parts.map((function(e,t){return r.createElement(n.text,A({key:t},e))})),spacing:{top:_.a.Space.D0,right:_.a.Space.D0,bottom:_.a.Space.D1,left:_.a.Space.D0},key:"preview"})):null})),S.b.getOrElse((function(e){return c.warn(e),null}))),r.createElement(n.block,{innerSpacing:{horizontal:_.a.Space.D05,vertical:_.a.Space.D05},verticalAlign:_.a.VerticalAlign.Top,children:i.map((function(e,t){return"button"===e.label.type&&"block"===e.label.label.type?r.createElement(n.button.toggle,{key:t,id:e.label.id,text:n.block(I(A({},e.label.label),{children:e.label.label.parts.map((function(e,t){return"text"===e.type?e.text:"icon"===e.type&&"known"===e.source.kind?r.createElement(n.icon[e.source.name],A({key:t},e)):null}))})),name:e.label.name.value,state:M(a)(e.label.actions)?_.a.ButtonState.Selected:_.a.ButtonState.Deselected,tooltip:void 0,shape:_.a.ButtonShape.Square,meta:{},onClick:o(e.label.actions,e.label.id)}):c.warn("Content where `label.type` is not `button` and `label.label.type` is not `block` are not supported (yet)",{content:e})})),key:"control",id:E.e.from("AlternativeChoiceView-control")}),Object(w.pipe)(S.g.fromNullable(s.description),S.g.map((function(e){return r.createElement(j.a,{id:"".concat(t,"-description"),key:"description",children:[e]})})),S.g.toNullable)],key:"AlternativeChoiceView",id:E.e.from("AlternativeChoiceView")})]})},text:Y,clickableText:function(e){var t=e.textView,n=e.onClick,i=e.name,a=kn(e,["textView","onClick","name"]);return r.createElement(_n.a,{name:i,onClick:n,className:c.a.joinClasses([Cn.a,En.default])},r.createElement(t,Sn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wn(e,t,n[t])}))}return e}({},a),{text:a.text})))},image:function(e){var t=e.name,n=e.url,i=e.size,a=e.backgroundColor;return r.createElement("div",{className:Pe(a),"data-role":"icon"},r.createElement("img",{src:n,className:Ne(i),alt:t}))},imageSized:function(e){var t,n=e.name,i=e.url,a=e.height,o=e.width,s=e.backgroundColor,c=e.borderRadius,l=e.meta;return r.createElement("figure",{className:Fe(a,o,s),"data-role":"icon"},r.createElement("img",{src:i,className:Re(a,o,c),alt:null!==(t=l.label)&&void 0!==t?t:n.value}))},icon:Ae.a,alertsCount:function(e){var t=e.textView,n=s(e,["textView"]),c=r.useContext(i.a.Context).alertIds.length;return c>0?r.createElement(t,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({key:"alertsCountText"},n),{text:"".concat(c),removeImplicitPadding:!0})):null},assistantCard:y,count:function(e){var t=e.backgroundColor,n=e.value,i=e.id,a=e.textColor,o=void 0===a?_.a.Color.CoreNeutral0:a,s=e.meta;return r.createElement(_e,{id:i,"aria-label":s.label,"aria-description":s.description},r.createElement(fe,{id:i,backgroundColor:t,borderRadius:{topLeft:_.a.Radius.Radius3,topRight:_.a.Radius.Radius3,bottomRight:_.a.Radius.Radius3,bottomLeft:_.a.Radius.Radius3},minWidth:.75,padding:{top:_.a.Space.D0,right:_.a.Space.D025,bottom:_.a.Space.D0125,left:_.a.Space.D025}},r.createElement(Y,{size:_.a.TextSize.Small,format:[_.a.TextFormat.Bold],textColor:o,text:n,meta:s,removeImplicitPadding:!0})))},block:_e,row:function(e){var t=e.left,n=e.right,i=e.spacing,a=e.verticalAlign,o=Array.isArray(t)&&0===t.length,s=Array.isArray(n)&&0===n.length;return o&&s?null:r.createElement("div",{"data-role":"row-layout",className:Ke(i)},o?null:r.createElement("div",{"data-role":"row-content",className:$e(a)},t),s?null:r.createElement("div",{"data-role":"row-content",className:Ze(a)},n))},column:d,slider:function(e){var t=e.fillColor,n=e.segmentSize,i=e.choices,a=e.designSystem,o=e.onChoiceSelected,s=Mt.a.useElWatcher(),l=s.ref,u=s.onMount,d=new Ot.a.Subject,p=new Ot.a.Subject,m=new Ot.a.Subject,f=new Ot.a.Subject,h=new Ot.a.Subject,g=new Ot.a.Subject,b=new Ot.a.BehaviorSubject(!0),v=i.length-1,y=v>0?100/v:0,O=i.reduce((function(e){var t=e[e.length-1],n=0;return void 0!==t&&(n=t+y),e.push(n),e}),[]),C=new Ot.a.BehaviorSubject(O[1]),E=Ot.a.mergeStatic(h.pipe(Ot.a.mapTo(!0)),m.pipe(Ot.a.mapTo(!1)),f.pipe(Ot.a.mapTo(!1))).pipe(Ot.a.startWith(!1)),j=Ot.a.mergeStatic(h,p).pipe(Ot.a.withLatestFrom(E),Ot.a.filter((function(e){var t=Ft(e,2);t[0];return t[1]})),Ot.a.map((function(e){return Ft(e,1)[0]})),Ot.a.withLatestFrom(l),Ot.a.map((function(e){var t=Ft(e,2),n=t[0],r=t[1];return Object(w.pipe)(r,S.g.map((function(e){return e.getBoundingClientRect()})),S.g.bindTo("sliderClientRect"),S.g.apS("containerMouseEventVal",S.g.some(n)))})),Ot.b.compact,Ot.a.map((function(e){var t=e.containerMouseEventVal,n=e.sliderClientRect,r=n.x,i=n.x+n.width;return t.clientX<=r?0:t.clientX>=i?100:(t.clientX-r)/(i-r)*100}))),x=C.pipe(Ot.a.distinctUntilChanged(),Ot.a.map((function(e){for(var t=-1,n=0;n<O.length-1;n++){var r=O[n],i=O[n+1];e>=r&&e<=i&&(t=e>=(r+i)/2?n+1:n)}return t}))),A=x.pipe(Ot.a.distinctUntilChanged(),Ot.a.map((function(e){return i[e]})));return Mt.a.useSubscriptionTo(Ot.a.mergeStatic(j.pipe(Ot.a.distinctUntilChanged()),E.pipe(Ot.a.distinctUntilChanged(),Ot.a.filter((function(e){return!e})),Ot.a.withLatestFrom(j),Ot.a.map((function(e){var t=Ft(e,2);t[0];return t[1]})),Ot.a.map((function(e){var t,n=0,r=!0,i=!1,a=void 0;try{for(var o,s=O[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=Math.abs(e-c);(void 0===t||l<t)&&(t=l,n=c)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}))),d.pipe(Ot.a.filter((function(e){return"ArrowRight"===e.key||"ArrowLeft"===e.key})),Ot.a.tap((function(e){e.preventDefault(),e.stopPropagation()})),Ot.a.map((function(e){return e.key})),Ot.a.filter((function(e){return"ArrowRight"===e||"ArrowLeft"===e})),Ot.a.withLatestFrom(C),Ot.a.map((function(e){var t,n=Ft(e,2),r=n[0],i=n[1];return(t="ArrowRight"===r?i+y:i-y)>100?100:t<0?0:t}))),g.pipe(Ot.a.map((function(e){return O[e]})))).pipe(Ot.a.tap((function(e){return C.next(e)})))),Mt.a.useSubscriptionTo(A.pipe(Ot.a.map((function(e){return o(e.actions,e.id,_.a.ActionNotifyUserAction.SelectSliderChoice)})),Ot.a.tap((function(e){return e()})))),i.length<2?(k.d.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:i.length}),null):r.createElement(P.a.div,{className:On.outerContainer,onKeyDown:function(e){return d.next(e)},"data-role":"slider"},r.createElement(P.a.div,{className:On.label},A.pipe(Ot.a.map((function(e){return e.label})))),r.createElement(P.a.div,{className:On.container,style:{width:c.a.rem(v*n)},onMouseMove:function(e){return p.next(e)},onMouseUp:function(e){return m.next(e)},onMouseLeave:function(e){return f.next(e)}},r.createElement(P.a.div,Lt(Bt({},Object(Tt.c)(On.slider,E.pipe(Ot.a.map((function(e){return e?On.sliderDragging:On.sliderNotDragging}))))),{mount:u,onMouseOver:function(){return b.next(!1)},onFocus:function(){return b.next(!1)}}),r.createElement(P.a.div,Lt(Bt({},Object(Tt.c)(On.sliderInner,E.pipe(Ot.a.map((function(e){return e?On.sliderInnerDragging:On.sliderInnerNotDragging}))),b.pipe(Ot.a.map((function(e){return e&&1===v?On.sliderInnerJiggle:null}))))),{style:{width:C.pipe(Ot.a.map(c.a.percent)),color:D.b[t]}}),r.createElement(P.a.div,Lt(Bt({},Object(Tt.c)(On.knob,E.pipe(Ot.a.map((function(e){return e?On.knobDragging:On.knobNotDragging}))),b.pipe(Ot.a.map((function(e){return e&&v>1?On.knobJiggle:null}))))),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),h.next(e)},tabIndex:0}),A.pipe(Ot.a.map((function(e){return"known"===e.icon.source.kind?r.createElement(a.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):r.createElement(a.image,Bt({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))}))))),E.pipe(Ot.a.map((function(e){return i.map((function(t,i){var a={width:c.a.rem(.25),left:c.a.rem(0===i?.125:i===v?i*n-.25-.125:i*n-.25)};return r.createElement(P.a.Fragment,{key:t.id},r.createElement("div",{className:On.sliderDivisionPoint,style:a}),x.pipe(Ot.a.map((function(t){return t===i||e?null:r.createElement(P.a.div,{className:On.sliderDivisionPointHoverArea,style:Lt(Bt({},a),{transform:"scaleX(6)"}),onClick:function(){return g.next(i)}})}))))}))}))))))},box:fe,alternativeSlider:function(e){var t=e.fillColor,n=e.segmentSize,i=e.choices,a=e.designSystem,o=e.activeAltIndex,s=e.meta,c=e.notify;return r.createElement(a.column,{children:[r.createElement(a.slider,{fillColor:t,segmentSize:n,meta:s,choices:i.map((function(e){return{id:e.id,icon:e.icon,label:e.label,actions:e.actions}})),designSystem:a,onChoiceSelected:c,key:"select"}),r.createElement(P.a.Fragment,{key:"preview"},o.view((function(e){return Object(w.pipe)(S.g.fromNullable(i[e+1]),S.b.fromOption((function(){return"Cannot render alternative slider preview if there's no choice that matches the current alternative index."})),S.b.map((function(e){return e.preview})),S.b.filterOrElse(E.c.isBlock,(function(){return"Cannot render alternative slider preview if it's not of type `block.`"})),S.b.filterOrElse(E.c.hasOnlyTextParts,(function(){return"Cannot render alternative slider preview `block` if not every part is of type `text.`"})),S.b.map((function(e){return r.createElement(a.block,L(B({},e),{children:e.parts.map((function(e,t){return r.createElement(a.text,B({key:t},e))}))}))})),S.b.getOrElse((function(e){return k.d.Logging.getLogger("AlternativeSliderView").warn(e),null})))})))],id:E.e.from("AlternativeSlider")})},scroll:function(e){var t=_t.a.create(S.g.none),n=_t.a.create(S.g.none),i=_t.a.create(S.g.none),a=jt(t,n),o=jt(t,i),s=Ot.a.combineLatestStatic([a,o]).pipe(Ot.a.map((function(e){var t=kt(e,2);return{topOverflow:t[0],bottomOverflow:t[1]}})),Ot.a.startWith({topOverflow:!1,bottomOverflow:!1}),Ot.a.distinctUntilChanged(xt.equals));return r.createElement(r.Fragment,null,r.createElement("style",null,'div[data-role="scroll"] {\n            border-color: transparent;\n          }'),r.createElement(P.a.div,{"data-role":"scroll",className:s.pipe(Ot.a.map((function(t){return function(e){var t=e.maxHeight,n=e.topOverflow,r=e.bottomOverflow,i=[];i.push(It["scroll-main"]),n&&i.push(It.overflowTop);r&&i.push(It.overflowBottom);void 0!==t&&i.push(function(e){var t="overflow-".concat(e),n=At.get(t);if(void 0!==n)return n;var r=c.a.style({$debugName:"overflow",maxHeight:c.a.rem(e),overflowY:"auto",overflowX:"hidden",$nest:{"& > *":{overflow:"visible"}}});return At.put(t,r),r}(t));return i.length>0?c.a.joinClasses(i):void 0}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){St(e,t,n[t])}))}return e}({},e,t))}))),mount:function(e){return t.set(S.g.fromNullable(e))}},r.createElement("div",{style:{margin:0},ref:function(e){return n.set(S.g.fromNullable(e))}}),e.children,r.createElement("div",{style:{margin:0},ref:function(e){return i.set(S.g.fromNullable(e))}})))},list:tt,listItem:function(e){var t=r.createElement(r.Fragment,null,r.createElement("div",{"data-role":"list-item",className:mt.listItemPrimaryButton},r.createElement("div",{"data-role":"list-item-label",className:mt.listItemLabel},e.label)),e.secondaryButtons.length>0?r.createElement("div",{"data-role":"list-item-secondary-buttons",className:mt.listItemSecondaryButtonsContainer},e.secondaryButtons.map((function(t){var n=Object(m.a)((function(t){return r.createElement("button",{key:t.id,"data-role":"list-item-secondary-button",onClick:function(e){e.stopPropagation(),t.onClick()},onKeyDown:function(e){return e.stopPropagation()},onPointerDown:function(e){return e.stopPropagation()},className:mt.listItemSecondaryButton,"aria-label":t.meta.label,"aria-describedby":t["aria-describedby"]},"icon"===t.label.type?"known"===t.label.icon.source.kind?r.createElement(e.designSystem.icon[t.label.icon.source.name],{key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor}):r.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){st(e,t,n[t])}))}return e}({key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor},t.label.icon.source)):t.label.text)}))(t);return t.tooltip?r.createElement(ot.a,{key:t.id,title:t.tooltip},n):n}))):null);return e.tooltip?r.createElement(ot.a,{title:Object(R.b)(e.tooltip)},t):t},strongAlertRef:i.b,popoverAnchor:function(e){var t=Mt.a.useElWatcher(),n=Mt.a.useElWatcher(),i=Mt.a.useMemoOnDidMount((function(){return _t.a.create(c.a.joinClasses([rr.modifiers.preCheck,rr.modifiers[e.positionHint]]))})),a=Mt.a.useMemoOnDidMount((function(){return _t.a.create({top:0,left:0})}));r.useEffect((function(){e.onShow()}),[]),r.useEffect((function(){var r=Ot.a.timer(0,500).pipe(Ot.a.switchMapTo(t.ref),Ot.a.map(S.g.map((function(e){return e.getBoundingClientRect()}))),Ot.a.distinctUntilChanged(S.g.getEq(pr.c.Rect.eq).equals)),o=Ot.a.timer(0,500).pipe(Ot.a.switchMapTo(n.ref),Ot.a.map(S.g.map((function(e){return e.getBoundingClientRect()}))),Ot.a.distinctUntilChanged(S.g.getEq(pr.c.Box.eq).equals)),s=Ot.a.combineLatestStatic([r,o]).subscribe((function(t){var n=hr(t,2),r=n[0],o=n[1];Object(w.pipe)(Object(Kn.b)(S.g.option)(r,o),S.g.chain((function(t){var n=hr(t,2),r=n[0],i=n[1];return function(e,t,n,r){var i=[e,_.a.Position.Top,_.a.Position.Left,_.a.Position.Right,_.a.Position.Bottom].filter((function(e,t,n){return n.indexOf(e)===t}));return Object(w.pipe)(i,C.T((function(e){return Object(w.pipe)(_r(e,t,n,r),S.g.map((function(t){return{position:e,adjustment:t}})))})))}(e.positionHint,i,r,{top:0,left:0,right:document.documentElement.scrollWidth,bottom:document.documentElement.scrollHeight,width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight})})),S.g.fold((function(){return i.set(rr.modifiers.preCheck)}),(function(e){var t=e.position,n=e.adjustment;i.set(rr.modifiers[t]),a.set(n)})))}));return function(){return s.unsubscribe()}}),[]);var o=i.pipe(Ot.a.distinctUntilChanged(),Ot.a.map((function(e){return c.a.joinClasses([rr.stylesheet.anchorPointer,e])}))),s=a.pipe(Ot.a.distinctUntilChanged(dr.isEqual));return r.createElement(P.a.div,{className:rr.stylesheet.wrapper,mount:t.onMount,style:{display:e.inlineWrapper?"inline-block":"block"}},r.createElement(P.a.div,{className:o},r.createElement(P.a.div,{className:rr.stylesheet.popover,style:s,mount:n.onMount},e.popover)),e.children)},nativeSkillsModal:Er,nativeSkillsList:function(e){var t=e.designSystem,n=e.notify,i=e.onSelect;return r.createElement(t.block,{innerSpacing:{horizontal:_.a.Space.D05,vertical:_.a.Space.D05},verticalAlign:_.a.VerticalAlign.Top,horizontalAlign:_.a.HorizontalAlign.Center,children:[r.createElement("p",{key:"header"},"Mock implementation of Skills list"),r.createElement(t.radioButtonsGroup,{id:"skills-list-radio-group",type:"radioButtonsGroup",onClick:function(){return n},meta:{label:"select-a-skill",description:"Select a skill"},options:[{id:"translate",label:"Translate",onSelect:i,meta:{label:"translate",description:"Access the translate skill"}},{id:"paraphrase",label:"Paraphrase",onSelect:i,meta:{label:"paraphrase",description:"Access the paraphrase skill"}}],designSystem:t})],key:"block",id:E.e.from("container-block")})},nativeSkillsView:function(){return r.createElement(_e,{innerSpacing:{horizontal:_.a.Space.D05,vertical:_.a.Space.D05},verticalAlign:_.a.VerticalAlign.Top,horizontalAlign:_.a.HorizontalAlign.Center,children:[r.createElement("p",{key:"header"},"Mock implementation of Skills View")],key:"block",id:E.e.from("container-block")})},nativeToneInsightsModal:Er,nativeLearnMoreModal:Er,nativeSettingsModal:Er,nativeFeedbackModal:Er,nativeInlineCardContent:Er,inlineCard:Object(m.a)((function(e){var t=e.child,n=e.id,i=e.meta,a=e.minWidth,o=e.maxWidth,s=g(e,["child","id","meta","minWidth","maxWidth"]),l=function(e,t){var n="".concat(e,"-").concat(t),r=b.get(n);if(void 0!==r)return r;var i=c.a.style(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({display:"inline-block"},e?{minWidth:c.a.rem(e)}:{},t?{maxWidth:c.a.rem(t)}:{}));return b.put(n,i),i}(null!=a?a:gr,null!=o?o:br);return r.createElement(d,{id:"".concat(n,"-container"),role:"region","aria-label":i.label,"aria-describedby":s["aria-describedby"],className:l},t)})),nativeGetStartedChecklistModal:function(e){var t=e.designSystem,n=e.notify;return r.createElement(t.block,{innerSpacing:{horizontal:_.a.Space.D05,vertical:_.a.Space.D05},verticalAlign:_.a.VerticalAlign.Top,horizontalAlign:_.a.HorizontalAlign.Center,children:[r.createElement("p",{key:"header"},"Mock Implementation of nativeGetStartedChecklistModal"),r.createElement(t.button.primary,{key:"complete-all-items-btn",id:"complete-all-items-btn",text:"Complete all items",name:"fire-actions",state:_.a.ButtonState.Enabled,tooltip:void 0,shape:_.a.ButtonShape.Square,meta:{},onClick:n}),r.createElement("p",{key:"footer"},"")],key:"block",id:E.e.from("container-block")})},nativeKeyTakeawaysAssistantCard:Er,nativeProofitModal:Er,dropDownMenuButton:function(e){var t=function(t){return"known"===t.source.kind?r.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):r.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ht(e,t,n[t])}))}return e}({key:t.source.name,backgroundColor:t.backgroundColor},t.source))};return r.createElement(ft.a.Dropdown,{label:t(e.icon),placement:"bottom right",theme:{button:vt.button,item:vt.item},"aria-label":e.menu.meta.label,onAction:function(t){return Object(w.pipe)(e.menu.sections,C.w((function(e){return e.items})),C.S((function(e){return e.id===String(t)})),S.g.tap((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.menu.sections.map((function(e,n){return r.createElement(ft.a.Section,{key:n,title:e.title},e.items.map((function(e){return r.createElement(ft.a.Item,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)})))})))},selectableDropDownMenu:function(e){return r.createElement(Cr.a.Component,{placeholder:e.placeholder,placement:"bottom left",theme:{button:kr.button},"aria-label":e.select.meta.label,defaultSelectedKey:e.selectedItem,onSelectionChange:function(t){return Object(w.pipe)(e.select.items,C.S((function(e){return e.id===String(t)})),S.g.tap((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.select.items.map((function(e){return r.createElement(Cr.a.Item,{key:e.id},e.label)})))},radioButtonsGroup:function(e){var t=e.id,n=e.options,i=e.onClick,a=e.meta;return r.createElement(jn.a.Group,{name:t,"aria-label":a.label,description:a.description,onChange:function(e){return Object(w.pipe)(n,S.a.findFirst((function(t){return t.id===e})),S.g.tap((function(e){return i(e.onSelect,e.id)})))}},n.map((function(e){return r.createElement(jn.a.Item,{id:e.id,key:e.id,value:e.id,"aria-label":e.meta.label,"aria-description":e.meta.description},e.label)})))},nativeExperimentalGBConsistencyUpsellFooter:Er,nativeExperimentalGBToneInsightsUpsellFooter:Er,collapsedCard:function(e){var t="".concat(e.id,"-collapsed-content"),n=Nn(r.useState(!1),2),i=n[0],a=n[1],o=r.useCallback((function(t){a(t),e.onHoverChanged(t)}),[]),s=Object(An.h)({onHoverChange:o}).hoverProps,c=Object(An.g)({onFocusWithinChange:o}).focusWithinProps;return r.createElement("div",Pn(Mn({},s,c),{className:Ln.container}),r.createElement(Bn,Pn(Mn({},e),{contentId:t})),r.createElement("div",{id:t,className:Ln.content},e.child,r.createElement("div",{role:"tooltip",style:{opacity:i?1:0}},e.quickActions)))},longFormCard:function(e){return r.createElement(r.Fragment,null,function(e,t,n){switch(e){case"focused":return t;case"collapsed":return n;case"hidden":return null;default:return Object(Fn.c)(e)}}(e.viewKind,e.fullContent,e.collapsedContent))},progressBar:function(e){var t=e.value,n=e.backgroundColor,i=e.fillColor,a=e.borderColor,o=e.height,s=e.pinPointValue,l=e.state;return r.createElement("div",{role:"progressbar","aria-label":"Progress","aria-valuenow":t,className:c.a.joinClasses([qn.outerContainer,Un(s,o)])},void 0!==s&&r.createElement("div",{"aria-label":"Progress starting point",className:c.a.joinClasses([qn.pinPoint,Gn(s,o)])}),r.createElement("div",{className:c.a.joinClasses([qn.background,Wn(n,a,o)])},r.createElement("div",{className:c.a.joinClasses([qn.fill,zn(t,i,o)])},l===_.a.ContentProgressBarState.Loading&&r.createElement("div",{className:qn.loading,style:{height:Hn(o)}}))))},horizontalRule:function(){return r.createElement("hr",{className:ur.default})},tooltip:function(e){var t=e.text,n=e.child,i=e.alignment;return r.createElement(ot.a,{title:Object(R.b)(t),align:i},n)},lifecycle:function(e){var t=e.onMountHandler,n=e.onUnmountHandler,i=e.children;return r.useEffect((function(){return t(),function(){return n()}}),[]),r.createElement(r.Fragment,null,i)}}},vqgI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("TKPA");!function(e){function t(e){return"rewrite"===e}function n(e){return"quickRewrite"===e}e.isIdeation=function(e){return"ideation"===e},e.isRewrite=t,e.isQuickReply=function(e){return"quickReply"===e},e.isQuickRewrite=n,e.isPushRewrite=function(e){return"pushRewrite"===e},e.isRewriteOrQuickRewrite=Object(i.p)(t,n)}(r||(r={}))},"wC8/":function(e,t,n){"use strict";function r(e){const t=e;return null!=t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}function i(e){return r(e)?e:{message:String(e),name:"",stack:void 0}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},wV17:function(e,t,n){"use strict";n.r(t);var r=n("nWMp"),i=n("may+"),a=n.n(i),o=n("KySh"),s=n.n(o),c=n("Ekth"),l=n.n(c),u=n("5Dsw"),d=n.n(u),p=n("Olv4"),m=n.n(p),f=n("fisC"),h=n.n(f),g=n("UqPw"),b=n.n(g),v=n("I1gR"),y=n.n(v),O=n("R1dB"),_=n.n(O),C=n("bDM3"),w=n.n(C),S=n("7XqD"),k=n.n(S),E=n("4JHS"),j=n.n(E),x=n("4N81"),A=n.n(x),I=n("4nE6"),T=n.n(I),M=n("4kcV"),P=n.n(M),N=n("D/bz"),B=n.n(N);r.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${y.a}') format('woff2'), url('${b.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${s.a}') format('woff2'), url('${a.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${B.a}') format('woff2'), url('${P.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${j.a}') format('woff2'), url('${k.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${w.a}') format('woff2'), url('${_.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${h.a}') format('woff2'), url('${m.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${T.a}') format('woff2'), url('${A.a}') format('woff')`,fontDisplay:"swap"}),r.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${d.a}') format('woff2'), url('${l.a}') format('woff')`,fontDisplay:"swap"})},wdnv:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r,i,a=n("rtUA"),o=n("DTwm"),s=n("D2TP"),c=n("phaH"),l=n("d3CI");(r||(r={})).create=()=>({id:s.a.SpecialId.Cheetah,type:l.i.cheetah,kind:l.f.abstract,meta:s.a.createStaticLens({id:s.a.SpecialId.Cheetah,title:"Grammarly Ideate"},s.a.Meta.group.empty,o.constFalse),hashCode(){return Object(c.b)(this.id)},equals(e){return this.id===e.id}}),function(e){let t;e.create=function(e,n){return Boolean(t)||(t={id:s.a.SpecialId.Closed,kind:l.f.abstract,type:l.i.closed,meta:s.a.createStaticLens({id:s.a.SpecialId.Closed,title:"Closed"},s.a.Meta.group.empty,e),hashCode(){return a.a.lensHash.hashCode(this)},equals(e){return a.a.getEq(n).equals(this,e)}}),t}}(i||(i={}));var u,d,p,m=n("8O/t"),f=n("X76w"),h=n("mgiE");d=u||(u={}),p=d.create=()=>({id:s.a.SpecialId.DraftAI,type:l.i.draftAI,kind:l.f.abstract,meta:s.a.createStaticLens({id:s.a.SpecialId.DraftAI,title:"Draft AI"},s.a.Meta.group.empty,o.constFalse),transitionSource:h.g.none,hashCode(){return Object(c.b)(this.id)},equals(e){return this.id===e.id}}),d.createFromTransitionSource=e=>Object(f._)(Object(m._)({},p()),{transitionSource:h.g.some(e)});var g,b,v=n("U9Go"),y=n("tiWp"),O=n("0kuo"),_=n("RRF2"),C=n("Hj2R"),w=n("ZDrO"),S=n("hzat");!function(e){function t(e){return w.a.groupBy("cardId",e)}e.create=function(e,t,n){Object(O.f)(e.id===s.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const r=w.a.Sorted.empty(e=>e.id,n.compare),i=h.g.none;return{id:s.a.SpecialId.Plagiarism,kind:l.f.persistent,type:l.i.plagiarism,meta:e,cardIndex:i,items:r,itemsOrd:n,animation:l.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return a.a.lensHash.hashCode(this)},equals(e){return a.a.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===s.a.SpecialId.Plagiarism?Object(f._)(Object(m._)({},t),{items:t.items.map(t=>S.a.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(S.a.isPlagiarism)):t)}):t};var n=e.add=e=>n=>r=>{const i=t(n),a=Array.from(i.entries()).reduce((t,[n,r])=>Object(y.pipe)(t.update(n,t=>e.addPlagiarismAlerts(t,r)),h.b.fold(()=>t.add(e.createAdded(n,r)),o.identity)),r.items),s=Object(y.pipe)(l.k.getActiveItem(r),h.g.map(({id:e})=>h.g.unsafeGet(a.get(e)).index)),c=h.g.getEq(v.g).equals(s,r.cardIndex)?l.b.force:l.b.skip;return Object(f._)(Object(m._)({},r),{cardIndex:s,items:a,animation:c})},r=e.remove=e=>n=>r=>{const i=t(n),a=l.k.getActiveItem(r),s=Array.from(i.entries()).reduce((t,[n,i])=>Object(y.pipe)(t.update(n,t=>{const n=Object(y.pipe)(e.remove(t,i,Object(y.pipe)(a,h.g.map(e=>r.itemsOrd.compare(t,e)>0),h.g.getOrElse(o.constTrue))),t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(S.a.isPlagiarism)));return Object(y.pipe)(a,h.g.exists(e=>e.id===n.id))?e.selectNextAlert(n,r.itemsOrd):n}),h.b.fold(()=>t,o.identity)),r.items);return Object(f._)(Object(m._)({},r),{items:s,animation:l.b.force})},i=e.update=e=>t=>n=>c(e)(t.filter(Object(o.not)(e.shouldAnimateAlertApply)))(n),c=e.updateWithAlerts=e=>n=>i=>{const[a,s]=_.a.partition(n,C.a.isRegistered),c=t(a),u=Array.from(c.entries()).reduce((t,[n,r])=>Object(y.pipe)(t.update(n,t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(S.a.isPlagiarism))),h.b.fold(()=>t.add(e.createAdded(n,r)),o.identity)),r(e)(s)(i).items),d=Object(y.pipe)(l.k.getActiveItem(i),h.g.map(({id:e})=>Object(y.pipe)(u.get(e),h.g.map(({index:e})=>e),h.g.getOrElse(()=>0))));return Object(f._)(Object(m._)({},i),{cardIndex:d,items:u,animation:l.b.proceed})};e.getAlertsHandler=function(e){return t=>a.a.ApplyDiff.apply(t,n(e),i(e),r(e))}}(g||(g={})),function(e){e.create=function(e,t,n){const r=w.a.Sorted.empty(e=>e.id,n.compare);return{id:s.a.SpecialId.Premium,kind:l.f.active,type:l.i.advanced,meta:e,items:r,itemsOrd:n,cardIndex:h.g.none,animation:l.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return a.a.lensHash.hashCode(this)},equals(e){return a.a.getEq(t).equals(this,e)}}},e.getAlertsHandler=function(e,i){return o=>a.a.ApplyDiff.apply(o,t(e),r(e,i),n(i))};var t=e.add=e=>t=>n=>{const r=t.map(e.createFromAlert(n.id)),i=n.items.add(r),a=l.k.getActiveItemIndex(i)(n);return Object(f._)(Object(m._)({},n),{cardIndex:a,items:i,animation:l.b.proceed})},n=e.remove=e=>t=>n=>{const r=new Set(t.map(e=>e.id)),i=n.items.filter(Object(o.flow)(e.hasActiveAlert,h.g.map(e=>e.alert),h.g.exists(e=>r.has(e.id)))).reduce((e,t)=>e.remove(t.id),n.items),a=l.k.getActiveItemIndex(i)(n);return Object(f._)(Object(m._)({},n),{cardIndex:a,items:i})},r=e.update=(e,r)=>i=>a=>{const[s,c]=_.a.partition(i,C.a.isRegistered);return Object(o.pipe)(a,n(r)(c),t(e)(s))}}(b||(b={}));var k,E=n("wvT7"),j=n("000W"),x=n("TKPA"),A=n("4wwO");!function(e){const t=C.d.ord;function n(e){return e.id}function r(e){const t=e.map(e=>[A.a.getAlertOutcomeBundle(e),e]);return w.a.groupBy(([e,t])=>n(e),t)}e.getCardId=n,e.initCardsHash=function(e,n,i,a,o){Object(O.f)(Object(y.pipe)(i,h.g.forAll(({alertIndex:e})=>void 0!==n[e])),"Can not find alert for provided alertIndex");const s=r(n),c=Object(y.pipe)(i,h.g.map(({alertIndex:e})=>(Object(O.f)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e])));let l=h.g.none;const u=w.a.Sorted.empty(A.a.getId,o.compare),d=Array.from(s.entries()).reduce((n,[r,i])=>{const o=i.map(([e,t])=>t),s=i[0][0];return Object(y.pipe)(c,h.g.map(e=>o.indexOf(e)),h.g.filter(e=>e>-1),h.g.fold(()=>n.add(a.createRendered(e)(r,s,o,t)),i=>{const c=a.createFocused(e)(r,s,o,i,t);return l=h.g.some(r),n.add(c)}))},u);return{cardIndex:Object(y.pipe)(l,h.g.chain(e=>Object(y.pipe)(d.get(e),h.g.map(e=>e.index)))),cards:d}},e.create=function(e,t,n,r){const i=w.a.Sorted.empty(A.a.getId,r.compare),o=h.g.none;return{id:e,type:l.i.lensview,kind:l.f.persistent,meta:t,cardIndex:o,items:i,itemsOrd:r,animation:l.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return a.a.lensHash.hashCode(this)},equals(e){return a.a.getEq(n).equals(this,e)}}};var i=e.add=(e,n)=>i=>a=>{if(0===i.length)return a;const s=r(i),c=Array.from(s.entries()).reduce((r,[i,s])=>{const c=s.map(([e,t])=>t),l=s[0][0];return Object(y.pipe)(r.update(i,e=>n.updateWithAlerts(c)(e)),h.b.fold(()=>r.add(e.createAdded(a.id)(i,l,c,t)),o.identity))},a.items),u=Object(y.pipe)(a,l.k.getActiveItemIndex(c)),d=h.g.getEq(v.g).equals(u,a.cardIndex)?l.b.force:l.b.skip;return Object(f._)(Object(m._)({},a),{cardIndex:u,items:c,animation:d})},s=e.remove=e=>t=>n=>{const i=r(t),a=Array.from(i.entries()).reduce((t,[r,i])=>Object(y.pipe)(t.update(r,t=>e.removeAlertFromItem(i.map(([e,t])=>t),n)(t)),h.b.fold(()=>t,o.identity)),n.items),s=Object(y.pipe)(n,l.k.getActiveItemIndex(a));return Object(f._)(Object(m._)({},n),{cardIndex:s,items:a,animation:l.b.force})},c=e.update=(e,t,n)=>r=>i=>u(e,n)(r.filter(Object(x.m)(t.shouldAnimateAlertApply)))(i),u=e.updateWithAlerts=(e,n)=>i=>c=>{if(0===i.length)return c;const{left:u,right:d}=Object(y.pipe)(i,a.a.filterAlertInLens(c,n),j.Db(C.a.isRegistered)),p=r(d),g=Array.from(p.entries()).reduce((r,[i,a])=>{const s=a.map(([e,t])=>t),l=a[0][0];return Object(y.pipe)(r.update(i,e=>n.updateWithAlerts(s)(e)),h.b.fold(()=>r.add(e.createAdded(c.id)(i,l,s,t)),o.identity))},s(n)(u)(c).items),b=Object(y.pipe)(c,l.k.getActiveItemIndex(g));return Object(f._)(Object(m._)({},c),{cardIndex:b,items:g,animation:l.b.proceed})};e.getAlertsHandler=function(e,t,n){return(r,o)=>l=>{const u=a.a.ApplyDiff.applyWithFilter(o,a.a.ApplyDiff.apply);return Object(y.pipe)(l,u(r,i(e,n),c(e,t,n),s(n)))}},e.getHasAlerts=function(e,t,n,r){const i=a.a.Capabilities.getHasAlerts(e,t,n,r),o=e=>a.a.Capabilities.getHasSelectableAlert(t,n(e),r);return Object(f._)(Object(m._)({},i),{findNextAlert:t=>Object(y.pipe)(Object(E.b)(h.g.option)(l.k.getActiveItem(t),t.cardIndex),h.g.chain(([n,r])=>Object(y.pipe)(e.nextAlert(n),h.g.alt(()=>e.prevAlert(n)),h.g.alt(()=>Object(y.pipe)(_.a.findIndexFromMap(t.items.values(),r+1,o(t)),h.g.alt(()=>_.a.findIndexFromMap(t.items.values(),0,o(t))),h.g.chain(e=>Object(y.pipe)(t.items.getAt(e.index),h.g.map(e=>e.alerts[0]))))))),h.g.map(e=>({alert:e,highlightIndex:0})))})}}(k||(k={}));var I,T=n("354Z");!function(e){var t=a.a.Prism;e.Prism=t;var n=a.a.Items;e.Items=n;var o=a.a.Capabilities;e.Capabilities=o;var s=a.a.ApplyDiff;e.ApplyDiff=s;e.filterAlertInLens=a.a.filterAlertInLens,e.findItemWithAlertInLens=a.a.findItemWithAlertInLens,e.lensHash=a.a.lensHash,e.getEq=a.a.getEq;var c=i;e.Closed=c;var l=u;e.DraftAI=l;var d=g;e.Plagiarism=d;var p=b;e.Premium=p;var m=k;e.WithBundles=m;var f=T.a;e.WithSuccess=f;var h=r;e.Cheetah=h}(I||(I={}))},wnit:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n("DTwm"),i=n("tiWp"),a=n("mgiE"),o=n("111I"),s=n("xk6L"),c=n("SOPW"),l=n("mDV6"),u=n("d3CI"),d=n("wdnv"),p=n("QQOt");const m=(e,t,n,r,i,a)=>o.a.composeKnot({content:h(e,t,i,a),root:b(t,n,r)});function f(e){return(t,n,r,i,a,s)=>o.a.composeKnot({content:o.a.fromSideEffect(n=>{g(t)(n);const r=n.action.action;"item"===r.key&&e(r.action)},v(n,a,s)),root:b(n,r,i)})}const h=(e,t,n,r)=>o.a.fromSideEffect(g(e),v(t,n,r));function g(e){return t=>{switch(t.action.action.action.kind){case p.a.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case p.a.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const b=(e,t,n)=>o.a.fromSideEffect(e=>{t.next(e.element)},s.a.combineLatestStatic([n,e.view("cardsHeight")]).pipe(s.a.map(([e,t])=>({disableUserActions:e,height:t})),s.a.startWith({disableUserActions:!1,height:0}))),v=(e,t,n)=>{const o=e.view(d.a.Prism.items),m=e.pipe(s.a.map(e=>e.itemsOrd)),f=e.pipe(s.a.map(Object(r.flow)(u.k.getActiveItem,a.g.map(c.a.getId)),s.a.distinctUntilChanged())),h=e.view(t.getActiveAlertsCount).view(e=>0===e);return s.a.combineLatestStatic([o,f,h,m]).pipe(s.a.map(([e,r,o,s])=>{const c=Object(i.pipe)(e.find(e=>e.positionState.watched),a.g.map(e=>e.value)),u=e.getAt(e.size-1);return e.filter(e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!Object(i.pipe)(t,a.g.exists(t=>t.id===e.id))||Object(i.pipe)(t,a.g.exists(e=>e.positionState.isHeightValid)))(e,c)).map(e=>function(e){return(t,n,r,o)=>s=>{const c=Object(i.pipe)(t,a.g.exists(e=>e===s.id));return{cell:{item:e.viewState(n,r)(s),root:{height:{value:s.positionState.height,watched:s.positionState.watched&&!e.isScheduledToDispose(s),isValid:s.positionState.isHeightValid},position:{top:s.positionState.absTop,animationInProgress:s.positionState.animationInProgress},layer:c||l.a.isAnimatable(s)&&s.visualState.incomplete&&!Object(i.pipe)(s.visualState.from,a.g.exists(e=>"focused"===e))?p.a.Layer.front:p.a.Layer.back}},root:s.id,hashCode:s.hashCode.bind(s),equals:e=>s.equals(e.cell.item.view),compare:e=>o.compare(s,e.cell.item.view)}}}(t)(r,o,Object(i.pipe)(u,a.g.exists(t=>t.id===e.id)),s)(e),n(s))}))}},wsul:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("a5gI"),a=n("8O/t"),o=n("X76w"),s=n("DTwm"),c=n("+vYo"),l=n("xk6L"),u=n("mgiE"),d=n("TKPA"),p=n("RRF2"),m=n("M3t0"),f=n("XPG3"),h=n("D2TP"),g=n("Hj2R"),b=n("La5+"),v=n("aODX"),y=n("hzat"),O=n("8XoQ"),_=n("itj6"),C=n("/1wo"),w=n("d3CI"),S=n("wdnv"),k=n("354Z"),E=n("mDV6"),j=n("eAYH");!function(e){var t=e.id="UpgradeHookId",n=(e.Kind="UpgradeHook",e.eq={equals:(e,t)=>u.c.eqString.equals(e.id,t.id)&&j.b.eq.equals(e,t)});function x(e){return e.id===t}let A,I,T;e.isUpgradeHookItem=x,function(e){e.create=(e,t="default")=>{const n=C.a.getCreate((e,n)=>I.createItem(e,n,t),u.g.none,I.changeVisualState,()=>l.a.of(u.g.none),e);return{createAdded:e=>(t,r)=>{const i=E.a.VisualState.initial({type:"added",clockwise:!0},!0);return n(t,r,0,0,O.a.empty(void 0),e,u.g.some(i))},createFocused:e=>(t,r)=>{const i=E.a.VisualState.initial({type:"focused",clockwise:!0},!1);return n(t,r,0,0,O.a.empty(void 0),e,u.g.some(i))}}}}(A=e.ItemFactory||(e.ItemFactory={})),function(e){e.createItem=(e,t,i)=>Object(a._)({kind:r.Kind,id:e,activeAlert:t.alerts[0],equals(e){return n.equals(this,e)},hashCode(){return j.b.hashCode(Object(o._)(Object(a._)({},this),{userInput:u.g.none}))},groupedAlerts:r.getGroupedLiteAlerts(t.alertModels),premiumAlerts:t.alertModels,documentType:i},t);const t=E.a.Capabilities.getPojoUpdates();var i=e.changeVisualState=C.a.getChangeVisualState(t.setVisualState,s.identity),c=e.changePosition=t.setPosition,l=e.transitionTo=C.a.getTransitionTo(i,c),d=(e.animatable={completeTransition:e=>t=>Object(s.pipe)(t,i(E.a.VisualState.complete(t.visualState,e))),transitionTo:l,changeVisualState:i},e.updateAlertsByModels=e=>t=>{const n=Object(s.pipe)(e,u.a.map(y.a.fromModel));return Object(o._)(Object(a._)({},t),{alerts:n,premiumAlerts:e,groupedAlerts:M(e)})},e.updateAlerts=(e,t,n,r)=>i=>Object(o._)(Object(a._)({},i),{alerts:e,premiumAlerts:i.premiumAlerts.filter(e=>!t.has(e.id)),activeAlertIndex:n,activeHighlightIndex:r,activeAlert:e[n]}));e.addAlerts=e=>t=>{const n=Object(s.pipe)(e,u.a.map(y.a.fromModel)),r=[...t.premiumAlerts,...e];return Object(o._)(Object(a._)({},t),{alerts:[...t.alerts,...n],premiumAlerts:r,groupedAlerts:M(r)})},e.getSelect=(e,t)=>({selectByAlert:(n,r,a)=>o=>Object(s.pipe)(o,C.a.getSelectByAlert(d,Object(s.constant)(s.identity),i,c,Object(s.constant)(s.identity),s.identity,e,t)(r,n,a)),select:(e,t)=>n=>Object(s.pipe)(n,C.a.getSelectItem(i,c)(e,t)),unselect:C.a.getUnselectItem(i,c)}),e.remove={remove:(e,t)=>n=>e(n)?l({type:"removed",clockwise:t(n)})(n):n}}(I=e.Capabilities||(e.Capabilities={})),function(e){let t;!function(e){e.empty={onShowUpgradeHook:s.constVoid,onOpenUpgradeUrl:s.constVoid,onDismissUpgradeHook:s.constVoid}}(t=e.EventHandlers||(e.EventHandlers={}));e.UpgradeHookItemViewModelImpl=class{dispose(){this._subs.dispose()}constructor(e,t,n,r,a){Object(i._)(this,"_subs",new b.a.Keeper),Object(i._)(this,"events",new l.a.Subject),Object(i._)(this,"upgradeHookDismissed",c.a.create(!1)),this._subs.push(this.events.subscribe(n=>{"showedUpgradeHook"===n.type?a.onShowUpgradeHook():(_.b.isSDUICardAction(n)&&_.b.ProxySduiCardAction.hasAction(n,"upgradeToPremium")&&(t.openUpgradeUrl(r),a.onOpenUpgradeUrl()),_.b.isSDUICardAction(n)&&_.b.ProxySduiCardAction.hasAction(n,"removeCard")&&(this.upgradeHookDismissed.set(!0),a.onDismissUpgradeHook()),e.actionEvents.next(n))})),this._subs.push(n.subscribe(()=>{this.upgradeHookDismissed.set(!1)}))}}}(T=e.ViewModel||(e.ViewModel={}));var M=e.getGroupedLiteAlerts=e=>f.a.group(e.map(e=>e.toLiteAlert()));e.formatLiteAlerts=(e,t=5)=>{const n=e.slice(0,t),r=e.slice(t).map(e=>e.count).reduce(d.t,0);return r>0?[...n,{group:"",category:"",categoryHuman:"more...",count:r,lensName:"more...",bundleInfo:u.g.some("more...")}]:n},e.groupPremiumAlerts=e=>Object.values(e.reduce((e,t)=>{const n=t.lensType;return null!=e[n]?e[n]=Object(o._)(Object(a._)({},e[n]),{lensNames:u.a.uniq(u.c.eqStrict)([...e[n].lensNames,t.lensName]),alertsCount:e[n].alertsCount+1}):e[n]={lensNames:[t.lensName],lensType:t.lensType,alertsCount:1},e},{}));const P=Object(d.l)(m.d.Logging.getLogger);e.getSideEffect=(e,t,n,i,a,o=A.create(a),c=h.a.isWithAlertsId)=>{const d=P("UpgradeHook.sideEffect"),p=w.e.Prism.getLensWithItems().compose(S.a.Prism.getFeedItems()),m=t.pipe(l.a.map(e=>e.currentLens.id),l.a.distinctUntilChanged());return{id:"upgradeHookEffect",when:c,what:w.e.Effect.ItemsApplicator.create(Object(s.pipe)(l.a.combineLatestStatic([e,m]),l.a.map(([e])=>t=>{const a=v.a.find(t.currentLens.items,x);if(n.get())return t;if(0===e.length)return u.g.isSome(a)?(d.trace("no more premium alerts, removing UpgradeHook item from the current lens"),p.set(t.currentLens.items.remove(r.id),t)):t;let c,l=t;return u.g.isNone(a)?(d.trace("premium alerts found, adding upgrade hook item to lens state",e),c=o.createAdded(t.currentLens.id)(r.id,e),l=p.set(t.currentLens.items.add(c),t)):c=u.g.unsafeGet(a).value,l=Object(s.pipe)(I.updateAlertsByModels(e)(c),e=>t.currentLens.items.add(e),e=>p.set(e,l)),(1===l.currentLens.items.size||h.a.isPremiumId(l.currentLens.id))&&(d.trace("auto focusing upgrade hook item"),l=w.e.Prism.getLensWithItems().modify(i.selectItemById(r.id),l)),l})))}};let N;!function(e){function t(e,t){return(r,a)=>S.a.ApplyDiff.applyWithFilter(a,S.a.ApplyDiff.apply)(r,n(e,t),c(),i())}e.withUphookAlertsHandlerFactory=function(e,n,r){return i=>i===h.a.SpecialId.Premium||i===h.a.SpecialId.FreePremiumAlerts?t(n,r):e(i)},e.getAlertsHandler=t;var n=e.add=(e,t)=>n=>{const i=t=>h.a.isPremiumId(t)?e.createFocused(h.a.SpecialId.Premium)(r.id,n):e.createAdded(h.a.SpecialId.FreePremiumAlerts)(r.id,n);return e=>Object(s.pipe)(n,u.g.fromPredicate(u.a.isNonEmpty),u.g.chain(n=>Object(s.pipe)(e.items.get(r.id),u.g.map(e=>e.value),u.g.map(r.Capabilities.addAlerts(n)),u.g.alt(()=>u.g.some(i(e.id))),u.g.map(r=>{const i=n.filter(Object(d.b)(g.a.isApplicableAlert,g.a.isFreePremium)).map(n=>t.createAdded(e.id)(k.a.getCardId(e.meta,n),n)),s=e.items.add([...i,r]),c=w.k.getActiveItemIndex(s)(e);return Object(o._)(Object(a._)({},e),{cardIndex:c,items:s,animation:w.b.proceed})}))),u.g.getOrElse(()=>e))},i=e.remove=()=>e=>t=>{if(!e.length)return t;const n=new Set(e.map(e=>e.id));return Object(s.pipe)(t.items.get(r.id),u.g.map(e=>e.value),u.g.map(e=>Object(s.pipe)(e.premiumAlerts.filter(e=>!n.has(e.id)),u.f.fromArray,u.g.map(n=>t.items.add(r.Capabilities.updateAlertsByModels(n)(e))),u.g.getOrElse(()=>t.items.remove(r.id)))),u.g.map(e=>{const n=w.k.getActiveItemIndex(e)(t);return Object(o._)(Object(a._)({},t),{cardIndex:n,items:e})}),u.g.getOrElse(()=>t))},c=e.update=()=>e=>t=>{const[,n]=p.a.partition(e,g.a.isRegistered);return Object(s.pipe)(t,i()(n))}}(N=e.Handler||(e.Handler={}))}(r||(r={}))},wxju:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("DTwm"),c=n("mTue"),l=n("D2TP"),u=n("xk6L"),d=n("mgiE"),p=n("E5C1");!function(e){e.create=function(e,t,n,r){return new f(e,t,n,r)},e.mock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.of(!1);return new h(e)}}(r||(r={}));var m=/([^\s]+\s+[^\s]+)/,f=function(){function e(t,n,r,a){Object(i.a)(this,e),Object(o._)(this,"_navigationVM",void 0),Object(o._)(this,"_documentSettingsState",void 0),Object(o._)(this,"_cheetahAvailability",void 0),Object(o._)(this,"_features",void 0),Object(o._)(this,"_isCheetahAvailable",void 0),Object(o._)(this,"_isInlineFeatureAvailable",void 0),Object(o._)(this,"_isCheetahLensInactive",void 0),Object(o._)(this,"_isDocumentSettingsPanelCollapsed",void 0),this._navigationVM=t,this._documentSettingsState=n,this._cheetahAvailability=r,this._features=a,this._isCheetahAvailable=this._cheetahAvailability.pipe(u.a.map(Object(s.not)(c.a.isUnavailable))),this._isInlineFeatureAvailable=u.a.of(this._features.cheetahInlineRewrite||this._features.cheetahMagicRewrite),this._isCheetahLensInactive=this._navigationVM.activeLensId.view((function(e){return e!==l.a.SpecialId.Cheetah})),this._isDocumentSettingsPanelCollapsed=this._documentSettingsState.pipe(u.a.map((function(e){return e.type===p.a.Collapsed})))}return Object(a.a)(e,[{key:"isAvailable",value:function(e){var t=e.pipe(u.a.map((function(e){return e.length<=5e3&&m.test(e)})));return u.a.combineLatestStatic([this._isCheetahAvailable,this._isInlineFeatureAvailable,this._isCheetahLensInactive,this._isDocumentSettingsPanelCollapsed,t]).pipe(u.a.map(d.a.every(s.identity)))}}]),e}(),h=function(){function e(t){Object(i.a)(this,e),Object(o._)(this,"_resolveObs",void 0),this._resolveObs=t}return Object(a.a)(e,[{key:"isAvailable",value:function(){return this._resolveObs}}]),e}()},x1PS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("U9Go"),a=n("DTwm"),o=n("tiWp"),s=n("+vYo"),c=n("lXop"),l=n("fr9z"),u=n("xk6L"),d=n("La5+"),p=n("yIk2"),m=n("S+il"),f=n("mgiE"),h=n("dcXr"),g=n("0kuo"),b=n("TKPA"),v=n("M3t0");!function(e){var t,n,r,y,O,_,C;!function(e){e.EditingMode="EditingMode",e.ReadMode="ReadMode"}(t=e.VisualState||(e.VisualState={})),function(e){e.is=function(e){return e.visualState===t.EditingMode}}(n||(n={})),function(e){e.is=function(e){return e.type!==y.Type.Close&&e.type!==y.Type.ApplyRemove&&e.type!==y.Type.ApplyChange}}(r||(r={})),_=y||(y={}),(O=_.Type||(_.Type={})).SwitchToReadMode="SwitchToReadMode",O.SwitchToEditMode="SwitchToEditMode",O.ApplyChange="ApplyChange",O.ApplyRemove="ApplyRemove",O.Close="Close",(_.SwitchToReadMode||(_.SwitchToReadMode={})).is=function(e){return e.type===y.Type.SwitchToReadMode},(_.ApplyChange||(_.ApplyChange={})).create=function(e,t,n){return Object(o.pipe)(e,h.a,f.b.bimap((function(){}),(function(e){return{type:y.Type.ApplyChange,url:e,textRange:t,rect:n}})))},_.initMapFromState=function(e){return function(t){var n=e.getFormatting(t.range);if(c.e.LinkPayload.is(n)){var r=n[c.e.Type.link][0],i=r.rect,s=r.url,l=r.range;return"selection"===t.source?{type:y.Type.SwitchToReadMode,textRange:l,rect:i,url:s}:{type:y.Type.SwitchToEditMode,textRange:l,rect:i,url:s}}Object(g.f)("toolbar"===t.source,"non-toolbar source can not emit ranges without link formatting");var u=Object(o.pipe)(e.getSelectionRect(),f.b.fold((function(){throw new g.b("Failed to get selection rect while trying to add link")}),a.identity));return{type:y.Type.SwitchToEditMode,textRange:t.range,rect:u,url:""}}},_.initHandlers=function(e,t,n){var r=function(){return f.b.tryCatchError((function(){return n.next()}))};return function(n){switch(n.type){case y.Type.SwitchToEditMode:return e.setCursor(n.textRange.start,l.b.size(n.textRange));case y.Type.SwitchToReadMode:return f.b.right(void 0);case y.Type.ApplyChange:return Object(o.pipe)(t.removeLink(n.textRange),f.b.chain((function(){return l.b.isEmpty(n.textRange)?Object(o.pipe)(t.insertLinkWithCaption(n.textRange.start,n.url,n.url),f.b.chain((function(){return e.setCursor(n.textRange.start+n.url.length,l.b.size(n.textRange))}))):t.insertLink(n.textRange,n.url)})));case y.Type.ApplyRemove:return Object(o.pipe)(r(),f.b.chain((function(){return t.removeLink(n.textRange)})),f.b.chain((function(){return e.setCursor(n.textRange.start,0)})));case y.Type.Close:return r();default:return Object(g.c)(n)}}},_.initMapToView=function(e){return function(n){var r=function(){return e.next({type:y.Type.Close})};switch(n.type){case y.Type.SwitchToEditMode:var i=s.a.create(n.url);return{visualState:t.EditingMode,rect:n.rect,inputContent:i,isValid:i.view(b.n),textRange:n.textRange,close:r,apply:function(){Object(o.pipe)(y.ApplyChange.create(i.get(),n.textRange,n.rect),f.b.fold(r,(function(t){return e.next(t)})))}};case y.Type.SwitchToReadMode:return{visualState:t.ReadMode,url:n.url,rect:n.rect,textRange:n.textRange,close:r,remove:function(){return e.next({type:y.Type.ApplyRemove,textRange:n.textRange})},change:function(){return e.next({type:y.Type.SwitchToEditMode,url:n.url,rect:n.rect,textRange:n.textRange})}};default:return Object(g.c)(n)}}},function(e){e.eq=i.j((function(e,t){return e.source===t.source&&l.b.ord.equals(e.range,t.range)}))}(e.LinkState||(e.LinkState={})),function(e){e.listenCloseHotkey=function(){return m.a.listen("escape").pipe(u.a.mapTo({type:y.Type.Close}))},e.listenApplyHotkey=function(e){return m.a.listen("enter").pipe(u.a.map((function(){var t=Object(o.pipe)(e.get(),f.g.filter(n.is));Object(g.f)(f.g.isSome(t),"Called Apply when view wasn't in edit mode");var r=f.g.unsafeGet(t);return Object(o.pipe)(y.ApplyChange.create(r.inputContent.get(),r.textRange,r.rect),f.b.fold((function(){return{type:y.Type.Close}}),(function(e){return e})))})))}}(C||(C={})),e.createManager=function(e,n,i){var c=s.a.create(f.g.none),l=new u.a.Subject,m=y.initMapFromState(e),h=y.initMapToView(l),g=y.initHandlers(e,n,i.closeLinks),b=v.d.Logging.getLogger("formattingLinksManager"),O=new d.a.Keeper;return O.push(e.dontFreezeWhen(c.view(f.g.exists((function(e){return e.visualState===t.EditingMode}))),"links"),i.formattingLinkState.pipe(u.a.debounce(Object(a.flow)(f.g.filter((function(e){return"selection"===e.source})),f.g.fold((function(){return 0}),(function(){return 200})),u.a.timer)),u.a.switchMap(f.g.fold((function(){return u.a.of(f.g.none)}),(function(e){return l.pipe(u.a.startWith(m(e)),u.a.switchMap((function(e){return u.a.mergeStatic(u.a.of(e),C.listenCloseHotkey(),e.type===y.Type.SwitchToEditMode?C.listenApplyHotkey(c):u.a.EMPTY)})),u.a.switchMap((function(e){return Object(o.pipe)(g(e),f.b.fold((function(e){return b.error("Error in formatting links",e),i.closeLinks.next(),u.a.EMPTY}),(function(){return r.is(e)?u.a.of(e):u.a.EMPTY})))})),u.a.map(h),u.a.map(f.g.some))}))),u.a.catchError((function(e){return b.error("Error in formatting links",e),u.a.EMPTY}))).subscribe(p.b.toAtom(c))),{visualState:c,dispose:function(){return O.dispose()}}}}(r||(r={}))},x4IX:function(e,t,n){e.exports=n.p+"files/a99245a221a8049c7592df0d6dc7ade5/grammarlyproductbeta1_8-bold.woff2"},xTTF:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return r}));var r,i=n("LzOy"),a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("0Uv3"),l=n("+vYo"),u=n("xk6L"),d=n("yIk2"),p=n("TKPA"),m=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),Object(s._)(this,"_documentModel",void 0),Object(s._)(this,"_events",void 0),Object(s._)(this,"_plagiarismCapiClient",void 0),Object(s._)(this,"_plagiarismCheckingState",void 0),Object(s._)(this,"plagiarismCheckedInSession",void 0),Object(s._)(this,"checkingState",void 0),Object(s._)(this,"_subs",void 0),Object(s._)(this,"_isEnabled",void 0),Object(s._)(this,"_enable",void 0),Object(s._)(this,"_disable",void 0),this._documentModel=t,this._events=n,this._plagiarismCapiClient=r,this._plagiarismCheckingState=this._documentModel.asyncChecksState.lens("plagiarism"),this.plagiarismCheckedInSession=this._plagiarismCheckingState.view((function(e){return"full"!==e})),this.checkingState=this._plagiarismCheckingState,this._subs=[],this._isEnabled=l.a.create(!1),this._enable=function(){i._plagiarismCheckingState.modify((function(e){return"idle"===e?"checking":e})),i._documentModel.extraSettings.checkedPlagiarism=!0,i._plagiarismCapiClient.enablePlagiarismSearch()},this._disable=function(){i._plagiarismCapiClient.disablePlagiarismSearch()},this._subs.push(this._isEnabled.pipe(u.a.switchMap(d.b.orEmpty(this._events.pipe(u.a.filter((function(e){return"session_started"===e.kind})))))).subscribe(this._enable))}return Object(o.a)(e,[{key:"enable",value:function(){var e=this;return this._isEnabled.set(!0),this._enable(),function(){e._isEnabled.set(!1),e._disable()}}},{key:"recheck",value:function(){var e=this;return Object(i.a)((function(){var t;return Object(c.c)(this,(function(n){switch(n.label){case 0:return(t=!e._isEnabled.get())&&e._enable(),[4,e._plagiarismCheckingState.pipe(u.a.filter((function(e){return"idle"===e})),u.a.first()).toPromise()];case 1:return n.sent(),t&&e._plagiarismCapiClient.disablePlagiarismSearch(),[2]}}))}))()}},{key:"dispose",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}}]),e}();!function(e){e.Mock=function e(){Object(a.a)(this,e),Object(s._)(this,"enable",(function(){return p.e})),Object(s._)(this,"recheck",(function(){return new Promise(p.e)})),Object(s._)(this,"dispose",p.e),Object(s._)(this,"checkingState",l.a.create("idle")),Object(s._)(this,"plagiarismCheckedInSession",l.a.create(!0))}}(r||(r={}))},xZAf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("8O/t"),i=n("09dI"),a=n("nWMp"),o=32.625,s={width:a.a.rem(o),height:a.a.vh(100),$nest:{"& > div":Object(r._)({position:"fixed",width:a.a.important("inherit"),right:0,marginRight:a.a.rem(1),borderRadius:0,borderRight:"none",borderTop:"none",borderBottom:"none"},i.o.Elevation.Elevation100),'& [data-name*="headerClose"]':{display:a.a.important("none")}}},c=a.a.prefixedStylesheet("oggy",{oggyWrapper:[s]})},xryS:function(e){e.exports=JSON.parse('{"sidebarHeader":"_1f1d41d9-sidebar-sidebarHeader","togglerWrapper":"_7d9b9794-sidebar-togglerWrapper","overviewBtn":"_8c97ba4b-sidebar-overviewBtn","fadeIn":"_7abd1fa7-sidebar-fadeIn","hideAssistantIcon":"_eed1f11f-sidebar-hideAssistantIcon","hideAssistantText":"_117e4658-sidebar-hideAssistantText","hideAssistantOutcomeText":"_5115a966-sidebar-hideAssistantOutcomeText","hideAssistantIconStatic":"_c8b21400-sidebar-hideAssistantIconStatic"}')},xsvI:function(e){e.exports=JSON.parse('{"uploadContainer":"_630bf5cf-upload-uploadContainer","upload":"_2c13a91d-upload-upload"}')},y9id:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("8O/t"),a=n("X76w"),o=n("+vYo"),s=n("xk6L"),c=n("yIk2"),l=n("osAs"),u=n("mEGS"),d=n("Nsc4");!function(e){var t=e.defaultState={alerts:u.a.empty,lenses:d.a.monoid.empty};e.get=(e,r,i)=>r.pipe(s.a.startWith(new Map),s.a.combineLatest(e.pipe(s.a.startWith(u.a.empty),s.a.scan((e,t)=>n(t,i.lensFilters)(e),t)),p)),e.getMock=(e,t)=>{const n=o.a.create(r.defaultState);return r.get(e,t,l.a.create(l.a.defaultLensFilters,l.a.defaultTextFilters)).subscribe(c.b.toAtom(n)),n};const n=(e,t)=>n=>{const r=u.a.Diff.toRegistered(u.a.diff(n.alerts,e));return{alerts:e,lenses:d.a.applyDiff(t)(r)(n.lenses)}},p=(e,t)=>Object(a._)(Object(i._)({},t),{lenses:d.a.updatePercentiles(e)(t.lenses)})}(r||(r={}))},yDh2:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("8O/t"),i=n("hcme"),a=n("B8yO"),o=n("DTwm"),s=n("tiWp"),c=n("4GyQ"),l=n("NDcT"),u=n("fC5a"),d=n("ySi0"),p=n("wuWi"),m=n("PYgo"),f=n("ZDrO"),h=n("7IMz"),g=n("JRBS"),b=n("mgiE"),v=n("M3t0"),y=n("Pkcy"),O=function(e){var t=e.title,n=e.className;return a.createElement("div",Object(r._)({className:n},f.d.setInnerHTML(t.toLowerCase(),{allowedTags:["i","b"]})))},_=function(e){var t=e.title,n=e.explanation;return a.createElement("div",null,a.createElement(O,{className:y.a.bigTitle,title:t}),a.createElement("div",Object(r._)({className:y.a.explanation},f.d.setInnerHTML(n,{allowedTags:["i","b"]}))))},C=function(e){var t=e.alert,n=e.hydrate,r=e.onApply,i=e.onAddToDictionary,c=e.onIgnore,p=e.onOpen,m=e.onMount,f=a.useContext(l.a.Context).inlineCard,C=function(e){return/Unknown/.test(e.patternName)};return h.a.useEffectOnDidMount(m),a.createElement("div",{className:y.a.card},Object(s.pipe)(t.getTransform(),b.g.chain(Object(o.flow)(n,b.b.fold((function(e){return v.d.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",e.error,{alertId:t.id}),b.g.none}),b.g.some))),b.g.fold((function(){return!C(t)&&a.createElement(_,{title:t.title,explanation:t.explanation})}),(function(e){return a.createElement(g.d,{key:"replacementsLabels",replacementsLabels:e,onClick:r,header:(n=t,i=e.tooltipText,/Unknown/.test(n.patternName)?"Unknown word":/Misspelled\/General/.test(n.patternName)?"":/Correctness\/FullSentence\/Fusion\/Rewrite/.test(n.patternName)?n.miniCardTitle:i),customStyle:y.a,a11yContrast:!0,beta:t.extraProperties.isBeta});var n,i}))),a.createElement(u.a.Group,{align:"vertical"},t.extraProperties.hasAddToDictionary&&a.createElement(u.a.Ghost,{name:"add-to-dictionary",textPosition:"right",className:C(t)?y.a.footerButtonBig:y.a.footerButtonShort,onClick:i},C(t)&&a.createElement(O,{className:y.a.unknownWordTitle,title:t.title}),a.createElement(d.d.Dict,null),f.addToDictionary),a.createElement(u.a.Ghost,{name:"dismiss",className:y.a.footerButtonShort,onClick:c},a.createElement(d.d.Ignore,null),f.dismiss),a.createElement(u.a.Ghost,{name:"see_more",className:y.a.footerButtonShort,onClick:p},a.createElement(d.d.Expand,null),f.seeMore)),a.createElement(w,{alert:t}))},w=function(e){var t=e.alert;return Object(s.pipe)(t.extraProperties.freePremium,b.g.contains("unlocked"))?a.createElement(k,null):Object(s.pipe)(t.extraProperties.premiumYellowFooterVariant,b.g.isSome)?Object(s.pipe)(t.extraProperties.premiumYellowFooterVariant,b.g.fold((function(){return null}),(function(e){return a.createElement(S,{variant:e})}))):a.createElement("div",{className:y.a.emptyCardFooter})},S=function(e){var t=e.variant,n=a.useContext(l.a.Context).premiumFooter;return a.createElement(E,null,n[t])},k=function(){var e=a.useContext(l.a.Context).freePremiumAlertFooter,t=e.beforeIcon,n=e.afterIcon;return a.createElement(E,null,t," ",n)},E=function(e){var t=e.children;return a.createElement(p.l,{className:y.a.premiumCardFooter},a.createElement(d.d.PaidLink,{width:18}),t)},j=function(e){var t=a.useRef(null),n=Object(i._)(a.useState(!1),2),o=n[0],s=n[1];h.a.useEffectOnDidMount((function(){var e=t.current;e&&e.firstElementChild&&e.firstElementChild.clientWidth>=288&&s(!0)}));var l=e.alert,u=e.hydrate,d=e.onApply,p=e.onIgnore,m=e.onAddToDictionary,f=e.onOpen,g=e.onMount;return a.createElement("div",Object(r._)({role:"presentation",onClick:function(e){return e.stopPropagation()},key:l.id,ref:function(e){return t.current=e}},Object(c.c)(o&&y.a.maxWidthReached)),a.createElement(C,{alert:l,hydrate:u,onApply:d,onIgnore:p,onAddToDictionary:m,onOpen:f,onMount:g}))},x=function(e){var t=e.alert,n=e.events,r=e.highlightIndex,i=e.hydrate,o=function(e){return function(){n.next(e),n.next({type:m.b.Type.closed})}};return a.createElement(j,{alert:t,hydrate:i,onAddToDictionary:o({type:m.b.Type.addedToDictionary,alertId:t.id}),onApply:function(e){return o({type:m.b.Type.applied,alertId:t.id,alternativeIndex:e})},onIgnore:o({type:m.b.Type.ignored,alertId:t.id}),onOpen:o({type:m.b.Type.opened,alert:{alert:t,highlightIndex:r}}),onMount:o({type:m.b.Type.looked,alertId:t.id})})}},yIt4:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("B8yO"),i=n("fC5a"),a=n("wuWi"),o=n("4GyQ"),s=n("ySi0"),c=n("nWMp"),l={marginRight:c.a.rem(.5),width:c.a.rem(2)},u=c.a.stylesheet({base:[{display:"flex",alignItems:"center"}],icon:[l]}),d=function(e){var t=e.className;return r.createElement("div",Object(o.c)(u.base,t),r.createElement(s.d.Grammarly,{className:u.icon}),r.createElement("svg",{"aria-hidden":!0,width:"99",height:"18",viewBox:"0 0 99 18"},r.createElement("g",{fill:"#4C4C4C",fillRule:"evenodd"},r.createElement("path",{d:"M2 17.16c-.5-.2-.84-.6-.84-1.16 0-.67.55-1.23 1.22-1.23.2 0 .36.04.5.1.86.4 1.8.63 2.92.63 2.05 0 3.02-.98 3.02-2.88v-.5c-.9 1.05-1.86 1.7-3.46 1.7-2.47 0-4.7-1.8-4.7-4.93v-.05c0-3.16 2.27-4.93 4.7-4.93 1.64 0 2.6.7 3.42 1.58v-.02c0-.8.67-1.48 1.5-1.48s1.5.67 1.5 1.5v6.8c0 1.9-.46 3.28-1.35 4.17-.98 1-2.5 1.42-4.55 1.42-1.4 0-2.63-.25-3.87-.74zM8.83 8.9v-.05c0-1.44-1.13-2.45-2.6-2.45-1.45 0-2.56 1-2.56 2.45v.04c0 1.45 1.1 2.44 2.57 2.44 1.46 0 2.6-1 2.6-2.45zM13.47 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C16.9 4.94 17.62 4 18.5 4c.94 0 1.47.6 1.47 1.46 0 .8-.52 1.26-1.13 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M19.6 11.65v-.03c0-2.3 1.77-3.38 4.28-3.38 1.06 0 1.83.18 2.58.43V8.5c0-1.25-.77-1.94-2.27-1.94-.84 0-1.5.12-2.08.3-.18.06-.3.08-.43.08-.7 0-1.26-.54-1.26-1.23 0-.52.34-.97.8-1.15.96-.36 1.98-.55 3.4-.55 1.62 0 2.8.43 3.56 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.87 0-1.44-.6-1.44-1.23v-.02c-.73.8-1.73 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.5-.24-1.18-.4-1.9-.4-1.3 0-2.1.52-2.1 1.47v.04c0 .8.7 1.28 1.65 1.28 1.4 0 2.35-.77 2.35-1.86zM30.94 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.12-1.7 1.38 0 2.43.6 2.98 1.68.93-1.1 2.03-1.68 3.47-1.68 2.25 0 3.6 1.34 3.6 3.9v5.5c0 .82-.68 1.5-1.5 1.5-.84 0-1.5-.68-1.5-1.5V8.78c0-1.43-.64-2.16-1.77-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.7 1.5-1.52 1.5-.8 0-1.5-.66-1.5-1.5V8.8c0-1.43-.62-2.16-1.74-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M48.7 5.5c0-.83.68-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.13-1.7 1.38 0 2.42.6 2.98 1.68.93-1.1 2.04-1.68 3.48-1.68 2.23 0 3.57 1.34 3.57 3.9v5.5c0 .82-.67 1.5-1.5 1.5s-1.5-.68-1.5-1.5V8.78c0-1.43-.63-2.16-1.75-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V8.8c0-1.43-.63-2.16-1.76-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.68 1.5-1.5 1.5-.84 0-1.5-.66-1.5-1.5V5.5M65.84 11.65v-.03c0-2.3 1.76-3.38 4.26-3.38 1.07 0 1.84.18 2.6.43V8.5c0-1.25-.78-1.94-2.28-1.94-.83 0-1.5.12-2.07.3-.18.06-.3.08-.44.08-.68 0-1.23-.54-1.23-1.23 0-.52.33-.97.8-1.15.96-.36 1.98-.55 3.38-.55 1.64 0 2.83.43 3.58 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.86 0-1.43-.6-1.43-1.23v-.02c-.73.8-1.74 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.52-.24-1.2-.4-1.93-.4-1.27 0-2.06.52-2.06 1.47v.04c0 .8.67 1.28 1.64 1.28 1.4 0 2.35-.77 2.35-1.86zM77.17 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C80.6 4.94 81.3 4 82.2 4c.93 0 1.46.6 1.46 1.46 0 .8-.5 1.26-1.12 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M84.57 1.67c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V13.3c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V1.68M89.96 17.63c-.43-.15-.95-.5-.95-1.24s.58-1.23 1.2-1.23c.23 0 .37.04.5.08.25.08.4.12.62.12.53 0 .8-.1 1.07-.64l.1-.23-3.63-8.37c-.07-.2-.15-.5-.15-.7 0-.84.65-1.43 1.48-1.43.75 0 1.18.4 1.44 1.12l2.3 6.16 2.2-6.14C96.37 4.5 96.8 4 97.58 4c.77 0 1.42.6 1.42 1.38 0 .24-.08.57-.14.7l-3.7 8.87c-.88 2.15-1.77 2.96-3.56 2.96-.67 0-1.15-.1-1.64-.27"}))))},p=n("2swC"),m=c.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:p.a.CoreNeutral1,justifyContent:"center",alignItems:"center"}),f=c.a.style({position:"absolute",top:c.a.rem(1.875),left:c.a.rem(2.5)}),h=c.a.style({marginTop:c.a.rem(4.25),letterSpacing:"-.8px",fontSize:c.a.rem(2.625),lineHeight:c.a.rem(3.5)}),g=c.a.style({textAlign:"center",marginTop:c.a.rem(1),color:p.a.CoreNeutral50}),b=c.a.style({$nest:{"&[data-textpos='everywhere']":{marginTop:c.a.rem(2.25),padding:"0 ".concat(c.a.rem(2.5)),textTransform:"initial",letterSpacing:0,fontSize:c.a.rem(1),lineHeight:c.a.rem(3.125)}}}),v=c.a.style({marginTop:c.a.rem(1)}),y=function(e){var t=e.name,n=e.logo,o=e.title,s=e.description,c=e.primaryButton,l=e.secondaryButton;return r.createElement("div",{"data-name":t,className:m},r.createElement(d,{className:f}),n,r.createElement(a.c,{className:h},o),r.createElement(a.j,{className:g},s),r.createElement(i.a.Primary,{name:"primary-button",className:b,onClick:c.onClick},c.title),l&&r.createElement(i.a.Ghost,{className:v,name:"secondary-button",onClick:l.onClick},l.title))}},yKm6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,i,a=n("U9Go"),o=n("lKCo"),s=n("cZKX"),c=n("Yqho"),l=n("ZZle"),u=n("0kuo");!function(e){let t,n,r,i,d,p;!function(e){let t;!function(e){e.create=function(e){return e},e.eq=a.i}(t=e.Id||(e.Id={}))}(t=e.Tone||(e.Tone={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=a.i}(t=e.Id||(e.Id={}))}(n=e.Style||(e.Style={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=a.i}(t=e.Id||(e.Id={}))}(r=e.Role||(e.Role={})),function(e){function t(e){switch(e){case"american":return"American English";case"australian":return"Australian English";case"british":return"British English";case"canadian":return"Canadian English";case"indian":return"Indian English";default:return Object(u.d)(e)}}function n(e){switch(e){case"american":return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case"australian":return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case"british":return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case"canadian":return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case"indian":return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:return Object(u.d)(e)}}let r;!function(e){e.create=function(e){return e},e.eq=a.i}(r=e.Id||(e.Id={})),e.american={id:r.create("american"),label:t("american"),iconUrl:n("american")},e.australian={id:r.create("australian"),label:t("australian"),iconUrl:n("australian")},e.british={id:r.create("british"),label:t("british"),iconUrl:n("british")},e.canadian={id:r.create("canadian"),label:t("canadian"),iconUrl:n("canadian")},e.indian={id:r.create("indian"),label:t("indian"),iconUrl:n("indian")},e.all=function(){return[e.american,e.australian,e.british,e.canadian,e.indian]}}(i=e.Dialect||(e.Dialect={})),function(e){e.eq=a.l({selectedStyle:n.Id.eq,selectedTonesPerStyle:c.j(n.Id.eq,l.l(t.Id.eq)),selectedRole:o.getEq(r.Id.eq),selectedDialect:i.Id.eq})}(d=e.Selections||(e.Selections={})),e.toLegacyVoiceProfile=function(e){return"legacyVoiceProfile"===e.kind?o.some(e):o.none},function(e){const t=a.l({name:a.i,state:a.i}),n=a.l({name:a.i,tags:s.eb(t)}),c=a.l({name:a.i,summary:a.i,selected:a.e,sections:s.eb(n)}),l=s.eb(c);e.eqByRoleDialectProfileAndIsEnabledByDefault=a.l({profiles:l,selectedRole:o.getEq(r.Id.eq),selectedDialect:i.Id.eq,isEnabledByDefault:a.e})}(p=e.NewSelections||(e.NewSelections={})),e.toNewVoiceProfile=function(e){return"newVoiceProfile"===e.kind?o.some(e):o.none}}(r||(r={})),function(e){e.createId=({tagName:e,sectionName:t,profileName:n})=>`${t}-${e}-${n}`}(i||(i={}))},yMgh:function(e){e.exports=JSON.parse('{"header1":"_4a288e2d-formatting-toolbar-header1","header2":"_904f6433-formatting-toolbar-header2","header3":"_bd2149d3-formatting-toolbar-header3","header3legacy":"_d7558304-formatting-toolbar-header3legacy","button":"_8eaf26b5-formatting-toolbar-button","header4":"_498bfbff-formatting-toolbar-header4","paper":"_da5102c1-formatting-toolbar-paper","base":"_c3448e07-formatting-toolbar-base","small":"_c009b2eb-formatting-toolbar-small","smallLight":"_2db727d5-formatting-toolbar-smallLight","score":"_c0003bcb-formatting-toolbar-score","lawyer":"_4af8e28d-formatting-toolbar-lawyer","title":"_92533f7f-formatting-toolbar-title","p1":"_42af1dc0-formatting-toolbar-p1","header5":"_0cdb7ce1-formatting-toolbar-header5","wrapper":"_983d53b0-formatting-toolbar-wrapper","toolbarBtn":"_b6bf19bd-formatting-toolbar-toolbarBtn","panel":"_dfdcacb3-formatting-toolbar-panel","panelAnimateIn":"_666c5e1f-formatting-toolbar-panelAnimateIn","growIn":"_9798b8e4-formatting-toolbar-growIn","item":"_8bbcd63e-formatting-toolbar-item","separator":"_fd8a9183-formatting-toolbar-separator","panelHorizontal":"_6cd9fea9-formatting-toolbar-panelHorizontal","verticalSeparator":"_a6657dff-formatting-toolbar-verticalSeparator","verticalSeparatorA11yContrast":"_0604c393-formatting-toolbar-verticalSeparatorA11yContrast","itemMini":"_f1c80523-formatting-toolbar-itemMini _8bbcd63e-formatting-toolbar-item","itemMiniA11yContrast":"_5e72478e-formatting-toolbar-itemMiniA11yContrast _8bbcd63e-formatting-toolbar-item","iconMini":"_e1edbba1-formatting-toolbar-iconMini","iconA11yContrast":"_71dcc9c6-formatting-toolbar-iconA11yContrast","tooltip":"_642a89aa-formatting-toolbar-tooltip","label":"_87e57eee-formatting-toolbar-label","hotkeyLabel":"_149f8a5d-formatting-toolbar-hotkeyLabel","bold":"_81ab552d-formatting-toolbar-bold","italic":"_2f2a5db0-formatting-toolbar-italic","underline":"_dba0a4bc-formatting-toolbar-underline","h1":"_e743e53e-formatting-toolbar-h1 _bd2149d3-formatting-toolbar-header3","h2":"_cb468ed0-formatting-toolbar-h2 _498bfbff-formatting-toolbar-header4","link":"_e91f7f84-formatting-toolbar-link"}')},yOW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("B8yO"),i=n("OwvP"),a=n("4GyQ"),o=n("111I"),s=n("ySi0"),c=n("VHh6");const l=(e,t)=>o.b.Grid.make(({slots:n})=>r.createElement(i.a.div,Object(a.c)(c.a.wrapper,e),r.createElement(s.d.UpgradeHookPanel.TitleDiamond,{className:t}),n.body))},yRey:function(e,t,n){"use strict";n.r(t),n.d(t,"literal",(function(){return o})),n.d(t,"string",(function(){return s})),n.d(t,"number",(function(){return c})),n.d(t,"boolean",(function(){return l})),n.d(t,"UnknownArray",(function(){return u})),n.d(t,"UnknownRecord",(function(){return d})),n.d(t,"refine",(function(){return p})),n.d(t,"nullable",(function(){return m})),n.d(t,"struct",(function(){return f})),n.d(t,"type",(function(){return h})),n.d(t,"partial",(function(){return g})),n.d(t,"array",(function(){return b})),n.d(t,"record",(function(){return v})),n.d(t,"tuple",(function(){return y})),n.d(t,"intersect",(function(){return O})),n.d(t,"union",(function(){return _})),n.d(t,"sum",(function(){return C})),n.d(t,"lazy",(function(){return w})),n.d(t,"readonly",(function(){return S})),n.d(t,"alt",(function(){return k})),n.d(t,"zero",(function(){return E})),n.d(t,"compose",(function(){return j})),n.d(t,"id",(function(){return x})),n.d(t,"URI",(function(){return A})),n.d(t,"Schemable",(function(){return I})),n.d(t,"WithUnknownContainers",(function(){return T})),n.d(t,"WithUnion",(function(){return M})),n.d(t,"WithRefine",(function(){return P}));var r=n("DTwm"),i=n("tiWp"),a=n("j8jx"),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return-1!==e.findIndex((function(e){return e===t}))}}},s={is:function(e){return"string"==typeof e}},c={is:function(e){return"number"==typeof e&&!isNaN(e)}},l={is:function(e){return"boolean"==typeof e}},u={is:Array.isArray},d={is:function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},p=function(e){return function(t){return{is:function(n){return t.is(n)&&e(n)}}}},m=function(e){return{is:function(t){return null===t||e.is(t)}}},f=function(e){return Object(i.pipe)(d,p((function(t){for(var n in e)if(!(n in t)||!e[n].is(t[n]))return!1;return!0})))},h=f,g=function(e){return Object(i.pipe)(d,p((function(t){for(var n in e){var r=t[n];if(void 0!==r&&!e[n].is(r))return!1}return!0})))},b=function(e){return Object(i.pipe)(u,p((function(t){return t.every(e.is)})))},v=function(e){return Object(i.pipe)(d,p((function(t){for(var n in t)if(!e.is(t[n]))return!1;return!0})))},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return Array.isArray(t)&&t.length===e.length&&e.every((function(e,n){return e.is(t[n])}))}}},O=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return e.some((function(e){return e.is(t)}))}}},C=function(e){return function(t){return Object(i.pipe)(d,p((function(n){var r=n[e];return r in t&&t[r].is(n)})))}},w=function(e){var t=Object(a.b)(e);return{is:function(e){return t().is(e)}}},S=r.identity,k=function(e){return function(t){return{is:function(n){return t.is(n)||e().is(n)}}}},E=function(){return{is:function(e){return!1}}},j=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},x=function(){return{is:function(e){return!0}}},A="io-ts/Guard",I={URI:A,literal:o,string:s,number:c,boolean:l,nullable:m,type:h,struct:f,partial:g,record:v,array:b,tuple:y,intersect:O,sum:C,lazy:function(e,t){return w(t)},readonly:S},T={UnknownArray:u,UnknownRecord:d},M={union:_},P={refine:p}},"yYk/":function(e,t,n){"use strict";!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{structuredClone:function(){return p},isEqual:function(){return f},objectWithoutProperties:function(){return h},isObject:function(){return g},isEmptyObject:function(){return b},toArray:function(){return v},immutableUpdate:function(){return y},immutableUpdateC:function(){return O},immutableUpdateOption:function(){return _},immutableUpdateOptionC:function(){return C},merge:function(){return w},update:function(){return k},deepUpdate:function(){return E},modify:function(){return j},keys:function(){return x},filterKeys:function(){return A},filterKeysBy:function(){return I},pick:function(){return T},pickProps:function(){return M},set:function(){return P},deepEqual:function(){return N},fromEntries:function(){return L},omit:function(){return F}});var r=n("a5gI"),i=n("8O/t"),a=n("X76w"),o=n("vGXj"),s=n("hcme"),c=n("lVJY"),l=n("lKCo"),u=n("tiWp"),d=n("1C8y"),p=function e(t){if("object"!=typeof t)return t;var n,r,i=Object.prototype.toString.call(t);if("[object Object]"===i){if(t.constructor!==Object&&"function"==typeof t.constructor)for(n in r=new t.constructor,t)t.hasOwnProperty(n)&&r[n]!==t[n]&&(r[n]=e(t[n]));else for(n in r={},t)"__proto__"===n?Object.defineProperty(r,n,{value:e(t[n]),configurable:!0,enumerable:!0,writable:!0}):r[n]=e(t[n]);return r}if("[object Array]"===i){for(n=t.length,r=Array(n);n--;)r[n]=e(t[n]);return r}if("[object Date]"===i)return new Date(+t);if("[object RegExp]"===i)return(r=new RegExp(t.source,t.flags)).lastIndex=t.lastIndex,r;return t};var m=Object.prototype.hasOwnProperty;function f(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&f(e[r],t[r]););return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(m.call(e,n)&&++r&&!m.call(t,n))return!1;if(!(n in t)||!f(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function g(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function b(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function v(e){return Object.keys(e).map((function(t){return e[t]}))}function y(e,t,n){var a=n[e],s=o._(n,[e].map(c._));return i._(r._({},e,t(l.fromNullable(a))),s)}var O=(0,d.curry)(y);function _(e,t,n){var a=n[e],s=o._(n,[e].map(c._)),d="function"==typeof t?t(l.fromNullable(a)):t;return(0,u.pipe)(d,l.fold((function(){return s}),(function(t){return i._(r._({},e,t),s)})))}var C=(0,d.curry)(_);function w(e,t){return S(S({},e),t)}function S(e,t){for(var n in t){var r,i=null!==(r=e[n])&&void 0!==r?r:{},a=t[n];null!=a&&null!=i&&a.constructor===Object&&i.constructor===Object?e[n]=S(i,a):e[n]=a}return e}function k(e,t){return Object.assign({},e,t)}function E(e,t){var n={};for(var r in e){var i=t[r];void 0!==i?n[r]="object"==typeof i?E(e[r],i):i:n[r]=e[r]}return n}function j(e){return function(t){return k(t,e)}}function x(e){return Object.keys(e)}function A(e,t){return x(e).filter((function(n){return t(e[n])}))}function I(e){return function(t){return A(t,e)}}function T(e){return function(t){return t[e]}}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return a._(i._({},t),r._({},n,e[n]))}),{})}}function P(e){return function(t,n){return a._(i._({},n),r._({},e,t))}}function N(e,t){if(e===t)return!0;if(B(e)||B(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!(n in t))return!1;if(!N(e[n],t[n]))return!1}return!0}function B(e){return e!==Object(e)}function L(e){return Array.from(e).reduce((function(e,t){var n=s._(t,2),o=n[0],c=n[1];return a._(i._({},e),r._({},o,c))}),{})}var F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=i._({},e);return n.forEach((function(e){return delete a[e]})),a}},ycnv:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b}));var r,i,a=n("Wy1Y"),o=n("uKMM"),s=n("a5gI"),c=n("8O/t"),l=n("X76w"),u=n("wvT7"),d=n("DTwm"),p=n("tiWp"),m=n("kmWx"),f=n("mgiE"),h=n("TKPA"),g=n("RRF2");!function(e){e.Monthly="Monthly",e.Quarterly="Quarterly",e.Annual="Annual"}(r||(r={})),function(e){var t=function(e,t){return{pricePerYear:{value:e-t.value,currency:t.currency},percent:"".concat(Math.round(100*(e-t.value)/e),"%")}},n=f.a.reduce({annual:f.g.none,quarterly:f.g.none,monthly:f.g.none},(function(e,t){switch(t.periodMonths){case 1:return Object(l._)(Object(c._)({},e),{monthly:f.g.some(t)});case 3:return Object(l._)(Object(c._)({},e),{quarterly:f.g.some(t)});case 12:return Object(l._)(Object(c._)({},e),{annual:f.g.some(t)});default:return e}}));e.createOfferBasedOnAnnual=Object(d.flow)(n,Object(u.a)(f.g.Applicative),f.g.map((function(e){var n=e.annual,r=e.quarterly,i=e.monthly;return{price:n.priceMoney,regularPrice:n.regularPriceMoney,discountPercent:"0%",periodInMonths:12,title:"Annual",savePricedBySwitchingFrom:{monthly:t(12*i.priceMoney.value,n.priceMoney),quarterly:t(4*r.priceMoney.value,n.priceMoney)}}})))}(i||(i={}));var b=function(){function e(t,n,r,i,o,c,l){var u=this;Object(a.a)(this,e),Object(s._)(this,"offer",void 0),Object(s._)(this,"currentPlan",void 0),Object(s._)(this,"nextPaymentDate",void 0),Object(s._)(this,"_isCancelled",void 0),Object(s._)(this,"_isOnTrial",void 0),Object(s._)(this,"_queuedPlan",void 0),Object(s._)(this,"_subscriptionOps",void 0),Object(s._)(this,"_renew",void 0),Object(s._)(this,"_getPlans",void 0),Object(s._)(this,"_changePlan",void 0),Object(s._)(this,"_extractAnnualPlan",void 0),Object(s._)(this,"changePlan",void 0),this.offer=t,this.currentPlan=n,this.nextPaymentDate=r,this._isCancelled=i,this._isOnTrial=o,this._queuedPlan=c,this._subscriptionOps=l,this._renew=function(e){return f.l.tryCatch((function(){return!0===e?u._subscriptionOps.renew():Promise.resolve()}),(function(e){return{reason:"Renew failed",originalError:e}}))},this._getPlans=function(){return f.l.tryCatch((function(){return u._subscriptionOps.getPlans()}),(function(e){return{reason:"Could not get plans",originalError:e}}))},this._changePlan=function(e){return f.l.tryCatch((function(){return u._subscriptionOps.changePlan(e)}),(function(e){return{reason:"Changing plan failed",originalError:e}}))},this._extractAnnualPlan=Object(d.flow)(f.a.findFirst((function(e){return 12===e.periodMonths})),f.b.fromOption((function(){return{reason:"Expectation failed, we did not receive the annual plan"}})),f.b.filterOrElse((function(e){return m.a.eq.equals(e.priceMoney,u.offer.price)}),(function(){return{reason:"Expectation failed, we did not receive the annual plan with offered price"}})),f.b.map((function(e){return e.id})),f.l.fromEither),this.changePlan=Object(p.pipe)(this._renew(this._isCancelled),f.l.chain(this._getPlans),f.l.chain(this._extractAnnualPlan),f.l.chain(this._changePlan)),Object(h.r)("changePlanHookShowOffer",(function(){return e.enableDebugModeToShowOffer=!0}))}return Object(o.a)(e,[{key:"isMonthly",get:function(){return 1===this.currentPlan.periodMonths}},{key:"isQuarterly",get:function(){return 3===this.currentPlan.periodMonths}},{key:"savedPrice",get:function(){return this.isMonthly?this.offer.savePricedBySwitchingFrom.monthly:this.offer.savePricedBySwitchingFrom.quarterly}},{key:"currentPlanType",get:function(){return this.isMonthly?r.Monthly:this.isQuarterly?r.Quarterly:r.Annual}},{key:"daysToRenewal",get:function(){var e=this.nextPaymentDate.getTime(),t=g.d.Local.now().getTime();return Math.floor(Math.max(0,e-t)/g.d.MS_IN_DAY)}},{key:"shouldShowOffer",get:function(){return!!e.enableDebugModeToShowOffer||this.willSubscriptionRenewSoon&&!this.hasAlreadyChangedToAnnual&&!this._isOnTrial}},{key:"hasAlreadyChangedToAnnual",get:function(){return Object(p.pipe)(this._queuedPlan,f.g.exists((function(e){return 12===e.periodMonths})))}},{key:"willSubscriptionRenewSoon",get:function(){var e=this.daysToRenewal<2*g.d.DAYS_IN_WEEK;return(this.isMonthly||this.isQuarterly)&&e}}],[{key:"create",value:function(t,n){var r=t.currentPlan,a=t.queuedPlan,o=t.nextPayDate,s=t.expirationDate,c=t.isCancelled,l=t.plans,u=t.isOnTrial;if(!Boolean(r))return f.b.left("Cannot load plans for change plan when user is freemium");if(!o&&!s)return f.b.left("Cannot change plan when nextPayDate and expirationDate are null");var d={renew:function(){return n.renew()},changePlan:function(e){return n.changePlan(e)},getPlans:function(){return n.getPlans()}},m=i.createOfferBasedOnAnnual(l);return Object(p.pipe)(m,f.b.fromOption((function(){return"Cannot create offer, plans are incomplete, monthly or quarterly or annual are not presented in subscription status"})),f.b.map((function(t){return new e(t,r,new Date(null!=o?o:s),null!=c&&c,null!=u&&u,f.g.fromNullable(a),d)})))}}]),e}();Object(s._)(b,"enableDebugModeToShowOffer",!1)},ygWn:function(e,t,n){e.exports=n.p+"files/b6cb5f7a8f36dd2ce986bdf8c4cd48d4/grammarlyproductbeta1_8-medium.woff2"},yiiS:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r,i=n("jSIJ"),a=n("CcDN"),o=n("a5gI"),s=n("8O/t"),c=n("X76w"),l=n("nWMp"),u=n("fB2g"),d=n("TKPA"),p=n("2swC"),m=p.a.CoreGreen10;!function(e){e.markHeightStandard="".concat("alerts1-","markHeightStandard"),e.markHeightTall="".concat("alerts1-","markHeightTall"),e.markSelected="".concat("alerts1-","markSelected"),e.markSelectedFocused="".concat("alerts1-","markSelectedFocused"),e.markBase="".concat("alerts1-","markBase"),e.markAppliedBase="".concat("alerts1-","markAppliedBase"),e.markVisible="".concat("alerts1-","markVisible"),e.markStart="".concat("alerts1-","markStart"),e.correctness="".concat("alerts1-","correctness"),e.premium="".concat("alerts1-","premium"),e.clarity="".concat("alerts1-","clarity"),e.engagement="".concat("alerts1-","engagement"),e.delivery="".concat("alerts1-","delivery"),e.critical="".concat("alerts1-","critical"),e.advanced="".concat("alerts1-","advanced"),e.plagiarism="".concat("alerts1-","plagiarism"),e.originality="".concat("alerts1-","originality"),e.vox="".concat("alerts1-","vox"),e.knowledgeHub="".concat("alerts1-","knowledgeHub"),e.synonym="".concat("alerts1-","synonym"),e.markAnimated="".concat("alerts1-","markAnimated"),e.markHidden="".concat("alerts1-","markHidden"),e.markApplied="".concat("alerts1-","markApplied"),e.markBulkApplied="".concat("alerts1-","markBulkApplied"),e.markBulkAppliedAnimation="".concat("alerts1-","markBulkAppliedAnimation"),e.markSuccess="".concat("alerts1-","markSuccess"),e.noAnimation="".concat("alerts1-","noAnimation"),e.markVBar="".concat("alerts1-","markVBar"),e.markVBarHighlighted="".concat("alerts1-","markVBarHighlighted")}(r||(r={}));var f,h="".concat("alerts1-","custom"),g={backgroundPosition:"center calc(100% + ".concat("2px",")"),backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},b={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},v=l.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),y={standard:"calc(".concat(l.a.rem(.45)," - 3px)"),tall:"calc(".concat(l.a.rem(.425)," + 1px)")},O=function(e){return{to:{backgroundColor:e}}},_=function(e,t,n,i,a){var l;return Object(c._)(Object(s._)({$unique:!0},g),{paddingBottom:"1px",borderBottom:"".concat("2px"," ").concat(a," ").concat(t),transition:"border-bottom-color .5s linear",$nest:Object(c._)(Object(s._)({},g.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:(l={},Object(o._)(l,"&.".concat(r.markSelected,".").concat(r.markHeightStandard),{paddingTop:y.standard}),Object(o._)(l,"&.".concat(r.markSelected,".").concat(r.markHeightTall),{paddingTop:y.tall}),Object(o._)(l,"&.".concat(r.markSelected),{$unique:!0,borderBottomColor:i,animation:"".concat(e," 1s ease forwards")}),Object(o._)(l,"&.".concat(r.markSelectedFocused),{$unique:!0,borderBottomColor:n}),Object(o._)(l,"&.".concat(r.markSelected," .").concat(r.markBase,":not(.").concat(r.markSelected,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),Object(o._)(l,"&.".concat(r.markSelectedFocused," .").concat(r.markBase,":not(.").concat(r.markSelected,")"),{paddingBottom:"calc(".concat("2px"," + ").concat("1px",")"),borderBottomStyle:"hidden"}),l)}})})},C=l.a.keyframes(O(p.a.CoreRed10)),w=l.a.keyframes(O(p.a.CoreYellow10)),S=l.a.keyframes(O(p.a.CoreCyan10)),k=l.a.keyframes(O(p.a.CorePurple10)),E=l.a.keyframes(O(p.a.CoreNeutral10)),j=l.a.keyframes(O(p.a.CoreNeutral10)),x=l.a.keyframes(O(p.a.CoreBlue10)),A=l.a.keyframes(O(p.a.CoreRed10)),I=l.a.keyframes(O(p.a.CoreYellow10)),T=l.a.keyframes(O(p.a.CoreBlue10)),M=l.a.keyframes(O(p.a.CoreGreen10)),P=l.a.keyframes(O(p.a.CorePurple10)),N=l.a.keyframes(O(p.a.CoreGreen10)),B=function(e){var t,n=l.a.color(m).fade(e).toRGBA().toString();return{borderBottomColor:n,backgroundColor:n,$nest:(t={},Object(o._)(t,"&.".concat(r.markHeightStandard),{paddingTop:y.standard}),Object(o._)(t,"&.".concat(r.markHeightTall),{paddingTop:y.tall}),t)}},L=function(e){return{borderBottomColor:"transparent",backgroundColor:l.a.color(m).fade(e).toRGBA().toString()}},F=l.a.keyframes({from:B("100%"),to:B("50%")}),R={borderBottomWidth:"2px",borderBottomColor:"".concat(p.a.CoreNeutral40),borderBottomStyle:"dotted",backgroundColor:"transparent"},D=l.a.keyframes({to:Object(s._)({},B("0%"),R)}),H=l.a.keyframes({from:L("100%"),to:L("50%")}),V={$nest:(f={},Object(o._)(f,"&.".concat(r.markHeightStandard),{paddingTop:y.standard}),Object(o._)(f,"&.".concat(r.markHeightTall),{paddingTop:y.tall}),Object(o._)(f,"&:not(.".concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,")"),{$nest:Object(o._)({},"&.".concat(r.clarity," &.").concat(r.clarity),{borderBottomStyle:"solid",borderBottomColor:p.a.CoreBlue50})}),Object(o._)(f,"&.".concat(r.correctness,", &.").concat(r.markSelected,", &.").concat(r.markSelectedFocused),{$nest:Object(o._)({},".".concat(r.markVisible,":not(.").concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,").").concat(r.clarity," .").concat(r.markVisible,":not(.").concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,").").concat(r.clarity),{})}),Object(o._)(f,"&.".concat(r.clarity),{$nest:Object(o._)({},"& & &:not(.".concat(r.markSelected,"):not(.").concat(r.markSelectedFocused,")"),{borderBottomStyle:"hidden !important"})}),f)},U={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},W=Object(d.l)((function(){return{custom:function(e,t){var n=l.a.color(e).fade(.25).toRGBA().toString(),i=l.a.keyframes(O(n));return[h,r.markBase,l.a.style(_(i,t,t,n,"solid")),u.a.style(_(i,t,t,n,"solid"),b)].join(" ")},markBase:[r.markBase,l.a.style(g),u.a.style(g,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[r.markAppliedBase,r.markBase,l.a.style({paddingBottom:"".concat("1px"),borderBottom:"".concat("2px"," solid ").concat(m)})].join(" "),correctness:[r.correctness,r.markBase,l.a.style(_(A,p.a.CoreRed50,p.a.CoreRed50,p.a.CoreRed10,"solid")),u.a.style(_(A,p.a.CoreRed50,p.a.CoreRed50,p.a.CoreRed10,"solid"),b)].join(" "),premium:[r.premium,r.markBase,l.a.style(_(I,p.a.CoreYellow40,p.a.CoreYellow40,p.a.CoreYellow10,"dashed")),u.a.style(_(I,p.a.CoreYellow40,p.a.CoreYellow40,p.a.CoreYellow10,"dashed"),b)].join(" "),clarity:[r.clarity,r.markBase,l.a.style(_(T,p.a.CoreBlue50,p.a.CoreBlue50,p.a.CoreBlue10,"dashed")),u.a.style(_(T,p.a.CoreBlue50,p.a.CoreBlue50,p.a.CoreBlue10,"dashed"),b)].join(" "),markVisible:[r.markVisible,l.a.style(V),u.a.style(V)].join(" "),engagement:[r.engagement,r.markBase,l.a.style(_(M,p.a.CoreGreen50,p.a.CoreGreen50,p.a.CoreGreen10,"dashed")),u.a.style(_(M,p.a.CoreGreen50,p.a.CoreGreen50,p.a.CoreGreen10,"dashed"),b)].join(" "),delivery:[r.delivery,r.markBase,l.a.style(_(P,p.a.CorePurple50,p.a.CorePurple50,p.a.CorePurple10,"dashed")),u.a.style(_(P,p.a.CorePurple50,p.a.CorePurple50,p.a.CorePurple10,"dashed"),b)].join(" "),critical:[r.critical,r.markBase,l.a.style(_(C,p.a.CoreRed50,p.a.CoreRed50,p.a.CoreRed10,"solid")),u.a.style(_(C,p.a.CoreRed50,p.a.CoreRed50,p.a.CoreRed10,"solid"),b)].join(" "),advanced:[r.advanced,r.markBase,l.a.style(_(w,p.a.CoreYellow40,p.a.CoreYellow40,p.a.CoreYellow10,"dashed")),u.a.style(_(w,p.a.CoreYellow40,p.a.CoreYellow40,p.a.CoreYellow10,"dashed"),b)].join(" "),plagiarism:[r.plagiarism,r.markBase,l.a.style(_(S,p.a.CoreCyan50,p.a.CoreCyan50,p.a.CoreCyan10,"solid")),u.a.style(_(w,p.a.CoreCyan50,p.a.CoreCyan50,p.a.CoreCyan10,"solid"),b)].join(" "),originality:[r.originality,r.markBase,l.a.style(_(k,p.a.CorePurple50,p.a.CorePurple50,p.a.CorePurple10,"dashed")),u.a.style(_(P,p.a.CorePurple50,p.a.CorePurple50,p.a.CorePurple10,"dashed"),b)].join(" "),vox:[r.vox,r.markBase,l.a.style(_(E,p.a.CoreNeutral50,p.a.CoreNeutral50,p.a.CoreNeutral10,"dashed")),u.a.style(_(E,p.a.CoreNeutral50,p.a.CoreNeutral50,p.a.CoreNeutral10,"dashed"),b)].join(" "),knowledgeHub:[r.knowledgeHub,r.markBase,l.a.style(_(j,p.a.CoreNeutral50,p.a.CoreNeutral50,p.a.CoreNeutral10,"dashed")),u.a.style(_(j,p.a.CoreNeutral50,p.a.CoreNeutral50,p.a.CoreNeutral10,"dashed"),b)].join(" "),synonym:[r.synonym,r.markBase,l.a.style(_(x,p.a.CoreBlue50,"transparent",p.a.CoreBlue50,"solid")),u.a.style(_(x,p.a.CoreBlue50,"transparent",p.a.CoreBlue50,"solid"),b)].join(" "),markAnimated:[r.markAnimated,l.a.style({animation:"".concat(v," .075s ease")})].join(" "),markHidden:[r.markHidden,l.a.style(U),u.a.style(U)].join(" "),markBulkAppliedAnimation:[r.markBulkAppliedAnimation,r.markBase,l.a.style(B("100%"),R,{animation:"".concat(F," 2s linear forwards, ").concat(D," .25s linear 2s forwards")})].join(" "),markBulkApplied:[r.markBulkApplied,r.markBase,l.a.style(_(N,p.a.CoreNeutral40,p.a.CoreGreen10,p.a.CoreGreen10,"solid"),R)].join(" "),markApplied:[r.markApplied,l.a.style(B("100%"),{animation:"".concat(F," .25s linear forwards")})].join(" "),markSuccess:[r.markSuccess,l.a.style(L("100%"),{animation:"".concat(H," .25s linear forwards")})].join(" "),noAnimation:[r.noAnimation,l.a.style({animationDuration:"0s !important"})].join(" "),markSelected:r.markSelected,markSelectedFocused:r.markSelectedFocused,markHeightStandard:r.markHeightStandard,markHeightTall:r.markHeightTall,markStart:r.markStart,markVBar:r.markVBar,markVBarHighlighted:r.markVBarHighlighted}})),z=function(e){return e===i.o.Default?Object(a.a)():W()}},yuAa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=t.GatesService=t.ExperimentType=t.TreatmentService=t.ExperimentClient=t.Gate=t.Experiment=void 0;var r=n("VrWt");Object.defineProperty(t,"Experiment",{enumerable:!0,get:function(){return r.Experiment}}),Object.defineProperty(t,"Gate",{enumerable:!0,get:function(){return r.Gate}}),Object.defineProperty(t,"ExperimentClient",{enumerable:!0,get:function(){return r.ExperimentClient}});var i=n("pzag");Object.defineProperty(t,"TreatmentService",{enumerable:!0,get:function(){return i.TreatmentService}}),Object.defineProperty(t,"ExperimentType",{enumerable:!0,get:function(){return i.ExperimentType}});var a=n("cg8C");Object.defineProperty(t,"GatesService",{enumerable:!0,get:function(){return a.GatesService}});var o=n("JOlZ");Object.defineProperty(t,"PropertiesClient",{enumerable:!0,get:function(){return o.PropertiesClient}})},"z+ZZ":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("nWMp"),i=n("fB2g"),a=n("2swC"),o=n("7Pyj"),s={section:"".concat("report-sections-","section"),sectionHeader:"".concat("report-sections-","sectionHeader"),genericTable:"".concat("report-sections-","genericTable"),text:"".concat("report-sections-","text")},c={borderTop:"1px solid ".concat(a.a.CoreNeutral30),pageBreakInside:"avoid"},l={marginTop:r.a.px(24*o.a),color:a.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:r.a.px(18*o.a),lineHeight:r.a.px(32*o.a)},u={width:r.a.percent(100),tableLayout:"fixed",textAlign:"left"},d={color:a.a.CoreNeutral50,letterSpacing:r.a.px(.11*o.a),fontSize:r.a.px(13*o.a),lineHeight:r.a.px(20*o.a)},p={section:r.a.joinClasses([s.section,i.a.style(c)]),sectionHeader:r.a.joinClasses([s.sectionHeader,i.a.style(l)]),genericTable:r.a.joinClasses([s.genericTable,i.a.style(u)]),text:r.a.joinClasses([s.text,i.a.style(d)])}},z4Di:function(e){e.exports=JSON.parse('{"clearfix":"_0da3ae95-dropzone-clearfix","dropZoneElement":"_4ef28322-dropzone-dropZoneElement","active":"_8d62b4bc-dropzone-active","dropzone":"_d35edbcd-dropzone-dropzone","progressContainer":"_d835c977-dropzone-progressContainer","message":"_886ec073-dropzone-message","dropzoneMiddleblock":"_13180ec2-dropzone-dropzoneMiddleblock","hovered":"_bb302841-dropzone-hovered"}')},zCOz:function(e,t,n){"use strict";n.d(t,"v",(function(){return d})),n.d(t,"z",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return _})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return B})),n.d(t,"u",(function(){return L})),n.d(t,"w",(function(){return F})),n.d(t,"B",(function(){return R})),n.d(t,"x",(function(){return s})),n.d(t,"y",(function(){return D})),n.d(t,"A",(function(){return H})),n.d(t,"d",(function(){return V})),n.d(t,"h",(function(){return U})),n.d(t,"r",(function(){return G})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return x})),n.d(t,"k",(function(){return A})),n.d(t,"t",(function(){return q})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return Z})),n.d(t,"i",(function(){return Y})),n.d(t,"j",(function(){return X})),n.d(t,"s",(function(){return c})),n.d(t,"q",(function(){return Q}));var r=n("B8yO"),i=n.n(r),a=n("K5qu"),o=n("6sgl");const s="undefined"!=typeof document?i.a.useLayoutEffect:()=>{};function c(e){const t=(0,r.useRef)(null);return s(()=>{t.current=e},[e]),(0,r.useCallback)((...e)=>(0,t.current)(...e),[])}function l(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(null),a=c(()=>{let e=i.current.next();e.done?i.current=null:t===e.value?a():n(e.value)});s(()=>{i.current&&a()});let o=c(e=>{i.current=e(t),a()});return[t,o]}let u=new Map;function d(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(null),o=(0,a.b)(t),c=(0,r.useCallback)(e=>{i.current=e},[]);return u.set(o,c),s(()=>{let e=o;return()=>{u.delete(e)}},[o]),(0,r.useEffect)(()=>{let e=i.current;e&&(i.current=null,n(e))}),o}function p(e,t){if(e===t)return e;let n=u.get(e);if(n)return n(t),t;let r=u.get(t);return r?(r(e),e):t}function m(e=[]){let t=d(),[n,i]=l(t),a=(0,r.useCallback)(()=>{i((function*(){yield t,yield document.getElementById(t)?t:void 0}))},[t,i]);return s(a,[t,a,...e]),n}function f(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}function h(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=f(n,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof i?"id"===e&&n&&i?t.id=p(n,i):t[e]=void 0!==i?i:n:t[e]=(0,o.b)(n,i)}}return t}const g=new Set(["id"]),b=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),v=new Set(["href","target","rel","download","ping","referrerPolicy"]),y=/^(data-.*)$/;function O(e,t={}){let{labelable:n,isLink:r,propNames:i}=t,a={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(g.has(t)||n&&b.has(t)||r&&v.has(t)||(null==i?void 0:i.has(t))||y.test(t))&&(a[t]=e[t]);return a}function _(e){if(function(){if(null==C){C=!1;try{document.createElement("div").focus({get preventScroll(){return C=!0,!0}})}catch(e){}}return C}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let C=null;function w(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function S(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function k(){return S(/^Mac/i)}function E(){return S(/^iPad/i)||k()&&navigator.maxTouchPoints>1}function j(){return S(/^iPhone/i)||E()}function x(){return k()||j()}function A(){return w(/AppleWebKit/i)&&!w(/Chrome/i)}function I(){return w(/Android/i)}function T(e,t,n=!0){var r,i;let{metaKey:a,ctrlKey:o,altKey:s,shiftKey:c}=t;w(/Firefox/i)&&(null===(r=window.event)||void 0===r||null===(i=r.type)||void 0===i?void 0:i.startsWith("key"))&&"_blank"===e.target&&(k()?a=!0:o=!0);let l=A()&&k()&&!E()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:o,altKey:s,shiftKey:c}):new MouseEvent("click",{metaKey:a,ctrlKey:o,altKey:s,shiftKey:c,bubbles:!0,cancelable:!0});T.isOpening=n,_(e),e.dispatchEvent(l),T.isOpening=!1}T.isOpening=!1;let M=new Map,P=new Set;function N(){if("undefined"==typeof window)return;let e=t=>{let n=M.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),M.delete(t.target)),0===M.size)){for(let e of P)e();P.clear()}};document.body.addEventListener("transitionrun",t=>{let n=M.get(t.target);n||(n=new Set,M.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)}),document.body.addEventListener("transitionend",e)}function B(e){requestAnimationFrame(()=>{0===M.size?e():P.add(e)})}"undefined"!=typeof document&&("loading"!==document.readyState?N():document.addEventListener("DOMContentLoaded",N));function L(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)((t,n,r,i)=>{let a=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:a,options:i}),t.addEventListener(n,r,i)},[]),n=(0,r.useCallback)((t,n,r,i)=>{var a;let o=(null===(a=e.current.get(r))||void 0===a?void 0:a.fn)||r;t.removeEventListener(n,o,i),e.current.delete(r)},[]),i=(0,r.useCallback)(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return(0,r.useEffect)(()=>i,[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}function F(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;if(n=d(n),i&&r){let e=new Set([n,...i.trim().split(/\s+/)]);i=[...e].join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));return r||i||!t||(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}function R(e,t){const n=(0,r.useRef)(!0),i=(0,r.useRef)(null);(0,r.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]),(0,r.useEffect)(()=>{n.current?n.current=!1:i.current&&!t.some((e,t)=>!Object.is(e,i[t]))||e(),i.current=t},t)}function D(e){const{ref:t,onResize:n}=e;(0,r.useEffect)(()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver(e=>{e.length&&n()});return t.observe(e),()=>{e&&t.unobserve(e)}}}},[n,t])}function H(e,t){s(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}})}function V(e){for(U(e)&&(e=e.parentElement);e&&!U(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function U(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}"undefined"!=typeof document&&window.visualViewport;let W=0;const z=new Map;function G(e){let[t,n]=(0,r.useState)(void 0);return s(()=>{if(!e)return;let t=z.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+W++;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},z.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),z.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function q(e,t,n,i){let a=c(n),o=null==n;(0,r.useEffect)(()=>{if(o)return;let n=e.current;return n.addEventListener(t,a,i),()=>{n.removeEventListener(t,a,i)}},[e,t,i,o,a])}function K(e,t){let n=$(e,t,"left"),r=$(e,t,"top"),i=t.offsetWidth,a=t.offsetHeight,o=e.scrollLeft,s=e.scrollTop,{borderTopWidth:c,borderLeftWidth:l}=getComputedStyle(e),u=e.scrollLeft+parseInt(l,10),d=e.scrollTop+parseInt(c,10),p=u+e.clientWidth,m=d+e.clientHeight;n<=o?o=n-parseInt(l,10):n+i>p&&(o+=n+i-p),r<=d?s=r-parseInt(c,10):r+a>m&&(s+=r+a-m),e.scrollLeft=o,e.scrollTop=s}function $(e,t,n){const r="left"===n?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}function Z(e,t){if(document.contains(e)){let o=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(o).overflow){let t=V(e);for(;e&&t&&e!==o&&t!==o;)K(t,e),t=V(e=t)}else{var n;let{left:o,top:s}=e.getBoundingClientRect();null==e||null===(n=e.scrollIntoView)||void 0===n||n.call(e,{block:"nearest"});let{left:c,top:l}=e.getBoundingClientRect();var r,i,a;if(Math.abs(o-c)>1||Math.abs(s-l)>1)null==t||null===(r=t.containingElement)||void 0===r||null===(i=r.scrollIntoView)||void 0===i||i.call(r,{block:"center",inline:"center"}),null===(a=e.scrollIntoView)||void 0===a||a.call(e,{block:"nearest"})}}}function Y(e){return!(0!==e.mozInputSource||!e.isTrusted)||(I()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function X(e){return!I()&&0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType}function Q(e,t){let n=(0,r.useRef)(null);return e&&n.current&&t(e,n.current)&&(e=n.current),n.current=e,e}},zHRX:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("B8yO"),i=n("mgiE"),a=n("XGsl"),o=n("EFMT"),s=n("vVRF"),c=n("/XMJ"),l=function(e){var t=e.html,n=e.title,c=e.alerts,l=e.plagiarism;return r.createElement(o.a,{className:a.a.textContent},r.createElement(s.e,{title:n,author:i.g.none}),r.createElement(u,{alerts:c,plagiarism:l,html:t}))},u=function(e){var t=e.html,n=e.alerts,i=e.plagiarism,o=Object(c.b)(t,n,i);return r.createElement("div",{className:a.a.text,dangerouslySetInnerHTML:{__html:o}})}},zQvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return v}));var r,i=n("Wy1Y"),a=n("uKMM"),o=n("a5gI"),s=n("tiWp"),c=n("D2TP"),l=n("mEGS"),u=n("o5hd"),d=n("xk6L"),p=n("LFoX"),m=n("d3CI"),f=n("Gwvb"),h=n("TKPA"),g=n("mgiE"),b=n("s1NC");!function(e){!function(e){e.highlightMarkByInlineUpgradeHook=function(e,t,n){return{id:"highlightMarkByInlineUpgradeHook",when:Object(h.p)(c.a.isPremiumId,c.a.isFreePremiumId),what:m.e.Effect.Applicator.create(f.a.getHighlightSubscription(e,t,n).pipe(d.a.switchMapTo(d.a.NEVER)))}}}(e.Effects||(e.Effects={}))}(r||(r={}));var v=function(){function e(t,n,r,a,c,m,f){var h=this;Object(i.a)(this,e),Object(o._)(this,"_inlineManager",void 0),Object(o._)(this,"_alertMarkRectGetter",void 0),Object(o._)(this,"_closeEvent",void 0),Object(o._)(this,"_checkingDomain",void 0),Object(o._)(this,"_inlineUpgradeHookClicked",void 0),Object(o._)(this,"_settings",void 0),Object(o._)(this,"_upgradeViewModel",void 0),Object(o._)(this,"type",void 0),Object(o._)(this,"_emitCloseWhen",void 0),Object(o._)(this,"_toMarkAndAlert",void 0),Object(o._)(this,"state",void 0),this._inlineManager=t,this._alertMarkRectGetter=n,this._closeEvent=r,this._checkingDomain=a,this._inlineUpgradeHookClicked=c,this._settings=m,this._upgradeViewModel=f,this._emitCloseWhen=d.b.listenWhenSome((function(e){var t=e.alert;return h._checkingDomain.state.pipe(d.a.map(l.a.get(t.id)),d.a.filter(g.g.isNone),d.a.merge(h._closeEvent),d.a.tap(h._inlineManager.closeUpgradeHooks))})),this._toMarkAndAlert=g.g.map((function(e){return{alert:e.alert,highlightIndex:e.highlightIndex,getMarkRect:h._alertMarkRectGetter(e)}})),this.state=this._inlineManager.upgradeHookState.pipe(d.a.switchMap(this._emitCloseWhen)).pipe(d.a.switchMap((function(e){return Object(s.pipe)(e,g.g.fold((function(){return h._inlineUpgradeHookClicked.next(g.g.none),d.a.of(g.g.none)}),(function(e){return h._inlineUpgradeHookClicked.next(g.g.some(e.alert)),d.a.of(g.g.some(e))})))})),d.a.map(g.g.filter((function(){return!h._settings.featuresOnboardingSeen.get().has(u.a.SeenPremiumPreviewUnderlines)}))),d.a.tap(g.g.tap((function(e){h._settings.markFeatureOnboarded(u.a.SeenPremiumPreviewUnderlines)}))),d.a.distinctUntilChanged(g.g.getEq(p.a.eq).equals),d.a.map(this._toMarkAndAlert),d.a.share())}return Object(a.a)(e,[{key:"upgrade",value:function(){this._upgradeViewModel.openUpgradeUrl(b.i.Place.DenaliDocument.editorDenaliUpgradeInline)}}]),e}()},"zRh/":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return k}));var r=n("Wy1Y"),i=n("uKMM"),a=n("a5gI"),o=n("hcme"),s=n("DTwm"),c=n("tiWp"),l=n("+vYo"),u=n("Hj2R"),d=n("D2TP"),p=n("mEGS"),m=n("Nsc4"),f=n("La5+"),h=n("xk6L"),g=n("uxqH"),b=n("yIk2"),v=n("lXTq"),y=n("mgiE"),O=n("RRF2"),_=n("TKPA"),C=n("M3t0");function w(e){return function(t){return{id:t.id,categoryHuman:t.toLiteAlert().categoryHuman,lensId:t.lensId,getHighlightRanges:t.getHighlightRanges,content:Object(c.pipe)(t.transform,y.g.filter((function(){return!(u.a.isSuperAlert(t)||u.a.isOneGap(t)||u.f.isSimple(t.extraProperties.cardType)||u.f.isFullSentence(t.extraProperties.cardType))})),y.g.chain(Object(s.flow)(e,y.b.fold((function(e){return C.d.Logging.getLogger("ReportViewModel.hydration").error("Could not hydrate alert",e.error),y.g.none}),y.g.some))),y.b.fromOption((function(){return t.highlightTexts})))}}}var S,k=function(){function e(t,n,i,p,S,k,E,j,x,A,I){var T=this;Object(r.a)(this,e),Object(a._)(this,"_engine",void 0),Object(a._)(this,"_profile",void 0),Object(a._)(this,"_features",void 0),Object(a._)(this,"_notificationsManager",void 0),Object(a._)(this,"_htmlContent",void 0),Object(a._)(this,"_telemetry",void 0),Object(a._)(this,"reportData",void 0),Object(a._)(this,"downloadStarted",void 0),Object(a._)(this,"_log",void 0),Object(a._)(this,"_subs",void 0),Object(a._)(this,"_requestSent",void 0),Object(a._)(this,"_visitLenses",void 0),Object(a._)(this,"beginDownload",void 0),Object(a._)(this,"_finishDownload",void 0),Object(a._)(this,"_getReportModel",void 0),Object(a._)(this,"_alertDataProcessor",void 0),Object(a._)(this,"_listenDownload",void 0),this._engine=t,this._profile=n,this._features=i,this._notificationsManager=p,this._htmlContent=S,this._telemetry=I,this.reportData=l.a.create(y.g.none),this.downloadStarted=l.a.create(!1),this._log=C.d.Logging.getLogger("ReportViewModelImpl"),this._subs=new f.a.Keeper,this._requestSent=l.a.create(!1),this._visitLenses=function(e,t){e.view("currentLens","id").get()!==d.a.SpecialId.Plagiarism&&T._engine.sessionModel.extraSettings.checkedPlagiarism&&t.events.next({type:"switchToLens",id:d.a.SpecialId.Plagiarism,focusFirst:!1,actionSource:u.b.sidebar}),t.events.next({type:"switchToLens",id:d.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:u.b.sidebar})},this.beginDownload=function(){T._telemetry.gnarSpec.detailedReportDownloadButtonClick(T._telemetry.pageId,Object(c.pipe)(T._engine.sessionModel.score.get(),y.g.map(O.e.pick("rank")),y.g.getOrElse(Object(s.constant)(0)))),T.downloadStarted.set(!0)},this._finishDownload=function(){T.downloadStarted.set(!1),T._requestSent.set(!1),T.reportData.set(y.g.none)},this._getReportModel=function(e){return h.a.combineLatestStatic(T._engine.sessionModel.title.view((function(e){return Boolean(e)?e:"Untitled"})),T._engine.sessionModel.recentDocumentStats.pipe(h.b.compact),T._engine.sessionModel.score.pipe(h.b.compact),T._engine.sessionModel.counters,h.a.combineLatestStatic(T._features.isPremium,e).pipe(h.a.map((function(e){var t=Object(o._)(e,2),n=t[0],r=t[1];return n?Object(c.pipe)(r,y.g.map((function(e){return{score:g.a.groupSum.concat(g.a.MAX,g.a.groupSum.inverse(g.a.fromRatio(e.percentile))),sources:e.count,state:v.a.PlagiarismCheckingState.CHECKED,sortedAlerts:T._getFilteredAlerts(u.a.isPlagiarism)}})),y.g.alt((function(){return y.g.some({state:v.a.PlagiarismCheckingState.NOT_CHECKED})}))):y.g.none}))),T._htmlContent).pipe(h.a.map((function(e){var t=Object(o._)(e,6),n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=T._getFilteredAlerts(Object(_.b)(Object(_.b)(u.a.isApplicableAlert,Object(_.m)(u.a.isMuted)),u.a.isRegistered));return y.g.some({sortedAlerts:T._getNonPremiumSortedAlerts(l),dedHTML:c,title:n,author:T._profile.get().fullName,stats:r,score:i.rank,criticalIssues:a.critical,advancedIssues:a.advanced,issues:T._calculateIssues(l),plagiarism:s})})))},this._listenDownload=function(e,t,n,r){T._subs.push(T.downloadStarted.pipe(h.a.filter(Boolean),h.a.switchMap((function(){return h.a.from(T._prepareDownload()).pipe(h.a.timeout(24e3),h.a.tap((function(){return T._visitLenses(e(),n())})),h.a.observeOn(h.a.asapScheduler),h.a.switchMap((function(){return t().flush()})),h.a.switchMapTo(T._getReportModel(r).pipe(h.a.first())),h.a.catchError((function(e){return T._log.error("Error while preparing PDF report",e),T._finishDownload(),T._notificationsManager.enqueue("error").pipe(h.a.mapTo(y.g.none))})))}))).subscribe(b.b.toAtom(T.reportData)))},this._alertDataProcessor=w(k),this._listenDownload(E,j,x,A.view(m.a.lookup(d.a.SpecialId.Plagiarism)))}return Object(i.a)(e,[{key:"_prepareDownload",value:function(){return this._engine.sessionModel.extraSettings.checkedPlagiarism&&!this._features.isFree.get()?this._engine.plagiarismModel.recheck():Promise.resolve()}},{key:"tryToInterrupt",value:function(){this._requestSent.get()||this._finishDownload()}},{key:"_calculateIssues",value:function(e){return e.reduce((function(e,t){var n=d.a.OutcomeId.fromOutcomeId(t.lensId),r=t.toLiteAlert(),i=r.categoryHuman;return e[n]=Boolean(e[n])?e[n]:{},e[n][i]=e[n][i]||0,e[n][i]+=r.cost,e}),{})}},{key:"generateReport",value:function(e,t,n){var r=this;this._requestSent.get()||(this._requestSent.set(!0),this._subs.push(h.a.from(this._engine.sessionModel.generateReport(e,{headerTemplate:t,footerTemplate:n,format:"Letter",marginTop:"70px",marginBottom:"70px"})).pipe(h.a.tap(this._finishDownload),h.a.catchError((function(e){return r._log.error("generateReport failed",e),r._notificationsManager.enqueue("error")}))).subscribe()))}},{key:"_getNonPremiumSortedAlerts",value:function(e){return e.map(this._alertDataProcessor)}},{key:"_getFilteredAlerts",value:function(e){return Object(c.pipe)(this._engine.checkingDomain.state.get(),p.a.reduce([],(function(t,n){return e(n.alert)&&t.push(n.alert),t})))}},{key:"dispose",value:function(){this._subs.dispose()}}]),e}();!function(e){e.Mock=function e(){Object(r.a)(this,e),Object(a._)(this,"downloadStarted",l.a.create(!1)),Object(a._)(this,"beginDownload",_.e),Object(a._)(this,"tryToInterrupt",_.e),Object(a._)(this,"generateReport",(function(){throw new Error("Method not implemented.")})),Object(a._)(this,"reportData",l.a.create(y.g.none)),Object(a._)(this,"dedHTML",""),Object(a._)(this,"dispose",_.e),Object(a._)(this,"sortedAlerts",void 0),Object(a._)(this,"sortedPlagiarismAlerts",void 0)}}(S||(S={}))},zTfX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("TKPA"),a=n("0kuo");!function(e){let t;!function(e){e.mount="mount",e.unmount="unmount",e.headerCloseButtonClick="headerCloseButtonClick",e.headerGoBackButtonClick="headerGoBackButtonClick",e.headerVoiceButtonClick="headerVoiceButtonClick",e.setVoiceButtonClick="setVoiceButtonClick",e.voiceProfileCloseButtonClick="voiceProfileCloseButtonClick",e.voiceProfileUseVoiceButtonClick="voiceProfileUseVoiceButtonClick",e.toneToggleClick="toneToggleClick",e.styleToggleClick="styleToggleClick",e.roleTypeaheadSelectionChange="roleTypeaheadSelectionChange",e.dialectDropdownSelectionChange="dialectDropdownSelectionChange",e.promptFieldTextChange="promptFieldTextChange",e.promptFieldFocusChange="promptFieldFocusChange",e.promptFieldAndMenuFocusChange="promptFieldAndMenuFocusChange",e.actionBrickClick="actionBrickClick",e.promptSubmitButtonClick="promptSubmitButtonClick",e.generateStopButtonClick="generateStopButtonClick",e.promptFieldKeyPressEscape="promptFieldKeyPressEscape",e.promptFieldKeyPressEnter="promptFieldKeyPressEnter",e.promptFieldKeyPressArrowDown="promptFieldKeyPressArrowDown",e.promptFieldKeyPressArrowUp="promptFieldKeyPressArrowUp",e.promptMenuKeyPressArrowDown="promptMenuKeyPressArrowDown",e.promptMenuKeyPressArrowUp="promptMenuKeyPressArrowUp",e.resultCardInsertButtonClick="resultCardInsertButtonClick",e.resultCardRephraseButtonClick="resultCardRephraseButtonClick",e.resultCardDismissButtonClick="resultCardDismissButtonClick",e.resultCardToggleGenericVoiceButtonClick="resultCardToggleGenericVoiceButtonClick",e.errorCardOkButtonClick="errorCardOkButtonClick",e.openFeedbackFormButtonClick="openFeedbackFormButtonClick",e.feedbackFormChange="feedbackFormChange",e.feedbackFormSubmitButtonClick="feedbackFormSubmitButtonClick",e.reportOffensiveResultButtonClick="reportOffensiveResultButtonClick",e.reportOffensiveActionsButtonClick="reportOffensiveActionsButtonClick",e.resultCardHeaderClick="resultCardHeaderClick",e.collapsePromptMenuButtonClick="collapsePromptMenuButtonClick",e.creditsInfoHover="creditsInfoHover",e.creditsInfoClick="creditsInfoClick",e.resultCardHoverChange="resultCardHoverChange",e.resultCardFocusChange="resultCardFocusChange",e.resultCardCopy="resultCardCopy",e.reportMenuVisibilityChange="reportMenuVisibilityChange",e.referencesVisibilityChange="referencesVisibilityChange",e.voiceProfileTabChange="voiceProfileTabChange",e.voiceTagClick="voiceTagClick",e.voiceTagPopoverClose="voiceTagPopoverClose",e.voiceTagPopoverKeepButtonClick="voiceTagPopoverKeepButtonClick",e.voiceTagPopoverRemoveButtonClick="voiceTagPopoverRemoveButtonClick",e.voiceDialectDropdownSelectionChange="voiceDialectDropdownSelectionChange",e.voiceRoleDropdownSelectionChange="voiceRoleDropdownSelectionChange",e.voiceSelectionsSaveButtonClick="voiceSelectionsSaveButtonClick",e.voiceSelectionsCancelButtonClick="voiceSelectionsCancelButtonClick",e.voiceSelectionsEditButtonClick="voiceSelectionsEditButtonClick",e.surveyRatingSelectionChange="surveyRatingSelectionChange",e.surveyOpenAnswerChange="surveyOpenAnswerChange",e.surveySubmitButtonClick="surveySubmitButtonClick",e.surveyKeyPressShiftEnter="surveyKeyPressShiftEnter",e.surveyCancelButtonClick="surveyCancelButtonClick",e.surveyCloseButtonClick="surveyCloseButtonClick",e.regenerateWithoutReferenceButtonClick="regenerateWithoutReferenceButtonClick",e.restoreHistoryButtonClick="restoreHistoryButtonClick",e.userPromptSubmit="userPromptSubmit",e.radioOptionsSubmitButtonClick="radioOptionsSubmitButtonClick",e.radioOptionsCancelButtonClick="radioOptionsCancelButtonClick",e.removeSelectionContextClick="removeSelectionContextClick",e.selectionContextInteraction="selectionContextInteraction",e.settingsButtonClick="settingsButtonClick",e.toneReportToneLikeButtonClick="toneReportToneLikeButtonClick",e.toneReportToneDislikeButtonClick="toneReportToneDislikeButtonClick"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e},e.isResultAction=Object(i.p)(e.is(e.Kind.resultCardInsertButtonClick),e.is(e.Kind.resultCardRephraseButtonClick),e.is(e.Kind.resultCardDismissButtonClick),e.is(e.Kind.reportOffensiveResultButtonClick),e.is(e.Kind.regenerateWithoutReferenceButtonClick)),e.isToneDetectorAction=Object(i.p)(e.is(e.Kind.toneReportToneLikeButtonClick),e.is(e.Kind.toneReportToneDislikeButtonClick)),e.isSurveyAction=Object(i.p)(e.is(e.Kind.surveyOpenAnswerChange),e.is(e.Kind.surveySubmitButtonClick),e.is(e.Kind.surveyKeyPressShiftEnter),e.is(e.Kind.surveyCancelButtonClick),e.is(e.Kind.surveyCloseButtonClick),e.is(e.Kind.surveyRatingSelectionChange)),e.isSurveyImplicitDismissAction=Object(i.p)(e.is(e.Kind.promptSubmitButtonClick),e.is(e.Kind.actionBrickClick),e.is(e.Kind.resultCardInsertButtonClick),e.is(e.Kind.resultCardRephraseButtonClick),e.is(e.Kind.resultCardDismissButtonClick),e.is(e.Kind.resultCardHeaderClick))}(r||(r={})),Object(a.d)(void 0)},zcvI:function(e){e.exports=JSON.parse('{"timeWrapper":"_809bb1a6-order-success-timeWrapper","time":"_f52fdec8-order-success-time","date":"_35082421-order-success-date","description":"_1fcde546-order-success-description"}')},zjpx:function(e){e.exports=JSON.parse('{"header1":"_866c9071-order-form-header1","header2":"_a3e3d811-order-form-header2","header3":"_fbbc2be4-order-form-header3","header3legacy":"_bc333130-order-form-header3legacy","button":"_67a6e21a-order-form-button","header4":"_309a9d8f-order-form-header4","paper":"_bf1f7f92-order-form-paper","base":"_e293693a-order-form-base","small":"_975f6afd-order-form-small","smallLight":"_ba9e46d4-order-form-smallLight","score":"_8f97a98e-order-form-score","lawyer":"_08711bf0-order-form-lawyer","title":"_4add4ed8-order-form-title","p1":"_2ad0c26e-order-form-p1","header5":"_2982052d-order-form-header5","content":"_edb7f18c-order-form-content","proofitDetailsWrapper":"_44d7e1c1-order-form-proofitDetailsWrapper","tierTitleContainer":"_f8bf8f60-order-form-tierTitleContainer","tierTitle":"_8603babe-order-form-tierTitle","helpMeChooseBtn":"_e4b39f11-order-form-helpMeChooseBtn _e293693a-order-form-base","helpMeChoose":"_1d83a5a5-order-form-helpMeChoose","plansTitle":"_11c9811d-order-form-plansTitle","plansContainer":"_841b1701-order-form-plansContainer","planTitle":"_2157cb75-order-form-planTitle","pre":"_18db77eb-order-form-pre","priceWrapper":"_1a8f2294-order-form-priceWrapper","price":"_623056b0-order-form-price","priceFree":"_5096fbed-order-form-priceFree","termsContainer":"_39c11f94-order-form-termsContainer","agreeTermsCheckbox":"_c76a0025-order-form-agreeTermsCheckbox","termsLinkBtn":"_a2390065-order-form-termsLinkBtn","termsLink":"_b8099a1b-order-form-termsLink","label":"_b7bc782f-order-form-label","recommended":"_ca1dbb49-order-form-recommended _b7bc782f-order-form-label","planWrapper":"_34b786a3-order-form-planWrapper","planWrapperDisabled":"_535ad9cd-order-form-planWrapperDisabled _34b786a3-order-form-planWrapper","plans":"_f0dbb926-order-form-plans","planContainer":"_21288cbf-order-form-planContainer","freeCreditsRemained":"_b0ad93e7-order-form-freeCreditsRemained","selectPlanButton":"_ebc669c7-order-form-selectPlanButton","selectFreePlanButton":"_f94a9008-order-form-selectFreePlanButton","paymentWarning":"_5f602e5f-order-form-paymentWarning","loader":"_e6f9779d-order-form-loader","iconContainer":"_09ae44a3-order-form-iconContainer","planLoading":"_05e6a201-order-form-planLoading","placeOrderButton":"_02ed7d78-order-form-placeOrderButton","placeOrderButtonCaption":"_d2a3e1e4-order-form-placeOrderButtonCaption","black":"_704c4ebc-order-form-black","closeButton":"_4e11aeb5-order-form-closeButton","descriptionDisabled":"_70e0baeb-order-form-descriptionDisabled","summary":"_2ddfe54a-order-form-summary","summaryButtons":"_e211c4ad-order-form-summaryButtons","claritySplitButton":"_c79a0270-order-form-claritySplitButton","claritySplitButtonBase":"_dfce1f68-order-form-claritySplitButtonBase","claritySplitButtonClarity":"_1aec4fc1-order-form-claritySplitButtonClarity"}')},zpyO:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("09dI"),i=n("nWMp"),a=n("2swC"),o=n("NbNH"),s=n("PKYJ"),c=n("RCgc");const l=`0 ${i.a.rem(.25)} ${i.a.rem(1.625)} 0 rgba(198, 203, 222, .25)`,u={marginRight:i.a.rem(1),flexShrink:0,maxWidth:i.a.percent(100)},d={padding:"0 "+i.a.rem(1)},p={padding:`0 ${i.a.rem(1.9)} 0 ${i.a.rem(1)}`},m={position:"absolute",top:i.a.rem(.27),right:i.a.rem(.5)},f={display:"grid",width:i.a.percent(100),gridTemplateColumns:"fit-content(60%) auto min-content",columnGap:i.a.rem(.5),alignItems:"center"},h={minWidth:i.a.rem(7)},g={marginLeft:i.a.rem(.5)},b={color:a.a.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:i.a.rem(1.5)},v={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic",paddingRight:i.a.rem(r.o.Space.Space1)},y={$nest:{"&:before":Object(c.a)(i.a.rem(.5),-10,i.a.rem(-.5),l,i.a.rem(o.s)),"&:after":Object(c.a)(i.a.rem(1),-20,i.a.rem(-1),l,i.a.rem(o.s))}},O={boxShadow:s.b.llamaShadowToken,borderRadius:i.a.rem(i.d.radius1)},_={transition:"opacity .2s"},C=i.a.prefixedStylesheet("super",{updateAllBtnCommon:[u],updateAllBtn:[u,d],updateAllBtnLoading:[u,p],updateBtnSpinner:[m],optionsContainer:[f],optionLabel:[h],optionRadio:[g],optionSecondaryAttribute:[b],optionExample:[b,v],superWrapper:[y],sduiSuperWrapper:[O],loadingWrapper:[_],loadingWrapperInvisible:[_,{opacity:0,pointerEvents:"none"}]})},"zvK+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("a5gI"),i=n("tiWp"),a=n("+vYo"),o=n("mgiE"),s=n("TKPA"),c=n("M3t0"),l=n("xk6L"),u=n("Sqy8"),d=n("YqdJ");class p{constructor(e){Object(r._)(this,"_validateOffset",void 0),Object(r._)(this,"_log",void 0),Object(r._)(this,"scrollTop",void 0),Object(r._)(this,"paddingTop",void 0),Object(r._)(this,"viewport",void 0),Object(r._)(this,"scrollOffset",void 0),Object(r._)(this,"moveCardsBy",void 0),Object(r._)(this,"moveCardsByAnimated",void 0),this._validateOffset=e,this._log=c.d.Logging.getLogger("CardsListScrollManager"),this.scrollTop=a.a.create(0),this.paddingTop=a.a.create(0),this.viewport=a.a.create({top:d.b.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new l.a.Subject,this.moveCardsBy=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),this.scrollOffset.next(e),o.b.right(void 0)),this.moveCardsByAnimated=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),l.a.Observable.create(t=>Object(i.pipe)(this._validateOffset(e,this),o.b.fold(e=>(t.thrownError(e),s.e),()=>{const n=2*this.viewport.get().height,r=Math.abs(e)>n?(e>0?1:-1)*n:e,i=e-r,a=u.a.createAnimationObservable(0,r,200).pipe(l.a.pairwise(),l.a.map(([e,t])=>t-e),l.a.startWith(i),l.a.tap(e=>this.scrollOffset.next(e))).subscribe({error:e=>t.error(e),complete:()=>t.complete()});return()=>a.unsubscribe()}))))}}class m{getContentOffset(e){throw new Error("Method not implemented.")}moveCardsBy(e,t){throw new Error("Method not implemented.")}moveCardsByAnimated(e,t){throw new Error("Method not implemented.")}constructor(){Object(r._)(this,"viewport",void 0),Object(r._)(this,"scrollTop",void 0),Object(r._)(this,"paddingTop",void 0),Object(r._)(this,"scrollOffset",l.a.of(42))}}}}]);